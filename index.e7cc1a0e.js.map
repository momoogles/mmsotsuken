{"mappings":"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CA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAIW6hC,EAAM7hC,EAAO,CACxB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAGW8hC,EAAa9hC,EAAO,CAC/B,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAOW+hC,EAAgB/hC,EAAO,CAClC,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAGWgiC,EAAShiC,EAAO,CAC3B,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAKWiiC,EAAmBjiC,EAAO,CACrC,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAGWz3B,EAAOy3B,EAAO,CAAC,UCpRf4hC,EAAO5hC,EAAO,CACzB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAGW6hC,EAAM7hC,EAAO,CACxB,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAGWgiC,EAAShiC,EAAO,CAC3B,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAGWkiC,EAAMliC,EAAO,CACxB,aACA,SACA,cACA,YACA,gBCrWWmiC,EAAgB/wB,EAAI,6BACpBgxB,EAAWhxB,EAAI,yBACfixB,EAAYjxB,EAAI,8BAChBkxB,EAAYlxB,EAAI,kBAChBmxB,EAAiBnxB,EAAI,yFAGrBoxB,EAAoBpxB,EAAI,yBACxBqxB,EAAkBrxB,EAAI,+DAGtBsxB,GAAetxB,EAAI,WCM1BuxB,GAAY,iBAAyB,oBAAX54E,OAAyB,KAAOA,M,EAU1D64E,GAA4B,SAAUC,EAAc74E,GAEtD,GAAwB,WAAxB84E,EAAOD,IAC8B,mBAA9BA,EAAaE,aAEpB,OAAO,KAMLC,MAAS,KACPC,EAAY,wBAEhBj5E,EAASk5E,eACTl5E,EAASk5E,cAAcx/B,aAAau/B,KAEpCD,EAASh5E,EAASk5E,cAAc/9B,aAAa89B,IAGzCE,MAAa,aAAeH,EAAS,IAAMA,EAAS,IAEtD,IACF,OAAOH,EAAaE,aAAaI,EAAY,CAC3CC,WAAWxB,YACT,OAAOA,C,EAETyB,gBAAgBC,YACd,OAAOA,C,IAGX,MAAOj6B,GAOP,OAHA/nB,QAAQ6xC,KACN,uBAAyBgQ,EAAa,0BAEjC,I,GAIX,SAASI,KAAgBx5E,MAAS44E,4DAC1Ba,EAAY,SAAC9H,GAAS6H,UAAgB7H,E,EAc5C,GARA8H,EAAUpzC,QAAUqzC,QAMpBD,EAAUE,QAAU,IAEf35E,IAAWA,EAAOC,UAAyC,IAA7BD,EAAOC,SAASgI,SAKjD,OAFAwxE,EAAUG,aAAc,EAEjBH,EAGT,IAAMI,EAAmB75E,EAAOC,SAE1BA,EAAaD,EAAbC,SAEJ65E,EASE95E,EATF85E,iBACAC,EAQE/5E,EARF+5E,oBACAC,EAOEh6E,EAPFg6E,KACAC,EAMEj6E,EANFi6E,QACAC,EAKEl6E,EALFk6E,WAKEl6E,IAJFm6E,oBANF,IAAAC,EAMiBp6E,EAAOm6E,cAAgBn6E,EAAOq6E,gBAN/CD,EAOEE,EAGEt6E,EAHFs6E,gBACAC,EAEEv6E,EAFFu6E,UACAzB,EACE94E,EADF84E,aAGI0B,EAAmBP,EAAQtpF,UAE3B8pF,EAAY/C,EAAa8C,EAAkB,aAC3CE,EAAiBhD,EAAa8C,EAAkB,eAChDG,EAAgBjD,EAAa8C,EAAkB,cAC/CI,EAAgBlD,EAAa8C,EAAkB,cAQrD,GAAmC,mBAAxBT,EAAoC,CAC7C,IAAMhwB,EAAW9pD,EAASC,cAAc,YACpC6pD,EAASnR,SAAWmR,EAASnR,QAAQtyC,gBACvCrG,EAAW8pD,EAASnR,QAAQtyC,c,CAIhC,IAAMu0E,GAAqBhC,GACzBC,EACAe,GAEIiB,GAAYD,GAAqBA,GAAmBxB,WAAW,IAAM,GAE3E0B,GAKI96E,EAJFoxB,GADF0pD,GACE1pD,eACA2pD,GAFFD,GAEEC,mBACAtT,GAHFqT,GAGErT,uBACAuT,GAJFF,GAIEE,qBAEMC,GAAerB,EAAfqB,WAEJ79D,GAAe,GACf,IACFA,GAAeu0D,EAAM3xE,GAAUod,aAAepd,EAASod,aAAe,EAC5D,CAAV,MAAOiiC,GAAG,CAER67B,OAAQ,GAKZ1B,EAAUG,YACiB,mBAAlBgB,GACPvpD,SAC6C,IAAtCA,GAAe+pD,oBACL,IAAjB/9D,GAEF,IA+MIg+D,GAGA/D,GAjNFc,GAMEkD,EALFjD,GAKEiD,EAJFhD,GAIEgD,EAHF/C,GAGE+C,EAFF7C,GAEE6C,EADF5C,GACE4C,EAEE9C,GAAmB8C,EAQrBC,GAAe,KACbC,GAAuBnE,EAAS,GAAD,GAAA1yD,OAAAyxD,EAChCqF,GADgCrF,EAEhCqF,GACAA,KACAA,KACAA,OAIDC,GAAe,KACbC,GAAuBtE,EAAS,GACjCuE,eADgCxF,EAEhCwF,GAFgCxF,EAGhCwF,GACAA,OASCC,GAA0BhsF,OAAOw3D,KACrCx3D,OAAO2lC,OAAO,KAAM,CAClBsmD,aAAc,CACZ1yB,UAAU,EACVrkD,cAAc,EACdC,YAAY,EACZ3M,MAAO,MAET0jF,mBAAoB,CAClB3yB,UAAU,EACVrkD,cAAc,EACdC,YAAY,EACZ3M,MAAO,MAET2jF,+BAAgC,CAC9B5yB,UAAU,EACVrkD,cAAc,EACdC,YAAY,EACZ3M,OAAO,MAMT4jF,GAAc,KAGdC,GAAc,KAGdC,IAAkB,EAGlBC,IAAkB,EAGlBC,IAA0B,EAK1BC,IAAqB,EAGrBC,IAAiB,EAGjBC,IAAa,EAIbC,IAAa,EAMbC,IAAa,EAIbC,IAAsB,EAItBC,IAAsB,EAKtBC,IAAe,EAefC,IAAuB,EACrBC,GAA8B,gBAGhCC,IAAe,EAIfC,IAAW,EAGXC,GAAe,GAGfC,GAAkB,KAChBC,GAA0B/F,EAAS,GAAI,CAC3C,iBACA,QACA,WACA,OACA,gBACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,QACA,UACA,WACA,WACA,YACA,SACA,QACA,MACA,WACA,QACA,QACA,QACA,QAIEgG,GAAgB,KACdC,GAAwBjG,EAAS,GAAI,CACzC,QACA,QACA,MACA,SACA,QACA,UAIEkG,GAAsB,KACpBC,GAA8BnG,EAAS,GAAI,CAC/C,MACA,QACA,MACA,KACA,QACA,OACA,UACA,cACA,OACA,UACA,QACA,QACA,QACA,UAGIoG,GAAmB,qCACnBC,GAAgB,6BAChBC,GAAiB,+BAEnBC,GAAYD,GACZE,IAAiB,EAIfC,GAA+B,CAAC,wBAAyB,aACzDC,GAA4B,YAI9BC,GAAS,KAKPC,GAAch+E,EAASC,cAAc,QAErCg+E,GAAoB,SAAUC,GAClC,OAAOA,aAAqB1lC,QAAU0lC,aAAqBp1B,Q,EASvDq1B,GAAe,SAAUC,GACzBL,IAAUA,KAAWK,IAKpBA,GAAsB,WAAftF,EAAOsF,KACjBA,EAAM,IAIRA,EAAMzM,EAAMyM,GAEZhD,GAGOA,IAD2D,IAAhEyC,GAA6B3yE,QAAQkzE,EAAIhD,mBAChB0C,GACAM,EAAIhD,kBAG/B/D,GACwB,0BAAtB+D,GACI,SAACx1D,GAAD,OAAOA,C,EACP4wD,EAGN8E,GACE,iBAAkB8C,EACdhH,EAAS,GAAIgH,EAAI9C,aAAcjE,IAC/BkE,GACNE,GACE,iBAAkB2C,EACdhH,EAAS,GAAIgH,EAAI3C,aAAcpE,IAC/BqE,GACN4B,GACE,sBAAuBc,EACnBhH,EACEzF,EAAM4L,IACNa,EAAIC,kBACJhH,IAEFkG,GACNH,GACE,sBAAuBgB,EACnBhH,EACEzF,EAAM0L,IACNe,EAAIE,kBACJjH,IAEFgG,GACNH,GACE,oBAAqBkB,EACjBhH,EAAS,GAAIgH,EAAIlB,gBAAiB7F,IAClC8F,GACNnB,GACE,gBAAiBoC,EACbhH,EAAS,GAAIgH,EAAIpC,YAAa3E,IAC9B,GACN4E,GACE,gBAAiBmC,EACbhH,EAAS,GAAIgH,EAAInC,YAAa5E,IAC9B,GACN4F,GAAe,iBAAkBmB,GAAMA,EAAInB,aAC3Cf,IAA0C,IAAxBkC,EAAIlC,gBACtBC,IAA0C,IAAxBiC,EAAIjC,gBACtBC,GAA0BgC,EAAIhC,0BAA2B,EACzDC,GAAqB+B,EAAI/B,qBAAsB,EAC/CC,GAAiB8B,EAAI9B,iBAAkB,EACvCG,GAAa2B,EAAI3B,aAAc,EAC/BC,GAAsB0B,EAAI1B,sBAAuB,EACjDC,GAAsByB,EAAIzB,sBAAuB,EACjDH,GAAa4B,EAAI5B,aAAc,EAC/BI,IAAoC,IAArBwB,EAAIxB,aACnBC,GAAuBuB,EAAIvB,uBAAwB,EACnDE,IAAoC,IAArBqB,EAAIrB,aACnBC,GAAWoB,EAAIpB,WAAY,EAC3BzE,GAAiB6F,EAAIG,oBAAsBhG,GAC3CoF,GAAYS,EAAIT,WAAaD,GAE3BU,EAAIxC,yBACJqC,GAAkBG,EAAIxC,wBAAwBC,gBAE9CD,GAAwBC,aACtBuC,EAAIxC,wBAAwBC,cAI9BuC,EAAIxC,yBACJqC,GAAkBG,EAAIxC,wBAAwBE,sBAE9CF,GAAwBE,mBACtBsC,EAAIxC,wBAAwBE,oBAI9BsC,EAAIxC,yBAEF,kBADKwC,EAAIxC,wBAAwBG,iCAGnCH,GAAwBG,+BACtBqC,EAAIxC,wBAAwBG,gCAG5BM,KACFF,IAAkB,GAGhBO,KACFD,IAAa,GAIXQ,KACF3B,GAAelE,EAAS,GAAQoE,MAChCC,GAAe,IACW,IAAtBwB,GAAarF,OACfR,EAASkE,GAAcE,GACvBpE,EAASqE,GAAcE,KAGA,IAArBsB,GAAapF,MACfT,EAASkE,GAAcE,GACvBpE,EAASqE,GAAcE,GACvBvE,EAASqE,GAAcE,KAGO,IAA5BsB,GAAanF,aACfV,EAASkE,GAAcE,GACvBpE,EAASqE,GAAcE,GACvBvE,EAASqE,GAAcE,KAGG,IAAxBsB,GAAajF,SACfZ,EAASkE,GAAcE,GACvBpE,EAASqE,GAAcE,GACvBvE,EAASqE,GAAcE,KAKvByC,EAAII,WACFlD,KAAiBC,KACnBD,GAAe3J,EAAM2J,KAGvBlE,EAASkE,GAAc8C,EAAII,SAAUnH,KAGnC+G,EAAIK,WACFhD,KAAiBC,KACnBD,GAAe9J,EAAM8J,KAGvBrE,EAASqE,GAAc2C,EAAIK,SAAUpH,KAGnC+G,EAAIC,mBACNjH,EAASkG,GAAqBc,EAAIC,kBAAmBhH,IAGnD+G,EAAIlB,kBACFA,KAAoBC,KACtBD,GAAkBvL,EAAMuL,KAG1B9F,EAAS8F,GAAiBkB,EAAIlB,gBAAiB7F,KAI7C0F,KACFzB,GAAa,UAAW,GAItBgB,IACFlF,EAASkE,GAAc,CAAC,OAAQ,OAAQ,SAItCA,GAAaoD,QACftH,EAASkE,GAAc,CAAC,iBACjBU,GAAY2C,OAKjB3oC,GACFA,EAAOooC,GAGTL,GAASK,E,EAGLQ,GAAiCxH,EAAS,GAAI,CAClD,KACA,KACA,KACA,KACA,UAGIyH,GAA0BzH,EAAS,GAAI,CAC3C,gBACA,OACA,QACA,mBAOI0H,GAA+B1H,EAAS,GAAI,CAChD,QACA,QACA,OACA,IACA,WAMI2H,GAAe3H,EAAS,GAAIoE,GAClCpE,EAAS2H,GAAcvD,GACvBpE,EAAS2H,GAAcvD,GAEjBwD,OAAkB5H,EAAS,GAAIoE,GACrCpE,EAAS4H,GAAiBxD,GAU1B,IAAMyD,GAAuB,SAAUx8D,GACrC,IAAI82B,EAASohC,EAAcl4D,GAItB82B,GAAWA,EAAOxnB,UACrBwnB,EAAS,CACPjyC,aAAco2E,GACd3rD,QAAS,aAIb,IAAMA,EAAUykD,EAAkB/zD,EAAQsP,SACpCmtD,EAAgB1I,EAAkBj9B,EAAOxnB,SAE/C,OAAItP,EAAQnb,eAAiBm2E,GAIvBlkC,EAAOjyC,eAAiBo2E,GACP,QAAZ3rD,EAMLwnB,EAAOjyC,eAAiBk2E,GAEZ,QAAZzrD,IACmB,mBAAlBmtD,GACCN,GAA+BM,IAM9B1oC,QAAQuoC,GAAahtD,IAG1BtP,EAAQnb,eAAiBk2E,GAIvBjkC,EAAOjyC,eAAiBo2E,GACP,SAAZ3rD,EAKLwnB,EAAOjyC,eAAiBm2E,GACP,SAAZ1rD,GAAsB8sD,GAAwBK,GAKhD1oC,QAAQwoC,GAAgBjtD,IAG7BtP,EAAQnb,eAAiBo2E,MAKzBnkC,EAAOjyC,eAAiBm2E,KACvBoB,GAAwBK,OAMzB3lC,EAAOjyC,eAAiBk2E,KACvBoB,GAA+BM,MAQ/BF,GAAgBjtD,KAChB+sD,GAA6B/sD,KAAagtD,GAAahtD,G,EAexDotD,GAAe,SAAU5+D,GAC7Bg2D,EAAUiD,EAAUE,QAAS,CAAEj3D,QAASlC,IACpC,IAEFA,EAAKzT,WAAWpF,YAAY6Y,E,CAC5B,MAAO8+B,GACH,IACF9+B,EAAK6+D,UAAYvE,E,CACjB,MAAOx7B,GACP9+B,EAAK8+D,Q,IAWLC,GAAmB,SAAUp7E,EAAMqc,GACnC,IACFg2D,EAAUiD,EAAUE,QAAS,CAC3B6F,UAAWh/D,EAAKi/D,iBAAiBt7E,GACjCu7E,KAAMl/D,G,CAER,MAAO8+B,GACPk3B,EAAUiD,EAAUE,QAAS,CAC3B6F,UAAW,KACXE,KAAMl/D,G,CAONrc,GAHJqc,EAAK5e,gBAAgBuC,GAGR,OAATA,IAAkBu3E,GAAav3E,GAC7Bu4E,OAAcC,GACZ,IACFyC,GAAa5+D,EACH,CAAV,MAAO8+B,GAAG,MAER,IACF9+B,EAAK3e,aAAasC,EAAM,GACd,CAAV,MAAOm7C,GAAG,C,EAWZqgC,GAAgB,SAAUC,GAE9B,IAAIC,EACAC,EAEJ,GAAIrD,GACFmD,EAAQ,oBAAsBA,MACzB,CAEL,IAAMhgB,EAAU8W,EAAYkJ,EAAD,eAC3BE,EAAoBlgB,GAAWA,EAAQ,E,CAGf,0BAAtByb,KAEFuE,EACE,iEACAA,EACA,kBAGEG,MAAelF,GACjBA,GAAmBxB,WAAWuG,GAC9BA,EAKAhC,QAAcD,GACZ,IACFkC,GAAM,IAAItF,GAAYyF,gBAAgBD,EAAc1E,GAC1C,CAAV,MAAO/7B,GAAG,CAId,IAAKugC,IAAQA,EAAIt+D,gBAAiB,CAChCs+D,EAAMxuD,GAAe4uD,eAAerC,GAAW,WAAY,MACvD,IACFiC,EAAIt+D,gBAAgB/Z,UAAYq2E,GAAiB,GAAKkC,CAC5C,CAAV,MAAOzgC,GAAG,C,CAKR75C,MAAOo6E,EAAIp6E,MAAQo6E,EAAIt+D,gBAUzBq8D,OARAgC,GAASE,GACXr6E,EAAKk4B,aACH19B,EAASq8B,eAAewjD,GACxBr6E,EAAKi0C,WAAW,IAAM,MAKtBkkC,KAAcD,GACT1C,GAAqBnpF,KAC1B+tF,EACAtD,GAAiB,OAAS,QAC1B,GAGGA,GAAiBsD,EAAIt+D,gBAAkB9b,C,EAS1Cy6E,GAAkB,SAAUvO,GACzBqJ,UAAmBlpF,KACxB6/E,EAAKrrE,eAAiBqrE,EACtBA,EAEAuI,EAAWiG,aAAejG,EAAWkG,aAAelG,EAAWmG,UAC/D,MACA,E,EAUEC,GAAe,SAAUC,GAC7B,OACEA,aAAejG,IACU,iBAAjBiG,EAAI77E,UACiB,iBAApB67E,EAAIr5E,aACgB,mBAApBq5E,EAAI54E,eACT44E,EAAIna,sBAAsB+T,IACG,mBAAxBoG,EAAI3+E,iBACiB,mBAArB2+E,EAAI1+E,cACiB,iBAArB0+E,EAAIh5E,cACiB,mBAArBg5E,EAAI5iD,a,EAUX6iD,GAAU,SAAUhJ,GACxB,MAAuB,WAAhBuB,EAAOiB,GACVxC,aAAkBwC,EAClBxC,GACoB,WAAlBuB,EAAOvB,IACoB,iBAApBA,EAAOvvE,UACa,iBAApBuvE,EAAO9yE,Q,EAWhB+7E,GAAe,SAAUC,EAAYC,EAAa9mE,GACjDshE,GAAMuF,IAIXrK,EAAa8E,GAAMuF,IAAa,SAACE,GAC/BA,EAAK9uF,KAAK2nF,EAAWkH,EAAa9mE,EAAMmkE,G,KActC6C,GAAoB,SAAUF,GAClC,IAAI/nC,EAMJ,GAHA6nC,GAAa,yBAA0BE,EAAa,MAGhDL,GAAaK,GAEf,OADAvB,GAAauB,IACN,EAIL7J,KAAU,kBAAoB6J,EAAYj8E,UAE5C,OADA06E,GAAauB,IACN,EAIT,IAAM3uD,EAAUslD,GAAkBqJ,EAAYj8E,UAU5Ci8E,GAPFF,GAAa,sBAAuBE,EAAa,CAC/C3uD,UACA8uD,YAAavF,KAKboF,EAAYI,kBACXP,GAAQG,EAAYK,sBACnBR,GAAQG,EAAY/nC,WACnB4nC,GAAQG,EAAY/nC,QAAQooC,qBAC/BlK,EAAU,UAAY6J,EAAYn5E,YAClCsvE,EAAU,UAAY6J,EAAYz5E,aAGlC,OADAk4E,GAAauB,IACN,EAIT,GACc,WAAZ3uD,GACA8kD,EAAU,aAAe6J,EAAYn5E,WAGrC,OADA43E,GAAauB,IACN,EAIL,IAACpF,GAAavpD,IAAYiqD,GAAYjqD,GAAU,CAE9C,IAACiqD,GAAYjqD,IAAYivD,GAAwBjvD,GAAU,CAC7D,GACE6pD,GAAwBC,wBAAwBrjC,QAChDq+B,EAAW+E,GAAwBC,aAAc9pD,GAEjD,OAAO,EACT,GACE6pD,GAAwBC,wBAAwB/yB,UAChD8yB,GAAwBC,aAAa9pD,GAErC,OAAO,C,CAIX,GAAIgrD,KAAiBG,GAAgBnrD,GAAU,CACvCjlB,MAAa6tE,EAAc+F,IAAgBA,EAAY5zE,WACvD2sC,EAAaihC,EAAcgG,IAAgBA,EAAYjnC,WAEzDA,MAAc3sC,EAGhB,IAFA,IAESjd,EAFU4pD,EAAW3pD,OAEJ,EAAGD,GAAK,IAAKA,EACrCid,EAAW4wB,aACT88C,EAAU/gC,EAAW5pD,IAAI,GACzB4qF,EAAeiG,G,CAOvB,OADAvB,GAAauB,IACN,C,CAILA,oBAAuB1G,IAAYiF,GAAqByB,IAC1DvB,GAAauB,IACN,GAIM,aAAZ3uD,GAAsC,YAAZA,IAC3B8kD,EAAU,uBAAyB6J,EAAYn5E,YAO7C80E,IAA+C,IAAzBqE,EAAY14E,WAEpC2wC,EAAU+nC,EAAYz5E,YACtB0xC,EAAU+9B,EAAc/9B,EAASw/B,GAAe,KAChDx/B,EAAU+9B,EAAc/9B,EAASy/B,GAAU,KACvCsI,EAAYz5E,cAAgB0xC,IAC9B49B,EAAUiD,EAAUE,QAAS,CAAEj3D,QAASi+D,EAAYlG,cACpDkG,EAAYz5E,YAAc0xC,IAK9B6nC,GAAa,wBAAyBE,EAAa,OAE5C,IAnBLvB,GAAauB,IACN,E,EA8BLO,GAAoB,SAAUC,EAAOC,EAAQ/oF,GAEjD,GACEwkF,KACY,OAAXuE,GAA8B,SAAXA,KACnB/oF,KAAS4H,GAAY5H,KAAS4lF,IAE/B,OAAO,EAOT,GACE7B,KACCF,GAAYkF,IACbtK,EAAWwB,GAAW8I,SAGjB,GAAIjF,IAAmBrF,EAAWyB,GAAW6I,SAG7C,IAAK1F,GAAa0F,IAAWlF,GAAYkF,IAE5C,KAGCH,GAAwBE,KACrBtF,GAAwBC,wBAAwBrjC,QAChDq+B,EAAW+E,GAAwBC,aAAcqF,IAChDtF,GAAwBC,wBAAwB/yB,UAC/C8yB,GAAwBC,aAAaqF,MACvCtF,GAAwBE,8BAA8BtjC,QACtDq+B,EAAW+E,GAAwBE,mBAAoBqF,IACtDvF,GAAwBE,8BAA8BhzB,UACrD8yB,GAAwBE,mBAAmBqF,KAGrC,OAAXA,GACCvF,GAAwBG,iCACtBH,GAAwBC,wBAAwBrjC,QAChDq+B,EAAW+E,GAAwBC,aAAczjF,IAChDwjF,GAAwBC,wBAAwB/yB,UAC/C8yB,GAAwBC,aAAazjF,KAK3C,OAAO,OAGJ,GAAIklF,GAAoB6D,SAIxB,GACLtK,EAAW0B,GAAgB7B,EAAct+E,EAAOqgF,GAAiB,WAK5D,GACO,QAAX0I,GAA+B,eAAXA,GAAsC,SAAXA,GACtC,WAAVD,GACkC,IAAlCvK,EAAcv+E,EAAO,WACrBglF,GAAc8D,GAMT,GACL9E,KACCvF,EAAW2B,GAAmB9B,EAAct+E,EAAOqgF,GAAiB,WAKhE,GAAKrgF,EAIV,OAAO,EAGT,OAAO,C,EASH4oF,GAA0B,SAAUjvD,GACxC,OAAOA,EAAQ7mB,QAAQ,KAAO,C,EAa1Bk2E,GAAsB,SAAUV,GACpC,IAAIW,EACAjpF,EACA+oF,EACAv9E,EAEJ48E,GAAa,2BAA4BE,EAAa,MAEtD,IAAQva,EAAeua,EAAfva,WAGJ,GAACA,EAAD,CAIJ,IAAMmb,EAAY,CAChBC,SAAU,GACVC,UAAW,GACXC,UAAU,EACVC,kBAAmBjG,IAKd73E,IAHPA,EAAIuiE,EAAWr2E,OAGR8T,KAAK,CAEV,IAAA+9E,EADAN,EAAOlb,EAAWviE,GACVM,EAARy9E,EAAQz9E,KAAMoD,EAAdq6E,EAAcr6E,aAYVg6E,GAXJlpF,EAAiB,UAAT8L,EAAmBm9E,EAAKjpF,MAAQw+E,EAAWyK,EAAKjpF,OACxD+oF,EAAS9J,GAAkBnzE,GAG3Bo9E,EAAUC,SAAWJ,EACrBG,EAAUE,UAAYppF,EACtBkpF,EAAUG,UAAW,EACrBH,EAAUM,mBAAgBjxC,EAC1B6vC,GAAa,wBAAyBE,EAAaY,GACnDlpF,EAAQkpF,EAAUE,WAEdF,EAAUM,gBAKdtC,GAAiBp7E,EAAMw8E,GAGlBY,EAAUG,UAKf,GAAI5K,EAAU,OAASz+E,GACrBknF,GAAiBp7E,EAAMw8E,OADzB,CAMIrE,KACFjkF,EAAQs+E,EAAct+E,EAAO+/E,GAAe,KAC5C//E,EAAQs+E,EAAct+E,EAAOggF,GAAU,MAIzC,IAAM8I,EAAQ7J,GAAkBqJ,EAAYj8E,UACxC,GAACw8E,GAAkBC,EAAOC,EAAQ/oF,GAAlC,CAgBJ,IATIykF,IAAoC,OAAXsE,GAA8B,SAAXA,IAE9C7B,GAAiBp7E,EAAMw8E,GAGvBtoF,EAAQ0kF,GAA8B1kF,GAKtCwiF,IACwB,WAAxB9B,EAAOD,IACkC,mBAAlCA,EAAagJ,iBAEpB,GAAIv6E,QAGF,OAAQuxE,EAAagJ,iBAAiBX,EAAOC,IAC3C,IAAK,cACH/oF,EAAQwiF,GAAmBxB,WAAWhhF,GACtC,MACF,IAAK,mBACHA,EAAQwiF,GAAmBvB,gBAAgBjhF,GAS/C,IACEkP,EACFo5E,EAAY7+E,eAAeyF,EAAcpD,EAAM9L,GAG/CsoF,EAAY9+E,aAAasC,EAAM9L,GAGjCk+E,EAASkD,EAAUE,QACT,CAAV,MAAOr6B,GAAG,CA9CV,C,EAkDJmhC,GAAa,0BAA2BE,EAAa,KAvGnD,C,EA+GEoB,GAAqB,SAArBA,EAA+Bva,GACnC,IAAIwa,EACEC,EAAiB/B,GAAgB1Y,GAKvC,IAFAiZ,GAAa,0BAA2BjZ,EAAU,MAE1Cwa,EAAaC,EAAeC,YAElCzB,GAAa,yBAA0BuB,EAAY,MAG/CnB,GAAkBmB,KAKlBA,EAAWppC,mBAAmBkhC,GAChCiI,EAAmBC,EAAWppC,SAIhCyoC,GAAoBW,IAItBvB,GAAa,yBAA0BjZ,EAAU,K,EA4SnD,OAjSAiS,EAAU0I,SAAW,SAAUvC,GAAOvB,IAChC54E,EACA28E,EACAzB,EACA0B,EACAC,EALgCjE,EAAUhnF,UAAAtH,OAAA,QAAA6gD,IAAAv5C,UAAA,GAAAA,UAAA,GAAJ,GAetC,IANJwmF,IAAkB+B,KAEhBA,EAAQ,eAIW,iBAAVA,IAAuBY,GAAQZ,GAAQ,CAEhD,GAA8B,mBAAnBA,EAAM9nF,SACTi/E,QAAgB,8BAGtB,GAAqB,iBADrB6I,EAAQA,EAAM9nF,YAENi/E,QAAgB,kC,CAM5B,IAAK0C,EAAUG,YAAa,CAC1B,GACiC,WAA/Bb,EAAO/4E,EAAOuiF,eACiB,mBAAxBviF,EAAOuiF,aACd,CACA,GAAqB,iBAAV3C,EACT,OAAO5/E,EAAOuiF,aAAa3C,GAG7B,GAAIY,GAAQZ,GACV,OAAO5/E,EAAOuiF,aAAa3C,EAAMP,U,CAIrC,OAAOO,C,CAgBT,GAZKpD,IACH4B,GAAaC,GAIf5E,EAAUE,QAAU,GAGC,iBAAViG,IACT3C,IAAW,GAGTA,IAEE2C,KAAMl7E,SAAU,CAClB,IAAMstB,EAAUslD,GAAkBsI,EAAMl7E,UACpC,IAAC62E,GAAavpD,IAAYiqD,GAAYjqD,GAClC+kD,QACJ,0D,OAID,GAAI6I,aAAiB5F,EAKI,KAD9BoI,GADA38E,EAAOk6E,GAAc,kBACDr5E,cAAc40E,WAAW0E,GAAO,IACnC33E,UAA4C,SAA1Bm6E,EAAa19E,UAGX,SAA1B09E,EAAa19E,SADtBe,EAAO28E,EAKP38E,EAAKmC,YAAYw6E,OAEd,CAGH,IAAC1F,KACAJ,KACAC,KAEsB,IAAvBqD,EAAMz0E,QAAQ,KAEP0vE,WAAsB+B,GACzB/B,GAAmBxB,WAAWuG,GAC9BA,EAOF,KAHJn6E,EAAOk6E,GAAcC,IAIZlD,UAAa,KAAOE,GAAsB9B,GAAY,E,CAK7Dr1E,GAAQg3E,IACV2C,GAAa35E,EAAKiC,YAOpB,IAHM86E,MAAetC,GAAgBjD,GAAW2C,EAAQn6E,GAGhDk7E,EAAc6B,EAAaN,YAEJ,IAAzBvB,EAAY14E,UAAkB04E,IAAgB0B,GAK9CxB,GAAkBF,KAKlBA,EAAY/nC,mBAAmBkhC,GACjCiI,GAAmBpB,EAAY/nC,SAIjCyoC,GAAoBV,GAEpB0B,EAAU1B,GAMZ,GAHA0B,EAAU,KAGNpF,GACF,OAAO2C,EAIT,GAAIlD,GAAY,CACd,GAAIC,GAGKl3E,IAFP68E,EAAa5a,GAAuB51E,KAAK2T,EAAKa,eAEvCb,EAAKiC,YAEV46E,EAAW16E,YAAYnC,EAAKiC,iBAG9B46E,EAAa78E,EAcf,OAXIi2E,GAAa+G,aAQfH,EAAapH,GAAWppF,KAAK+nF,EAAkByI,GAAY,IAGtDA,C,CAGLI,MAAiBnG,GAAiB92E,EAAK45E,UAAY55E,EAAK+B,UAqBrDqzE,OAjBL0B,IACAhB,GAAa,aACb91E,EAAKa,eACLb,EAAKa,cAAcq8E,SACnBl9E,EAAKa,cAAcq8E,QAAQx+E,MAC3B2yE,EAAWwE,GAA0B71E,EAAKa,cAAcq8E,QAAQx+E,QAEhEu+E,EACE,aAAej9E,EAAKa,cAAcq8E,QAAQx+E,KAAO,MAAQu+E,GAIzDpG,KACFoG,EAAiB/L,EAAc+L,EAAgBtK,GAAe,KAC9DsK,EAAiB/L,EAAc+L,EAAgBrK,GAAU,MAGpDwC,IAAsB+B,GACzB/B,GAAmBxB,WAAWqJ,GAC9BA,C,EASNjJ,EAAUmJ,UAAY,SAAUvE,GAC9BD,GAAaC,GACb7B,IAAa,C,EAQf/C,EAAUoJ,YAAc,WACtB7E,GAAS,KACTxB,IAAa,C,EAaf/C,EAAUqJ,iBAAmB,SAAUz+E,EAAKi9E,EAAMjpF,GAE3C2lF,IACHI,GAAa,IAGf,IAAM+C,EAAQ7J,GAAkBjzE,GAC1B+8E,EAAS9J,GAAkBgK,GACjC,OAAOJ,GAAkBC,EAAOC,EAAQ/oF,E,EAU1CohF,EAAUsJ,QAAU,SAAUrC,EAAYsC,GACZ,mBAAjBA,IAIX7H,GAAMuF,GAAcvF,GAAMuF,IAAe,GACzClK,EAAU2E,GAAMuF,GAAasC,G,EAW/BvJ,EAAUwJ,WAAa,SAAUvC,GAC/B,GAAIvF,GAAMuF,GACR,OAAOnK,EAAS4E,GAAMuF,G,EAU1BjH,EAAUyJ,YAAc,SAAUxC,GAC5BvF,GAAMuF,KACRvF,GAAMuF,GAAc,G,EASxBjH,EAAU0J,eAAiB,WACzBhI,GAAQ,E,EAGH1B,C,QAGMD,I,ILxkDf,IAAM4J,GAAQ,CACZ,cAAeC,WACf,SAAUA,WACV,aAAcA,WACd,UAAWA,WACX,WAAYA,WACZ,UAAWA,WACX,UAAWA,WACX,cAAeA,WACf,YAAaA,WACb,YAAaA,WACb,cAAeA,WACf,UAAWA,WACX,kBAAmBA,WACnB,iBAAkBA,WAClB,gBAAiBA,WACjB,yBAA0BA,WAC1B,gBAAiBA,WACjB,eAAgBA,WAChB,UAAWA,WACX,WAAYA,WACZ,WAAYA,WACZ,YAAaA,WACb,YAAaA,WACb,SAAUA,WACV,kBAAmBA,WACnB,oBAAqBA,WACrB,YAAaA,WACb,YAAaA,WACb,cAAeA,WACf,UAAWA,WACX,uBAAwBA,WACxB,kBAAmBA,WACnB,eAAgBA,WAChB,qBAAsBA,WACtB,qBAAsBA,WACtB,YAAaA,WACb,cAAeA,WACf,WAAYA,WACZ,YAAaA,WACb,gBAAiBA,WACjB,gBAAiBA,WACjB,aAAcA,WACd,SAAUA,WACV,cAAeA,WACf,UAAWA,WACX,WAAYA,WACZ,UAAWA,WACX,cAAeA,WACf,gBAAiBA,WACjB,QAASA,WACT,UAAWA,WACX,gBAAiBA,WACjB,YAAaA,WACb,aAAcA,WACd,oBAAqBA,WACrB,WAAYA,WACZ,cAAeA,WACf,cAAeA,WACf,sBAAuBA,WACvB,sBAAuBA,WACvB,cAAeA,WACf,YAAaA,WACb,eAAgBA,WAChB,iBAAkBA,WAClB,aAAcA,WACd,aAAcA,WACd,YAAaA,WACb,eAAgBA,WAChB,gBAAiBA,WACjB,gBAAiBA,WACjB,eAAgBA,WAChB,cAAeA,WACf,UAAWA,WACX,cAAeA,WACf,UAAWA,WACX,YAAaA,WACb,iBAAkBA,WAClB,kBAAmBA,WACnB,UAAWA,WACX,UAAWA,WACX,YAAaA,WACb,SAAUA,WACV,WAAYA,WACZ,UAAWA,WACX,SAAUA,WACV,UAAWA,WACX,eAAgBA,WAChB,aAAcA,WACd,YAAaA,WACb,gBAAiBA,WACjB,iBAAkBA,WAClB,YAAaA,WACb,WAAYA,WACZ,UAAWA,WACX,YAAaA,WACb,iBAAkBA,WAClB,cAAeA,WACf,qBAAsBA,WACtB,oBAAqBA,WACrB,qBAAsBA,WACtB,cAAeA,WACf,uBAAwBA,WACxB,cAAeA,WACf,kBAAmBA,WACnB,kBAAmBA,WACnB,qBAAsBA,WACtB,cAAeA,WACf,eAAgBA,WAChB,iBAAkBA,WAClB,eAAgBA,WAChB,cAAeA,WACf,qBAAsBA,WACtB,aAAcA,WACd,gBAAiBA,WACjB,gBAAiBA,WACjB,mBAAoBA,WACpB,gBAAiBA,WACjB,eAAgBA,WAChB,UAAWA,WACX,cAAeA,WACf,YAAaA,WACb,UAAWA,WACX,SAAUA,WACV,kBAAmBA,WACnB,qBAAsBA,WACtB,YAAaA,WACb,UAAWA,WACX,WAAYA,WACZ,cAAeA,WACf,WAAYA,WACZ,UAAWA,WACX,aAAcA,WACd,UAAWA,WACX,qBAAsBA,WACtB,aAAcA,WACd,kBAAmBA,WACnB,cAAeA,WACf,WAAYA,WACZ,YAAaA,WACb,iBAAkBA,WAClB,aAAcA,WACd,kBAAmBA,WACnB,UAAWA,WACX,aAAcA,WACd,sBAAuBA,WACvB,qBAAsBA,WACtB,uBAAwBA,WACxB,cAAeA,WACf,gBAAiBA,WACjB,cAAeA,WACf,kBAAmBA,WACnB,mBAAoBA,WACpB,iBAAkBA,WAClB,aAAcA,WACd,eAAgBA,WAChB,uBAAwBA,WACxB,yBAA0BA,WAC1B,uBAAwBA,WACxB,sBAAuBA,WACvB,oBAAqBA,WACrB,sBAAuBA,WACvB,qBAAsBA,WACtB,4BAA6BA,WAC7B,yBAA0BA,WAC1B,WAAYA,WACZ,UAAWA,WACX,WAAYA,WACZ,gBAAiBA,WACjB,cAAeA,WACf,iBAAkBA,WAClB,YAAaA,WACb,SAAUA,WACV,SAAUA,WACV,aAAcA,WACd,cAAeA,WACf,iBAAkBA,WAClB,SAAUA,WACV,gBAAiBA,WACjB,UAAWA,WACX,WAAYA,WACZ,aAAcA,WACd,WAAYA,WACZ,UAAWA,WACX,iBAAkBA,WAClB,YAAaA,WACb,WAAYA,WACZ,SAAUA,WACV,UAAWA,WACX,iBAAkBA,WAClB,WAAYA,WACZ,eAAgBA,WAChB,YAAaA,WACb,WAAYA,WACZ,cAAeA,WACf,cAAeA,WACf,aAAcA,WACd,cAAeA,WACf,oBAAqBA,WACrB,QAASA,WACT,eAAgBA,WAChB,UAAWA,WACX,cAAeA,WACf,cAAeA,WACf,gBAAiBA,WACjB,cAAeA,WACf,qBAAsBA,WACtB,UAAWA,WACX,UAAWA,WACX,iBAAkBA,WAClB,UAAWA,WACX,UAAWA,WACX,UAAWA,WACX,aAAcA,WACd,YAAaA,WACb,WAAYA,WACZ,WAAYA,WACZ,aAAcA,WACd,cAAeA,WACf,eAAgBA,WAChB,iBAAkBA,WAClB,UAAWA,WACX,aAAcA,WACd,aAAcA,WACd,kBAAmBA,WACnB,UAAWA,WACX,WAAYA,WACZ,YAAaA,WACb,aAAcA,WACd,iBAAkBA,WAClB,aAAcA,WACd,UAAWA,WACX,YAAaA,WACb,YAAaA,WACb,cAAeA,WACf,WAAYA,WACZ,aAAcA,WACd,aAAcA,WACd,YAAaA,WACb,mBAAoBA,WACpB,gBAAiBA,WACjB,gBAAiBA,WACjB,iBAAkBA,WAClB,UAAWA,WACX,mBAAoBA,WACpB,UAAWA,WACX,WAAYA,WACZ,aAAcA,WACd,aAAcA,WACd,aAAcA,WACd,aAAcA,WACd,kBAAmBA,WACnB,wBAAyBA,WACzB,yBAA0BA,WAC1B,cAAeA,WACf,mBAAoBA,YM1PhBC,IN+P0BzzF,OAAOD,KAAKwzF,IM/P/B,IAAIhwE,KAkCJmwE,eACX,SAAAr0D,EAAYiI,gBACV2pB,cAAM3pB,SACNtnC,OAAOy4D,uI,CAAAA,gD,CAHX,OAAAqtB,GAAAzmD,EAAAt9B,GAAAs9B,C,CAAaq0D,CAAbvN,GAAwC9lF,QAY3BszF,cAOX,SAAA5xF,EAAYuS,EAAczF,QANlB+kF,kBACAC,iBAEAC,gBAAwC/yC,KACxCgzC,kBAGN3tF,KAAKwtF,MAAQt/E,EACblO,KAAKytF,KAAOhlF,C,CAThB,IAAAwwB,EAAAt9B,EAAAjB,UAAA,OAAAu+B,EAYE20D,UAAA,WACE,gBAAyBjzC,KAAb+yC,Q,EAAAA,EAGRG,6D,CAAAA,gD,EAAAA,C,CAAAA,uBACA7tF,KAAJ,gBAAI8tF,EAAKH,2BACAG,EAAKH,aAGVG,EAAKJ,WAITI,EAAKJ,SAAWh8D,QAAQppB,QAAQwlF,EAAKL,MAClC9qF,MAAK,SAAC+mC,UAAQmkD,MAAMnkD,E,IACpB/mC,MAAK,SAACorF,GACL,IAAKA,EAASC,GACZ,UAAUV,wCAC6BQ,EAAKN,YAI9C,OAAOO,EAASxlE,M,IAEjB5lB,MAAK,SAACk/E,GAEL,OADAiM,EAAKH,WAAa9L,IACN8L,U,IAAAA,SAEL,WACPG,EAAKJ,e,KAAW/yC,gBAnBXmzC,EAAKJ,U,CAtBlB,MAAArwC,GAAA,OAAA3rB,QAAAu8D,OAAA5wC,E,KAAA1hD,C,CAAa4xF,GAmDAW,cAGX,SAAAvyF,EAAYuS,QAFJs/E,aAGNxtF,KAAKwtF,MAAQt/E,C,CAJjB,IAAA+qB,EAAAt9B,EAAAjB,UAAA,OAAAu+B,EAOE40D,MAAA,WACE,OAAOn8D,QAAQu8D,OACb,IAAIX,kBAAkCttF,KAAKwtF,6B,EAAAA,EAI/CI,UAAA,WACE,Q,EAAAjyF,C,CAdSuyF,GCxGAC,GAA+B,oBAAXpkF,OAE3BqkF,GAAqC,oBAAhBtY,aAGvBqY,IAAeC,KAEjBC,WAAWvY,0C,CAAAA,ICAb,IAAM3F,GAAa,CAAC,OAAQ,QAAS,8BAyBxBme,eAsGX,SAAA32C,IAAA,IAAAh8C,EAAA,OACEkvD,sBA3EM0jC,oBACAxW,kBACAyW,aA0EN3jC,EAAK4jC,aAAa,CAAE34D,KAAM,SAAAn6B,C,CAAA+jF,GAAA/nC,EAAAjoB,GAAAioB,EArGrB7rB,OAAP,SACE9oB,GAIAokE,OAAS+mB,GAAY,sDACjBA,IAIJv0F,OAAOivE,QAAQ7lE,GAAKC,SAAQ,SAAAtH,GAAA,IAAEuS,OAAMzF,OAClC,IAAKyF,EAAKD,SAAS,KACjB,UAAUglD,UACL/kD,mFFnCqBA,EAAczF,GAC9C,IAAMimF,EAAS,IAAInB,GAAUr/E,EAAMzF,GAEnC4kF,GAAK5/E,IAAIS,EAAMwgF,E,CEgCJxgF,CAIWA,EAAMzF,E,KApB9B,IAAAjN,EAAA42D,EAAAjqD,EAAAyF,EAAA+pC,EAAAj9C,UAAA,OAAAkT,EA2GQ+gF,uCACJ3uF,YAAA8tF,EAAK7pF,yBACC6pF,EAAKc,4CACXd,EAAKU,aAAY98D,QAAAppB,QACXwlF,EAAKe,QAAQf,EAAK7xF,MAAMiS,2B,IA/GlC,MAAAmvC,GAAA,OAAA3rB,QAAAu8D,OAAA5wC,E,GAAAzvC,EAkHEkhF,qBAAA,eAAAnzF,EAAA,OAAAA,EAAAqE,KACO+3E,aAAUC,aACfh4E,KAAK+3E,gBACL/3E,KAAKwuF,Y,EAAY5gF,EAGnBmhF,yBAAA,SACE1D,EACA2D,EACAxa,GAGKx0E,KAAKwuF,YAKG,SAATnD,WAMArrF,KAAKuuF,gBAMCM,QAAQ7uF,KAAK/D,MAAMiS,MAL3BlO,KAAKiE,cANK4qF,QAAQra,G,EAAAA,EActBvwE,OAAA,eAAAtI,EACQuqC,WAAOlmC,KAAKivF,oBAAoBjvF,KAAKkvF,WAErCj6E,EAAQuuE,MAAU0I,uEAIdhmD,0FAQR,CAAEo/C,aAAc,CAAC,SAAUkB,gBAGvB3E,EAAM2B,MAAU0I,kBACpBlsF,KAAKuuF,WACDvuF,KAAKuuF,gCACgBroD,MAAQA,aACjC,CAAE+gD,aAAc,CAAEpF,OAAWC,iBAI/B9hF,KAAKmvF,WAAY59E,UAAY0D,EAAQ4sE,C,EAAAA,EAGzBgN,iBAAQ3gF,aAGpBlO,KAFM0uF,WF7LkCxgF,GAC1C,IAAMkhF,WAXmBlhF,GACzB,OAAOm/E,GAAKx+E,IAAIX,E,CAUVkhF,CAA8BlhF,GACpC,GAAIkhF,EACF,OAAOA,EAGT,IAAMC,EAAWlC,GAA6Cj/E,GAExDohF,WACJD,EACI,IAAI9B,GAAUr/E,EAAMmhF,GACpB,IAAInB,GAAoBhgF,GAG9B,OAFAm/E,GAAK5/E,IAAIS,EAAMohF,GAERA,C,CE+KCZ,CAAqCxgF,0BAEnBwgF,EAAOb,2BAA/B0B,EAAKhB,aACLgB,EAAKtrF,Q,IAnLT,MAAAo5C,GAAA,OAAA3rB,QAAAu8D,OAAA5wC,E,GAAAzvC,EAsLUghF,iBAAA,eAAAjzF,EAAAqE,KACN,WAAW0xB,SAAc,SAACppB,GACxBknF,EAAKzX,SAAW,IAAI0X,sBAClB,SAAA51F,GAAA,IAAA00E,EAAA10E,EAAA,GACY61F,0BACRF,EAAKzX,aAAUC,aACfwX,EAAKzX,gBACLzvE,I,GAGJ,CAAEqnF,WAAeC,SAGnBJ,EAAKzX,SAASU,QAAQ+W,E,KAAAA,iCA3K1B,WACE,OAAOrf,E,IAAAA,oBAOT,eAAAx0E,EAAAqE,KACQ6vF,EAAUj2F,OAAOuuE,YACrBgI,GAAWntE,KAAI,SAACumF,SAAc,CAACA,EAAWuG,EAAK3qC,aAAaokC,G,KAGxDr7E,EAAO2hF,EAAQ3hF,KAErB,GAAa,OAATA,EACF,UAAU+kD,UAAU,gCAGtB,IAAK/kD,EAAKD,SAAS,KACjB,UAAUglD,UACL/kD,yEAIP,OAAAuxE,GAAA,GACKoQ,GACH3hF,Q,GAAAA,4BAIJ,WACE,GAAiD,OAA7ClO,KAAK/D,MAAM,8BACb,YAGF,IAAOiqC,EAAQlmC,KAAK/D,MAAMiS,KAAKnD,MAAM,QAC/BglF,EAAQC,OAAOhwF,KAAK/D,MAAM,+BAEhC,MACO,WADCiqC,KAEQ6pD,EAILC,OAAO9pD,GAAQ6pD,C,GAAAA,sBAK5B,eAAAp0F,EACSuqC,EAAQlmC,KAAK/D,MAAMiS,KAAKnD,MAAM,QAE/BglF,EAAQC,gBAAOhwF,KAAK/D,MAAM8zF,SAAS,KAEzC,OAAQ7pD,GACN,IAAK,SACH,WAAQ6pD,QAWV,IAAK,KACH,OAAOC,OAAO9pD,GAAQ6pD,EAGxB,QACE,OAAOC,OAAO9pD,G,IAAAA,IAkGMspD,KAlGNtpD,4E,CAjGTooD,CAiGSpoD,GAjGS4vC,cvCTzBnD,+K,CAAAA,Q,EAAAA,wB,CAAAA,oI,CAAAA,mD,CAAAA,0G,CAAAA,ib,EAAAA,6H,EAAAA,4J,CuCSO2b,GACKvyD,QAAU,aCdvBoyD,IAEEpkF,OAAOkmF,eAAephF,IAAIy/E,GAAUvyD,WACvChyB,OAAOukF,UAAYA,GACnBvkF,OAAOkmF,eAAeC,OAAO5B,GAAUvyD,QAASuyD,KxCA9C3b,4BAA2B,CAC/Bwd,KAfyBvmC,KAAMsE,YAC/B,SAAAvyD,EAAgDT,OAAzBk1F,OAAI/uF,aAAa0rD,WACtC,OACEnD,2BAAG5+B,KAAMolE,EAAIl1F,IAAKA,GAAS6xD,GACxB1rD,E,KAcHgvF,GAA8BzmC,KAAMC,cAAc8oB,IAkBpC0d,+ByC3CPlkC,GAAQ4iB,KAAYnf,0BCyB3B0gC,GAAY1mC,KAAMsE,YACtB,SAAmBjyD,EAAOf,GACxB,IAAQi1F,G1CgBH7rF,gBAAW+rF,I0ChBRF,KACR,GAAI,OAAQl0F,EAAO,CACjB,IAAQ+pC,EAAuC/pC,EAAvC+pC,UAAuC/pC,EAA9B0U,yBAAqBo8C,KAAS9wD,MAC/C,OACE2tD,mBAACvR,SACK0U,GACJgC,GAAIp+C,SAAuBw/E,EAC3BnqD,QAASr1B,SAAuBq1B,EAChC,gBAAer1B,EACfzV,IAAKA,I,CAIT,OAAO0uD,mBAAC2mC,SAAWt0F,GAAOf,IAAKA,I,IAM/Bs1F,GAAe1uC,0G/D+HR0gB,2D+DtHP+tB,GAAS3gC,GAAOntC,0tBAkClB+tE,IAGEn4C,GAAIuX,GAAO8B,0KAYb8+B,wDChFED,GAAS3mC,KAAMsE,YAA0C,SAAAvyD,EAS7DT,OAPEmG,iBACAkrE,qBAAU,UAAAhxE,EAAA62D,EAAAz2D,EACVuqC,kBAAO,IAAAksB,EAAA92D,EAAAK,EACP80F,0BACA9/E,yBACGo8C,WAIL,OACEnD,mBAAC8mC,SACK3jC,GACJp8C,SAAUA,EACV47D,QAASA,EACTrmC,KAAMA,EACNuqD,MAAOA,EACPv1F,IAAKA,IAEJmG,E,IAMDqvF,GAAe9gC,GAAO0gC,IACzBrgC,WAAwB,CACvBpC,2BAAkBjT,GAEhB,MAAgB,UAATA,C,IAGV4S,OAwBH,SAAqBvxD,GACnB,OAAA00F,GAAA,GACK10F,EAMP,SAAwBswE,GACtB,OAAQA,GACN,IAAK,UACH,MAAO,CAAE5B,KAAM,QAAS/B,WAAY,YACtC,IAAK,UACH,MAAO,CAAE+B,KAAM,QAAS/B,WAAY,YACtC,IAAK,UACH,MAAO,CAAE+B,KAAM,QAAS/B,WAAY,SACtC,IAAK,aACH,MAAO,CAAE+B,KAAM,QAAS/B,WAAY,YACtC,IAAK,SACH,MAAO,CAAE+B,KAAM,QAAS/B,WAAY,aACtC,QACE,gBC5EsBxmE,GAC1B,UAAUnI,MACa,IAArBmH,UAAUtH,OACN,8BACgB61C,KAAKC,UAAUxtC,O,CDwEjC,CAAmBmqE,G,CAbzB,CALsBtwE,EAAMswE,SAsB5B,SAAqBrmC,GACnB,OAAQA,GACN,IAAK,IACH,MAAO,CACLvgB,OAAQ,GACR6sD,QAAS,IAEb,IAAK,IACH,MAAO,CACL7sD,OAAQ,GACR6sD,QAAS,I,CAVjB,CArBmBv2E,EAAMiqC,M,GAnCJ0pB,wPAQV,SAAC7X,UAAOA,EAAE04C,MAAQ,UAAY,a,IAQrC,SAAC14C,UACDoU,IAAM,SAACiG,SAAM,CACXA,EAAEuY,KAAK5yB,EAAE4yB,MAAM9E,MAAMC,MACrB1T,EAAEsY,GAAG3yB,EAAE6wB,YAAY/C,MAAMC,MACzB1T,EAAEqS,WAAW,IAAIyG,KAAKF,oBACtB5Y,EAAEogB,QAAQC,WAAW16B,EAAEy6B,SACvBpgB,EAAEzhD,SACFyhD,EAAEyS,aAAa,QACfzS,EAAEoT,gBAAgB14C,M,OAIZ,SAACirB,UAAMA,EAAEpyB,M,IAAAA,6BE/CfirE,IAhBahnC,KAAMsE,YACvB,SAAAvyD,EAEET,WADEqxE,qBAAU,UAAA78C,EAAA71B,EAAA8B,EAAWuqC,kBAAO,IAAArsC,EAAKi3E,SAAS/jB,WAI5C,OAwEJ,SAA0B7mB,EAAY4qC,GACpC,IAAI+f,EACJ,OAAQ3qD,GACN,IAAK,KACH2qD,EAAmB,KACnB,MACF,IAAK,IACL,IAAK,IACHA,EAAmB,KAIvB,IAAMhxC,EAAS,UAAQggB,KAAKiR,GAC5B,GAAc,MAAVjxB,EACF,UAAU5lD,MAAM,qBAElB,IAAO62F,EAAYjxC,KACfixC,IAAaD,GAEfvvD,QAAQ6xC,8BACmBjtC,yBAA2B2qD,gBAA8BC,M,CApBxF,CAzEqB5qD,EAAM4qC,GAErBlnB,mBAACgnC,SAAqB7jC,GAAM7xD,IAAKA,EAAKqxE,QAASA,EAASrmC,KAAMA,IAC5D0jB,iCAAY17C,KAAM4iE,I,IAQDlhB,GAAO0gC,IAAW9iC,OAsB3C,SAAqBvxD,GACnB,OAAA00F,GAAA,GACK10F,EAMP,SAAwBswE,GACtB,OAAQA,GACN,IAAK,UACH,MAAO,CAAE5B,KAAM,QAAS/B,WAAY,eACtC,IAAK,UACH,MAAO,CAAE+B,KAAM,QAAS/B,WAAY,Y,CAL1C,CALsB3sE,EAAMswE,SAc5B,SAAqBrmC,GACnB,OAAQA,GACN,IAAK,KACH,MAAO,CACLxgB,MAAO,GACPC,OAAQ,IAEZ,IAAK,IACH,MAAO,CACLD,MAAO,GACPC,OAAQ,IAEZ,IAAK,IACH,MAAO,CACLD,MAAO,GACPC,OAAQ,I,CAfhB,CAbmB1pB,EAAMiqC,M,GA1BA0pB,gKAMd,SAAC7X,UAAMA,EAAEryB,K,IACR,SAACqyB,UAAMA,EAAEpyB,M,IAKjB,SAAA8J,GAAA,IAAGk7C,SAAM/B,sBACTzc,IAAM,SAACiG,SAAM,CACXA,EAAEuY,KAAKA,GACPvY,EAAEsY,GAAG9B,GAAY/C,MAAMC,MACvB1T,EAAEzhD,SACFyhD,EAAEyS,aAAa,QACfzS,EAAEoT,gBAAgB14C,M,QCQN8iC,GAAOonB,wJAGX,SAAAvnD,GAAA,OAAe6yC,KAAZnW,MAAqBuY,QAAQ,G,GAI1CvY,IAAM,SAACiG,SAAM,CAACA,EAAEzhD,S,KAGMi/C,GAAO75C,MAAMy3C,MAAM,CAAExxD,KAAM,SAA3B4zD,ojBAcpB,SAAAngC,GAAA,IAAA9zB,EAAA8zB,EAAGshE,gCACH5kC,IAAM,SAACiG,SAAM,CACXA,EAAEyS,aAAa,QACfzS,EAAEsY,GAAGxD,MAAMrB,MAAMC,MACjBirB,GAAY3+B,EAAEoT,QAAQE,U,OAMR,SAAAj2C,GAAA,OAAAA,EAAG08B,MAAkBtkC,MAAMo/C,K,GAIzC9a,IAAM,SAACiG,UAAMA,EAAEsY,GAAGvD,MAAMtB,MAAMC,K,IAS5B3Z,IAAM,SAACiG,SAAM,CAACA,EAAEsY,GAAGxD,MAAMrB,MAAMC,MAAO1T,EAAEyS,aAAa,Q,IAIzD1Y,IAAM,SAACiG,UAAMA,EAAEoT,gBAAgB14C,K,KAIlB8iC,GAAOohC,+BACtB7kC,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,I,KAeN7U,GAAOohC,4FAGlB,SAAAvhE,GAAA,OAAe6yC,KAAZnW,MAAqBuY,QAAQ,G,IAYpB9a,KAAMC,cAAiC,CAC/D37C,YACAuC,gBACAE,YACAsgF,YACAF,YACArnB,oBACE,UAAUzvE,MACR,iF,IAyCGoH,oBCvLyBwoD,mBAAkC,CAClE37C,YACAuC,SAAU,GACVE,YACAsgF,YACAF,YACArnB,oBACE,UAAUzvE,MACR,2F,IC4DN,IAAAi3F,GAAAC,GAAAC,GAAmBxhC,GAAOonB,2MrEgGbxU,2DqEvFJ,SAAA/yC,GAAA,OAAe6yC,KAAZnW,MAAqBuY,QAAQ,G,GACrCvY,IAAM,SAACiG,UAAMA,EAAEzhD,Q,KAGCi/C,GAAOohC,yEAGvB7kC,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,IAAKrS,EAAEuY,KAAK7D,M,KAGvBlX,GAAO75C,MAAMy3C,MAAM,CAAExxD,KAAM,YAA3B4zD,oMAYZzD,IAAM,SAACiG,UAAMA,EAAEsY,GAAGvD,MAAMtB,MAAMC,K,KAGhC,SAAAr2C,GAAA,IAAGshE,aAAUM,mBACbllC,IAAM,SAACiG,SAAM,CACXA,EAAEsY,GAAG1D,MAAMnB,MAAMC,MACjB1T,EAAEyS,aAAa,QACfksB,IAAaM,GAAWj/B,EAAEoT,QAAQE,UAClC2rB,GAAWj/B,EAAEsY,GAAGlE,S,OAKG5W,GAAOohC,gMAS9B,SAAAvhE,GAAA,IAAGshE,aAAUM,mBACbllC,IAAM,SAACiG,SAAM,CACXA,EAAE1sC,MAAM48C,GAAG,IACXlQ,EAAEzsC,OAAO28C,GAAG,IACZlQ,EAAEyS,aAAa,QACfzS,EAAEuY,KAAKzD,MACP6pB,GAAYM,GAAWj/B,EAAEoT,QAAQE,U,OAGnC,SAAAj2C,GAAA,OAAAA,EAAG4hE,SAEHvvC,4GACkB,SAAAryB,GAAA,OAAAA,EAAG08B,MAAkBtkC,MAAMq/C,K,OCvFnCtX,GAAOonB,uLAGZ,SAAAvnD,GAAA,OAAe6yC,KAAZnW,MAAqBuY,QAAQ,G,GAIrCvY,IAAM,SAACiG,UAAMA,EAAEzhD,Q,ItE+GN6xD,2DsExGM5S,GAAOohC,+BACtB7kC,IAAM,SAACiG,UAAMA,EAAEqS,WAAW,G,KAGV7U,GAAO75C,MAAMy3C,MAAM,CACrCxxD,KAAM,YADY4zD,soBAYdzD,IAAM,SAACiG,SAAM,CACbA,EAAEyS,aAAa,IACfzS,EAAEzsC,OAAO28C,GAAG,IACZlQ,EAAEsY,GAAGzD,MAAMpB,MAAMC,MACjB1T,EAAEoT,gBAAgB14C,M,IAahBq/B,IAAM,SAACiG,SAAM,CAACA,EAAEsY,GAAGxD,MAAMrB,MAAMC,MAAO1T,EAAEyS,aAAa,Q,IAIrD1Y,IAAM,SAACiG,UAAMA,EAAEsY,GAAGvD,MAAMtB,MAAMC,K,KAnDtC,IAAAwrB,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAmDsCzsB,sEC9FhC0sB,GAAa5oC,KAAMsE,YACvB,SAAAvyD,EAUET,OARE+Z,UACAm6C,cACA4nB,cACAyb,yBACAC,iBACAC,aACG5V,WAIL,OACEnzB,mBAACgpC,IAAkB39E,MAAOA,EAAOm6C,UAAWA,GAC1CxF,mBAACipC,OAAM33F,IAAKA,GAAS6hF,GAClB/F,GAEFyb,GAAY7oC,mBAACkpC,QAAcJ,GAC5B9oC,mBAACmpC,QACCnpC,+BAAO+oC,I,IASXxmC,GAAQ4iB,KAER8jB,GAAQjjC,GAAOonB,iCACjB7qB,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,IAAIyG,KAAM9Y,EAAEuY,KAAK7D,M,KAG1CgsB,GAAeljC,GAAO8B,gCACxBvF,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,IAAKrS,EAAEuY,KAAK3D,M,KAGrC+rB,GAAoBnjC,GAAOohC,+BAC7B7kC,IAAM,SAACiG,SAAM,CACbA,EAAEqS,WAAW,IACbrS,EAAEuY,KAAK3D,MAAMnB,MAAMC,MACnB1T,EAAEoT,gBAAgB14C,M,KAIhB8lE,GAAoBhjC,GAAOohC,+HAI3B8B,GACA3mC,IAAM,SAACiG,UAAMA,EAAE4b,OAAOthD,KAAK,E,IAG3BqmE,GACA5mC,IAAM,SAACiG,UAAMA,EAAE4b,OAAOthD,KAAK,O,KAAAsmE,GAAA,aAAAC,GAAA,aCzD3B9mC,GAAQ4iB,KA2Cd,SAASmkB,qBACP,gBAAQ9wF,GACN,QAAA62B,EAAAvJ,EAAAyjE,GAAA,GAAA9nF,MAAAxP,KAAA4zB,MAAAwJ,EAAAvJ,KAAAvtB,MAAwB,KAAbjH,UACU,mBAARA,EACTA,EAAIkH,GACa,OAARlH,IACPA,EAAyCiB,QAAUiG,E,GAM7D,SAASgxF,GAAwBnqC,GAG/B,OAAOpoD,MAAM4oF,KAAKxgC,GAAQnvD,M,CAGtBu5F,OAAYzpC,KAAMsE,YACtB,SAAmBjyD,EAAOf,GACxB,OACE0uD,4BADK3tD,EAAMq3F,WAA2Br3F,EAAMq3F,UAC3CC,GAEAC,OAFmBt4F,IAAKA,GAASe,G,IASlCu3F,GAAsB5pC,KAAMsE,YAGhC,SAAAvyD,EAA0DuyD,SAAtBwb,aAAaztE,WAE/CmzD,EAaEnzD,EAbFmzD,YAaEnzD,EAZFw3F,4BAYEx3F,EAXFy3F,0BACA1c,EAUE/6E,EAVF+6E,MACA0b,EASEz2F,EATFy2F,aACAC,EAQE12F,EARF02F,WAQE12F,EAPF0U,yBACA8hF,EAMEx2F,EANFw2F,WAMEx2F,EALF03F,wBACAC,EAIE33F,EAJF23F,cACAzV,EAGEliF,EAHFkiF,YAGEliF,EAFF69C,oBAAS,KAAAjB,EAAAT,EAEPn8C,EADF+mF,oBAAS,KAAA5qC,EAGHmnC,EAAwBsU,KAAxBtU,oBACFuU,GAAU/uF,YAAyB,MACnCgvF,GAAYhvF,YAAwB,MACpCivF,GAAYjvF,YAAwB,MAAAkvF,GAChBjvF,cAASouF,YAAwBn3F,EAAMmG,SAAS,KAAnEe,OAAO+wF,UACwBlvF,cAAS,GAAxCmvF,OAAaC,UACkBpvF,cAAS,GAAxCqvF,OAAaC,OAEdC,WAAgBt4F,EAAMmG,MACtBoyF,GAAenwF,kBACnB,SAACjC,GACC,IAAMe,EAAQiwF,GAAwBhxF,YAClC+7E,GAA2Bh7E,EAAQg7E,IAGnCoW,GACFL,EAAS/wF,SAEXumE,KAAWtnE,G,GAEb,CAAC+7E,EAAWoW,EAAe7qB,KAG7BllE,gBAAU,eAAAirB,EACRykE,EAASd,YAAwBn3F,EAAMmG,SAAS,I,GAC/C,CAACnG,EAAMmG,QAEV,IAAAw1C,EACE68C,OAEI9W,iBAAkB,QAClBhsC,WAAYhhC,EACZitE,WAAY6U,EACZpV,gBAAiBsW,EAAU,UAAY,QACvCxW,aAAcwW,GAAWC,EACzBxW,aAAcuW,GAAWC,EACzBlqB,SAAU8qB,GACPv4F,GAEL63F,GAZI9V,eAAYjB,eAAYS,qBAAkBC,sBAoClD,OArBAj5E,gBAAU,WACR,IAAMkwF,EAAiB,IAAIC,gBAAe,SAAC9rB,GACzCurB,EAAevrB,EAAQ,GAAG+rB,YAAYlvE,M,IAElCmvE,EAAiB,IAAIF,gBAAe,SAAC9rB,GACzCyrB,EAAezrB,EAAQ,GAAG+rB,YAAYlvE,M,IAUxC,OAP0B,OAAtBquE,EAAU53F,SACZu4F,EAAejc,QAAQsb,EAAU53F,SAET,OAAtB63F,EAAU73F,SACZ04F,EAAepc,QAAQub,EAAU73F,oBAIjC04F,EAAe7c,aACf0c,EAAe1c,Y,IAEhB,IAGDpuB,mBAACkrC,IAAc1lC,UAAWA,EAAWzd,WAAYhhC,GAC/Ci5C,mBAACmrC,OACC/d,MAAOA,EACP0b,aAAcA,EACdD,SAAUA,EACVE,SAAUA,GACN5V,EACE0W,EAAkC,GAAtBlU,IAEpB31B,mBAACorC,QACCprC,mBAACqrC,IAAgB/5F,IAAK64F,GACpBnqC,mBAACsrC,QAAOp7C,IAEV8P,mBAACurC,OACCj6F,IAAKg4F,GAAUhlC,EAAY4lC,GAC3BH,QAASA,EACTyB,iBAAkBjB,EAClBkB,kBAAmBhB,GACfrW,IAENp0B,mBAAC0rC,IAAgBp6F,IAAK84F,GACpBpqC,mBAACsrC,QAAOlS,GACP0Q,GACC9pC,mBAAC2rC,iBACEpX,EAA6Bh7E,MAASg7E,EAAch7E,KAK3C,MAAjBywF,GAAkD,IAAzBA,EAAc95F,QACtC8vD,mBAAC4rC,OACC7B,QAASA,GACJA,EAAUlW,EAAoBD,GAElCoW,G,IAOLL,GAAqB3pC,KAAMsE,YAG/B,SAAAvyD,EAAyDuyD,SAAtBwb,aAAaztE,WAE9CmzD,EAaEnzD,EAbFmzD,YAaEnzD,EAZFy3F,4BAYEz3F,EAXFw3F,0BACAzc,EAUE/6E,EAVF+6E,MACA0b,EASEz2F,EATFy2F,aACAC,EAQE12F,EARF02F,WAQE12F,EAPF0U,yBACA8hF,EAMEx2F,EANFw2F,WAMEx2F,EALF03F,wBACAC,EAIE33F,EAJF23F,cACAzV,EAGEliF,EAHFkiF,YAGEliF,EAFFw5F,6BAEEx5F,EADFy5F,KAAMC,aAAc,EAAAv9C,EAGdmnC,EAAwBsU,KAAxBtU,oBACFqW,GAAc7wF,YAA4B,MAC1C+uF,GAAU/uF,YAA4B,MAAAuzC,GAClBtzC,cAASouF,YAAwBn3F,EAAMmG,SAAS,KAAnEe,OAAO+wF,UACUlvF,cAAS2wF,GAA1BD,OAAMG,OAEPC,GAAazxF,kBACjB,SAAC0xF,WACOL,qBAAUK,EAAS3zF,YAAUgL,mBAAM,EAA5B4oF,EAAqCl8F,UAAU,EACxD67F,GAAeD,GACjBG,EAAQH,E,GAGZ,CAACC,IAGGpB,WAAgBt4F,EAAMmG,MACtBoyF,GAAenwF,kBACnB,SAACjC,GACC,IAAMe,EAAQiwF,GAAwBhxF,YAClC+7E,GAA2Bh7E,EAAQg7E,IAGnCoW,GACFL,EAAS/wF,GAEPsyF,GAAsC,OAAxBG,EAAYz5F,SAC5B25F,EAAWF,EAAYz5F,eAEzButE,KAAWtnE,G,GAEb,CAACqzF,EAAYtX,EAAWoW,EAAe7qB,EAAUosB,KAGnDtxF,gBAAU,eAAAirB,EACRykE,EAASd,YAAwBn3F,EAAMmG,SAAS,I,GAC/C,CAACnG,EAAMmG,QAEV,IAAAutB,EACE8kE,OAEI9W,iBAAkB,WAClBhsC,WAAYhhC,EACZitE,WAAY6U,EACZpV,gBAAiBsW,EAAU,UAAY,QACvCxW,aAAcwW,GAAWC,EACzBxW,aAAcuW,GAAWC,EACzBlqB,SAAU8qB,GACPv4F,GAEL63F,GAZI9V,eAAYjB,eAAYS,qBAAkBC,sBAqBlD,OANAj5E,gBAAU,WACJixF,GAAsC,OAAxBG,EAAYz5F,SAC5B25F,EAAWF,EAAYz5F,Q,GAExB,CAACs5F,EAAYK,IAGdlsC,mBAACkrC,IAAc1lC,UAAWA,EAAWzd,WAAYhhC,GAC/Ci5C,mBAACmrC,OACC/d,MAAOA,EACP0b,aAAcA,EACdD,SAAUA,EACVE,SAAUA,GACN5V,EACE0W,EAAkC,GAAtBlU,IAEpB31B,mBAACqsC,IACCtC,QAASA,EACT+B,KAAMhC,EAAYgC,EAAO,EAAIA,GAE7B9rC,mBAACssC,OACCh7F,IAAKg4F,GAAU0C,EAAa1nC,EAAY4lC,GACxC4B,KAAMA,EACNS,gBAAiBzC,GACb1V,IAEL0V,GACC9pC,mBAACwsC,iBACEjY,EAA6Bh7E,MAASg7E,EAAch7E,IAIzC,MAAjBywF,GAAkD,IAAzBA,EAAc95F,QACtC8vD,mBAAC4rC,OACC7B,QAASA,GACJA,EAAUlW,EAAoBD,GAElCoW,G,IAOLkB,GAAgBllC,GAAOohC,+EAIzB,SAACj5C,UAAMA,EAAEpG,YAAc,CAAE59B,QAASgkC,EAAEoU,MAAMwZ,cAAch1D,SAASoD,Q,IAG/DghF,GAAiBnlC,GAAO4iC,GAAP5iC,4BACnBzD,IAAM,SAACiG,UAAMA,EAAE4b,OAAOM,OAAO,E,KAG3B0mB,GAAuBplC,GAAOohC,mFAM9BiE,GAAkBrlC,GAAO8B,4GAOzB4jC,GAAkB1lC,GAAO8B,8IAUzBwjC,GAAQtlC,GAAO8B,wDAGjBvF,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,IAAIuG,oBAAqB5Y,EAAEuY,KAAK5D,M,KAGzDouB,GAAcvlC,GAAO75C,2kBAiBG,SAACgiC,UAAMA,EAAEq9C,gB,IACR,SAACr9C,UAAMA,EAAEs9C,iB,IAMpC,SAACt9C,UACDoU,IAAM,SAACiG,SAAM,CACXA,EAAEsY,GAAGnE,SAASV,MACdzT,EAAEoT,gBAAgB14C,MAClBirB,EAAE47C,SAAWvhC,EAAEoT,QAAQE,UACvBtT,EAAEuY,KAAK5D,M,MAIP5a,IAAM,SAACiG,UAAMA,EAAEuY,KAAK3D,K,KAIpBivB,GAA0BrmC,GAAOohC,+IAKnC,SAACj5C,UACDoU,IAAM,SAACiG,SAAM,CACXA,EAAEsY,GAAGnE,SAASV,MACd9tB,EAAE47C,SAAWvhC,EAAEoT,QAAQE,UACvBtT,EAAEuY,KAAK5D,MACP3U,EAAEyS,aAAa,G,OAIf,SAAC9sB,UACDoU,IAAM,SAACiG,UAAOra,EAAE47C,QAAUvhC,EAAEoT,QAAQE,UAAYtT,EAAEoT,e,OAGpD,SAAA/1C,GAAA,IAAGimE,gBAAW5zC,+DACQ4zC,E,IAIpBQ,GAAiBtmC,GAAOmmC,quBAaG,SAACh+C,UAAOA,EAAEo+C,gBAAkB,EAAI,E,IAE7D,SAAA1mE,GAAA,IAAA9zB,EAAA8zB,EAAGimE,kBAAO,EAAA/5F,EAAA,OAAQmmD,gEACY4zC,E,GAS5BvpC,IAAM,SAACiG,UAAMA,EAAEuY,KAAK3D,K,KAYpBuuB,GAAoB3lC,GAAO8B,gCAC7BvF,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,IAAIuG,oBAAqB5Y,EAAEuY,KAAK3D,M,KAGzDovB,GAAmBxmC,GAAO8B,wFAK5BvF,IAAM,SAACiG,SAAM,CAACA,EAAEqS,WAAW,IAAIuG,oBAAqB5Y,EAAEuY,KAAK3D,M,KAGzDwuB,GAAgB5lC,GAAO7X,8BACzB,SAACA,UACDoU,IAAM,SAACiG,SAAM,CACXA,EAAEqS,WAAW,IACbrS,EAAE4b,OAAOphD,IAAI,GACbwlC,EAAE4b,OAAOM,OAAO,GAChBlc,EAAEuY,KAAK5yB,EAAE47C,QAAU,YAAc,S,OAAA0C,GAAA,uDCnd1BzsC,KAAMsE,YAAiC,SAAAvyD,EAElDT,OADEgT,SAAM6hF,UAAOuG,4BAAyBlnC,cAAcrC,WAGtD,OACEnD,oCACE1uD,IAAKA,EACLgT,KAAMA,EACN6hF,MAAOA,EACP,6BAA4BuG,EAC5BC,MAAOnnC,GACHrC,G,iBCxBV,MAAMZ,GAAQ4iB,KAEDynB,GAAU,KACrB,EAAA7/C,EAAAs7B,KAAAwkB,GAAA,CAAAtkB,MAOMhmB,IAAOiG,GAAM,CAACA,EAAEsY,GAAGxE,MAAO9T,EAAEyS,aAAa,aAK3CnxB,GAAMmd,GAAH,wD,4FARUnd,yGCEnB,MAAMyY,GAAQ4iB,KAER2nB,GAAuBjlC,GAAa,EzFXf,GAKA,IyFQdklC,GAAW,EAACC,OACvBA,MAIA,MAAOC,EAASC,IAAc9xF,eAAS,IAChC+xF,EAAKC,IAAUhyF,cAAS,KACxBiyF,EAAaC,IAAkBlyF,eAAS,GAC/C,OACE,EAAA2xC,EAAAwgD,MADFC,GAAA,C,WAWI,EAAAzgD,EAAAwgD,MAAAE,GAAA,CAAAllB,MAIMhmB,IAAOiG,GAAM,CAACA,EAAEuY,KAAK5D,S,WAGzB,EAAApwB,EAAAs7B,KAAAqlB,GAAA,CAAAllB,OAEMjmB,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,SAF7C,kDAOQ,EAAAv0B,EAAAwgD,MAAAI,GAAA,CAAAC,OAEMrrC,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,UAF7C,yBAMU,EAAAv0B,EAAAs7B,KAAAwlB,GAAA,CAAAC,OAEMvrC,IAAOiG,GAAM,CAACA,EAAEuY,KAAKxD,S,SAFrC,eAMA,sBAIM,EAAAxwB,EAAAwgD,MAANQ,GAAA,C,WAQQ,EAAAhhD,EAAAs7B,KAAA2lB,GAAA,CAAAC,OAGcZ,EAAc,GAAU,E,SAGnCA,IACC,EAAAtgD,EAAAs7B,KAAC6lB,GAAD,CACE1xD,WADF,EAEEi4C,YAAY,QACZj8E,MAAO20F,EACPrtB,SAAUstB,EACV7Y,UAAW,GACXuV,WANF,MAUFuD,GAKA,EAAAtgD,EAAAs7B,KAAC8lB,GAAD,CACExrB,QAAQ,UACR57D,SAAkB,KAARomF,GAAcF,EACxB3wD,KAAK,IACLF,QAASgyD,UACP,IACElB,GAAW,SACLF,EAAO,C,IAAEG,EAAKkB,KAAM,G,CAF5B,QAIEnB,GAAW,E,YAIdD,GAAU,EAAAlgD,EAAAs7B,KAACimB,GAAD,IAAc,UAjB3B,EAAAvhD,EAAAs7B,KAAC8lB,GAAD,CAAQ7xD,KAAK,IAAIF,QAAS,IAAMkxD,GAAe,G,SADzD,eAlEE,E,yuBA8CqBR,qE,8JCtEhB,MAAM/uB,GAAehwB,IAC1B,MAAM,IAAI19C,MAAM09C,EAAhB,ECEIwU,GAAQ4iB,KAEDopB,GAAW,EAACpB,IAAEA,MAEvB,EAAApgD,EAAAs7B,KADFmmB,GAAA,C,UAWI,EAAAzhD,EAAAwgD,MAAAkB,GAAA,CAAAlmB,MAEMhmB,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,KAAM9Y,EAAEuY,KAAK7D,S,UAG/CiwB,GAAQ,OAAMA,gBAAvB,uB,sSCtBA,SAASuB,GAAQC,GACf,OAAOA,EAAUxtF,MAAM,KAAK,E,CAG9B,SAASytF,GAAaD,GACpB,OAAOA,EAAUxtF,MAAM,KAAK,E,CAG9B,SAAS0tF,GAAyBF,GAChC,MAAO,CAAC,MAAO,UAAUtqF,SAASqqF,GAAQC,IAAc,IAAM,G,CAGhE,SAASG,GAAkBC,GACzB,MAAgB,MAATA,EAAe,SAAW,O,CAGnC,SAASC,GAA2BvkC,EAAMkkC,EAAWM,GACnD,IAAIC,UACFA,EAASC,SACTA,GACE1kC,EACJ,MAAM2kC,EAAUF,EAAUlpE,EAAIkpE,EAAUpzE,MAAQ,EAAIqzE,EAASrzE,MAAQ,EAC/DuzE,EAAUH,EAAU5/D,EAAI4/D,EAAUnzE,OAAS,EAAIozE,EAASpzE,OAAS,EACjEuzE,EAAWT,GAAyBF,GACpCz+F,EAAS4+F,GAAkBQ,GAC3BC,EAAcL,EAAUh/F,GAAU,EAAIi/F,EAASj/F,GAAU,EAEzDs/F,EAA0B,MAAbF,EACnB,IAAIG,EAEJ,OAJaf,GAAQC,IAKnB,IAAK,MACHc,EAAS,CACPzpE,EAAGopE,EACH9/D,EAAG4/D,EAAU5/D,EAAI6/D,EAASpzE,QAE5B,MAEF,IAAK,SACH0zE,EAAS,CACPzpE,EAAGopE,EACH9/D,EAAG4/D,EAAU5/D,EAAI4/D,EAAUnzE,QAE7B,MAEF,IAAK,QACH0zE,EAAS,CACPzpE,EAAGkpE,EAAUlpE,EAAIkpE,EAAUpzE,MAC3BwT,EAAG+/D,GAEL,MAEF,IAAK,OACHI,EAAS,CACPzpE,EAAGkpE,EAAUlpE,EAAImpE,EAASrzE,MAC1BwT,EAAG+/D,GAEL,MAEF,QACEI,EAAS,CACPzpE,EAAGkpE,EAAUlpE,EACbsJ,EAAG4/D,EAAU5/D,GAInB,OAAQs/D,GAAaD,IACnB,IAAK,QACHc,EAAOH,IAAaC,GAAeN,GAAOO,GAAa,EAAK,GAC5D,MAEF,IAAK,MACHC,EAAOH,IAAaC,GAAeN,GAAOO,GAAa,EAAK,GAIhE,OAAOC,C,CAWT,MAAMC,GAAkBtB,MAAOc,EAAWC,EAAU7oC,KAClD,MAAMqoC,UACJA,EAAY,SAAQgB,SACpBA,EAAW,WAAUC,WACrBA,EAAa,GAAEliB,SACfA,GACEpnB,EACE2oC,QAA+B,MAAlBvhB,EAASmiB,WAAgB,EAASniB,EAASmiB,MAAMV,IAiBpE,IAAIW,QAAcpiB,EAASqiB,gBAAgB,C,UACzCb,E,SACAC,E,SACAQ,KAEE3pE,EACFA,EAACsJ,EACDA,GACE0/D,GAA2Bc,EAAOnB,EAAWM,GAC7Ce,EAAoBrB,EACpBsB,EAAiB,GACjBC,EAAa,EAEjB,IAAK,IAAIjgG,EAAI,EAAGA,EAAI2/F,EAAW1/F,OAAQD,IAAK,CAC1C,MAAMqU,KACJA,EAAIusC,GACJA,GACE++C,EAAW3/F,IAEb+1B,EAAGmqE,EACH7gE,EAAG8gE,EAAKp2E,KACRA,EAAIq2E,MACJA,SACQx/C,EAAG,C,EACX7qB,E,EACAsJ,EACAghE,iBAAkB3B,EAClBA,UAAWqB,E,SACXL,E,eACAM,E,MACAH,E,SACApiB,EACA6iB,SAAU,C,UACRrB,E,SACAC,KAGJnpE,EAAa,MAATmqE,EAAgBA,EAAQnqE,EAC5BsJ,EAAa,MAAT8gE,EAAgBA,EAAQ9gE,EAC5B2gE,EAAiB,IAAKA,EACpB3rF,CAACA,GAAO,IAAK2rF,EAAe3rF,MACvB0V,IAUHq2E,GAASH,GAAc,KACzBA,IAEqB,iBAAVG,IACLA,EAAM1B,YACRqB,EAAoBK,EAAM1B,WAGxB0B,EAAMP,QACRA,GAAwB,IAAhBO,EAAMP,YAAuBpiB,EAASqiB,gBAAgB,C,UAC5Db,E,SACAC,E,SACAQ,IACGU,EAAMP,SAGZ9pE,EACCA,EAACsJ,EACDA,GACE0/D,GAA2Bc,EAAOE,EAAmBf,KAG3Dh/F,GAAI,E,CAKR,MAAO,C,EACL+1B,E,EACAsJ,EACAq/D,UAAWqB,E,SACXL,E,eACAM,EACD,EAaH,SAASO,GAAyB5nB,GAChC,MAA0B,iBAAZA,EAXhB,SAA6BA,GAC3B,MAAO,CACL5lD,IAAK,EACLyhD,MAAO,EACPC,OAAQ,EACR5hD,KAAM,KACH8lD,E,CAKgC6nB,CAAoB7nB,GAAW,CAClE5lD,IAAK4lD,EACLnE,MAAOmE,EACPlE,OAAQkE,EACR9lD,KAAM8lD,E,CAIV,SAAS8nB,GAAiBC,GACxB,MAAO,IAAKA,EACV3tE,IAAK2tE,EAAKrhE,EACVxM,KAAM6tE,EAAK3qE,EACXy+C,MAAOksB,EAAK3qE,EAAI2qE,EAAK70E,MACrB4oD,OAAQisB,EAAKrhE,EAAIqhE,EAAK50E,O,CAY1BqyE,eAAewC,GAAeC,EAAqBjqF,GACjD,IAAIkqF,OAEY,IAAZlqF,IACFA,EAAU,IAGZ,MAAMof,EACJA,EAACsJ,EACDA,EAACo+C,SACDA,EAAQoiB,MACRA,EAAKS,SACLA,EAAQZ,SACRA,GACEkB,GACEE,SACJA,EAAW,oBAAmBC,aAC9BA,EAAe,WAAUC,eACzBA,EAAiB,WAAUC,YAC3BA,GAAc,EAAKtoB,QACnBA,EAAU,GACRhiE,EACEuqF,EAAgBX,GAAyB5nB,GAEzC/lD,EAAU0tE,EAASW,EADa,aAAnBD,EAAgC,YAAc,WACbA,GAC9CG,EAAqBV,SAAuBhjB,EAAS2jB,gBAAgB,CACzExuE,QAAiH,OAAtGiuE,QAAqD,MAAtBpjB,EAAS4jB,eAAoB,EAAS5jB,EAAS4jB,UAAUzuE,MAAqBiuE,EAAgCjuE,EAAUA,EAAQ0uE,sBAAyD,MAA/B7jB,EAAS8jB,wBAA6B,EAAS9jB,EAAS8jB,mBAAmBjB,EAASpB,W,SACxR4B,E,aACAC,E,SACArB,KAEI8B,EAAoBf,GAAiBhjB,EAASgkB,4DAA8DhkB,EAASgkB,sDAAsD,CAC/Kf,KAAyB,aAAnBM,EAAgC,IAAKnB,EAAMX,S,EAC/CnpE,E,EACAsJ,GACEwgE,EAAMZ,UACVyC,mBAAiD,MAA5BjkB,EAASkkB,qBAA0B,EAASlkB,EAASkkB,gBAAgBrB,EAASpB,W,SACnGQ,IACGG,EAAMmB,IACX,MAAO,CACLjuE,IAAKouE,EAAmBpuE,IAAMyuE,EAAkBzuE,IAAMmuE,EAAcnuE,IACpE0hD,OAAQ+sB,EAAkB/sB,OAAS0sB,EAAmB1sB,OAASysB,EAAczsB,OAC7E5hD,KAAMsuE,EAAmBtuE,KAAO2uE,EAAkB3uE,KAAOquE,EAAcruE,KACvE2hD,MAAOgtB,EAAkBhtB,MAAQ2sB,EAAmB3sB,MAAQ0sB,EAAc1sB,M,CAIlErzD,KAAK2Q,IACL3Q,KAAKqnD,IAWjB,MAoEMo5B,GAAS,CACb/uE,KAAM,QACN2hD,MAAO,OACPC,OAAQ,MACR1hD,IAAK,UAEP,SAAS8uE,GAAqBnD,GAC5B,OAAOA,EAAU52F,QAAO,0BAA2Bg6F,GAAWF,GAAOE,I,CAGvE,SAASC,GAAkBrD,EAAWmB,EAAOb,QAC/B,IAARA,IACFA,GAAM,GAGR,MAAMgD,EAAYrD,GAAaD,GACzBW,EAAWT,GAAyBF,GACpCz+F,EAAS4+F,GAAkBQ,GACjC,IAAI4C,EAAiC,MAAb5C,EAAmB2C,KAAehD,EAAM,MAAQ,SAAW,QAAU,OAAuB,UAAdgD,EAAwB,SAAW,MAMzI,OAJInC,EAAMZ,UAAUh/F,GAAU4/F,EAAMX,SAASj/F,KAC3CgiG,EAAoBJ,GAAqBI,IAGpC,CACLC,KAAMD,EACNE,MAAON,GAAqBI,G,CAIhC,MAAMG,GAAO,CACX1wE,MAAO,MACPC,IAAK,SAEP,SAAS0wE,GAA8B3D,GACrC,OAAOA,EAAU52F,QAAO,cAAeg6F,GAAWM,GAAKN,I,CAGzD,MAAMQ,GAAQ,CAAC,MAAO,QAAS,SAAU,QACnCC,GAA6BD,GAAM3yC,QAAO,CAACC,EAAK4yC,IAAS5yC,EAAI/6B,OAAO2tE,EAAMA,EAAO,SAAUA,EAAO,SAAS,IAiBjH,MAAMC,GAAgB,SAAU9rF,GAK9B,YAJgB,IAAZA,IACFA,EAAU,IAGL,CACLtC,KAAM,gB,QACNsC,EAEAwnF,SAASyC,GACP,IAAI8B,EAAuBC,EAAwBC,EAAwBC,EAAwBC,EAEnG,MAAM/sE,EACJA,EAACsJ,EACDA,EAACwgE,MACDA,EAAKG,eACLA,EAActB,UACdA,EAASjhB,SACTA,EAAQ6iB,SACRA,GACEM,GACEoB,UACJA,EAAY,KAAIe,kBAChBA,EAAoBR,GAAaS,cACjCA,GAAgB,KACbC,GACDtsF,EACEusF,EA1CZ,SAA0BlB,EAAWgB,EAAeD,GAElD,OAD2Cf,EAAY,IAAIe,EAAkBhvC,QAAO2qC,GAAaC,GAAaD,KAAesD,OAAee,EAAkBhvC,QAAO2qC,GAAaC,GAAaD,KAAesD,KAAce,EAAkBhvC,QAAO2qC,GAAaD,GAAQC,KAAeA,KAC/O3qC,QAAO2qC,IAC3CsD,GACKrD,GAAaD,KAAesD,KAAcgB,GAAgBX,GAA8B3D,KAAeA,G,CAsC3FyE,CAAiBnB,EAAWgB,EAAeD,GACxDlnE,QAAiB8kE,GAAeC,EAAqBqC,GACrDG,EAAoJ,OAApIV,EAAmF,OAA1DC,EAAyB3C,EAAeqD,oBAAyB,EAASV,EAAuBxhE,OAAiBuhE,EAAwB,EACnLY,EAAmBJ,EAAWE,GAEpC,GAAwB,MAApBE,EACF,MAAO,GAGT,MAAMpB,KACJA,EAAIC,MACJA,GACEJ,GAAkBuB,EAAkBzD,QAAgC,MAAlBpiB,EAASmiB,WAAgB,EAASniB,EAASmiB,MAAMU,EAASpB,YAEhH,GAAIR,IAAc4E,EAChB,MAAO,C,EACLvtE,E,EACAsJ,EACA+gE,MAAO,CACL1B,UAAWwE,EAAW,KAK5B,MAAMK,EAAmB,CAAC1nE,EAAS4iE,GAAQ6E,IAAoBznE,EAASqmE,GAAOrmE,EAASsmE,IAClFqB,EAAe,IAA+I,OAAzIZ,EAAoF,OAA1DC,EAAyB7C,EAAeqD,oBAAyB,EAASR,EAAuBY,WAAqBb,EAAyB,GAAK,CACvMlE,UAAW4E,EACXG,UAAWF,IAEPG,EAAgBR,EAAWE,EAAe,GAEhD,GAAIM,EACF,MAAO,CACL35E,KAAM,CACJoX,MAAOiiE,EAAe,EACtBK,UAAWD,GAEbpD,MAAO,CACL1B,UAAWgF,IAKjB,MAAMC,EAAkCH,EAAahyF,QAAQoyF,MAAK,CAACliG,EAAGE,IAAMF,EAAE+hG,UAAU,GAAK7hG,EAAE6hG,UAAU,KACnGI,EAKC,OAL8Bf,EAAwBa,EAAgCG,MAAKtpC,IAChG,IAAIipC,UACFA,GACEjpC,EACJ,OAAOipC,EAAUM,OAAMloE,GAAYA,GAAY,GAAE,UACrC,EAASinE,EAAsBpE,UACvCsF,EAAgD,MAA/BH,EAAsCA,EAA8BF,EAAgC,GAAGjF,UAE9H,OAAIsF,IAAmBtF,EACd,CACL30E,KAAM,CACJoX,MAAOiiE,EAAe,EACtBK,UAAWD,GAEbpD,MAAO,CACL1B,UAAWsF,IAKV,E,IAgPb,MAAMC,GAAS,SAAU17F,GAKvB,YAJc,IAAVA,IACFA,EAAQ,GAGH,CACL8L,KAAM,SACNsC,QAASpO,EAET41F,SAASyC,GACP,MAAM7qE,EACJA,EAACsJ,EACDA,GACEuhE,EACEsD,QA5DZ/F,eAAoCyC,EAAqBr4F,GACvD,MAAMm2F,UACJA,EAASjhB,SACTA,EAAQ6iB,SACRA,GACEM,EACE5B,QAA+B,MAAlBvhB,EAASmiB,WAAgB,EAASniB,EAASmiB,MAAMU,EAASpB,WACvEsD,EAAO/D,GAAQC,GACfsD,EAAYrD,GAAaD,GACzBa,EAAqD,MAAxCX,GAAyBF,GACtCyF,EAAgB,CAAC,OAAQ,OAAO/vF,SAASouF,IAAQ,EAAK,EACtD4B,EAAiBpF,GAAOO,GAAa,EAAK,EAC1C8E,EAA4B,mBAAV97F,EAAuBA,EAAMq4F,GAAuBr4F,EAE5E,IAAI82F,SACFA,EAAQiF,UACRA,EAASC,cACTA,GACsB,iBAAbF,EAAwB,CACjChF,SAAUgF,EACVC,UAAW,EACXC,cAAe,MACb,CACFlF,SAAU,EACViF,UAAW,EACXC,cAAe,QACZF,GAOL,OAJIrC,GAAsC,iBAAlBuC,IACtBD,EAA0B,QAAdtC,GAAsC,EAAhBuC,EAAqBA,GAGlDhF,EAAa,CAClBxpE,EAAGuuE,EAAYF,EACf/kE,EAAGggE,EAAW8E,GACZ,CACFpuE,EAAGspE,EAAW8E,EACd9kE,EAAGilE,EAAYF,E,CAsBYI,CAAqB5D,EAAqBr4F,GACnE,MAAO,CACLwtB,EAAGA,EAAImuE,EAAWnuE,EAClBsJ,EAAGA,EAAI6kE,EAAW7kE,EAClBtV,KAAMm6E,E,IC3vBd,SAASO,GAASl8F,GAChB,OAAOA,GAASA,EAAM4H,UAAY5H,EAAMgjB,UAAYhjB,EAAMm8F,OAASn8F,EAAMo8F,W,CAE3E,SAASC,GAAUl0E,GACjB,GAAY,MAARA,EACF,OAAOxgB,OAGT,IAAKu0F,GAAS/zE,GAAO,CACnB,MAAMla,EAAgBka,EAAKla,cAC3B,OAAOA,GAAgBA,EAAcub,aAAwB7hB,M,CAG/D,OAAOwgB,C,CAGT,SAASm0E,GAAiBjyE,GACxB,OAAOgyE,GAAUhyE,GAASkyE,iBAAiBlyE,E,CAG7C,SAASmyE,GAAYr0E,GACnB,OAAO+zE,GAAS/zE,GAAQ,GAAKA,GAAQA,EAAK9b,UAAY,IAAIzD,cAAgB,E,CAG5E,SAAS6zF,KACP,MAAMC,EAASvpD,UAAUwpD,cAEzB,OAAc,MAAVD,GAAkBA,EAAOE,OACpBF,EAAOE,OAAOh8F,KAAIi8F,GAAQA,EAAK93B,MAAQ,IAAM83B,EAAK7uD,UAAS9tC,KAAK,KAGlEizC,UAAU2pD,S,CAGnB,SAASC,GAAc/8F,GACrB,OAAOA,aAAiBq8F,GAAUr8F,GAAO0zE,W,CAE3C,SAASspB,GAAUh9F,GACjB,OAAOA,aAAiBq8F,GAAUr8F,GAAO4hF,O,CAK3C,SAASqb,GAAa90E,GAEpB,GAA0B,oBAAf+0E,WACT,OAAO,EAIT,OAAO/0E,aADYk0E,GAAUl0E,GAAM+0E,YACE/0E,aAAgB+0E,U,CAEvD,SAASC,GAAkB9yE,GAEzB,MAAMiJ,SACJA,EAAQ8pE,UACRA,EAASC,UACTA,GACEf,GAAiBjyE,GACrB,MAAO,6BAA6BhhB,KAAKiqB,EAAW+pE,EAAYD,E,CAElE,SAASE,GAAejzE,GACtB,MAAO,CAAC,QAAS,KAAM,MAAMxe,SAAS2wF,GAAYnyE,G,CAEpD,SAASkzE,GAAkBlzE,GAEzB,MAAMmzE,EAAY,WAAWn0F,KAAKozF,MAC5B/8C,EAAM48C,GAAiBjyE,GAI7B,MAAyB,SAAlBq1B,EAAI+9C,WAA4C,SAApB/9C,EAAIg+C,aACvB,UAAhBh+C,EAAI+5B,SAAuB,CAAC,YAAa,eAAe5tE,SAAS6zC,EAAIi+C,aAAeH,GAAgC,WAAnB99C,EAAIi+C,YAA2BH,KAAc99C,EAAI8L,QAAwB,SAAf9L,EAAI8L,M,CAEjK,SAASoyC,KAEP,OAAQ,iCAAiCv0F,KAAKozF,K,CAOhD,MAAMoB,GAAMjlF,KAAK2Q,IACXu0E,GAAMllF,KAAKqnD,IACX89B,GAAQnlF,KAAK45C,MAEnB,SAASwrC,GAAsB3zE,EAAS4zE,EAAcC,GACpD,IAAIC,EAAuBC,EAAqBC,EAAwBC,OAEnD,IAAjBL,IACFA,GAAe,QAGO,IAApBC,IACFA,GAAkB,GAGpB,MAAMK,EAAal0E,EAAQm0E,wBAC3B,IAAIC,EAAS,EACTC,EAAS,EAETT,GAAgBlB,GAAc1yE,KAChCo0E,EAASp0E,EAAQwpD,YAAc,GAAIkqB,GAAMQ,EAAWj7E,OAAS+G,EAAQwpD,aAAmB,EACxF6qB,EAASr0E,EAAQspD,aAAe,GAAIoqB,GAAMQ,EAAWh7E,QAAU8G,EAAQspD,cAAoB,GAG7F,MAAMgrB,EAAM3B,GAAU3yE,GAAWgyE,GAAUhyE,GAAW1iB,OAChDi3F,GAAoBhB,MAAsBM,EAC1C1wE,GAAK+wE,EAAWj0E,MAAQs0E,GAA6I,OAAzHT,EAAsE,OAA7CC,EAAsBO,EAAI3pB,qBAA0B,EAASopB,EAAoBS,YAAsBV,EAA4B,IAAMM,EAC9M3nE,GAAKynE,EAAW/zE,KAAOo0E,GAA+I,OAA3HP,EAAwE,OAA9CC,EAAuBK,EAAI3pB,qBAA0B,EAASspB,EAAqBQ,WAAqBT,EAA6B,IAAMK,EAChNp7E,EAAQi7E,EAAWj7E,MAAQm7E,EAC3Bl7E,EAASg7E,EAAWh7E,OAASm7E,EACnC,MAAO,C,MACLp7E,E,OACAC,EACAiH,IAAKsM,EACLm1C,MAAOz+C,EAAIlK,EACX4oD,OAAQp1C,EAAIvT,EACZ+G,KAAMkD,E,EACNA,E,EACAsJ,E,CAIJ,SAASioE,GAAmB52E,GAC1B,OAtFcnoB,EAsFEmoB,GArFTnoB,aAAiBq8F,GAAUr8F,GAAO2hF,KAqFjBx5D,EAAKla,cAAgBka,EAAKvgB,WAAaD,OAAOC,UAAUshB,gBAtFlF,IAAgBlpB,C,CAyFhB,SAASg/F,GAAc30E,GACrB,OAAI2yE,GAAU3yE,GACL,CACLE,WAAYF,EAAQE,WACpBE,UAAWJ,EAAQI,WAIhB,CACLF,WAAYF,EAAQ40E,YACpBx0E,UAAWJ,EAAQ60E,Y,CAIvB,SAASC,GAAoB90E,GAG3B,OAAO2zE,GAAsBe,GAAmB10E,IAAUC,KAAO00E,GAAc30E,GAASE,U,CAQ1F,SAAS60E,GAA8B/0E,EAAS8uE,EAAchC,GAC5D,MAAMkI,EAA0BtC,GAAc5D,GACxCjwE,EAAkB61E,GAAmB5F,GACrChB,EAAO6F,GAAsB3zE,EACnCg1E,GATF,SAAkBh1E,GAChB,MAAM8tE,EAAO6F,GAAsB3zE,GACnC,OAAO0zE,GAAM5F,EAAK70E,SAAW+G,EAAQwpD,aAAekqB,GAAM5F,EAAK50E,UAAY8G,EAAQspD,Y,CAOxD2rB,CAASnG,GAA4B,UAAbhC,GACnD,IAAIoI,EAAS,CACXh1E,WAAY,EACZE,UAAW,GAEb,MAAM+0E,EAAU,CACdhyE,EAAG,EACHsJ,EAAG,GAGL,GAAIuoE,IAA4BA,GAAwC,UAAblI,EAKzD,IAJkC,SAA9BqF,GAAYrD,IAA4BgE,GAAkBj0E,MAC5Dq2E,EAASP,GAAc7F,IAGrB4D,GAAc5D,GAAe,CAC/B,MAAMsG,EAAazB,GAAsB7E,GAAc,GACvDqG,EAAQhyE,EAAIiyE,EAAWjyE,EAAI2rE,EAAauG,WACxCF,EAAQ1oE,EAAI2oE,EAAW3oE,EAAIqiE,EAAawG,S,MAC/Bz2E,IACTs2E,EAAQhyE,EAAI2xE,GAAoBj2E,IAIpC,MAAO,CACLsE,EAAG2qE,EAAK7tE,KAAOi1E,EAAOh1E,WAAai1E,EAAQhyE,EAC3CsJ,EAAGqhE,EAAK3tE,IAAM+0E,EAAO90E,UAAY+0E,EAAQ1oE,EACzCxT,MAAO60E,EAAK70E,MACZC,OAAQ40E,EAAK50E,O,CAIjB,SAASq8E,GAAcz3E,GACrB,MAA0B,SAAtBq0E,GAAYr0E,GACPA,EAKPA,EAAK03E,cACL13E,EAAKzT,aACLuoF,GAAa90E,GAAQA,EAAK23E,KAAO,OACjCf,GAAmB52E,E,CAKvB,SAAS43E,GAAoB11E,GAC3B,OAAK0yE,GAAc1yE,IAAmD,UAAvCiyE,GAAiBjyE,GAASihD,SAIlDjhD,EAAQ8uE,aAHN,I,CA2BX,SAAS6G,GAAgB31E,GACvB,MAAM41E,EAAS5D,GAAUhyE,GACzB,IAAI8uE,EAAe4G,GAAoB11E,GAEvC,KAAO8uE,GAAgBmE,GAAenE,IAA6D,WAA5CmD,GAAiBnD,GAAc7tB,UACpF6tB,EAAe4G,GAAoB5G,GAGrC,OAAIA,IAA+C,SAA9BqD,GAAYrD,IAA0D,SAA9BqD,GAAYrD,IAAwE,WAA5CmD,GAAiBnD,GAAc7tB,WAA0BiyB,GAAkBpE,IACvK8G,EAGF9G,GAjCT,SAA4B9uE,GAC1B,IAAIi+D,EAAcsX,GAAcv1E,GAMhC,IAJI4yE,GAAa3U,KACfA,EAAcA,EAAYwX,MAGrB/C,GAAczU,KAAiB,CAAC,OAAQ,QAAQz8E,SAAS2wF,GAAYlU,KAAe,CACzF,GAAIiV,GAAkBjV,GACpB,OAAOA,EACF,CACL,MAAMnnC,EAASmnC,EAAY5zE,WAC3B4zE,EAAc2U,GAAa97C,GAAUA,EAAO2+C,KAAO3+C,C,EAIvD,OAAO,I,CAiBgB++C,CAAmB71E,IAAY41E,C,CAGxD,SAASE,GAAc91E,GACrB,GAAI0yE,GAAc1yE,GAChB,MAAO,CACL/G,MAAO+G,EAAQwpD,YACftwD,OAAQ8G,EAAQspD,cAIpB,MAAMwkB,EAAO6F,GAAsB3zE,GACnC,MAAO,CACL/G,MAAO60E,EAAK70E,MACZC,OAAQ40E,EAAK50E,O,CAqGjB,SAAS68E,GAA2Bj4E,GAClC,MAAMzT,EAAakrF,GAAcz3E,GAEjC,MAAI,CAAC,OAAQ,OAAQ,aAAatc,SAAS2wF,GAAY9nF,IAE9CyT,EAAKla,cAAcb,KAGxB2vF,GAAcroF,IAAeyoF,GAAkBzoF,GAC1CA,EAGF0rF,GAA2B1rF,E,CAGpC,SAAS2rF,GAAqBl4E,EAAMm4E,GAClC,IAAIC,OAES,IAATD,IACFA,EAAO,IAGT,MAAME,EAAqBJ,GAA2Bj4E,GAChDs4E,EAASD,KAAsE,OAA7CD,EAAsBp4E,EAAKla,oBAAyB,EAASsyF,EAAoBnzF,MACnHuxF,EAAMtC,GAAUmE,GAChBjsF,EAASksF,EAAS,CAAC9B,GAAKryE,OAAOqyE,EAAI3pB,gBAAkB,GAAImoB,GAAkBqD,GAAsBA,EAAqB,IAAMA,EAC5HE,EAAcJ,EAAKh0E,OAAO/X,GAChC,OAAOksF,EAASC,EAChBA,EAAYp0E,OAAO+zE,GAAqB9rF,G,CA0C1C,SAASosF,GAAkCt2E,EAASu2E,EAAgBzJ,GAClE,MAAuB,aAAnByJ,EACK1I,GA7HX,SAAyB7tE,EAAS8sE,GAChC,MAAMwH,EAAMtC,GAAUhyE,GAChBm1D,EAAOuf,GAAmB10E,GAC1B2qD,EAAiB2pB,EAAI3pB,eAC3B,IAAI1xD,EAAQk8D,EAAKqhB,YACbt9E,EAASi8D,EAAKshB,aACdtzE,EAAI,EACJsJ,EAAI,EAER,GAAIk+C,EAAgB,CAClB1xD,EAAQ0xD,EAAe1xD,MACvBC,EAASyxD,EAAezxD,OACxB,MAAMw9E,EAAiBnD,MAEnBmD,IAAmBA,GAA+B,UAAb5J,KACvC3pE,EAAIwnD,EAAe6pB,WACnB/nE,EAAIk+C,EAAe8pB,U,CAIvB,MAAO,C,MACLx7E,E,OACAC,E,EACAiK,E,EACAsJ,E,CAqGwBkqE,CAAgB32E,EAAS8sE,IAG/C6F,GAAU4D,GArBhB,SAAoCv2E,EAAS8sE,GAC3C,MAAMoH,EAAaP,GAAsB3zE,GAAS,EAAoB,UAAb8sE,GACnD3sE,EAAM+zE,EAAW/zE,IAAMH,EAAQs1E,UAC/Br1E,EAAOi0E,EAAWj0E,KAAOD,EAAQq1E,WACvC,MAAO,C,IACLl1E,E,KACAF,EACAkD,EAAGlD,EACHwM,EAAGtM,EACHyhD,MAAO3hD,EAAOD,EAAQw2E,YACtB30B,OAAQ1hD,EAAMH,EAAQy2E,aACtBx9E,MAAO+G,EAAQw2E,YACft9E,OAAQ8G,EAAQy2E,a,CAUTG,CAA2BL,EAAgBzJ,GAG7Ce,GAtGT,SAAyB7tE,GACvB,IAAI62E,EAEJ,MAAM1hB,EAAOuf,GAAmB10E,GAC1Bk1E,EAASP,GAAc30E,GACvBjd,EAA0D,OAAlD8zF,EAAwB72E,EAAQpc,oBAAyB,EAASizF,EAAsB9zF,KAChGkW,EAAQw6E,GAAIte,EAAK1L,YAAa0L,EAAKqhB,YAAazzF,EAAOA,EAAK0mE,YAAc,EAAG1mE,EAAOA,EAAKyzF,YAAc,GACvGt9E,EAASu6E,GAAIte,EAAK5L,aAAc4L,EAAKshB,aAAc1zF,EAAOA,EAAKwmE,aAAe,EAAGxmE,EAAOA,EAAK0zF,aAAe,GAClH,IAAItzE,GAAK+xE,EAAOh1E,WAAa40E,GAAoB90E,GACjD,MAAMyM,GAAKyoE,EAAO90E,UAMlB,MAJiD,QAA7C6xE,GAAiBlvF,GAAQoyE,GAAM5gB,YACjCpxC,GAAKswE,GAAIte,EAAKqhB,YAAazzF,EAAOA,EAAKyzF,YAAc,GAAKv9E,GAGrD,C,MACLA,E,OACAC,E,EACAiK,E,EACAsJ,E,CAmFsBqqE,CAAgBpC,GAAmB10E,I,CAM7D,SAAS+2E,GAAqB/2E,GAC5B,MAAMg3E,EAAoBhB,GAAqBh2E,GAEzCi3E,EADoB,CAAC,WAAY,SAASz1F,SAASywF,GAAiBjyE,GAASihD,WACvCyxB,GAAc1yE,GAAW21E,GAAgB31E,GAAWA,EAEhG,OAAK2yE,GAAUsE,GAKRD,EAAkB71C,QAAO61C,GAAqBrE,GAAUqE,IAhEjE,SAAkBlgD,EAAQrqC,GACxB,MAAMyqF,EAAgC,MAArBzqF,EAAM0qF,iBAAsB,EAAS1qF,EAAM0qF,cAE5D,GAAIrgD,EAAO54B,SAASzR,GAClB,OAAO,EAEJ,GAAIyqF,GAAYtE,GAAasE,GAAW,CAC3C,IAAIzhG,EAAOgX,EAEX,EAAG,CAED,GAAIhX,GAAQqhD,IAAWrhD,EACrB,OAAO,EAITA,EAAOA,EAAK4U,YAAc5U,EAAKggG,I,OACxBhgG,E,CAGX,OAAO,C,CA4C8E2hG,CAASJ,EAAmBC,IAAsD,SAAnC9E,GAAY6E,KAJvI,E,CAmCX,MAAMK,GAAW,C,gBA1BjB,SAAyBzvC,GACvB,IAAI5nC,QACFA,EAAOkuE,SACPA,EAAQC,aACRA,EAAYrB,SACZA,GACEllC,EACJ,MACMovC,EAAoB,IADiB,sBAAb9I,EAAmC6I,GAAqB/2E,GAAW,GAAGiC,OAAOisE,GACtDC,GAC/CmJ,EAAwBN,EAAkB,GAC1CO,EAAeP,EAAkBj6C,QAAO,CAACy6C,EAASC,KACtD,MAAM3J,EAAOwI,GAAkCt2E,EAASy3E,EAAkB3K,GAK1E,OAJA0K,EAAQr3E,IAAMszE,GAAI3F,EAAK3tE,IAAKq3E,EAAQr3E,KACpCq3E,EAAQ51B,MAAQ4xB,GAAI1F,EAAKlsB,MAAO41B,EAAQ51B,OACxC41B,EAAQ31B,OAAS2xB,GAAI1F,EAAKjsB,OAAQ21B,EAAQ31B,QAC1C21B,EAAQv3E,KAAOwzE,GAAI3F,EAAK7tE,KAAMu3E,EAAQv3E,MAC/Bu3E,CAAO,GACblB,GAAkCt2E,EAASs3E,EAAuBxK,IACrE,MAAO,CACL7zE,MAAOs+E,EAAa31B,MAAQ21B,EAAat3E,KACzC/G,OAAQq+E,EAAa11B,OAAS01B,EAAap3E,IAC3CgD,EAAGo0E,EAAat3E,KAChBwM,EAAG8qE,EAAap3E,I,wDA3NpB,SAA+DynC,GAC7D,IAAIkmC,KACFA,EAAIgB,aACJA,EAAYhC,SACZA,GACEllC,EACJ,MAAMotC,EAA0BtC,GAAc5D,GACxCjwE,EAAkB61E,GAAmB5F,GAE3C,GAAIA,IAAiBjwE,EACnB,OAAOivE,EAGT,IAAIoH,EAAS,CACXh1E,WAAY,EACZE,UAAW,GAEb,MAAM+0E,EAAU,CACdhyE,EAAG,EACHsJ,EAAG,GAGL,IAAIuoE,IAA4BA,GAAwC,UAAblI,MACvB,SAA9BqF,GAAYrD,IAA4BgE,GAAkBj0E,MAC5Dq2E,EAASP,GAAc7F,IAGrB4D,GAAc5D,IAAe,CAC/B,MAAMsG,EAAazB,GAAsB7E,GAAc,GACvDqG,EAAQhyE,EAAIiyE,EAAWjyE,EAAI2rE,EAAauG,WACxCF,EAAQ1oE,EAAI2oE,EAAW3oE,EAAIqiE,EAAawG,S,CAQ5C,MAAO,IAAKxH,EACV3qE,EAAG2qE,EAAK3qE,EAAI+xE,EAAOh1E,WAAai1E,EAAQhyE,EACxCsJ,EAAGqhE,EAAKrhE,EAAIyoE,EAAO90E,UAAY+0E,EAAQ1oE,E,YA0LzCkmE,G,cACAmD,G,gBACAH,G,mBACAjB,GACAxH,gBAAiBtlC,IACf,IAAIykC,UACFA,EAASC,SACTA,EAAQQ,SACRA,GACEllC,EACJ,MAAO,CACLykC,UAAW0I,GAA8B1I,EAAWsJ,GAAgBrJ,GAAWQ,GAC/ER,SAAU,IAAKwJ,GAAcxJ,GAC3BnpE,EAAG,EACHsJ,EAAG,GAEN,EAEHirE,eAAgB13E,GAAW5rB,MAAM4oF,KAAKh9D,EAAQ03E,kBAC9C1K,MAAOhtE,GAAmD,QAAxCiyE,GAAiBjyE,GAASu0C,WAmF9C,MAAMojC,GAAkB,CAACtL,EAAWC,EAAUvoF,IAAY8oF,GAAkBR,EAAWC,EAAU,C,SAC/F+K,MACGtzF,I,qCCnlBL,SAAS6zF,IAEP,GAC4C,oBAAnC5yD,gCAC4C,mBAA5CA,+BAA+B6yD,SAcxC,IAEE7yD,+BAA+B6yD,SAASD,E,CACxC,MAAOE,GAGPjjE,QAAQC,MAAMgjE,E,EAOhBF,GACAG,GAAiBloG,EAAA,SC5BnB,IAAImoG,GAA4B,oBAAbz6F,SAA2BnP,EAAA+J,gBAAkB/J,EAAA2J,UAIhE,SAASkgG,GAAUnpG,EAAGE,GACpB,GAAIF,IAAME,EACR,OAAO,EAGT,UAAWF,UAAaE,EACtB,OAAO,EAGT,GAAiB,mBAANF,GAAoBA,EAAEsG,aAAepG,EAAEoG,WAChD,OAAO,EAGT,IAAI/H,EAAQD,EAAGF,EAEf,GAAI4B,GAAKE,GAAiB,iBAALF,EAAe,CAClC,GAAIsF,MAAMC,QAAQvF,GAAI,CAEpB,GADAzB,EAASyB,EAAEzB,OACPA,GAAU2B,EAAE3B,OAAQ,OAAO,EAE/B,IAAKD,EAAIC,EAAgB,GAARD,KACf,IAAK6qG,GAAUnpG,EAAE1B,GAAI4B,EAAE5B,IACrB,OAAO,EAIX,OAAO,C,CAMT,GAHAF,EAAOC,OAAOD,KAAK4B,GACnBzB,EAASH,EAAKG,OAEVA,IAAWF,OAAOD,KAAK8B,GAAG3B,OAC5B,OAAO,EAGT,IAAKD,EAAIC,EAAgB,GAARD,KACf,IAAKD,OAAOc,UAAUC,eAAekB,KAAKJ,EAAG9B,EAAKE,IAChD,OAAO,EAIX,IAAKA,EAAIC,EAAgB,GAARD,KAAY,CAC3B,MAAMoB,EAAMtB,EAAKE,GAEjB,IAAY,WAARoB,IAAoBM,EAAEQ,YAIrB2oG,GAAUnpG,EAAEN,GAAMQ,EAAER,IACvB,OAAO,C,CAIX,OAAO,C,CAGT,OAAOM,GAAMA,GAAKE,GAAMA,C,CAW1B,SAASkpG,GAAYC,GACnB,IAAIpL,WACFA,EAAUjB,UACVA,EAAY,SAAQgB,SACpBA,EAAW,WAAUsL,qBACrBA,QACY,IAAVD,EAAmB,GAAKA,EAC5B,MAAOhhF,EAAMkhF,GAAWjqG,EAAAmK,SAAe,CAGrC4qB,EAAG,KACHsJ,EAAG,K,SACHqgE,E,UACAhB,EACAsB,eAAgB,MAEXkL,EAAkBC,GAAuBnqG,EAAAmK,SAAew0F,GAE1DkL,GAA8B,MAApBK,OAA2B,EAASA,EAAiB/hG,KAAIqxD,IACtE,IAAInmD,KACFA,EAAIsC,QACJA,GACE6jD,EACJ,MAAO,C,KACLnmD,E,QACAsC,EACD,IACe,MAAdgpF,OAAqB,EAASA,EAAWx2F,KAAIiiG,IAC/C,IAAI/2F,KACFA,EAAIsC,QACJA,GACEy0F,EACJ,MAAO,C,KACL/2F,E,QACAsC,EACD,MAEDw0F,EAAoBxL,GAGtB,MAAMV,EAAYj+F,EAAAkK,OAAa,MACzBg0F,EAAWl+F,EAAAkK,OAAa,MACxBmgG,EAAarqG,EAAAkK,OAAa,MAC1BogG,EAAUtqG,EAAAkK,OAAa6e,GACvBwhF,EApDR,SAAsBhjG,GACpB,MAAMlH,EAAML,EAAAkK,OAAa3C,GAIzB,OAHAqiG,IAAM,KACJvpG,EAAIiB,QAAUiG,CAAK,IAEdlH,C,CA+CyBmqG,CAAaR,GACvCS,EAASzqG,EAAAwJ,aAAkB,KAC1By0F,EAAU38F,SAAY48F,EAAS58F,SAIpCioG,GAAgBtL,EAAU38F,QAAS48F,EAAS58F,QAAS,CACnDq9F,WAAYuL,E,UACZxM,E,SACAgB,IACC52F,MAAKihB,IACF2hF,EAAappG,UAAYuoG,GAAUS,EAAQhpG,QAASynB,KACtDuhF,EAAQhpG,QAAUynB,EAClB4gF,GAAAgB,WAAmB,KACjBV,EAAQlhF,EAAK,I,GAGjB,GACD,CAACmhF,EAAkBxM,EAAWgB,IACjCkL,IAAM,KAEAc,EAAappG,SACfmpG,GAAQ,GAET,CAACA,IACJ,MAAMC,EAAe1qG,EAAAkK,QAAa,GAClC0/F,IAAM,KACJc,EAAappG,SAAU,EAChB,KACLopG,EAAappG,SAAU,CAAK,IAE7B,IACH,MAAMspG,EAA0B5qG,EAAAwJ,aAAkB,KAMhD,GALkC,mBAAvB6gG,EAAW/oG,UACpB+oG,EAAW/oG,UACX+oG,EAAW/oG,QAAU,MAGnB28F,EAAU38F,SAAW48F,EAAS58F,QAChC,GAAIipG,EAAwBjpG,QAAS,CACnC,MAAMupG,EAAYN,EAAwBjpG,QAAQ28F,EAAU38F,QAAS48F,EAAS58F,QAASmpG,GACvFJ,EAAW/oG,QAAUupG,C,MAErBJ,G,GAGH,CAACA,EAAQF,IACNO,EAAe9qG,EAAAwJ,aAAkBkmB,IACrCuuE,EAAU38F,QAAUouB,EACpBk7E,GAAyB,GACxB,CAACA,IACEG,EAAc/qG,EAAAwJ,aAAkBkmB,IACpCwuE,EAAS58F,QAAUouB,EACnBk7E,GAAyB,GACxB,CAACA,IACEvlG,EAAOrF,EAAAgK,SAAc,KAAO,C,UAChCi0F,E,SACAC,KACE,IACJ,OAAOl+F,EAAAgK,SAAc,KAAO,IAAK+e,E,OAC/B0hF,E,KACAplG,EACA44F,UAAW6M,EACX5M,SAAU6M,KACR,CAAChiF,EAAM0hF,EAAQplG,EAAMylG,EAAcC,G,cCtLlC,MAEMC,GAAiB,EAACC,eAC7BA,MAUA,MAAMC,EAAaC,GACP,IAAVA,EAAc,GAAe,IAAVA,EAAc,GAAe,IAAVA,EAAc,GAd1B,GAe5B,OACE,EAAArvD,EAAAs7B,KADFg0B,GAAA,C,SASKH,EAAe9iG,KAAI,EAACjJ,GAAEA,EAAFisG,MAAMA,EAANh0B,MAAaA,EAAbhN,SAAoBA,EAApBkhC,YAA8BA,MACjD,EAAAvvD,EAAAs7B,KAAAk0B,GAAA,CAAAh0B,MAEO,CACHrwB,GADG,2EAOHskD,GAAkB,C,SAChBphC,EACAqhC,QAASH,K,UAIb,EAAAvvD,EAAAs7B,KAACq0B,GAAD,CAASt0B,MAAOA,EAAO9rC,KAAM6/D,EAAUC,MAdlCjsG,MAXb,EAgCIqsG,GAAoB,EAACphC,SACzBA,EADyBqhC,QAEzBA,KAIIvkD,GANoB,qFAODukD,EAEVE,GAAM,C,QAAEF,IAAcrhC,GAG/BuhC,GAAQ,EAACF,QAAEA,KAAmCx1C,GAAtC,uEAKaw1C,GAKpB,SAASG,IAAoBC,cAClCA,IAcA,MAAO,C,SAPW,GAAEzrF,KAAKu7B,MACtBv7B,KAAKqU,SAAWo3E,EAAiB,EAAIA,EAAgB,O,YAGpCzrF,KAAKu7B,MADI,EAE3Bv7B,KAAKqU,SAAkC,EAFZ,G,sGA5Ddq3E,0DApBa,O,wHCJvB,MAAMC,GAAS,CAAC,KAAD,UAAa,KAAM,MCGnCC,GAAU9kD,GAAH,mEAGD/J,GAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,W,yFAQrC0hC,Y,sFAsFAA,Y,sFAoQAA,Y,sFAsOAA,YCziBT,MAAMz6C,GAAQ4iB,KAIRsD,GAAY5gB,GAAa,GnGtCJ,GAKA,ImGmCrBo1C,GACK,GADLA,GAEI,GAEJC,GACK,GADLA,GAEI,GAGJC,GAQF,CACF,EAAG,CACDhL,KAAM,YACNiL,IAAK,QACLzoD,MAAO,iCACP4+B,YACE,6CACF8pB,KDvDoB,KACtB,EAAAtwD,EAAAwgD,MAAA+P,GAAA,CAEEC,QAAQ,cACRC,KAAK,OACLC,MAAM,6B,WAEN,EAAA1wD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,u+CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oYACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ogBACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,gkFACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,qjEACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,u4IACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,+4GACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oYACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,wzUACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,izFACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oQACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,o3BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,o3BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oxBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ofACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oxBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,orBACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ocACF0rG,KAAK,cCxBT,EAAG,CACDrL,KAAM,SACNiL,IAAK,QACLzoD,MAAO,oCACP4+B,YACE,gDACF8pB,KDigBqB,KACvB,EAAAtwD,EAAAwgD,MAAAmQ,GAAA,CAEEH,QAAQ,cACRC,KAAK,OACLC,MAAM,6B,WAEN,EAAA1wD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oTACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,o+CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,q8CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,osCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,omCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,olBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qdACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qjBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qgBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,orBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,opCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qjBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,ouBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,skEACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qaACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,snEACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qaACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,osCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qgBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,onDACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,q2CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,omBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,omBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,myBACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,ouBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,onBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oyCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oxBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,ooCACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,onBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oPACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oPACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oRACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,+yVACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,onDACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,osCACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oTACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oTACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,mRACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,yrBACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,82BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,0wDACF0rG,KAAK,cC9wBT,EAAG,CACDrL,KAAM,SACNiL,IAAK,QACLzoD,MAAO,mCACP4+B,YACE,+DACF8pB,KDmRoB,KACtB,EAAAtwD,EAAAwgD,MAAAsQ,GAAA,CAEEN,QAAQ,cACRC,KAAK,OACLC,MAAM,6B,WAEN,EAAA1wD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,skBACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,2pBACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,g0CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,siCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,gfACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,giBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ynBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,s/BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,2wBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,siCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,qqBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,qzBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,+eACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,u5BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,2/CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,0nBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,4+BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,2tBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,0kBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,kcACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,qwBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,8qBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,utBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ynBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,2bACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,whBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,6wBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,0nBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,o8BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,6bACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,g1DACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,wjCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,yuCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,y/BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,4qBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ozBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,0hBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,+iCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,iiBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,4kBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ybACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ytBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,q0CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,2ZACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,4nBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,4eACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ynBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oyBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,y/BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,uxCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,kiHACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,iNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,u5BACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,gNACF0rG,KAAK,gBClfT,EAAG,CACDrL,KAAM,UACNiL,IAAK,QACLzoD,MAAO,8BACP4+B,YACE,0DACF8pB,KDOsB,KACxB,EAAAtwD,EAAAwgD,MAAAuQ,GAAA,CAEEP,QAAQ,cACRC,KAAK,OACLC,MAAM,6B,WAEN,EAAA1wD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,iZACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,kNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,gNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oQACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qaACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,0nJACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qRACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qUACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,+sCACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,ouBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oxBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,q/CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,q7EACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,gtCACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,olBACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,o5CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oPACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oPACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,qaACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,qaACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oRACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,kjeACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oTACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oTACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,oOACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,q4CACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,69CACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oWACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,qWACF0rG,KAAK,aAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,q4BACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEv2E,EAAE,ofACF0rG,KAAK,WAEP,EAAAzwD,EAAAs7B,KAAC,OAAD,CACEs1B,SAAS,UACTC,SAAS,UACT9rG,EAAE,oNACF0rG,KAAK,eClQEO,GAAO,EAAC1P,KACnBA,EADmBj3C,MAEnBA,EAFmB41C,OAGnBA,EAHmBgR,MAInBA,MAOA,MAAOC,EAASC,IAAc9iG,eAAS,IAChC+iG,EAAYC,IAAiBhjG,eAAS,GACvCijG,GAAmBljG,YAAO,IACzBmjG,EAAWC,IAAgBnjG,cAAmB,KAC9CojG,EAASC,IAAcrjG,eAAS,IAEjC4qB,EAAEA,EAAFsJ,EAAKA,EAALqgE,SAAQA,EAART,UAAkBA,EAAlBC,SAA6BA,GAAauP,GAAY,CAC1D/O,SAAU,WACVC,WAAY,CAAC0D,GAAc,CAAErB,UAAW,UAAYrxE,GAAO,OAY7D,OATAhmB,gBAAU,KACR,MAAM+jG,EAAsB5sG,IAC1BA,EAAE2kB,YAAc,GACT,IAGT,OADAvW,OAAOgO,iBAAiB,eAAgBwwF,GACjC,IAAMx+F,OAAOiO,oBAAoB,eAAgBuwF,EAAxD,GACC,KAGD,EAAA5xD,EAAAwgD,MAAAqR,GAAA,CAAAr2B,MAMMhmB,IAAOiG,GAAM,CAACA,EAAEogB,QAAQi2B,SAAS,O,WAGrC,EAAA9xD,EAAAwgD,MAAAuR,GAAA,CAAAt2B,OAEMjmB,IAAOiG,GAAM,CACbA,EAAEsY,GAAG1E,YACL5T,EAAEyS,aAAa,IACfzS,EAAEogB,QAAQ5lD,IAAI,GAAG0hD,OAAO,O,WAI5B,EAAA33B,EAAAs7B,KAAA02B,GAAA,CAAAnR,OAMMrrC,IAAOiG,GAAM,CAACA,EAAEuY,KAAK7D,MAAO1U,EAAEogB,QAAQ7D,IAAI,OANhD+oB,OAQQvrC,IAAOiG,GAAM,CAACA,EAAEogB,QAAQ7D,IAAI,O,UAIlC,EAAAh4B,EAAAs7B,KAAC22B,GAAD,CAAO3Q,KAAMA,OAEf,EAAAthD,EAAAs7B,KAAA42B,GAAA,CAAAhR,OAEM1rC,IAAOiG,GAAM,CAACA,EAAEmV,OAAO3kE,QAAQ0rE,OAAQlc,EAAE4b,OAAOM,OAAO,UAG7D,EAAA33B,EAAAwgD,MAAA2R,GAAA,CAAAC,OAIM58C,IAAOiG,GAAM,CAACA,EAAEogB,QAAQC,WAAW,O,WAGvC,EAAA97B,EAAAs7B,KAAA+2B,GAAA,CAAAC,OAEM98C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,KAAM9Y,EAAEuY,KAAK5D,SAFlDmiC,OAIQ/8C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,SAIpC67B,GAAU9O,GAAM15C,SAEnB,EAAA5H,EAAAs7B,KAAAk3B,GAAA,CAAAC,OAEMj9C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAKrS,EAAEuY,KAAK3D,SAF7CqiC,QAIQl9C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,SAIpC67B,GAAU9O,GAAM9a,kBAGrB,EAAAxmC,EAAAwgD,MAAAmS,GAAA,CAAAC,QAKMp9C,IAAOiG,GAAM,CACbA,EAAEogB,QAAQC,WAAW,IAAIg2B,SAAS,IAClCr2C,EAAE4b,OAAOphD,IAAI,IACbwlC,EAAEsY,GAAG1E,e,WAIT,EAAArvB,EAAAs7B,KAAAu3B,GAAA,CACEtuG,IAAK49F,E,SAOJ6N,GAAO3jG,KAAK20C,IACX,EAAAhB,EAAAs7B,KAACw3B,GAAD,CAEEC,WAAsB,gBAAV1oD,EACZgxB,MAAOr6B,EACPsgD,KAAMA,EACNjyD,QAAS,KACP8hE,GAAW,GACXG,EAAiB9rG,SAAW,CAA5B,GANGw7C,OAWVywD,IACC,EAAAzxD,EAAAs7B,KAAC03B,GAAD,CACEzuG,IAAK69F,EACLQ,SAAUA,EACVrgE,EAAGA,EACHtJ,EAAGA,EACHg6E,UAAW,IAAMvB,GAAW,OAtC3BpQ,OA4CT,EAAAthD,EAAAwgD,MAAA0S,GAAA,CAAAC,QAQM39C,IAAOiG,GAAM,CAACA,EAAE4b,OAAOphD,IAAI,O,WAG/B,EAAA+pB,EAAAs7B,KAAR83B,GAAA,C,SAKW,CAAE,EAAG,EAAG,EAAG,GAAa/mG,KAAKysB,IAC5B,EAAAknB,EAAAs7B,KAAA+3B,GAAA,CAAAC,QAEO,CACHnoD,GADG,0CAICqK,IAAOiG,GAAM,CACbA,EAAE1sC,MAAM48C,GAAG,IACXlQ,EAAEzsC,OAAO28C,GAAG,IACZlQ,EAAEyS,aAAa,QACfzS,EAAEqS,WAAW,IAAIyG,KAAKF,oBACtB5Y,EAAEuY,KAAK5D,UAGXt3C,IAAMwoE,GACJn2C,GADF,QAEMqK,IAAOiG,GAAM,CAACA,EAAEsY,GAAGnE,aAEzB92C,EAAIwoE,GACFn2C,GADF,QAEMqK,IAAOiG,GAAM,CAACA,EAAEuY,KAAK1D,W,SAI5Bx3C,GAvBIA,OA2BD,IAATwoE,GAAuB,IAATA,GAAuB,IAATA,GAC3B,EAAAthD,EAAAs7B,KAAC8lB,GAAD,CAGEpnF,UAAWk3F,EACXt7B,QAAQ,UACRrmC,KAAK,IACLF,QAAS,KACP4wD,EAAQqB,EAAO,GACfkQ,GAAcxwD,GAAM,IAAIA,EAAGswD,EAAiB9rG,WAC5C8rG,EAAiB9rG,QAAU,CAA3B,E,SACD,OARI87F,GAYI,IAATA,GACF,EAAAthD,EAAAs7B,KAAC8lB,GAAD,CAGEpnF,SAAUo3F,EACVx7B,QAAQ,UACRrmC,KAAK,IACLF,QAASgyD,UACP,IACEgQ,GAAc,SACRJ,EAAM,CACV3P,KAAM,WACNiQ,UAAW,IAAIA,EAAWD,EAAiB9rG,U,CAJ/C,QAOE6rG,GAAc,E,YAIjBD,GAAa,EAAApxD,EAAAs7B,KAACimB,GAAD,IAAc,OAhBvBD,GAmBPtwB,GAAYswB,QAjMpB,EAwMIvmB,GAAQ,EAACumB,KAAEA,MACf,MAAMgP,EAAOF,GAAU9O,GAAMgP,KAC7B,OACE,EAAAtwD,EAAAs7B,KAAAi4B,GAAA,CAAAC,QAEetD,GAFfuD,QAGQtD,GAHRuD,QAKiBxD,GALjByD,QAMUxD,G,UAIR,EAAAnwD,EAAAwgD,MAAAoT,GAAA,CAAAC,QAIMr+C,IAAOiG,GAAM,CAACA,EAAEsY,GAAGnE,SAAUnU,EAAEogB,QAAQ7D,IAAI,O,WAI/C,EAAAh4B,EAAAs7B,KAACg1B,EAAD,KACA,EAAAtwD,EAAAwgD,MAAAsT,GAAA,CAAAC,QAMMv+C,IAAOiG,GAAM,CAACA,EAAEsY,GAAGrE,YANzBskC,QAOMx+C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,QAPrC0/B,QASQz+C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,UAT/C,YAcU,EAAAv0B,EAAAs7B,KAAA44B,GAAA,CAAAC,QAEO,CACHhpD,GADG,mCAICqK,IAAOiG,GAAM,CAACA,EAAEsY,GAAG5D,UAEvBikC,GAAoB,CAClB3a,GAAI6H,EAAO,GAAM,EAAI,OAAS,QAC9BzhD,MAAO,WATNyhD,OAcT,EAAAthD,EAAAs7B,KAAA+4B,GAAA,CAAAC,QACO,CACHnpD,GADG,sEAIO+kD,IACE9uD,GAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,UAClC2hC,IAGZ5O,EAAO,GAAM,GACXn2C,GADF,2DAGaglD,IACC/uD,GAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,UACjC4hC,IAGf7O,EAAO,GAAM,GACXn2C,GADF,2DAGcglD,IACA/uD,GAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,UAChC4hC,K,SAKjB,CAACC,GAAU9O,GAAM8D,KAAMgL,GAAU9O,GAAM+O,KAAKhkG,KAAI,CAAC20C,EAAG99C,KACnD,EAAA88C,EAAAwgD,MAAA+T,GAAA,CAAAC,QAOMh/C,IAAOiG,GAAM,CAACA,EAAEsY,GAAGrE,YAPzB+kC,QAQMj/C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,QARrCmgC,QAUQl/C,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,UAIpCvzB,GACD,EAAAhB,EAAAs7B,KAAAq5B,GAAA,CAAAC,QAEO,CACHzpD,GADG,mCAICqK,IAAOiG,GAAM,CAACA,EAAEsY,GAAG5D,UAEjB,IAANjtE,GACEkxG,GAAoB,CAClB3a,GAAI6H,EAAO,GAAM,EAAI,QAAU,OAC/BzhD,MAAO,SAEL,IAAN38C,GACEkxG,GAAoB,CAClB3a,GAAI6H,EAAO,GAAM,EAAI,QAAU,OAC/BzhD,MAAO,WAfRyhD,KAfFtgD,WA/EjB,EAyHI6zD,GAOF,CACF,EAAG,CACD,MACEC,UAAW,EACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,KAG7B,EAAG,CACD,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,EACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,KAG7B,EAAG,CACD,MACED,UAAW,EACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,EACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,KAG7B,EAAG,CACD,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,EACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,MACED,UAAW,GACXC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,MAKzBC,GAAkB,CAAC,EAAG,EAAG,EAAG,IA0C5BC,GAAc,EAAC55B,MACnBA,EADmBimB,KAEnBA,EAFmByR,WAGnBA,EAHmB1jE,QAInBA,MAOA,MAAO7pC,EAAS0vG,IAAc7mG,cAAiB,IACxC8mG,EAAWC,IAAgB/mG,cAAiB,IAC5C7B,EAAO+wF,IAAYlvF,cAASwmG,GAAQvT,GAAMjmB,GAAOy5B,YACjD3F,EAAgBkG,IAAqBhnG,cAE1C,KAEIghG,MAAEA,EAAFiG,oBAASA,EAATC,QAA8BA,GA1DrB,MACf,MAAMC,GAAapnG,aAAO,IACnBqnG,EAAYC,IAAiBrnG,cAAiB,GAC/CghG,EACJoG,EAAaT,GAAgB,GACzB,EACAS,EAAaT,GAAgB,GAC7B,EACAS,EAAaT,GAAgB,GAC7B,EACAS,EAAaT,GAAgB,GAC7B,EACA,EAyBN,OAvBAnnG,gBAAU,KACR,GAAI4nG,EAAa,EAAG,CAClB,MAAME,EAAYh7E,YAAW,KAC3B66E,EAAWhwG,SAAU,EACrBkwG,GAAe10D,GACbA,GAAKg0D,GAAgB,GACjBA,GAAgB,GAChBh0D,GAAKg0D,GAAgB,GACrBA,GAAgB,GAChBh0D,GAAKg0D,GAAgB,GACrBA,GAAgB,GAChB,GAPN,GASC,KACH,MAAO,IAAMn6E,aAAa86E,E,IAE3B,CAACF,IAOG,C,MAAEpG,E,qBALmB3hG,kBAAY,KACtC8nG,EAAWhwG,SAAU,EACrBkwG,GAAe10D,GAAMA,EAAI,GAAzB,GACC,IAEkCu0D,QAASC,EAAWhwG,QAAzD,EAqBgDowG,IAEhD/nG,gBAAU,KACR,MAAMgoG,EAAMxxF,KAAKu7B,MAAsB,IAAhBv7B,KAAKqU,UACtBlsB,EAAQqoG,GAAQvT,GAAMjmB,GAAO05B,WAAWvvG,IAAY,EACpDmwG,EAAYh7E,YAAW,KAC3B4iE,GAAUv8C,GAAMA,EAAIx0C,IACpB0oG,GAAYl0D,GAAOA,EAAI,EAAIA,EAAI,EAAI,GAAnC,GACC,IAAO60D,GACV,MAAO,IAAMh7E,aAAa86E,EAA1B,GACC,CAACnwG,IAEJ,MAAMswG,EACM,IAAVzG,EACI,KACU,IAAVA,EACA,KACU,IAAVA,EACA,KACU,IAAVA,EACA,KACA,IACA0G,EACM,IAAV1G,EACI,EACU,IAAVA,EACA,KACU,IAAVA,EACA,IACU,IAAVA,EACA,IACA,KAEN,OACE,EAAArvD,EAAAs7B,KAAC8lB,GAAD,CACE3oC,UAAU,eACV,YAFF,EAGElpB,KAAK,IACLF,QAAS,KACP+lE,GAAcp0D,GAAMA,EAAI,IAExBs0D,IAEAD,GAAmBr0D,GAAM,IACpBA,EACH,CACE59C,IAAK49C,EAAEA,EAAE79C,OAAS,IAAIC,IAAM,GAAK,E,MACjCisG,E,MACAh0B,KACGw0B,GAAoB,C,cAPL,WAUtBl1E,YAAW,KACT06E,GAAmBr0D,GAAMA,EAAEtsC,MAAM,IAAjC,GAXoB,MActB26B,K,UAGF,EAAA2Q,EAAAwgD,MAANwV,GAAA,C,WASQ,EAAAh2D,EAAAwgD,MAAAyV,GAAA,CAAAC,QACO,CACH/qD,GADG,+CAKH4nD,GACE5nD,GADQ,mC,WAOZ,EAAAnL,EAAAs7B,KAAA66B,GAAA,CAAAC,QAEO,CACHjrD,GADG,iFAMH4nD,GACEwC,GACAc,GAAuB,CACrBC,UAAWP,K,UAIjB,EAAA/1D,EAAAs7B,KAACq0B,GAAD,CAASpgE,KAAM,GAAI8rC,MAAOA,KAdrB85B,GAgBNpC,GACCwC,GACApG,EAAe9iG,KAAI,EAACjJ,GAAEA,MACpB,EAAA48C,EAAAs7B,KAAAi7B,GAAA,CAAAC,QAEO,CACHrrD,GADG,6DAOHkkD,EAAQ,EACJlkD,GADJ,2BAE2B/J,GAAMA,EAAEoU,MAAMtkC,MAAMs/C,QAE3C6+B,EAAQ,EACRlkD,GADA,+BAIAA,GAJA,2BAKuB/J,GAAMA,EAAEoU,MAAMtkC,MAAM69C,YAE/C0nC,GAAwB,CAAEH,UAAWR,MAnBlC1yG,SAwBb,EAAA48C,EAAAs7B,KAARo7B,GAAA,C,SAKWlqG,EAAQ2oG,IAEVA,EAAY,IACX,EAAAn1D,EAAAwgD,MAAAmW,GAAA,CAAAC,QACO,CACHzrD,GADG,uEAMCqK,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,KAAM9Y,EAAEuY,KAAKjF,cAEhDgkC,GACE5nD,GADQ,oCAIV4nD,IACG1D,EAAQ,EACLlkD,GADH,QAEOqK,IAAOiG,GAAM,CAACA,EAAEuY,KAAKxD,UAEzB6+B,EAAQ,EACRlkD,GADA,oBAIAA,GAJA,QAKIqK,IAAOiG,GAAM,CAACA,EAAEuY,KAAKjF,gB,UAxB7C,IA4BcomC,KAGLpC,IACC,EAAA/yD,EAAAs7B,KADVu7B,GAAA,C,UAQY,EAAA72D,EAAAs7B,KAACw7B,GAAD,CAAgB3H,eAAgBA,UA3I1C,EAmJI4H,GAAe78C,GAAH,uCAKZ88C,GAAc98C,GAAH,wCAKXk6C,GAAsB,EAAC3a,GAC3BA,EAD2B55C,MAE3BA,KAIIsL,GANsB,6FAQN,UAAPsuC,EACPsd,GACO,SAAPtd,EACAud,GACAhmC,GAAYyoB,GACT55C,GAQLw2D,GAAyB,EAACC,UAAEA,KAAuCnrD,GAA1C,sDACVmrD,EANF,GAACA,UAAEA,KAAuCp8C,GAA1C,8BAEIo8C,EAAY,IAKpBW,CAAW,C,UAAEX,KAYtBG,GAA0B,EAACH,UAAEA,KAAuCnrD,GAA1C,qEAEXmrD,EAXD,GAACA,UAAEA,KAAuCp8C,GAA1C,2DAKGo8C,EAAY,GAOpBY,CAAY,C,UAAEZ,KAGvBa,IAAU5/C,iBAGd,EAACqrC,SAAEA,EAAFrgE,EAAYA,EAAZtJ,EAAeA,EAAfg6E,UAAkBA,GAAa1uG,KAChC,EAAAy7C,EAAAs7B,KAAA87B,GAAA,CACE7yG,IAAKA,EAIL+Z,MAAO,CACLy4D,SAAU6rB,EACV3sE,IAAKsM,GAAK,EACVxM,KAAMkD,GAAK,GARfo+E,QAGM7hD,IAAOiG,GAAM,CAACA,EAAEsY,GAAGvD,MAAO/U,EAAEyS,aAAa,O,UAQ7C,EAAAluB,EAAAwgD,MAAA8W,GAAA,CAAAC,QAIM/hD,IAAOiG,GAAM,CAACA,EAAEogB,QAAQ7D,IAAI,OAJlCw/B,QAcQhiD,IAAOiG,GAAM,CAACA,EAAEsY,GAAGvD,S,WAIzB,EAAAxwB,EAAAwgD,MAAAiX,GAAA,CAAAC,QAEMliD,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,WAInC,EAAAv0B,EAAAs7B,KAAC,OAAD,C,SAAM,qBACN,EAAAt7B,EAAAwgD,MAAAmX,GAAA,CAAAC,QAEMpiD,IAAOiG,GAAM,CAACA,EAAEsY,GAAGlE,Y,UAGtB,IAAX,SACiB,QAET,EAAA7vB,EAAAs7B,KAAC,OAAD,C,SAAO,6BAET,EAAAt7B,EAAAs7B,KAAAu8B,GAAA,CAAAC,QAIMtiD,IAAOiG,GAAM,CAACA,EAAE4b,OAAOphD,IAAI,O,UAG/B,EAAA+pB,EAAAs7B,KAAC8lB,GAAD,CAAQxrB,QAAQ,UAAUvmC,QAAS4jE,E,SAA3C,kB,yFA5vBqBv3B,sF,mMAqBCt6B,6GAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,c,sUAsBEA,0CAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,c,sFAUAA,0CAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,e,kWA4DDs6B,0H,mTAyFLt6B,2FAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,8B,2PAuBQA,mIAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,e,wTA2DAA,mIAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,e,g7BAwWJ2uD,0CHnwBQ,I;;;;;;;;;;;;;;;;;MIiH5BgI,GAAA,SAAAniD,GAYA,MAAAoiD,EAAA,GAOA,IAAA52D,EAAA,E,IAIE,IAAAl+C,EAAO,EAAIA,EAAC0yD,EAAAzyD,OAAAD,IAAiB,CAC9B,IAAAyB,EAAAixD,EAAAtU,WAAAp+C,GAEDyB,EAAA,IAAAqzG,EAAA52D,KAAAz8C,EAISA,EAAK,MACbqzG,EAAA52D,KAAAz8C,GAAA,MAEDqzG,EAAA52D,KAAA,GAAAz8C,EAAA,KASA,cAAAA,IAAAzB,EAAA,EAAA0yD,EAAAzyD,QAAA,cAAAyyD,EAAAtU,WAAAp+C,EAAA,KAcMyB,EAAC,QAAQ,KAAAA,IAAA,UAAAixD,EAAAtU,aAAAp+C,IAEb80G,EAAM52D,KAAAz8C,GAAa,GAAG,IAItBqzG,EAAM52D,KAASz8C,GAAG,UAEbqzG,EAAI52D,KAAOz8C,GAAI,EAAK,GAAC,IACxBqzG,EAAA52D,KAAc,GAAHz8C,EAAS,MAEpBqzG,EAAA52D,KAAWz8C,GAAG,OACdqzG,EAAA52D,KAAMz8C,GAAS,EAAI,GAAI,IACvBqzG,EAAA52D,KAAc,GAAHz8C,EAAG,I,cAiGV,C,eAOQ,K,eAIH,K,sBAKN,KAKNszG,sBAAA,K,kBAUQ,iE,0BAKL5uG,KAAS6uG,kBAAgB,K,kEAc7BC,mBAAA,mBAAAC,KAmBFC,gBAAAj5F,EAAAk5F,GAUM,IAAApuG,MAAAC,QAAAiV,GAAA,MAAA9b,MAAA,iDACF+F,KAAAkvG,QACA,MAAQC,EAAEF,EAAAjvG,KAAAovG,sBAAApvG,KAAAqvG,eACVC,EAAc,GACf,QAAAz1G,EAAA,EAAAA,EAAAkc,EAAAjc,OAAAD,GAAA,GACM,MAAK01G,EAAAx5F,EAAAlc,GACd21G,EAAA31G,EAAA,EAAAkc,EAAAjc,OChXA21G,EAAAD,EAAAz5F,EAAAlc,EAAA,KAqBS61G,EAAA71G,EAAA,EAAAkc,EAAAjc,OACR61G,EAAAD,EAAA35F,EAAAlc,EAAA,KAED+1G,EAAAL,GAAA,EAecM,GACV,EADsBN,IACf,EAAOE,GAAA,EAGR,IAAAK,GAAkB,GAAXL,IAAW,EAAAE,GAAA,EACnBI,EAAI,GAAAJ,E,SAGDH,IAAYM,EAAe,KAGnCR,EAAWttG,KAAAmtG,EAAAS,GAAAT,EAAAU,GAAAV,EAAAW,GAAAX,EAAAY,G,QAITT,EAAMhtG,KAAA,G,EAWL0tG,aAAcj6F,EAAQk5F,GAKxB,OAAAjvG,KAAmC8uG,qBAAQG,EAAAgB,KAAAl6F,GAI7C/V,KAAAgvG,gBAAAN,GAAA34F,GAAAk5F,EAED,ECxDAiB,aAAOn6F,EAAsCk5F,G,OAIzCjvG,KAAK8uG,qBAA6CG,EAAAF,KAAAh5F,GFuLnD,SAAAo6F,G,MAGFxB,EAAA,GAED,IAAAyB,EAAA,EAAA90G,EAAA,E,iCAWE,GAAI+0G,EAAK,IAAA1B,EAAArzG,KAAA+G,OAAuB6iB,aAC9BmrF,QAEF,GAAOA,EAAK,KAAAA,EAAA,IAAgBC,CAC7B,MAAAC,EAAAJ,EAAAC,KAEDzB,EAAArzG,KAAA+G,OAAA6iB,cAAA,GAAAmrF,IAAA,KAAAE,E,uBAWM,MAMNpoG,IAAA,EAAAkoG,IAAA,OANWF,EAAAC,OAMX,OAHSD,EAAAC,OAGT,KAFCD,EAAAC,MAED,MAgBMzB,EAACrzG,KAAQ+G,OAAA6iB,aAAA,OAAA/c,GAAA,KAEbwmG,EAAMrzG,KAAA+G,OAAgB6iB,aAClB,OAAK,KAAA/c,GAGT,KAAM,CAED,MAAKqoG,EAAOL,EAAGC,KACZK,EAAKN,EAAGC,KAEdzB,EAAArzG,KAAM+G,OAAY6iB,cAAiB,GAAPmrF,IAAO,OAAAG,IAAA,KAAAC,E,WAInCnuG,KAAM,G,CE5PLouG,CAAA1wG,KAAA2wG,wBAAA56F,EAAAk5F,G,EA+BJ0B,wBAAA56F,EAAAk5F,GACFjvG,KAAAkvG,QCzDD,MAAA0B,EAAA3B,EAAAjvG,KAAA4uG,sBAAA5uG,KAAA6wG,eAkGYvB,EACR,G,yBAKI,MAAMC,EAAGqB,EAAA76F,EAAAX,OAAAvb,MAEP41G,EADK51G,EAAAkc,EAAAjc,OACA82G,EAAA76F,EAAAX,OAAAvb,IAAA,IACXA,EAEI,MACM81G,EADa91G,EAAIkc,EAAAjc,OACF82G,EAAA76F,EAAAX,OAAAvb,IAAA,KAClBA,EACD,MAIKi3G,EAHKj3G,EAAAkc,EAAAjc,OAGL82G,EAAA76F,EAAAX,OAAAvb,IAAA,GAER,K,EAAE,MAAA01G,GAAA,MAAAE,GAA2C,MAATE,GAAS,MAAAmB,EAAA,MAAA72G,QAC7C,MAAE21G,EAAOL,GAAA,EAAAE,GAAA,EAET,G,EADAztG,KAAA4tG,GACY,KAAPD,EAAO,CACf,MAAcE,EAAAJ,GAAA,MAAAE,GAAA,EAEP,GADJL,EAAAttG,KAAA6tG,GACS,KAAAiB,EAAA,CACF,MAAAhB,EAAAH,GAAA,MAAAmB,EACRxB,EAAAttG,KAAkB8tG,EAClB,CACD,CAGE,C,QAIL,EAKEZ,QACJ,IAAAlvG,KAAAqvG,eAAA,CC7IArvG,KAAAqvG,eAAA,GAyBIrvG,KAAO6wG,eAAc,GAKrB7wG,KAAOovG,sBAAG,GAEbpvG,KAAA4uG,sBAAA,GAWG,QAAO/0G,EAAM,EAAAA,EAAKmG,KAAA+wG,a,8DAGR/wG,KAAA6wG,eAAqB7wG,KAAAqvG,eAAqBx1G,IAACA,EAGxDmG,KAAAovG,sBAAAv1G,GAAAmG,KAAAgxG,qBAAA57F,OAAAvb,GAEDmG,KAAA4uG,sBAAA5uG,KAAAovG,sBAAAv1G,MAOMA,GAAAmG,KAAA6uG,kBAAA/0G,SAEAkG,KAAO6wG,eAAkB7wG,KAAKgxG,qBAAQ57F,OAAQvb,IAAKA,EAE3CmG,KAAA4uG,sBAAA5uG,KAAA+wG,aAAA37F,OAAAvb,MAGb,CAED,GAsCEo3G,GAAY,SAAU1kD,GAGxB,OAvBQ,SAAOA,GAIb,MAAA2kD,EAAcxC,GAAuCniD,GACtD,OAAA4kD,GAAAnC,gBAAAkC,GAAA,EAED,CAgBAE,CACgB7kD,GAAA5qD,QAAA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5Ed,MAAA0vG,GACF3wG,cClCAV,KAAAiuF,OAAA,OAuCMjuF,KAAAsI,QACF,OAIEtI,KAAAsxG,QAAA,IAAA5/E,SAAA,CAAAppB,EAAA2lF,KACFjuF,KAAMsI,QAAaA,EACnBtI,KAASiuF,QAAA,G,cAQTv1D,G,OACA6I,EAAMn/B,KACNm/B,EAAIvhC,KAAAiuF,OAAA1sD,G,KACJj5B,QAASlG,GACT,mBAAAs2B,IAmBU14B,KAAWsxG,QAAAz/E,OAAA,SAKS,IAArB6G,EAAW5+B,OAAU4+B,EAAA6I,GACnB7I,EAAA6I,EAAen/B,G;;;;;;;;;;;;;;;;YCQvBmvG,K,MACHC,EAA4B,iBAAXC,OAAWA,OAAAD,QAAA,iBAAAhzD,gBAAAgzD,aAAA72D,E,MACX,iBAAZ62D,QAAuB72D,IAAA62D,EAAAz3G,E,UAyDvB23G,K,MACkB,iBAAfC,S,mCAUD,CAAGrpG,EAAU2lF,K,WAET,E,QACS,0D,EACVh8B,KAAA0/C,UAAWC,KAAAC,G,EAChBC,UAAA,K,EAEGjyD,OAAMkyD,QAEJC,GAAW//C,KAAA0/C,UAAAM,eAAAJ,GAChBvpG,GAAM,I,EAED4pG,gBAAW,KAChBF,GAAA,GAIHG,EAAMziC,QAAA,KACF,IAAE0iC,EACFnkB,GAAqC,QAA5BmkB,EAAMD,EAAW5wE,aAAW,IAAA6wE,OAAA,EAAAA,EAAAlxE,UAAA,IAK3C,C,MAHMK,GACL0sD,EAAA1sD,EAED,I,uBAUE,oBADEgU,YACKA,UAAA88D,c,kBCvHep4G,M,mBAElBq4G,MAAApxE,GACAlhC,KAASmlB,OASfnlB,KAAKuyG,WAAaA,E,UANpB,gBAUE34G,OAAKy4D,eACQryD,KAAAwyG,GAAA93G,WAITT,MAAKw4G,mBAASx4G,MAAAw4G,kBAAAzyG,KAAA0yG,GAAAh4G,UAAA6kC,O,QAIpBmzE,G,YACOC,EAAAC,EAAsCC,G,KACzCF,QAASA,E,KACRC,cACJ5yG,KAAA6yG,QAED,C,OACE1tF,KAAKvB,G,MACH2uF,EAAe3uF,EAAK,IAAE,GACrBkvF,EAAA,GAAA9yG,KAAA2yG,WAAAxtF,IACE2uC,EAAY9zD,KAAC6yG,OAAA1tF,GACnB+b,EAAA4yB,E,SASDA,EAAAlwC,G,OAWEkwC,EAAyBnyD,QAACoxG,IAAA,CAAA1pD,EAAApuD,KAE1B,MACEmH,EAAAwhB,EAAc3oB,G,sCAvBjB+3G,CAAAl/C,EAAAy+C,GAAA,QAGMU,EAAe,GAAEjzG,KAAA4yG,gBAAyB1xE,MAAA4xE,M,OACpC,IAAAN,GAAWM,EAAAG,EAAAV,E,WA8BX;;;;;;;;;;;;;;;;GCjFb,SAAOW,GAAI33G,EAAAE,GACX,GAAAF,IAAAE,EAAA,SAEF,MAAA03G,EAAAv5G,OAAAD,KAAA4B,GAMO63G,EAAKx5G,OAAAD,KAAA8B,GACV,IAAK,MAAK0F,KAAOgyG,EAAM,CACrB,IAAAC,EAAUnlG,SAAI9M,GAAU,OAAI,EAC5B,MAAKkyG,EACF93G,EAAE4F,GACEmyG,EAAQ73G,EAAA0F,G,MAEsBkyG,IAAEE,GAAAD,I,0BAEpC,GAAMD,IAAAC,EAAA,Q,KAER,MACC3pE,KAAMypE,EAET,IAAAD,EAAAllG,SAAA07B,GAAA,SAEH,QC1FA,C,SAuBE4pE,GAAOC,G,OACM,OAAXA,GACM,iBADuBA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yDCsBpBC,GATX/yG,YAAiBwN,EAAAwlG,EAA6C13G,GAY1DgE,KAAAkO,OAEJlO,KAAA0zG,gBAA4CA,EAC1C1zG,KAAKhE,OACLgE,KAAA2zG,mBAAY,EAIR3zG,KAAC4zG,aAAiB,CAAG,EACzB5zG,KAAA6zG,kBAAY,OACb7zG,KAAA8zG,kBAAA,IAED,C,qBACmBh+E,GAElB,OADC91B,KAAA6zG,kBAAY/9E,EACb91B,IAED,C,qBACO2zG,GAEN,OADC3zG,KAAA2zG,kBAAYA,EACb3zG,IACF,CCtED+zG,gBAAA93G,GC4CE,OA5CF+D,KAAA4zG,aAAA33G,EA4CE+D,I,4BAEmB04B,GAXF,OADT14B,KAAS8zG,kBAA6Bp7E,EAC7B14B,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA2FbkO,KAAIA,E,eAGI8lG,E,KAETx4D,UAAA,KACFx7C,KAAAi0G,UAAA,IAAA92F,IAEDnd,KAAAk0G,kBAAY,IAAA/2F,IACVnd,KAAAm0G,iBAAsB,IAAAh3F,IACvBnd,KAAAo0G,gBAAA,IAAAj3F,GAED,C,mDAmBE,IAAInd,KAAAk0G,kBAAAjlF,IAAAolF,GACF,CACE,MAAKC,EAAA,IAAAjD,G,QAAyB6C,kBAAkBzmG,IAAE4mG,EAAAC,GAAsBt0G,KAAAu0G,cAAAF,IAAAr0G,KAAAw0G,uBACxE,I,4EAKD,MAAA74G,G,CAMH,C,OAIEqE,KAAMk0G,kBAAoBrlG,IACxBwlG,GAAK/C,O,+BAMDtxG,KAAAy0G,4BAAAjkG,aAAA,EAAAA,EAAAkkG,Y,EAC+B,QAAnCtC,EAAA5hG,aAAmC,EAAAA,EAAAmkG,gBAAA,IAAAvC,K,SACnCmC,cAAUF,KAAAr0G,KAAAw0G,uBAST,CAEN,GAAAG,EAAA,Y,qDAXe,I,0DAQd,CAJC,MAAAh5G,GACF,GAAAg5G,EAAA,YAEY,MAACh5G,CACZ,CAOF,C,eAGE,OAAMqE,KAAAw7C,S,sBAIGttC,OAAYlO,KAAgBkO,KAAA,MAAUjU,MAAS,yBAAAuhD,EAAAttC,qBAAAlO,KAAAkO,S,QACnDstC,UACA,MAAOvhD,MAAO,iBAAiB+F,KAAOkO,kC,oBAGxClO,KAAAw0G,uB,CAGL,G;;;;;;;;;;;;;;;;GAAAI,CAAcp5D,GAAA,IACZx7C,KAAO60G,uBAAuB,CAC/BC,mB,aAUD,CAPE,MAAOn5G,GAOT,CAWE,IAAK,MAAKm5G,EACRC,KAAyB/0G,KAAKk0G,kBAAIrrC,UAAA,CAGpC,MAAMwrC,EAAgBr0G,KAAAy0G,4BAAuBK,GAC3C,IAEE,MAAAjmF,EAAA7uB,KAAA60G,uBAAA,C,uBAOFE,EAAMzsG,QAAAumB,EAQT,CANG,MAAIwuB,GAMP,CAED,CAlDK,C,eA2DGq3D,E,aACN10G,KAAAk0G,kBAAuB12F,OACrBk3F,GAEF10G,KAAAm0G,iBAAsB32F,OAAAk3F,GACtB10G,KAAKi0G,UAAAz2F,OAAgBk3F,E,sBASnBM,EAAAn0G,MAAA4oF,KAAAzpF,KAAAi0G,UAAAgB,gBACHvjF,QAAAi9C,IAAA,IAEDqmC,EAAApnD,QAAA+kD,GAAA,aAAAA,IASO3vG,KAAA2vG,GACHA,EAAOuC,SAAA13F,cAEJw3F,EAAMpnD,QAAY+kD,GACrB,YAAIA,IAEF3vG,KAAM2vG,KAAAwC,a,kBAMJ,OAAuB,MAAvBn1G,KAAAw7C,S,eAQDk5D,E,oBACH10G,KAAQi0G,UAAQhlF,IAAAylF,E,kCAGb10G,KAAAm0G,iBAAAtlG,IAAA6lG,IAAA,E,YAEHv/B,EAAK,I,MAEL3kE,UAAA,IAAA2kE,EAOAk/B,EAAAr0G,KAAAy0G,4BAAAt/B,EAAA2/B,oB,QAOIP,cAAeF,GACR,MAAAp6G,MACL,GAAA+F,KAAAkO,QAAAmmG,mC,IAGHr0G,KAACo1G,iBAAM,MAAAn7G,MAAA,aAAA+F,KAAAkO,oC,wDAEPmmG,EAEJ7jG,YAKK,UAAAskG,EACNC,KAAqB/0G,KAAAk0G,kBAAArrC,UAAkB,CAKrCwrC,IAFqBr0G,KAACy0G,4BAA8BK,IAEpDC,EAAAzsG,QAAAumB,EAEH,CAEO,OAAAA,C,CAcRwmF,OAAO38E,EAAUg8E,GACnB,IAAAtC,ECzXA,MAAAiC,EAAAr0G,KAAAy0G,4BAAAC,GA2BEY,EAAyC,QAAAlD,EAAApyG,KAAAo0G,gBAAAvlG,IAAAwlG,UAAA,IAAAjC,IAAA,IAAA3oG,IAAZ6rG,EAAYzrG,IAAA6uB,GAFxB14B,KAAAo0G,gBAAgB3mG,IAAG4mG,EAA2BiB,GAElB,MAAAC,EAAAv1G,KAAAi0G,UAAAplG,IAAAwlG,GAY3C,OAVFkB,GAAA78E,EAAA68E,EAAAlB,GAUQ,KACFiB,EAAS93F,OAAgBkb,EACrB,C,CAYN88E,sBAAsB3mF,EAAU6lF,GAGlC,MAAK7/B,EAAa70E,KAAAo0G,gBAAWvlG,IAAA6lG,GAC9B,GAAA7/B,EAED,UAAAn8C,KAAAm8C,EAAA,IAQMn8C,EAAK7J,EAAc6lF,EAMvB,C,SAAA,C,yBAGDI,qBAAAtkG,UAAA,KAED,IAAAqe,EAAY7uB,KAAAi0G,UAAAplG,IAAAimG,GACV,IAAAjmF,GAAiB7uB,KAAKw7C,YACvB3sB,EAAA7uB,KAAAw7C,UAAAk4D,gBAAA1zG,KAAAg0G,UAAA,CACFc,oB,EAAAA,E;;;;;;;;;;;;;;;;GCXC,MAAAW,GAAA,GAyCA,IAAAC,GACMC,O,KA2BND,GAGiB,KA7BbC,GACM,MACN,GAAI,Q,GAINA,GACE,qBAGJA,MAAA,eAEWA,MAAA,eACXA,MAAA,iB,GAMuBA,GAAQ,mB,SA4B/B,C,MAeAD,GAAAE,M,QA1CEF,GAAAG,Q,KAIDH,GAAAI,KAOD3iC,KAAIuiC,GAAQK,K,MACVL,GAAsBM,M,OACvBN,GAAAO,QAOAC,GAAAR,GAAAI,KAaCK,GAAwB,C,CACzBT,GAAAE,OAAA,MACD,CAAAF,GAA8BG,SAAA,M,IAEpBC,MAAI,O,IAEWC,MAAA,O,CACxBL,GAAAM,OAAA,SAWAI,GAAA,CAAAvnF,EAAAwnF,KAAA/3D,KAED,GAAA+3D,EAAAxnF,EAAAynF,SAAA,O,MAKEj1F,GAAK,IAAAD,MAAAm1F,cACLC,EAAKL,GAAkBE,G,IACxBG,EACG,MAAkB,IAAAv8G,MAAA,8DAAAo8G,MADrB/0E,QAAAk1E,GAAA,IAAAn1F,OAAAwN,EAAA3gB,WAAAowC,EACqB,E,SASlB59C,YAAmBwN,GACrBlO,KAAKkO,OAGDlO,KAAkBy2G,UAAAP,GAIzBl2G,KAAA02G,YAAAN,GAIOp2G,KAAC22G,gBAAmB,KAIZlB,GAAAzzG,KAAAhC,KAId,CACEs2G,eACA,OAAIt2G,KAAOy2G,S,cAMT9pD,G,KAKEA,KAAM+oD,IACO,UAAAziD,UAAA,kBAAAtG,+B,eACFA,C,+BASD,iBAAAA,EAAAiqD,GAAAjqD,I,8BAGF+pD,W,gBAIL/pD,G,GAEW,mBAAVA,EAAU,UAAAsG,UAAA,qD,iBAEHtG,C,kCAGHgqD,e,oBAGRhqD,GAEL3sD,KAAA22G,gBAAAhqD,CACH,C,6iBCzQA,IAAIkqD,GACAC,GAqBJ,MAAMC,GAAmB,IAAIt1E,QACvBu1E,GAAqB,IAAIv1E,QACzBw1E,GAA2B,IAAIx1E,QAC/By1E,GAAiB,IAAIz1E,QACrB01E,GAAwB,IAAI11E,QA0DlC,IAAI21E,GAAgB,CAChBvoG,IAAI8H,EAAQikC,EAAMy8D,GACd,GAAI1gG,aAAkB2gG,eAAgB,CAElC,GAAa,SAAT18D,EACA,OAAOo8D,GAAmBnoG,IAAI8H,GAElC,GAAa,qBAATikC,EACA,OAAOjkC,EAAO4gG,kBAAoBN,GAAyBpoG,IAAI8H,GAGnE,GAAa,UAATikC,EACA,OAAOy8D,EAASE,iBAAiB,QAC3B58D,EACA08D,EAASG,YAAYH,EAASE,iBAAiB,G,CAI7D,OAAOE,GAAK9gG,EAAOikC,G,EAEvBntC,IAAG,CAACkJ,EAAQikC,EAAMx4C,KACduU,EAAOikC,GAAQx4C,GACR,GAEX6sB,IAAG,CAACtY,EAAQikC,IACJjkC,aAAkB2gG,iBACR,SAAT18D,GAA4B,UAATA,IAGjBA,KAAQjkC,GAMvB,SAAS+gG,GAAa12B,GAIlB,OAAIA,IAAS22B,YAAYj9G,UAAUk9G,aAC7B,qBAAsBN,eAAe58G,WA7GnCo8G,KACHA,GAAuB,CACpBe,UAAUn9G,UAAUo9G,QACpBD,UAAUn9G,UAAUq9G,SACpBF,UAAUn9G,UAAUs9G,sBAqHE/pG,SAAS+yE,GAC5B,YAAa1iC,GAIhB,OADA0iC,EAAK99E,MAAM+0G,GAAOj4G,MAAOs+C,GAClBm5D,GAAKV,GAAiBloG,IAAI7O,M,EAGlC,YAAas+C,GAGhB,OAAOm5D,GAAKz2B,EAAK99E,MAAM+0G,GAAOj4G,MAAOs+C,G,EAtB9B,SAAU45D,KAAe55D,GAC5B,MAAM65D,EAAKn3B,EAAKnlF,KAAKo8G,GAAOj4G,MAAOk4G,KAAe55D,GAElD,OADA24D,GAAyBxpG,IAAI0qG,EAAID,EAAWza,KAAOya,EAAWza,OAAS,CAACya,IACjET,GAAKU,E,EAsBxB,SAASC,GAAuBh2G,GAC5B,MAAqB,mBAAVA,EACAs1G,GAAat1G,IAGpBA,aAAiBk1G,gBAhGzB,SAAwCa,GAEpC,GAAInB,GAAmB/nF,IAAIkpF,GACvB,OACJ,MAAMh2G,EAAO,IAAIuvB,SAAQ,CAACppB,EAAS2lF,KAC/B,MAAMoqB,EAAW,KACbF,EAAGngG,oBAAoB,WAAYsgG,GACnCH,EAAGngG,oBAAoB,QAASupB,GAChC42E,EAAGngG,oBAAoB,QAASupB,EAAM,EAEpC+2E,EAAW,KACbhwG,IACA+vG,GAAU,EAER92E,EAAQ,KACV0sD,EAAOkqB,EAAG52E,OAAS,IAAIg3E,aAAa,aAAc,eAClDF,GAAU,EAEdF,EAAGpgG,iBAAiB,WAAYugG,GAChCH,EAAGpgG,iBAAiB,QAASwpB,GAC7B42E,EAAGpgG,iBAAiB,QAASwpB,EAAM,IAGvCy1E,GAAmBvpG,IAAI0qG,EAAIh2G,E,CA0EvBq2G,CAA+Bp2G,GA9JhBm/E,EA+JDn/E,GAzJVy0G,KACHA,GAAoB,CACjBc,YACAc,eACAC,SACAb,UACAP,kBAZiDv8B,MAAMz/E,GAAMimF,aAAkBjmF,IAgK5E,IAAIo3D,MAAMtwD,EAAOg1G,IAErBh1G,GAlKW,IAACm/E,C,CAoKvB,SAASk2B,GAAKr1G,GAGV,GAAIA,aAAiBu2G,WACjB,OA3IR,SAA0BxG,GACtB,MAAMb,EAAU,IAAI5/E,SAAQ,CAACppB,EAAS2lF,KAClC,MAAMoqB,EAAW,KACblG,EAAQn6F,oBAAoB,UAAWqvD,GACvC8qC,EAAQn6F,oBAAoB,QAASupB,EAAM,EAEzC8lC,EAAU,KACZ/+D,EAAQmvG,GAAKtF,EAAQtyD,SACrBw4D,GAAU,EAER92E,EAAQ,KACV0sD,EAAOkkB,EAAQ5wE,OACf82E,GAAU,EAEdlG,EAAQp6F,iBAAiB,UAAWsvD,GACpC8qC,EAAQp6F,iBAAiB,QAASwpB,EAAM,IAe5C,OAbA+vE,EACK3uG,MAAMP,IAGHA,aAAiBy1G,WACjBd,GAAiBtpG,IAAIrL,EAAO+vG,EAAQ,IAIvCtgF,OAAM,SAGXslF,GAAsB1pG,IAAI6jG,EAASa,GAC5Bb,C,CA6GIsH,CAAiBx2G,GAG5B,GAAI80G,GAAejoF,IAAI7sB,GACnB,OAAO80G,GAAeroG,IAAIzM,GAC9B,MAAMoyE,EAAW4jC,GAAuBh2G,GAOxC,OAJIoyE,IAAapyE,IACb80G,GAAezpG,IAAIrL,EAAOoyE,GAC1B2iC,GAAsB1pG,IAAI+mE,EAAUpyE,IAEjCoyE,C,CAEX,MAAMyjC,GAAU71G,GAAU+0G,GAAsBtoG,IAAIzM,GC5KpD,SAASy2G,GAAO3qG,EAAMkiC,GAAS0oE,QAAEA,EAAOC,QAAEA,EAAOC,SAAEA,EAAQC,WAAEA,GAAe,IACxE,MAAM9G,EAAUR,UAAUC,KAAK1jG,EAAMkiC,GAC/B8oE,EAAczB,GAAKtF,GAgBzB,OAfI4G,GACA5G,EAAQp6F,iBAAiB,iBAAkB8Q,IACvCkwF,EAAQtB,GAAKtF,EAAQtyD,QAASh3B,EAAMswF,WAAYtwF,EAAMuwF,WAAY3B,GAAKtF,EAAQyF,aAAa,IAGhGkB,GACA3G,EAAQp6F,iBAAiB,WAAW,IAAM+gG,MAC9CI,EACKv2G,MAAM02G,IACHJ,GACAI,EAAGthG,iBAAiB,SAAS,IAAMkhG,MACnCD,GACAK,EAAGthG,iBAAiB,iBAAiB,IAAMihG,KAAW,IAEzDnnF,OAAM,SACJqnF,C,CAcX,MAAMI,GAAc,CAAC,MAAO,SAAU,SAAU,aAAc,SACxDC,GAAe,CAAC,MAAO,MAAO,SAAU,SACxCC,GAAgB,IAAIr8F,IAC1B,SAASs8F,GAAU9iG,EAAQikC,GACvB,KAAMjkC,aAAkBghG,cAClB/8D,KAAQjkC,GACM,iBAATikC,EACP,OAEJ,GAAI4+D,GAAc3qG,IAAI+rC,GAClB,OAAO4+D,GAAc3qG,IAAI+rC,GAC7B,MAAM8+D,EAAiB9+D,EAAKj5C,QAAO,aAAe,IAC5Cg4G,EAAW/+D,IAAS8+D,EACpBE,EAAUL,GAAatrG,SAASyrG,GACtC,KAEEA,KAAmBC,EAAWjB,SAAWD,gBAAgB/9G,aACrDk/G,IAAWN,GAAYrrG,SAASyrG,GAClC,OAEJ,MAAMlD,EAASxe,eAAgB6hB,KAAcv7D,GAEzC,MAAM65D,EAAKn4G,KAAK43G,YAAYiC,EAAWD,EAAU,YAAc,YAC/D,IAAIjjG,EAASwhG,EAAG2B,MAQhB,OAPIH,IACAhjG,EAASA,EAAOqkB,MAAMsjB,EAAK9/B,iBAMjBkT,QAAQi9C,IAAI,CACtBh4D,EAAO+iG,MAAmBp7D,GAC1Bs7D,GAAWzB,EAAGh2G,QACd,E,EAGR,OADAq3G,GAAc/rG,IAAImtC,EAAM47D,GACjBA,C,CDwCPY,GCtCS,CAAC2C,IAAc,IACrBA,EACHlrG,IAAK,CAAC8H,EAAQikC,EAAMy8D,IAAaoC,GAAU9iG,EAAQikC,IAASm/D,EAASlrG,IAAI8H,EAAQikC,EAAMy8D,GACvFpoF,IAAK,CAACtY,EAAQikC,MAAW6+D,GAAU9iG,EAAQikC,IAASm/D,EAAS9qF,IAAItY,EAAQikC,KDmCzDliB,CAAS0+E;;;;;;;;;;;;;;;;;ME9ErB4C,G,YAGLhG,GACFh0G,KAAAg0G,WACD,CAWAiG,wB,+OCGGC,GAAqB,IAAAC,GAAkB,iBCmDxCC,GAC2B,CAE3B,gBAAqD,YACtD,0CAED,uCAaE,qDACD,uCAED,qDAME,6BACF,2CC5IA,iCAiCE,4BACE,mBAEF,gCACA,8CAEA,qCACA,mDAGA,iCAEA,6BACE,kBACF,wBACE,YACF,+BACE,mBACF,oCAEA,kDAcK,oBAAM,WCnEb,6CA2CE,sBAGE,W,6BANyB,kB,UAQpB,U,SACe,eA0BpBC,GAAsB,IAAAl9F,IAOvBm9F,GAAA,IAAAn9F,I,SAOCo9F,GAAuBC,EAAAh/D,G,IAGrBg/D,EAAAxG,UAAsByG,aAAAj/D,EAI1B,C,MAHO7/C,GACN++G,GAAAC,MAAA,aAAAn/D,EAAAttC,4CAAAssG,EAAAtsG,OAAAvS,EAED,C,CCyBA,SAAMi/G,GAAMp/D,G,MACVq/D,EAAMr/D,EAAAttC,K,GACNosG,GAAqCrrF,IAAA4rF,GAGvC,OAFKH,GACHC,MAAA,sDAAAE,OACQ,E,GAIeptG,IAAAotG,EAAAr/D,GAIzB,UAAMg/D,KAAWH,GAAGpF,SAAUsF,GAAyBC,EAAAh/D,GACvD,OAAI,C,CAmBJ,SAAAs/D,GAAcN,EAAEtsG,GAEhB,MAAA6sG,EAAcP,EAAAxG,UAAAgH,YAAA,aAAAC,aAAA,CACftG,UAAA,IAiCC,OADAoG,GAAYA,EAAAG,mBACPV,EACHxG,UAAMgH,YAAA9sG,E;;;;;;;;;;;;;;;;;AAqFR,MCpRFitG,GAAA,IAAAzI,GAAA,iBDoRE,C,SAGoB,oF,eAAS,gC,gBAG3B,kFACH,gEAED,oGAWE,uBAAmD,wDAGnD,2FACD,+FAED,6FAUE0I;;;;;;;;;;;;;;;;;MCvQKC,G,YACO7qG,EAAG0/C,EAAA8jD,GACXh0G,KAAAs7G,YAAM,E,KACJC,SAAA3hH,OAAAiG,OAAwB,GAAA2Q,G,KACvBgrG,QAAA5hH,OAAAiG,OAAA,GAAAqwD,GACFlwD,KAAAwtF,MAAAt9B,EAAAhiD,KAELlO,KAAOy7G,gCAAUvrD,EAAAwrD,+BAClB17G,KAAA27G,WAAA3H,EAEMh0G,KAAAg0G,UAAeyG,aAAA,IAAAhH,GACJ,WAAAzzG,MAAA,U,CAEZ07G,qCAEF,OADA17G,KAAA47G,iBACO57G,KACJy7G,+B,CAIHC,mCAAiB/uD,G,KAEVivD,iB,KACLH,gCAAoB9uD,C,wBAGpBivD,iBACD57G,KAAAwtF,K,CAEJh9E,c,OAEMxQ,KAAA47G,iB,aAIL,CACE1rD,aAEA,OADAlwD,KAAA47G,iBACM57G,KAAAw7G,O,CAENxH,gBACA,OAAQh0G,KAAE27G,U,wBAIR37G,KAAMs7G,U,eAEH3uD,G,KACH2uD,WAAA3uD,C,CAMJivD,iBACF,GAAA57G,KAAA67G,UAAA,MAAAV,GAAA57E,OAAA,eCxGAu8E,QAAA97G,KAAAwtF,OAsCA;;;;;;;;;;;;;;;;eAqJwCt/E,EL7EF,a,QK8E9BmsG,GAAOxrG,IAAAX,G,YAACitG,GAAwB57E,OAAA,U,QAACrxB,I,kBAiDnC6tG,GAAiCC,EAAA5rE,EAAAm8B,G,YAElC,QAAA6lC,EAAAgI,GAAA4B,UAAA,IAAA5J,IAAA4J,EACFzvC,IAAA0vC,GAAA,IAAA1vC,K,yBAEK2vC,EAAU9rE,EAAuChjC,MAAA,S,SACrD,MAAMg6D,EAAA,CACF,+BACK60C,oBAAA7rE,O,OAEP+rE,GAAM/0C,EAAAplE,KAAwB,iBAAci6G,sDAC5CE,GAAOD,GAAA90C,EAAAplE,KAAA,O,GACLolE,EAAqBplE,KACnB,iBAAAouC,2D,GAEU+iC,KAAA/L,EAAiB9kE,KAAU,K,IAG5C,IAAAmxG,GAAA,GAAAwI,aAAA,M,UAEK7rE,QAAIA,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oCChMRgsE,GAAC,IAAA1J,GAjCO,gBACX,gBAuBiC,C,4BAC7B,kDACJ,4DAEe,yBAAgC,mCAC9C,iBAAmB,6F,cACD,kD,8BACU,6EAG7B,SAAA2J,GAAA96E,GAEe,OAAAA,aAAAixE,IAE+BjxE,EAAApc,KAAAlX,SAAA,iB;;;;;;;;;;;;;;;;GAwC/C,SAAAquG,IAAAC,cC9GA,kEAAAA,iB,UAuCEC,GAAsCzuB,G,OAGtC0uB,MAAM1uB,EAAA0uB,MACJC,cAAc,EACbC,WCxBLC,EDwBK7uB,EAAA4uB,UExBQ3sB,OAAA4sB,EAAAj7G,QAAgB,IAAC,SFyBxBk7G,aAAAz7F,KAAkBC,O,ICzBxBu7F,C,gBD8BGE,GAAAC,EAAAhvB,GAED,M,SAAaA,EAAAivB,QACRz7E,M,OACH66E,GAAa78E,OAAA,iBAAqB,CAClCw9E,YAAOA,EACPE,WAAYC,EAAA/3F,KACZg4F,cAAAD,EAAAh8E,QAEFk8E,aAA6BF,EAAAG,Q,UAG3BC,IAA0BC,W,OAC1B,IAAAC,QAAA,CAEF,eAAiB,mBACbC,OAAQ,mBACV,iBAAMF,G,aAGuCG,GAAAC,iB,QAC3CL,GAAwCI,G,SACxCE,OAAA,gB,SE7CAD,G;;;;;;;;;;;;;;;;GF6CWE,CAAiCF,IAC5CG,C,gBGrDSC,GAAatjE,G,MACvBoF,QAAApF,IACL,OAAAoF,EAAAw9D,QAAA,KAAAx9D,EAAAw9D,OAAA,IFtBA5iE,IAkBQoF,C;;;;;;;;;;;;;;;;GG8EmB,SAAiBm+D,GAAyBC,G,OACjE,IAAAvsF,SAAAppB,I,WACEA,EAAA21G,EAAA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBJ,MAAMC,GAA4B,oBAUpC,SAAAC,KAEE,IAGA,MAASC,EAAY,IAAAC,WAAA,KACPpsD,KAAAqsD,QAAArsD,KAAAssD,UACfC,gBAAAJ,GAYCA,EAAY,OAAAA,EAAO,MACnB,MAAQK,EAaM,SAAAL,GCvHhB,O,ED0HIA,E,uEC1HJM,OAAA,M;;;;;;;;;;;;;;;;GD0GaC,CAAMP,GACjB,OAAWF,GAAezyG,KAAAgzG,KA9BZ,EAqCd,CANA,MAAMrM,GAIN,MAnCc,EAqCd,C,CC5CF,SAAAwM,GAAAlB,GAOE,MAAM,GAAAA,EAA2B5B,WAAY4B,EAAAmB,O;;;;;;;;;;;;;;;;SAgC3CC,GAAqD,IAAA3hG,I,SAInD4hG,GAAArB,EAAAe,G,MACFxjH,EAAM2jH,GAAsBlB,G,GAIrBziH,EAAAwjH,G,6CAgDLxjH,IAAKA,EAGTwjH,IAAOA,I,MAnDuBxjH,EAAewjH,E,UAkCxCO,GAAE/jH,EAAAwjH,G,MAEL5pC,EAAQiqC,GAAAjwG,IAAA5T,G,GACT45E,EACF,UAAAn8C,KAAAm8C,EAAAn8C,EAAA+lF,EAED,C,OAgBG,KAE2D,SAAAQ,KAa5D,O,gCAXEC,GAAQ,IAAiBC,iBAAA,yBAGzBD,GACS7oE,UAAoB16C,I,4BAOxBujH,E,CAGT,SAAAE,KAW2B,IAAzBN,GAAuB54E,MAAag5E,KAClCA,GACQnN,QAERmN,GAAO,K;;;;;;;;;;;;;;;;UC/JkB,K,SACzBG,KAmBF,OAhBCC,QAAAzG,GAPe,kCACb,EAMF,CAEDE,QAAa,CAAAM,EAAAF,KAOP,GACI,IADGA,EAEXE,EAAAkG,kBAhBoB,+BAiBhB,KAIFD,E,CAGAtnB,eAAiCwnB,GAAe9B,EAAAt7G,G,MAClDnH,EAAO2jH,GAAmBlB,GAI7BvF,SAFSkH,MAETzH,YA7BuB,+BA6BvB,aAEQJ,EAAAW,EAAAX,YA/Be,gCAmCtBiI,QAAUjI,EAAA3oG,IAAA5T,GCpCV,aDqCFu8G,EAAAkI,IAAAt9G,EAAAnH,SCnFAk9G,EAAAh2G,KA6CMs9G,GAAsDA,EAAAhB,MAAAr8G,EAAAq8G,KAAAM,GAAArB,EAAAt7G,EAAAq8G,KACpDr8G,C,CAKoC41F,eAAA2nB,GAAAjC,G,MACxCziH,EAAK2jH,GAAgBlB,G,SAEZ2B,MACEzH,YDRS,+BCQiD,mB,cDRjD,gC,kBCUlBz1G,I,gBAUOy9G,GAAgBlC,EAAAmC,G,MACxB5kH,EAAA2jH,GAAAlB,GAGGvF,SAFHkH,MAEGzH,YDxBgB,+BC0BX,aACXkC,EAAO3B,EAAUX,YD3BK,gCC4BvBiI,QAAA3F,EAAAjrG,IAAA5T,GAEDu5E,EAAAqrC,EAAAJ,GAeE,Y,uDADIjrC,GAAcirC,KAAAhB,MAAAjqC,EAAAiqC,KAAsBM,GAA0BrB,EAAAlpC,EAAAiqC,KAC3DjqC,C;;;;;;;;;;;;;;;;kBAyCJsrC,GAAAC,GACJ,IAAAC,EAED,MAAAC,QAAeL,GACbG,EACArC,WAAAwC,IAEI,MAAAD,E,SAwBiCC,GAMvC,OAASC,GALJD,GAAA,CACDzB,IAAAN,KACDiC,mBAAA,G,CA3BGC,CAAAH,GACII,EA+CR,SAEwBP,EAAaE,GAEtC,OAAAA,EAAAG,mBAAA,CAED,IAAA7qE,UAAAgrE,OAAA,CAMI,MAAW,CACXN,oBACFD,oBAH0CtuF,QAAAu8D,OAAAmuB,GAAA78E,OAAA,gBAMxC,CAGJ,MAASihF,EAAA,CAEL/B,IAAAwB,EAAuBxB,IAG3B2B,mBAAA,ECrNAK,iBAAAr/F,KAAAC,OA+BQ2+F,ECSiBhoB,eAAA+nB,EAAAE,GACxB,IAED,MAAAS,Q,iERUE,MAAAC,EAAiBrE,GAAcoB,GACjCI,EAAAR,GAAAI,GSjCEkD,EAAoBC,EAA6B5F,aAAA,CACnDtG,UAAA,IPCA,GAAAiM,EAAA,CAKE,MAASE,QAAGF,EAAkBG,sBAE9BD,GAAAhD,EAAAF,OAAA,oBAAiCkD,EACjC,CACD,MAAAtxG,EAAA,CAEeivG,M,YQkCK,S,cR5BnBuC,WQyBF,YRrBM7O,EAAW,CACXqE,OAAC,OACHsH,UACAtuG,KAAAmgC,KAAAC,UAAApgC,IAEFu+E,QAAgBgwB,IAAU,IAAAlwB,MAAA8yB,EAAAxO,KAC3B,GAAApkB,EAAAC,GAAA,CAEe,MAAAizB,QAAAlzB,EAAcivB,OAkB5B,MAdkB,CAEZyB,IAAAwC,EAAcxC,OAEf2B,mBACI,EAGTzC,aAAmBsD,EAAUtD,aACzBuD,UAAY1E,GACKyE,EAAYC,WAKlC,aAAApE,GAAA,sBAAA/uB,EAED,CM9BeozB,CAC2BpB,EAAAE,GAExC,OAAMT,GAAEO,EAAqBrC,UAASgD,EGRtC,CHUA,MAAI/kH,GGZF,MHcM0gH,GAAoB1gH,IAAA,MAAAA,EAAA42G,WAAA0K,iBGlD9B0C,GAAAI,EAAArC,iBAgCQ8B,GAAUO,EAAArC,UAAmB,CAC7Be,IAAOwB,EAAgBxB,IAC3B2B,mBAAgB,IAEhBzkH,CAEF,C,CJPQylH,CAAmBrB,EAAqBS,GAI5C,O,0CAQJ,CAAO,OAAsB,IAAtBP,EAAsBG,mBAAA,CAC/BH,oBC5CAD,oBAAAqB,GAAAtB,IAmCQ,C,qBF0GoBuB,CACtBvB,EACAE,G,OAEFD,EAAMM,EACDN,oB,EACMC,iBAAA,I,MHtEC,KGwEZA,EAAMxB,IACN,CACAwB,wBAAUD,G,CAORC,kBAAMA,E,oBACDD,E,CKrHVhoB,eAAAqpB,GAAAtB,GC1CD,IAAAwB,QAAAC,GAAAzB,EAAArC,WAiCE,KAAsB,IAAhB6D,EAAAnB,0BAGApC,GAAqB,KAEvBuD,QAAOC,GAAUzB,EAAArC,W,GAGlB,IAAA6D,EAAAnB,mBAAA,CAGD,MAAIH,kBAAMA,EAAkBD,oB,eAE1B,OAAAA,GAEAC,C,UCEJ,SAAOuB,GAAK9D,G,OACVkC,GAAAlC,GAAewC,IACf,IAAAA,EAAA,MAAA9D,GAAA78E,OAAA,0BACJ,OAAA4gF,GAAAD,EAAA,G,UCxBEC,GAAyBoB,GAC3B,OCIY,KADGtB,EDHfsB,GCIYnB,oBAAAH,EAAAQ,iBLiBqB,IKjBrBr/F,KAAAC,MDJZ,CC9BAo9F,IAAA8C,EAAA9C,IAuBM2B,mBAAoB,G,MAUXH;;;;;;;;;;;;;;;;IAuBfjoB,eAAAypB,IAAA/D,YAAAmD,4BAAAZ,GCxDA,MAAAU,E,SA0EAjD,GAAAe,QC1EA,SAAAnC,GAAAoB,MA8BAe,uBACA;;;;;;;;;;;;;;;;GD/BAiD,CAAAhE,EAAAuC,GA8BMnC,EAAA6D,GAA8BjE,EAAAuC,GAK5BW,EAAgBC,EAAmB5F,aAAe,C,cAGxD,GAAA2F,EAAM,CAEN,MAAME,QAA+CF,EAAAG,sB,GAChDjD,EAAAF,OAAA,oBAAAkD,E,UAGHc,aAAe,CACfZ,WNoBJ,WMnBSnC,MAAAnB,EAAkBmB,QAMnB1M,EAAM,C,cAEZ2L,QAAMA,EAENtuG,KAAMmgC,KAAAC,UAAApgC,IAEJu+E,QAAWgwB,IAA2B,IAAAlwB,MAAS8yB,EAAAxO,K,GAC/CpkB,EAAAC,GAAA,CAIY,OAFdwuB,SAD6BzuB,EAAAivB,OAI7B,aAAAF,GAAkB,sBACZ/uB,E,wQnBjER,I,47BamDiC,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AQI/B,M,GAwDY,IAAAosB,GAA6C;;;;;;;;;;;;;;;;;SA2CrD0H,GAAqCC,G,yDC5DvCC,GAAAC,EAGFC,E,YAiBDjqB,eAAAkqB,EAAAC,EAAAC,GAED,IAUe,UAAPF,QDqMNlqB,eAAmCgqB,EAAqBC,EAAUI,EAAAC,EAAAF,GAClE,IACE,IAAIG,EAA4B,GAKpC,GAAAH,KAAA,SE1UA,IAAAI,EAAAJ,EAAA,QAqCEvhH,MAAAC,QAAA0hH,OACE,CAIFA,IAcA,MAAAC,QACEZ,GAAAQ,GAEF,UAAAK,KAAAF,EAAA,CAKA,MAAAG,EACEF,EAAA9kB,MAAAztC,KAAAoyD,gBAAAI,IAEFE,EAAAD,GAAAV,EAAAU,EAAA9D,OAcW,IAAA+D,EDjFb,CAqD2BL,EAA4C,GAC9C,KACnB,CC0BoBA,EAAOvgH,KAAA4gH,EDxB/B,CACE,CAKD,IAAAL,EAAAzoH,SAAAyoH,EAAA3oH,OAAAq7G,OAAAgN,UAIAvwF,QAAAi9C,IAAA4zC,GAGGP,EAAA,QAAAM,EAAuBF,GAAA,G,CAE7B,MAAAzmH,GAKEknH,GAAmBthF,MAAA5lC,E,EAoDjBmnH,CAAMd,EAAcC,EAAMI,EAA2BF,EAAAC,GAG1C,WAAAF,Q,eDgHSF,E,mBAYce,EAAAT,G,OAG9BU,QAAQf,EAAoDe,OAE9D,CAKL,MAEDL,SAFCd,GAAAQ,IAED1kB,MAAAztC,KAAAoyD,oB,mBAwBM,C,UAEDO,GAAyCthF,MAAA5lC,E,iBCjKtCsnH,CACKjB,EAAAC,EAAAI,EAAAU,EAAAZ,EAAAC,GACL,Y,IACA,UAAK,SAAAA,GAGTJ,EAAM,MAAAG,EAMN,CALD,MAAAxmH,GAEKknH,GAA+CthF,MAAA5lC,EAGnD,C;;;;;;;;;;;;;;;;;SA2H+B,IAAA+2G,GAAuC,wBAnCxC,C,iBACE,0I,sBAC9B,kR,+MAGqD,wE,4BAC1C,oM,wBAEN,oM,iBAMR,yKACF,wFAED,2IAgBE,YAA6B,8HE/M/B,MAAAwQ,GAAA,I,MFuQCxiH,YAAAyiH,EAAA,GAAAC,EAJE,KE9THpjH,KAAAmjH,mBAgCAnjH,KAAAojH,gBAcE,C,oBACkCvE,GAChC,OAAO7+G,KAAAmjH,iBAAAtE,E,qBAEDA,EAAgBwE,GACtBrjH,KAAAmjH,iBAAYtE,GAAAwE,C,wBAGVxE,UACF7+G,KAAYmjH,iBAAoBtE,E,YAoB6ByE,GAAA/F,G,OAC7D,IAAOC,QAAQ,CAChBC,OAAM,mBACL,iBAAMF,G,gBAwDJgG,GAA6B/I,E,EAC5B0I,GAAAM,G,MACJ3E,QAAAtB,SAAA+E,iBAAA9H,EAAAhqG,QACF,IAAAquG,EAAA,MAAA4E,GAAAlkF,OAAA,aAED,IAAAg+E,EAAA,CASE,GAAM+E,EAAgB,MAAM,CACrBA,cAAcA,EACtBzD,SAOD,MAAA4E,GAAAlkF,OAAA,aASE,CACD,MAAA4jF,EAAAO,EAAAC,oBAAA9E,IAAA,CAED+E,aAAA,EASEC,sBAAAziG,KAAAC,OClLFyiG,EAAA,IAAAC,G,6BAuCID,EAAAE,OAAA,QAEerpE,I,EAAA6oE,EJuBa,KItBvBS,GACH,CACFpF,MAAOA,EACRtB,OACKA,EACF+E,cAAMA,GACNa,EAAUW,EAAAJ,E,CAUf1rB,eAAAisB,GAAAC,GAAAL,wBAAAD,gBAAAE,EAAAJ,EAAAR,I,QA0BC,MAAMrE,QAAAyD,cAAuBA,GAAA4B,E,UC9C/B,SAAAJ,EAAAD,GASA,WAAAnyF,SAAA,CAAAppB,EAAA2lF,KAiBA,MAAAk2B,EAAAnpG,KAAAqnD,IAAAwhD,EAAAziG,KAAAC,MAAA,GAKAu8B,EAAAtsB,WAAAhpB,EAAA67G,GAWAL,EAAA/rG,kBAAA,KAMAyZ,aAAAosB,GAmDMqwC,EAAAw1B,GACIlkF,OAAA,iBAAoB,CAEhBskF,sBACVA,IAES,GAGZ,G,CD5CUO,CAAqBN,EAACD,E,UAE/B,GAAAvB,EAIQ,OAFFO,GAA0C1vC,KACjC,6GAAAmvC,0EAAA,QAAAlQ,EAAAz2G,SAAA,IAAAy2G,OAAA,EAAAA,EAAAlxE,YACP,CAGF29E,MAAOA,EAGXyD,iBAIA,MAAA3mH,C,KAIE,MAACoyF,QDtCNiK,eAAAksB,GAED,IAAA9R,EAYE,MAAIyM,MAAWA,EAAQtB,OAAQA,GAAA2G,EAC7B/R,EAAY,C,OAAoB,M,QAAiBmR,GAAA/F,IAElD8G,EHnCC,6EGmCK1iH,QAAA,WAAAk9G,GACL9wB,QAAmBF,MAAGw2B,EAAMlS,G,GAChB,MAAZpkB,EAAAsvB,QAAiC,MAArBtvB,EAAAsvB,OAAoC,C,IAC9CjgC,EAAY,G,IAGf,MAAAknC,QAAAv2B,EAAAivB,QACF,QAAA5K,EAAAkS,EAAA/iF,aAAA,IAAA6wE,OAAA,EAAAA,EAAAlxE,WAAAk8C,EAAAknC,EAAA/iF,MAAAL,QAED,OAAAqjF,GAAA,CAYM,MAAAd,GAA2BlkF,OAAA,uBAC7BilF,WAAMz2B,EAA+CsvB,OACrDoH,gBAAkBrnC,G,QAKlB2Q,EAAOivB,M,CCPJ0H,CACHR,GAKA,OADER,EAAAiB,uBAAA9F,GACF9wB,C,OACA1wC,GACD,MAAA9b,EAAA8b,E,IC+BD,SAAsC1hD,G,KACpCA,aAAgB62G,IAC6B72G,EAAO42G,YACxC,OAAC,E,QAEAviB,OAAOr0F,EAAA42G,WAAA,Y,OACjB,MAAAiS,GAAA,MAAAA,GAAA,MAAAA,GAAA,MAAAA,C,uCD/Ba,O,yNAAU,C,gCAM5B,CACA,MAAAL,EAA+B,MAALn0B,OAAK,QAAA40B,EAAArjF,aAAA,EAAAA,EAAAgxE,kBAAA,IAAAqS,OAAA,EAAAA,EAAAJ,YAAAK,GAAAjB,EAAAF,EAAAN,eHmLhC,IGnLgCyB,GAAAjB,EAAAF,EAAAN,gB,wDAc7B,O,2BADEP,GAAAlI,MAAA,iCAA+BwJ,YACjCF,GAA0BC,EAAAf,EAA+BW,EAAAJ,E,QC8BzDK,G,cASD/jH,KAAA8oB,UAAA,EACD,C,iBAEagG,GACR9uB,KAAA8oB,UAAA9mB,KAAA8sB,EAGL,C;;;;;;;;;;;;;;;;GCrHF,IAAAg2F,G;;;;;;;;;;;;;;;;o6BL+GGC,EAAAh7G,OAAAC,SAAAg7E,qBAAA,UAED,IAAI,MAAA52E,KAAAxU,OAAAq7G,OAAA8P,GACF,GAAA32G,EAAMs7B,KAAQt7B,EAAGs7B,IAAMz7B,SDpIC,4CCoIkB,OAAAG,E,OAG1C,I,iHDnCY42G,QAAA1C,I,SACP,E,SACFh/D,KAAA3xC,YAAAszG,E;;;;;;;;;;;;;;;;m7BAM6CD,G,SAQhDnkH,MAAMC,QAAQiJ,OAAIi7G,IAAAE,EAAgCn7G,OAACi7G,G,iDCjBvD,SAAA/C,EAAAI,EAAAU,EAAAiC,EAAAG,G,uDAgBMp7G,OAAAo7G,IAAA,mBAAAp7G,OAAAo7G,K,EACIp7G,OAAAo7G,I,OACNA,GAAUpD,GAAAC,EAAAC,EAAAI,EAAAU,GACV,C,SACEf,E,YAOOj4G,OAAAo7G,G,2HKrFVC,EAAAxC,EAAAyC,EAAAC,EAAA90G,GACD,GAAAA,GAAMA,EAAiB+0G,O,EAAkC,QAAOF,EAAAC,OACzD,CACR,MAAAhD,QAAAM,EAoBKwC,EAAC,QAAAC,EAlBPzrH,OAAAiG,OAAAjG,OAAAiG,OAAA,GAAAylH,GAAA,CAYME,QAAAlD,IAUJ,C,sENjFkC,a,oMAAA,a,0NOhCpCmD,G,mIAUIC,GAAOA,IAAQ,GAanBC,GAMI3lH,IAGAiyD,KAq2BgB,SAAA2zD,KAAW,CAkYZC,SAAQC,GAACn5D,GA1BtB4hB,aA2BmB5hB,EAEvB,MAAe,UA3BflxD,EAAS,UAAL8yE,EACKA,EAwBc5hB,EAjBnB9rD,MAAMC,QAiBa6rD,GAhBd,QAEF4hB,EANE,SAsByB,UAARvyE,GAAyC,iBAAd2wD,EAAI7yD,M,CAqB3CisH,SAAAC,GAASr5D,GACvB,IAAI3wD,SAAc2wD,EAClB,MAAe,UAAR3wD,GAA2B,MAAP2wD,GAAuB,YAAR3wD,C,CAkE5C,IAAAiqH,GAAqB,gBAAmC,IAAhBjrG,KAAKqU,WAAoB,GAQjE62F,GAAmB,EAoDAC,SAAQC,GAAC3rE,EAAI4rE,EAASC,GACvC,OAAoCzqH,OAAKqH,MAAMu3C,EAAGz2C,KAAM5C,U,CAgB3CmlH,SAAQC,GAAC/rE,EAAI4rE,EAASC,GACnC,IAAK7rE,EACH,MAAMxgD,QAGR,GAAuB,EAAnBmH,UAAUtH,OAAY,CACxB,IAAI2sH,EAAY5lH,MAAMnG,UAAU2Q,MAAMxP,KAAKuF,UAAW,GACtD,kBAEE,IAAIslH,EAAU7lH,MAAMnG,UAAU2Q,MAAMxP,KAAKuF,WAEzC,OADAP,MAAMnG,UAAUi2B,QAAQztB,MAAMwjH,EAASD,GAC7BvjH,QAAMmjH,EAASK,E,EAI3B,OAAe,WACb,OAAUxjH,QAAMmjH,EAASjlH,U,EA+BnBulH,YAASlsE,EAAI4rE,EAASC,GAcpBM,OAJLD,GARH7zD,SAASp4D,UAAUsJ,OAO0C,GAA7D8uD,SAASp4D,UAAUsJ,KAAKnC,WAAWqT,QAAQ,eAC5BixG,GAEAI,IAEFrjH,MAAM,KAAM9B,U,CAiBhBylH,SAAAC,GAASrsE,EAAI6rE,GAC1B,IAAIhoE,EAAOz9C,MAAMnG,UAAU2Q,MAAMxP,KAAKuF,UAAW,GACjD,OAAe,WAGb,IAAIslH,EAAUpoE,EAAKjzC,QAEZovC,OADCz4C,OAAKkB,MAAMwjH,EAAStlH,WACrBq5C,EAAGv3C,MAAwBlD,KAAO0mH,E,EA4V7BK,SAAQC,GAACC,EAAWC,GAElCC,SAASA,IAAW,CACpBA,EAASzsH,UAAYwsH,EAAWxsH,UAChCusH,EAAUG,EAAcF,EAAWxsH,UACnCusH,EAAUvsH,UAAY,IAAIysH,EAEhBzsH,YAAUgG,YAAcumH,EAmBxBxxG,KAAO4xG,SAASC,EAAIC,EAAYjB,GAIxC,IADA,IAAIhoE,EAAWz9C,MAAMO,UAAUtH,OAAS,GAC/BD,EAAI,EAAGA,EAAIuH,UAAUtH,OAAQD,IACpCykD,EAAKzkD,EAAI,GAAKuH,UAAUvH,GAE1B,OAAA4B,EAAkBf,UAAU6sH,GAAYrkH,MAAMokH,EAAIhpE,E,EC53DpCkpE,SAAQC,KAgBnBC,OAAY1nH,KAAK0nH,EACjBC,OAAsB3nH,KAAK2nH,C,CAWhCC,IA0CFC,GAA6B,GAiCxBL,GAAW9sH,UAAUgtH,GAAY,EAqCtBhtH,aAAUotH,GAAUC,WAElC,IAAK/nH,KAAK0nH,IAGR1nH,KAAK0nH,GAAY,EACjB1nH,KAAKgoH,IA7F0CC,GA8F4B,CACzE,IAAIlxB,EDwpCImxB,SAASz8D,GAErB,OAAO7xD,OAAOc,UAAUC,eAAekB,KAAK4vD,EAAUw6D,KAClDx6D,EAASw6D,MACRx6D,EAASw6D,MAAwBC,G,CC5pCnBgC,CAAOloH,aAiBC6nH,GAAW9wB,E,GAmEnCywB,GAAW9sH,UAAUstH,EAAkBG,WAE1C,GAAInoH,KAAK2nH,EACP,KAAO3nH,KAAK2nH,EAAoB7tH,QAC9BkG,KAAK2nH,EAAoBnpG,OAAzBxe,E,ECjLN,MAAMkV,GAC8BrU,MAAMnG,UAAUwa,QAChD,SAASkzG,EAAK38D,GAGZ,OAAO5qD,MAAMnG,UAAUwa,QAAQrZ,KAAKusH,EAAK38D,OAHxB48D,E,EAKnB,SAASD,EAAK38D,GAMZ,GAAmB,iBAAnBlwD,EAEE,MAAmB,iBAAfE,GAAyC,GAAdgwD,EAAI3xD,QAC1B,EAEFsuH,EAAIlzG,QAAQu2C,EATjB68D,GAYC,QAAIzuH,EAZLyuH,EAYoBzuH,EAAIuuH,EAAItuH,OAAQD,IACtC,GAAIA,KAAKuuH,GAAOA,EAAIvuH,KAAO4xD,EAAK,OAElCnwD,EAAA,OAAO,C,EA6tBJ8H,YAAQm+E,GACf,MAAMznF,EAASynF,EAAOznF,OAKT,KAATA,EAAY,CACd,MAAMyuH,EAAS1nH,MAAM/G,GACrB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IAC1B0uH,EAAG1uH,GAAK0nF,EAAO1nF,GAEV0uH,Q,CAET,MAAO,E,CAgCTz8F,SAASA,GAAO08F,EAAMlC,GACpB,IAAK,IAAIzsH,EAAI,EAAGA,EAAIuH,UAAUtH,OAAQD,IAAK,CACzC,MAAM4uH,EAAOrnH,UAAUvH,GACvB,GAASgsH,GAAY4C,GAAO,CAC1B,MAAMC,EAAOF,EAAK1uH,QAAU,EACtB6uH,EAAOF,EAAK3uH,QAAU,EACvBA,SAAS4uH,EAAOC,EACrB,IAAK,IAAI10B,EAAI,EAAGA,EAAI00B,EAAM10B,IACxBu0B,EAAKE,EAAOz0B,GAAKw0B,EAAKx0B,E,MAGnBjyF,OAAKymH,E,ECr2BIG,SAAQC,GAAC7sH,EAAM8sH,GAMjC9oH,KAAKhE,KAA4DA,EAe5DmkB,OANLngB,KAAK2W,OAASmyG,EAuBd9oH,KAAKqgB,kBAAmB,C,CAyBduoG,GAAMluH,UAAU8lB,EAAiBuoG,WAE3C/oH,KAAKqgB,kBAAmB,C,ECjCxB2oG,OAAuBA,WAErBA,IAAUC,GAAOlxG,mBAAqBne,OAAO4T,eAC3Cw7G,OAAOA,EAGLx5F,OAAUw5F,EACVx4G,EAAU5W,OAAO4T,eAAew7G,GAAIA,UAAWA,CACjDn6G,IAAKA,WACH2gB,GAAUw5F,C,IAGVA,IACGC,GAAOlxG,iBAAiBixG,OAAaE,GAAc14G,GACnD24G,GAAOnxG,oBAAoBgxG,OAAaE,GAAc14G,EACjDw4G,CAAVA,MAAOrtH,GAAGqtH,CAGZA,OAAOx5F,C,CAlBcw5F,GC8BkBI,SAAQC,GAAC98D,GAOlD,MAAO,cAAc9gD,KAAK8gD,E,CAS5B,IAAA+8D,GAC0BjnH,OAAO3H,UAAUyS,KAAQ,SAASo/C,GAEtD,OAAOA,EAAIp/C,M,EACT,SAASo/C,GAQX,MAAO,iCAAiCsT,KAAKtT,GAAK,E,EAuQhB,SAAAg9D,GAAS78F,EAAM2hD,GAErD,OAAI3hD,EAAO2hD,GACF,EACE3hD,EAAO2hD,EACT,EAEF,C,CCzWTm7C,SAAiCC,KAC/B,IAAMl0E,EAiCMm0E,GAAOn0E,UAhCfA,WACI2pD,EAAY3pD,EAAU2pD,WAEnBA,EAGJ,E,CAwGTyqB,SAAuBC,GAACr9D,GAEtB,ODuJiC,GCvMEi9D,KDuMxBt0G,QCvJgBq3C,E,CCnFJs9D,SAAAC,GAASl6F,GAGhC,OADai6F,GAAU,KAAKj6F,GAFOr0B,C,CAWxBsuH,GAAU,KAAYX,GCiDnC,IAkYAa,GAxCM7qB,GA1VN8qB,GFmFEL,GGjG2B,SDuB7BM,GF0EEN,GGxF2B,YHwF3BA,GGxF6D,QDuB/DO,GFiEEP,GItK2B,QF8G7BQ,GAA2CD,IAAuBD,GAQlEG,GFgDET,GIvJ2B,aLkPM,GCvMEH,KDqN3Bx+G,cAdGkK,QAcYm1G,YCzGvBV,GItK2B,YJsK3BA,GI7K2B,YJ6K3BA,GI7K6D,WJ6K7DA,GItK2B,QFgI7BW,IHiImC,GCvMEd,KDqN3Bx+G,cAdGkK,QAcYm1G,YCzGvBV,GItK2B,QFwcK,SAAAY,KAGhC,IAAI3gC,EAAW+7B,GAAL37G,SACV,OAAOzO,EAAMquF,EAAAxiE,kBAAsBuzB,C,CArESp/C,EAAA,CAM5C,IAAI60C,GAAU,GACVg4E,IA+BAlpB,GFnX+BsqB,KEoXhBY,GACV,qBAAsBvqD,KAAKq/B,IAEjBgrB,GACV,kBAAkBrqD,KAAKq/B,IAEb+qB,GACV,mCAAmCpqD,KAAKq/B,IAE9BorB,GAEV,gBAAgBzqD,KAAKq/B,IAEX8qB,GAGV,yBAAyBnqD,KAAKq/B,SAHpB8qB,GAxCnB,GAJI5B,KACFh4E,GAAUg4E,GAAMA,GAAI,GAAK,IAGR6B,GAAI,CAMrB,IAAIO,GAAyBC,KAC7B,GAAe,MAAXD,IAAmBA,GAAU/qD,WAAWrvB,IAAU,CACpDs6E,GAAOroH,OAAOmoH,IAAd,MAAAjvH,C,EAIJmvH,GAAOt6E,E,CAiFT,IAkE+Bu6E,GAlE/BC,GAAyC,GAiBE,SAAAC,KAEzC,ODhbmB,SAAwBC,GAAfC,MCkbLH,GD9avB,OAAWlwH,iBAAUC,eAAekB,KAAKkvH,EIukBoB36E,GJtkBpD26E,EIskBoD36E,GJnkBrD26E,EImkBqD36E,GJnkB/B06E,EImkB+B16E,E,CH1JzD46E,EACqD,WHrOzD,IAAIh3G,EAAQ,EAGNi3G,QAA8B3B,GAAKjnH,OGqOL0nH,KHrOuBh/G,MAAM,KAC3DmgH,EAA8B5B,GAAK,KAAkBv+G,MAAM,KAC3DogH,EAAWnwG,KAAKqnD,IAAI4oD,EAAOnxH,OAAQoxH,EAAOpxH,QAGhD,IAAK,IAAIsxH,EAAS,EAAY,GAATp3G,GAAco3G,EAASD,EAAUC,IAAU,CAC9D,IAAIC,EAAQJ,EAAOG,IAAW,GAC1BE,EAAQJ,EAAOE,IAAW,GAE9B,EAAG,CAOD,GAHMG,EAAS,iBAAiB1rD,KAAKwrD,IAAU,CAAC,GAAI,GAAI,GAAI,IACtDG,EAAS,iBAAiB3rD,KAAKyrD,IAAU,CAAC,GAAI,GAAI,GAAI,IAEpC,GAApBC,EAAO,GAAGzxH,QAAmC,GAApB0xH,EAAO,GAAG1xH,OACrC,MAYFyB,EAA6BkwH,GAPS,GAApBF,EAAO,GAAGzxH,OAAc,EAAImpD,SAASsoE,EAAO,GAAI,IAC5B,GAApBC,EAAO,GAAG1xH,OAAc,EAAImpD,SAASuoE,EAAO,GAAI,MAOzCC,GACG,GAApBF,EAAO,GAAGzxH,OAAiC,GAApB0xH,EAAO,GAAG1xH,SAChB2xH,GAAiBF,EAAO,GAAIC,EAAO,IAG5DH,EAAQE,EAAO,GACfD,EAAQE,EAAO,E,OACC,GAATx3G,E,CG+LD,OAC+C,GH7LlDA,C,IGyOQ2xG,MAAL/7B,UACkBqgC,GAA5B,CAEA,IAAI7iG,GAA8BqjG,KAClCE,GAAIvjG,KAGY67B,SAAwB8mE,GAAS,UAC7BpvE,E,MAVqBgwE,QAAA,EAA3C,IAAAe,GAA+Bf,GIhiBJgB,SAAAC,GAASC,EAAOC,GA0IzC,GAxIyBC,GAAAC,KAAKhsH,KAAqB6rH,EAAQA,EAAM7vH,KAAO,IAoBnE2mB,mBANL3iB,KAAKmgB,EAPLngB,KAAK2W,OAAS,KAuDd3W,KAAKyiB,OANLziB,KAAK8hB,QANL9hB,KAAK6hB,QANL7hB,KAAKgiB,QANLhiB,KAAK+hB,QAAU,EA8Bf/hB,KAAK/E,IAAM,GAoCX+E,KAAKsiB,QANLtiB,KAAKoiB,SANLpiB,KAAKqiB,OANLriB,KAAKmiB,SAAU,EAyBfniB,KAAKi6B,MAAQ,KAYRxc,eAAY,EAKZwI,iBAAc,GAMdgmG,OAAS,KAEVJ,EAAJ,CA4EA,IAAI7vH,EA3EFkwH,KA2EclwH,KA3EJ6vH,EA2Ea7vH,KAMrBmwH,EAjFQN,EAkFNvlG,gBAlFMulG,EAkFcvlG,eAAexsB,OAlF7B+xH,EAkFwCvlG,eAAe,GAAK,KASxE,GANK3P,YArFOk1G,EAqFyBl1G,QArFzBk1G,EAqFsCj1G,WArFhDs1G,KAwFG/rG,EAxFc2rG,EA0FfnpG,EA1FQkpG,EA0F+BlpG,eAMzC,GAAmBynG,GAAnB,CLjNiD7uH,EAAA,CAEnD,IACesuH,GK+MyBlnG,EL/MflU,UACvB,IAAA9S,GAAO,EAAP,MAAAJ,CACU,CAAV,MAAOI,GAAG,CAEZA,GAAO,C,CK2MEA,IACHgnB,EAAgB,K,MCtPXypG,aDyPApwH,EACT2mB,EAtGUkpG,EAsGQjpG,YCzPVypG,YD0PCrwH,IACT2mB,EAxGUkpG,EAwGQhpG,WAGfF,mBAAgBA,EAEjBwpG,GA7GFD,KA8GKnqG,aAAoC44B,IAA1BwxE,EAAcpqG,QAAwBoqG,EAAcpqG,QACdoqG,EAAclqG,MA/GnEiqG,KAgHKlqG,aAAoC24B,IAA1BwxE,EAAcnqG,QAAwBmqG,EAAcnqG,QACdmqG,EAAcjqG,MAjHnEgqG,KAkHKrqG,QAAUsqG,EAActqG,SAAW,EAlHxCqqG,KAmHKpqG,QAAUqqG,EAAcrqG,SAAW,IAnHxCoqG,KAkIKnqG,aAAwB44B,IAlInBkxE,EAkIO9pG,QAlIP8pG,EAkIiC9pG,QAlIjC8pG,EAkI6C5pG,MAlIvDiqG,KAmIKlqG,aAAwB24B,IAnInBkxE,EAmIO7pG,QAnIP6pG,EAmIiC7pG,QAnIjC6pG,EAmI6C3pG,MAnIvDgqG,KAoIKrqG,QApIKgqG,EAoIOhqG,SAAW,EApI5BqqG,KAqIKpqG,QArIK+pG,EAqIO/pG,SAAW,GArI5BoqG,KAwIGzpG,OAxIOopG,EAwIIppG,OAxIdypG,KA2IGjxH,IA3IO4wH,EA2IC5wH,KAAO,GA3IlBixH,KA6IG/pG,QA7IO0pG,EA6IK1pG,QACZE,YA9IOwpG,EA8IIxpG,OA9Id6pG,KA+IG9pG,SA/IOypG,EA+IMzpG,SA/IhB8pG,KAgJG5pG,QAhJOupG,EAgJKvpG,QAhJf4pG,KAkJGzuG,UAlJOouG,EAkJOpuG,WAAa,EAC3BwI,iBAiG0B,iBAA3B1qB,EAAU0qB,YApPF4lG,EAqPD5lG,YAIqBqmG,GAzPpBT,EAyP0C5lG,cAAgB,GArGjEgU,WApJO4xF,EAoJG5xF,MACVgyF,OArJOJ,EAsJNxrG,oBAGQksG,GAAanF,EAAY5mG,EAAe3kB,KAzJpDqwH,K,EAGCnF,GAAqB4E,GAA0B/C,IAyDpD,IAAA0D,GAAiE5xE,CAC/D,EA5BO8xE,QA6BP,EA9BKC,MA+BL,EAhCOC,SAwLGf,GAAajxH,UAAU8lB,EAAiBmsG,WAEtCJ,GAAanF,EAAY5mG,EAAe3kB,KAAKmE,MACrD4sH,MAAK5sH,KAAKisH,EACNzrG,iBAGNosG,EAAGpsG,iBAFHosG,EAAGtsG,aAAc,C,EExWrB,IAAAusG,GACI,uBAA0C,IAAhB7xG,KAAKqU,SAAkB,GC/BrDy9F,GAAqC,ECIdC,SAAAC,GACnBl+F,EAAiB4a,EAAK1tC,EAAMuzB,EAAS09F,GAOvCjtH,KAAK8uB,SAAWA,EAQhB9uB,KAAKktH,MCoEWA,KD9DhBltH,KAAK0pC,IAAMA,EAMX1pC,KAAKhE,KAAOA,EAMZgE,KAAKuvB,UAAYA,EAMjBvvB,KAAK05E,GAAUuzC,EAOfjtH,KAAK/E,MDzC8B6xH,GCqD9BppC,QANL1jF,KAAKmtH,IAAW,C,CAiC6BC,eAE7C7xH,EAAKmoF,IAAU,EACV50D,WAAW,KACXo+F,QAAQ,KACRxjF,MAAM,KACNgwC,KAAU,I,CEpGjBz2E,SAASA,GAAQwoD,EAAKnqD,EAAG+rH,GACvB,IAAK,MAAMpyH,KAAOwwD,EAChBnqD,EAAEzF,KAAuBwxH,EAAU5hE,EAAIxwD,GAAMA,EAAKwwD,E,CAqZtDkwB,SAAc2xC,GAAC7hE,GACb,MAAMioB,EAAM,GACZ,IAAK,MAAMz4E,KAAXM,EACEm4E,EAAIz4E,GAAOwwD,EAAIxwD,GAEjB,OAAAQ,C,CAsDF,MAAM8xH,GAAmB,gGAAAxiH,MAAA,KA0BzB+gB,SAAe0hG,GAAC72G,EAAQ2vG,GACtB,IAAIrrH,EACAkb,EACC,QAAItc,EAAI,EAAGA,EAAIuH,UAAUtH,OAAQD,IAAK,CAEzC,IAAKoB,KADLkb,EAAS/U,UAAUvH,GACnB6B,EACEib,EAAO1b,GAAOkb,EAAOlb,GASlB,QAAIg5F,EAAI,EAAGA,EAAIs5B,GAAiBzzH,OAAQm6F,IAC3Ch5F,EAAMsyH,GAAiBt5B,GACnBr6F,OAAOc,UAAUC,eAAekB,KAAKsa,EAAQlb,KAC/C0b,EAAO1b,GAAOkb,EAAOlb,G,EDpfHwyH,SAAAC,GAAShkF,GAGjC1pC,KAAK0pC,IAAMA,EAMX1pC,KAAK8oB,EAAY,GAMjB9oB,KAAK2tH,EAAa,C,CAkH4BC,SAAQC,GAARD,EAAS9+F,GAEvD,IAAI9yB,EAAO8yB,EAAS9yB,KACdA,QAAa8sB,IAAnB,CAIgC,IfghB5By/F,EehhB4B7sH,EAAAH,EAAKutB,EAAU9sB,Gf+gBzCnC,EAAIqb,GAAQkzG,Ee/gBoCt5F,IfihBjDy5F,EAAU,GAAL1uH,IAuCHgH,MAAMnG,UAAU+0C,OAAO5zC,KAtCnBusH,EAAKvuH,EAsC2B,GApCpC0uH,IelhB2CuF,GAAVh/F,GACH,GAA/BvzB,EAAKutB,EAAU9sB,GAAMlC,gBAChByB,EAAKutB,EAAU9sB,GACtBT,EAAKoyH,K,EA4HkCI,SAAAC,GACzCC,EAAen/F,EAAUo/F,EAAgBC,GAE3C,IAAK,IAAIt0H,EAAI,EAAGA,EAAIo0H,EAAcn0H,SAAUD,EAAG,CAC7C,IAAIu0H,EAAcH,EAAcp0H,GAC5B,IAACu0H,EAAY1qC,IAAW0qC,EAAYt/F,UAAYA,GAChDs/F,EAAY7+F,WAAa2+F,GACzBE,EAAY10C,IAAWy0C,EACzB,OAL2CxyH,C,CAQ/C,OAAO,C,CAxNG8xH,GAAY/yH,UAAUmP,IAAMwkH,SACpCryH,EAAM8yB,EAAUq+F,EAAUe,EAAgBC,GAE5C,IAAIG,EAAUtyH,EAAK6F,YACfosH,EAAgBjuH,KAAK8oB,EAAUwlG,MAEjCL,EAAgBjuH,KAAK8oB,EAAUwlG,GAAW,GAC1CtuH,KAAK2tH,KAIP,IAAI3yF,EAAgC+yF,GAChCE,EAAen/F,EAAUo/F,EAAgBC,GAc7C,OAbY,EAARnzF,GACFozF,EAAcH,EAAcjzF,GACvBmyF,IAGHiB,EAAYjB,IAAW,MAGzBiB,EAAc,IAAgBrB,GAC1Bj+F,EAAgB9uB,KAAK0pC,IAAK4kF,IAAWJ,EAAgBC,IAC7ChB,GAAWA,EACvBc,EAAcjsH,KAAKosH,IAvB0C3yH,C,EA6MD,IE1NhE8yH,GAAiC,eAAkC,IAAhBvzG,KAAKqU,SAAkB,GAmB1Em/F,GAA2B,GA+DNC,YAAS/kF,EAAK1tC,EAAM8yB,EAAU4/F,EAAazB,GAE9D,GAAIyB,GAAeA,EAAY5vE,KAC7B,OAAA6vE,GACIjlF,EAAK1tC,EAAM8yB,EAAU4/F,EAAazB,GAExC,GAAIpsH,MAAMC,QAAQ9E,GAAO,CACvB,IAAK,IAAInC,EAAI,EAAGA,EAAImC,EAAKlC,OAAQD,IACnB40H,GAAO/kF,EAAK1tC,EAAKnC,GAAIi1B,EAAU4/F,EAAazB,GAEnD,W,CAIT,OADAn+F,EAAuB8/F,GAAa9/F,GACpCvzB,GAA2CmuC,ELhGCmjF,IKmGnCnjF,EAAImlF,EACqC7yH,EAAO8yB,EAF9Ci3F,GAAS2I,KAAiBA,EAAYn/F,UAAYm/F,EAGvDzB,GAEe6B,GACcplF,EAAM1tC,EAAM8yB,GAC1B,EAAO4/F,EAAazB,E,CAyBrB6B,YAClBplF,EAAK1tC,EAAM8yB,EAAUq+F,EAAUuB,EAAazB,GAE9C,IAAKjxH,EACH,MAAU/B,MAAM,sBAGlB,IAAIs1B,EACKw2F,GAAS2I,KAAiBA,EAAYn/F,UAAYm/F,EAEvDK,EAA0BC,GAAgBtlF,GAW1C0kF,GAVCW,IACHrlF,EAAgB6kF,IAAsBQ,EAClC,IAAgBtB,GAAY/jF,KAG9B0kF,EACAW,EAAYllH,IAAI7N,EAAM8yB,EAAUq+F,EAAU59F,EAAS09F,IAIvCC,MACd,OAGEA,EAOAxjF,GAPAwjF,EA0CiB+B,WAGX3tH,WAAS4tH,GACjB,OAAOC,EAAsBtzH,KAAKyF,EAAEooC,IAAKpoC,EAAEwtB,SAAUogG,E,CAFvD,MAAMC,EAAoCC,GAI1C,OANgC7zH,C,CA1CR0zH,GACxBb,EAAYlB,MAAQA,EAEpBA,EAAMxjF,IAAMA,EACZwjF,EAAMp+F,SAAWs/F,EAGb1kF,EAAI3xB,iBAE0Bs3G,KAC9BX,EAAcn/F,QAGIorB,IAAhB+zE,IAA2BA,GAAc,GAC7ChlF,EAAI3xB,iBAAiB/b,EAAK6F,WAAYqrH,EAAOwB,QACpChlF,KAAI3f,YAMb2f,EAAI3f,YAAwBulG,GAAatzH,EAAK6F,YAAaqrH,OANtD,KAOIxjF,EAAImV,cAAenV,EAAIsV,eAQtB/kD,YAAM,qDAFhByvC,EAAImV,YAAYquE,EAEhB,QAtDyD5xH,C,CAqGpCi0H,SAAQZ,GAC7BjlF,EAAK1tC,EAAM8yB,EAAU4/F,EAAazB,GAEpC,GAAIpsH,MAAMC,QAAQ9E,GAAO,CACvB,IAAK,IAAInC,EAAI,EAAGA,EAAImC,EAAKlC,OAAQD,IACnB01H,GAAW7lF,EAAK1tC,EAAKnC,GAAIi1B,EAAU4/F,EAAazB,GAEvD,W,CAIkCvjF,OAD3C5a,EAAuB8/F,GAAa9/F,GACO4a,KLnPCmjF,IKsPnCnjF,EAAI8lF,EACqCxzH,EAAO8yB,EAF9Ci3F,GAAS2I,KAAiBA,EAAYn/F,UAAYm/F,EAGvDzB,GAEe6B,GACcplF,EAAM1tC,EAAM8yB,GAC1B,EAAM4/F,EAAazB,E,CA4CnBwC,SAAAC,GAAShmF,EAAK1tC,EAAM8yB,EAAU4/F,EAAazB,GAEhE,GAAIpsH,MAAMC,QAAQ9E,GAChB,IAAK,IAAInC,EAAI,EAAGA,EAAImC,EAAKlC,OAAQD,IACnB41H,GAAS/lF,EAAK1tC,EAAKnC,GAAIi1B,EAAU4/F,EAAazB,QAI1D19F,EACKw2F,GAAS2I,KAAiBA,EAAYn/F,UAAYm/F,EAE3D5/F,EAAuB8/F,GAAa9/F,GACO4a,KLpTCmjF,KMuMhC8C,ED8GHjmF,EC9GGimF,GHjJRrB,EGkJAjsH,OD8G8CrG,GFhQ/B6F,cACGinB,OAOV,GAFRkS,EAAgC+yF,GADhCE,EAAgB1yH,EAAKutB,EAAUwlG,GE2PsBx/F,EAAUS,EAC7D09F,MFvPQa,GADMG,EAAcjzF,IfilB3Bn6B,MAAMnG,UAAU+0C,OAAO5zC,Ke/kBRoyH,EAAejzF,Ef+kBM,Ge9kBb,GAAxBizF,EAAcn0H,gBACTyB,EAAKutB,EAAUwlG,GACtB/yH,EAAKoyH,QEsPJjkF,IAMDqlF,EAA0BC,GACGtlF,MF5J7BukF,EE8JgBc,EF9JKjmG,EE+JyB9sB,EF/JV6F,YACpChI,GAAI,EACJo0H,IACFp0H,EAA4Bk0H,GACxBE,EE2JmDn/F,EAAUS,EAC7D09F,KF1JN3xH,GAAW,EAAJzB,EAASo0H,EAAcp0H,GAAK,OE4JZ+1H,GAAcxB,G,CAgBXwB,SAAAC,GAAS50H,GASnC,GALmB,iBAARA,GAIIA,MACWyoF,GAA1B,CAIA,IAAIh6C,EALWzuC,EAKIyuC,IACnB,GAA2CA,KLrWCmjF,IMoNViD,GDkJepmF,EClJrCimF,ED2IG10H,OAMf,CAIA,IAAIe,EAVWf,EAUKe,KAChBkxH,EAXWjyH,EAWMiyH,MACbl1G,sBACN0xB,EAAI1xB,oBAAoBhc,EAAMkxH,EAbjBjyH,EAaiCs0B,SACrCma,EAAI9f,YACb8f,EAAI9f,YAAwB0lG,GAAatzH,GAAOkxH,GACvCxjF,EAAImV,aAAenV,EAAIsV,gBAChCtV,EAAIsV,eAAekuE,IAIjB6B,EAA0BC,GACGtlF,KAInBomF,GAAZf,EA1Ba9zH,GA2BqB,GAA9B8zH,EFjZMpB,IEoZRoB,EAAYrlF,IAAM,KAGlBA,EAAgB6kF,IAAsB,OAGQT,GApCnC7yH,E,GAsOUq0H,YAAStzH,GAElC,OAAIA,KAAJ+zH,GACqBvB,GAAaxyH,GAEfwyH,GAAaxyH,GAlkBVg0H,KAkkB0Ch0H,C,CAkJhCozH,SAAQa,GAACnhG,EAAUohG,GAEnD,GAAIphG,EAAS40D,GACJnoF,GAAA,MADT,CAKOE,EAAA,IAAAmwH,GAAAnwH,EAAAuE,MAlFHmwH,MAkFGrhG,EAlFmBA,SACtBshG,EAiFGthG,EAjFwB4qD,IAiFxB5qD,EAjF4C4a,IAiF5C5a,EA/EMq+F,IACCyC,GA8EP9gG,GA5EPvzB,EAAO40H,EAAWt0H,KAAKu0H,EAAiBlB,E,CAuExC,OAF4D3zH,C,CA0FhCyzH,SAAQqB,GAAC3mF,GAKrC,OAHIqlF,EAAcrlF,EAAgB6kF,eAG3Bb,GAAiDqB,EAAc,I,CASxE,IAAAuB,GACI,wBAA2C,IAAhBt1G,KAAKqU,WAAoB,GAW7Bu/F,YAAS9/F,GAIlC,MAAwB,mBAApBvzB,EAMCuzB,KAAqBwhG,MACxBxhG,EAAqBwhG,IAA0B,SAAS30H,GAEtD,OAAAJ,EAAmCg1H,YAAY50H,E,GAG5CmzB,EAAqBwhG,I,CCl3BJE,SAAAC,KAEnBC,GAAW70H,KAAKmE,MAMhB2vH,OAAwB,IAAgBlC,GAAYztH,MAOzDA,KAAK2wH,EAAqB3wH,KAW1BA,KAAK4wH,EAAqB,I,CAgG8B,SAAAC,GAARC,EAASn1H,GAAG,IAIxDo1H,EAAeC,EAAWC,EA5ElBL,EA6ERI,KAGF,IAFAD,EAAgB,GAETC,EAAUA,EAAWA,EAhFlBJ,EAiFRG,EAAc/uH,KAAKgvH,GAqQN,GA7PRL,EAALA,EAAKA,EAyPL30H,EAAOL,EAAEK,MAA+BL,EAI3B,iBAAjBF,EACEE,EAAI,IAAgBitH,GAAMjtH,EAAGgb,QAClBhb,gBAAyBitH,GAKpCjtH,EAAEgb,OAAShb,EAAEgb,QAAUA,MALqB,CAC5C,IAAIu6G,EAAWv1H,EFiOjBmwB,GEhOErwB,EAAI,IAAgBmtH,GAAM5sH,EAAM2a,GACVu6G,E,CAQxB,GAHI3I,GAAK,EAGL4I,EACF,IAAK,IAAIt3H,EAAIs3H,EAAkBr3H,OAAS,EACA,GAALD,EAAQA,IAAK,CAC9C,IAAAsmB,EAAgBxkB,EAAEwkB,EAAgBgxG,EAAkBt3H,GACpD8B,EAAmBy1H,GAAdjxG,EAA4BnkB,GAAM,EAAML,IAAM4sH,C,CAcvD,GAPEA,EAAmB6I,GADnBjxG,EAAkCxkB,EAAEwkB,EAAgBxJ,EACnB3a,GAAM,EAAML,IAAM4sH,EAEjDA,EAAmB6I,GAAdjxG,EAA4BnkB,GAAM,EAAOL,IAAM4sH,EAKpD4I,EACF,IAAKt3H,EAAI,EAAiCA,EAAIs3H,EAAkBr3H,OAC3DD,IAEH0uH,EAAmB6I,GADnBjxG,EAAgBxkB,EAAEwkB,EAAgBgxG,EAAkBt3H,GACnBmC,GAAM,EAAOL,IAAM4sH,C,CAnKR,SAAA8I,GAAAC,EAC9Ct1H,EAAMuzB,EAAS2/F,GAOjB,KADIjB,EAAgB1yH,EAAKo0H,EAAsB7mG,EAAUzmB,OAAOrG,KAE9D,OAAO,EAETiyH,EAAgBA,EAAcv/F,SAG9B,IADA,IAAI65F,GAAK,EACA1uH,EAAI,EAAGA,EAAIo0H,EAAcn0H,SAAUD,EAAG,CAC7C,IAAIi1B,EAAWm/F,EAAcp0H,GAEzBi1B,OAAaA,EAAS40D,IAAW50D,EAASS,SAAWA,EAAS,CAChE,IAAI4gG,EAAarhG,EAASA,SACtBshG,EAAkBthG,EAAS4qD,IAAW5qD,EAAS4a,IAE/C5a,EAASq+F,IAvDiB2C,GAwD5ByB,EAxDM5B,EAwDa7gG,GAErBnzB,GAAuD,IAAlDw0H,EAAWt0H,KAAKu0H,EAAiBlB,IAA0B3G,C,EAIpE,OAAA5sH,IAAcuzH,EAAY7uG,gB,CAxQvB0mG,GAAqByJ,GAAkBhJ,IACSgJ,GNtB/C91H,UAAiCmyH,KAAuB,EMsGlD2D,GAAY91H,UAAUsd,oBAAsBw5G,SACpDx1H,EAAM09E,EAAS+3C,EAAaC,GAElBjC,GAASzvH,KAAMhE,EAAM09E,EAAS+3C,EAAaC,E,EAsC7ClB,GAAY91H,UAAUstH,EAAkB2J,WA+FlD,GA7FYC,GAAYxK,EAAYY,EAAgBnsH,KAAKmE,MAEzDi/C,KA2FU0wE,EAAV,CAGYA,IHxHH3zH,EGwHG2zH,EA9FZ1wE,KA8FY0wE,EHxHZ,IAAS3zH,KAAQT,EAAKutB,EAAW,CAG7B,IADA,IAAImlG,EAAgB1yH,EAAKutB,EAAU9sB,GAC1BnC,EAAI,EAAGA,EAAIo0H,EAAcn0H,OAAQD,IAEvBi0H,GAAjBG,EAAcp0H,WAET0B,EAAKutB,EAAU9sB,GACtBT,EAAKoyH,G,EGmBT3tH,KAAK4wH,EAAqB,I,EAgBJl2H,aAAUm0H,EAASgD,SACvC71H,EAAM8yB,EAAUo/F,EAAgBC,GAGlC,OAAAnuH,KAAY2vH,EAAsB9lH,IAC9BxH,OAAOrG,GAAO8yB,GAAU,EAAsBo/F,EAC9CC,E,EAgBMqC,GAAY91H,UAAU80H,EAAasC,SAC3C91H,EAAM8yB,EAAUo/F,EAAgBC,GAElC,OAAYwB,OAAsB9lH,IAC9BxH,OAAOrG,GAAO8yB,GAAU,EAAqBo/F,EAC7CC,E,ECnFN,IAAA4D,GAEUpM,GAALh2E,KAAAC,UChIHy5C,oBCsF6B2oC,GDrF3B,IAAI/yB,EAAO,KAUX,OARSgzB,MACPhzB,EAAO1jG,EAAK02H,EACZ12H,EAAK02H,EAAY12H,EAAK02H,EAAU/vH,KAC3B3G,EAAK02H,IACR12H,EAAK22H,EAAY,MAEnBjzB,EAAK/8F,KAAO,MAEdzG,C,CAwBJ,IC3DA02H,GD2DAC,GAAsB,IElEAC,MAMpB3xH,YAAY6+B,EAAQ06D,GAIlBj6F,KAAKsyH,EAAU/yF,EAEVgzF,OAASt4B,EAGdj6F,KAAKwyH,EAAa,EAElBxyH,KAAKyyH,EAAQ,I,CAMf5jH,MACE,IAAIowF,EASJ,OARsB,EAAlBj/F,KAAKwyH,GACPxyH,KAAKwyH,IACLvzB,EAAOj/F,KAAKyyH,EACZzyH,KAAKyyH,EAAQxzB,EAAK/8F,KAClB+8F,EAAK/8F,KAAO,MAEZ+8F,EAAOj/F,KAAKsyH,IAEd/2H,C,IFkCA,IAAM,IAAIm3H,KAAYzzB,GAAQA,EAAKhF,UAMvC,MAAA04B,GACEjyH,cAMEV,KAAKkC,KAFLlC,KAAK86E,EAFL96E,KAAKy6C,EAAK,I,CAWZhtC,IAAIgtC,EAAIqgC,GAEN96E,KAAKy6C,EAAKA,EACVz6C,KAAK86E,EAAQA,EACb96E,KAAKkC,KAAO,I,CAId+3F,QAGEj6F,KAAKkC,KADLlC,KAAK86E,EADL96E,KAAKy6C,EAAK,I,EG/Fdm4E,YAAwBC,GAEjBC,GAAOxhG,YAAW,KACrB,MAAMuhG,CAAN,GACC,E,CFEYE,SAAQC,GAACt6F,EAAUu6F,GAEdC,IAiBa,WAQ/B,IAAI5hB,EAAe6hB,GAAOzhG,QAAQppB,aAAQqyC,GAC3Bu4E,GAAYA,WAEzB5hB,EAAQ3uG,KAAoBywH,G,EA3BfC,GAEjBC,KAEiBJ,KACAK,IAAsB,GAGb1pH,OAAI6uB,EAAUu6F,E,CA+D1C,IAAAM,IAAqC,EAIrCC,GAA4B,IDjF5B,MACE9yH,cAEEV,KAAKkyH,EADLlyH,KAAKiyH,EAAY,I,CAQnBpoH,IAAI4wC,EAAIqgC,GACN,MAAMmkB,EA0CWw0B,GAAU5kH,MAzC3BowF,EAAKxxF,IAAIgtC,EAAIqgC,GAET96E,KAAKkyH,EACPlyH,KAAKkyH,EAAUhwH,KAAO+8F,EAItBj/F,KAAKiyH,EAAYhzB,EAHjBj/F,KAAKkyH,EAAYjzB,C,GC6FWm0B,cAIhC,IADA,IAAIn0B,EACGA,EAAiC5V,MAAU,CAChD,IACE4V,EAAKxkD,EAAG5+C,KAAKojG,EAAKnkB,E,CAClB,MAAOn/E,GEjHHi3H,GFkHsBj3H,E,CClF9B+jH,MFUYgU,GETVj4H,EAAK82H,EAAOtzB,GACZ,IAAIxjG,EAAK+2H,IACP/2H,EAAK+2H,IACLvzB,EAAK/8F,KAAOzG,EAAKg3H,EACjBh3H,EAAKg3H,EAAQxzB,E,CDmFFs0B,IAAsB,C,CGpH1BI,YAASC,EAAcC,GAEtBC,GAAYj4H,KAAKmE,MAM7BA,KAAK+zH,EAAYH,GAAgB,EAUjC5zH,KAAKg0H,EACDH,GA6D+BlO,GAtDnC3lH,KAAKi0H,EAAkBtN,GAAK3mH,KAAKk0H,GAAOl0H,MASxCA,KAAKm0H,E1BigDE/yG,KAAKC,K,C0B71Cc,SAAA+yG,GAAAC,GAE1B94H,EAAK+4H,IAAU,EACX/4H,EAAKg5H,IACPh5H,EAAKy4H,EAAaxiG,aAAaj2B,EAAKg5H,GACpCh5H,EAAKg5H,EAAS,K,CAmCIC,SAAQC,GAAC3lG,EAAU4lG,EAAWzH,GAElD,GAAwB,mBAApB1xH,EACE0xH,IACFn+F,EAAgB63F,GAAK73F,EAAUm+F,QAExBn+F,QAA2C,mBAAfyhG,cAIrC,MAAMt2H,MAAU,6BAFhB60B,EAAgB63F,GAAK73F,EAASyhG,YAAazhG,EAE3C,CAGF,kBAAIkhE,OAAO0kC,IA9LoBC,EAkBI7B,GAkLIxhG,WAAWxC,EAAU4lG,GAAa,E,CCrIzEE,SAAAC,GAAAD,GACEr5H,EAAKg5H,EAAeC,IAAS,KAAMM,EAb9BP,EAAS,KAaqBO,EAX1BC,IAW0BD,EAV5BC,GAAc,EACdH,GAS4BE,GAXnC,GAWoDv5H,EAAKw4H,GACzD,MAAMz1E,EAAO/iD,EAAKy5H,EAEbA,IAAQ,KACRC,IAAU/xH,MAAM,KAAMo7C,E,CD7F1ByoE,GAAc4M,GAAmBnD,KAgCtC/K,GAAAyP,GAAAx6H,WAAAy6H,IAA+B,EA4BVC,GAArBC,EAA8B,KAkCTD,GAArBlB,GAA6BoB,WAE3B,GAAIt1H,KAAKs0H,GAAS,CAChB,IAAIiB,E1B85CCn0G,KAAKC,M0B95CiBrhB,KAAKm0H,EAClB,EAAVoB,GAAeA,EA7CIC,GA6CMx1H,KAAK+zH,EAChC/zH,KAAKu0H,EAASv0H,KAAKg0H,EAAa1iG,WAC5BtxB,KAAKi0H,EAAYj0H,KAAK+zH,EAAYwB,IAMpCv1H,KAAKu0H,IACPv0H,KAAKg0H,EAAaxiG,aAAaxxB,KAAKu0H,GACpCv0H,KAAKu0H,EAAS,MAoBbh2G,GAjBHk3G,KA0EcC,QAxEV11H,KAAKs0H,KAGFqB,GAALA,MACA31H,KAAKurB,S,GAkBXA,SAA6BqqG,WAE3B51H,KAAKs0H,IAAU,EAGVt0H,KAAKu0H,IAaRv0H,KAAKu0H,EAASv0H,KAAKg0H,EAAa1iG,WAAWtxB,KAAKi0H,EAAYj0H,KAAK+zH,GACjE/zH,KAAKm0H,E1Bq2CA/yG,KAAKC,M,E0Bl1CO+zG,GAArBpN,EAAuC6N,WAEhCC,GAAM1O,EAAYY,EAAgBnsH,KAAKmE,MACvC21H,GAALA,aACO31H,KAAKg0H,C,EC1Nd,MAAM+B,WAANtO,GAQE/mH,YAAYouB,EAAUknG,GACpB1jB,QAMK2iB,OAAuDnmG,EAOvDilG,OAAYiC,EAOjBh2H,KAAKg1H,EAAQ,KAObh1H,KAAK+0H,GAAc,EAgBnB/0H,KAAKu0H,EAAS,I,CAUhB0B,EAAK3P,GACHtmH,KAAKg1H,EAAQ5zH,UACRpB,KAAKu0H,EAGRv0H,KAAK+0H,GAAc,EAFdH,GAALA,K,CA0CJ5M,IACE1V,MAAM0V,IAhCGuM,SDQwB2B,GA6LL1kG,aCpK5BmkG,KAhCmBpB,GAgCnBoB,KA/BOpB,EAAS,KA+BhBoB,KA9BOZ,GAAc,EA8BrBY,KA7BOX,EAAQ,K,ECtCQmB,SAAQC,GAACC,GAE7B3F,GAAW70H,KAAKmE,MAGhBs2H,OAAWD,EAOhBr2H,KAAKu2H,EAAQ,E,CAEVxP,GAAqBoP,GAAmB3O,IAW7CgP,OAAsC,GAoEO,SAAAC,GAAAC,EACzChtF,EAAK1tC,EAAM26H,GAGR91H,MAAMC,QAAQ9E,KACbA,IACuBw6H,GAAW,GAAKx6H,EAAK6F,YAEhD7F,EAAgCw6H,IAElC,IAAK,IAAI38H,EAAI,EAAGA,EAAImC,EAAKlC,OAAQD,IAAK,CACpC,IAAIu0H,EAA0BK,GAC1B/kF,EAAK1tC,EAAKnC,GAAI88H,GATiC1kE,EASlBs+D,aAA4B,EATVt+D,EAU7BqkE,GAV6BrkE,GAYnD,IAAKm8D,EAIH,MAhBiDn8D,EAoB9CskE,EADKnI,EAAYnzH,KACJmzH,C,EA8QyBwI,SAAQC,GAARD,GVuO7C3zH,GUrOoB1H,EAAKg7H,GAAO,SAASnI,EAAanzH,GAEhD+E,KAAKu2H,EAAM57H,eAAeM,IAChB20H,GAAcxB,E,GAE3B7yH,GAEHA,EAAKg7H,EAAQ,E,CCnb4BO,SAAQC,KAajD/2H,KAAKg3H,GAAiB,C,CA6E+BC,SAAQC,GAARD,EACnDl9H,EAAIo9H,EAAcC,GAGpB77H,EAAK87H,MAAK,WAER,MAAO,iBAAmBt9H,EAAK,MA8ES,SAAAu9H,EAASH,GAEnD,IAAK57H,EAAKy7H,EACR,OAGFv7H,EAAA,IAAK07H,EACH,OAAO,KAGT,IACE,IAAII,EAAgB5nF,KAAK+G,MAAMygF,GAC/B,GAAII,EACF,IAAS19H,EAAI,EAAGA,EAAI09H,EAAcz9H,OAAQD,IACxC,GAAIgH,MAAMC,QAAQy2H,EAAc19H,IAAhC,CACyB,IAAA6B,EAAA67H,EAAc19H,GAoB7C,KAAmB,EAAfqkD,EAAMpkD,QAAV,CAGA,IAAI09H,EAAWt5E,EAAM,GACrB,GAAKr9C,MAAMC,QAAQ02H,MAGG,EAAlBA,EAAS19H,QAAb,CAIA,IAAIkC,EAAOw7H,EAAS,GACR,WAARx7H,GAA0B,QAARA,GAA0B,SAARA,EAEtC,IAAK,IAAInC,EAAI,EAAGA,EAAI29H,EAAS19H,OAAQD,IACnC29H,EAAS39H,GAAK,E,GA9BhB,OAAiBk4H,GAAUwF,E,CAC3B,MAAO57H,GAEP,OAAOw7H,C,EArGqCM,CAHnCxlE,EAGmDklE,IACvDC,EAAW,IAAMA,EAAW,G,ID2VzBjB,GAAaz7H,UAAUstH,EAAkB0P,WAEvCC,GAAavQ,EAAYY,EAAgBnsH,KAAKmE,MAC1D62H,GAAAe,K,EAQUzB,GAAaz7H,UAAU61H,YAAcsH,WAE/C,MAAU59H,MAAM,2C,EChblB68H,GAAgBp8H,UAAUo9H,GAAgBC,WAExC/3H,KAAKg3H,GAAiB,C,EAkHxBF,GAAgBp8H,UAAU28H,KAAOW,WAAe,ECxIhD,IAAAC,GAAqB,GAQrBC,GAA4B,KAOO,SAAAC,KAIjC,OAAAC,GADiBF,IAAgB,IAAgB1H,E,CAmCZ6H,SAAQC,GAAC3hH,GAElCo1G,GAAMlwH,KACdmE,KAAmBu4H,GAAMC,GAA2B7hH,E,CAgBb8hH,SAAQC,GAACC,GAEpD,MAAMhiH,EAAsBiiH,KACrBr6G,GAAP5H,EACI,IAAiBkiH,GAAwBliH,EAAQgiH,G,CAgH9B,SAAAG,GAASC,EAAaC,GAEjCjN,GAAMlwH,KAAKmE,KAAmBi5H,GAAMC,WAAYH,GAM5D/4H,KAAKg5H,KAAOA,C,CAmBiBG,YAASH,GAEtC,MAAMriH,EAAsBiiH,KACrBr6G,GAAP5H,EAAqB,IAAiByiH,GAAUziH,EAAQqiH,G,CAuB/B,SAAAK,GAAS1iH,EAAQuvB,GAE9B6lF,GAAMlwH,KAAKmE,KAAmBs5H,GAAMC,GAAc5iH,GAKzDuvB,UAAOA,C,CAiGoB,SAAAszF,GAAC/+E,EAAIwjE,GAErC,GAAkB,mBAAlB1iH,EACE,MAAMtB,MAAU,8CAElB,OAAmBq3B,eAAW,WAI1BmpB,G,GAIDwjE,E,CA5UQsa,GAAMC,GAA4B,qBAqC1CzR,GAAsB8R,GAAqCjQ,IAqBnDqQ,GAAMC,WAAa,YAkH3BnS,GAAsBqS,GAAuBxQ,IA4BrC0Q,GAAMC,GAAe,cAkC7BxS,GAAsB0S,GAAyB7Q,ICpRpD,IAAA8Q,GAAqB,CAKnBC,SAAUA,EASVC,GAAeA,EAOfC,GAAgBA,EAOhBC,GAAiBA,EAKjBC,GAAcA,EAKdC,GAAWA,EAKXC,GAAYA,EAKZC,GAAOA,EAKPC,QAASA,EAKTC,GAASA,GC1DXC,GAAqB,CACnBC,GAAUA,WACVC,GAASA,UACTvkB,GAAOA,QACPkkB,GAAOA,QACPM,GAAOA,QACPC,GAAoBA,mBACpBN,QAASA,UACTO,GAAkBA,kBAClBC,GAAUA,WAIVC,GAAmBA,mBACnBC,GAAiBA,kBCVOC,SAAQC,KAAG,CAqBUC,SAAQC,GAARD,GAE7C,OAAOz/H,EAAK2/H,IACP3/H,EAAK2/H,EAAiB3/H,EAAK4/H,I,CCKZC,SAAQC,KAAG,CDrBxBP,GAAepgI,UAAUwgI,EAAiB,KC+WnD,ICnXAI,GDmXAC,GAAgC,CAE9BC,KAAMA,IAGNC,GAAOA,IASPzlB,GAAOA,IAGP0lB,GAASA,KAWwBC,SAAQC,KAER7P,GAAA8P,KAC7B77H,KAdK07H,I,CAkHsBI,SAAQC,KAERhQ,GAAAiQ,KAC3Bh8H,KAxHGg2G,I,CC7PwBimB,SAAQC,KAAG,CCtGFC,SAAQC,GAC9CC,EAASC,EAA6BC,EAAeC,GAMvDx8H,KAAKy8H,EAAWJ,EAMhBr8H,KAAK08H,EAAgBJ,EAYrBt8H,KAAK28H,EAAOJ,EAMPK,OAAWJ,GAAe,EAO1BK,OAAgB,IAAgB1G,GAAan2H,MAM7C88H,OAAmDC,GCtCtDxhI,EADY4uH,GAjCa6S,SAgCW,ED+CjCC,OACD,IAAStJ,GAAMp4H,GAMnByE,KAAKk9H,EAAgB,KAQhBC,QAAc,EA6CdC,OANLp9H,KAAKq9H,EANLr9H,KAAKs9H,EAPLt9H,KAAKu9H,EANLv9H,KAAKw9H,EANLx9H,KAAKy9H,EANLz9H,KAAK09H,EAAmB,KA6CxB19H,KAAK29H,EAAmB,GAMxB39H,KAAK49H,EAAW,KAOXC,OAAqB,EAYrBC,OANL99H,KAAK+9H,EAAQ,KAYRC,QAAkB,EAMlBC,QAAa,EAWlBj+H,KAAKk+H,EAA8B,EAOnCl+H,KAAKm+H,EAA4B,KA0B5BC,OAPLp+H,KAAKq+H,EANLr+H,KAAKs+H,EANLt+H,KAAKu+H,GAAgB,EA0BhBC,OAAsB,IAA6BC,E,CAQZA,SAAAC,KAM5C1+H,KAAK2+H,EAAc,KAMdC,OAAiB,GAMtB5+H,KAAK6+H,GAA0B,C,CF6I5B9X,GAA6B4U,GAA0B/S,IAuGvD7B,GAA6B+U,GAAwBlT,ICnXrD7B,GAAkBkV,GAAgCnB,IAIxBpgI,aAAUokI,EAAiBC,WAGxD,OAGS,IAAIC,c,EAMgBtkI,aAAUygI,EAAqB8D,WAQ5D,MALgBzuH,E,EAlCC0uH,GAsGen3D,IAAak0D,GC2D/C,IAAAc,GAA6B,KAyF7BoC,GAAgC,GAQhCC,GAAmC,GA4FI,SAAAC,GAAAC,EAASC,EAAKC,GAEnDjkI,EAAKgiI,EAnLKkC,EAoLVlkI,EAAK+hI,EAAuBoC,GAAR/jD,GAAJ4jD,IACXnC,IAAYoC,EACZjB,KEy7B4BoB,EFx7B5BC,GAALA,EAAkB,K,CAiCoBC,SAAQC,GAARD,EAASE,GAE/CxkI,EAAKiiI,EAAoBp8G,KAAKC,MAC9B2+G,GAAAC,GAIA1kI,EAAK8hI,EAA4B1hD,GAAdpgF,EAAK+hI,GACnBD,MAALA,EAAKA,EAAyCT,EAALA,EAAKA,EGgGnC97H,cAAQm0G,KACjBA,EAAS,CAAC5yG,OAAO4yG,KAGnBirB,GAAA5kI,EAAK6kI,EHpG+BllI,IGoGLg6G,GHjG1B4oB,IAAqB,EACpBuC,EAAsB7kI,EAAKkhI,EEmgErB4D,EFlgEP7B,IAAsB,IAAIC,GAK/BljI,EAAKqiI,EAAyB0C,GAAd/kI,EAAKkhI,EACjB2D,EAAsBL,EAAa,MAAOxkI,EAAK6hI,GAEnD,EAAI7hI,EAAK2iI,IACP3iI,EAAK4iI,EAA4B,ITzY3BpI,GS0YGpP,GAAKprH,EAAKglI,GAAiBhlI,EAAMA,EAAKqiI,GAC3CriI,EAAK2iI,IR5bJzH,GQ+bPl7H,EAAKshI,EACDthI,EAAKqiI,EJ5hBWnD,mBI6hBhBl/H,EAAKilI,IAEH1iB,EACFviH,EAAK2hI,ElByGTvhD,GkBzG2CpgF,EAAK2hI,GAAiB,GAC7D3hI,EAAK6hI,GACF7hI,EAAKwiI,IACRxiI,EAAKwiI,EAAQ,QAEfjgB,EAAQ,gBAAkB,oCAC1BviH,EAAKqiI,EAAS6C,GAAKllI,EAAK8hI,EAAa9hI,EAAKwiI,EAAOxiI,EAAK6hI,EAAWtf,KAEjEviH,EAAKwiI,EAAQ,MACbxiI,EAAKqiI,EAAS6C,GAAKllI,EAAK8hI,EAAa9hI,EAAKwiI,EAAO,KAAMjgB,IAE5C4iB,GN9fCC,GDYkCC,WAC9CC,EAAMtB,EAAKxlI,EAAI+mI,EAAStB,GAG1BjkI,EAAK87H,MAAK,WAuLV,GAxLWplE,EAwLD+kE,EAIV,GAxLoDwI,EA4LpD,IADI7wB,MAAM,GACNoyB,EA5LgDvB,EA4LlCz0H,MAAM,KACflR,EAAI,EAAGA,EAAIknI,EAAOjnI,OAAQD,IAAK,CAEtC,IAAImnI,EADQD,EAAOlnI,GACEkR,MAAM,KAC3B,GAAsB,EAAlBi2H,EAASlnI,OAAY,CACvB,IAAImB,EAAM+lI,EAAS,GACf5+H,EAAQ4+H,EAAS,GAErB,IAAIC,EAAWhmI,EAAI8P,MAAM,KAEvB4jG,EADqB,GAAnBsyB,EAASnnI,QAA8B,QAAfmnI,EAAS,GACnCtyB,GAAO1zG,EAAM,KAAMmH,EAAQ,IAE3BusG,GAAO1zG,EAAM,a,OAfjBW,EAAO,UALTA,EApLoD4jI,EAD3C,sBAAkBzlI,EAAK,cAAgB+mI,EAAU,MAAQD,EAC5D,KAAOtB,EAAM,KAAO3jI,C,IO6e1BslI,CAAA3lI,EAAKmhI,EACDnhI,EAAKwiI,EAAOxiI,EAAK8hI,EAAa9hI,EAAKohI,EAAMphI,EAAKqhI,EAAUrhI,EAAK6hI,E,CAmTZ+D,SAAQC,GAARD,GAErD,QAAK5lI,EAAKqiI,IAIQ,OAAdriI,EAAKwiI,GA1jBMsD,GA0jBY9lI,EAAKgiI,GAC5BhiI,EAAKkhI,EEkzDG6E,G,CFxxD+BC,SAAQC,GAARD,EACzC1qD,EAAYsgD,GAEd,IAEIsK,EAFAC,GAA6B,EAGjC,MAAQnmI,EAAK0iI,GAAc1iI,EAAKsiI,EAAqB1G,EAAar9H,QAEhE,IADA2nI,EAAiBE,GAALA,EAAmBxK,GAC3BsK,GAA4BrC,GAAmB,CD9yB3C9E,GC+yBFzjD,IAEFt7E,EAAKuiI,EAhkBD8D,EAikBSC,GNjvBMC,IMkvBnBJ,GAA6B,GAE/BxK,GAAA37H,EAAKmhI,EACDnhI,EAAKohI,EAAM,KAAM,yBAR4B,K,CAU5C,GAAI8E,GAA4BtC,GAAgB,CACrD5jI,EAAKuiI,EAxkBC8D,EAykBOC,GNtvBCE,IMuvBd7K,GAAA37H,EAAKmhI,EACDnhI,EAAKohI,EAAMxF,EAAc,mBAC7Bz7H,GAA6B,EAC7B,K,CAEAw7H,GAAA37H,EAAKmhI,EACDnhI,EAAKohI,EAA6B8E,EAAY,MAC7CO,GAALA,EAA+CP,EA3C1CQ,CAALb,GA+CJc,IAAuBT,GA9CSrC,IA8CTqC,GA7CStC,KA6ChC+C,EA5CO1D,EAAoBI,EAAiB,GA4C5CsD,EA3COrE,EAAqB,GA6C5B,GAAIhnD,GACuB,GAAvBsgD,EAAar9H,QACZyB,EAAKijI,EAAoBK,IAE5BtjI,EAAKuiI,EA1mBEqE,EA2mBMN,GNtwBEO,IMuwBfV,GAA6B,GAG1BvE,IAAc5hI,EAAK4hI,GAAeuE,EAEvChmI,EAO4B,EAAtBy7H,EAAar9H,SAAeyB,EAAK6iI,IACnC7iI,EAAK6iI,GAAqB,GACrB3B,EAALA,EAAKA,GEm1BA4F,GFn1B6BlwB,GEm1BK12G,EAAK6mI,IACzC7mI,EAAK8mI,IACR9mI,EAAKihI,EAAcrF,KACf,uDFt1BoCF,EEu1BvBr9H,QAGZ0oI,GAALA,GACA/mI,EAAK8mI,GAAmB,EACXV,GRhoDRY,OM6xBYC,GAAnBnnI,EAAKmhI,EACDnhI,EAAKohI,EAAMxF,EAAc,8BACxBwL,GAALA,GACKC,GAALA,G,CA8DqCC,cAAS1L,GAEhD,IAAM2L,EAAiBvnI,EAAKsiI,EACtBkF,EAAe5L,EAAajiH,QAAQ,KAAM4tH,GAC5B,UAAhBC,EACoB3D,IAIlBl5F,EAAO8pD,OADQmnC,EAAa9hH,UAAUytH,EAAgBC,IAExDx3H,MAAM26B,GACR88F,IAGIC,GAAiC,GACjB/8F,EAAOixF,EAAar9H,OAIpC2nI,MAAYtK,EAAazY,OAAOukB,EAAiB/8F,GAClD23F,IAAqBoF,EAAkB/8F,EAC5CzqC,G,CAuF8CynI,SAAQlD,GAARkD,GAE9C3nI,EAAKkiI,EAAuBr8G,KAAKC,MAAQ9lB,EAAKuhI,EAC9CqG,GAAAC,EAAyB7nI,EAAKuhI,E,CAUeuG,SAAAF,GAAAE,EAAS76G,GAEtD,GAA6B,MAAzBjtB,EAAKmiI,EAEP,MAAUzjI,MAAM,2BAElBsB,EAAKmiI,EACY4F,GAAgB3c,GAAKprH,EAAKgoI,GAAoBhoI,GAAOitB,E,CASxBg7G,SAAQC,GAARD,GAE1CjoI,EAAKmiI,IACFxH,GAAO1kG,aAAaj2B,EAAKmiI,GAC9BniI,EAAKmiI,EAAmB,K,CAiEgB,SAAAgG,GAAAC,GE/sBlCC,GFitBJroI,EAAKkhI,EElDGoH,GFkDoBtoI,EAAK0iI,GAIvB6F,GAAdvoI,EAAKkhI,EAA2BlhI,E,CAUEwoI,SAAAC,GAAAD,GAE7BE,GAALA,GAEkB9F,MAALA,EAAKA,EIxtClB1iI,GAAiC,mBAAfgwD,EAAIq8D,IACpBr8D,EAAIq8D,KJwtCNvsH,EAAK4iI,EAA4B,KAGjC/J,GAAA74H,EAAK0hI,GAGLpG,GAAAt7H,EAAKshI,GAEDthI,EAAKqiI,IAGDsG,EAAU3oI,EAAKqiI,EACrBriI,EAAKqiI,EAAW,KAChBsG,EAAQlgB,QACRkgB,EAAQpc,K,CAoGkCqc,cAASvgH,GAErD,IACO64G,MAALA,EAAKA,EEqdP,GA9yCQmH,GA8yCJtoI,EAAKuoI,IACJvoI,EAAK+mI,GFtdoBlwB,GEudQiyB,GAAhC9oI,EAAK+oI,EFvdmBlyB,IE6d9B,IF7d8BA,EAnjBlBksB,GEihCwB+F,GAAhC9oI,EAAK+oI,EF9dqBlyB,IEh1BtBmyB,GA+yCJhpI,EAAKuoI,EAAuC,CAE9C,IACE,IAAA91C,EAAWzyF,EAAKipI,GG/qDEC,EAAQ9tF,ML6sCM9yB,E,CEmehC,MAAO6gH,GACP12C,EAAW,I,CAEb,GAAIltF,MAAMC,QAAQitF,IAAgC,GAAnBA,EAASj0F,OAAa,CACAi0F,QAsDvD,GAAyB,GAArB22C,EAAe,IA+BqDnpI,EAMxE,IA3FIopI,EA2FKC,EAGF,IA9FHD,EA8FatC,EAAV,CAEA,KAhGHsC,EAiGKtC,EFrlBG7E,EEnyBgBqH,IFgzBE1yB,EAblBqrB,GE2lBV,MAAAjiI,EAHKupI,GApGHH,GAqGGI,GArGHJ,E,CAyGJK,GAzGIL,GA0GS9C,GR/uDQoD,G,OQ+rDhBC,KAA2BR,EAAe,GAE3C,EA5DAC,EA2D2BO,GA3D3BP,EA2D2DQ,GA/vCNC,MAiwChBV,EAAe,IA7DpDC,EAjzBSU,GA46B4C,GA3HrDV,EA2H2BW,IA3H3BX,EAoEQY,IApERZ,EAsEKY,EAAuCjC,GACnC3c,GAvETge,EAuEmBa,GAvEnBb,GAwEI,MA7CR,GAAyD,GAArBc,GA1BhCC,EA0BKrB,IA1BLqB,EA2BOC,GAAgC,CACvC,IA5BAD,EA6BOC,IACM,CAAX,MAAOlB,GAAI,CA9BbiB,EAmCKC,QAAiChrF,C,OArCxCirF,GAKEC,EAlvCUC,G,MA0vCR,IFnfwB3zB,EAnjBlBksB,GEkiCN/iI,EAAK+mI,GF/emBlwB,IEgfrB2yB,GAALA,IIpsDiD1b,GNotCjBxlG,GEs1BpC,IAjW4CmqE,EADzBzyF,EAAKipI,GGjsDFC,EAAQ9tF,ML6sCM9yB,GEs1B3B/pB,EAAI,EAAGA,EAAIksI,EAAUjsI,OAAQD,IAAK,CACzC,IAAImsI,EAAYD,EAAUlsI,GAG1B,GArWEosI,EAmWGd,EAAea,EAAU,GAC9BA,EAAYA,EAAU,GA5qDfE,GAw0CLD,EAqWOpC,EACP,GAAoB,KAAhBmC,EAAU,GAAW,CAtWzBC,EAuWOE,EAAOH,EAAU,GAvWxBC,EAwWOG,GAAqCJ,EAAU,GAEpD,MAAMK,EAAoBL,EAAU,GACX,MAArBK,IA3WNJ,EA4WSK,GAAkBD,EA5W3BJ,EA6WSvJ,EAAcrF,KAAK,OA7W5B4O,EA6W0CK,KAGlCC,QAA0BP,EAAU,GAC1C,MAAIO,IAjXNN,EAkXSO,GAAiBD,EAlX1BN,EAmXSvJ,EAAcrF,KAAK,QAnX5B4O,EAmX2CO,KAIzC,MAAMC,EAAoBT,EAAU,GACX,MAArBS,GAC6B,iBADjCC,GACiE,EAApBD,IACrC7oF,EAAU,IAAM6oF,EA1X1BR,EA2XSU,EAA+B/oF,EA3XxCqoF,EA4XSvJ,EAAcrF,KAAK,gCAAkCz5E,IAG5DgpF,EA/XFX,EA0TJ,MAAMY,EF/yBwB10B,EAxBlByrB,EEw0BRiJ,KAAK,CACP,MAAMC,EACFD,E3B/xBME,E2B+xBNF,E3B/xBkBE,EAAKC,kBuB1hBcC,0BvB0hBW,K2BgyBhDH,KAAJ,CACOzC,MAALA,EAAKA,EKliEL/iI,EAAK4lI,ItCoLwB,GiC82DuBJ,EjC92D7C5xH,QsChL6Bm1G,UtCgLP,GiC82DuByc,EjC92D7C5xH,QsC/K6Bm1G,UtC+KP,GiC82DuByc,EjC92D7C5xH,QsC9K6Bm1G,QACtC/oH,EAAK6lI,EAAW7lI,EAAK8lI,EACrB9lI,EAAK4lI,EAAe,IAAIz9H,IACpBnI,EAAK+lI,IACFC,GAALA,EAAgBhmI,EAAK+lI,GACrB/lI,EAAK+lI,EAAW,M,CL0hElB,GAAIE,EA3uCMC,EA2uCwB,CAChC,MAAMC,EACFZ,E3BtyBIE,E2BsyBJF,E3BtyBgBE,EAAKC,kBuBhhBSU,qBvBghBgB,K2BuyB9CD,IACFE,EAtuCDC,GAsuCuBH,EAIEI,GAAxBnsI,EAAKosI,EAFsBP,EAjvCrBC,EAqvCFC,G,EA5UNxB,EAiYOpC,EAtsDHS,EAq0CJ2B,EAkYW3P,GAlYX2P,EAmYS3P,EAASyR,KAnYlB9B,EAsYW3D,IAtYX2D,EAuYS+B,EAAkB5mH,KAAKC,MF53BN8wF,EAblBqrB,EEkgBRyI,EAwYSvJ,EAAcrF,KACf,kBAzYR4O,EAyYiC+B,EAAkB,OAGZ71B,MFj4BbA,EEw7B9B,IAvDM81B,EA5YFhC,GAgcCiC,GAwLYC,GAxLMC,IAgRX/H,EA/QR3kI,EAAK0qI,GAwL2C,KAxLP1qI,EAAK2sI,GAE9Cl2B,EF3+CQksB,EE2+C4B,CAENiK,GAAhC5sI,EAAK2oI,EAAyClyB,GAC9CA,QAA0Bw0B,EAALA,EAAKA,EFxrCxB4B,GACF94G,EAAK6B,WAAWi3G,GAGd94G,EAAKiuG,IACFuG,GAALA,GACKhE,GAALA,IEmrCKoC,IAAsBlwB,C,MAEtBq2B,GAALA,GA3DoC,EA9YlCvC,EA8YWwC,EAAc3uI,QAChB4uI,GA/YTzC,E,KAiZ2B,QAAhBD,EAAU,IAAgC,SAAhBA,EAAU,IAExCH,GAnZPI,EArwCE0C,QAhEErE,GAq0CJ2B,EAqZcpC,IACM,QAAhBmC,EAAU,IAAgC,SAAhBA,EAAU,GAKlB,QAAhBA,EAAU,GACPH,GA5ZTI,EArwCE0C,GAmqDO3wD,GA9ZTiuD,GAga2B,QAAhBD,EAAU,IAharBC,EAqakB3P,GAralB2P,EAsaS3P,EAASsS,GAAyB5C,GAta3CC,EA+aKX,EAAyB,E,CFl6BnB5E,GN5xCQmI,EM6xCX,CAAV,MAAOltI,GAAG,C,CQpqCSmtI,SAAQC,GAACpzH,EAAKrU,GAEnC,GAAIqU,EAAI1S,SAAiC,mBAAf0S,EAAI1S,QAC5B0S,EAAI1S,QAAQ3B,OAHwB+rH,QAItBxH,MAAYlwG,IAAuB,iBAARA,EACzC9U,MAAMnG,UAAUuI,QAAQpH,KAA+B8Z,EAAMrU,OALzB+rH,QAUpC,IAHA,IAAI1zH,EAtHeqvI,SAASrzH,GAE9B,GAAIA,EAAIszH,IAAiC,mBAAXA,KAC5B,OAAOtzH,EAAIszH,KAGb,IAAItzH,EAAIuzH,GAAqC,mBAAjBvzH,EAAIuzH,EAAhC,CAOA,GAAmB,oBAAnB/rH,KAAkCxH,aAAlCwH,IACE,OAAassE,WAAK9zE,EAAIhc,QAGxB,KAAmB,oBAAf8P,KAA8BkM,aAAelM,KAAjD,CAGA,GAASo8G,GAAYlwG,IAAuB,iBAA5Cpa,EAAsD,CACpD,IAAIgtH,EAAK,GACL36G,EAAI+H,EAAI7b,OACP,QAAID,EAAI,EAAGA,EAAI+T,EAAG/T,IACrB0uH,EAAGvmH,KAAKnI,GAEV,OANoD4B,C,C1BsFhDi4E,EAAM,GACR75E,EAAI,EACR,IAAK,MAAMoB,K0B/EgB0a,E1BgFzB+9D,EAAI75E,KAAOoB,EAENy4E,Q,G0BOmBs1D,CAAQrzH,GAC5Bs/F,EAxJiBk0B,SAASxzH,GAEhC,GAAIA,EAAIuzH,GAAqC,mBAAbA,IAC9B,OAAA3tI,EAAW2tI,IAKb,GAAoB,oBAApB/rH,KAAmCxH,aAAewH,KAC9B,oBADpB1T,KACmCkM,aAAelM,IAChD,OAAO5I,MAAM4oF,KAAK9zE,EAAIs/F,UAEL,oBAARt/F,EACT,OAAOA,EAAI5K,MAAM,IAEV86G,MAAYlwG,GAAM,CAGzB,IAFA,IAAI4yG,EAAK,GACL36G,EAAI+H,EAAI7b,OACHD,EAAI,EAAGA,EAAI+T,EAAG/T,IACrB0uH,EAAGvmH,KAAK2T,EAAI9b,IAEd,OAAA4B,C,C1B0GF,IAAWR,KAFLy4E,EAAM,GACR75E,EAAI,EACR0B,EACEm4E,EAAI75E,K0BzGuB8b,E1ByGZ1a,G0BzGjB,OAvBqCQ,C,CAwJT0tI,CAAUxzH,GAChC/H,EAAIqnG,EAAOn7G,OACND,EAAI,EAAGA,EAAI+T,EAAG/T,IACrByH,EAAEzF,UAXgCwxH,EAWCpY,EAAOp7G,GAAIF,GAAQA,EAAKE,GAAI8b,E,ERmPrE8vG,GAAA2W,GAAA1hI,WAAA42B,WAAsC83G,SAASxrF,GAE7C59C,KAAK88H,EAAWl/E,C,EA8IOyrF,GAAzB7I,GAAoD8I,SAASC,GAErD1C,EAAqC0C,EAAI5yH,OAC/C,MAAM6yH,EAAWxpI,KAAKm+H,EAClBqL,GDpeSC,GCqeLC,GAAJ7C,GAGF2C,EAASvT,IAGTj2H,KAAKugI,GAAgBsG,E,EAUzBtG,MAA2CoJ,SAASzF,GAIlD,IACE,GAAIA,GAAWlkI,KAAK49H,EA6B0CriI,EAAA,CAEhE,MAAMs7E,EAA2B6yD,GA9B7BE,KA8BoBhM,GACxB,IAAMiM,EA/BFD,KA+BmBhM,EAASkM,KAChC,MAAMC,EAhCFH,KAgCoBhM,EAASoM,KAKjC,KDhiBaP,ECgiBT5yD,KDhiBS4yD,GCiiBR5yD,GC/lBYszC,IDyjBbyf,KAiQMhM,IAjQNgM,KAoQKpL,EAAoBK,GApQzB+K,KAuQWhM,EAASqM,MAAoCC,GAvQxDN,KAuQ+ChM,KAlOnD,CArCIgM,KA6CM3L,GDniBA3D,GCmiBczjD,GLrlBjBqjD,GKslBH2P,GAIanJ,GLrlBRvG,GKolBH0P,GAAyD,GAAdE,ENplBjCI,EADGC,GM+lBdnG,GA3DD2F,MA6DJ,IAAMvsB,EA7DFusB,KA6DgBhM,EAASoM,KA7DzBJ,KA8DC5L,EAAkB3gB,EA0JoC5hH,EAE3D,GAAUwmI,GA1NN2H,MA0NJ,CAGA,IAAMS,EACgDH,GA9NlDN,KA8NyChM,GACzCzG,EAAe,GACnB,IAAMmT,EAAiBD,EAAevwI,OAChCywI,EDvtBIjQ,GCwtBQoP,GAlOdE,KAkOKhM,GACL,IAnOAgM,KAmOMpL,EAAoBG,EAAa,CACzC,GAA2B,oBAAhB6L,YAA6B,CAGjC7H,GAvOLiH,MAwOAlG,GAxOAkG,MAyOA,IAAAhuI,EAAO,GAAP,MAAAH,C,CAzOAmuI,KA2OGpL,EAAoBG,EAAc,IAAS8L,GAAOD,W,CAEzD,IAAS3wI,EAAI,EAAGA,EAAIywI,EAAgBzwI,IA7OhC+vI,KA8OGpL,EAAoBK,GAA0B,EAEnD1H,GAhPEyS,KAgPmBpL,EAAoBG,EAAY+L,OACjDL,EAAexwI,GAAI,CAAC8wI,OAFJJ,GAAoB1wI,GAAKywI,EAAiB,IAIhED,EAAe56F,OAAO,EAAG66F,GACpB9L,OAAoBI,GAAkBzH,EACtC0G,OAAqB,EAC1BjiI,EAtPIguI,KAsPQpL,EAAoBI,C,MA3B9BhjI,EA3NEguI,KA2NUhM,EAASqM,KA5IvB,GANK9M,OAAyB,KAAV9f,EP7kBqCutB,WACvD/J,EAAMtB,EAAKxlI,EAAI+mI,EAASjqD,EAAYkzD,GAEtCxuI,EAAK87H,MAAK,WAER,MAAO,iBAAmBt9H,EAAK,eAAiB+mI,EAAU,MAAQD,EAC9D,KAAOtB,EAAM,KAAO1oD,EAAa,IAAMkzD,C,IOykB1Bc,CA3EfjB,KA2EClN,EA3EDkN,KA4E4B7L,EA5E5B6L,KA4EyCvM,EA5EzCuM,KA4E2DjN,EA5E3DiN,KA6EKhN,EAAU/lD,EAAYwmC,GA7E3BusB,KA+EMzM,EAAV,CAqBA,GApGIyM,KAsKQtL,IAtKRsL,KAsKwCvL,EAlEJ,CA4EgB5iI,EAAA,CAExD,GAlLImuI,KAkLKhM,EAAU,CACH,IAAAnuG,EAAKmuG,EAnLjBgM,KAmLiBhM,EAEnB,IzBslBFnuG,EAAOtnB,EAAK4+H,EAAO5+H,EAAK4+H,EAAKC,kBuBtgBe8D,2BvBsgBU,Q+BvuCD1hB,GN+oBrChnH,GAEwC,CACpD,IAAAb,EAHYa,EAGZ,MAAA3G,C,EAIJ8F,EAAO,I,CApFL,KADMwpI,EAAkBxpI,GAQjB,CA7GLqoI,KA8GKzM,GAAc,EACdW,OAzXWkN,EA0XhBC,GN3iBwBC,IMgjBnBvI,GArHLiH,MAsHKhH,GAtHLgH,MAuHA,MAAAruI,C,CAhBmBmnI,GAvGnBkH,KAuGKlN,EAvGLkN,KAwGSjN,EAAMoO,EACX,0DAzGJnB,KA2GKvL,GAA0B,EAC1B2D,GA5GL4H,KA4GwBmB,E,CA5GxBnB,KA2HKrL,GACF4M,GA5HHvB,KA4HqB/yD,EAAYsgD,GCrrBpBhN,IDyjBbyf,KA6H0CzM,GDxnBjCsM,GCynBP5yD,IRpnBMu0D,GQsfRxB,KA2YC/M,EA3YD+M,KA4YK3M,EVzvBOvH,OU6WZkU,KA4Y0CyB,IA5Y1CzB,KA6YC3M,EAAc1xG,WA3QEm3G,GAlIjBkH,KAkIGlN,EAlIHkN,KAmIOjN,EAAMxF,EAAc,MACxB6K,GApIH4H,KAoIsBzS,ID1nBhBmD,GC6nBNzjD,GACG8rD,GAxIHiH,WA2IMzM,IA3INyM,KA+IM3L,IDroBA3D,GCsoBJzjD,EACYitD,GAjJd8F,KAiJKnN,EAjJLmN,YAsJKzM,GAAc,EACd8C,GAvJL2J,O,MAgFF,KAAIvsB,GAAuD,EAAtC8Z,EAAajiH,QAAQ,gBAhFxC00H,KAqFK9L,EA/VWkN,EAgWHnJ,GNjhBWqJ,MM2bxBtB,KA0FK9L,EAnXDwN,EAoXSzJ,GNnhBG0J,KMuhBb5I,GA/FHiH,MAgGGhH,GAhGHgH,K,EAiBM,CAXR,MAAOnF,GAAI,C,EA0WU4E,GAAzBgC,GAAyCG,WAEvC,GAAKxrI,KAAK49H,EAAV,CAGA,IAAM/mD,EAA2B6yD,GAAd1pI,KAAK49H,GAClBzG,EAAen3H,KAAK49H,EAASqM,KAC1BpM,OAAqB1G,EAAar9H,SACpCmqI,GAALA,MACKkH,GAALA,KAAuBt0D,EAAYsgD,GAC/Bn3H,KAAKm9H,GDh3BD7C,GCi3BJzjD,GACGopD,GAALA,M,GAiHmBoJ,GAAzBoC,OAAkCC,WAEhC1rI,KAAKi+H,GAAa,EACb0E,GAALA,K,EAyEuB0G,GAAzB9F,GAA8CoI,WAE5C3rI,KAAK09H,EAAmB,KACxB,MAAMr8G,EAAMD,KAAKC,MAGsB,GAAnCA,EAAMrhB,KAAKy9H,GPliC2BmO,WAASrM,GAEnDhkI,EAAK87H,MAAK,WAER,MAAO,YAAckI,C,IOsjCJsM,CAvBjBC,KAuBGpP,EAvBHoP,KAuBsCzO,GA53BzBgE,GAq2BbyK,KA2BOvO,IACMmD,GN/nCCyJ,GMioCDtI,GN1gCEkK,KM6gCZpJ,GAjCHmJ,WAqCGhO,EAp3BI3D,EAq3BJyI,GAtCHkJ,OAIK1I,GAALA,KAAyBpjI,KAAKy9H,EAAuBp8G,E,ESl/BzD,IAAA2qH,GAA8BxpF,OAC1B,qINpHOypF,SAAAC,GAASC,EAASC,GA0DvBD,GAxCJnsI,KAAKqsI,EANLrsI,KAAKssI,EANLtsI,KAAKusI,EAAU,GAkBfvsI,KAAKwsI,EAAQ,KAYRC,OANLzsI,KAAKqoI,EAAQ,GAkBRqE,QAAc,EAUfP,aAAwBF,GAAK,CAC/BjsI,KAAK0sI,OAAkC/xF,IAAnByxF,EAAgCA,EACAD,EAqqB1CO,EApqBVC,GAAAC,KAAeT,EA0MLI,GAzMVM,KAiQGP,EAjQcH,EAkPPG,EAkDPD,OAnSYF,EAoRLE,EAnRLS,GAALA,KAAaX,EAsTHK,GArTVO,KA6WG1E,EA7WU8D,EA8VH9D,EAsGAlI,EAncQgM,EAmcRhM,EA06BR5X,MAAK,IAAaykB,GACnBC,IAAgBxxI,EAAKwxI,EACpBxxI,EAAKyxI,IACP3kB,EAAG2kB,EAAkD,IAAI/vH,IAAI1hB,EAAKyxI,GAClE3kB,EAAG4kB,EAAS1xI,EAAK0xI,GAj3CjBC,GAAAC,KAm3CK9kB,GAr0BFkkB,OA7iBcN,EA8hBPM,C,MA7hBDN,IAAY5qI,EAAyBc,OAAO8pI,GMsH/C/+H,MAAqB4+H,MNrH3BhsI,KAAK0sI,IAAgBN,EAKhBQ,GAALA,KAAerrI,EMoET+rI,INpEoD,IAAI,GAC9DT,KAoPGP,EACqBiB,GArPPhsI,EMoERisI,INpEsD,IAC/DC,KAsRGpB,EACqBkB,GAvRThsI,EMoETmsI,INpEoD,IAuRR,GAtR7CZ,GAALA,KAAavrI,EMoETosI,INnEJZ,KAgWG1E,EAA8BkF,GAhWpBhsI,EMoETqsI,INpEkD,IAgWG,GA/VpDP,GAALA,KAAkB9rI,EMoERssI,INpEuD,IAAI,GACrEC,KAgiBGrB,EACqBc,GAjiBPhsI,EMoETwsI,INpEsD,MAG9D/tI,KAAK0sI,IAAgBN,EACrBpsI,KAAKmgI,EAAa,IAAa6M,GAAU,KAAMhtI,KAAK0sI,G,CAwK7BsB,SAAQC,GAARD,GAEzB,OAAgB/B,OAAI1wI,E,CAqBS2yI,SAAAvB,GAAAuB,EAASC,EAAWC,GAGjD7yI,EAAKgxI,EACD6B,EAAsBb,GAAeY,GAAW,GAAQA,EAIxD5yI,EAAKgxI,IACPhxI,EAAKgxI,EAAUhxI,EAAKgxI,EAAQ5qI,QAAb,KAA2B,I,CAmGjB0sI,SAAAC,GAAAD,EAASE,GAIpC,GAAIA,EAAS,CAEX,GADAA,EAAUv+C,OAAOu+C,GACbhjI,MAAMgjI,IAAsB,EAAVA,EACpB,MAAMt0I,MAAU,mBAAqBs0I,GAEvChzI,EAAKixI,EAAQ+B,C,MAEbhzI,EAAKixI,EAAQ,I,CAkEiBgC,SAAApB,GAAAoB,EAASC,EAAWL,GAIhDK,aAA8BzB,IAChCzxI,EAAK4kI,EAAasO,EA+/BuBC,WAASC,GAEpCA,IAAepzI,EAAKmxI,IAE7BkC,GAALA,GACAC,EAlEG5B,EAAgB,KAmEnB1xI,EAAK2xI,EAAQjqI,SAAQ,SAASb,EAAOnH,GAEnC,IAAI6zI,EAAY7zI,EAAI+P,cACpBtP,GAAWozI,IACJzlD,GAALA,KAAYpuF,GACP8zI,GAALA,KAAeD,EAAW1sI,G,GAE3B7G,IAEAmxI,IAAciC,C,CA7gCDK,CAAhBzzI,EAAK4kI,EAAyB5kI,EAAKmxI,KAE9B0B,IAGHK,EAAqBQ,GACjBR,EAAoBS,KAE1B3zI,EAAK4kI,EAAa,IAAa6M,GAAUyB,EAAWlzI,EAAKmxI,G,CAmEtByC,SAAQC,GAARD,EAASl0I,EAAKmH,GAGnD7G,EAAK4kI,EAAW1yH,IAAIxS,EAAKmH,E,CAiHKitI,eAK9B,OAFKxH,GAALA,EMmaQyH,KHlBDt0H,KAAKu7B,MADF3mB,WACQ5U,KAAKqU,UAAcxtB,SAAS,IAC1CmZ,KAAKkrC,IAAIlrC,KAAKu7B,MAFR3mB,WAEc5U,KAAKqU,U1CodtBjO,KAAKC,O0Cpd6Cxf,SAAS,KHrZzBtG,C,CA6NjBgyI,YAAS5gF,EAAK4iF,GAGtC,OAAAh0I,EAOOg0I,EAAuBC,UAAU7iF,EAAIhrD,QAAJ,OAAoB,UAC9B8tI,mBAAmB9iF,GAPxC,E,CAuBoBsiF,SAAAS,GAC3BC,EAAeC,EAAOC,GAExB,MAA6B,iBAAlBF,GACLG,EAAUC,UAAUJ,GAAehuI,QAAQiuI,EAAgBI,IAC3DH,IAGFC,EAAyCA,EA6BlBnuI,QAApB,uBAAoD,QA3BlDmuI,GAEF,I,CAUcE,SAAQC,GAACC,GAG9B,MAAO,MADHzgH,EAAIygH,EAAGj4F,WAAW,KACF,EAAK,IAAKp2C,SAAS,KAAW,GAAJ4tB,GAAS5tB,SAAS,G,CA9zB7DoqI,GAAIvxI,UAAUmH,SAAWsuI,WAE5B,IAAIxhC,EAAM,GAENyhC,EAASC,KA+JD9D,EA9JR6D,GACFzhC,EAAI3sG,KACSitI,GACLmB,EAAiBE,IAAiC,GACtD,KAGFC,MAASC,KAmODnE,EAvLL19B,OA3CH4hC,GAAoB,QAAVH,KACZzhC,EAAI3sG,KAAK,OAELyuI,EAAWC,KA4LLpE,IA1LR39B,EAAI3sG,KACSitI,GACLwB,EAAmBH,IAAiC,GACxD,KAGN3hC,EAAI3sG,KGwSCuH,mBAAmBlH,OHxSsCkuI,IAkzBrC5uI,QAApB,uBAAoD,QA/yB7C,OADRgvI,EAAOC,KAwPDpE,IAtPR79B,EAAI3sG,KAAK,IAAKK,OAAOsuI,MAIrBE,EAAOC,KA2RCzI,KAzRN0I,KAuOQ1E,GAvO8B,KAAlBwE,EAAKz7H,OAAO,IAClCu5F,EAAI3sG,KAAK,KAEX2sG,EAAI3sG,KAAcitI,GACd4B,EACkB,KAAlBA,EAAKz7H,OAAO,GAAqB47H,GACAC,IACjC,MAGF1nE,EAAQ2nE,KAkWA/Q,EAAWt+H,aAhWrB8sG,EAAI3sG,KAAK,IAAKunE,IAGZgI,EAAW4/D,KA4cH1E,IA1cV99B,EAAI3sG,KACA,IACSitI,GACL19D,EAAmB6/D,KAEtBziC,EAAIrsG,KAAK,G,EA4xBlB,IAAAguI,eASAW,aAQAD,YAQA9B,GAAgC,UAQhCkC,GAAmC,KAqCd,SAAAC,GAASC,EAAWlF,GAiBvCpsI,KAAKmtI,EANLntI,KAAKktI,EAAU,KAYfltI,KAAKitI,EAAgBqE,GAAa,KAM7B5E,SAAgBN,C,CASiCmF,SAAAC,GAAAD,GAEjDh2I,EAAK2xI,IACR3xI,EAAK2xI,EAAkD,IAAI/vH,IAC3D5hB,EAAK4xI,EAAS,EACV5xI,EAAK0xI,GMrgBmBwE,SAASC,EAAch5G,GAErD,GAAKg5G,EAAL,CAGIh4I,EAAQg4I,EAAa3mI,MAAM,KAC1B,QAAIlR,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IAAK,CACrC,IAAI83I,EAAgBj4I,EAAMG,GAAGqb,QAAQ,KAEjC9S,EAAQ,KACS,MAAjBuvI,EAAoB,CACtB,IAAAzjI,EAAOxU,EAAMG,GAAGwb,UAAU,EAAGs8H,GAC7BvvI,EAAQ1I,EAAMG,GAAGwb,UAAUs8H,EAAgB,E,MAE3CzjI,EAAOxU,EAAMG,GAEf6+B,EAASxqB,EAAM9L,EHpIVqtI,mBGoIwCrtI,EHpIjBT,QAAJ,MAAmB,MGoIW,G,GNufrC8vI,CAAel2I,EAAK0xI,GAAe,SAAS/+H,EAAM9L,GADtD6vD,EAGJpoD,IG7nBJ4lI,mBH6nB8BvhI,EG7nBPvM,QAAJ,MAAmB,MH6nBDS,E,KAsGR,SAAAwvI,GAAAC,EAAS52I,GAExC2zI,GAALA,GAEA3zI,EAAW62I,GAALA,EAAiB72I,GACnBM,EAAK2xI,EAAQj+G,IAAIh0B,KACnB4zI,EA0PG5B,EAAgB,KAvPnB1xI,EAAK4xI,GACwC5xI,EAAK2xI,EAAQr+H,IAAI5T,GAAKnB,OAC5DyB,EAAK2xI,EAAQ1vH,OAAOviB,G,CAgCY82I,SAAAC,GAAAD,EAAS92I,GAIlD,OAFK2zI,GAALA,GACAnzI,EAAWq2I,GAALA,EAAiB72I,GACXiyI,IAAQj+G,IAAIh0B,E,CA6Ieg3I,SAAQ/R,GAAR+R,EAASh3I,EAAKg6G,GAEhD5rB,GAALA,EAAYpuF,GAEQ,EAAhBg6G,EAAOn7G,SACT+0I,EA+DG5B,EAAgB,KA9DnB1xI,EAAK2xI,EAAQz/H,IAASqkI,GAALA,EAAiB72I,GrCxjBxBmI,GqCwjB+C6xG,IACzD15G,EAAK4xI,GAAkDl4B,EAAOn7G,O,CA0GvBo4I,cAASx3F,GAMlD,OAJIy3F,EAAU9vI,OAAOq4C,GACjBn/C,EAAKmxI,IACPyF,EAAUA,EAAQnnI,eAJmCvP,C,EAlUzDgqH,GAAA4rB,GAAA32I,WAAAmP,IAAmCuoI,SAASn3I,EAAKmH,GAE1CwsI,GAALA,MACAC,KAkRK5B,EAAgB,KAhRrBhyI,EAAW62I,GAALA,KAAiB72I,GACnBg6G,MAASj1G,KAAKktI,EAAQr+H,IAAI5T,GAMvB,OALPK,GACE0E,KAAKktI,EAAQz/H,IAAIxS,EAAMg6G,EAAS,IAE3BjzG,OAAKI,GACZpC,KAAKmtI,GAAkD,EAChDntI,I,EAmFoBqyI,GAA7BpvI,QAAuCqvI,SAAShxI,EAAG+0H,GAE5CuY,GAALA,MACK1B,OAAQjqI,SAAQ,SAASgyG,EAAQh6G,GAEpCg6G,EAAOhyG,SAAQ,SAASb,GAEtBd,EAAEzF,KAAKw6H,EAAWj0H,EAAOnH,EAAK+E,K,GAC7BA,K,GACFA,K,EASwBqyI,GAA7BpJ,GAAuCsJ,WAEhC3D,GAALA,MAEA,MAAM4D,EAAO3xI,MAAM4oF,KAAKzpF,KAAKktI,EAAQj4B,UAC/Bt7G,EAAOkH,MAAM4oF,KAAKzpF,KAAKktI,EAAQvzI,QAC/B4uH,EAAK,GACN,QAAI1uH,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,MAAM8yD,EAAM6lF,EAAK34I,GACjB,IAAK,IAAIo6F,EAAI,EAAGA,EAAItnC,EAAI7yD,OAAQm6F,IAC9Bs0B,EAAGvmH,KAAKrI,EAAKE,G,CAGjB,OAbgDyB,C,EAwBlD4tI,KAAyCuJ,SAASC,GAE3C9D,GAALA,MACIrmB,MAAK,GACT,GAAuB,iBAAvBhtH,EACWo3I,GAALA,KAAiBD,KACnBnqB,EAAKA,EAAG75F,OAAO1uB,KAAKktI,EAAQr+H,IAASijI,GAALA,KAAiBY,UAE9C,CAECz9B,EAASp0G,MAAM4oF,KAAKzpF,KAAKktI,EAAQj4B,UAClC,QAAIp7G,EAAI,EAAGA,EAAIo7G,EAAOn7G,OAAQD,IACjC0uH,EAAKA,EAAG75F,OAAOumF,EAAOp7G,G,CAG1B,OAAO0uH,C,EAWT96G,OAAmCmlI,SAAS33I,EAAKmH,GAiB/C,OAfKwsI,GAALA,MACAC,KA+GK5B,EAAgB,KAvGZ0F,GAALA,KADJ13I,EAAW62I,GAALA,KAAiB72I,MAErB+E,KAAKmtI,GACwCntI,KAAKktI,EAAQr+H,IAAI5T,GAAKnB,QAEhEozI,OAAQz/H,IAAIxS,EAAK,CAACmH,IACvBpC,KAAKmtI,GAAkD,EAhBDntI,I,EA8B3BqyI,GAA7BxjI,IAAmCgkI,SAAS53I,EAAK63I,GAE/C,OAAK73I,GAIL,GADIg6G,EAASj1G,KAAKkpI,EAAUjuI,IACdnB,OAAauI,OAAO4yG,EAAO,IAHvCx5G,C,EA6ByB42I,GAA7BxwI,SAAwCkxI,WAEtC,GAAI/yI,KAAKitI,EACP,OAAOjtI,KAAKitI,EAGd,IAAKjtI,KAAKktI,EACR,MAAO,GAGH8F,QAAK,GAKLr5I,EAAOkH,MAAM4oF,KAAKzpF,KAAKktI,EAAQvzI,QAChC,QAAIE,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,IAAMoB,EAAMtB,EAAKE,GACXo5I,QG78BD1pI,mBAAmBlH,OH68BiBpH,IACnC0xD,EAAM3sD,KAAKkpI,EAAUjuI,GAC3B,IAASg5F,EAAI,EAAGA,EAAItnC,EAAI7yD,OAAQm6F,IAAK,CACnC,IAAI/9E,EAAQ+8H,EAGG,KAAXtmF,EAAIsnC,KACN/9E,GAAS,IGp9BR3M,mBAAmBlH,OHo9BiBsqD,EAAIsnC,MAE3C++C,EAAGhxI,KAAKkU,E,EAIZ,OAAY+2H,OAAgB+F,EAAG1wI,KAAK,I,EI16CJ4wI,SAAQC,GAACC,GAMzCpzI,KAAKonI,EACDgM,GAA6CC,GAyDxCC,GAAOC,4BAGdh4I,EAAuB,GAFjBi4I,EACGC,GAAO5/F,YAAY6/F,iBAAiB,eAC/B55I,SACoB,MAA7B05I,EAAO,GAAGG,iBACmB,MAA7BH,EAAO,GAAGG,iBAEjBp4I,KACSq4I,GAAOniC,GAAeoiC,GAAOpiC,EAAOqiC,IACpCD,GAAOpiC,EAAOqiC,MACdD,GAAOpiC,EAAOqiC,KAAYC,IAxD9B5M,OAAW5rI,EACZyE,KAAKonI,EACL,EAOCF,OAAe,KAEA,EAAhBlnI,KAAKmnI,IACPnnI,KAAKknI,EAAe,IAAIz9H,KAQ1BzJ,KAAKqnI,EAAW,KAOhBrnI,KAAK29H,EAAmB,E,CAS1B,IAAA0V,GAA2C,GAqDEW,SAAQC,GAARD,GAC3C,QAAS3M,OAIL9rI,EAAK2rI,GACA3rI,EAAK2rI,EAAahhG,MAAQ3qC,EAAK4rI,C,CAkBY+M,SAAAC,GAAAD,GACpD,OAAA34I,EAAS8rI,EACA,EAGL9rI,EAAK2rI,EACA3rI,EAAK2rI,EAAahhG,KAGpB,C,CAQwCkuG,cAASC,GACxD,OAAA94I,EAAS8rI,EACA9rI,EAAK8rI,GAAYgN,IAGtB94I,EAAK2rI,GACA3rI,EAAK2rI,EAAaj4G,IAAIolH,E,CAYgBC,SAAAC,GAAAD,EAASD,GACpD94I,EAAK2rI,EACP3rI,EAAK2rI,EAAar9H,IAAIwqI,GAEtB94I,EAAK8rI,EAAWgN,C,CAWgCG,cAASH,GACvD94I,EAAK8rI,GAAY9rI,EAAK8rI,GAAYgN,EACpC94I,EAAK8rI,EAAW,KAId9rI,EAAK2rI,GAAgB3rI,EAAK2rI,EAAaj4G,IAAIolH,IAC7C94I,EAAK2rI,EAAa1pH,OAAO62H,E,CA2C4BI,eACvD,GAAqB,MAAjBl5I,EAAK8rI,EACP,OAAY1J,IAAiBjvG,OAAOnzB,EAAK8rI,EP+N/B1J,GO5NZ,GAAyB,MAArBpiI,EAAK2rI,GAAmD,IAA3B3rI,EAAK2rI,EAAahhG,KAAY,CAC7D,IAAI2Z,EAAStkD,EAAKoiI,EAClB,IAAK,MAAMhxE,KAAYu6E,IAAajyB,SAClCp1D,EAASA,EAAOnxB,OAAOi+B,EPyNfgxE,GOvNH99E,Q,CAGT,OzCqlBYz8C,GyCrlBO7H,EAAKoiI,E,CG3OM+W,cAAoC,CLLlCC,cAMhC30I,KAAKwkI,EAAU,IAAckQ,E,CAoBEE,SAAAC,GAAS3zG,EAAS4zG,EAAQC,GAEzD,MAAMj7F,EAASi7F,GAAc,GAC7B,IACejM,GAAQ5nG,GAAS,SAAS9+B,EAAOnH,GAE5C,IAAI+5I,EAAe5yI,EACV2jH,GAAS3jH,KAChB4yI,EAAyBjjB,GAAU3vH,IAErC0yI,EAAO9yI,KAAK83C,EAAS7+C,EAAM,IAAMsO,mBAAmByrI,G,IAEtD,MAAOvQ,GAMP,MAHAqQ,EAAO9yI,KACH83C,EAAS,QACHvwC,mBAAmB,YACvBk7H,C,EMqEgBwQ,SAAQC,GAC9B5Y,EAAcxmH,EAAKq/H,EAAWt1F,EAAQnnB,GAExC,IAEgC5iB,EAgB5Bs/H,OAAS,KAhBmBt/H,EAiB5B45D,QAAU,KAjBkB55D,EAkB5Bu/H,QAAU,KAlBkBv/H,EAmB5Bw/H,UAAY,KAlBd58G,EAASmnB,EACC,CAAV,MAAOlkD,GAAG,C,CC5GiB45I,YAASpgE,GAKtCn1E,KAAKw1I,EAAUrgE,EAAKsgE,IAAU,KAG9Bz1I,KAAK01I,EAAsBvgE,EAAKwgE,KAAsB,C,CA6DhCC,YAASH,EAAQE,GAEjB7hB,GAAA+hB,KAAK71I,MAG3BA,KAAKw1I,EAAUC,EAGVC,OAAsBC,EAG3B31I,KAAK81I,OAAmBn7F,EASnBk8B,gBAAgDk/D,GAMrD/1I,KAAKq9G,OAAS,EAyBdr9G,KAAKg2I,aAPLh2I,KAAKm3H,aANLn3H,KAAK+tF,SANL/tF,KAAKi2I,WAAa,GAgClBj2I,KAAKk2I,mBAAqB,KAG1Bl2I,KAAKm2I,EAAkB,IAAI34B,QAG3Bx9G,KAAKo2I,EAAmB,KAMxBp2I,KAAKq2I,EAAU,MAMVC,OAAO,GAMZt2I,KAAKu2I,GAAc,EAYnBv2I,KAAKw2I,EAHLx2I,KAAKy2I,EAHLz2I,KAAK02I,EAAiB,I,CLoBxBxD,GAA0Bx4I,UAAU+wI,OAASkL,WAI3C,GAFA32I,KAAK29H,EAAwBiZ,GAALA,MAEpB52I,KAAKqnI,EACPrnI,KAAKqnI,EAASoE,SACdzrI,KAAKqnI,EAAW,UAId,GAAArnI,KAAKknI,GAA2C,IAA3BlnI,KAAKknI,EAAahhG,KAAY,CACrD,IAAK,MAAMymB,KAAO3sD,KAAKknI,EAAajyB,SAClCtoD,EAAI8+E,SAENzrI,KAAKknI,EAAavhF,O,GGzLZ+uF,GAAoBh6I,UAAUk1C,UAAYinG,SAASt1D,GAE3D,OAAOu1D,GAAAnnG,KAAoBC,UAAU2xC,OArBEw1D,E,EA0B/BrC,GAAoBh6I,UAAUg8C,MAAQsgG,SAASzoE,GAEvD,OAAAuoE,GAAOnnG,KAAoB+G,MAAM63B,OA5BoB0oE,E,EEuBlDlwB,GAAkBwuB,GAA8Bza,IAI5Cya,GAAoB76I,UAAUokI,EAAiBoY,WAUtD,OAPIroH,IAAa+mH,GAAa51I,KAAKw1I,EAASx1I,KAAK01I,E,EAY1CH,GAAoB76I,UAAUygI,ECnDbgc,SAASC,GAEjC,kBAEE,OAAOA,C,EAJeD,CDoDE,IAuIvBpwB,GAAkB6uB,GAA0BplB,IAQ/C6mB,OAAQA,EA+I4CC,eAEpD/7I,EAAKk7I,EAAec,OACf50I,KAAKpH,EAAKi8I,GAAsBxzI,KAAKzI,IACrCs2B,MAAMt2B,EAAKk8I,GAAmBzzI,KAAKzI,G,CAgGK,SAAAm8I,GAAAC,GAE7Cp8I,EAAKs7E,WAjPC+gE,EAmPDlB,IAAiB,KACjBD,IAAiB,KACjBD,IAAe,KAEpBqB,GAAAC,E,CAgFkD,SAAAD,GAAAE,GAE9Cx8I,EAAK26I,oBACP36I,EAAK26I,mBAAmBr6I,KAAKN,E,EArUjCkqH,GAAAuyB,GAAAt9I,WAAAk3G,KAAuCqmC,SAASzhC,EAAQ/tG,GAGtD,GAAIzI,KAAK62E,YAAiDk/D,GAExD,MADK/xB,aACK/pH,MAAM,gCAGlB+F,KAAKq2I,EAAU7/B,EACfx2G,KAAKs2I,EAAO7tI,EAEZzI,KAAK62E,WAnBGytD,EAoBHwT,GAALA,K,EAK8BI,GAAhCzX,KAAuC0X,SAASC,GAE9C,GA3BQ9T,GA2BJtkI,KAAK62E,WAEP,MADA72E,KAAKgkH,QACK/pH,MAAM,+BAGlB+F,KAAKu2I,GAAc,EACnB,MAAM8B,EAAc,CAClBv6B,QAAS99G,KAAKm2I,EACd3/B,OAAQx2G,KAAKq2I,EACbiC,YAAat4I,KAAK81I,EAClB5nG,WAtIgByM,GAwIdy9F,IACFC,EAAA7oI,KAAsB4oI,IAGvBp4I,KAAKw1I,GAAgB7vB,IACjB93B,MAAM,IAAI0qD,QAAQv4I,KAAKs2I,EAAmC+B,IAC1D11I,KACG3C,KAAKw4I,GAAgBx0I,KAAKhE,MAAOA,KAAKy3I,GAAmBzzI,KAAKhE,M,EAKxEgkH,SAAwCy0B,WAEtCz4I,KAAK+tF,SAAW/tF,KAAKm3H,aAAe,GACpCn3H,KAAKm2I,EAAkB,IAAI34B,QAC3Bx9G,KAAKq9G,OAAS,EAERr9G,KAAKy2I,GACTz2I,KAAKy2I,EAAehL,OAAO,wBACtB55G,OACG,SA5DFyyG,GAgEFtkI,KAAK62E,YACN72E,KAAKu2I,GA9DJqB,GA+DD53I,KAAK62E,aACR72E,KAAKu2I,GAAc,EACdmC,GAALA,OAGF14I,KAAK62E,WAAgDk/D,E,EASvDyC,MAAkDG,SAAS5qD,GAEzD,GAAK/tF,KAAKu2I,IAKVv2I,KAAK02I,EAAiB3oD,EAEjB/tF,KAAKo2I,IACRp2I,KAAKq9G,OAASr9G,KAAK02I,EAAer5B,OAClCr9G,KAAKi2I,WAAaj2I,KAAK02I,EAAeT,WACtCj2I,KAAKo2I,EAAmBroD,EAAS+vB,QACjC99G,KAAK62E,WA5FU+hE,EA6FVd,GAALA,OAGG93I,KAAKu2I,IAKVv2I,KAAK62E,WApGIgiE,EAqGJf,GAALA,MAEK93I,KAAKu2I,IAKV,GAA0B,gBAAtBv2I,KAAKg2I,aACPjoD,EAAS+qD,cAAcn2I,KACnB3C,KAAK+4I,GAA2B/0I,KAAKhE,MACrCA,KAAKy3I,GAAmBzzI,KAAKhE,YAC5B,QACqC,IAApBg5I,mBACpB,SAAUjrD,EAAU,CAGtB,GAFA/tF,KAAKy2I,EAC4C1oD,EAASv+E,KAAKypI,YAC3Dj5I,KAAK01I,EAAqB,CAC5B,GAAI11I,KAAKg2I,aACP,MAAU/7I,MACN,uEAEN+F,KAAK+tF,SAAW,E,MAEXA,cAAW/tF,KAAKm3H,aAAe,GACpCn3H,KAAKw2I,EAAe,IAAIhM,YAErB0O,GAALA,K,MAES3wH,SAAO5lB,KACZ3C,KAAKm5I,GAAoBn1I,KAAKhE,MAC9BA,KAAKy3I,GAAmBzzI,KAAKhE,M,EAsBLk4I,GAAhCV,GAAwD4B,SAASv5F,GAE/D,GAAK7/C,KAAKu2I,EAAV,CAKA,GAAIv2I,KAAK01I,GAAuB71F,EAAOz9C,MAEdpC,KAAK+tF,SACvB/rF,KAAiC69C,EAAOz9C,YACpC,IAACpC,KAAK01I,EAAqB,CACpC,IAAM2D,EAAax5F,EAAOz9C,MACMy9C,EAAOz9C,MACnC,IAAIi8G,WAAW,IACbi7B,EACFt5I,KAAKw2I,EAAa9L,OAAO2O,EAAY,CAAC1O,QAAS9qF,EAAO19C,UAGxDnC,KAAK+tF,SADL/tF,KAAKm3H,cAAgBmiB,E,CAIrBz5F,EAAO19C,KACJu2I,GAALA,MAEKZ,GAALA,MAlLOe,GAqLL74I,KAAK62E,YACFqiE,GAALA,K,GASJC,MAAsDI,SAASpiB,GAExDn3H,KAAKu2I,IAIVv2I,KAAK+tF,SAAW/tF,KAAKm3H,aAAeA,EAC/BuhB,GAALA,M,EAS8BR,GAAhCa,GAA6DS,SACzDC,GAEGz5I,KAAKu2I,IAIVv2I,KAAK+tF,SAAW0rD,EACXf,GAALA,M,EAS8BR,GAAhCT,GAAqDiC,WAI9C15I,KAAKu2I,GAILmC,GAALA,K,EAqB8BR,GAAhCyB,iBAAmDC,SAASC,EAAQz3I,GAElEpC,KAAKm2I,EAAgBv4B,OAAOi8B,EAAQz3I,E,EAKN81I,GAAhClR,kBAAoD8S,SAASD,GAI3D,OAAK75I,KAAKo2I,GAOHp2I,KAAKo2I,EAAiBvnI,IAAIgrI,EAAO7uI,gBAF/B,E,EAOX+uI,yBAAwDC,WAEtD,IAAKh6I,KAAKo2I,EAKR,MAAO,GAET,MAAM6D,EAAQ,GACRC,EAAOl6I,KAAKo2I,EAAiBvtE,UACnC,QAAI04C,EAAQ24B,EAAKh4I,QACTq/G,EAAMp/G,MACNg4I,EAAO54B,EAAMn/G,MACnB63I,EAAMj4I,KAAKm4I,EAAK,GAAK,KAAOA,EAAK,IACjC54B,EAAQ24B,EAAKh4I,OAER+3I,SAAM33I,KAAK,O,EA4CpB1I,OAAO4T,eAAwBooI,GAAal7I,UAAW,kBAAmB,CACxEmU,IAMIA,WAEE,MAAqC,YAA9BurI,KAlCDtE,C,EAqCZroI,IAMIA,SAASrL,GAEPi4I,KAtDDvE,EAsDyB1zI,EAAQ,UAAY,a,IE7fpD,IAAAk4I,GACS30B,GAALh2E,KAAA+G,MvCNa6jG,SAAQC,GAACC,GAElB3mB,GAAA4mB,KAAK16I,MAOXA,KAAK89G,QAAU,IAAI3gG,IAMnBnd,KAAK26I,EAAkBF,GAAsB,KAQ7Cz6I,KAAK46I,GAAU,EAYf56I,KAAK66I,EANL76I,KAAK+mI,EAAO,KAYZ/mI,KAAK86I,EAAW,GAYXC,OoBpGKphB,EpB0GV35H,KAAK89H,EAAa,GA6BlB99H,KAAKg7I,EAPLh7I,KAAKi7I,EAPLj7I,KAAKk7I,EANLl7I,KAAKm7I,GAAmB,EA4BnBC,OAAmB,EAMxBp7I,KAAKq7I,EAAa,KAObC,OAA6BC,GAuC7BC,OA3BLx7I,KAAKy7I,GAAmB,C,CAoCrB10B,GAAkBwzB,GAAmB/pB,IAUxCkrB,OAASA,GAqCXC,GAAqC,YAUrCC,GAAwC,CAAC,OAAQ,OAudf,SAAAC,GAAAC,EAAoBv3C,GAEpDhpG,EAAKq/I,GAAU,EACXr/I,EAAKwrI,IACPxrI,EAAKy/I,GAAW,EAChBz/I,EAAKwrI,EAAK/iB,QACVzoH,EAAKy/I,GAAW,GAElBz/I,EAAKuiI,EAAav5B,EACbw2C,IoBpsBM/gB,EpBqsBX+hB,GAAAC,GACAC,GAAAC,E,CASyCC,SAAQJ,GAARI,GAEpC5gJ,EAAK4/I,IACR5/I,EAAK4/I,GAAmB,EACnB58H,GAALA,EqBxvBQ+7G,YrByvBH/7G,GAALA,EqBvvBKy3F,S,CrBs1BoD,SAAAomC,GAARC,GAEnD,GAAK9gJ,EAAKq/I,QAKS,IAARl1B,MAKPnqH,EAAKs/I,EwBpyBYyB,IAiCXhiB,GxBowBDoP,GAALA,IACoB,GAApBnuI,EAAKyuI,MAaP,GAAIzuI,EAAK2/I,GwBlxBD5gB,GxBmxBCoP,GAALA,GACSlV,GAASj5H,EAAKghJ,GAAqB,EAAGhhJ,QAI9CgjB,MAALA,EqBp3BkBk8G,oBG4FVH,GxB26BEoP,GAhJN8S,GAAmB,CAGrBjhJ,EAAKq/I,GAAU,EAEf,IAoJJ,MAAMv9B,EAjJIo/B,EAiJUzS,KwCl8B2BzuI,EAE/C,OxCk8BqC8hH,GwCj8BnC,KA9EEq/B,IA+EF,KA9EOC,IA+EP,KA9EQC,IA+ER,KA7EUC,IA8EV,KA5EeC,IA6Ef,KArEYC,IAsEZ,KAvBmBC,KAwBjB,IAAAvhJ,GAAO,EAAP,MAAAF,EAGA,QAAAE,GAAO,ExCu7BJ,IAAAH,EAAA,KAAAA,EAAAG,GAAA,CACH,IAAAC,EAAA,GAAAA,EAAA,IAAA+zB,EAAA,CkCtuBJ,IAAI2gH,ElCivB6C/tI,OAX7C9G,EAWyDu/I,GkCnzBrD1tI,MAAqB4+H,IA5CrBsB,IAsF4C,KAyBpD,IAAK8C,GAAe6M,GAAOhrF,MAAairF,GAAOjrF,KAAK7sC,SAAU,CAC5D,IAAI+3H,EAAgBC,GAAOnrF,KAAK7sC,SAAS+3H,SACzCxhJ,EAASwhJ,EAASz+B,OAAO,EAAGy+B,EAASrjJ,OAAS,E,ClCmuB5C4B,GAYG2hJ,GAAoB5xI,KkC3uBpB2kI,EAASA,EAAOplI,cAAgB,G,ClC+tBnC1P,EAAAI,C,CApJE,GAmJCJ,EAlJMijB,GAALA,EqBr4BE+7G,YrBs4BG/7G,GAALA,EqBr4BCg8G,erBs4BI,CACLh/H,EAAKw/I,EoB91BD9gB,EpB6iCR,IACF,IAAAr+H,EwBjgCM0hJ,ExBigCM5T,GA9MF6T,KA+MDxW,EAAKkP,WACV,E,CACJ,MAAOt6I,GAEPC,EAAO,E,CApNDL,EAAKuiI,EACDliI,EAAuB,KAAOL,EAAKyuI,KAAc,IACrD+R,GAAAC,E,EAVJ,QAaOE,GAALA,E,GA0D+BsB,SAAQvB,GAARuB,EAASC,GAE9C,GAAIliJ,EAAKwrI,EAAM,CAER2W,GAALA,GAIM7W,QAAMtrI,EAAKwrI,EACX4W,EACFpiJ,EAAKs/I,EwBz5BQ+C,GxB05BR10B,GACL,KACC6d,IAAO,KACZxrI,EAAKs/I,EAAc,KAEnBp/I,GACO8iB,GAALA,EqBr9BGi8G,SrBw9BL,IAKEqM,EAAIqP,mBAAqByH,CACf,CAAV,MAAOhiJ,GAAG,C,EAgBgCkiJ,SAAQC,GAARD,GAE1CtiJ,EAAKwrI,GAAQxrI,EAAKigJ,IACpBjgJ,EAAKwrI,EAALuO,UAA6C,MAEtC+F,Me35B0BnlB,GA6LL1kG,af+tBXj2B,EAAK8/I,GACtB9/I,EAAK8/I,EAAa,K,CAoDmB0C,SAAAC,GAAAD,GAEvC,OAAYhX,IACoCxrI,EAAKwrI,EAAKlwD,WwBn+B3ConE,C,CxBopCsBC,SAAQC,GAARD,GAErC,IACE,IAAK3iJ,EAAKwrI,EACR,YAEE,gBAAmBA,IACrB,OAAYA,IAAKh5C,SAEX,OAAAxyF,EAAK+/I,GACX,KAAkBC,GAClB,IAjhCE6C,OAkhCA,OAAO7iJ,EAAKwrI,EAAK5P,aAMnB,IAphCUknB,cAqhCR,GAAI,2BAAJ9iJ,EAAqCwrI,EACnC,OAAAxrI,EAAYwrI,EAAKuX,uBAQvB,OA1BE,I,CA2BF,MAAO3iJ,GAEP,OAFU,I,EyC9tC8B4iJ,YAASzgC,GACnD,IAAIj+D,EAAS,GAONA,OlCmnBP58C,GkCznBmB66G,GAAS,SAAS17G,EAAOnH,GAC1C4kD,GAAU5kD,EACVQ,GAAU,IACVokD,GAAUz9C,EACVy9C,GAAU,M,IAELA,C,CA0BkC2+F,YACvC/1I,EAAKg2I,EAAUC,GlC6MGnjJ,EAAA,CACpB,IAAWN,KkC7MYyjJ,ElC6MA,CACrB,IAAAhjJ,GAAO,EAAP,MAAAH,C,CAEFG,GAAO,C,CkChNHA,IAGEijJ,EAAsBC,GAAkCF,GAC3C,iBAAfnjJ,EP+vBsB,MO7vBiBojJ,GVgZpCp1I,mBAAmBlH,OUhZiBs8I,IAErC9W,GAAJp/H,EAAsBg2I,EAAUE,G,CdzBpCE,YAAiCC,EAAWnvI,EAAca,GACxDquI,OAAKruI,GAAYA,EAAQuuI,uBAGAvuI,EAAQuuI,sBAAsBD,IAF9CnvI,C,CAqB+BqvI,SAAAC,GACtCvwB,GAYF1uH,KAAKwmI,GAAiB,EAOtBxmI,KAAKyoI,EAAgB,GAMrBzoI,KAAK08H,EAAgB,IAAI5F,GA2EpBsP,QAPLpmI,KAAKkoI,GANLloI,KAAK8nI,EANL9nI,KAAKqoI,EAPLroI,KAAKqiI,EANLriI,KAAK4nI,GAPL5nI,KAAKwnI,EANLxnI,KAAKk/I,GANLl/I,KAAKm/I,EANLn/I,KAAKo/I,EANLp/I,KAAKk9H,EAAgB,KAmFhBmiB,QAPLr/I,KAAKs/I,EAAW,EAaXC,QAAYC,GAAwB,YAAY,EAAO9wB,GAiCvD2W,OANLrlI,KAAKulI,EAPLvlI,KAAK4kI,EANL5kI,KAAKy/I,EARLz/I,KAAKs2H,EAAW,KAkChBt2H,KAAK0/I,GAAsB,EAmBtB1hB,QANLh+H,KAAKklI,GANLllI,KAAKmlI,GAAe,EAiCfwa,OARL3/I,KAAKslI,EAPLtlI,KAAK4/I,EAA4B,EAwB5BC,QACDL,GAAwB,mBAAoB,IAAU9wB,GAOrDoxB,QACDN,GAAwB,mBAAoB,IAAW9wB,GAO3D1uH,KAAK+/I,GACDP,GAAwB,2BAA4B,EAAG9wB,GAOtDsxB,QAAkCR,GACnC,iCAAkC,IAAW9wB,GAM5CisB,QACAjsB,GAAeA,EAAYuxB,qBAAmBtlG,EAM9C2mF,QACA5S,GAAeA,EAAYwxB,KAAoB,EAU/CvZ,YAA+BhsF,EAuB/B0lF,OACA3R,GAAeA,EAAYyxB,yBAA2B,EAM3DngJ,KAAKmmI,EAAO,GAMZnmI,KAAKqkI,EAA6B,IKxE1B6O,GLyEJxkB,GAAeA,EAAY0xB,wBAM/BpgJ,KAAKukI,GAAa,IAAIoQ,GAOtB30I,KAAKqgJ,EAAkB3xB,GAAeA,EAAY4xB,gBAAkB,EAO/DC,OACA7xB,GAAeA,EAAY8xB,2BAA6B,EAEpDH,QAAkBrgJ,KAAKugJ,IAG9BvgJ,KAAKugJ,GAA4B,GAQnCvgJ,KAAKygJ,GACA/xB,GAAeA,EAAYgyB,KAAsB,EAGlDhyB,GAAeA,EAAYoJ,IAC7B93H,KAAK08H,EAAc5E,KAGrBv8H,GAAmBmzH,EAAYiyB,mBAC7B3gJ,KAAK0/I,GAAsB,GAU7B1/I,KAAKsiI,GACCtiI,KAAKqgJ,GAAkBrgJ,KAAK0/I,GAAuBhxB,GACpDA,EAAYkyB,uBACb,EAOCjb,aAAiChrF,EAYjCqtF,OAAkB,EAOvBhoI,KAAKuiI,GAAmB,EAuBxBviI,KAAK6gJ,GAhBL7gJ,KAAK8gJ,EAAsB,I,CAwPiB,SAAAC,GAARC,GAMpC,GAFKC,GAALA,GA9MQ3c,GAgNJ/oI,EAAKsoI,EAAuC,CAC9C,IAAMqd,EAAM3lJ,EAAK+jJ,IACX/f,EAA8B5jD,GAAxBpgF,EAAKusI,GACjBsH,GAAA7P,EAAsB,MAAOhkI,EAAK4qI,GAClCiJ,GAAA7P,EAAsB,MAAO2hB,GACzBrZ,GAAJtI,EAAsB,OAAQ,aAE9B4hB,GAAAC,EAA0B7hB,IFgpBrBptB,MAAIgqB,GE7oBLE,EAAMlqB,EAAKuqB,EAA0BwkB,OADzB/uC,IF6UborB,EAnvBU8D,EAovBf5lI,EAAK6hI,EAAuBoC,GAAR/jD,GAAJ4jD,IAEZ8hB,GAAc,EAEF9rG,cAAkB+rG,GAAO/rG,UAAUgsG,aAEjDF,EACSC,GAAO/rG,UAAUgsG,WAAW9lJ,EAAK6hI,EAASz7H,WAAY,MAG5Dw/I,GAAoBG,GAAO9vE,SAEvBhoC,IADYgoC,OACZhoC,IAAMjuC,EAAK6hI,EAClB+jB,GAAc,GAGXA,IAEH5lJ,EAAKmiI,EAAyB0C,GAAd7kI,EAAKghI,EAAqB,MAC1ChhI,EAAKmiI,EAAS6C,GAAKhlI,EAAK6hI,IAG1B7hI,EAAK+hI,EAAoBp8G,KAAKC,MAC9B2+G,GAAAC,E,CEhWKwhB,GAALA,E,CAwEmDC,eAE/CnmJ,EAAK8mI,IACFG,GAALA,GACAjnI,EAAK8mI,EAAoBoJ,SACzBlwI,EAAK8mI,EAAsB,K,CASYsf,SAAAC,GAAAD,GAEpC5c,GAALA,GAEIxpI,EAAKqpI,IACF1O,GAAO1kG,aAAaj2B,EAAKqpI,GAC9BrpI,EAAKqpI,EAAsB,MAGxBE,GAALA,GAEAvpI,EAAK8oI,EAA2BoH,SAEvBgU,MAYkC,iBAA3BA,KACTvpB,GAAO1kG,aAZZqwH,EAY8BpC,GAZ9BoC,EAeGpC,EAAyB,K,CAoYiBqC,SAAQC,GAARD,GAEXE,GAAhCzmJ,EAAK8oI,IAKL9oI,EAAKkkJ,IAOTlkJ,EAAKkkJ,GAAyB,EACnB1sB,GAAIx3H,EAAK0mJ,GAA6B1mJ,GAEjDA,EAAKqkJ,EAA4B,E,CAmO2B,SAAAsC,GAARC,EAClDC,GAEF,IAAIlB,EAEFA,EADEkB,EACIA,EF5KIzlB,EE8KJphI,EAAK+jJ,IAGb,MAAM/f,EAA8B5jD,GAAxBpgF,EAAKusI,GACbD,GAAJtI,EAAsB,MAAOhkI,EAAK4qI,GAC9B0B,GAAJtI,EAAsB,MAAO2hB,GACzBrZ,GAAJtI,EAAsB,MAAOhkI,EAAK4pI,GAE7Bic,GAALA,EAA0B7hB,GAEtBhkI,EAAK4jJ,GAA8B5jJ,EAAK2hI,GACjCmlB,GACL9iB,EAAKhkI,EAAK4jJ,EAA4B5jJ,EAAK2hI,GAG3C/qB,EFxHC,IAAIgqB,GEyHPE,EAAM9gI,EAAKmhI,EAA0BwkB,EACrC3lJ,EAAKqkJ,EAA4B,GAErC,OAAIrkJ,EAAK4jJ,IACPhtC,EF3kCG+qB,EE2kCqB3hI,EAAK2hI,GAI/BzhI,IACE6mJ,EA0EG7Z,EA1EsB2Z,EFthCfzkB,EEimC0BjvG,OA3EpC4zH,EA2EgD7Z,IAzElD8Z,EACSC,GAALA,EAA0BrwC,EA74BOswC,KAi5BrCtwC,EAAQ7gF,WACJtW,KAAK45C,MAA6C,GAAvCr5D,EAAKykJ,IAChBhlI,KAAK45C,MAA6C,GAAvCr5D,EAAKykJ,GAAyChlI,KAAKqU,WAClEklH,GAAAh5I,EAAK8oI,EAAsClyB,GAC3CktB,GAAAltB,EAAoBotB,EAAKgjB,E,CAUqBG,SAAQvB,GAARuB,EAASnjB,GAEnDhkI,EAAK2jJ,IpBp2BTj8I,GoBq2BsB1H,EAAK2jJ,IAAc,SAAS98I,EAAOnH,GAEjD4sI,GAAJtI,EAAsBtkI,EAAKmH,E,IAItBk0H,KAGQwS,GAqnCV/H,IArnC0B,SAAS3+H,EAAOnH,GAEvC4sI,GAAJtI,EAAsBtkI,EAAKmH,E,IAeaugJ,SAAQC,GAARD,EAASxwC,EAAS0wC,GAE1D1/I,EAAQ6X,KAAK2Q,IAAIpwB,EAAKktI,EAAc3uI,OAAQ+oJ,GAE5CC,MAAgBvnJ,EAAK+6H,EAClB3P,GAAKprH,EAAK+6H,EAASysB,GAAaxnJ,EAAK+6H,EAAU/6H,GACpD,KGv9CkCA,EAAA,CHy9C7BktI,MAALA,EAAKA,EGv9CLj+G,OAAS,EACb,OAAa,CACX,MAAMwoH,EAAK,CAAC,SHq9CU7vI,IGl9CR,GAAVqnB,EACU,EHi9CQrnB,GGh9ClBqnB,EAASw4H,EAAa,GAAGC,EACzBjQ,EAAGhxI,KAAK,OAASwoB,IAEjBA,EAAS,EAGXwoH,EAAGhxI,KAAK,OAASwoB,GAEfroB,OAAO,EACN,QAAItI,EAAI,EAAGA,EHu8CMsJ,EGv8CKtJ,IAAK,CAC9B,IAAIopJ,EAAQD,EAAanpJ,GAAGopJ,EACtBjgJ,QAAMggJ,EAAanpJ,GAAGmJ,EAE5B,GADAzB,GAASipB,EACG,EAARy4H,EAEFz4H,EAASxP,KAAKqnD,IAAI,EAAG2gF,EAAanpJ,GAAGopJ,EAAQ,KAC7C9gJ,GAAO,OAGT,IACO+gJ,GAAclgJ,EAAKgwI,EAAI,MAAQiQ,EAAQ,I,CAC5C,MAAOxe,GH27CkBqe,KGz7CT9/I,E,EAIpB,GAAIb,EAAM,CACRzG,EAAOs3I,EAAG1wI,KAAK,KAAf,MAAA/G,C,GHw7CJ,OAF2BA,IAAKktI,EAAch5F,OAAO,EAAGtsC,GF9lCnDw6H,IAAmBwlB,EEgmCxBznJ,C,CAqB4C0nJ,SAAQC,GAARD,GAExC7nJ,EAAK8mI,GAKL9mI,EAAKqpI,IAKTrpI,EAAKokJ,EAAwB,EAKlB5sB,GAAIx3H,EAAK+nJ,GAA0B/nJ,GAE9CA,EAAK+pI,EAAyB,E,CASkBie,SAAAve,GAAAue,GAQhD,QANIhoJ,EAAK8mI,GAAuB9mI,EAAKqpI,GAnkCG4e,GAykCpCjoJ,EAAK+pI,KAMT/pI,EAAKokJ,IACA/a,IAAmCtB,GAC/B3c,GAAKprH,EAAK+nJ,GAA0B/nJ,GACpCkoJ,GAALA,EAAmBloJ,EAAK+pI,IAC5B/pI,EAAK+pI,KACE,E,CAmFyC,SAAAoe,GAAAC,GAEhB,MAA5BpoJ,EAAKulJ,IAEF5qB,GAAO1kG,aAAaj2B,EAAKulJ,GAC9BvlJ,EAAKulJ,EAAsB,K,CASc8C,SAAAC,GAAAD,GAQ3CroJ,EAAK8mI,EF7WE,IAAIlG,GE8WPE,EAAM9gI,EAAKmhI,EAA0BH,MAAOhhI,EAAKokJ,GAEb,OAApCpkJ,EAAK4jJ,IACP5jJ,EAAK8mI,EF/zCFnF,EE+zCsC3hI,EAAK2hI,GAGhD3hI,EAAK8mI,EFhyCAnE,EExF8BA,EA03C7BqB,MAA2B5jD,GAArBpgF,EAAK2sI,IACbL,GAAJtI,EAAsB,MAAO,OACzBsI,GAAJtI,EAAsB,MAAOhkI,EAAK4qI,GAC9B0B,GAAJtI,EAAsB,KAAMhkI,EAAK8pI,EAAmB,IAAM,KACtDwC,GAAJtI,EAAsB,MAAOhkI,EAAK4pI,GAClCiK,GAAA7P,EAAsB,OAAQ,WAEzB6hB,GAALA,EAA0B7hB,GAEjB4f,KAA8B5jJ,EAAK2hI,GACjCmlB,GACL9iB,EAAKhkI,EAAK4jJ,EAA4B5jJ,EAAK2hI,GAG7C3hI,EAAKorI,GACPprI,EAAK8mI,EAAoB/wG,WAAW/1B,EAAKorI,GAGtCtE,MAALA,EAAKA,EACkC+D,EAALA,EAAKA,GF3vCvC9qI,EAAKiiI,EAvMKkC,EAwMVnkI,EAAKgiI,EAAuBoC,GAAR/jD,GE0vChB4jD,IFzvCJjkI,EAAK8hI,EAAY,KACZmB,KEwvCIoB,EFtvCJC,GAALA,EAAkBG,E,CEs+CkC+jB,SAAQC,GAARD,GAEhB,MAAhCvoJ,EAAKgqI,IACFrP,GAAO1kG,aAAaj2B,EAAKgqI,GAC9BhqI,EAAKgqI,EAA0B,K,CAyBUye,SAAQC,GAARD,EAAS7xC,GAGpD,IACIgxC,EAAkB,KAClB,GAAA5nJ,EAAK8mI,GAAuBlwB,EAAS,CAClC2yB,GAALA,GACA4e,GAAAlhB,GACKH,IAAsB,KAC3BrmI,MAj7CYkoJ,C,KAk7CP,KAAoC9f,GAAhC7oI,EAAK8oI,EAAsClyB,GAMpD,OALAgxC,EAAkBhxC,EFrjDRwrB,EEsjDsB2K,GAAhC/sI,EAAK8oI,EAAyClyB,GAC9Cn2G,EAv7CemoJ,CA07Cf,CAthDMvgB,MAyhDJroI,EAAKsoI,EAMT,GAFAtoI,EAAKyiI,GAAkB7rB,EFzwBX6rB,EE2wBR7rB,EFhyBQgrB,EEiyBV,GAp8CegnB,GAo8CXnoJ,EAAqD,CAC1CkqC,EAAAisE,EF3uBLirB,EE2uB6BjrB,EF3uB7BirB,EE2uBmDtjI,OAASosC,EAE1DzqC,EAAA2lB,KAAKC,MAAQ8wF,EFvtBfqrB,EEwtBCoiB,MAALA,EAAKA,ER1vDNrhI,GADD5H,EAAsBiiH,KAExB,IAAiBa,GAAY9iH,EAAQuvB,EAAMk+G,EAAKC,IQ0vDhDtC,GAAArZ,E,MAGA2a,GAAA7a,QAOJ,GFxtDoBwC,IEutDdsZ,EAAYnyC,EFpyBN2rB,IAl8BJwN,GEuuD0BgZ,GAhDwB,EAgDb/oJ,EAAKyiI,MAn9CjCmmB,GA29CXnoJ,GA7zB6CuoJ,WAASpyC,GAE5D,QAAoCszB,GAAhClqI,EAAK8oI,IACL9oI,EAAK8oI,EK7mCG8C,GL8mCH5rI,EAAKkkJ,EAAyB,EAAI,KAMvClkJ,EAAKkkJ,GAGFhX,IACDt2B,EF5yBMwrB,EE4yBuBjvG,OAAOnzB,EAAKktI,GACtC,GAtwBH+b,GA0wBFjpJ,EAAKsoI,GAvwBAqC,GAwwBL3qI,EAAKsoI,GACJtoI,EAAKqkJ,IAA6B6E,EAxJ3BlF,GAAY,EAwJekF,EAxJN1E,MA8JjCxkJ,EAAKkkJ,EAAsCnc,GAClC3c,GAAKprH,EAAK0mJ,GAA6B1mJ,EAAM42G,GAC7CsxC,GAALA,EAAmBloJ,EAAKqkJ,IACvBA,MACE,I,CA+xBM8E,CAALA,EAA+BvyC,IA19CzB+xC,GA89CRloJ,GACO2oJ,GAALA,IAoBR,OALIxB,GAA4C,EAAzBA,EAAgBrpJ,SAChCuqI,EAALA,EAAKA,EK3zDP5oI,EAAKkiI,EAAmBliI,EAAKkiI,EAAiBjvG,OL2zDOy0H,IAI7CmB,GACN,KFrwDOniB,EEswDA0D,GAALA,EAhhDK1D,GAkhDP,WFzvDQP,EE0vDDiE,GAALA,EAvgDMjE,IAwgDN,MFhwDgBoJ,OEkwDXnF,GAALA,EAnhDgBmF,GAohDhB,MAEKnF,WAALA,EA/hDYsE,G,CA0iDuBya,SAAAC,GAAAD,EAASE,GAEhD,IAAIC,EAAYxpJ,EAAKskJ,GACjB7kI,KAAKu7B,MAAMv7B,KAAKqU,SAAW9zB,EAAKukJ,IAOpC,OANKkF,EA0aS1uB,IAxaAyuB,GA5jD+BE,GAgkD7C3pJ,EADawpJ,C,CA+LyBI,SAAAtf,GAAAsf,EAAS3jH,GAG/C,GADAhmC,EAAKmhI,EAAcrF,KAAK,cAAgB91F,GApvDxB4oG,GAqvDZ5oG,EAA8C,CAGhD,IAAI4jH,EAAW,KACX5pJ,EAAK+6H,IACP6uB,EA4VG,MA1VgB,IAAAzpJ,EAAKirH,GAAKprH,EAAK6pJ,GAAsB7pJ,GSrxE5DD,IAEEikI,EAAM,IAAS0M,GAAI,wCAERoZ,GAAOjgI,UAA6C,QAA5BkgI,GAAOlgI,SAAS+3H,UAC7CvQ,GAAJrN,EAAc,SAEZG,GAAJH,IAoDqBgmB,SAAS98I,EAAciwB,GAE9C,MAAM4jG,EAAe,IAAIxF,GAEhB0qB,MAAO9vE,MAAO,CACrB,MAAM57D,EAAM,IAAI47D,MAChB57D,EAAIs/H,OAAcvuB,GACL2+B,GAAgBlpB,EAAcxmH,EAAK,yBAC5C,EAAM4iB,GACV5iB,EAAI45D,QAAem3C,GACN2+B,GAAgBlpB,EAAcxmH,EAAK,wBAC5C,EAAO4iB,GACX5iB,EAAIu/H,QAAexuB,GACN2+B,GAAgBlpB,EAAcxmH,EAAK,wBAC5C,EAAO4iB,GACP48G,YAAiBzuB,GACR2+B,GAAgBlpB,EAAcxmH,EAAK,0BAC5C,EAAO4iB,GAENo6F,GAAOxhG,YAAW,WAEjBxb,EAAIw/H,WACNx/H,EAAIw/H,W,GAlGemQ,KAqGnB/7G,MAAMjhC,C,MAGViwB,GAAS,E,CA7EXgtH,CAAuBnmB,EAAI19H,WAAsC62B,E,MT6wElDmpG,GR5rEF8jB,GQ8rEbC,EA4CK/hB,EAz2DGD,EA6zDRgiB,EA6CStvB,GA7CTsvB,EA8COtvB,EAASuvB,GA9CFtkH,GAgDdukH,GAhDAF,GAiDK3E,GAjDL2E,E,CA0DkC,SAAAE,GAAAC,GAIlC,GAFAxqJ,EAAKsoI,EAz3DGD,EA03DRroI,EAAKslJ,GAA8B,GAC/BtlJ,EAAK+6H,EAAU,CACjB,MAAM6sB,EAC8BvM,GAAhCr7I,EAAK8oI,GAEqB,GAA1B8e,EAAgBrpJ,QAA4C,GAA7ByB,EAAKktI,EAAc3uI,SpC//CzCgyB,GoCugDOvwB,EAAKslJ,GAA6BsC,GpCvgDzCr3H,GoCwgDOvwB,EAAKslJ,GAA6BtlJ,EAAKktI,GAEzDltI,EAAK8oI,EKhnEJ1G,EAAiB7jI,OAAS,EzCmkBnBsJ,GoC+iDuC7H,EAAKktI,GACpDltI,EAAKktI,EAAc3uI,OAAS,GAbvBw8H,IAAS0vB,I,EAgFqBC,SAAAC,GAAAD,EACrClmB,EAAY8Q,GAEd,IAAItR,EAAqBsR,aC3pDE5E,GAAUtwD,GD2pDZk1D,GC1pDQ,IAAS5E,GD0pDjB4E,OC7pDIzE,GD8pDW,OAAnB7M,ECjkET8M,EDmkENtM,IACFR,ECrjEC8M,EDqjEatM,EAAa,IAAMR,ECpkEzB8M,GDukENS,GAAJvN,EAAgCA,ECpiEtBiN,ODqiEL,CACL,IAAM2Z,EAAoBd,GAAOjgI,SAUE+3H,EAAbgJ,EAAahJ,SARnCiJ,EAAIrmB,EACSA,EAAaqmB,IAAMD,EAAaE,SAEhCF,EAAaE,SAGb1V,GAAqBwV,EAAaxV,KCppD7CpR,MAAM,IAAS0M,GAAI,UAFPG,GAKhBka,GAAkB1Z,GAAJrN,EAAc+mB,GAE5B7qJ,IAAc8jI,EAnbT8M,EAmbuBka,GAC5B5qJ,GAAgBmxI,GAAJvN,EAAYinB,GDgpD6C3V,IC/oDzDtR,EAzWP8I,EDw/DgEwI,GC3oDrEn1I,EAAO6jI,C,CDypDP,OAXMrpH,EAAQqxH,EApkDFC,EAqkDNplI,EAAQqkJ,EAnjDF7e,GAojDZtsI,GAAa8G,GACPylI,GAAJtI,EAAsBrpH,EAAO9T,GAI3BylI,GAAJtI,EAAsB,MAAOhkI,EAAK+qI,IAElC6a,GAAAC,EAA0B7hB,GAjCY7jI,C,CA8CDgrJ,cAAS3mB,EAAY4mB,GAE1D,GAAI5mB,IAAexkI,EAAK8kI,EACtB,MAAMpmI,MAAU,uDAUlB,OANE4sI,EADE8f,GAAeprJ,EAAK+lI,KAAsB/lI,EAAKo/I,GAC3C,IAAaJ,GACf,IAAahF,GAAoB,CAACI,IAAoB,KAEpD,IAAa4E,GAAMh/I,EAAKo/I,K3BnjE3Bc,E2BqjEkBlgJ,EAAK8kI,EAC5B5kI,C,CAsCuBmrJ,SAAQC,KAAG,CejhFeC,SAAQC,KAEzD,GjBoXuB98B,MAA4C7iG,I5B+J5D4oE,OAAsB07B,K6ClhB3B,MAAUzxH,MAAM,+C,CAoCc,SAAA+sJ,GAASv+I,EAAKimH,GAEdoF,GAAAmzB,KAAKjnJ,MAKrCA,KAAKy8H,EAAW,IAAIuiB,GAChBtwB,GAKJ1uH,KAAKs2I,EAAO7tI,EAYZzI,KAAKknJ,EACAx4B,GAAeA,EAAYy4B,kBAAqB,KAEjDC,EAAkB14B,GAAeA,EAAY04B,gBAAmB,KAGhE14B,GAAeA,EAAY24B,+BACzBD,EAEEA,EnBqtB8BE,qBAQYC,amB1tB9CH,EAAiB,CnBktBiBE,oBAQYC,emBptB7C9qB,Of6vBAS,Ee7vByBkqB,EAE1BI,EAAe94B,GAAeA,EAAY+4B,oBAAuB,KAEjE/4B,GAAeA,EAAYg5B,qBACzBF,EAEEA,EnBsvBsCG,6BmBrvBtCj5B,EAAYg5B,mBAEhBF,EAAc,CnBmvB4BG,4BmBjvBtCj5B,EAAYg5B,qBAIpBjsJ,GAAmBizH,EAAYk5B,KACzBJ,EAEEA,EnBmvBwCK,+BmBlvBxCn5B,EAAYk5B,GAEhBJ,EAAc,CnBgvB8BK,8BmB9uBxCn5B,EAAYk5B,KAIpB5nJ,KAAKy8H,EfwvBA2iB,EexvBwBoI,GAEvBM,EACFp5B,GAAeA,EAAYo5B,MXbsB1+B,GWehB0+B,KACnC9nJ,KAAKy8H,Ef8vBF0iB,Ee9vBwC2I,GAM7C9nJ,KAAK+nJ,EACAr5B,GAAeA,EAAYyxB,yBAA2B,EAK3DngJ,KAAKgoJ,EAAgBt5B,GAAeA,EAAYu5B,cAAgB,GAI1DC,EAAqBx5B,GAAeA,EAAYw5B,sBXhCD9+B,GWkChB8+B,KACnCloJ,KAAKy8H,EfovBF+K,EepvBiC0gB,EnCoDvB,QmCnDoBhB,EAALA,KAAKA,IAAmBgB,KAApD3sJ,IAC6C2sJ,KAAnBhB,EAALA,KAAKA,WnC2InBz7F,EmC3IsCy8F,KAa1CC,OAAkB,IAAoCC,GAASpoJ,K,CAiIvBqoJ,SAAQC,GAACpqG,GAETqqG,GAAAC,KAAKxoJ,MAG5CqjH,MAAWnlE,EAAAuqG,OACjB,GAAIplC,EAAU,CnChMQ9nH,EAAA,CACtB,IAAK,MAAMN,KmCgMgCooH,EnChMpB,CACrB9nH,EAAON,EAAP,MAAAM,C,CAFoBA,OAAA,C,EmCiMpByE,KAAK0oJ,EAAcntJ,KAELA,EAAAyE,KAAAnG,EnCmBhB4B,EAAY,OmCnBIgwD,GnCmBIxwD,KAApBQ,EmCnBgBgwD,EnCoBHxwD,QAFQ0xD,GmClBZ/oC,UADPnoB,C,MAMAuE,KAAK4jB,KAAOs6B,C,CAiB6B,SAAAyqG,KAEAC,GAAAC,KAAK7oJ,MAKhDA,KAAKq9G,OnB2JUyrC,C,CmBtIkC,SAAAC,GAAC1sB,GAQlDr8H,KAAKy8H,EAAWJ,C,E1CoJlB5W,GAAA+0B,GAAA9/I,WAAAsuJ,GAAgCC,SAC5BxgJ,EAAKygJ,EAAYC,EAAaC,GAEhC,GAAIppJ,KAAK+mI,EACP,MAAM9sI,MACF,0DACA+F,KAAK86I,EAAW,YAAcryI,GAG9B+tG,EAAS0yC,EAAaA,EAAW/9I,cAAgB,MAEvDnL,KAAK86I,EAAWryI,EAChBzI,KAAK89H,EAAa,GAClB99H,KAAK+6I,EoB9gBKphB,EpBghBV35H,KAAKm7I,GAAmB,EACnBP,QAAU,EAGf56I,KAAK+mI,EAAOsiB,KAuKA1O,EAvKA0O,KAuKuB1O,EAAgB7b,IwBtrB3BwqB,GAASxqB,IxBghBjC9+H,KAAK66I,EAAc76I,KAAK26I,EAAuC4O,GAArBvpJ,KAAK26I,GwB7ed4O,GAATC,IxBifxBxpJ,KAAK+mI,EAAKmP,mBAA0BvvB,GAAK3mH,KAAKu8I,GAAqBv8I,MAiB/D,IAEFA,KAAKi7I,GAAU,EACfj7I,KAAK+mI,EAAKn1B,KAAK4E,EAAQn0G,OAAOoG,IAAM,GACpCzI,KAAKi7I,GAAU,C,CACf,MAAO12C,GAIP,YADKklD,GAALA,KAA0CllD,E,CAY5C,GALM5hD,EAAUwmG,GAAe,GAEzBrrC,EAAU,IAAI3gG,IAAInd,KAAK89G,SAGzBsrC,EACF,GAAIxvJ,OAAOuiD,eAAeitG,KAAiBxvJ,OAAOc,UAChD,IAAK,IAAIO,KAAOmuJ,EACdtrC,EAAQrwG,IAAIxS,EAAKmuJ,EAAYnuJ,QAE1B,IACyB,mBAA5BS,EAAmB/B,MACQ,mBAApByvJ,EAAYv6I,IAKrB,MAAA5U,MACI,uCAAyCoI,OAAO+mJ,IALpD,IAAK,MAAMnuJ,KAAXS,EAA8B/B,OAC5BmkH,EAAQrwG,IAAIxS,EAAKmuJ,EAAYv6I,IAAI5T,GAGnC,CAQEyuJ,EACF7oJ,MAAM4oF,KAAKq0B,EAAQnkH,QACdgkG,MACGk8C,GNxhBL,gBMyhB6CA,ENzhBlB7uI,gBM2hB5B2+I,EACIhkC,GAALikC,UAA4BjnG,aAAmBm0F,GAAA8S,WT9BxB,GAArB10I,GS+BgC0mI,GAAwBplC,KAC1DkzC,GAAmBC,GAKtB7rC,EAAQrwG,IAnXyBo8I,eAgCjCC,mDAwVF,IAAK,MAAO7uJ,EAAKmH,KAAjB9G,EACE0E,KAAK+mI,EAAK4S,iBAAiB1+I,EAAKmH,GAG9BpC,KAAKs7I,IACPt7I,KAAK+mI,EAAKiP,aAAeh2I,KAAKs7I,GAKhC,oBAA8BvU,QAC1B/mI,KAAK+mI,EAAKgjB,kBAAoB/pJ,KAAKy7I,IACrCz7I,KAAK+mI,EAAKgjB,gBAAkB/pJ,KAAKy7I,GAcnC,IACOiC,GAALA,MAC4B,EAAxB19I,KAAKo7I,KACPp7I,KAAKw7I,EA0C4BwO,SAASnjB,GAE9C,OAAAojB,IAA2CC,MACM,iBAA7C3uJ,EAAOqiD,cACkCjD,IAAzCksF,EAAAyO,S,CA9CsC0U,CAAsBhqJ,KAAK+mI,KAO/D/mI,KAAK+mI,EAALnpF,QAA0C59C,KAAKo7I,EAC/Cp7I,KAAK+mI,EAALuO,UACS3uB,GAAK3mH,KAAK88H,GAAU98H,OAE7BA,KAAKq7I,EACU7mB,GAASx0H,KAAK88H,GAAU98H,KAAKo7I,EAAkBp7I,OAIlEA,KAAKk7I,GAAU,EACfl7I,KAAK+mI,EAAKtG,KAAK99E,GACf3iD,KAAKk7I,GAAU,C,CAEf,MAAO32C,GAEFklD,GAALA,KAA0CllD,E,GA8CrB4lD,GAAzBC,GAAoCC,gBAEf,IAAnBC,IAGWtqJ,KAAK+mI,IACd/mI,KAAK89H,EACD,mBAAqB99H,KAAKo7I,EAAmB,eACjDp7I,KAAK+6I,EoB9pBE5gB,EpBgqBF57G,GAALA,KqB9sBO47G,WrB+sBPn6H,KAAKgkH,MoBjqBEmW,G,EpB+sBcgwB,GAAzBnmC,MAAiCumC,SAASC,GAEpCxqJ,KAAK+mI,GAAQ/mI,KAAK46I,IAEpB56I,KAAK46I,GAAU,EACf56I,KAAKg7I,GAAW,EAChBh7I,KAAK+mI,EAAK/iB,QACVhkH,KAAKg7I,GAAW,EAChBh7I,KAAK+6I,EAAiByP,GoB5tBjBtwB,EpB6tBA37G,GAALA,KqB5wBQ+7G,YrB6wBH/7G,GAALA,KqB1wBK27G,SrB2wBAgiB,GAALA,M,EAUJl0B,KAA2CyiC,WAErCzqJ,KAAK+mI,IAMH/mI,KAAK46I,IACP56I,KAAK46I,GAAU,EACf56I,KAAKg7I,GAAW,EAChBh7I,KAAK+mI,EAAK/iB,QACVhkH,KAAKg7I,GAAW,GAEbkB,GAALA,MAAiB,IAGbzmI,OAAAi1I,KAAK1qJ,K,EAWbu8I,MAA+CoO,WAEzCC,KVprBQljC,IUwrBP1nH,KAAKi7I,GAAYj7I,KAAKk7I,GAAYl7I,KAAKg7I,EAKrC6P,GAALA,MAFA7qJ,KAAK8qJ,K,EAeTA,MAAyDC,WAElDF,GAALA,K,EA4OuBV,GAAzBngB,GAAqCghB,WAOnC,IACE,OAAO,EAAKthB,GAALA,MACH1pI,KAAK+mI,EAAK1pB,QACV,C,CACJ,MAAO1hH,GACP,OAAO,C,GA2CXsuI,MAA2CghB,WAEzC,IACE,OAAYlkB,OAAO/mI,KAAK+mI,EAAK5P,aAAe,E,CAC5C,MAAOx7H,GAOP,MAAO,E,GA8DcwuJ,GAAzBe,GAA2CC,SAASC,GAElD,GAAKprJ,KAAK+mI,EAAV,CAIA,IAAI5P,EAAen3H,KAAK+mI,EAAK5P,aAK7B,OAJA57H,GAA8D,GAAxC47H,EAAajiH,QAAQk2I,KACzCj0B,EAAeA,EAAa9hH,UAAU+1I,EAAetxJ,SAGvDuxJ,GAA8Bl0B,E,GAiLPgzB,GAAzBrgB,GAA4CwhB,WAE1C,OAAYvQ,M,EAQdwQ,MAAwCC,WAEtC,MAAkC,iBAApBxrJ,KAAK89H,EAA0B99H,KAAK89H,EACLz7H,OAAOrC,KAAK89H,E,G2Bt5B3DrY,GAAAw5B,GAAAvkJ,WAAA4rI,GgB9duDmlB,EhBwf9BC,GAAzBC,EAdQnH,EAgyBiBkH,GAAzBzJ,GAAuD2J,SACnDxJ,GAGF,GAAIpiJ,KAAKy/I,EAiBF,GAhBLz/I,KAAKy/I,EAAyB,KAryB1B+E,GAsyBJqH,KAechoB,GACd,IAhB0Bue,EAgB1B,CAhBAyJ,KAyDGvM,EAAWtkI,KAAKu7B,MAAsB,IAAhBv7B,KAAKqU,UAE1B6xH,EA3DJ2K,KA2DevM,IACXntC,QFWC,IAAIgqB,GEvET0vB,UA6DiDnvB,EAAmBwkB,OAAlE1kB,GAGJ,IAAIkiB,EAhEFmN,KAgEsB3uB,EAhEtB2uB,GAiEOzM,SACHV,GACFA,EpBptBJ/iE,GoBotBqC+iE,GpB3sBrC5yH,GoB4sBuB4yH,EApErBmN,KAoEwCzM,IAEtCV,EAtEFmN,KAsEsBzM,GAIxB,OA1EEyM,KA0EO1M,GA1EP0M,KA2EQtL,IACRpuC,EFn9BG+qB,EEm9BqBwhB,EACxBA,EAAe,MA7EfmN,KAkFOxL,EAwD8D9kJ,EAAA,CAGlE,IADDuwJ,MAAQ,EACHjyJ,EAAI,EAAGA,EA7IdgyJ,KA6IuBpjB,EAAc3uI,OAAQD,IAAK,CACtCmJ,MA9IZ6oJ,KA8IiBpjB,EAAc5uI,GAE/B,QAAa8gD,KgB92CTj/C,EA3CqCqwJ,aAwCc/oJ,KAEjC,iBADd4gB,EAAOloB,EAAKsH,EAALgpJ,UAEJpoI,EAAK9pB,YALD,GhBo3Cb,MAz0B8BmyJ,SA20BhCH,GAAS5lH,GAEsC,CAC7CzqC,EAAO5B,EAAP,MAAA0B,C,CAGF,GAj1BgC0wJ,OAi1B5BH,GACAjyJ,IA1JJgyJ,KA0JepjB,EAAc3uI,OAAS,EAAG,CACvC2B,EAAO5B,EAAI,EAAX,MAAA0B,C,EAIJE,EAh2BqCgnJ,G,MAAAA,MAixBjCF,EAAmBC,GAhFrBqJ,KAiFE15C,EACA12G,GAIAosI,GADEtI,EAA8B5jD,GArFlCkwE,KAqFe/jB,GACK,MAAOoZ,GAGvBrZ,GAAJtI,EAAsB,OiBt1CoB2sB,IjBy3BhC1kB,QAkeNK,GAAJtI,EJ3iBoCmI,oBI6cpCmkB,KApYUrkB,GAseP4Z,GAlGHyK,KAkGwBtsB,GAEtBmf,IApGFmN,KAqGStL,EAGPgC,EAAc,WI76BXh5I,mBAAmBlH,OUradu8I,Gdi1C8CF,KACV,IAAM6D,EAxGpDsJ,KAyGgB1M,GACLkD,GACL9iB,EA3GNssB,KA2GgB1M,EAA4BT,IAIdpX,GA/G9BukB,KA+GGxnB,EAAsClyB,GAElCsuC,SACH5Y,GAAJtI,EAAsB,OAAQ,QAlH9BssB,KAsHOxL,GACHxY,GAAJtI,EAAsB,OAAQgjB,GAG1B1a,GAAJtI,EAAsB,MAAO,QAC7BptB,EFrnBGmsB,GAAyB,EEunBpB6tB,GAARh6C,EAAoBotB,EAAK,OAEjB4sB,GAARh6C,EAAoBotB,EAAKgjB,GA1GpB1e,OAxzBEqC,C,OAGD5B,GAgyBNunB,KAsBchoB,IAtBYue,EAwBnBgK,GAxBPP,KAA0BzJ,GA4BO,GA5BjCyJ,KA4BSpjB,EAAc3uI,QAQakoJ,GApCpC6J,KAoCSxnB,IAQJ+nB,GA5CLP,M,EAmVqBH,GAAzBpI,GAAoD+I,WAKlD,GAHArsJ,KAAK4kI,EAAsB,KAC3Bif,GAAAyI,MAEKtsJ,KAAKsiI,KAINtiI,KAAKuiI,GAIuB,MAA5BviI,KAAKqiI,GAAuD,GAAxBriI,KAAKgoI,GAA7C,CAQA,IAAMukB,EAAqB,EAAIvsJ,KAAKgoI,EAC/BtL,OAAcrF,KAAK,+BAAiCk1B,GAEzDvsJ,KAAK8gJ,EAAmCxd,GAC/B3c,GAAK3mH,KAAKwsJ,GAAqBxsJ,MAAOusJ,E,GAQjDC,MAA+CC,WAExCzsJ,KAAK8gJ,IAKV9gJ,KAAK8gJ,EAAsB,KAC3B9gJ,KAAK08H,EAAcrF,KAAK,iCAiBxBr3H,KAAK08H,EAAcrF,KACf,wDACJr3H,KAAKqlI,GAAmB,EAExBrlI,KAAKuiI,GAAmB,EACXV,GR9hDN6qB,IQiiDF3nB,GAALA,MACKunB,GAALA,M,EA0RuBZ,GAAzBlmB,GAA8CmnB,WAER,MAAhC3sJ,KAAKulI,IACPvlI,KAAKulI,EAA0B,KAC1BR,GAALA,MACK4f,GAALA,MACa9iB,GR9xDG+qB,I,EQqoEKlB,GAAzBtG,GAAgDyH,SAASC,GAEnDA,GACF9sJ,KAAK08H,EAAcrF,KAAK,kCACXwK,GR3sEF8jB,KQ6sEX3lJ,KAAK08H,EAAcrF,KAAK,6BACXwK,GRptEAkrB,G,GQw9EjBtnC,GAAAohC,GAAAnsJ,WAAAqtI,GAAiDilB,WAAkB,EASnEpkB,MAAsDqkB,WAClC,EAmBaC,GAAjCrH,GAAgDsH,WAAyB,EAcxCD,GAAjClH,GAAiDoH,WACE,EAqDlBF,GAAjCnK,GAA+CsK,WAAuB,Ee9nFtEvG,GAAwBpsJ,UAAU4yJ,EAAmBC,SACjD9kJ,EAAKimH,GAEP,OAAO,IAA4B8+B,GAAQ/kJ,EAAKimH,E,EAkI7C3H,GAAiCymC,GAAqBh9B,IAMnCg9B,GAAQ9yJ,UAAUk3G,EAAO67C,WAE/CztJ,KAAKy8H,Ef2yBAnG,Ee3yBoBt2H,KAAKmoJ,EACrBJ,SACP/nJ,KAAKy8H,EfoxBF4D,GepxBsCqtB,GAEtCjxB,MAALA,KAAKA,EAAsB6Z,EAALA,KAAKA,EAAOh7I,EAAA0E,KAAKknJ,QAAqBvsG,Ef2f5DswF,GR1kBiB0iB,GQ4kBjBpyJ,EAAK8sI,EAAQulB,EACbryJ,EAAK2jJ,GAAe2O,GAAmB,GAQvCtyJ,EAAK8pI,EAAmB9pI,EAAKmkJ,EAC7BoO,EAkDKhmB,EAorDYK,GAtuDjB2lB,EAsuD+B,KAtuD/BA,EAmD0DzlB,GACrDK,GApDLolB,E,EehgB8BpzJ,aAAUq3G,MAAQg8C,WAElC/1E,GAAdh4E,KAAKy8H,E,EAqByB/hI,aAAU+lI,EAAOutB,SAAS9sH,GAEnDu7F,MAALz8H,KAAKy8H,EAiBkB,oBAAvBlhI,EAAiC,CAC/B,IAAM0yJ,EAAU,GAChB3yJ,EAAA0wJ,SAnB6C9qH,EAoB7C3lC,EAAO0yJ,C,MApBaC,KAuBblG,KACDiG,EAAU,IAChBjC,SAAuCj6B,GAzBM7wF,GA0B7C3lC,EAAO0yJ,GA1BJxxB,Efi2BAgM,EAAczmI,KACf,IgBhiCoC,MAMxCtB,YAAYuiJ,EAAOjgJ,GAMjBhD,KAAKijJ,EAAQA,EAMbjjJ,KAAKgD,EAAMA,C,GD4KRy5H,Efk2BuB4iB,Kel2BNr8I,IfoSdshI,GepSH7H,Efq2BIoH,GACF6E,Get2BFjM,E,EA+DiB+wB,GAAQ9yJ,UAAUstH,EAAkBmmC,WAE1DnuJ,KAAKy8H,EfssBAnG,EetsBoB58C,YAClB15E,KAAKmoJ,EACEnwE,GAAdh4E,KAAKy8H,UACEz8H,KAAKy8H,EAEoB2xB,GAAA34I,IAAA44I,KAAKruJ,K,EA8BlC+mH,GAC+BunC,GACZ3yB,IA0BnB5U,GAC+BwnC,GAAgCzyB,IAuB/D/U,GAAyCqhC,GAAyBoG,IAMvCpG,GAAS1tJ,UAAUqtI,GAAgB0mB,WAKnDlwI,GAAdve,KAAKy8H,EnBFCjB,I,EmBSwB4sB,GAAS1tJ,UAAUkuI,GAC/C8lB,SAAkBxwG,GAGN3/B,GAAdve,KAAKy8H,EACD,IAAoC6xB,GAAapwG,G,EAOvBkqG,GAAS1tJ,UAAUmrJ,GAAe8I,SACrDptH,GAMGhjB,GAAdve,KAAKy8H,EACD,IAAoC8xB,GAAWhtH,G,EAOrB6mH,GAAS1tJ,UAAUsrJ,GAAgB4I,WAKnDrwI,GAAdve,KAAKy8H,EnBtCEhB,I,EsBhXgBqrB,GAAwBpsJ,UAAjD4yJ,iBAC2BxG,GAAwBpsJ,UAAU4yJ,EACJ5yJ,aAAzD+lI,KACmD+sB,GAAQ9yJ,UAAU+lI,EACpB+sB,GAAQ9yJ,UAAzDk3G,KACmD47C,GAAQ9yJ,UAAUk3G,EACZl3G,aAAzDq3G,MACmDy7C,GAAQ9yJ,UAAUq3G,MAI5D2nB,GAATC,SzBtBYA,EyBuBHD,GAATS,QzByBWA,EyBxBFT,GAATO,WzBccA,EyBVLI,GAATC,SxBhCYA,WwBqCHc,GAATyzB,UAAuDtzB,GACnCA,GAApBC,KtBsVQA,IsBrVYD,GAApBE,MtBwVSA,IsBvVTqzB,GAAA94C,MtBgWSA,IsB/VT84C,GAAApzB,QtBkWWA,IsBhWahhI,aAAxBm0H,OACc2B,GAAY91H,UAAUm0H,EAG3B0rB,GAAM7/I,UAAf80H,WAAkD+qB,GAAM7/I,UAAU80H,EACnD90H,aAAfq0J,aACWxU,GAAM7/I,UAAUq0J,GAClBxU,GAAM7/I,UAAfovI,iBACWyQ,GAAM7/I,UAAUovI,GAClByQ,GAAM7/I,UAAfsvI,UAAiDuQ,GAAM7/I,UAAUsvI,GAClDtvI,aAAfwwJ,gBACW3Q,GAAM7/I,UAAUwwJ,GACZxwJ,aAAfuvI,gBACWsQ,GAAM7/I,UAAUuvI,GAClBsQ,GAAM7/I,UAAf+lI,KAA4C8Z,GAAM7/I,UAAU+lI,GAE5DrkI,oCCtDqC4yJ,WAEnC,OAAO,IAA6BlI,E,EAFUmI,GAAAC,GAAAC,mB3BuNdC,WAEhC,OAAOj3B,I,E0B/JT/7H,gBAA0Cs9H,GAC1C21B,GAAAH,GAAAL,UAA0Cx0B,GAC1Ci1B,GAAAJ,GAAAK,MAAmEt3B,GACnEu3B,GAAAN,GAAAO,K1BwCoBC,CAElB/B,GAAiBA,EAGjBZ,GAAeA,EAMfpH,GAAaA,EAGbgK,GAAsBA,EAGtBC,GAAsBA,EAGtBC,GAAyBA,EAMzBC,GAAyBA,EAGzBC,GAA0BA,EAG1BC,GAAuBA,EAGvBC,GAAuBA,EAMvBvD,MAAOA,GAMPjqB,QAASA,GAGTyI,GAA4BA,GAG5BK,GAAoBA,GAGpBzJ,GAAyBA,GAGzBC,GAAkBA,GAGlBK,GAAiBA,GAGjB2J,GAAiBA,GAMjB9G,GAAqBA,GAMrB2nB,GAAkBA,GAMlBsD,GAAiBA,I0B1HnBC,GAAAjB,GAAAkB,oBAAoD7a,GACpD8a,GAAAnB,GAAAoB,WAA2Cl1B,GAC3Cm1B,GAAArB,GAAAsB,MAAsCjW;;;;;;;;;;;;;;;;;AExDtC,MAAMkW,GACF/vJ,YAAYgvB,GACR1vB,KAAK+2F,IAAMrnE,C,CAEfghI,kBACI,OAAO,MAAQ1wJ,KAAK+2F,G,CAKjB45D,QACH,OAAO3wJ,KAAK0wJ,kBAAoB,OAAS1wJ,KAAK+2F,IAAM,gB,CAExD65D,QAAQlhI,GACJ,OAAOA,EAAEqnE,MAAQ/2F,KAAK+2F,G,EAIC05D,GAAEI,gBAAkB,IAAIJ,GAAE,MAGzDA,GAAEK,mBAAqB,IAAIL,GAAE,0BAA2BA,GAAEM,YAAc,IAAIN,GAAE,mBAC9EA,GAAEO,UAAY,IAAIP,GAAE;;;;;;;;;;;;;;;;;AAkBpB,IAAIQ,GAAI;;;;;;;;;;;;;;;;GAkBR,MAAMC,GAAI,IAAI9+F,GAAE,uBAGhB,SAAS++F,KACL,OAAOD,GAAE56C,Q,CAmBb,SAAS86C,GAAE1hI,KAAM/zB,GACb,GAAIu1J,GAAE56C,UAAYnuG,GAAEytG,MAAO,CACvB,MAAMnmF,EAAI9zB,EAAEqH,IAAIquJ,IAChBH,GAAEv2C,MAAM,cAAcs2C,QAAOvhI,OAAQD,E,EAI7C,SAAS6hI,GAAE5hI,KAAM/zB,GACb,GAAIu1J,GAAE56C,UAAYnuG,GAAE6tG,MAAO,CACvB,MAAMvmF,EAAI9zB,EAAEqH,IAAIquJ,IAChBH,GAAE3vH,MAAM,cAAc0vH,QAAOvhI,OAAQD,E,EAMzC,SAAS8hI,GAAE7hI,KAAM/zB,GACjB,GAAIu1J,GAAE56C,UAAYnuG,GAAE4tG,KAAM,CACtB,MAAMtmF,EAAI9zB,EAAEqH,IAAIquJ,IAChBH,GAAE/9E,KAAK,cAAc89E,QAAOvhI,OAAQD,E,EAMxC,SAAS4hI,GAAE3hI,GACX,GAAI,iBAAmBA,EAAG,OAAOA,EACjC,IACI,OAAO2tB,EAAI3tB,EAAGigB,KAAKC,UAAUyN,E,CAC/B,MAAO1hD,GAEL,OAAO+zB,C;;;;;;;;;;;;;;;;GAmBX,IAAI2tB,C;;;;;;;;;;;;;;;;GA0BJ,SAASm0G,GAAE9hI,EAAI,oBAGf,MAAM/zB,EAAI,cAAcs1J,kCAAmCvhI,EAI3D,MAAM4hI,GAAE31J,GAAI,IAAI1B,MAAM0B,E,CAQtB,SAAS81J,GAAE/hI,EAAG/zB,GACd+zB,GAAK8hI,I,CAmBL,SAASE,GAAEhiI,EAEf/zB,GACI,OAAO+zB,C;;;;;;;;;;;;;;;;GAkBP,MAAMiiI,GAAI,CAIVjV,GAAI,KAEJkV,UAAW,YAEXC,QAAS,UAOTC,iBAAkB,mBAQlBC,kBAAmB,oBAEnBC,UAAW,YAKXC,eAAgB,iBAQhBC,kBAAmB,oBAKnBrB,gBAAiB,kBAKjBsB,mBAAoB,qBAqBpBC,oBAAqB,sBAQrBC,QAAS,UAgBTC,aAAc,eAEdC,cAAe,gBAKfr9C,SAAU,WAQVs9C,YAAa,cAEbC,UAAW,aAGoC,MAAMC,WAAUp3J,GAE/DoF,YAIAgvB,EAIA/zB,GACI22G,MAAM5iF,EAAG/zB,GAAIqE,KAAKmlB,KAAOuK,EAAG1vB,KAAKkhC,QAAUvlC,EAI3CqE,KAAK6B,SAAW,IAAM,GAAG7B,KAAKkO,eAAelO,KAAKmlB,UAAUnlB,KAAKkhC,S;;;;;;;;;;;;;;;;GAmBrE,MAAMyxH,GACNjyJ,cACIV,KAAKsxG,QAAU,IAAI5/E,SAAS,CAAChC,EAAG/zB,KAC5BqE,KAAKsI,QAAUonB,EAAG1vB,KAAKiuF,OAAStyF,CAAC,G;;;;;;;;;;;;;;;;GAoBzC,MAAMi3J,GACNlyJ,YAAYgvB,EAAG/zB,GACXqE,KAAK6yJ,KAAOl3J,EAAGqE,KAAKhE,KAAO,QAASgE,KAAK89G,QAAU,IAAI3gG,IAAKnd,KAAK89G,QAAQrwG,IAAI,gBAAiB,UAAUiiB,I,EAO5G,MAAMojI,GACNC,WACI,OAAOrhI,QAAQppB,QAAQ,K,CAE3B0qJ,kBAAkB,CAClBznI,MAAMmE,EAAG/zB,GAEL+zB,EAAEujI,kBAAkB,IAAMt3J,EAAE80J,GAAEI,kB,CAElCqC,WAAW,EA8Bf,MAAMC,GACFzyJ,YAAYgvB,GACR1vB,KAAK0vB,EAAIA,EAET1vB,KAAKozJ,YAAc3C,GAAEI,gBAKrB7wJ,KAAKnG,EAAI,EAAGmG,KAAKqzJ,cAAe,EAAIrzJ,KAAKszJ,KAAO,I,CAEpD/nI,MAAMmE,EAAG/zB,GACL,IAAI8zB,EAAIzvB,KAAKnG,EAEL,MAAM00E,EAAI7+C,GAAK1vB,KAAKnG,IAAM41B,GAAKA,EAAIzvB,KAAKnG,EAAG8B,EAAE+zB,IAAMgC,QAAQppB,UAG3D,IAAIzO,EAAI,IAAI84J,GACpB3yJ,KAAKoyD,EAAI,KACLpyD,KAAKnG,IAAKmG,KAAKozJ,YAAcpzJ,KAAKmI,IAAKtO,EAAEyO,UAAWzO,EAAI,IAAI84J,GAAGjjI,EAAEujI,kBAAkB,IAAM1kF,EAAEvuE,KAAKozJ,cAAc,EAElH,MAAMn6H,EAAI,KACN,MAAMt9B,EAAI9B,EACV61B,EAAEujI,kBAAkBj7D,gBACVr8F,EAAE21G,cAAe/iC,EAAEvuE,KAAKozJ,YAAY,GAC3C,EACJhhG,EAAI1iC,IACH0hI,GAAE,kCAAmC,iBAAkBpxJ,KAAKszJ,KAAO5jI,EAAG1vB,KAAKszJ,KAAKC,qBAAqBvzJ,KAAKoyD,GAC1Gn5B,GAAG,EAEPj5B,KAAK0vB,EAAE2lF,QAAQ3lF,GAAK0iC,EAAE1iC,KAItB4B,YAAY,KACR,IAAKtxB,KAAKszJ,KAAM,CACZ,MAAM5jI,EAAI1vB,KAAK0vB,EAAEurF,aAAa,CAC1BtG,UAAU,IAEdjlF,EAAI0iC,EAAE1iC,IAEN0hI,GAAE,kCAAmC,yBAA0Bv3J,EAAEyO,UAAWzO,EAAI,IAAI84J,G,IAExF,GAAI15H,G,CAEZ85H,WAII,MAAMrjI,EAAI1vB,KAAKnG,EAAG8B,EAAIqE,KAAKqzJ,aAC3B,OAAOrzJ,KAAKqzJ,cAAe,EAAIrzJ,KAAKszJ,KAAOtzJ,KAAKszJ,KAAKP,SAASp3J,GAAGgH,MAAMhH,GAIvEqE,KAAKnG,IAAM61B,GAAK0hI,GAAE,kCAAmC,yCACrDpxJ,KAAK+yJ,YAAcp3J,GAAK81J,GAAE,iBAAmB91J,EAAE63J,aAAc,IAAIZ,GAAEj3J,EAAE63J,YAAaxzJ,KAAKozJ,cAAgB,OAAS1hI,QAAQppB,QAAQ,K,CAEpI0qJ,kBACIhzJ,KAAKqzJ,cAAe,C,CAExBH,WACIlzJ,KAAKszJ,MAAQtzJ,KAAKszJ,KAAKG,wBAAwBzzJ,KAAKoyD,E,CAMxDjqD,IACI,MAAMunB,EAAI1vB,KAAKszJ,MAAQtzJ,KAAKszJ,KAAKI,SACjC,OAAOjC,GAAE,OAAS/hI,GAAK,iBAAmBA,GAAI,IAAI+gI,GAAE/gI,E,EAUxD,MAAMikI,GACNjzJ,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKpE,EAAI8zB,EAAG1vB,KAAK4N,EAAIjS,EAAGqE,KAAKuB,EAAIkuB,EAAGzvB,KAAKxE,EAAI+yE,EAAGvuE,KAAKhE,KAAO,aAAcgE,KAAK6yJ,KAAOpC,GAAEM,YACxF/wJ,KAAK+3C,EAAI,IAAI56B,G,CAE8F06B,IAC3G,OAAO73C,KAAKxE,EAAIwE,KAAKxE,KAErBi2J,KAAI,iBAAmBzxJ,KAAKpE,GAAK,OAASoE,KAAKpE,IAAMoE,KAAKpE,EAAE03J,OAAStzJ,KAAKpE,EAAE03J,KAAKM,kCACjF5zJ,KAAKpE,EAAE03J,KAAKM,gCAAgC,I,CAE5C91C,cACA99G,KAAK+3C,EAAEtqC,IAAI,kBAAmBzN,KAAK4N,GAEnC,MAAM8hB,EAAI1vB,KAAK63C,IACf,OAAOnoB,GAAK1vB,KAAK+3C,EAAEtqC,IAAI,gBAAiBiiB,GAAI1vB,KAAKuB,GAAKvB,KAAK+3C,EAAEtqC,IAAI,iCAAkCzN,KAAKuB,GACxGvB,KAAK+3C,C,EAQT,MAAM87G,GACNnzJ,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKpE,EAAI8zB,EAAG1vB,KAAK4N,EAAIjS,EAAGqE,KAAKuB,EAAIkuB,EAAGzvB,KAAKxE,EAAI+yE,C,CAEjDwkF,WACI,OAAOrhI,QAAQppB,QAAQ,IAAIqrJ,GAAE3zJ,KAAKpE,EAAGoE,KAAK4N,EAAG5N,KAAKuB,EAAGvB,KAAKxE,G,CAE9D+vB,MAAMmE,EAAG/zB,GAEL+zB,EAAEujI,kBAAkB,IAAMt3J,EAAE80J,GAAEM,c,CAElCmC,WAAW,CACXF,kBAAkB,EAGtB,MAAMc,GACFpzJ,YAAYgvB,GACR1vB,KAAKoC,MAAQstB,EAAG1vB,KAAKhE,KAAO,WAAYgE,KAAK89G,QAAU,IAAI3gG,IAAKuS,GAAKA,EAAE51B,OAAS,GAAKkG,KAAK89G,QAAQrwG,IAAI,sBAAuBzN,KAAKoC,M,EAI1I,MAAM2xJ,GACFrzJ,YAAYgvB,GACR1vB,KAAKg6C,EAAItqB,EAAG1vB,KAAKqzJ,cAAe,EAAIrzJ,KAAKg0J,SAAW,KAAMh0J,KAAKq4C,EAAI,I,CAEvE9sB,MAAMmE,EAAG/zB,GACL,MAAM8zB,EAAIC,IACN,MAAQA,EAAE6R,OAAS6vH,GAAE,gCAAiC,0EAA0E1hI,EAAE6R,MAAML,WACxI,MAAMzR,EAAIC,EAAE+sF,QAAUz8G,KAAKq4C,EAC3B,OAAOr4C,KAAKq4C,EAAI3oB,EAAE+sF,MAAO20C,GAAE,gCAAiC,YAAY3hI,EAAI,MAAQ,qBACpFA,EAAI9zB,EAAE+zB,EAAE+sF,OAAS/qF,QAAQppB,SAAS,EAEtCtI,KAAKoyD,EAAIz2D,IACL+zB,EAAEujI,kBAAkB,IAAMxjI,EAAE9zB,IAAI,EAEpC,MAAM4yE,EAAI7+C,IACN0hI,GAAE,gCAAiC,qBAAsBpxJ,KAAKg0J,SAAWtkI,EAAG1vB,KAAKg0J,SAASC,iBAAiBj0J,KAAKoyD,EAAE,EAEtHpyD,KAAKg6C,EAAEq7D,QAAQ3lF,GAAK6+C,EAAE7+C,KAGtB4B,YAAY,KACR,IAAKtxB,KAAKg0J,SAAU,CAChB,MAAMtkI,EAAI1vB,KAAKg6C,EAAEihE,aAAa,CAC1BtG,UAAU,IAEdjlF,EAAI6+C,EAAE7+C,GAEN0hI,GAAE,gCAAiC,4B,IAEvC,E,CAER2B,WACI,MAAMrjI,EAAI1vB,KAAKqzJ,aACf,OAAOrzJ,KAAKqzJ,cAAe,EAAIrzJ,KAAKg0J,SAAWh0J,KAAKg0J,SAASjB,SAASrjI,GAAG/sB,MAAM+sB,GAAKA,GAAK+hI,GAAE,iBAAmB/hI,EAAE+sF,OAChHz8G,KAAKq4C,EAAI3oB,EAAE+sF,MAAO,IAAIq3C,GAAEpkI,EAAE+sF,QAAU,OAAS/qF,QAAQppB,QAAQ,K,CAEjE0qJ,kBACIhzJ,KAAKqzJ,cAAe,C,CAExBH,WACIlzJ,KAAKg0J,UAAYh0J,KAAKg0J,SAASE,oBAAoBl0J,KAAKoyD,E;;;;;;;;;;;;;;;;;AAyChE,SAAS+hG,GAAEzkI,GAEP,MAAM/zB,EAEN,oBAAsBs2D,OAASA,KAAKqsD,QAAUrsD,KAAKssD,UAAW9uF,EAAI,IAAI4uF,WAAW3uF,GACjF,GAAI/zB,GAAK,mBAAqBA,EAAE6iH,gBAAiB7iH,EAAE6iH,gBAAgB/uF,QAEnE,IAAK,IAAI4tB,EAAI,EAAGA,EAAI3tB,EAAG2tB,IAAK5tB,EAAE4tB,GAAKriC,KAAKu7B,MAAM,IAAMv7B,KAAKqU,UACzD,OAAOI,C;;;;;;;;;;;;;;;;GAkBP,MAAM2kI,GACNC,WAEI,MAAM3kI,EAAI,iEAAkE/zB,EAAIqf,KAAKu7B,MAAM,IAAM7mB,EAAE51B,QAAU41B,EAAE51B,OAEvG,IAAI21B,EAAI,GAChB,KAAMA,EAAE31B,OAAS,IAAM,CACnB,MAAMy0E,EAAI4lF,GAAE,IACZ,IAAK,IAAIt6J,EAAI,EAAGA,EAAI00E,EAAEz0E,SAAUD,EAGhC41B,EAAE31B,OAAS,IAAMy0E,EAAE10E,GAAK8B,IAAM8zB,GAAKC,EAAEta,OAAOm5D,EAAE10E,GAAK61B,EAAE51B,Q,CAEzD,OAAO21B,C,EAIf,SAAS6kI,GAAE5kI,EAAG/zB,GACV,OAAO+zB,EAAI/zB,GAAI,EAAK+zB,EAAI/zB,EAAI,EAAI,C,CAGa,SAAS44J,GAAE7kI,EAAG/zB,EAAG8zB,GAC9D,OAAOC,EAAE51B,SAAW6B,EAAE7B,QAAU41B,EAAEkuE,OAAO,CAACluE,EAAG6+C,IAAM9+C,EAAEC,EAAG/zB,EAAE4yE,K;;;;;;;;;;;;;;;;;AA0C9D,MAAMimF,GAYF9zJ,YAIAgvB,EAIA/zB,GACI,GAAIqE,KAAKy0J,QAAU/kI,EAAG1vB,KAAK00J,YAAc/4J,EAAGA,EAAI,EAAG,MAAM,IAAI+2J,GAAEf,GAAEG,iBAAkB,uCAAyCn2J,GAC5H,GAAIA,GAAK,IAAK,MAAM,IAAI+2J,GAAEf,GAAEG,iBAAkB,uCAAyCn2J,GACvF,GAAI+zB,GAAI,YAAc,MAAM,IAAIgjI,GAAEf,GAAEG,iBAAkB,mCAAqCpiI,GAEnF,GAAIA,GAAK,aAAc,MAAM,IAAIgjI,GAAEf,GAAEG,iBAAkB,mCAAqCpiI,E,CAMjG2kI,aACH,OAAOG,GAAGG,WAAWvzI,KAAKC,M,CAQvBgzI,gBAAgB3kI,GACnB,OAAO8kI,GAAGG,WAAWjlI,EAAEklI,U,CASpBP,kBAAkB3kI,GACrB,MAAM/zB,EAAIqf,KAAKu7B,MAAM7mB,EAAI,KAAMD,EAAIzU,KAAKu7B,MAAM,KAAO7mB,EAAI,IAAM/zB,IAC/D,OAAO,IAAI64J,GAAG74J,EAAG8zB,E,CASdolI,SACH,OAAO,IAAIzzI,KAAKphB,KAAK80J,W,CAQlBA,WACH,OAAO,IAAM90J,KAAKy0J,QAAUz0J,KAAK00J,YAAc,G,CAEnDK,WAAWrlI,GACP,OAAO1vB,KAAKy0J,UAAY/kI,EAAE+kI,QAAUH,GAAEt0J,KAAK00J,YAAahlI,EAAEglI,aAAeJ,GAAEt0J,KAAKy0J,QAAS/kI,EAAE+kI,Q,CAOxF7D,QAAQlhI,GACX,OAAOA,EAAE+kI,UAAYz0J,KAAKy0J,SAAW/kI,EAAEglI,cAAgB10J,KAAK00J,W,CAEA7yJ,WAC5D,MAAO,qBAAuB7B,KAAKy0J,QAAU,iBAAmBz0J,KAAK00J,YAAc,G,CAEbM,SACtE,MAAO,CACHP,QAASz0J,KAAKy0J,QACdC,YAAa10J,KAAK00J,Y,CAMnBljJ,UAQH,MAAMke,EAAI1vB,KAAKy0J,UAAU,YAGjB,OAAOpyJ,OAAOqtB,GAAGulI,SAAS,GAAI,KAAO,IAAM5yJ,OAAOrC,KAAK00J,aAAaO,SAAS,EAAG,I;;;;;;;;;;;;;;;;GAuB5F,MAAMC,GACNx0J,YAAYgvB,GACR1vB,KAAKm1J,UAAYzlI,C,CAErB2kI,qBAAqB3kI,GACjB,OAAO,IAAIwlI,GAAGxlI,E,CAElB2kI,aACI,OAAO,IAAIa,GAAG,IAAIV,GAAG,EAAG,G,CAE5BH,aACI,OAAO,IAAIa,GAAG,IAAIV,GAAG,aAAc,W,CAEvCY,UAAU1lI,GACN,OAAO1vB,KAAKm1J,UAAUJ,WAAWrlI,EAAEylI,U,CAEvCvE,QAAQlhI,GACJ,OAAO1vB,KAAKm1J,UAAUvE,QAAQlhI,EAAEylI,U,CAE4CE,iBAE5E,OAAO,IAAMr1J,KAAKm1J,UAAUV,QAAUz0J,KAAKm1J,UAAUT,YAAc,G,CAEvE7yJ,WACI,MAAO,mBAAqB7B,KAAKm1J,UAAUtzJ,WAAa,G,CAE5DyzJ,cACI,OAAOt1J,KAAKm1J,S;;;;;;;;;;;;;;;;GAuBpB,MAAMI,GACF70J,YAAYgvB,EAAG/zB,EAAG8zB,QACd,IAAW9zB,EAAIA,EAAI,EAAIA,EAAI+zB,EAAE51B,QAAU03J,UAAK,IAAW/hI,EAAIA,EAAIC,EAAE51B,OAAS6B,EAAI8zB,EAAIC,EAAE51B,OAAS6B,GAAK61J,KAClGxxJ,KAAKw1J,SAAW9lI,EAAG1vB,KAAKwqB,OAAS7uB,EAAGqE,KAAK69C,IAAMpuB,C,CAE/C31B,aACA,OAAOkG,KAAK69C,G,CAEhB+yG,QAAQlhI,GACJ,OAAO,IAAM6lI,GAAGE,WAAWz1J,KAAM0vB,E,CAErCxW,MAAMwW,GACF,MAAM/zB,EAAIqE,KAAKw1J,SAASnqJ,MAAMrL,KAAKwqB,OAAQxqB,KAAK01J,SAChD,OAAOhmI,aAAa6lI,GAAK7lI,EAAEzsB,SAASysB,IAChC/zB,EAAEqG,KAAK0tB,EAAE,IACP/zB,EAAEqG,KAAK0tB,GAAI1vB,KAAK2N,UAAUhS,E,CAE0B+5J,QAC1D,OAAO11J,KAAKwqB,OAASxqB,KAAKlG,M,CAE9B67J,SAASjmI,GACL,OAAOA,OAAI,IAAWA,EAAI,EAAIA,EAAG1vB,KAAK2N,UAAU3N,KAAKw1J,SAAUx1J,KAAKwqB,OAASkF,EAAG1vB,KAAKlG,OAAS41B,E,CAElGkmI,UACI,OAAO51J,KAAK2N,UAAU3N,KAAKw1J,SAAUx1J,KAAKwqB,OAAQxqB,KAAKlG,OAAS,E,CAEpE+7J,eACI,OAAO71J,KAAKw1J,SAASx1J,KAAKwqB,O,CAE9BsrI,cACI,OAAO91J,KAAK6O,IAAI7O,KAAKlG,OAAS,E,CAElC+U,IAAI6gB,GACA,OAAO1vB,KAAKw1J,SAASx1J,KAAKwqB,OAASkF,E,CAEvCqmI,UACI,OAAO,IAAM/1J,KAAKlG,M,CAEtBk8J,WAAWtmI,GACP,GAAIA,EAAE51B,OAASkG,KAAKlG,OAAQ,OAAO,EACnC,IAAK,IAAI6B,EAAI,EAAGA,EAAIqE,KAAKlG,OAAQ6B,IAAK,GAAIqE,KAAK6O,IAAIlT,KAAO+zB,EAAE7gB,IAAIlT,GAAI,OAAO,EAC3E,OAAO,C,CAEXs6J,oBAAoBvmI,GAChB,GAAI1vB,KAAKlG,OAAS,IAAM41B,EAAE51B,OAAQ,OAAO,EACzC,IAAK,IAAI6B,EAAI,EAAGA,EAAIqE,KAAKlG,OAAQ6B,IAAK,GAAIqE,KAAK6O,IAAIlT,KAAO+zB,EAAE7gB,IAAIlT,GAAI,OAAO,EAC3E,OAAO,C,CAEXsH,QAAQysB,GACJ,IAAK,IAAI/zB,EAAIqE,KAAKwqB,OAAQiF,EAAIzvB,KAAK01J,QAAS/5J,EAAI8zB,EAAG9zB,IAAK+zB,EAAE1vB,KAAKw1J,SAAS75J,G,CAE5EyH,UACI,OAAOpD,KAAKw1J,SAASnqJ,MAAMrL,KAAKwqB,OAAQxqB,KAAK01J,Q,CAEjDrB,kBAAkB3kI,EAAG/zB,GACjB,MAAM8zB,EAAIzU,KAAK2Q,IAAI+D,EAAE51B,OAAQ6B,EAAE7B,QAC/B,IAAK,IAAIy0E,EAAI,EAAGA,EAAI9+C,EAAG8+C,IAAK,CACxB,MAAM2nF,EAAIxmI,EAAE7gB,IAAI0/D,GAAI10E,EAAI8B,EAAEkT,IAAI0/D,GAC9B,GAAI2nF,EAAIr8J,EAAG,OAAO,EAClB,GAAIq8J,EAAIr8J,EAAG,OAAO,C,CAEtB,OAAO61B,EAAE51B,OAAS6B,EAAE7B,QAAS,EAAK41B,EAAE51B,OAAS6B,EAAE7B,OAAS,EAAI,C,EAShE,MAAMq8J,WAAWZ,GACjB5nJ,UAAU+hB,EAAG/zB,EAAG8zB,GACZ,OAAO,IAAI0mI,GAAGzmI,EAAG/zB,EAAG8zB,E,CAExB2mI,kBAII,OAAOp2J,KAAKoD,UAAUd,KAAK,I,CAE/BT,WACI,OAAO7B,KAAKo2J,iB,CAMT/B,qBAAqB3kI,GAIxB,MAAM/zB,EAAI,GACV,IAAK,MAAM8zB,KAAKC,EAAG,CACf,GAAID,EAAEva,QAAQ,OAAS,EAAG,MAAM,IAAIw9I,GAAEf,GAAEG,iBAAkB,oBAAoBriI,0CAElE9zB,EAAEqG,QAAQytB,EAAE1kB,MAAM,KAAK6iD,QAAQl+B,GAAKA,EAAE51B,OAAS,I,CAE/D,OAAO,IAAIq8J,GAAGx6J,E,CAElB04J,mBACI,OAAO,IAAI8B,GAAG,G,EAItB,MAAME,GAAE,2BAKJ,MAAMC,WAAWf,GACjB5nJ,UAAU+hB,EAAG/zB,EAAG8zB,GACZ,OAAO,IAAI6mI,GAAG5mI,EAAG/zB,EAAG8zB,E,CAKjB4kI,yBAAyB3kI,GAC5B,OAAO2mI,GAAG5qJ,KAAKikB,E,CAEnB0mI,kBACI,OAAOp2J,KAAKoD,UAAUJ,KAAK0sB,IAAMA,EAAIA,EAAE/tB,QAAO,MAAQ,QAAQA,QAAO,KAAO,OAC5E20J,GAAGC,kBAAkB7mI,KAAOA,EAAI,IAAMA,EAAI,KAAMA,KAAKptB,KAAK,I,CAE9DT,WACI,OAAO7B,KAAKo2J,iB,CAITI,aACH,OAAO,IAAMx2J,KAAKlG,QAAU,aAAekG,KAAK6O,IAAI,E,CAIjDwlJ,kBACH,OAAO,IAAIiC,GAAG,CAAE,Y,CAWbjC,wBAAwB3kI,GAC3B,MAAM/zB,EAAI,GACV,IAAI8zB,EAAI,GAAI8+C,EAAI,EAChB,MAAM10E,EAAI,KACN,GAAI,IAAM41B,EAAE31B,OAAQ,MAAM,IAAI44J,GAAEf,GAAEG,iBAAkB,uBAAuBpiI,8EAC3E/zB,EAAEqG,KAAKytB,GAAIA,EAAI,EAAE,EAErB,IAAIwJ,GAAI,EACR,KAAMs1C,EAAI7+C,EAAE51B,QAAU,CAClB,MAAMujD,EAAI3tB,EAAE6+C,GACZ,GAAI,OAASlxB,EAAG,CACZ,GAAIkxB,EAAI,IAAM7+C,EAAE51B,OAAQ,MAAM,IAAI44J,GAAEf,GAAEG,iBAAkB,uCAAyCpiI,GACjG,MAAM+mI,EAAI/mI,EAAE6+C,EAAI,GAChB,GAAI,OAASkoF,GAAK,MAAQA,GAAK,MAAQA,EAAG,MAAM,IAAI/D,GAAEf,GAAEG,iBAAkB,qCAAuCpiI,GACjHD,GAAKgnI,EAAGloF,GAAK,C,KACV,MAAQlxB,GAAKpkB,GAAKA,EAAGs1C,KAAO,MAAQlxB,GAAKpkB,GAAKxJ,GAAK4tB,EAAGkxB,MAAQ10E,IAAK00E,I,CAE9E,GAAI10E,IAAKo/B,EAAG,MAAM,IAAIy5H,GAAEf,GAAEG,iBAAkB,2BAA6BpiI,GACzE,OAAO,IAAI4mI,GAAG36J,E,CAElB04J,mBACI,OAAO,IAAIiC,GAAG,G;;;;;;;;;;;;;;;;GAsBlB,MAAMI,GACNh2J,YAAYgvB,GACR1vB,KAAK6wI,KAAOnhH,C,CAEhB2kI,gBAAgB3kI,GACZ,OAAO,IAAIgnI,GAAGP,GAAGQ,WAAWjnI,G,CAEhC2kI,gBAAgB3kI,GACZ,OAAO,IAAIgnI,GAAGP,GAAGQ,WAAWjnI,GAAGimI,SAAS,G,CAE5CtB,eACI,OAAO,IAAIqC,GAAGP,GAAGS,Y,CAEjBC,sBACA,OAAO72J,KAAK6wI,KAAK+kB,UAAUE,a,CAE0CgB,gBAAgBpnI,GACrF,OAAO1vB,KAAK6wI,KAAK/2I,QAAU,GAAKkG,KAAK6wI,KAAKhiI,IAAI7O,KAAK6wI,KAAK/2I,OAAS,KAAO41B,C,CAEkBqnI,qBAC1F,OAAO/2J,KAAK6wI,KAAKhiI,IAAI7O,KAAK6wI,KAAK/2I,OAAS,E,CAEyBk9J,oBACjE,OAAOh3J,KAAK6wI,KAAK+kB,S,CAErBhF,QAAQlhI,GACJ,OAAO,OAASA,GAAK,IAAMymI,GAAGV,WAAWz1J,KAAK6wI,KAAMnhH,EAAEmhH,K,CAE1DhvI,WACI,OAAO7B,KAAK6wI,KAAKhvI,U,CAErBwyJ,kBAAkB3kI,EAAG/zB,GACjB,OAAOw6J,GAAGV,WAAW/lI,EAAEmhH,KAAMl1I,EAAEk1I,K,CAEnCwjB,qBAAqB3kI,GACjB,OAAOA,EAAE51B,OAAS,GAAK,C,CAOpBu6J,oBAAoB3kI,GACvB,OAAO,IAAIgnI,GAAG,IAAIP,GAAGzmI,EAAErkB,S;;;;;;;;;;;;;;;;GAmC/B,MAAM4rJ,GACFv2J,YAKAgvB,EAEA/zB,EAEA8zB,EAEA8+C,GACIvuE,KAAKk3J,QAAUxnI,EAAG1vB,KAAK62J,gBAAkBl7J,EAAGqE,KAAKm3J,OAAS1nI,EAAGzvB,KAAKo3J,WAAa7oF,C,EA+B9B0oF,GAAGI,YAAa,EAuCrE,SAASC,GAAG5nI,EAAG/zB,GAOf,MAAM8zB,EAAIC,EAAE4lI,cAAcb,QAASlmF,EAAI7+C,EAAE4lI,cAAcZ,YAAc,EAAG76J,EAAIq7J,GAAGqC,cAAc,MAAQhpF,EAAI,IAAIimF,GAAG/kI,EAAI,EAAG,GAAK,IAAI+kI,GAAG/kI,EAAG8+C,IACtI,OAAO,IAAIipF,GAAG39J,EAAG68J,GAAGe,QAAS97J,E,CAG2B,SAAS+7J,GAAGhoI,GACpE,OAAO,IAAI8nI,GAAG9nI,EAAEioI,SAAUjoI,EAAEz0B,KAAK,E,CAMjC,MAAMu8J,GACN92J,YAKAgvB,EAKA/zB,EAIA8zB,GACIzvB,KAAK23J,SAAWjoI,EAAG1vB,KAAK43J,YAAcj8J,EAAGqE,KAAK63J,eAAiBpoI,C,CAEA4kI,aAC/D,OAAO,IAAImD,GAAGtC,GAAGvpI,MAAO+qI,GAAGe,SAAS,E,CAE0BpD,aAC9D,OAAO,IAAImD,GAAGtC,GAAG7yF,MAAOq0F,GAAGe,SAAS,E,EAI5C,SAASK,GAAGpoI,EAAG/zB,GACX,IAAI8zB,EAAIC,EAAEioI,SAASvC,UAAUz5J,EAAEg8J,UAC/B,OAAO,IAAMloI,EAAIA,GAAKA,EAAIinI,GAAGjB,WAAW/lI,EAAEkoI,YAAaj8J,EAAEi8J,aAAc,IAAMnoI,EAAIA,EAAI6kI,GAAE5kI,EAAEmoI,eAAgBl8J,EAAEk8J,gB;;;;;;;;;;;;;;;;GAkB3G,MAAME,GAAK,4HASX,MAAMC,GACNt3J,cACIV,KAAKi4J,qBAAuB,E,CAEhCC,uBAAuBxoI,GACnB1vB,KAAKi4J,qBAAqBj2J,KAAK0tB,E,CAEnCyoI,wBACIn4J,KAAKi4J,qBAAqBh1J,SAASysB,GAAKA,K;;;;;;;;;;;;;;;;GA6B5CsoE,eAAeogE,GAAG1oI,GAClB,GAAIA,EAAEvK,OAASwsI,GAAES,qBAAuB1iI,EAAEwR,UAAY62H,GAAI,MAAMroI,EAChE0hI,GAAE,aAAc,kC;;;;;;;;;;;;;;;;GA+BhB,MAAMiH,GACN33J,YAAYgvB,GAGR1vB,KAAKs4J,aAAe,KAAMt4J,KAAKu4J,cAAgB,KAE/Cv4J,KAAK6/C,YAAS,EAAQ7/C,KAAKuhC,WAAQ,EAAQvhC,KAAKw4J,QAAS,EAGzDx4J,KAAKy4J,kBAAmB,EAAI/oI,GAAGA,IAC3B1vB,KAAKw4J,QAAS,EAAIx4J,KAAK6/C,OAASnwB,EAAG1vB,KAAKs4J,cAGxCt4J,KAAKs4J,aAAa5oI,EAAE,IACnBA,IACD1vB,KAAKw4J,QAAS,EAAIx4J,KAAKuhC,MAAQ7R,EAAG1vB,KAAKu4J,eAAiBv4J,KAAKu4J,cAAc7oI,EAAE,G,CAGrFmC,MAAMnC,GACF,OAAO1vB,KAAKkC,UAAK,EAAQwtB,E,CAE7BxtB,KAAKwtB,EAAG/zB,GACJ,OAAOqE,KAAKy4J,kBAAoBjH,KAAKxxJ,KAAKy4J,kBAAmB,EAAIz4J,KAAKw4J,OAASx4J,KAAKuhC,MAAQvhC,KAAK04J,YAAY/8J,EAAGqE,KAAKuhC,OAASvhC,KAAK24J,YAAYjpI,EAAG1vB,KAAK6/C,QAAU,IAAIw4G,IAAI,CAAC5oI,EAAG8+C,KACzKvuE,KAAKs4J,aAAe38J,IAChBqE,KAAK24J,YAAYjpI,EAAG/zB,GAAGuG,KAAKutB,EAAG8+C,EAAE,EAClCvuE,KAAKu4J,cAAgB7oI,IACpB1vB,KAAK04J,YAAY/8J,EAAG+zB,GAAGxtB,KAAKutB,EAAG8+C,EAAE,CACpC,G,CAGTqqF,YACI,OAAO,IAAIlnI,SAAS,CAAChC,EAAG/zB,KACpBqE,KAAKkC,KAAKwtB,EAAG/zB,EAAE,G,CAGvBk9J,iBAAiBnpI,GACb,IACI,MAAM/zB,EAAI+zB,IACV,OAAO/zB,aAAa08J,GAAK18J,EAAI08J,GAAG/vJ,QAAQ3M,E,CAC1C,MAAO8sC,GACL,OAAO4vH,GAAGpqE,OAAOxlD,E,EAGzBkwH,YAAYjpI,EAAG/zB,GACX,OAAO+zB,EAAI1vB,KAAK64J,kBAAkB,IAAMnpI,EAAE/zB,KAAO08J,GAAG/vJ,QAAQ3M,E,CAEhE+8J,YAAYhpI,EAAG/zB,GACX,OAAO+zB,EAAI1vB,KAAK64J,kBAAkB,IAAMnpI,EAAE/zB,KAAO08J,GAAGpqE,OAAOtyF,E,CAE/D04J,eAAe3kI,GACX,OAAO,IAAI2oI,IAAI,CAAC18J,EAAG8zB,KACf9zB,EAAE+zB,EAAE,G,CAGZ2kI,cAAc3kI,GACV,OAAO,IAAI2oI,IAAI,CAAC18J,EAAG8zB,KACfA,EAAEC,EAAE,G,CAGZ2kI,eAGA3kI,GACI,OAAO,IAAI2oI,IAAI,CAAC18J,EAAG8zB,KACf,IAAI8+C,EAAI,EAAG10E,EAAI,EAAGo/B,GAAI,EACtBvJ,EAAEzsB,SAASysB,MACL6+C,EAAG7+C,EAAExtB,MAAM,OACPrI,EAAGo/B,GAAKp/B,IAAM00E,GAAK5yE,GAAG,IACvB+zB,GAAKD,EAAEC,IAAI,IACfuJ,GAAI,EAAIp/B,IAAM00E,GAAK5yE,GAAG,G,CAQ5B04J,UAAU3kI,GACb,IAAI/zB,EAAI08J,GAAG/vJ,SAAQ,GACnB,IAAK,MAAMmnB,KAAKC,EAAG/zB,EAAIA,EAAEuG,MAAMwtB,GAAKA,EAAI2oI,GAAG/vJ,QAAQonB,GAAKD,MACxD,OAAO9zB,C,CAEX04J,eAAe3kI,EAAG/zB,GACd,MAAM8zB,EAAI,GACV,OAAOC,EAAEzsB,SAAS,CAACysB,EAAG6+C,KAClB9+C,EAAEztB,KAAKrG,EAAEE,KAAKmE,KAAM0vB,EAAG6+C,GAAG,IACzBvuE,KAAK84J,QAAQrpI,E,CAIf4kI,gBAAgB3kI,EAAG/zB,GACtB,OAAO,IAAI08J,IAAI,CAAC5oI,EAAG8+C,KACf,MAAM10E,EAAI61B,EAAE51B,OAAQm/B,EAAI,IAAIp4B,MAAMhH,GAClC,IAAIu4D,EAAI,EACR,IAAK,IAAIjqD,EAAI,EAAGA,EAAItO,EAAGsO,IAAK,CACxB,MAAM7M,EAAI6M,EACVxM,EAAE+zB,EAAEp0B,IAAI4G,MAAMwtB,IACVuJ,EAAE39B,GAAKo0B,IAAK0iC,EAAGA,IAAMv4D,GAAK41B,EAAEwJ,EAAE,IAC7BvJ,GAAK6+C,EAAE7+C,I,KASjB2kI,eAAe3kI,EAAG/zB,GACrB,OAAO,IAAI08J,IAAI,CAAC5oI,EAAG8+C,KACf,MAAM10E,EAAI,MACN,IAAO61B,IAAM/zB,IAAIuG,MAAM,KACnBrI,GAAG,GACH00E,GAAK9+C,GAAG,EAEhB51B,GAAG,G;;;;;;;;;;;;;;;;GA+P8C,SAASk/J,GAAGrpI,GAGrE,MAAO,8BAAgCA,EAAExhB,I;;;;;;;;;;;;;;;;;AAgSzC,MAAM8qJ,GACNt4J,YAAYgvB,EAAG/zB,GACXqE,KAAKi5J,cAAgBvpI,EAAG/zB,IAAMA,EAAEu9J,sBAAwBxpI,GAAK1vB,KAAKm5J,GAAGzpI,GAAI1vB,KAAKo5J,GAAK1pI,GAAK/zB,EAAE09J,oBAAoB3pI,G,CAElHypI,GAAGzpI,GACC,OAAO1vB,KAAKi5J,cAAgBj+I,KAAKqnD,IAAI3yC,EAAG1vB,KAAKi5J,eAAgBj5J,KAAKi5J,a,CAEtE/2J,OACI,MAAMwtB,IAAM1vB,KAAKi5J,cACjB,OAAOj5J,KAAKo5J,IAAMp5J,KAAKo5J,GAAG1pI,GAAIA,C;;;;;;;;;;;;;;;;GAoBtC,SAAS4pI,GAAG5pI,GACR,IAAI/zB,EAAI,EACR,IAAK,MAAM8zB,KAAKC,EAAG91B,OAAOc,UAAUC,eAAekB,KAAK6zB,EAAGD,IAAM9zB,IACjE,OAAOA,C,CAGX,SAAS49J,GAAG7pI,EAAG/zB,GACX,IAAK,MAAM8zB,KAAKC,EAAG91B,OAAOc,UAAUC,eAAekB,KAAK6zB,EAAGD,IAAM9zB,EAAE8zB,EAAGC,EAAED,G,CAG5E,SAAS+pI,GAAG9pI,GACR,IAAK,MAAM/zB,KAAK+zB,EAAG,GAAI91B,OAAOc,UAAUC,eAAekB,KAAK6zB,EAAG/zB,GAAI,OAAO,EAC1E,OAAO,C;;;;;;;;;;;;;;;;GAqBXq9J,GAAGlwG,IAAK,EAER,MAAM2wG,GACF/4J,YAAYgvB,EAAG/zB,GACXqE,KAAKy1J,WAAa/lI,EAAG1vB,KAAK07E,KAAO//E,GAAK+9J,GAAGC,K,CAG7CC,OAAOlqI,EAAG/zB,GACN,OAAO,IAAI89J,GAAGz5J,KAAKy1J,WAAYz1J,KAAK07E,KAAKk+E,OAAOlqI,EAAG/zB,EAAGqE,KAAKy1J,YAAYoE,KAAK,KAAM,KAAMH,GAAGI,MAAO,KAAM,M,CAG5GzwE,OAAO35D,GACH,OAAO,IAAI+pI,GAAGz5J,KAAKy1J,WAAYz1J,KAAK07E,KAAK2N,OAAO35D,EAAG1vB,KAAKy1J,YAAYoE,KAAK,KAAM,KAAMH,GAAGI,MAAO,KAAM,M,CAGzGjrJ,IAAI6gB,GACA,IAAI/zB,EAAIqE,KAAK07E,KACb,MAAO//E,EAAEo6J,WAAa,CAClB,MAAMtmI,EAAIzvB,KAAKy1J,WAAW/lI,EAAG/zB,EAAEV,KAC/B,GAAI,IAAMw0B,EAAG,OAAO9zB,EAAEyG,MACtBqtB,EAAI,EAAI9zB,EAAIA,EAAE+wB,KAAO+C,EAAI,IAAM9zB,EAAIA,EAAE0yE,M,CAEzC,OAAO,I,CAIXn5D,QAAQwa,GAEJ,IAAI/zB,EAAI,EAAG8zB,EAAIzvB,KAAK07E,KACpB,MAAOjsD,EAAEsmI,WAAa,CAClB,MAAMxnF,EAAIvuE,KAAKy1J,WAAW/lI,EAAGD,EAAEx0B,KAC/B,GAAI,IAAMszE,EAAG,OAAO5yE,EAAI8zB,EAAE/C,KAAKwZ,KAC/BqoC,EAAI,EAAI9+C,EAAIA,EAAE/C,MAEd/wB,GAAK8zB,EAAE/C,KAAKwZ,KAAO,EAAGzW,EAAIA,EAAE4+C,M,CAGxB,OAAO,C,CAEnB0nF,UACI,OAAO/1J,KAAK07E,KAAKq6E,S,CAGjB7vH,WACA,OAAOlmC,KAAK07E,KAAKx1C,I,CAGrB6zH,SACI,OAAO/5J,KAAK07E,KAAKq+E,Q,CAGrBC,SACI,OAAOh6J,KAAK07E,KAAKs+E,Q,CAMrBC,iBAAiBvqI,GACb,OAAO1vB,KAAK07E,KAAKu+E,iBAAiBvqI,E,CAEtCzsB,QAAQysB,GACJ1vB,KAAKi6J,kBAAkB,CAACt+J,EAAG8zB,KAAOC,EAAE/zB,EAAG8zB,IAAI,I,CAE/C5tB,WACI,MAAM6tB,EAAI,GACV,OAAO1vB,KAAKi6J,kBAAkB,CAACt+J,EAAG8zB,KAAOC,EAAE1tB,KAAK,GAAGrG,KAAK8zB,MAAM,KAAO,IAAIC,EAAEptB,KAAK,Q,CAOpF43J,iBAAiBxqI,GACb,OAAO1vB,KAAK07E,KAAKw+E,iBAAiBxqI,E,CAGtCyqI,cACI,OAAO,IAAIC,GAAGp6J,KAAK07E,KAAM,KAAM17E,KAAKy1J,YAAY,E,CAEpD4E,gBAAgB3qI,GACZ,OAAO,IAAI0qI,GAAGp6J,KAAK07E,KAAMhsD,EAAG1vB,KAAKy1J,YAAY,E,CAEjD6E,qBACI,OAAO,IAAIF,GAAGp6J,KAAK07E,KAAM,KAAM17E,KAAKy1J,YAAY,E,CAEpD8E,uBAAuB7qI,GACnB,OAAO,IAAI0qI,GAAGp6J,KAAK07E,KAAMhsD,EAAG1vB,KAAKy1J,YAAY,E,EAMrD,MAAM2E,GACF15J,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKw6J,UAAYjsF,EAAGvuE,KAAKy6J,UAAY,GACrC,IAAI5gK,EAAI,EACR,MAAO61B,EAAEqmI,WAAa,GAAIl8J,EAAI8B,EAAI8zB,EAAEC,EAAEz0B,IAAKU,GAAK,EAEhDA,GAAK4yE,IAAM10E,IAAK,GAAKA,EAAI,EAEzB61B,EAAI1vB,KAAKw6J,UAAY9qI,EAAEhD,KAAOgD,EAAE2+C,UAAY,CACxC,GAAI,IAAMx0E,EAAG,CAGTmG,KAAKy6J,UAAUz4J,KAAK0tB,GACpB,K,CAIJ1vB,KAAKy6J,UAAUz4J,KAAK0tB,GAAIA,EAAI1vB,KAAKw6J,UAAY9qI,EAAE2+C,MAAQ3+C,EAAEhD,I,EAGjEguI,UACI,IAAIhrI,EAAI1vB,KAAKy6J,UAAU/mH,MACvB,MAAM/3C,EAAI,CACNV,IAAKy0B,EAAEz0B,IACPmH,MAAOstB,EAAEttB,OAEb,GAAIpC,KAAKw6J,UAAW,IAAK9qI,EAAIA,EAAEhD,MAAOgD,EAAEqmI,WAAa/1J,KAAKy6J,UAAUz4J,KAAK0tB,GAAIA,EAAIA,EAAE2+C,WAAY,IAAK3+C,EAAIA,EAAE2+C,OAAQ3+C,EAAEqmI,WAAa/1J,KAAKy6J,UAAUz4J,KAAK0tB,GACrJA,EAAIA,EAAEhD,KACN,OAAO/wB,C,CAEXg/J,UACI,OAAO36J,KAAKy6J,UAAU3gK,OAAS,C,CAEnC8gK,OACI,GAAI,IAAM56J,KAAKy6J,UAAU3gK,OAAQ,OAAO,KACxC,MAAM41B,EAAI1vB,KAAKy6J,UAAUz6J,KAAKy6J,UAAU3gK,OAAS,GACjD,MAAO,CACHmB,IAAKy0B,EAAEz0B,IACPmH,MAAOstB,EAAEttB,M,EAOrB,MAAMs3J,GACFh5J,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACpBmG,KAAK/E,IAAMy0B,EAAG1vB,KAAKoC,MAAQzG,EAAGqE,KAAK6nB,MAAQ,MAAQ4H,EAAIA,EAAIiqI,GAAGmB,IAAK76J,KAAK0sB,KAAO,MAAQ6hD,EAAIA,EAAImrF,GAAGC,MAClG35J,KAAKquE,MAAQ,MAAQx0E,EAAIA,EAAI6/J,GAAGC,MAAO35J,KAAKkmC,KAAOlmC,KAAK0sB,KAAKwZ,KAAO,EAAIlmC,KAAKquE,MAAMnoC,I,CAGvF2zH,KAAKnqI,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACb,OAAO,IAAI6/J,GAAG,MAAQhqI,EAAIA,EAAI1vB,KAAK/E,IAAK,MAAQU,EAAIA,EAAIqE,KAAKoC,MAAO,MAAQqtB,EAAIA,EAAIzvB,KAAK6nB,MAAO,MAAQ0mD,EAAIA,EAAIvuE,KAAK0sB,KAAM,MAAQ7yB,EAAIA,EAAImG,KAAKquE,M,CAEpJ0nF,UACI,OAAO,C,CAMXkE,iBAAiBvqI,GACb,OAAO1vB,KAAK0sB,KAAKutI,iBAAiBvqI,IAAMA,EAAE1vB,KAAK/E,IAAK+E,KAAKoC,QAAUpC,KAAKquE,MAAM4rF,iBAAiBvqI,E,CAMnGwqI,iBAAiBxqI,GACb,OAAO1vB,KAAKquE,MAAM6rF,iBAAiBxqI,IAAMA,EAAE1vB,KAAK/E,IAAK+E,KAAKoC,QAAUpC,KAAK0sB,KAAKwtI,iBAAiBxqI,E,CAGnG/D,MACI,OAAO3rB,KAAK0sB,KAAKqpI,UAAY/1J,KAAOA,KAAK0sB,KAAKf,K,CAGlDouI,SACI,OAAO/5J,KAAK2rB,MAAM1wB,G,CAGtB++J,SACI,OAAOh6J,KAAKquE,MAAM0nF,UAAY/1J,KAAK/E,IAAM+E,KAAKquE,MAAM2rF,Q,CAGxDJ,OAAOlqI,EAAG/zB,EAAG8zB,GACT,IAAI8+C,EAAIvuE,KACR,MAAMnG,EAAI41B,EAAEC,EAAG6+C,EAAEtzE,KACjB,OAAOszE,EAAI10E,EAAI,EAAI00E,EAAEsrF,KAAK,KAAM,KAAM,KAAMtrF,EAAE7hD,KAAKktI,OAAOlqI,EAAG/zB,EAAG8zB,GAAI,MAAQ,IAAM51B,EAAI00E,EAAEsrF,KAAK,KAAMl+J,EAAG,KAAM,KAAM,MAAQ4yE,EAAEsrF,KAAK,KAAM,KAAM,KAAM,KAAMtrF,EAAEF,MAAMurF,OAAOlqI,EAAG/zB,EAAG8zB,IAC9K8+C,EAAEusF,O,CAENC,YACI,GAAI/6J,KAAK0sB,KAAKqpI,UAAW,OAAO2D,GAAGC,MACnC,IAAIjqI,EAAI1vB,KACR,OAAO0vB,EAAEhD,KAAKsuI,SAAWtrI,EAAEhD,KAAKA,KAAKsuI,UAAYtrI,EAAIA,EAAEurI,eAAgBvrI,EAAIA,EAAEmqI,KAAK,KAAM,KAAM,KAAMnqI,EAAEhD,KAAKquI,YAAa,MACxHrrI,EAAEorI,O,CAGNzxE,OAAO35D,EAAG/zB,GACN,IAAI8zB,EAAG8+C,EAAIvuE,KACX,GAAIrE,EAAE+zB,EAAG6+C,EAAEtzE,KAAO,EAAGszE,EAAE7hD,KAAKqpI,WAAaxnF,EAAE7hD,KAAKsuI,SAAWzsF,EAAE7hD,KAAKA,KAAKsuI,UAAYzsF,EAAIA,EAAE0sF,eACzF1sF,EAAIA,EAAEsrF,KAAK,KAAM,KAAM,KAAMtrF,EAAE7hD,KAAK28D,OAAO35D,EAAG/zB,GAAI,UAAY,CAC1D,GAAI4yE,EAAE7hD,KAAKsuI,UAAYzsF,EAAIA,EAAE2sF,eAAgB3sF,EAAEF,MAAM0nF,WAAaxnF,EAAEF,MAAM2sF,SAAWzsF,EAAEF,MAAM3hD,KAAKsuI,UAAYzsF,EAAIA,EAAE4sF,gBACpH,IAAMx/J,EAAE+zB,EAAG6+C,EAAEtzE,KAAM,CACf,GAAIszE,EAAEF,MAAM0nF,UAAW,OAAO2D,GAAGC,MACjClqI,EAAI8+C,EAAEF,MAAM1iD,MAAO4iD,EAAIA,EAAEsrF,KAAKpqI,EAAEx0B,IAAKw0B,EAAErtB,MAAO,KAAM,KAAMmsE,EAAEF,MAAM0sF,Y,CAEtExsF,EAAIA,EAAEsrF,KAAK,KAAM,KAAM,KAAM,KAAMtrF,EAAEF,MAAMgb,OAAO35D,EAAG/zB,G,CAEzD,OAAO4yE,EAAEusF,O,CAEbE,QACI,OAAOh7J,KAAK6nB,K,CAGhBizI,QACI,IAAIprI,EAAI1vB,KACR,OAAO0vB,EAAE2+C,MAAM2sF,UAAYtrI,EAAEhD,KAAKsuI,UAAYtrI,EAAIA,EAAE0rI,cAAe1rI,EAAEhD,KAAKsuI,SAAWtrI,EAAEhD,KAAKA,KAAKsuI,UAAYtrI,EAAIA,EAAEwrI,eACnHxrI,EAAEhD,KAAKsuI,SAAWtrI,EAAE2+C,MAAM2sF,UAAYtrI,EAAIA,EAAE2rI,aAAc3rI,C,CAE9DurI,cACI,IAAIvrI,EAAI1vB,KAAKq7J,YACb,OAAO3rI,EAAE2+C,MAAM3hD,KAAKsuI,UAAYtrI,EAAIA,EAAEmqI,KAAK,KAAM,KAAM,KAAM,KAAMnqI,EAAE2+C,MAAM6sF,eAC3ExrI,EAAIA,EAAE0rI,aAAc1rI,EAAIA,EAAE2rI,aAAc3rI,C,CAE5CyrI,eACI,IAAIzrI,EAAI1vB,KAAKq7J,YACb,OAAO3rI,EAAEhD,KAAKA,KAAKsuI,UAAYtrI,EAAIA,EAAEwrI,cAAexrI,EAAIA,EAAE2rI,aAAc3rI,C,CAE5E0rI,aACI,MAAM1rI,EAAI1vB,KAAK65J,KAAK,KAAM,KAAMH,GAAGmB,IAAK,KAAM76J,KAAKquE,MAAM3hD,MACzD,OAAO1sB,KAAKquE,MAAMwrF,KAAK,KAAM,KAAM75J,KAAK6nB,MAAO6H,EAAG,K,CAEtDwrI,cACI,MAAMxrI,EAAI1vB,KAAK65J,KAAK,KAAM,KAAMH,GAAGmB,IAAK76J,KAAK0sB,KAAK2hD,MAAO,MACzD,OAAOruE,KAAK0sB,KAAKmtI,KAAK,KAAM,KAAM75J,KAAK6nB,MAAO,KAAM6H,E,CAExD2rI,YACI,MAAM3rI,EAAI1vB,KAAK0sB,KAAKmtI,KAAK,KAAM,MAAO75J,KAAK0sB,KAAK7E,MAAO,KAAM,MAAOlsB,EAAIqE,KAAKquE,MAAMwrF,KAAK,KAAM,MAAO75J,KAAKquE,MAAMxmD,MAAO,KAAM,MAC7H,OAAO7nB,KAAK65J,KAAK,KAAM,MAAO75J,KAAK6nB,MAAO6H,EAAG/zB,E,CAGjD2/J,gBACI,MAAM5rI,EAAI1vB,KAAKu7J,QACf,OAAOvgJ,KAAKwgJ,IAAI,EAAG9rI,IAAM1vB,KAAKkmC,KAAO,C,CAIzCq1H,QACI,GAAIv7J,KAAKg7J,SAAWh7J,KAAK0sB,KAAKsuI,QAAS,MAAMxJ,KAC7C,GAAIxxJ,KAAKquE,MAAM2sF,QAAS,MAAMxJ,KAC9B,MAAM9hI,EAAI1vB,KAAK0sB,KAAK6uI,QACpB,GAAI7rI,IAAM1vB,KAAKquE,MAAMktF,QAAS,MAAM/J,KACpC,OAAO9hI,GAAK1vB,KAAKg7J,QAAU,EAAI,E,EAOvCtB,GAAGC,MAAQ,KAAMD,GAAGmB,KAAM,EAAInB,GAAGI,OAAQ,EAGzCJ,GAAGC,MAAQ,IAEX,MACIj5J,cACIV,KAAKkmC,KAAO,C,CAEZjrC,UACA,MAAMu2J,I,CAENpvJ,YACA,MAAMovJ,I,CAEN3pI,YACA,MAAM2pI,I,CAEN9kI,WACA,MAAM8kI,I,CAENnjF,YACA,MAAMmjF,I,CAGVqI,KAAKnqI,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACb,OAAOmG,I,CAGX45J,OAAOlqI,EAAG/zB,EAAG8zB,GACT,OAAO,IAAIiqI,GAAGhqI,EAAG/zB,E,CAGrB0tF,OAAO35D,EAAG/zB,GACN,OAAOqE,I,CAEX+1J,UACI,OAAO,C,CAEXkE,iBAAiBvqI,GACb,OAAO,C,CAEXwqI,iBAAiBxqI,GACb,OAAO,C,CAEXqqI,SACI,OAAO,I,CAEXC,SACI,OAAO,I,CAEXgB,QACI,OAAO,C,CAGXM,gBACI,OAAO,C,CAEXC,QACI,OAAO,C;;;;;;;;;;;;;;;;;AA2Bf,MAAME,GACF/6J,YAAYgvB,GACR1vB,KAAKy1J,WAAa/lI,EAAG1vB,KAAK4jB,KAAO,IAAI61I,GAAGz5J,KAAKy1J,W,CAEjDxmI,IAAIS,GACA,OAAO,OAAS1vB,KAAK4jB,KAAK/U,IAAI6gB,E,CAElCgsI,QACI,OAAO17J,KAAK4jB,KAAKm2I,Q,CAErB10H,OACI,OAAOrlC,KAAK4jB,KAAKo2I,Q,CAEjB9zH,WACA,OAAOlmC,KAAK4jB,KAAKsiB,I,CAErBhxB,QAAQwa,GACJ,OAAO1vB,KAAK4jB,KAAK1O,QAAQwa,E,CAEgCzsB,QAAQysB,GACjE1vB,KAAK4jB,KAAKq2I,kBAAkB,CAACt+J,EAAG8zB,KAAOC,EAAE/zB,IAAI,I,CAE6BggK,eAAejsI,EAAG/zB,GAC5F,MAAM8zB,EAAIzvB,KAAK4jB,KAAKy2I,gBAAgB3qI,EAAE,IACtC,KAAMD,EAAEkrI,WAAa,CACjB,MAAMpsF,EAAI9+C,EAAEirI,UACZ,GAAI16J,KAAKy1J,WAAWlnF,EAAEtzE,IAAKy0B,EAAE,KAAO,EAAG,OACvC/zB,EAAE4yE,EAAEtzE,I,EAKL2gK,aAAalsI,EAAG/zB,GACnB,IAAI8zB,EACJ,IAAKA,OAAI,IAAW9zB,EAAIqE,KAAK4jB,KAAKy2I,gBAAgB1+J,GAAKqE,KAAK4jB,KAAKu2I,cAAe1qI,EAAEkrI,WAC9E,IAAKjrI,EAAED,EAAEirI,UAAUz/J,KAAM,M,CAGkC4gK,kBAAkBnsI,GACjF,MAAM/zB,EAAIqE,KAAK4jB,KAAKy2I,gBAAgB3qI,GACpC,OAAO/zB,EAAEg/J,UAAYh/J,EAAE++J,UAAUz/J,IAAM,I,CAE3Ck/J,cACI,OAAO,IAAI2B,GAAG97J,KAAK4jB,KAAKu2I,c,CAE5BE,gBAAgB3qI,GACZ,OAAO,IAAIosI,GAAG97J,KAAK4jB,KAAKy2I,gBAAgB3qI,G,CAEJ7lB,IAAI6lB,GACxC,OAAO1vB,KAAK65J,KAAK75J,KAAK4jB,KAAKylE,OAAO35D,GAAGkqI,OAAOlqI,GAAG,G,CAEtBlS,OAAOkS,GAChC,OAAO1vB,KAAKivB,IAAIS,GAAK1vB,KAAK65J,KAAK75J,KAAK4jB,KAAKylE,OAAO35D,IAAM1vB,I,CAE1D+1J,UACI,OAAO/1J,KAAK4jB,KAAKmyI,S,CAErBgG,UAAUrsI,GACN,IAAI/zB,EAAIqE,KAEA,OAAOrE,EAAEuqC,KAAOxW,EAAEwW,OAASvqC,EAAI+zB,EAAGA,EAAI1vB,MAAO0vB,EAAEzsB,SAASysB,IAC5D/zB,EAAIA,EAAEkO,IAAI6lB,EAAE,IACX/zB,C,CAETi1J,QAAQlhI,GACJ,KAAMA,aAAa+rI,IAAK,OAAO,EAC/B,GAAIz7J,KAAKkmC,OAASxW,EAAEwW,KAAM,OAAO,EACjC,MAAMvqC,EAAIqE,KAAK4jB,KAAKu2I,cAAe1qI,EAAIC,EAAE9L,KAAKu2I,cAC9C,KAAMx+J,EAAEg/J,WAAa,CACjB,MAAMlyH,EAAI9sC,EAAE++J,UAAUz/J,IAAKszE,EAAI9+C,EAAEirI,UAAUz/J,IAC3C,GAAI,IAAM+E,KAAKy1J,WAAWhtH,EAAG8lC,GAAI,OAAO,C,CAE5C,OAAO,C,CAEXnrE,UACI,MAAMssB,EAAI,GACV,OAAO1vB,KAAKiD,SAAStH,IACjB+zB,EAAE1tB,KAAKrG,EAAE,IACR+zB,C,CAET7tB,WACI,MAAM6tB,EAAI,GACV,OAAO1vB,KAAKiD,SAAStH,GAAK+zB,EAAE1tB,KAAKrG,KAAM,aAAe+zB,EAAE7tB,WAAa,G,CAEzEg4J,KAAKnqI,GACD,MAAM/zB,EAAI,IAAI8/J,GAAGz7J,KAAKy1J,YACtB,OAAO95J,EAAEioB,KAAO8L,EAAG/zB,C,EAI3B,MAAMmgK,GACFp7J,YAAYgvB,GACR1vB,KAAKk6I,KAAOxqH,C,CAEhBgrI,UACI,OAAO16J,KAAKk6I,KAAKwgB,UAAUz/J,G,CAE/B0/J,UACI,OAAO36J,KAAKk6I,KAAKygB,S;;;;;;;;;;;;;;;;;AAqDrB,MAAMqB,GACNt7J,YAAYgvB,GACR1vB,KAAKm3J,OAASznI,EAGdA,EAAE+tE,KAAK64D,GAAGb,W,CAEdpB,eACI,OAAO,IAAI2H,GAAG,G,CAKXD,UAAUrsI,GACb,IAAI/zB,EAAI,IAAI8/J,GAAGnF,GAAGb,YAClB,IAAK,MAAMhtH,KAAKzoC,KAAKm3J,OAAQx7J,EAAIA,EAAEkO,IAAI4+B,GACvC,IAAK,MAAMhZ,KAAKC,EAAG/zB,EAAIA,EAAEkO,IAAI4lB,GAC7B,OAAO,IAAIusI,GAAGrgK,EAAEyH,U,CAOb64J,OAAOvsI,GACV,IAAK,MAAM/zB,KAAKqE,KAAKm3J,OAAQ,GAAIx7J,EAAEq6J,WAAWtmI,GAAI,OAAO,EACzD,OAAO,C,CAEXkhI,QAAQlhI,GACJ,OAAO6kI,GAAEv0J,KAAKm3J,OAAQznI,EAAEynI,QAAS,CAACznI,EAAG/zB,IAAM+zB,EAAEkhI,QAAQj1J,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDzD,MAAMugK,GACNx7J,YAAYgvB,GACR1vB,KAAKm8J,aAAezsI,C,CAExB2kI,wBAAwB3kI,GACpB,MAAM/zB,EAAIozG,KAAKr/E,GACf,OAAO,IAAIwsI,GAAGvgK,E,CAElB04J,sBAAsB3kI,GAGlB,MAAM/zB,EAIN,SAAS+zB,GACL,IAAI/zB,EAAI,GACR,IAAK,IAAI8zB,EAAI,EAAGA,EAAIC,EAAE51B,SAAU21B,EAAG9zB,GAAK0G,OAAO6iB,aAAawK,EAAED,IAC9D,OAAO9zB,C,CAHX,CAOH+zB,GACG,OAAO,IAAIwsI,GAAGvgK,E,CAElB,CAACrB,OAAOgF,YACJ,IAAIowB,EAAI,EACR,MAAO,CACHxtB,KAAM,IAAMwtB,EAAI1vB,KAAKm8J,aAAariK,OAAS,CACvCsI,MAAOpC,KAAKm8J,aAAalkH,WAAWvoB,KACpCvtB,MAAM,GACN,CACAC,WAAO,EACPD,MAAM,G,CAIlBi6J,W,IAGQ1sI,EAFJ,OAAOA,EAAI1vB,KAAKm8J,aAAclsD,KAAKvgF,E,CAIvC2sI,eACI,OAAO,SAAS3sI,GACZ,MAAM/zB,EAAI,IAAI0iH,WAAW3uF,EAAE51B,QAC3B,IAAK,IAAI21B,EAAI,EAAGA,EAAIC,EAAE51B,OAAQ21B,IAAK9zB,EAAE8zB,GAAKC,EAAEuoB,WAAWxoB,GACvD,OAAO9zB,C,CAHJ,CAsBNqE,KAAKm8J,a,CAEVG,sBACI,OAAO,EAAIt8J,KAAKm8J,aAAariK,M,CAEjCs7J,UAAU1lI,GACN,OAAO4kI,GAAEt0J,KAAKm8J,aAAczsI,EAAEysI,a,CAElCvL,QAAQlhI,GACJ,OAAO1vB,KAAKm8J,eAAiBzsI,EAAEysI,Y,EAIvCD,GAAGK,kBAAoB,IAAIL,GAAG,IAE9B,MAAMM,GAAK,IAAIh6G,OAAM,iDAKjB,SAASi6G,GAAG/sI,GAIZ,GAAI+hI,KAAI/hI,GAAI,iBAAmBA,EAAG,CAI9B,IAAI/zB,EAAI,EACR,MAAM8zB,EAAI+sI,GAAG38F,KAAKnwC,GAClB,GAAI+hI,KAAIhiI,GAAIA,EAAE,GAAI,CAEd,IAAIgZ,EAAIhZ,EAAE,GACVgZ,GAAKA,EAAI,aAAai2E,OAAO,EAAG,GAAI/iH,EAAIq0F,OAAOvnD,E,CAG3C,MAAM8lC,EAAI,IAAIntD,KAAKsO,GAC3B,MAAO,CACH+kI,QAASz5I,KAAKu7B,MAAMg4B,EAAEqmF,UAAY,KAClC8H,MAAO/gK,E,CAGf,MAAO,CACH84J,QAASkI,GAAGjtI,EAAE+kI,SACdiI,MAAOC,GAAGjtI,EAAEgtI,O,CAOhB,SAASC,GAAGjtI,GAEZ,MAAO,iBAAmBA,EAAIA,EAAI,iBAAmBA,EAAIsgE,OAAOtgE,GAAK,C,CAGH,SAASktI,GAAGltI,GAC9E,MAAO,iBAAmBA,EAAIwsI,GAAGW,iBAAiBntI,GAAKwsI,GAAGY,eAAeptI,E;;;;;;;;;;;;;;;;GAoCzE,SAASqtI,GAAGrtI,GACZ,IAAI/zB,EAAG8zB,EACP,MAAO,sBAAwB,QAAUA,IAAM,QAAU9zB,EAAI,MAAQ+zB,OAAI,EAASA,EAAEstI,gBAAa,IAAWrhK,OAAI,EAASA,EAAEw7J,SAAW,IAAI8F,gBAAa,IAAWxtI,OAAI,EAASA,EAAEytI,Y,CAYrL,SAASC,GAAGztI,GACR,MAAM/zB,EAAI+zB,EAAEstI,SAAS7F,OAAOiG,mBAC5B,OAAOL,GAAGphK,GAAKwhK,GAAGxhK,GAAKA,C,CAKvB,SAAS0hK,GAAG3tI,GACZ,MAAM/zB,EAAI8gK,GAAG/sI,EAAEstI,SAAS7F,OAAOmG,qBAAqBC,gBACpD,OAAO,IAAI/I,GAAG74J,EAAE84J,QAAS94J,EAAE+gK,M;;;;;;;;;;;;;;;;GAkB3B,MAAMc,GAkBN98J,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAGm5B,EAAGjqD,GAC7BnI,KAAKy9J,WAAa/tI,EAAG1vB,KAAK6+G,MAAQljH,EAAGqE,KAAK09J,eAAiBjuI,EAAGzvB,KAAKkiG,KAAO3zB,EAAGvuE,KAAK29J,IAAM9jK,EACxFmG,KAAK2gJ,iBAAmB1nH,EAAGj5B,KAAK49J,sBAAwBxrG,EAAGpyD,KAAKkgJ,gBAAkB/3I,C,EAS1F,MAAM01J,GACFn9J,YAAYgvB,EAAG/zB,GACXqE,KAAKu8G,UAAY7sF,EAAG1vB,KAAK89J,SAAWniK,GAAK,W,CAE7C04J,eACI,OAAO,IAAIwJ,GAAG,GAAI,G,CAElBE,wBACA,MAAO,cAAgB/9J,KAAK89J,Q,CAEhClN,QAAQlhI,GACJ,OAAOA,aAAamuI,IAAMnuI,EAAE6sF,YAAcv8G,KAAKu8G,WAAa7sF,EAAEouI,WAAa99J,KAAK89J,Q,EAOxF,SAASE,GAAGtuI,GACR,OAAO,MAAQA,C,CAG6B,SAASuuI,GAAGvuI,GAGxD,OAAO,IAAMA,GAAK,EAAIA,IAAK,G,CAM3B,SAASwuI,GAAGxuI,GACZ,MAAO,iBAAmBA,GAAKsgE,OAAOmuE,UAAUzuI,KAAOuuI,GAAGvuI,IAAMA,GAAKsgE,OAAOouE,kBAAoB1uI,GAAKsgE,OAAOquE,gB;;;;;;;;;;;;;;;;GAkB5G,MAAMC,GAAK,CACXtB,SAAU,CACN7F,OAAQ,CACJ8F,SAAU,CACNC,YAAa,cAS7B,SAASqB,GAAG7uI,GACR,MAAO,cAAeA,EAAI,EAAoB,iBAAkBA,EAAI,EAAuB,iBAAkBA,GAAK,gBAAiBA,EAAI,EAAsB,mBAAoBA,EAAI,EAAyB,gBAAiBA,EAAI,EAAsB,eAAgBA,EAAI,EAAoB,mBAAoBA,EAAI,EAAmB,kBAAmBA,EAAI,EAAwB,eAAgBA,EAAI,EAAqB,aAAcA,EAAIqtI,GAAGrtI,GAAK,EAA+B8uI,GAAG9uI,GAAK,iBAAkC,GAAuB8hI,I,CAGrd,SAASiN,GAAG/uI,EAAG/zB,GACxF,GAAI+zB,IAAM/zB,EAAG,OAAO,EACpB,MAAM8zB,EAAI8uI,GAAG7uI,GACb,GAAID,IAAM8uI,GAAG5iK,GAAI,OAAO,EACxB,OAAQ8zB,GACN,KAAK,EACL,KAAK,iBACH,OAAO,EAET,KAAK,EACH,OAAOC,EAAEgvI,eAAiB/iK,EAAE+iK,aAE9B,KAAK,EACH,OAAOrB,GAAG3tI,GAAGkhI,QAAQyM,GAAG1hK,IAE1B,KAAK,EACH,OAAO,SAAS+zB,EAAG/zB,GACf,GAAI,iBAAmB+zB,EAAE6tI,gBAAkB,iBAAmB5hK,EAAE4hK,gBAAkB7tI,EAAE6tI,eAAezjK,SAAW6B,EAAE4hK,eAAezjK,OAE/H,OAAO41B,EAAE6tI,iBAAmB5hK,EAAE4hK,eAC9B,MAAM9tI,EAAIgtI,GAAG/sI,EAAE6tI,gBAAiBhvF,EAAIkuF,GAAG9gK,EAAE4hK,gBACzC,OAAO9tI,EAAEglI,UAAYlmF,EAAEkmF,SAAWhlI,EAAEitI,QAAUnuF,EAAEmuF,K,CAL7C,CAMLhtI,EAAG/zB,GAEP,KAAK,EACH,OAAO+zB,EAAEwtI,cAAgBvhK,EAAEuhK,YAE7B,KAAK,EACH,OAAO,SAASxtI,EAAG/zB,GACf,OAAOihK,GAAGltI,EAAEivI,YAAY/N,QAAQgM,GAAGjhK,EAAEgjK,Y,CADlC,CAELjvI,EAAG/zB,GAEP,KAAK,EACH,OAAO+zB,EAAEkvI,iBAAmBjjK,EAAEijK,eAEhC,KAAK,EACH,OAAO,SAASlvI,EAAG/zB,GACf,OAAOghK,GAAGjtI,EAAEmvI,cAAcC,YAAcnC,GAAGhhK,EAAEkjK,cAAcC,WAAanC,GAAGjtI,EAAEmvI,cAAcE,aAAepC,GAAGhhK,EAAEkjK,cAAcE,U,CAD1H,CAELrvI,EAAG/zB,GAEP,KAAK,EACH,OAAO,SAAS+zB,EAAG/zB,GACf,GAAI,iBAAkB+zB,GAAK,iBAAkB/zB,EAAG,OAAOghK,GAAGjtI,EAAEsvI,gBAAkBrC,GAAGhhK,EAAEqjK,cACnF,GAAI,gBAAiBtvI,GAAK,gBAAiB/zB,EAAG,CAC1C,MAAM8zB,EAAIktI,GAAGjtI,EAAEuvI,aAAc1wF,EAAIouF,GAAGhhK,EAAEsjK,aACtC,OAAOxvI,IAAM8+C,EAAI0vF,GAAGxuI,KAAOwuI,GAAG1vF,GAAKhjE,MAAMkkB,IAAMlkB,MAAMgjE,E,CAEzD,OAAO,C,CANJ,CAOL7+C,EAAG/zB,GAEP,KAAK,EACH,OAAO44J,GAAE7kI,EAAEwvI,WAAWjqD,QAAU,GAAIt5G,EAAEujK,WAAWjqD,QAAU,GAAIwpD,IAEjE,KAAK,GACH,OAAO,SAAS/uI,EAAG/zB,GACf,MAAM8zB,EAAIC,EAAEstI,SAAS7F,QAAU,GAAI5oF,EAAI5yE,EAAEqhK,SAAS7F,QAAU,GAC5D,GAAImC,GAAG7pI,KAAO6pI,GAAG/qF,GAAI,OAAO,EAC5B,IAAK,MAAM9lC,KAAKhZ,EAAG,GAAIA,EAAE90B,eAAe8tC,UAAO,IAAW8lC,EAAE9lC,KAAOg2H,GAAGhvI,EAAEgZ,GAAI8lC,EAAE9lC,KAAM,OAAO,EAC3F,OAAO,C,CAJJ,CAMgE/Y,EAAG/zB,GAE5E,QACE,OAAO61J,K,CAIf,SAAS2N,GAAGzvI,EAAG/zB,GACX,YAAO,KAAY+zB,EAAEulF,QAAU,IAAItX,MAAMjuE,GAAK+uI,GAAG/uI,EAAG/zB,I,CAGxD,SAASyjK,GAAG1vI,EAAG/zB,GACX,GAAI+zB,IAAM/zB,EAAG,OAAO,EACpB,MAAM8zB,EAAI8uI,GAAG7uI,GAAI6+C,EAAIgwF,GAAG5iK,GACxB,GAAI8zB,IAAM8+C,EAAG,OAAO+lF,GAAE7kI,EAAG8+C,GACzB,OAAQ9+C,GACN,KAAK,EACL,KAAK,iBACH,OAAO,EAET,KAAK,EACH,OAAO6kI,GAAE5kI,EAAEgvI,aAAc/iK,EAAE+iK,cAE7B,KAAK,EACH,OAAO,SAAShvI,EAAG/zB,GACf,MAAM8zB,EAAIktI,GAAGjtI,EAAEsvI,cAAgBtvI,EAAEuvI,aAAc1wF,EAAIouF,GAAGhhK,EAAEqjK,cAAgBrjK,EAAEsjK,aAC1E,OAAOxvI,EAAI8+C,GAAI,EAAK9+C,EAAI8+C,EAAI,EAAI9+C,IAAM8+C,EAAI,EAE1ChjE,MAAMkkB,GAAKlkB,MAAMgjE,GAAK,GAAI,EAAK,C,CAJ5B,CAKL7+C,EAAG/zB,GAEP,KAAK,EACH,OAAO0jK,GAAG3vI,EAAE6tI,eAAgB5hK,EAAE4hK,gBAEhC,KAAK,EACH,OAAO8B,GAAGhC,GAAG3tI,GAAI2tI,GAAG1hK,IAEtB,KAAK,EACH,OAAO24J,GAAE5kI,EAAEwtI,YAAavhK,EAAEuhK,aAE5B,KAAK,EACH,OAAO,SAASxtI,EAAG/zB,GACf,MAAM8zB,EAAImtI,GAAGltI,GAAI6+C,EAAIquF,GAAGjhK,GACxB,OAAO8zB,EAAE2lI,UAAU7mF,E,CAFhB,CAGL7+C,EAAEivI,WAAYhjK,EAAEgjK,YAEpB,KAAK,EACH,OAAO,SAASjvI,EAAG/zB,GACf,MAAM8zB,EAAIC,EAAE3kB,MAAM,KAAMwjE,EAAI5yE,EAAEoP,MAAM,KACpC,IAAK,IAAI09B,EAAI,EAAGA,EAAIhZ,EAAE31B,QAAU2uC,EAAI8lC,EAAEz0E,OAAQ2uC,IAAK,CAC/C,MAAM4U,EAAIi3G,GAAE7kI,EAAEgZ,GAAI8lC,EAAE9lC,IACpB,GAAI,IAAM4U,EAAG,OAAOA,C,CAExB,OAAOi3G,GAAE7kI,EAAE31B,OAAQy0E,EAAEz0E,O,CANlB,CAOL41B,EAAEkvI,eAAgBjjK,EAAEijK,gBAExB,KAAK,EACH,OAAO,SAASlvI,EAAG/zB,GACf,MAAM8zB,EAAI6kI,GAAEqI,GAAGjtI,EAAEovI,UAAWnC,GAAGhhK,EAAEmjK,WACjC,OAAI,IAAMrvI,EAAUA,EACb6kI,GAAEqI,GAAGjtI,EAAEqvI,WAAYpC,GAAGhhK,EAAEojK,W,CAH5B,CAILrvI,EAAEmvI,cAAeljK,EAAEkjK,eAEvB,KAAK,EACH,OAAO,SAASnvI,EAAG/zB,GACf,MAAM8zB,EAAIC,EAAEulF,QAAU,GAAI1mC,EAAI5yE,EAAEs5G,QAAU,GAC1C,IAAK,IAAIxsE,EAAI,EAAGA,EAAIhZ,EAAE31B,QAAU2uC,EAAI8lC,EAAEz0E,SAAU2uC,EAAG,CAC/C,MAAM4U,EAAI+hH,GAAG3vI,EAAEgZ,GAAI8lC,EAAE9lC,IACrB,GAAI4U,EAAG,OAAOA,C,CAElB,OAAOi3G,GAAE7kI,EAAE31B,OAAQy0E,EAAEz0E,O,CANlB,CAOL41B,EAAEwvI,WAAYvjK,EAAEujK,YAEpB,KAAK,GACH,OAAO,SAASxvI,EAAG/zB,GACf,GAAI+zB,IAAM4uI,GAAGtB,UAAYrhK,IAAM2iK,GAAGtB,SAAU,OAAO,EACnD,GAAIttI,IAAM4uI,GAAGtB,SAAU,OAAO,EAC9B,GAAIrhK,IAAM2iK,GAAGtB,SAAU,OAAO,EAC9B,MAAMvtI,EAAIC,EAAEynI,QAAU,GAAI5oF,EAAI30E,OAAOD,KAAK81B,GAAI51B,EAAI8B,EAAEw7J,QAAU,GAAIl+H,EAAIr/B,OAAOD,KAAKE,GAKlF00E,EAAEkvB,OAAQxkE,EAAEwkE,OACZ,IAAK,IAAIh1D,EAAI,EAAGA,EAAI8lC,EAAEz0E,QAAU2uC,EAAIxP,EAAEn/B,SAAU2uC,EAAG,CAC/C,MAAM4U,EAAIi3G,GAAE/lF,EAAE9lC,GAAIxP,EAAEwP,IACpB,GAAI,IAAM4U,EAAG,OAAOA,EACpB,MAAM+U,EAAIgtG,GAAG3vI,EAAE8+C,EAAE9lC,IAAK5uC,EAAEo/B,EAAEwP,KAC1B,GAAI,IAAM2pB,EAAG,OAAOA,C,CAExB,OAAOkiG,GAAE/lF,EAAEz0E,OAAQm/B,EAAEn/B,O,CAhBlB,CAqBV41B,EAAEstI,SAAUrhK,EAAEqhK,UAEb,QACE,MAAMxL,K,CAId,SAAS6N,GAAG3vI,EAAG/zB,GACX,GAAI,iBAAmB+zB,GAAK,iBAAmB/zB,GAAK+zB,EAAE51B,SAAW6B,EAAE7B,OAAQ,OAAOw6J,GAAE5kI,EAAG/zB,GACvF,MAAM8zB,EAAIgtI,GAAG/sI,GAAI6+C,EAAIkuF,GAAG9gK,GAAI9B,EAAIy6J,GAAE7kI,EAAEglI,QAASlmF,EAAEkmF,SAC/C,OAAO,IAAM56J,EAAIA,EAAIy6J,GAAE7kI,EAAEitI,MAAOnuF,EAAEmuF,M,CAGtC,SAAS4C,GAAG5vI,GACR,OAAO6vI,GAAG7vI,E,CAGd,SAAS6vI,GAAG7vI,G,IAkBJ/zB,EAAG8zB,EAjBP,MAAO,cAAeC,EAAI,OAAS,iBAAkBA,EAAI,GAAKA,EAAEgvI,aAAe,iBAAkBhvI,EAAI,GAAKA,EAAEsvI,aAAe,gBAAiBtvI,EAAI,GAAKA,EAAEuvI,YAAc,mBAAoBvvI,EAAI,SAASA,GAClM,MAAM/zB,EAAI8gK,GAAG/sI,GACb,MAAO,QAAQ/zB,EAAE84J,WAAW94J,EAAE+gK,Q,CAF2J,CAG3LhtI,EAAE6tI,gBAAkB,gBAAiB7tI,EAAIA,EAAEwtI,YAAc,eAAgBxtI,EAAIktI,GAAGltI,EAAEivI,YAAYvC,WAAa,mBAAoB1sI,GAAKD,EAAIC,EAAEkvI,eAC5IlI,GAAG8I,SAAS/vI,GAAG5tB,YAAc,kBAAmB6tB,EAAI,QAAQ/zB,EAAI+zB,EAAEmvI,eAAeC,YAAYnjK,EAAEojK,aAAe,eAAgBrvI,EAAI,SAASA,GACvI,IAAI/zB,EAAI,IAAK8zB,GAAI,EACjB,IAAK,MAAM8+C,KAAK7+C,EAAEulF,QAAU,GAAIxlF,EAAIA,GAAI,EAAK9zB,GAAK,IAAKA,GAAK4jK,GAAGhxF,GAC/D,OAAO5yE,EAAI,G,CAHmH,CAK7D+zB,EAAEwvI,YAAc,aAAcxvI,EAAI,SAASA,GAG5G,MAAM/zB,EAAI/B,OAAOD,KAAK+1B,EAAEynI,QAAU,IAAI15D,OACtC,IAAIhuE,EAAI,IAAK8+C,GAAI,EACjB,IAAK,MAAM10E,KAAK8B,EAAG4yE,EAAIA,GAAI,EAAK9+C,GAAK,IAAKA,GAAK,GAAG51B,KAAK0lK,GAAG7vI,EAAEynI,OAAOt9J,MACnE,OAAO41B,EAAI,G,CANwF,CAOrGC,EAAEstI,UAAYxL,I,CAUgC,SAASiO,GAAG/vI,GAC5D,QAASA,GAAK,iBAAkBA,C,CAKpC,SAASgwI,GAAGhwI,GACR,QAASA,GAAK,eAAgBA,C,CAGa,SAASiwI,GAAGjwI,GACvD,QAASA,GAAK,cAAeA,C,CAGM,SAASkwI,GAAGlwI,GAC/C,QAASA,GAAK,gBAAiBA,GAAKnkB,MAAMykF,OAAOtgE,EAAEuvI,a,CAGT,SAASY,GAAGnwI,GACtD,QAASA,GAAK,aAAcA,C,CAGQ,SAASowI,GAAGpwI,GAChD,GAAIA,EAAEmvI,cAAe,MAAO,CACxBA,cAAejlK,OAAOiG,OAAO,GAAI6vB,EAAEmvI,gBAEvC,GAAInvI,EAAE6tI,gBAAkB,iBAAmB7tI,EAAE6tI,eAAgB,MAAO,CAChEA,eAAgB3jK,OAAOiG,OAAO,GAAI6vB,EAAE6tI,iBAExC,GAAI7tI,EAAEstI,SAAU,CACZ,MAAMrhK,EAAI,CACNqhK,SAAU,CACN7F,OAAQ,KAGhB,OAAOoC,GAAG7pI,EAAEstI,SAAS7F,QAAS,CAACznI,EAAGD,IAAM9zB,EAAEqhK,SAAS7F,OAAOznI,GAAKowI,GAAGrwI,KAAM9zB,C,CAE5E,GAAI+zB,EAAEwvI,WAAY,CACd,MAAM7hH,EAAI,CACN6hH,WAAY,CACRjqD,OAAQ,KAGhB,IAAK,IAAIxlF,EAAI,EAAGA,GAAKC,EAAEwvI,WAAWjqD,QAAU,IAAIn7G,SAAU21B,EAAG4tB,EAAE6hH,WAAWjqD,OAAOxlF,GAAKqwI,GAAGpwI,EAAEwvI,WAAWjqD,OAAOxlF,IAC7G,OAAO4tB,C,CAEX,OAAOzjD,OAAOiG,OAAO,GAAI6vB,E,CAGkD,SAAS8uI,GAAG9uI,GACvF,MAAO,eAAiBA,EAAEstI,UAAY,IAAI7F,QAAU,IAAI8F,UAAY,IAAIC,W;;;;;;;;;;;;;;;;;AAkFxE,MAAM6C,GACNr/J,YAAYgvB,GACR1vB,KAAKoC,MAAQstB,C,CAEjB2kI,eACI,OAAO,IAAI0L,GAAG,CACV/C,SAAU,I,CAQXgD,MAAMtwI,GACT,GAAIA,EAAEqmI,UAAW,OAAO/1J,KAAKoC,MAC7B,CACI,IAAIzG,EAAIqE,KAAKoC,MACb,IAAK,IAAIqtB,EAAI,EAAGA,EAAIC,EAAE51B,OAAS,IAAK21B,EAAG,GAAI9zB,GAAKA,EAAEqhK,SAAS7F,QAAU,IAAIznI,EAAE7gB,IAAI4gB,KAC9EowI,GAAGlkK,GAAI,OAAO,KACf,OAAOA,GAAKA,EAAEqhK,SAAS7F,QAAU,IAAIznI,EAAEomI,eAAgBn6J,GAAK,I,EAQ7D8R,IAAIiiB,EAAG/zB,GACVqE,KAAKigK,aAAavwI,EAAEkmI,WAAWlmI,EAAEomI,eAAiBgK,GAAGnkK,E,CAMlDukK,OAAOxwI,GACV,IAAI/zB,EAAI26J,GAAGM,YAAannI,EAAI,GAAI8+C,EAAI,GACpC7+C,EAAEzsB,SAAS,CAACysB,EAAG71B,KACX,IAAK8B,EAAEs6J,oBAAoBp8J,GAAI,CAE3B,MAAM4uC,EAAIzoC,KAAKigK,aAAatkK,GAC5BqE,KAAKmgK,aAAa13H,EAAGhZ,EAAG8+C,GAAI9+C,EAAI,GAAI8+C,EAAI,GAAI5yE,EAAI9B,EAAE+7J,S,CAEtDlmI,EAAID,EAAE51B,EAAEi8J,eAAiBgK,GAAGpwI,GAAK6+C,EAAEvsE,KAAKnI,EAAEi8J,cAAc,IAE5D,MAAMj8J,EAAImG,KAAKigK,aAAatkK,GAC5BqE,KAAKmgK,aAAatmK,EAAG41B,EAAG8+C,E,CAOrB/wD,OAAOkS,GACV,MAAM/zB,EAAIqE,KAAKggK,MAAMtwI,EAAEkmI,WACvBiK,GAAGlkK,IAAMA,EAAEqhK,SAAS7F,eAAiBx7J,EAAEqhK,SAAS7F,OAAOznI,EAAEomI,c,CAE7DlF,QAAQlhI,GACJ,OAAO+uI,GAAGz+J,KAAKoC,MAAOstB,EAAEttB,M,CAKrB69J,aAAavwI,GAChB,IAAI/zB,EAAIqE,KAAKoC,MACbzG,EAAEqhK,SAAS7F,SAAWx7J,EAAEqhK,SAAW,CAC/B7F,OAAQ,KAEZ,IAAK,IAAI1nI,EAAI,EAAGA,EAAIC,EAAE51B,SAAU21B,EAAG,CAC/B,IAAI8+C,EAAI5yE,EAAEqhK,SAAS7F,OAAOznI,EAAE7gB,IAAI4gB,IAChCowI,GAAGtxF,IAAMA,EAAEyuF,SAAS7F,SAAW5oF,EAAI,CAC/ByuF,SAAU,CACN7F,OAAQ,KAEbx7J,EAAEqhK,SAAS7F,OAAOznI,EAAE7gB,IAAI4gB,IAAM8+C,GAAI5yE,EAAI4yE,C,CAE7C,OAAO5yE,EAAEqhK,SAAS7F,M,CAKfgJ,aAAazwI,EAAG/zB,EAAG8zB,GACtB8pI,GAAG59J,GAAI,CAACA,EAAG8zB,IAAMC,EAAE/zB,GAAK8zB,IACxB,IAAK,MAAM4tB,KAAK5tB,SAAUC,EAAE2tB,E,CAEhCs+B,QACI,OAAO,IAAIokF,GAAGD,GAAG9/J,KAAKoC,O,EAM1B,SAASg+J,GAAG1wI,GACZ,MAAM/zB,EAAI,GACV,OAAO49J,GAAG7pI,EAAEynI,QAAS,CAACznI,EAAGD,KACrB,MAAM8+C,EAAI,IAAI+nF,GAAG,CAAE5mI,IACnB,GAAImwI,GAAGpwI,GAAI,CACP,MAAMgZ,EAAI23H,GAAG3wI,EAAEutI,UAAU7F,OACzB,GAAI,IAAM1uH,EAAE3uC,OAEZ6B,EAAEqG,KAAKusE,QAGP,IAAK,MAAM2nF,KAAKztH,EAAG9sC,EAAEqG,KAAKusE,EAAEr1D,MAAMg9I,G,MAItCv6J,EAAEqG,KAAKusE,EAAE,IACR,IAAIytF,GAAGrgK;;;;;;;;;;;;;;;;IA4BZ,MAAM0kK,GACN3/J,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GACvBj5B,KAAK/E,IAAMy0B,EAAG1vB,KAAKsgK,aAAe3kK,EAAGqE,KAAKowC,QAAU3gB,EAAGzvB,KAAK23J,SAAWppF,EAAGvuE,KAAK4jB,KAAO/pB,EACtFmG,KAAKugK,cAAgBtnI,C,CAKlBo7H,0BAA0B3kI,GAC7B,OAAO,IAAI2wI,GAAG3wI,EAAG,EAAkBwlI,GAAGvpI,MAAOupI,GAAGvpI,MAAOo0I,GAAGtI,QAAS,E,CAKhEpD,wBAAwB3kI,EAAG/zB,EAAG8zB,GACjC,OAAO,IAAI4wI,GAAG3wI,EAAG,EAAyB/zB,EAAGu5J,GAAGvpI,MAAO8D,EAAG,E,CAEoB4kI,qBAAqB3kI,EAAG/zB,GACtG,OAAO,IAAI0kK,GAAG3wI,EAAG,EAAsB/zB,EAAGu5J,GAAGvpI,MAAOo0I,GAAGtI,QAAS,E,CAM7DpD,0BAA0B3kI,EAAG/zB,GAChC,OAAO,IAAI0kK,GAAG3wI,EAAG,EAA2B/zB,EAAGu5J,GAAGvpI,MAAOo0I,GAAGtI,QAAS,E,CAKlE+I,uBAAuB9wI,EAAG/zB,GAC7B,OAAOqE,KAAKowC,QAAU1gB,EAAG1vB,KAAKsgK,aAAe,EAAyBtgK,KAAK4jB,KAAOjoB,EAClFqE,KAAKugK,cAAgB,EAAiBvgK,I,CAKnCygK,oBAAoB/wI,GACvB,OAAO1vB,KAAKowC,QAAU1gB,EAAG1vB,KAAKsgK,aAAe,EAAsBtgK,KAAK4jB,KAAOm8I,GAAGtI,QAClFz3J,KAAKugK,cAAgB,EAAiBvgK,I,CAMnC0gK,yBAAyBhxI,GAC5B,OAAO1vB,KAAKowC,QAAU1gB,EAAG1vB,KAAKsgK,aAAe,EAA2BtgK,KAAK4jB,KAAOm8I,GAAGtI,QACvFz3J,KAAKugK,cAAgB,EAAkCvgK,I,CAE3D2gK,2BACI,OAAO3gK,KAAKugK,cAAgB,EAAkCvgK,I,CAElE4gK,uBACI,OAAO5gK,KAAKugK,cAAgB,EAA8BvgK,KAAKowC,QAAU8kH,GAAGvpI,MAC5E3rB,I,CAEJ6gK,YAAYnxI,GACR,OAAO1vB,KAAK23J,SAAWjoI,EAAG1vB,I,CAE1B8gK,wBACA,OAAO,IAAgC9gK,KAAKugK,a,CAE5CQ,4BACA,OAAO,IAAoC/gK,KAAKugK,a,CAEhDS,uBACA,OAAOhhK,KAAK8gK,mBAAqB9gK,KAAK+gK,qB,CAE1CE,kBACI,OAAO,IAAoBjhK,KAAKsgK,Y,CAEpCY,kBACI,OAAO,IAA2BlhK,KAAKsgK,Y,CAE3Ca,eACI,OAAO,IAAwBnhK,KAAKsgK,Y,CAExCc,oBACI,OAAO,IAA6BphK,KAAKsgK,Y,CAE7C1P,QAAQlhI,GACJ,OAAOA,aAAa2wI,IAAMrgK,KAAK/E,IAAI21J,QAAQlhI,EAAEz0B,MAAQ+E,KAAKowC,QAAQwgH,QAAQlhI,EAAE0gB,UAAYpwC,KAAKsgK,eAAiB5wI,EAAE4wI,cAAgBtgK,KAAKugK,gBAAkB7wI,EAAE6wI,eAAiBvgK,KAAK4jB,KAAKgtI,QAAQlhI,EAAE9L,K,CAElMy9I,cACI,OAAO,IAAIhB,GAAGrgK,KAAK/E,IAAK+E,KAAKsgK,aAActgK,KAAKowC,QAASpwC,KAAK23J,SAAU33J,KAAK4jB,KAAK+3D,QAAS37E,KAAKugK,c,CAEpG1+J,WACI,MAAO,YAAY7B,KAAK/E,QAAQ+E,KAAKowC,YAAYT,KAAKC,UAAU5vC,KAAK4jB,KAAKxhB,0BAA0BpC,KAAKsgK,mCAAmCtgK,KAAKugK,iB;;;;;;;;;;;;;;;;GAyBzJ,MAAMe,GACF5gK,YAAYgvB,EAAG/zB,EAAI,KAAM8zB,EAAI,GAAI8+C,EAAI,GAAI10E,EAAI,KAAMo/B,EAAI,KAAMm5B,EAAI,MAC7DpyD,KAAK6wI,KAAOnhH,EAAG1vB,KAAK62J,gBAAkBl7J,EAAGqE,KAAKuhK,QAAU9xI,EAAGzvB,KAAKwhK,QAAUjzF,EAAGvuE,KAAK01J,MAAQ77J,EAC1FmG,KAAKyhK,QAAUxoI,EAAGj5B,KAAK0hK,MAAQtvG,EAAGpyD,KAAK2hK,GAAK,I,EAWhD,SAASC,GAAGlyI,EAAG/zB,EAAI,KAAM8zB,EAAI,GAAI8+C,EAAI,GAAI10E,EAAI,KAAMo/B,EAAI,KAAMm5B,EAAI,MACjE,OAAO,IAAIkvG,GAAG5xI,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAGm5B,E,CAGpC,SAASyvG,GAAGnyI,GACR,MAAM/zB,EAAI+1J,GAAEhiI,GACZ,GAAI,OAAS/zB,EAAEgmK,GAAI,CACf,IAAIl5H,EAAI9sC,EAAEk1I,KAAKulB,kBACf,OAASz6J,EAAEk7J,kBAAoBpuH,GAAK,OAAS9sC,EAAEk7J,iBAAkBpuH,GAAK,MAAOA,GAAK9sC,EAAE6lK,QAAQx+J,KAAK0sB,I,IAEzF/zB,EADJ,OAAQA,EAAI+zB,GAAGswI,MAAM5J,kBAAoBz6J,EAAEmmK,GAAGjgK,WAAay9J,GAAG3jK,EAAEyG,MAAM,IAEtEE,KAAK,KAAMmmC,GAAK,OAAQA,GAAK9sC,EAAE4lK,QAAQv+J,KAAK0sB,GAAK,SAASA,GAE1D,OAAOA,EAAEswI,MAAM5J,kBAAoB1mI,EAAE8vB,GACxC,CAHoD,CAGnD9vB,KAAKptB,KAAK,KAAM07J,GAAGriK,EAAE+5J,SAAWjtH,GAAK,MAAOA,GAAK9sC,EAAE+5J,OAAQ/5J,EAAE8lK,UAAYh5H,GAAK,OAChFA,GAAK9sC,EAAE8lK,QAAQM,UAAY,KAAO,KAAMt5H,GAAK9sC,EAAE8lK,QAAQ/zF,SAAS1qE,KAAK0sB,GAAK4vI,GAAG5vI,KAAKptB,KAAK,MACvF3G,EAAE+lK,QAAUj5H,GAAK,OAAQA,GAAK9sC,EAAE+lK,MAAMK,UAAY,KAAO,KAAMt5H,GAAK9sC,EAAE+lK,MAAMh0F,SAAS1qE,KAAK0sB,GAAK4vI,GAAG5vI,KAAKptB,KAAK,MAC5G3G,EAAEgmK,GAAKl5H,C,CAEX,OAAO9sC,EAAEgmK,E,CAmBb,SAASK,GAAGtyI,EAAG/zB,GACX,GAAI+zB,EAAEgmI,QAAU/5J,EAAE+5J,MAAO,OAAO,EAChC,GAAIhmI,EAAE6xI,QAAQznK,SAAW6B,EAAE4lK,QAAQznK,OAAQ,OAAO,EAClD,IAAK,IAAI21B,EAAI,EAAGA,EAAIC,EAAE6xI,QAAQznK,OAAQ21B,IAAK,IAAKwyI,GAAGvyI,EAAE6xI,QAAQ9xI,GAAI9zB,EAAE4lK,QAAQ9xI,IAAK,OAAO,EACvF,GAAIC,EAAE8xI,QAAQ1nK,SAAW6B,EAAE6lK,QAAQ1nK,OAAQ,OAAO,EAClD,IAAK,IAAID,EAAI,EAAGA,EAAI61B,EAAE8xI,QAAQ1nK,OAAQD,IAAK,GAAIq8J,EAAIxmI,EAAE8xI,QAAQ3nK,GAAI00E,EAAI5yE,EAAE6lK,QAAQ3nK,GAC/Eq8J,EAAE4L,KAAOvzF,EAAEuzF,KAAO5L,EAAE8J,MAAMpP,QAAQriF,EAAEyxF,SAAWvB,GAAGvI,EAAE9zJ,MAAOmsE,EAAEnsE,OAAQ,OAAO,EAC5E,IAAI8zJ,EAAG3nF,EACP,OAAO7+C,EAAEmnI,kBAAoBl7J,EAAEk7J,mBAAsBnnI,EAAEmhH,KAAK+f,QAAQj1J,EAAEk1I,SAAYqxB,GAAGxyI,EAAE+xI,QAAS9lK,EAAE8lK,UAAYS,GAAGxyI,EAAEgyI,MAAO/lK,EAAE+lK,M,CAGhI,SAASS,GAAGzyI,GACR,OAAOgnI,GAAG0L,cAAc1yI,EAAEmhH,OAAS,OAASnhH,EAAEmnI,iBAAmB,IAAMnnI,EAAE8xI,QAAQ1nK,M,CAgIX,MAAMuoK,WAAW,QACvF3hK,YAAYgvB,EAAG/zB,EAAG8zB,GACd6iF,QAAStyG,KAAKggK,MAAQtwI,EAAG1vB,KAAK8hK,GAAKnmK,EAAGqE,KAAKoC,MAAQqtB,C,CAIhD4kI,cAAc3kI,EAAG/zB,EAAG8zB,GACvB,OAAOC,EAAE8mI,aAAe,OAAkB76J,GAAK,WAA0BA,EAAIqE,KAAKsiK,GAAG5yI,EAAG/zB,EAAG8zB,GAAK,IAAI8yI,GAAG7yI,EAAG/zB,EAAG8zB,GAAK,mBAA0C9zB,EAAI,IAAI6mK,GAAG9yI,EAAGD,GAAK,OAAkB9zB,EAAI,IAAI8mK,GAAG/yI,EAAGD,GAAK,WAA0B9zB,EAAI,IAAI+mK,GAAGhzI,EAAGD,GAAK,uBAAkD9zB,EAAI,IAAIgnK,GAAGjzI,EAAGD,GAAK,IAAI4yI,GAAG3yI,EAAG/zB,EAAG8zB,E,CAEvV4kI,UAAU3kI,EAAG/zB,EAAG8zB,GACZ,MAAO,OAAkB9zB,EAAI,IAAIinK,GAAGlzI,EAAGD,GAAK,IAAIozI,GAAGnzI,EAAGD,E,CAE1Dk6C,QAAQj6C,GACJ,MAAM/zB,EAAI+zB,EAAE9L,KAAKo8I,MAAMhgK,KAAKggK,OAEpB,MAAO,OAAyBhgK,KAAK8hK,GAAK,OAASnmK,GAAKqE,KAAK8iK,GAAG1D,GAAGzjK,EAAGqE,KAAKoC,QAAU,OAASzG,GAAK4iK,GAAGv+J,KAAKoC,SAAWm8J,GAAG5iK,IAAMqE,KAAK8iK,GAAG1D,GAAGzjK,EAAGqE,KAAKoC,O,CAG9J0gK,GAAGpzI,GACC,OAAQ1vB,KAAK8hK,IACX,IAAK,IACH,OAAOpyI,EAAI,EAEb,IAAK,KACH,OAAOA,GAAK,EAEd,IAAK,KACH,OAAO,IAAMA,EAEf,IAAK,KACH,OAAO,IAAMA,EAEf,IAAK,IACH,OAAOA,EAAI,EAEb,IAAK,KACH,OAAOA,GAAK,EAEd,QACE,OAAO8hI,K,CAGfuR,KACI,MAAO,CAAE,IAAsB,KAAgC,IAAyB,KAAmC,KAAuB,UAAwB7tJ,QAAQlV,KAAK8hK,KAAO,C,EAItM,MAAMS,WAAWF,GACb3hK,YAAYgvB,EAAG/zB,EAAG8zB,GACd6iF,MAAM5iF,EAAG/zB,EAAG8zB,GAAIzvB,KAAK/E,IAAMy7J,GAAG8I,SAAS/vI,EAAEmvI,e,CAE7Cj1F,QAAQj6C,GACJ,MAAM/zB,EAAI+6J,GAAGjB,WAAW/lI,EAAEz0B,IAAK+E,KAAK/E,KACpC,OAAO+E,KAAK8iK,GAAGnnK,E,EAImC,MAAMinK,WAAWP,GACvE3hK,YAAYgvB,EAAG/zB,GACX22G,MAAM5iF,EAAG,KAAgB/zB,GAAIqE,KAAKrG,KAAOqpK,GAAG,KAAgBrnK,E,CAEhEguE,QAAQj6C,GACJ,OAAO1vB,KAAKrG,KAAKohF,MAAMp/E,GAAKA,EAAEi1J,QAAQlhI,EAAEz0B,M,EAIsB,MAAM4nK,WAAWR,GACnF3hK,YAAYgvB,EAAG/zB,GACX22G,MAAM5iF,EAAG,SAAwB/zB,GAAIqE,KAAKrG,KAAOqpK,GAAG,SAAwBrnK,E,CAEhFguE,QAAQj6C,GACJ,OAAQ1vB,KAAKrG,KAAKohF,MAAMp/E,GAAKA,EAAEi1J,QAAQlhI,EAAEz0B,M,EAIjD,SAAS+nK,GAAGtzI,EAAG/zB,GACX,IAAI8zB,EACJ,QAAS,QAAUA,EAAI9zB,EAAEujK,kBAAe,IAAWzvI,OAAI,EAASA,EAAEwlF,SAAW,IAAIjyG,KAAK0sB,GAAKgnI,GAAG8I,SAAS9vI,EAAEkvI,iB,CAGhD,MAAM4D,WAAWH,GAC1E3hK,YAAYgvB,EAAG/zB,GACX22G,MAAM5iF,EAAG,iBAAwC/zB,E,CAErDguE,QAAQj6C,GACJ,MAAM/zB,EAAI+zB,EAAE9L,KAAKo8I,MAAMhgK,KAAKggK,OAC5B,OAAON,GAAG/jK,IAAMwjK,GAAGxjK,EAAEujK,WAAYl/J,KAAKoC,M,EAIG,MAAMqgK,WAAWJ,GAC9D3hK,YAAYgvB,EAAG/zB,GACX22G,MAAM5iF,EAAG,KAAgB/zB,E,CAE7BguE,QAAQj6C,GACJ,MAAM/zB,EAAI+zB,EAAE9L,KAAKo8I,MAAMhgK,KAAKggK,OAC5B,OAAO,OAASrkK,GAAKwjK,GAAGn/J,KAAKoC,MAAM88J,WAAYvjK,E,EAIF,MAAM+mK,WAAWL,GAClE3hK,YAAYgvB,EAAG/zB,GACX22G,MAAM5iF,EAAG,SAAwB/zB,E,CAErCguE,QAAQj6C,GACJ,GAAIyvI,GAAGn/J,KAAKoC,MAAM88J,WAAY,CAC1B+D,UAAW,eACX,OAAO,EACX,MAAMtnK,EAAI+zB,EAAE9L,KAAKo8I,MAAMhgK,KAAKggK,OAC5B,OAAO,OAASrkK,IAAMwjK,GAAGn/J,KAAKoC,MAAM88J,WAAYvjK,E,EAIS,MAAMgnK,WAAWN,GAC9E3hK,YAAYgvB,EAAG/zB,GACX22G,MAAM5iF,EAAG,qBAAgD/zB,E,CAE7DguE,QAAQj6C,GACJ,MAAM/zB,EAAI+zB,EAAE9L,KAAKo8I,MAAMhgK,KAAKggK,OAC5B,SAAUN,GAAG/jK,KAAOA,EAAEujK,WAAWjqD,SAAWt5G,EAAEujK,WAAWjqD,OAAOl6B,MAAMrrD,GAAKyvI,GAAGn/J,KAAKoC,MAAM88J,WAAYxvI,I,EAiBzG,MAAMwzI,GACNxiK,YAAYgvB,EAAG/zB,GACXqE,KAAK0tE,SAAWh+C,EAAG1vB,KAAK+hK,UAAYpmK,C,EAMxC,MAAMwnK,GACNziK,YAAYgvB,EAAG/zB,EAAI,OACfqE,KAAKggK,MAAQtwI,EAAG1vB,KAAKw/C,IAAM7jD,C,EAInC,SAASsmK,GAAGvyI,EAAG/zB,GACX,OAAO+zB,EAAE8vB,MAAQ7jD,EAAE6jD,KAAO9vB,EAAEswI,MAAMpP,QAAQj1J,EAAEqkK,M,CAGhD,SAASoD,GAAG1zI,EAAG/zB,EAAG8zB,GACd,IAAI8+C,EAAI,EACR,IAAK,IAAI10E,EAAI,EAAGA,EAAI61B,EAAEg+C,SAAS5zE,OAAQD,IAAK,CACxC,MAAMo/B,EAAIt9B,EAAE9B,GAAIu4D,EAAI1iC,EAAEg+C,SAAS7zE,GAI/B,GAH0B00E,EAAtBt1C,EAAE+mI,MAAMxJ,aAAkBE,GAAGjB,WAAWiB,GAAG8I,SAASptG,EAAEwsG,gBAAiBnvI,EAAEx0B,KACrEmkK,GAAGhtG,EAAG3iC,EAAE7L,KAAKo8I,MAAM/mI,EAAE+mI,QAEzB,SAA4B/mI,EAAEumB,MAAQ+uB,IAAK,GAAK,IAAMA,EAAG,K,CAEjE,OAAOA,C,CAMP,SAAS2zF,GAAGxyI,EAAG/zB,GACf,GAAI,OAAS+zB,EAAG,OAAO,OAAS/zB,EAChC,GAAI,OAASA,EAAG,OAAO,EACvB,GAAI+zB,EAAEqyI,YAAcpmK,EAAEomK,WAAaryI,EAAEg+C,SAAS5zE,SAAW6B,EAAE+xE,SAAS5zE,OAAQ,OAAO,EACnF,IAAK,IAAI21B,EAAI,EAAGA,EAAIC,EAAEg+C,SAAS5zE,OAAQ21B,IACnC,IAAKgvI,GAAG/uI,EAAEg+C,SAASj+C,GAAI9zB,EAAE+xE,SAASj+C,IAAK,OAAO,EAElD,OAAO,C;;;;;;;;;;;;;;;;GAyBP,MAAM4zI,GAKN3iK,YAAYgvB,EAAG/zB,EAAI,KAAM8zB,EAAI,GAAI8+C,EAAI,GAAI10E,EAAI,KAAMo/B,EAAI,IAAkBm5B,EAAI,KAAMjqD,EAAI,MACnFnI,KAAK6wI,KAAOnhH,EAAG1vB,KAAK62J,gBAAkBl7J,EAAGqE,KAAKsjK,gBAAkB7zI,EAAGzvB,KAAKwhK,QAAUjzF,EAClFvuE,KAAK01J,MAAQ77J,EAAGmG,KAAKujK,UAAYtqI,EAAGj5B,KAAKyhK,QAAUrvG,EAAGpyD,KAAK0hK,MAAQv5J,EAAGnI,KAAKwjK,GAAK,KAEhFxjK,KAAKyjK,GAAK,KAAMzjK,KAAKyhK,QAASzhK,KAAK0hK,K,EAIoB,SAASgC,GAAGh0I,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAGm5B,EAAGjqD,GAC5F,OAAO,IAAIk7J,GAAG3zI,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAGm5B,EAAGjqD,E,CAGqC,SAASw7J,GAAGj0I,GACpF,OAAO,IAAI2zI,GAAG3zI,E,CAalB,SAASk0I,GAAGl0I,GACR,OAAO,IAAMA,EAAE8xI,QAAQ1nK,QAAU,OAAS41B,EAAEgmI,OAAS,MAAQhmI,EAAE+xI,SAAW,MAAQ/xI,EAAEgyI,QAAU,IAAMhyI,EAAE4zI,gBAAgBxpK,QAAU,IAAM41B,EAAE4zI,gBAAgBxpK,QAAU41B,EAAE4zI,gBAAgB,GAAGtD,MAAMxJ,a,CAGjM,SAASqN,GAAGn0I,GACR,OAAOA,EAAE4zI,gBAAgBxpK,OAAS,EAAI41B,EAAE4zI,gBAAgB,GAAGtD,MAAQ,I,CAGvE,SAAS8D,GAAGp0I,GACR,IAAK,MAAM/zB,KAAK+zB,EAAE8xI,QAAS,GAAI7lK,EAAEonK,KAAM,OAAOpnK,EAAEqkK,MAChD,OAAO,I,CAWX,SAAS+D,GAAGr0I,GACR,OAAO,OAASA,EAAEmnI,e,CAOlB,SAASmN,GAAGt0I,GACZ,MAAM/zB,EAAI+1J,GAAEhiI,GACZ,GAAI,OAAS/zB,EAAE6nK,GAAI,CACf7nK,EAAE6nK,GAAK,GACP,MAAM/6H,EAAIq7H,GAAGnoK,GAAI8zB,EAAIo0I,GAAGloK,GACxB,GAAI,OAAS8sC,GAAK,OAAShZ,EAI3BgZ,EAAE+tH,cAAgB76J,EAAE6nK,GAAGxhK,KAAK,IAAImhK,GAAG16H,IAAK9sC,EAAE6nK,GAAGxhK,KAAK,IAAImhK,GAAG7M,GAAG2N,WAAY,YAA8B,CAClG,IAAIv7H,GAAI,EACR,IAAK,MAAMwtH,KAAKv6J,EAAE2nK,gBAAiB3nK,EAAE6nK,GAAGxhK,KAAKk0J,GAAIA,EAAE8J,MAAMxJ,eAAiB9tH,GAAI,GAC9E,IAAKA,EAAG,CAGJ,MAAMC,EAAIhtC,EAAE2nK,gBAAgBxpK,OAAS,EAAI6B,EAAE2nK,gBAAgB3nK,EAAE2nK,gBAAgBxpK,OAAS,GAAG0lD,IAAM,MAC/F7jD,EAAE6nK,GAAGxhK,KAAK,IAAImhK,GAAG7M,GAAG2N,WAAYt7H,G,GAI5C,OAAOhtC,EAAE6nK,E,CAKT,SAASU,GAAGx0I,GACZ,MAAM/zB,EAAI+1J,GAAEhiI,GACZ,IAAK/zB,EAAE8nK,GAAI,GAAI,MAAoB9nK,EAAE4nK,UAAW5nK,EAAE8nK,GAAK7B,GAAGjmK,EAAEk1I,KAAMl1I,EAAEk7J,gBAAiBmN,GAAGroK,GAAIA,EAAE6lK,QAAS7lK,EAAE+5J,MAAO/5J,EAAE8lK,QAAS9lK,EAAE+lK,WAAa,CAEtI,MAAMj5H,EAAI,GACV,IAAK,MAAMhZ,KAAKu0I,GAAGroK,GAAI,CACnB,MAAM0hD,EAAI,SAA4B5tB,EAAE+vB,IAAM,MAAwB,OACtE/W,EAAEzmC,KAAK,IAAImhK,GAAG1zI,EAAEuwI,MAAO3iH,G,CAGnB,MAAM64G,EAAIv6J,EAAE+lK,MAAQ,IAAIwB,GAAGvnK,EAAE+lK,MAAMh0F,SAAU/xE,EAAE+lK,MAAMK,WAAa,KAAMxzF,EAAI5yE,EAAE8lK,QAAU,IAAIyB,GAAGvnK,EAAE8lK,QAAQ/zF,SAAU/xE,EAAE8lK,QAAQM,WAAa,KAElJpmK,EAAE8nK,GAAK7B,GAAGjmK,EAAEk1I,KAAMl1I,EAAEk7J,gBAAiBpuH,EAAG9sC,EAAE6lK,QAAS7lK,EAAE+5J,MAAOQ,EAAG3nF,E,CAEnE,OAAO5yE,EAAE8nK,E,CAGb,SAASU,GAAGz0I,EAAG/zB,EAAG8zB,GACd,OAAO,IAAI4zI,GAAG3zI,EAAEmhH,KAAMnhH,EAAEmnI,gBAAiBnnI,EAAE4zI,gBAAgBj4J,QAASqkB,EAAE8xI,QAAQn2J,QAAS1P,EAAG8zB,EAAGC,EAAE+xI,QAAS/xI,EAAEgyI,M,CAG9G,SAAS0C,GAAG10I,EAAG/zB,GACX,OAAOqmK,GAAGkC,GAAGx0I,GAAIw0I,GAAGvoK,KAAO+zB,EAAE6zI,YAAc5nK,EAAE4nK,S,CAMjD,SAASc,GAAG30I,GACR,MAAO,GAAGmyI,GAAGqC,GAAGx0I,UAAUA,EAAE6zI,W,CAGhC,SAASe,GAAG50I,GACR,MAAO,gBA3dX,SAAYA,GACR,IAAI/zB,EAAI+zB,EAAEmhH,KAAKulB,kBACf,OAAO,OAAS1mI,EAAEmnI,kBAAoBl7J,GAAK,oBAAsB+zB,EAAEmnI,iBACnEnnI,EAAE8xI,QAAQ1nK,OAAS,IAAM6B,GAAK,eAAe+zB,EAAE8xI,QAAQx+J,KAAK0sB,I,IAGpD/zB,EAFJ,MAAO,IAAIA,EAAI+zB,GAAGswI,MAAM5J,qBAAqBz6J,EAAEmmK,MAAMxC,GAAG3jK,EAAEyG,QAAQ,IAGCE,KAAK,UAC5E07J,GAAGtuI,EAAEgmI,SAAW/5J,GAAK,YAAc+zB,EAAEgmI,OAAQhmI,EAAE6xI,QAAQznK,OAAS,IAAM6B,GAAK,eAAe+zB,EAAE6xI,QAAQv+J,KAAK0sB,GAAK,SAASA,GACnH,MAAO,GAAGA,EAAEswI,MAAM5J,sBAAsB1mI,EAAE8vB,MAC7C,CAF6G,CAE5G9vB,KAAKptB,KAAK,UAAWotB,EAAE+xI,UAAY9lK,GAAK,cAAeA,GAAK+zB,EAAE+xI,QAAQM,UAAY,KAAO,KAC3FpmK,GAAK+zB,EAAE+xI,QAAQ/zF,SAAS1qE,KAAK0sB,GAAK4vI,GAAG5vI,KAAKptB,KAAK,MAAOotB,EAAEgyI,QAAU/lK,GAAK,YACvEA,GAAK+zB,EAAEgyI,MAAMK,UAAY,KAAO,KAAMpmK,GAAK+zB,EAAEgyI,MAAMh0F,SAAS1qE,KAAK0sB,GAAK4vI,GAAG5vI,KAAKptB,KAAK,MACnF,UAAU3G,I,CA8ca4oK,CAAGL,GAAGx0I,kBAAkBA,EAAE6zI,Y,CAGY,SAASiB,GAAG90I,EAAG/zB,GAC5E,OAAOA,EAAEulK,mBAAqB,SAASxxI,EAAG/zB,GACtC,MAAM8zB,EAAI9zB,EAAEV,IAAI41I,KAChB,OAAO,OAASnhH,EAAEmnI,gBAAkBl7J,EAAEV,IAAI67J,gBAAgBpnI,EAAEmnI,kBAAoBnnI,EAAEmhH,KAAKmlB,WAAWvmI,GAAKinI,GAAG0L,cAAc1yI,EAAEmhH,MAAQnhH,EAAEmhH,KAAK+f,QAAQnhI,GAAKC,EAAEmhH,KAAKolB,oBAAoBxmI,E,CAFvJ,CAO7BC,EAAG/zB,IAAM,SAAS+zB,EAAG/zB,GAClB,IAAK,MAAM8zB,KAAKC,EAAE4zI,gBAElB,IAAK7zI,EAAEuwI,MAAMxJ,cAAgB,OAAS76J,EAAEioB,KAAKo8I,MAAMvwI,EAAEuwI,OAAQ,OAAO,EACpE,OAAO,C,CAJD,CAKRtwI,EAAG/zB,IAAM,SAAS+zB,EAAG/zB,GACnB,IAAK,MAAM8zB,KAAKC,EAAE8xI,QAAS,IAAK/xI,EAAEk6C,QAAQhuE,GAAI,OAAO,EACrD,OAAO,C,CAFA,CAIsD+zB,EAAG/zB,IAAM,SAAS+zB,EAAG/zB,GAClF,QAAI+zB,EAAE+xI,UAKN,SAAS/xI,EAAG/zB,EAAG8zB,GACX,MAAM8+C,EAAI60F,GAAG1zI,EAAG/zB,EAAG8zB,GACnB,OAAOC,EAAEqyI,UAAYxzF,GAAK,EAAIA,EAAI,C,CAFtC,CAGE7+C,EAAE+xI,QAASuC,GAAGt0I,GAAI/zB,OAChB+zB,EAAEgyI,QAAU,SAAShyI,EAAG/zB,EAAG8zB,GAC3B,MAAM8+C,EAAI60F,GAAG1zI,EAAG/zB,EAAG8zB,GACnB,OAAOC,EAAEqyI,UAAYxzF,GAAK,EAAIA,EAAI,C,CAFtB,CAGd7+C,EAAEgyI,MAAOsC,GAAGt0I,GAAI/zB,G,CAboD,CAqBzE+zB,EAAG/zB,E,CAGR,SAAS8oK,GAAG/0I,GACR,OAAOA,EAAEmnI,kBAAoBnnI,EAAEmhH,KAAK/2I,OAAS,GAAK,EAAI41B,EAAEmhH,KAAKilB,cAAgBpmI,EAAEmhH,KAAKhiI,IAAI6gB,EAAEmhH,KAAK/2I,OAAS,G,CAMxG,SAAS4qK,GAAGh1I,GACZ,MAAO,CAAC/zB,EAAG8zB,KACP,IAAI8+C,GAAI,EACR,IAAK,MAAM10E,KAAKmqK,GAAGt0I,GAAI,CACnB,MAAM+Y,EAAIk8H,GAAG9qK,EAAG8B,EAAG8zB,GACnB,GAAI,IAAMgZ,EAAG,OAAOA,EACpB8lC,EAAIA,GAAK10E,EAAEmmK,MAAMxJ,Y,CAErB,OAAO,CAAC,C,CAIhB,SAASmO,GAAGj1I,EAAG/zB,EAAG8zB,GACd,MAAM8+C,EAAI7+C,EAAEswI,MAAMxJ,aAAeE,GAAGjB,WAAW95J,EAAEV,IAAKw0B,EAAEx0B,KAAO,SAASy0B,EAAG/zB,EAAG8zB,GAC1E,MAAM8+C,EAAI5yE,EAAEioB,KAAKo8I,MAAMtwI,GAAI71B,EAAI41B,EAAE7L,KAAKo8I,MAAMtwI,GAC5C,OAAO,OAAS6+C,GAAK,OAAS10E,EAAIulK,GAAG7wF,EAAG10E,GAAK23J,I,CAFc,CAG7D9hI,EAAEswI,MAAOrkK,EAAG8zB,GACd,OAAQC,EAAE8vB,KACR,IAAK,MACH,OAAO+uB,EAET,IAAK,OACH,OAAO,EAAKA,EAEd,QACE,OAAOijF,K;;;;;;;;;;;;;;;;GAuBX,SAASoT,GAAGl1I,EAAG/zB,GACf,GAAI+zB,EAAEm1I,GAAI,CACN,GAAIt5J,MAAM5P,GAAI,MAAO,CACjBsjK,YAAa,OAEjB,GAAItjK,IAAM,IAAO,MAAO,CACpBsjK,YAAa,YAEjB,GAAItjK,KAAM,IAAQ,MAAO,CACrBsjK,YAAa,Y,CAGrB,MAAO,CACHA,YAAahB,GAAGtiK,GAAK,KAAOA,E,CAMhC,SAASmpK,GAAGp1I,GACZ,MAAO,CACHsvI,aAAc,GAAKtvI,E,CAQvB,SAASq1I,GAAGr1I,EAAG/zB,GACf,OAAOuiK,GAAGviK,GAAKmpK,GAAGnpK,GAAKipK,GAAGl1I,EAAG/zB,E;;;;;;;;;;;;;;;;GAmByB,MAAMqpK,GAC5DtkK,cAGIV,KAAKqpD,OAAI,C,EAOb,SAAS47G,GAAGv1I,EAAG/zB,EAAG8zB,GAClB,OAAOC,aAAaw1I,GAAK,SAASx1I,EAAG/zB,GACjC,MAAM8zB,EAAI,CACN0nI,OAAQ,CACJ8F,SAAU,CACNC,YAAa,oBAEjBI,qBAAsB,CAClBC,eAAgB,CACZ9I,QAAS/kI,EAAE+kI,QACXiI,MAAOhtI,EAAEglI,gBAKzB,OAAO/4J,IAAM8zB,EAAE0nI,OAAOiG,mBAAqBzhK,GAAI,CAC3CqhK,SAAUvtI,E,CAfO,CAiBvBA,EAAG9zB,GAAK+zB,aAAay1I,GAAKC,GAAG11I,EAAG/zB,GAAK+zB,aAAa21I,GAAKC,GAAG51I,EAAG/zB,GAAK,SAAS+zB,EAAG/zB,GAI5E,MAAM8zB,EAAI81I,GAAG71I,EAAG/zB,GAAI4yE,EAAIi3F,GAAG/1I,GAAK+1I,GAAG91I,EAAE+1I,IACrC,OAAOhG,GAAGhwI,IAAMgwI,GAAG/vI,EAAE+1I,IAAMX,GAAGv2F,GAAKq2F,GAAGl1I,EAAEg2I,GAAIn3F,E,CALoB,CAMlE7+C,EAAG/zB,E,CAML,SAASgqK,GAAGj2I,EAAG/zB,EAAG8zB,GAIlB,OAAOC,aAAay1I,GAAKC,GAAG11I,EAAG/zB,GAAK+zB,aAAa21I,GAAKC,GAAG51I,EAAG/zB,GAAK8zB,C,CAiBjE,SAAS81I,GAAG71I,EAAG/zB,G,IAOX8zB,EANJ,OAAOC,aAAak2I,GAAKnG,GAAGhwI,EAAI9zB,IAAM,SAAS+zB,GAC3C,QAASA,GAAK,gBAAiBA,C,CADG,CAGsCD,GAAK9zB,EAAI,CACjFqjK,aAAc,GACd,I,CAKR,MAAMkG,WAAWF,IAEuC,MAAMG,WAAWH,GACrEtkK,YAAYgvB,GACR4iF,QAAStyG,KAAKm6F,SAAWzqE,C,EAIjC,SAAS01I,GAAG11I,EAAG/zB,GACX,MAAM8zB,EAAIo2I,GAAGlqK,GACb,IAAK,MAAM0hD,KAAK3tB,EAAEyqE,SAAU1qE,EAAEsrD,MAAMrrD,GAAK+uI,GAAG/uI,EAAG2tB,MAAQ5tB,EAAEztB,KAAKq7C,GAC9D,MAAO,CACH6hH,WAAY,CACRjqD,OAAQxlF,G,CAKqC,MAAM41I,WAAWL,GACtEtkK,YAAYgvB,GACR4iF,QAAStyG,KAAKm6F,SAAWzqE,C,EAIjC,SAAS41I,GAAG51I,EAAG/zB,GACX,IAAI8zB,EAAIo2I,GAAGlqK,GACX,IAAK,MAAM0hD,KAAK3tB,EAAEyqE,SAAU1qE,EAAIA,EAAEm+B,QAAQl+B,IAAM+uI,GAAG/uI,EAAG2tB,KACtD,MAAO,CACH6hH,WAAY,CACRjqD,OAAQxlF,G,CAUhB,MAAMm2I,WAAWZ,GACjBtkK,YAAYgvB,EAAG/zB,GACX22G,QAAStyG,KAAK0lK,GAAKh2I,EAAG1vB,KAAKylK,GAAK9pK,C,EAIxC,SAAS6pK,GAAG91I,GACR,OAAOitI,GAAGjtI,EAAEsvI,cAAgBtvI,EAAEuvI,Y,CAGlC,SAAS4G,GAAGn2I,GACR,OAAOgwI,GAAGhwI,IAAMA,EAAEwvI,WAAWjqD,OAASvlF,EAAEwvI,WAAWjqD,OAAO5pG,QAAU,E;;;;;;;;;;;;;;;;GAgCxE,MAAMy6J,GACFplK,YAWAgvB,EAQA/zB,GACIqE,KAAKowC,QAAU1gB,EAAG1vB,KAAK+lK,iBAAmBpqK,C,EAQ9C,MAAMqqK,GACNtlK,YAAYgvB,EAAG/zB,GACXqE,KAAKimK,WAAav2I,EAAG1vB,KAAKkmK,OAASvqK,C,CAEK04J,cACxC,OAAO,IAAI2R,E,CAE2C3R,cAAc3kI,GACpE,OAAO,IAAIs2I,QAAG,EAAQt2I,E,CAEoD2kI,kBAAkB3kI,GAC5F,OAAO,IAAIs2I,GAAGt2I,E,CAEwCy2I,aACtD,YAAO,IAAWnmK,KAAKimK,iBAAc,IAAWjmK,KAAKkmK,M,CAEzDtV,QAAQlhI,GACJ,OAAO1vB,KAAKkmK,SAAWx2I,EAAEw2I,SAAWlmK,KAAKimK,aAAev2I,EAAEu2I,YAAcjmK,KAAKimK,WAAWrV,QAAQlhI,EAAEu2I,aAAev2I,EAAEu2I,W,EAIjD,SAASG,GAAG12I,EAAG/zB,GACrF,YAAO,IAAW+zB,EAAEu2I,WAAatqK,EAAEulK,mBAAqBvlK,EAAEy0C,QAAQwgH,QAAQlhI,EAAEu2I,iBAAc,IAAWv2I,EAAEw2I,QAAUx2I,EAAEw2I,SAAWvqK,EAAEulK,iB,CA8ChI,MAAMmF,IAMN,SAASC,GAAG52I,EAAG/zB,GACf,IAAK+zB,EAAEoxI,mBAAqBnlK,GAAK,IAAMA,EAAEw7J,OAAOr9J,OAAQ,OAAO,KAE3D,GAAI,OAAS6B,EAAG,OAAO+zB,EAAEyxI,eAAiB,IAAIoF,GAAG72I,EAAEz0B,IAAK+qK,GAAGlhG,QAAU,IAAI0hG,GAAG92I,EAAEz0B,IAAKy0B,EAAE9L,KAAMoiJ,GAAGlhG,QAClG,CACI,MAAMr1C,EAAIC,EAAE9L,KAAM2qD,EAAIwxF,GAAGtI,QACzB,IAAI59J,EAAI,IAAI4hK,GAAGnF,GAAGb,YAClB,IAAK,IAAIhtH,KAAK9sC,EAAEw7J,OAAQ,IAAKt9J,EAAEo1B,IAAIwZ,GAAI,CACnC,IAAI4U,EAAI5tB,EAAEuwI,MAAMv3H,GAUJ,OAAS4U,GAAK5U,EAAE3uC,OAAS,IAAM2uC,EAAIA,EAAEmtH,UAAWv4G,EAAI5tB,EAAEuwI,MAAMv3H,IAAK,OAAS4U,EAAIkxB,EAAE/wD,OAAOirB,GAAK8lC,EAAE9gE,IAAIg7B,EAAG4U,GACjHxjD,EAAIA,EAAEgQ,IAAI4+B,E,CAEd,OAAO,IAAIg+H,GAAG/2I,EAAEz0B,IAAKszE,EAAG,IAAIytF,GAAGniK,EAAEuJ,WAAY4iK,GAAGlhG,O,EAepD,SAAS4hG,GAAGh3I,EAAG/zB,EAAG8zB,GAClBC,aAAa82I,GAAK,SAAS92I,EAAG/zB,EAAG8zB,GAI7B,MAAM8+C,EAAI7+C,EAAEttB,MAAMu5E,QAAS9hF,EAAI8sK,GAAGj3I,EAAEk3I,gBAAiBjrK,EAAG8zB,EAAEs2I,kBAC1Dx3F,EAAE2xF,OAAOrmK,GAAI8B,EAAE6kK,uBAAuB/wI,EAAE2gB,QAASm+B,GAAGoyF,0B,CALtC,CAMhBjxI,EAAG/zB,EAAG8zB,GAAKC,aAAa+2I,GAAK,SAAS/2I,EAAG/zB,EAAG8zB,GAC1C,IAAK22I,GAAG12I,EAAEm3I,aAAclrK,GAKxB,YAAYA,EAAE+kK,yBAAyBjxI,EAAE2gB,SACzC,MAAMm+B,EAAIo4F,GAAGj3I,EAAEk3I,gBAAiBjrK,EAAG8zB,EAAEs2I,kBAAmBlsK,EAAI8B,EAAEioB,KAC9D/pB,EAAEqmK,OAAO4G,GAAGp3I,IAAK71B,EAAEqmK,OAAO3xF,GAAI5yE,EAAE6kK,uBAAuB/wI,EAAE2gB,QAASv2C,GAAG8mK,0B,CAR1C,CAS7BjxI,EAAG/zB,EAAG8zB,GAAK,SAASC,EAAG/zB,EAAG8zB,GAIxB9zB,EAAE8kK,oBAAoBhxI,EAAE2gB,SAASuwH,0B,CAJxB,CAKX,EAAGhlK,EAAG8zB,E,CAgBR,SAASs3I,GAAGr3I,EAAG/zB,EAAG8zB,EAAG8+C,GACrB,OAAO7+C,aAAa82I,GAAK,SAAS92I,EAAG/zB,EAAG8zB,EAAG8+C,GACvC,IAAK63F,GAAG12I,EAAEm3I,aAAclrK,GAGxB,OAAO8zB,EACP,MAAM51B,EAAI61B,EAAEttB,MAAMu5E,QAAS1iD,EAAI+tI,GAAGt3I,EAAEk3I,gBAAiBr4F,EAAG5yE,GACxD,OAAO9B,EAAEqmK,OAAOjnI,GAAIt9B,EAAE6kK,uBAAuB7kK,EAAEy0C,QAASv2C,GAAG+mK,uBAC3D,I,CAPqB,CAsBxBlxI,EAAG/zB,EAAG8zB,EAAG8+C,GAAK7+C,aAAa+2I,GAAK,SAAS/2I,EAAG/zB,EAAG8zB,EAAG8+C,GAC/C,IAAK63F,GAAG12I,EAAEm3I,aAAclrK,GAAI,OAAO8zB,EACnC,MAAM51B,EAAImtK,GAAGt3I,EAAEk3I,gBAAiBr4F,EAAG5yE,GAAIs9B,EAAIt9B,EAAEioB,KAC7C,OAAIqV,EAAEinI,OAAO4G,GAAGp3I,IAAKuJ,EAAEinI,OAAOrmK,GAAI8B,EAAE6kK,uBAAuB7kK,EAAEy0C,QAASnX,GAAG2nI,uBACzE,OAASnxI,EAAU,KACZA,EAAEssI,UAAUrsI,EAAEu3I,UAAU9P,QAAQ4E,UAAUrsI,EAAEk3I,gBAAgB5jK,KAAK0sB,GAAKA,EAAEswI,Q,CALlD,CAShCtwI,EAAG/zB,EAAG8zB,EAAG8+C,GAAK,SAAS7+C,EAAG/zB,EAAG8zB,GAC1B,OAAI22I,GAAG12I,EAAEm3I,aAAclrK,IAAWA,EAAE8kK,oBAAoB9kK,EAAEy0C,SAASwwH,uBACnE,MACOnxI,C,CAHI,CAWdC,EAAG/zB,EAAG8zB,E,CAkBP,SAASy3I,GAAGx3I,EAAG/zB,GACf,IAAI8zB,EAAI,KACR,IAAK,MAAM8+C,KAAK7+C,EAAEk3I,gBAAiB,CAC/B,MAAMn+H,EAAI9sC,EAAEioB,KAAKo8I,MAAMzxF,EAAEyxF,OAAQnmK,EAAI0rK,GAAGh3F,EAAEsxB,UAAWp3D,GAAK,MAC1D,MAAQ5uC,IAAM,OAAS41B,IAAMA,EAAIswI,GAAGtI,SAAUhoI,EAAEhiB,IAAI8gE,EAAEyxF,MAAOnmK,G,CAEjE,OAAO41B,GAAK,I,CAGhB,SAAS03I,GAAGz3I,EAAG/zB,GACX,OAAO+zB,EAAE1zB,OAASL,EAAEK,QAAW0zB,EAAEz0B,IAAI21J,QAAQj1J,EAAEV,QAAWy0B,EAAEm3I,aAAajW,QAAQj1J,EAAEkrK,iBAAoB,SAASn3I,EAAG/zB,GAC/G,YAAO,IAAW+zB,QAAK,IAAW/zB,MAAQ+zB,IAAM/zB,IAAM44J,GAAE7kI,EAAG/zB,GAAI,CAAC+zB,EAAG/zB,IA/P3E,SAAY+zB,EAAG/zB,GACX,OAAO+zB,EAAEswI,MAAMpP,QAAQj1J,EAAEqkK,QAAU,SAAStwI,EAAG/zB,GAC3C,OAAO+zB,aAAay1I,IAAMxpK,aAAawpK,IAAMz1I,aAAa21I,IAAM1pK,aAAa0pK,GAAK9Q,GAAE7kI,EAAEyqE,SAAUx+F,EAAEw+F,SAAUskE,IAAM/uI,aAAak2I,IAAMjqK,aAAaiqK,GAAKnH,GAAG/uI,EAAE+1I,GAAI9pK,EAAE8pK,IAAM/1I,aAAaw1I,IAAMvpK,aAAaupK,E,CADzK,CAEjCx1I,EAAEmwE,UAAWlkG,EAAEkkG,U,CA4P4DunE,CAAG13I,EAAG/zB,I,CADoB,CAErG+zB,EAAEk3I,gBAAiBjrK,EAAEirK,mBAAqB,IAAgBl3I,EAAE1zB,KAAO0zB,EAAEttB,MAAMwuJ,QAAQj1J,EAAEyG,OAAS,IAAkBstB,EAAE1zB,MAAQ0zB,EAAE9L,KAAKgtI,QAAQj1J,EAAEioB,OAAS8L,EAAEu3I,UAAUrW,QAAQj1J,EAAEsrK,W,CAM5K,MAAMT,WAAWH,GACjB3lK,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAI,IACrB+jC,QAAStyG,KAAK/E,IAAMy0B,EAAG1vB,KAAKoC,MAAQzG,EAAGqE,KAAK6mK,aAAep3I,EAAGzvB,KAAK4mK,gBAAkBr4F,EACrFvuE,KAAKhE,KAAO,C,CAEhBqrK,eACI,OAAO,I,EAIf,MAAMZ,WAAWJ,GACb3lK,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAI,IACxBy4G,QAAStyG,KAAK/E,IAAMy0B,EAAG1vB,KAAK4jB,KAAOjoB,EAAGqE,KAAKinK,UAAYx3I,EAAGzvB,KAAK6mK,aAAet4F,EAC9EvuE,KAAK4mK,gBAAkB/sK,EAAGmG,KAAKhE,KAAO,C,CAE1CqrK,eACI,OAAOrnK,KAAKinK,S,EAIpB,SAASH,GAAGp3I,GACR,MAAM/zB,EAAI,IAAIwhB,IACd,OAAOuS,EAAEu3I,UAAU9P,OAAOl0J,SAASwsB,IAC/B,IAAKA,EAAEsmI,UAAW,CACd,MAAMxnF,EAAI7+C,EAAE9L,KAAKo8I,MAAMvwI,GACvB9zB,EAAE8R,IAAIgiB,EAAG8+C,E,KAEZ5yE,C,CAaL,SAASgrK,GAAGj3I,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAI,IAAIpxD,IACds0I,GAAE/hI,EAAE51B,SAAW21B,EAAE31B,QACjB,IAAK,IAAID,EAAI,EAAGA,EAAI41B,EAAE31B,OAAQD,IAAK,CAC/B,MAAMo/B,EAAIvJ,EAAE71B,GAAIu4D,EAAIn5B,EAAE4mE,UAAW13F,EAAIxM,EAAEioB,KAAKo8I,MAAM/mI,EAAE+mI,OACpDzxF,EAAE9gE,IAAIwrB,EAAE+mI,MAAO2F,GAAGvzG,EAAGjqD,EAAGsnB,EAAE51B,I,CAE9B,OAAO00E,C,CAaP,SAASy4F,GAAGt3I,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAI,IAAIpxD,IACd,IAAK,MAAMtjB,KAAK61B,EAAG,CACf,MAAM+Y,EAAI5uC,EAAEgmG,UAAW5mE,EAAIxJ,EAAE7L,KAAKo8I,MAAMnmK,EAAEmmK,OAC1CzxF,EAAE9gE,IAAI5T,EAAEmmK,MAAOiF,GAAGx8H,EAAGxP,EAAGt9B,G,CAE5B,OAAO4yE,C,CAGmD,MAAMg4F,WAAWF,GAC3E3lK,YAAYgvB,EAAG/zB,GACX22G,QAAStyG,KAAK/E,IAAMy0B,EAAG1vB,KAAK6mK,aAAelrK,EAAGqE,KAAKhE,KAAO,EAAiBgE,KAAK4mK,gBAAkB,E,CAEtGS,eACI,OAAO,I,EAIf,MAAMC,WAAWjB,GACb3lK,YAAYgvB,EAAG/zB,GACX22G,QAAStyG,KAAK/E,IAAMy0B,EAAG1vB,KAAK6mK,aAAelrK,EAAGqE,KAAKhE,KAAO,EAAiBgE,KAAK4mK,gBAAkB,E,CAEtGS,eACI,OAAO,I;;;;;;;;;;;;;;;;GAmBX,MAAME,GAEN7mK,YAAYgvB,GACR1vB,KAAKmD,MAAQusB,C;;;;;;;;;;;;;;;;GA6BjB,IAAI83I,GAAIC,GAQZ,SAASC,GAAGh4I,GACR,OAAQA,GACN,QACE,OAAO8hI,KAET,KAAKG,GAAEC,UACP,KAAKD,GAAEE,QACP,KAAKF,GAAEI,kBACP,KAAKJ,GAAEQ,mBACP,KAAKR,GAAEz8C,SACP,KAAKy8C,GAAEa,YAGC,KAAKb,GAAEd,gBACb,OAAO,EAET,KAAKc,GAAEG,iBACP,KAAKH,GAAEK,UACP,KAAKL,GAAEM,eACP,KAAKN,GAAEO,kBACP,KAAKP,GAAES,oBAIC,KAAKT,GAAEU,QACf,KAAKV,GAAEW,aACP,KAAKX,GAAEY,cACP,KAAKZ,GAAEc,UACL,OAAO,E,CAuBf,SAASkV,GAAGj4I,GACR,QAAI,IAAWA,EAGf,OAAO4hI,GAAE,2BAA4BK,GAAEE,QACvC,OAAQniI,GACN,KAAK83I,GAAG9qB,GACN,OAAOiV,GAAEjV,GAEX,KAAK8qB,GAAG5V,UACN,OAAOD,GAAEC,UAEX,KAAK4V,GAAG3V,QACN,OAAOF,GAAEE,QAEX,KAAK2V,GAAGzV,kBACN,OAAOJ,GAAEI,kBAEX,KAAKyV,GAAGrV,mBACN,OAAOR,GAAEQ,mBAEX,KAAKqV,GAAGtyD,SACN,OAAOy8C,GAAEz8C,SAEX,KAAKsyD,GAAGhV,YACN,OAAOb,GAAEa,YAEX,KAAKgV,GAAG3W,gBACN,OAAOc,GAAEd,gBAEX,KAAK2W,GAAG1V,iBACN,OAAOH,GAAEG,iBAEX,KAAK0V,GAAGxV,UACN,OAAOL,GAAEK,UAEX,KAAKwV,GAAGvV,eACN,OAAON,GAAEM,eAEX,KAAKuV,GAAGtV,kBACN,OAAOP,GAAEO,kBAEX,KAAKsV,GAAGpV,oBACN,OAAOT,GAAES,oBAEX,KAAKoV,GAAGnV,QACN,OAAOV,GAAEU,QAEX,KAAKmV,GAAGlV,aACN,OAAOX,GAAEW,aAEX,KAAKkV,GAAGjV,cACN,OAAOZ,GAAEY,cAEX,KAAKiV,GAAG/U,UACN,OAAOd,GAAEc,UAEX,QACE,OAAOjB,K,EAWViW,GAAKD,KAAOA,GAAK,KAAKC,GAAG/qB,GAAK,GAAK,KAAM+qB,GAAGA,GAAG7V,UAAY,GAAK,YACrE6V,GAAGA,GAAG5V,QAAU,GAAK,UAAW4V,GAAGA,GAAG3V,iBAAmB,GAAK,mBAC9D2V,GAAGA,GAAG1V,kBAAoB,GAAK,oBAAqB0V,GAAGA,GAAGzV,UAAY,GAAK,YAC3EyV,GAAGA,GAAGxV,eAAiB,GAAK,iBAAkBwV,GAAGA,GAAGvV,kBAAoB,GAAK,oBAC7EuV,GAAGA,GAAG5W,gBAAkB,IAAM,kBAAmB4W,GAAGA,GAAGtV,mBAAqB,GAAK,qBACjFsV,GAAGA,GAAGrV,oBAAsB,GAAK,sBAAuBqV,GAAGA,GAAGpV,QAAU,IAAM,UAC9EoV,GAAGA,GAAGnV,aAAe,IAAM,eAAgBmV,GAAGA,GAAGlV,cAAgB,IAAM,gBACvEkV,GAAGA,GAAGvyD,SAAW,IAAM,WAAYuyD,GAAGA,GAAGjV,YAAc,IAAM,cAAeiV,GAAGA,GAAGhV,UAAY,IAAM;;;;;;;;;;;;;;;;;AAwBpG,MAAMmV,GACFlnK,YAAYgvB,EAAG/zB,GACXqE,KAAK6nK,SAAWn4I,EAAG1vB,KAAK8nK,SAAWnsK,EAOnCqE,KAAK+nK,MAAQ,GAEb/nK,KAAKgoK,UAAY,C,CAEkDn5J,IAAI6gB,GACvE,MAAM/zB,EAAIqE,KAAK6nK,SAASn4I,GAAID,EAAIzvB,KAAK+nK,MAAMpsK,GAC3C,QAAI,IAAW8zB,EAAG,IAAK,MAAO4tB,EAAGkxB,KAAM9+C,EAAG,GAAIzvB,KAAK8nK,SAASzqH,EAAG3tB,GAAI,OAAO6+C,C,CAE9Et/C,IAAIS,GACA,YAAO,IAAW1vB,KAAK6O,IAAI6gB,E,CAEcjiB,IAAIiiB,EAAG/zB,GAChD,MAAM8zB,EAAIzvB,KAAK6nK,SAASn4I,GAAI6+C,EAAIvuE,KAAK+nK,MAAMt4I,GAC3C,QAAI,IAAW8+C,EAAG,OAAOvuE,KAAK+nK,MAAMt4I,GAAK,CAAE,CAAEC,EAAG/zB,SAAYqE,KAAKgoK,YACjE,IAAK,IAAI9R,EAAI,EAAGA,EAAI3nF,EAAEz0E,OAAQo8J,IAAK,GAAIl2J,KAAK8nK,SAASv5F,EAAE2nF,GAAG,GAAIxmI,GAE9D,YAAa6+C,EAAE2nF,GAAK,CAAExmI,EAAG/zB,IACzB4yE,EAAEvsE,KAAK,CAAE0tB,EAAG/zB,IAAMqE,KAAKgoK,W,CAIpBxqJ,OAAOkS,GACV,MAAM/zB,EAAIqE,KAAK6nK,SAASn4I,GAAID,EAAIzvB,KAAK+nK,MAAMpsK,GAC3C,QAAI,IAAW8zB,EAAG,OAAO,EACzB,IAAK,IAAI8+C,EAAI,EAAGA,EAAI9+C,EAAE31B,OAAQy0E,IAAK,GAAIvuE,KAAK8nK,SAASr4I,EAAE8+C,GAAG,GAAI7+C,GAAI,OAAO,IAAMD,EAAE31B,cAAgBkG,KAAK+nK,MAAMpsK,GAAK8zB,EAAEggB,OAAO8+B,EAAG,GAC7HvuE,KAAKgoK,aAAa,EAClB,OAAO,C,CAEX/kK,QAAQysB,GACJ6pI,GAAGv5J,KAAK+nK,OAAQ,CAACpsK,EAAG8zB,KAChB,IAAK,MAAO4tB,EAAGkxB,KAAM9+C,EAAGC,EAAE2tB,EAAGkxB,EAAE,G,CAGvCwnF,UACI,OAAOyD,GAAGx5J,KAAK+nK,M,CAEnB7hI,OACI,OAAOlmC,KAAKgoK,S;;;;;;;;;;;;;;;;GAmBhB,MAAMC,GAAK,IAAIxO,GAAG/C,GAAGjB,YAEzB,SAASyS,KACL,OAAOD,E,CAGX,MAAME,GAAK,IAAI1O,GAAG/C,GAAGjB,YAErB,SAAS2S,MAAM14I,GACX,IAAI/zB,EAAIwsK,GACR,IAAK,MAAM14I,KAAKC,EAAG/zB,EAAIA,EAAEi+J,OAAOnqI,EAAEx0B,IAAKw0B,GACvC,OAAO9zB,C,CAGX,SAAS0sK,GAAG34I,GACR,IAAI/zB,EAAIwsK,GACR,OAAOz4I,EAAEzsB,SAAS,CAACysB,EAAGD,IAAM9zB,EAAIA,EAAEi+J,OAAOlqI,EAAGD,EAAE64I,qBAAsB3sK,C,CAGxE,SAAS4sK,KACL,OAAOC,I,CAGX,SAASC,KACL,OAAOD,I,CAGX,SAASA,KACL,OAAO,IAAIZ,IAAIl4I,GAAKA,EAAE7tB,aAAc,CAAC6tB,EAAG/zB,IAAM+zB,EAAEkhI,QAAQj1J,I,CAG5D,MAAM+sK,GAAK,IAAIjP,GAAG/C,GAAGjB,YAEfkT,GAAK,IAAIlN,GAAG/E,GAAGjB,YAErB,SAASmT,MAAMl5I,GACX,IAAI/zB,EAAIgtK,GACR,IAAK,MAAMl5I,KAAKC,EAAG/zB,EAAIA,EAAEkO,IAAI4lB,GAC7B,OAAO9zB,C,CAGX,MAAMktK,GAAK,IAAIpN,GAAGnH,IAElB,SAASwU,KACL,OAAOD,E;;;;;;;;;;;;;;;;GAuBP,MAAME,GACNroK,YAIAgvB,EAIA/zB,EAKA8zB,EAKA8+C,EAIA10E,GACImG,KAAKgpK,gBAAkBt5I,EAAG1vB,KAAKipK,cAAgBttK,EAAGqE,KAAKkpK,iBAAmBz5I,EAAGzvB,KAAKmpK,gBAAkB56F,EACpGvuE,KAAKopK,uBAAyBvvK,C,CASlCw6J,oDAAoD3kI,EAAG/zB,GACnD,MAAM8zB,EAAI,IAAItS,IACd,OAAOsS,EAAEhiB,IAAIiiB,EAAG25I,GAAGC,8CAA8C55I,EAAG/zB,IAAK,IAAIotK,GAAG7T,GAAGvpI,MAAO8D,EAAGq5I,KAAMZ,KAAMU,K,EAW7G,MAAMS,GACN3oK,YAOAgvB,EAMA/zB,EAKA8zB,EAKA8+C,EAKA10E,GACImG,KAAKupK,YAAc75I,EAAG1vB,KAAK7D,QAAUR,EAAGqE,KAAKwpK,eAAiB/5I,EAAGzvB,KAAKypK,kBAAoBl7F,EAC1FvuE,KAAK0pK,iBAAmB7vK,C,CAMrBw6J,qDAAqD3kI,EAAG/zB,GAC3D,OAAO,IAAI0tK,GAAGnN,GAAGK,kBAAmB5gK,EAAGitK,KAAMA,KAAMA,K;;;;;;;;;;;;;;;;GAyBvD,MAAMe,GACNjpK,YAEAgvB,EAEA/zB,EAEA8zB,EAKA8+C,GACIvuE,KAAK4pK,GAAKl6I,EAAG1vB,KAAK6pK,iBAAmBluK,EAAGqE,KAAK/E,IAAMw0B,EAAGzvB,KAAK8pK,GAAKv7F,C,EAIxE,MAAMw7F,GACFrpK,YAAYgvB,EAAG/zB,GACXqE,KAAKgqK,SAAWt6I,EAAG1vB,KAAKiqK,GAAKtuK,C,EAIrC,MAAMuuK,GACFxpK,YAEAgvB,EAEA/zB,EAOA8zB,EAAIysI,GAAGK,kBACgDhuF,EAAI,MACvDvuE,KAAKi6B,MAAQvK,EAAG1vB,KAAKmqK,UAAYxuK,EAAGqE,KAAKupK,YAAc95I,EAAGzvB,KAAKoqK,MAAQ77F,C,EAI3B,MAAM87F,GACtD3pK,cAKIV,KAAKsqK,GAAK,EAOVtqK,KAAKuqK,GAAKC,KAEVxqK,KAAKyqK,GAAKvO,GAAGK,kBAAmBv8J,KAAK0qK,IAAK,EAM1C1qK,KAAK2qK,IAAK,C,CASHxuK,cACP,OAAO6D,KAAK0qK,E,CAEgDnB,kBAC5D,OAAOvpK,KAAKyqK,E,CAE6DG,SACzE,OAAO,IAAM5qK,KAAKsqK,E,CAE2DO,SAC7E,OAAO7qK,KAAK2qK,E,CAKTG,GAAGp7I,GACNA,EAAE4sI,sBAAwB,IAAMt8J,KAAK2qK,IAAK,EAAI3qK,KAAKyqK,GAAK/6I,E,CAOrDq7I,KACH,IAAIr7I,EAAIk5I,KAAMjtK,EAAIitK,KAAMn5I,EAAIm5I,KAC5B,OAAO5oK,KAAKuqK,GAAGtnK,SAAS,CAACsrE,EAAG10E,KACxB,OAAQA,GACN,KAAK,EACH61B,EAAIA,EAAE7lB,IAAI0kE,GACV,MAEF,KAAK,EACH5yE,EAAIA,EAAEkO,IAAI0kE,GACV,MAEF,KAAK,EACH9+C,EAAIA,EAAE5lB,IAAI0kE,GACV,MAEF,QACEijF,K,IAEH,IAAI6X,GAAGrpK,KAAKyqK,GAAIzqK,KAAK0qK,GAAIh7I,EAAG/zB,EAAG8zB,E,CAIjCu7I,KACHhrK,KAAK2qK,IAAK,EAAI3qK,KAAKuqK,GAAKC,I,CAE5BS,GAAGv7I,EAAG/zB,GACFqE,KAAK2qK,IAAK,EAAI3qK,KAAKuqK,GAAKvqK,KAAKuqK,GAAG3Q,OAAOlqI,EAAG/zB,E,CAE9CuvK,GAAGx7I,GACC1vB,KAAK2qK,IAAK,EAAI3qK,KAAKuqK,GAAKvqK,KAAKuqK,GAAGlhF,OAAO35D,E,CAE3Cy7I,KACInrK,KAAKsqK,IAAM,C,CAEfc,KACIprK,KAAKsqK,IAAM,C,CAEfe,KACIrrK,KAAK2qK,IAAK,EAAI3qK,KAAK0qK,IAAK,C,EAOhC,MAAMY,GACF5qK,YAAYgvB,GACR1vB,KAAKurK,GAAK77I,EAEV1vB,KAAKwrK,GAAK,IAAIruJ,IAEdnd,KAAKyrK,GAAKvD,KAEVloK,KAAK0rK,GAAKC,KAMV3rK,KAAK4rK,GAAK,IAAInQ,GAAGnH,G,CAIduX,GAAGn8I,GACN,IAAK,MAAM/zB,KAAK+zB,EAAEk6I,GAAIl6I,EAAEo6I,IAAMp6I,EAAEo6I,GAAG5I,kBAAoBlhK,KAAK8rK,GAAGnwK,EAAG+zB,EAAEo6I,IAAM9pK,KAAK+rK,GAAGpwK,EAAG+zB,EAAEz0B,IAAKy0B,EAAEo6I,IAC9F,IAAK,MAAMzsH,KAAK3tB,EAAEm6I,iBAAkB7pK,KAAK+rK,GAAG1uH,EAAG3tB,EAAEz0B,IAAKy0B,EAAEo6I,G,CAEsBkC,GAAGt8I,GACjF1vB,KAAKisK,cAAcv8I,GAAI/zB,IACnB,MAAM8zB,EAAIzvB,KAAKksK,GAAGvwK,GAClB,OAAQ+zB,EAAEuK,OACR,KAAK,EACHj6B,KAAKmsK,GAAGxwK,IAAM8zB,EAAEq7I,GAAGp7I,EAAE65I,aACrB,MAEF,KAAK,EAGH95I,EAAE27I,KAAM37I,EAAEm7I,IAIVn7I,EAAEu7I,KAAMv7I,EAAEq7I,GAAGp7I,EAAE65I,aACf,MAEF,KAAK,EAKH95I,EAAE27I,KAAM37I,EAAEm7I,IAAM5qK,KAAKosK,aAAazwK,GAClC,MAEF,KAAK,EACHqE,KAAKmsK,GAAGxwK,KAAO8zB,EAAE47I,KAAM57I,EAAEq7I,GAAGp7I,EAAE65I,cAC9B,MAEF,KAAK,EACHvpK,KAAKmsK,GAAGxwK,KAIRqE,KAAKqsK,GAAG1wK,GAAI8zB,EAAEq7I,GAAGp7I,EAAE65I,cACnB,MAEF,QACE/X,K,IAQLya,cAAcv8I,EAAG/zB,GACpB+zB,EAAEy6I,UAAUrwK,OAAS,EAAI41B,EAAEy6I,UAAUlnK,QAAQtH,GAAKqE,KAAKwrK,GAAGvoK,SAAS,CAACysB,EAAGD,KACnEzvB,KAAKmsK,GAAG18I,IAAM9zB,EAAE8zB,EAAE,G,CAOnB68I,GAAG58I,GACN,MAAM/zB,EAAI+zB,EAAEs6I,SAAUv6I,EAAIC,EAAEu6I,GAAG9mK,MAAOorE,EAAIvuE,KAAKusK,GAAG5wK,GAClD,GAAI4yE,EAAG,CACH,MAAM9lC,EAAI8lC,EAAE53D,OACZ,GAAIwrJ,GAAG15H,GAAI,GAAI,IAAMhZ,EAAG,CAOpB,MAAMymI,EAAI,IAAIQ,GAAGjuH,EAAEooG,MACnB7wI,KAAK+rK,GAAGpwK,EAAGu6J,EAAGmK,GAAGmM,cAActW,EAAGhB,GAAGvpI,O,MAClC8lI,GAAE,IAAMhiI,QACXzvB,KAAKysK,GAAG9wK,KAAO8zB,IAGfzvB,KAAKqsK,GAAG1wK,GAAIqE,KAAK4rK,GAAK5rK,KAAK4rK,GAAG/hK,IAAIlO,G,EAOvC+wK,GAAGh9I,GACN,MAAM/zB,EAAI,IAAIwhB,IACdnd,KAAKwrK,GAAGvoK,SAAS,CAACwsB,EAAG8+C,KACjB,MAAM10E,EAAImG,KAAKusK,GAAGh+F,GAClB,GAAI10E,EAAG,CACH,GAAI41B,EAAEtzB,SAAWgmK,GAAGtoK,EAAE8c,QAAS,CAS3B,MAAM0mC,EAAI,IAAIq5G,GAAG78J,EAAE8c,OAAOk6H,MAC1B,OAAS7wI,KAAKyrK,GAAG58J,IAAIwuC,IAAMr9C,KAAK2sK,GAAGp+F,EAAGlxB,IAAMr9C,KAAK+rK,GAAGx9F,EAAGlxB,EAAGgjH,GAAGmM,cAAcnvH,EAAG3tB,G,CAElFD,EAAEo7I,KAAOlvK,EAAE8R,IAAI8gE,EAAG9+C,EAAEs7I,MAAOt7I,EAAEu7I,K,KAGrC,IAAIv7I,EAAIm5I,KAMA5oK,KAAK0rK,GAAGzoK,SAAS,CAACysB,EAAG/zB,KACzB,IAAI4yE,GAAI,EACR5yE,EAAEigK,cAAclsI,IACZ,MAAM/zB,EAAIqE,KAAKusK,GAAG78I,GAClB,OAAQ/zB,GAAK,IAA4BA,EAAEixK,UAAYr+F,GAAI,GAAI,EAAE,IAChEA,IAAM9+C,EAAIA,EAAE5lB,IAAI6lB,GAAE,IACtB1vB,KAAKyrK,GAAGxoK,SAAS,CAACtH,EAAG8zB,IAAMA,EAAEoxI,YAAYnxI,KAC9C,MAAM6+C,EAAI,IAAIw6F,GAAGr5I,EAAG/zB,EAAGqE,KAAK4rK,GAAI5rK,KAAKyrK,GAAIh8I,GACzC,OAAOzvB,KAAKyrK,GAAKvD,KAAMloK,KAAK0rK,GAAKC,KAAM3rK,KAAK4rK,GAAK,IAAInQ,GAAGnH,IAAI/lF,C,CAOhEu9F,GAAGp8I,EAAG/zB,GACF,IAAKqE,KAAKmsK,GAAGz8I,GAAI,OACjB,MAAMD,EAAIzvB,KAAK2sK,GAAGj9I,EAAG/zB,EAAEV,KAAO,EAAmB,EACjD+E,KAAKksK,GAAGx8I,GAAGu7I,GAAGtvK,EAAEV,IAAKw0B,GAAIzvB,KAAKyrK,GAAKzrK,KAAKyrK,GAAG7R,OAAOj+J,EAAEV,IAAKU,GAAIqE,KAAK0rK,GAAK1rK,KAAK0rK,GAAG9R,OAAOj+J,EAAEV,IAAK+E,KAAK6sK,GAAGlxK,EAAEV,KAAK4O,IAAI6lB,G,CAUpHq8I,GAAGr8I,EAAG/zB,EAAG8zB,GACL,IAAKzvB,KAAKmsK,GAAGz8I,GAAI,OACjB,MAAM6+C,EAAIvuE,KAAKksK,GAAGx8I,GAClB1vB,KAAK2sK,GAAGj9I,EAAG/zB,GAAK4yE,EAAE08F,GAAGtvK,EAAG,GAGxB4yE,EAAE28F,GAAGvvK,GAAIqE,KAAK0rK,GAAK1rK,KAAK0rK,GAAG9R,OAAOj+J,EAAGqE,KAAK6sK,GAAGlxK,GAAG6hB,OAAOkS,IAAKD,IAAMzvB,KAAKyrK,GAAKzrK,KAAKyrK,GAAG7R,OAAOj+J,EAAG8zB,G,CAElG28I,aAAa18I,GACT1vB,KAAKwrK,GAAGhuJ,OAAOkS,E,CAMZ+8I,GAAG/8I,GACN,MAAM/zB,EAAIqE,KAAKksK,GAAGx8I,GAAGq7I,KACrB,OAAO/qK,KAAKurK,GAAGuB,uBAAuBp9I,GAAGwW,KAAOvqC,EAAE6tK,eAAetjI,KAAOvqC,EAAE+tK,iBAAiBxjI,I,CAKxFilI,GAAGz7I,GACN1vB,KAAKksK,GAAGx8I,GAAGy7I,I,CAEfe,GAAGx8I,GACC,IAAI/zB,EAAIqE,KAAKwrK,GAAG38J,IAAI6gB,GACpB,OAAO/zB,IAAMA,EAAI,IAAI0uK,GAAIrqK,KAAKwrK,GAAG/9J,IAAIiiB,EAAG/zB,IAAKA,C,CAEjDkxK,GAAGn9I,GACC,IAAI/zB,EAAIqE,KAAK0rK,GAAG78J,IAAI6gB,GACpB,OAAO/zB,IAAMA,EAAI,IAAI8/J,GAAGnH,IAAIt0J,KAAK0rK,GAAK1rK,KAAK0rK,GAAG9R,OAAOlqI,EAAG/zB,IAAKA,C,CAM1DwwK,GAAGz8I,GACN,MAAM/zB,EAAI,OAASqE,KAAKusK,GAAG78I,GAC3B,OAAO/zB,GAAKy1J,GAAE,wBAAyB,2BAA4B1hI,GAAI/zB,C,CAKpE4wK,GAAG78I,GACN,MAAM/zB,EAAIqE,KAAKwrK,GAAG38J,IAAI6gB,GACtB,OAAO/zB,GAAKA,EAAEivK,GAAK,KAAO5qK,KAAKurK,GAAGwB,GAAGr9I,E,CAMlC28I,GAAG38I,GACN1vB,KAAKwrK,GAAG/9J,IAAIiiB,EAAG,IAAI26I,IACnBrqK,KAAKurK,GAAGuB,uBAAuBp9I,GAAGzsB,SAAStH,IACvCqE,KAAK+rK,GAAGr8I,EAAG/zB,EAAwB,KAAK,G,CAMzCgxK,GAAGj9I,EAAG/zB,GACT,OAAOqE,KAAKurK,GAAGuB,uBAAuBp9I,GAAGT,IAAItzB,E,EAIrD,SAASgwK,KACL,OAAO,IAAIlS,GAAG/C,GAAGjB,W,CAGrB,SAAS+U,KACL,OAAO,IAAI/Q,GAAG/C,GAAGjB,W;;;;;;;;;;;;;;;;GAkBjB,MAAMuX,GACI,CACNC,IAAK,YACLvrF,KAAM,cAGRwrF,GACQ,CACN,IAAK,YACL,KAAM,qBACN,IAAK,eACL,KAAM,wBACN,KAAM,QACN,KAAM,YACN,iBAAkB,iBAClBC,GAAI,KACJ,SAAU,SACV,qBAAsB,sBAmB9B,MAAMC,GACF1sK,YAAYgvB,EAAG/zB,GACXqE,KAAKy9J,WAAa/tI,EAAG1vB,KAAK6kK,GAAKlpK,C,EAOvC,SAAS0xK,GAAG39I,EAAG/zB,GACX,OAAI+zB,EAAEm1I,GACK,GAAG,IAAIzjJ,KAAK,IAAMzlB,EAAE84J,SAASl+C,cAAc50G,QAAO,QAAU,IAAIA,QAAQ,IAAK,QAAQ,YAAchG,EAAE+4J,aAAarpJ,OAAM,MAE5H,CACHopJ,QAAS,GAAK94J,EAAE84J,QAChBiI,MAAO/gK,EAAE+4J,Y,CASjB,SAAS4Y,GAAG59I,EAAG/zB,GACX,OAAO+zB,EAAEm1I,GAAKlpK,EAAEygK,WAAazgK,EAAE0gK,c,CAK/B,SAASkR,GAAG79I,EAAG/zB,GACf,OAAO0xK,GAAG39I,EAAG/zB,EAAE25J,c,CAGnB,SAASkY,GAAG99I,GACR,OAAO+hI,KAAI/hI,GAAIwlI,GAAGqC,cAAc,SAAS7nI,GACrC,MAAM/zB,EAAI8gK,GAAG/sI,GACb,OAAO,IAAI8kI,GAAG74J,EAAE84J,QAAS94J,EAAE+gK,M,CAFC,CAG9BhtI,G,CAGN,SAAS+9I,GAAG/9I,EAAG/zB,GACX,OAAO,SAAS+zB,GACZ,OAAO,IAAIymI,GAAG,CAAE,WAAYzmI,EAAE6sF,UAAW,YAAa7sF,EAAEouI,UAC3D,CAFM,CAELpuI,GAAGxW,MAAM,aAAaA,MAAMvd,GAAGy6J,iB,CAGrC,SAASsX,GAAGh+I,GACR,MAAM/zB,EAAIw6J,GAAGQ,WAAWjnI,GACxB,OAAO+hI,GAAEkc,GAAGhyK,IAAKA,C,CAGrB,SAASiyK,GAAGl+I,EAAG/zB,GACX,OAAO8xK,GAAG/9I,EAAE+tI,WAAY9hK,EAAEk1I,K,CAG9B,SAASg9B,GAAGn+I,EAAG/zB,GACX,MAAM8zB,EAAIi+I,GAAG/xK,GACb,GAAI8zB,EAAE5gB,IAAI,KAAO6gB,EAAE+tI,WAAWlhD,UAAW,MAAM,IAAIm2C,GAAEf,GAAEG,iBAAkB,oDAAsDriI,EAAE5gB,IAAI,GAAK,OAAS6gB,EAAE+tI,WAAWlhD,WAChK,GAAI9sF,EAAE5gB,IAAI,KAAO6gB,EAAE+tI,WAAWK,SAAU,MAAM,IAAIpL,GAAEf,GAAEG,iBAAkB,qDAAuDriI,EAAE5gB,IAAI,GAAK,OAAS6gB,EAAE+tI,WAAWK,UAChK,OAAO,IAAIpH,GAAGoX,GAAGr+I,G,CAGrB,SAASs+I,GAAGr+I,EAAG/zB,GACX,OAAO8xK,GAAG/9I,EAAE+tI,WAAY9hK,E,CAG5B,SAASqyK,GAAGt+I,GACR,MAAM/zB,EAAI+xK,GAAGh+I,GAKT,OAAO,IAAM/zB,EAAE7B,OAASq8J,GAAGS,YAAckX,GAAGnyK,E,CAGpD,SAASsyK,GAAGv+I,GACR,OAAO,IAAIymI,GAAG,CAAE,WAAYzmI,EAAE+tI,WAAWlhD,UAAW,YAAa7sF,EAAE+tI,WAAWK,WAAY1H,iB,CAG9F,SAAS0X,GAAGp+I,GACR,OAAO+hI,GAAE/hI,EAAE51B,OAAS,GAAK,cAAgB41B,EAAE7gB,IAAI,IAAK6gB,EAAEimI,SAAS,E,CAGa,SAASuY,GAAGx+I,EAAG/zB,EAAG8zB,GAC9F,MAAO,CACHvhB,KAAM0/J,GAAGl+I,EAAG/zB,GACZw7J,OAAQ1nI,EAAErtB,MAAM46J,SAAS7F,O,CAwFjC,SAASgX,GAAGz+I,EAAG/zB,GACX,IAAI8zB,EACJ,GAAI9zB,aAAa6qK,GAAI/2I,EAAI,CACrB61E,OAAQ4oE,GAAGx+I,EAAG/zB,EAAEV,IAAKU,EAAEyG,aACnB,GAAIzG,aAAa4qK,GAAI92I,EAAI,CAC7BjS,OAAQowJ,GAAGl+I,EAAG/zB,EAAEV,WACZ,GAAIU,aAAa8qK,GAAIh3I,EAAI,CAC7B61E,OAAQ4oE,GAAGx+I,EAAG/zB,EAAEV,IAAKU,EAAEioB,MACvBwqJ,WAAYC,GAAG1yK,EAAEsrK,gBACb,CACJ,KAAMtrK,aAAa2rK,IAAK,OAAO9V,KAC/B/hI,EAAI,CACA6+I,OAAQV,GAAGl+I,EAAG/zB,EAAEV,K,CAGxB,OAAOU,EAAEirK,gBAAgB9sK,OAAS,IAAM21B,EAAE8+I,iBAAmB5yK,EAAEirK,gBAAgB5jK,KAAK0sB,GAAK,SAASA,EAAG/zB,GACjG,MAAM8zB,EAAI9zB,EAAEkkG,UACZ,GAAIpwE,aAAay1I,GAAI,MAAO,CACxBsJ,UAAW7yK,EAAEqkK,MAAM5J,kBACnBqY,iBAAkB,gBAEtB,GAAIh/I,aAAa01I,GAAI,MAAO,CACxBqJ,UAAW7yK,EAAEqkK,MAAM5J,kBACnBsY,sBAAuB,CACnBz5D,OAAQxlF,EAAE0qE,WAGlB,GAAI1qE,aAAa41I,GAAI,MAAO,CACxBmJ,UAAW7yK,EAAEqkK,MAAM5J,kBACnBuY,mBAAoB,CAChB15D,OAAQxlF,EAAE0qE,WAGlB,GAAI1qE,aAAam2I,GAAI,MAAO,CACxB4I,UAAW7yK,EAAEqkK,MAAM5J,kBACnBwY,UAAWn/I,EAAEg2I,IAEjB,MAAMjU,IACT,CAvBwF,CAuBvF,EAAG9hI,MAAO/zB,EAAEkrK,aAAaV,SAAW12I,EAAEo/I,gBAAkB,SAASn/I,EAAG/zB,GAClE,YAAO,IAAWA,EAAEsqK,WAAa,CAC7BA,WAAYsH,GAAG79I,EAAG/zB,EAAEsqK,kBACpB,IAAWtqK,EAAEuqK,OAAS,CACtBA,OAAQvqK,EAAEuqK,QACV1U,I,CALkD,CAMxD9hI,EAAG/zB,EAAEkrK,eAAgBp3I,C,CA2D3B,SAASq/I,GAAGp/I,EAAG/zB,GACX,MAAO,CACHozK,UAAW,CAAEhB,GAAGr+I,EAAG/zB,EAAEk1I,O,CAI7B,SAASm+B,GAAGt/I,EAAG/zB,GAEX,MAAM8zB,EAAI,CACNw/I,gBAAiB,IAClB1gG,EAAI5yE,EAAEk1I,KACT,OAASl1I,EAAEk7J,iBAAmBpnI,EAAE8zB,OAASwqH,GAAGr+I,EAAG6+C,GAAI9+C,EAAEw/I,gBAAgBxlF,KAAO,CAAE,CAC1EylF,aAAcvzK,EAAEk7J,gBAChBsY,gBAAgB,MACZ1/I,EAAE8zB,OAASwqH,GAAGr+I,EAAG6+C,EAAEqnF,WAAYnmI,EAAEw/I,gBAAgBxlF,KAAO,CAAE,CAC9DylF,aAAc3gG,EAAEunF,iBAEpB,MAAMj8J,EAAI,SAAS61B,GACf,GAAI,IAAMA,EAAE51B,OAAQ,OACpB,MAAM6B,EAAI+zB,EAAE1sB,KAAK0sB,GAEjB,SAASA,GACL,GAAI,OAAqBA,EAAEoyI,GAAI,CAC3B,GAAIlC,GAAGlwI,EAAEttB,OAAQ,MAAO,CACpBgtK,YAAa,CACTpP,MAAOqP,GAAG3/I,EAAEswI,OACZ8B,GAAI,WAGZ,GAAInC,GAAGjwI,EAAEttB,OAAQ,MAAO,CACpBgtK,YAAa,CACTpP,MAAOqP,GAAG3/I,EAAEswI,OACZ8B,GAAI,W,MAGT,GAAI,OAAyBpyI,EAAEoyI,GAAI,CACtC,GAAIlC,GAAGlwI,EAAEttB,OAAQ,MAAO,CACpBgtK,YAAa,CACTpP,MAAOqP,GAAG3/I,EAAEswI,OACZ8B,GAAI,eAGZ,GAAInC,GAAGjwI,EAAEttB,OAAQ,MAAO,CACpBgtK,YAAa,CACTpP,MAAOqP,GAAG3/I,EAAEswI,OACZ8B,GAAI,e,CAIhB,MAAO,CACHwN,YAAa,CACTtP,MAAOqP,GAAG3/I,EAAEswI,OACZ8B,GAAIyN,GAAG7/I,EAAEoyI,IACT1/J,MAAOstB,EAAEttB,OAGpB,CAnCD,CAmCEstB,KACF,OAAI,IAAM/zB,EAAE7B,OAAe6B,EAAE,GACtB,CACH6zK,gBAAiB,CACb1N,GAAI,MACJN,QAAS7lK,G,CA5CX,CA+CRA,EAAE6lK,SACJ3nK,IAAM41B,EAAEw/I,gBAAgBQ,MAAQ51K,GAChC,MAAMo/B,EAAI,SAASvJ,GACf,GAAI,IAAMA,EAAE51B,OACZ,OAAO41B,EAAE1sB,KAAK0sB,GAEd,SAASA,GACL,MAAO,CACHswI,MAAOqP,GAAG3/I,EAAEswI,OACZh/F,UAAW0uG,GAAGhgJ,EAAE8vB,KAEvB,CALD,CAKE9vB,I,CATI,CAUR/zB,EAAE4lK,SACJtoI,IAAMxJ,EAAEw/I,gBAAgB1N,QAAUtoI,GAClC,MAAMm5B,EAAI,SAAS1iC,EAAG/zB,GAClB,OAAO+zB,EAAEm1I,IAAM7G,GAAGriK,GAAKA,EAAI,CACvByG,MAAOzG,E,CAFL,CAOT+zB,EAAG/zB,EAAE+5J,OACN,IAAIvtJ,EACJ,OAAO,OAASiqD,IAAM3iC,EAAEw/I,gBAAgBvZ,MAAQtjG,GAAIz2D,EAAE8lK,UAAYhyI,EAAEw/I,gBAAgBxN,QAAU,CAC1FkO,QAASxnK,EAAIxM,EAAE8lK,SAASM,UACxB9sD,OAAQ9sG,EAAEulE,WACV/xE,EAAE+lK,QAAUjyI,EAAEw/I,gBAAgBvN,MAAQ,SAAShyI,GAC/C,MAAO,CACHigJ,QAASjgJ,EAAEqyI,UACX9sD,OAAQvlF,EAAEg+C,S,CAHwB,CAKxC/xE,EAAE+lK,QAASjyI,C,CAGjB,SAASmgJ,GAAGlgJ,GACR,IAAI/zB,EAAIqyK,GAAGt+I,EAAE6zB,QACb,MAAM9zB,EAAIC,EAAEu/I,gBAAiB1gG,EAAI9+C,EAAEg6D,KAAOh6D,EAAEg6D,KAAK3vF,OAAS,EAC1D,IAAID,EAAI,KACR,GAAI00E,EAAI,EAAG,CACPkjF,GAAE,IAAMljF,GACR,MAAM9lC,EAAIhZ,EAAEg6D,KAAK,GACjBhhD,EAAE0mI,eAAiBt1K,EAAI4uC,EAAEymI,aAAevzK,EAAIA,EAAEud,MAAMuvB,EAAEymI,a,CAE1D,IAAIj2I,EAAI,GACRxJ,EAAEggJ,QAAUx2I,EAAI42I,GAAGpgJ,EAAEggJ,QACrB,IAAIr9G,EAAI,GACR3iC,EAAE8xI,UAAYnvG,EAAI3iC,EAAE8xI,QAAQv+J,KAAK0sB,GAAK,SAASA,GAC3C,OAAO,IAAIyzI,GAAG2M,GAAGpgJ,EAAEswI,OAEnB,SAAStwI,GACL,OAAQA,GACN,IAAK,YACH,MAAO,MAET,IAAK,aACH,MAAO,OAET,QACE,O,CATR,CAaCA,EAAEsxC,WACN,CAjBqC,CAiBpCtxC,MACF,IAAIvnB,EAAI,KACRsnB,EAAEimI,QAAUvtJ,EAAI,SAASunB,GACrB,IAAI/zB,EACJ,OAAOA,EAAI,iBAAmB+zB,EAAIA,EAAEttB,MAAQstB,EAAGsuI,GAAGriK,GAAK,KAAOA,C,CAFlD,CAGd8zB,EAAEimI,QACJ,IAAIp6J,EAAI,KACRm0B,EAAEgyI,UAAYnmK,EAAI,SAASo0B,GACvB,MAAM/zB,IAAM+zB,EAAEigJ,OAAQlgJ,EAAIC,EAAEulF,QAAU,GACtC,OAAO,IAAIiuD,GAAGzzI,EAAG9zB,E,CAFH,CAGhB8zB,EAAEgyI,UACJ,IAAIlmK,EAAI,KACR,OAAOk0B,EAAEiyI,QAAUnmK,EAAI,SAASm0B,GAC5B,MAAM/zB,GAAK+zB,EAAEigJ,OAAQlgJ,EAAIC,EAAEulF,QAAU,GACrC,OAAO,IAAIiuD,GAAGzzI,EAAG9zB,E,CAFE,CAKtB8zB,EAAEiyI,QAASgC,GAAG/nK,EAAG9B,EAAGu4D,EAAGn5B,EAAG9wB,EAAG,IAAkB7M,EAAGC,E,CAwBvD,SAASs0K,GAAGngJ,GACR,OAAOA,OAAI,IAAWA,EAAE0/I,YAAc,CAAEW,GAAGrgJ,SAAO,IAAWA,EAAE4/I,YAAc,CAAEU,GAAGtgJ,SAAO,IAAWA,EAAE8/I,gBAAkB9/I,EAAE8/I,gBAAgBhO,QAAQx+J,KAAK0sB,GAAKmgJ,GAAGngJ,KAAK85B,QAAQ,CAAC95B,EAAG/zB,IAAM+zB,EAAEhB,OAAO/yB,KAAO61J,KAAM,E,CAGhN,SAASke,GAAGhgJ,GACR,OAAOs9I,GAAGt9I,E,CAGd,SAAS6/I,GAAG7/I,GACR,OAAOw9I,GAAGx9I,E,CAGd,SAAS2/I,GAAG3/I,GACR,MAAO,CACH8+I,UAAW9+I,EAAE0mI,kB,CAIrB,SAAS0Z,GAAGpgJ,GACR,OAAO4mI,GAAG2Z,iBAAiBvgJ,EAAE8+I,U,CAGjC,SAASwB,GAAGtgJ,GACR,OAAO2yI,GAAG9iI,OAAOuwI,GAAGpgJ,EAAE4/I,YAAYtP,OAAQ,SAAStwI,GAC/C,OAAQA,GACN,IAAK,QACH,MAAO,KAET,IAAK,YACH,MAAO,KAET,IAAK,eACH,MAAO,IAET,IAAK,wBACH,MAAO,KAET,IAAK,YACH,MAAO,IAET,IAAK,qBACH,MAAO,KAET,IAAK,iBACH,MAAO,iBAET,IAAK,KACH,MAAO,KAET,IAAK,SACH,MAAO,SAET,IAAK,qBACH,MAAO,qBAET,QACE,OAAO8hI,K,CAjC2B,CAmCxC9hI,EAAE4/I,YAAYxN,IAAKpyI,EAAE4/I,YAAYltK,M,CAGvC,SAAS2tK,GAAGrgJ,GACR,OAAQA,EAAE0/I,YAAYtN,IACpB,IAAK,SACH,MAAMnmK,EAAIm0K,GAAGpgJ,EAAE0/I,YAAYpP,OAC3B,OAAOqC,GAAG9iI,OAAO5jC,EAAG,KAAmB,CACnCsjK,YAAaiR,MAGnB,IAAK,UACH,MAAMzgJ,EAAIqgJ,GAAGpgJ,EAAE0/I,YAAYpP,OAC3B,OAAOqC,GAAG9iI,OAAO9P,EAAG,KAAmB,CACnCwzI,UAAW,eAGjB,IAAK,aACH,MAAM10F,EAAIuhG,GAAGpgJ,EAAE0/I,YAAYpP,OAC3B,OAAOqC,GAAG9iI,OAAOgvC,EAAG,KAAuB,CACvC0wF,YAAaiR,MAGnB,IAAK,cACH,MAAMr2K,EAAIi2K,GAAGpgJ,EAAE0/I,YAAYpP,OAC3B,OAAOqC,GAAG9iI,OAAO1lC,EAAG,KAAuB,CACvCopK,UAAW,eAGjB,QACE,OAAOzR,K,CAIf,SAAS6c,GAAG3+I,GACR,MAAM/zB,EAAI,GACV,OAAO+zB,EAAEynI,OAAOl0J,SAASysB,GAAK/zB,EAAEqG,KAAK0tB,EAAE0mI,qBAAsB,CACzD+Z,WAAYx0K,E,CAIpB,SAASgyK,GAAGj+I,GAER,OAAOA,EAAE51B,QAAU,GAAK,aAAe41B,EAAE7gB,IAAI,IAAM,cAAgB6gB,EAAE7gB,IAAI,E;;;;;;;;;;;;;;;;GA+JzE,MAAksBuhK,GAAK,CAAsB,iBAAkB,YAAa,oBAAqB,kBAAmB,UAAW,QAAS,eAAgB,kBAAqB,iBAAoB,uBAA0B,oBAAuB,UAAW,gBAAsDC,GAAK,CAAE,iBAAkB,YAAa,oBAAqB,qBAAsB,UAAW,QAAS,eAAgB,kBAAmB,iBAAkB,uBAAwB,oBAAqB,UAAW,eAAgB,oBAAsBC,GAAKD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+ChuC,MAAME,GAYN7vK,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKwwK,QAAU9gJ,EAAG1vB,KAAKywK,eAAiB90K,EAAGqE,KAAK0wK,cAAgBjhJ,EAAGzvB,KAAK2wK,UAAYpiG,C,CASjFqiG,sBAAsBlhJ,EAAG/zB,GAC5B,MAAM8zB,EAAI9zB,EAAEk1K,gBACZ,IAAK,IAAIxzH,EAAI,EAAGA,EAAIr9C,KAAK2wK,UAAU72K,OAAQujD,IAAK,CAC5C,MAAMkxB,EAAIvuE,KAAK2wK,UAAUtzH,GACrBkxB,EAAEtzE,IAAI21J,QAAQlhI,EAAEz0B,MAChByrK,GAAGn4F,EAAG7+C,EAAGD,EAAE4tB,G,EAWhByzH,iBAAiBphJ,EAAG/zB,GAGvB,IAAK,MAAM8zB,KAAKzvB,KAAK0wK,cAAejhJ,EAAEx0B,IAAI21J,QAAQlhI,EAAEz0B,OAASU,EAAIorK,GAAGt3I,EAAGC,EAAG/zB,EAAGqE,KAAKywK,iBAE1E,IAAK,MAAMva,KAAKl2J,KAAK2wK,UAAWza,EAAEj7J,IAAI21J,QAAQlhI,EAAEz0B,OAASU,EAAIorK,GAAG7Q,EAAGxmI,EAAG/zB,EAAGqE,KAAKywK,iBACtF,OAAO90K,C,CAMJo1K,wBAAwBrhJ,EAAG/zB,GAI9B,MAAM8zB,EAAIg5I,KACV,OAAOzoK,KAAK2wK,UAAU1tK,SAASsrE,IAC3B,MAAM10E,EAAI61B,EAAE7gB,IAAI0/D,EAAEtzE,KAAMg+B,EAAIp/B,EAAEyuK,kBAGlB,IAAIl2G,EAAIpyD,KAAK8wK,iBAAiB73I,EAAGp/B,EAAEm3K,eAInC5+G,EAAIz2D,EAAEszB,IAAIs/C,EAAEtzE,KAAO,KAAOm3D,EACtC,MAAMjqD,EAAIm+J,GAAGrtI,EAAGm5B,GAChB,OAASjqD,GAAKsnB,EAAEhiB,IAAI8gE,EAAEtzE,IAAKkN,GAAI8wB,EAAEgoI,mBAAqBhoI,EAAEwnI,oBAAoBvL,GAAGvpI,MAAM,IACpF8D,C,CAET91B,OACI,OAAOqG,KAAK2wK,UAAUnnH,QAAQ,CAAC95B,EAAG/zB,IAAM+zB,EAAE7lB,IAAIlO,EAAEV,MAAO2tK,K,CAE3DhY,QAAQlhI,GACJ,OAAO1vB,KAAKwwK,UAAY9gJ,EAAE8gJ,SAAWjc,GAAEv0J,KAAK2wK,UAAWjhJ,EAAEihJ,WAAY,CAACjhJ,EAAG/zB,IAAMwrK,GAAGz3I,EAAG/zB,MAAQ44J,GAAEv0J,KAAK0wK,cAAehhJ,EAAEghJ,eAAgB,CAAChhJ,EAAG/zB,IAAMwrK,GAAGz3I,EAAG/zB,I,EAI9F,MAAMs1K,GACjEvwK,YAAYgvB,EAAG/zB,EAAG8zB,EAKlB8+C,GACIvuE,KAAKkxK,MAAQxhJ,EAAG1vB,KAAKmxK,cAAgBx1K,EAAGqE,KAAK6wK,gBAAkBphJ,EAAGzvB,KAAKoxK,YAAc7iG,C,CAMlF8lF,YAAY3kI,EAAG/zB,EAAG8zB,GACrBgiI,GAAE/hI,EAAEihJ,UAAU72K,SAAW21B,EAAE31B,QAC3B,IAAIy0E,EAAIm6F,GACR,MAAM7uK,EAAI61B,EAAEihJ,UACZ,IAAK,IAAIloI,EAAI,EAAGA,EAAI5uC,EAAEC,OAAQ2uC,IAAK8lC,EAAIA,EAAEqrF,OAAO//J,EAAE4uC,GAAGxtC,IAAKw0B,EAAEgZ,GAAG2H,SAC/D,OAAO,IAAI6gI,GAAGvhJ,EAAG/zB,EAAG8zB,EAAG8+C,E;;;;;;;;;;;;;;;;GAyB3B,MAAM8iG,GACN3wK,YAAYgvB,EAAG/zB,GACXqE,KAAK63J,eAAiBnoI,EAAG1vB,KAAKsxK,SAAW31K,C,CAE7C41K,SACI,OAAOvxK,KAAKsxK,SAASr2K,G,CAEzB21J,QAAQlhI,GACJ,OAAO,OAASA,GAAK1vB,KAAKsxK,WAAa5hJ,EAAE4hJ,Q,CAE7CzvK,WACI,MAAO,mCAAmC7B,KAAK63J,oCAAoC73J,KAAKsxK,SAASzvK,mB;;;;;;;;;;;;;;;;GAsBrG,MAAM2vK,GACN9wK,YAEAgvB,EAKA/zB,EAEA8zB,EAKA8+C,EAEA10E,EAAIq7J,GAAGvpI,MAIDsN,EAAIi8H,GAAGvpI,MAMPymC,EAAI8pG,GAAGK,mBACTv8J,KAAK2W,OAAS+Y,EAAG1vB,KAAKgqK,SAAWruK,EAAGqE,KAAK4sK,QAAUn9I,EAAGzvB,KAAKyxK,eAAiBljG,EAAGvuE,KAAKgpK,gBAAkBnvK,EACtGmG,KAAK0xK,6BAA+Bz4I,EAAGj5B,KAAKupK,YAAcn3G,C,CAEgBu/G,mBAAmBjiJ,GAC7F,OAAO,IAAI8hJ,GAAGxxK,KAAK2W,OAAQ3W,KAAKgqK,SAAUhqK,KAAK4sK,QAASl9I,EAAG1vB,KAAKgpK,gBAAiBhpK,KAAK0xK,6BAA8B1xK,KAAKupK,Y,CAKtHqI,gBAAgBliJ,EAAG/zB,GACtB,OAAO,IAAI61K,GAAGxxK,KAAK2W,OAAQ3W,KAAKgqK,SAAUhqK,KAAK4sK,QAAS5sK,KAAKyxK,eAAgB91K,EAAGqE,KAAK0xK,6BAA8BhiJ,E,CAKhHmiJ,iCAAiCniJ,GACpC,OAAO,IAAI8hJ,GAAGxxK,KAAK2W,OAAQ3W,KAAKgqK,SAAUhqK,KAAK4sK,QAAS5sK,KAAKyxK,eAAgBzxK,KAAKgpK,gBAAiBt5I,EAAG1vB,KAAKupK,Y;;;;;;;;;;;;;;;;GAoB5D,MAAMuI,GACzDpxK,YAAYgvB,GACR1vB,KAAKswE,GAAK5gD,C,EA8HlB,SAASqiJ,GAAGriJ,GACR,MAAM/zB,EAAIi0K,GAAG,CACTrsH,OAAQ7zB,EAAE6zB,OACV0rH,gBAAiBv/I,EAAEu/I,kBAEvB,MAAO,SAAWv/I,EAAE6zI,UAAYY,GAAGxoK,EAAGA,EAAE+5J,MAAO,KAAkB/5J,C;;;;;;;;;;;;;;;;GAkOrE,MAAMq2K,GACFtxK,cAAc,CAQduxK,GAAGviJ,EAAG/zB,GACFqE,KAAKkyK,GAAGxiJ,EAAG/zB,GAGXA,EAAEw2K,I,CAEND,GAAGxiJ,EAAG/zB,GACF,GAAI,cAAe+zB,EAAG1vB,KAAKoyK,GAAGz2K,EAAG,QAAS,GAAI,iBAAkB+zB,EAAG1vB,KAAKoyK,GAAGz2K,EAAG,IAC9EA,EAAE02K,GAAG3iJ,EAAEgvI,aAAe,EAAI,QAAS,GAAI,iBAAkBhvI,EAAG1vB,KAAKoyK,GAAGz2K,EAAG,IAAKA,EAAE02K,GAAG1V,GAAGjtI,EAAEsvI,oBAAqB,GAAI,gBAAiBtvI,EAAG,CAC/H,MAAMD,EAAIktI,GAAGjtI,EAAEuvI,aACf1zJ,MAAMkkB,GAAKzvB,KAAKoyK,GAAGz2K,EAAG,KAAOqE,KAAKoyK,GAAGz2K,EAAG,IAAKsiK,GAAGxuI,GAEhD9zB,EAAE02K,GAAG,GAAK12K,EAAE02K,GAAG5iJ,G,MACZ,GAAI,mBAAoBC,EAAG,CAC9B,MAAMwmI,EAAIxmI,EAAE6tI,eACZv9J,KAAKoyK,GAAGz2K,EAAG,IAAK,iBAAmBu6J,EAAIv6J,EAAE22K,GAAGpc,IAAMv6J,EAAE22K,GAAG,GAAGpc,EAAEzB,SAAW,MAAO94J,EAAE02K,GAAGnc,EAAEwG,OAAS,G,MAC3F,GAAI,gBAAiBhtI,EAAG1vB,KAAKuyK,GAAG7iJ,EAAEwtI,YAAavhK,GAAIqE,KAAKwyK,GAAG72K,QAAS,GAAI,eAAgB+zB,EAAG1vB,KAAKoyK,GAAGz2K,EAAG,IAC7GA,EAAE2rH,GAAGs1C,GAAGltI,EAAEivI,aAAc3+J,KAAKwyK,GAAG72K,QAAS,GAAI,mBAAoB+zB,EAAG1vB,KAAKyyK,GAAG/iJ,EAAEkvI,eAAgBjjK,QAAS,GAAI,kBAAmB+zB,EAAG,CAC7H,MAAMgjJ,EAAIhjJ,EAAEmvI,cACZ7+J,KAAKoyK,GAAGz2K,EAAG,IAAKA,EAAE02K,GAAGK,EAAE5T,UAAY,GAAInjK,EAAE02K,GAAGK,EAAE3T,WAAa,E,KACxD,aAAcrvI,EAAI8uI,GAAG9uI,GAAK1vB,KAAKoyK,GAAGz2K,EAAGq0F,OAAOouE,mBAAqBp+J,KAAK2yK,GAAGjjJ,EAAEstI,SAAUrhK,GAC5FqE,KAAKwyK,GAAG72K,IAAM,eAAgB+zB,GAAK1vB,KAAK4yK,GAAGljJ,EAAEwvI,WAAYvjK,GAAIqE,KAAKwyK,GAAG72K,IAAM61J,I,CAE/E+gB,GAAG7iJ,EAAG/zB,GACFqE,KAAKoyK,GAAGz2K,EAAG,IAAKqE,KAAK6yK,GAAGnjJ,EAAG/zB,E,CAE/Bk3K,GAAGnjJ,EAAG/zB,GACFA,EAAE22K,GAAG5iJ,E,CAETijJ,GAAGjjJ,EAAG/zB,GACF,MAAM8zB,EAAIC,EAAEynI,QAAU,GACtBn3J,KAAKoyK,GAAGz2K,EAAG,IACX,IAAK,MAAM8sC,KAAK7uC,OAAOD,KAAK81B,GAAIzvB,KAAKuyK,GAAG9pI,EAAG9sC,GAAIqE,KAAKkyK,GAAGziJ,EAAEgZ,GAAI9sC,E,CAEjEi3K,GAAGljJ,EAAG/zB,GACF,MAAM8zB,EAAIC,EAAEulF,QAAU,GACtBj1G,KAAKoyK,GAAGz2K,EAAG,IACX,IAAK,MAAM8sC,KAAKhZ,EAAGzvB,KAAKkyK,GAAGzpI,EAAG9sC,E,CAElC82K,GAAG/iJ,EAAG/zB,GACFqE,KAAKoyK,GAAGz2K,EAAG,IACX+6J,GAAG8I,SAAS9vI,GAAGmhH,KAAK5tI,SAASysB,IACzB1vB,KAAKoyK,GAAGz2K,EAAG,IAAKqE,KAAK6yK,GAAGnjJ,EAAG/zB,EAAE,G,CAGrCy2K,GAAG1iJ,EAAG/zB,GACF+zB,EAAE2iJ,GAAG12K,E,CAET62K,GAAG9iJ,GAICA,EAAE2iJ,GAAG,E,EAIbL,GAAGc,GAAK,IAAId;;;;;;;;;;;;;;;;;AAgZR,MAAMe,GACNryK,cACIV,KAAKgzK,GAAK,IAAIC,E,CAElBC,2BAA2BxjJ,EAAG/zB,GAC1B,OAAOqE,KAAKgzK,GAAGnpK,IAAIlO,GAAI08J,GAAG/vJ,S,CAE9B6qK,qBAAqBzjJ,EAAG/zB,GACpB,OAAO08J,GAAG/vJ,QAAQtI,KAAKgzK,GAAGI,WAAWz3K,G,CAEzC03K,cAAc3jJ,EAAG/zB,GAEb,OAAO08J,GAAG/vJ,S,CAEdgrK,iBAAiB5jJ,EAAG/zB,GAEhB,OAAO08J,GAAG/vJ,S,CAEdirK,2BAA2B7jJ,EAAG/zB,GAE1B,OAAO08J,GAAG/vJ,QAAQ,K,CAEtBkrK,aAAa9jJ,EAAG/zB,GAEZ,OAAO08J,GAAG/vJ,QAAQ,E,CAEtBmrK,gBAAgB/jJ,EAAG/zB,GAEf,OAAO08J,GAAG/vJ,QAAQ,G,CAEtBorK,+BAA+BhkJ,GAE3B,OAAO2oI,GAAG/vJ,QAAQ,K,CAEtBqrK,aAAajkJ,EAAG/zB,GACZ,OAAO08J,GAAG/vJ,QAAQkvJ,GAAG7rI,M,CAEzBioJ,gCAAgClkJ,EAAG/zB,GAC/B,OAAO08J,GAAG/vJ,QAAQkvJ,GAAG7rI,M,CAEzBkoJ,sBAAsBnkJ,EAAG/zB,EAAG8zB,GAExB,OAAO4oI,GAAG/vJ,S,CAEdwrK,mBAAmBpkJ,EAAG/zB,GAElB,OAAO08J,GAAG/vJ,S,EAQd,MAAM2qK,GACNvyK,cACIV,KAAKg7B,MAAQ,E,CAGjBnxB,IAAI6lB,GACA,MAAM/zB,EAAI+zB,EAAEomI,cAAermI,EAAIC,EAAEkmI,UAAWrnF,EAAIvuE,KAAKg7B,MAAMr/B,IAAM,IAAI8/J,GAAGtF,GAAGV,YAAa57J,GAAK00E,EAAEt/C,IAAIQ,GACnG,OAAOzvB,KAAKg7B,MAAMr/B,GAAK4yE,EAAE1kE,IAAI4lB,GAAI51B,C,CAErCo1B,IAAIS,GACA,MAAM/zB,EAAI+zB,EAAEomI,cAAermI,EAAIC,EAAEkmI,UAAWrnF,EAAIvuE,KAAKg7B,MAAMr/B,GAC3D,OAAO4yE,GAAKA,EAAEt/C,IAAIQ,E,CAEtB2jJ,WAAW1jJ,GACP,OAAQ1vB,KAAKg7B,MAAMtL,IAAM,IAAI+rI,GAAGtF,GAAGV,aAAaryJ,S;;;;;;;;;;;;;;;;GAmBzC,IAAIi7G,WAAW,GAghB9B,MAAM01D,GACFrzK,YAGAgvB,EAEA/zB,EAGA8zB,GACIzvB,KAAKg0K,6BAA+BtkJ,EAAG1vB,KAAKi0K,oBAAsBt4K,EAAGqE,KAAKk0K,gCAAkCzkJ,C,CAEhH4kI,qBAAqB3kI,GACjB,OAAO,IAAIqkJ,GAAGrkJ,EAAGqkJ,GAAGI,8BAA+BJ,GAAGK,wC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAqEIL,GAAGI,8BAAgC,GACrGJ,GAAGK,wCAA0C,IAAKL,GAAGr4B,QAAU,IAAIq4B,GAAG,SAAUA,GAAGI,8BAA+BJ,GAAGK,yCACrHL,GAAGM,SAAW,IAAIN,IAAG,EAAI,EAAG;;;;;;;;;;;;;;;;;AA2T5B,MAAMO,GACF5zK,YAAYgvB,GACR1vB,KAAKu0K,GAAK7kJ,C,CAEdxtB,OACI,OAAOlC,KAAKu0K,IAAM,EAAGv0K,KAAKu0K,E,CAE9BlgB,YAKI,OAAO,IAAIigB,GAAG,E,CAElBjgB,YAEI,OAAO,IAAIigB,IAAG,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0elB,MAAME,GACN9zK,cAEIV,KAAKy0K,QAAU,IAAI7M,IAAIl4I,GAAKA,EAAE7tB,aAAc,CAAC6tB,EAAG/zB,IAAM+zB,EAAEkhI,QAAQj1J,KAAMqE,KAAK00K,gBAAiB,C,CAOzFC,SAASjlJ,GACZ1vB,KAAK40K,mBAAoB50K,KAAKy0K,QAAQhnK,IAAIiiB,EAAEz0B,IAAKy0B,E,CAO9CmlJ,YAAYnlJ,EAAG/zB,GAClBqE,KAAK40K,mBAAoB50K,KAAKy0K,QAAQhnK,IAAIiiB,EAAG2wI,GAAGyU,mBAAmBplJ,GAAGmxI,YAAYllK,G,CAY/Eo5K,SAASrlJ,EAAG/zB,GACfqE,KAAK40K,mBACL,MAAMnlJ,EAAIzvB,KAAKy0K,QAAQ5lK,IAAIlT,GAC3B,YAAO,IAAW8zB,EAAI4oI,GAAG/vJ,QAAQmnB,GAAKzvB,KAAKg1K,aAAatlJ,EAAG/zB,E,CAWxDy3K,WAAW1jJ,EAAG/zB,GACjB,OAAOqE,KAAKi1K,gBAAgBvlJ,EAAG/zB,E,CAK5BuH,MAAMwsB,GACT,OAAO1vB,KAAK40K,mBAAoB50K,KAAK00K,gBAAiB,EAAI10K,KAAKmgK,aAAazwI,E,CAE3BklJ,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4W5E,MAAMM,GACFx0K,YAAYgvB,EAKZ/zB,GACIqE,KAAKsoK,kBAAoB54I,EAAG1vB,KAAKgxK,cAAgBr1K,C;;;;;;;;;;;;;;;;GAyBrD,MAAMw5K,GACNz0K,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKo1K,oBAAsB1lJ,EAAG1vB,KAAKq1K,cAAgB15K,EAAGqE,KAAKs1K,qBAAuB7lJ,EAClFzvB,KAAKu1K,aAAehnG,C,CAOjBinG,YAAY9lJ,EAAG/zB,GAClB,IAAI8zB,EAAI,KACR,OAAOzvB,KAAKs1K,qBAAqBG,WAAW/lJ,EAAG/zB,GAAGuG,MAAMqsE,IAAM9+C,EAAI8+C,EAAGvuE,KAAK01K,gBAAgBhmJ,EAAG/zB,EAAG8zB,MAAMvtB,MAAMwtB,IAAM,OAASD,GAAKs3I,GAAGt3I,EAAE6hJ,SAAU5hJ,EAAGssI,GAAGvE,QAASjD,GAAGnzI,OACjKqO,I,CAOGimJ,aAAajmJ,EAAG/zB,GACnB,OAAOqE,KAAKo1K,oBAAoBhC,WAAW1jJ,EAAG/zB,GAAGuG,MAAMvG,GAAKqE,KAAK41K,wBAAwBlmJ,EAAG/zB,EAAGitK,MAAM1mK,MAAM,IAAMvG,K,CAW9Gi6K,wBAAwBlmJ,EAAG/zB,EAAG8zB,EAAIm5I,MACrC,MAAMr6F,EAAIg6F,KACV,OAAOvoK,KAAK61K,iBAAiBnmJ,EAAG6+C,EAAG5yE,GAAGuG,MAAM,IAAMlC,KAAK81K,aAAapmJ,EAAG/zB,EAAG4yE,EAAG9+C,GAAGvtB,MAAMwtB,IAClF,IAAI/zB,EAAIysK,KACR,OAAO14I,EAAEzsB,SAAS,CAACysB,EAAGD,KAClB9zB,EAAIA,EAAEi+J,OAAOlqI,EAAGD,EAAE64I,kBAAkB,IACnC3sK,CAAC,K,CAOPo6K,sBAAsBrmJ,EAAG/zB,GAC5B,MAAM8zB,EAAI84I,KACV,OAAOvoK,KAAK61K,iBAAiBnmJ,EAAGD,EAAG9zB,GAAGuG,MAAM,IAAMlC,KAAK81K,aAAapmJ,EAAG/zB,EAAG8zB,EAAGm5I,O,CAK1EiN,iBAAiBnmJ,EAAG/zB,EAAG8zB,GAC1B,MAAM8+C,EAAI,GACV,OAAO9+C,EAAExsB,SAASysB,IACd/zB,EAAEszB,IAAIS,IAAM6+C,EAAEvsE,KAAK0tB,EAAE,IACpB1vB,KAAKs1K,qBAAqBU,YAAYtmJ,EAAG6+C,GAAGrsE,MAAMwtB,IACnDA,EAAEzsB,SAAS,CAACysB,EAAGD,KACX9zB,EAAE8R,IAAIiiB,EAAGD,EAAE,GACZ,G,CAcJqmJ,aAAapmJ,EAAG/zB,EAAG8zB,EAAG8+C,GACzB,IAAI10E,EAAIquK,KACR,MAAMjvI,EAAIuvI,KAAMp2G,EAAIo2G,KACpB,OAAO7sK,EAAEsH,SAAS,CAACysB,EAAG/zB,KAClB,MAAMy2D,EAAI3iC,EAAE5gB,IAAIlT,EAAEV,KAQNszE,EAAEt/C,IAAItzB,EAAEV,YAAS,IAAWm3D,GAAKA,EAAEk/G,oBAAoB7K,IAAM5sK,EAAIA,EAAE+/J,OAAOj+J,EAAEV,IAAKU,QAAK,IAAWy2D,IAAMn5B,EAAExrB,IAAI9R,EAAEV,IAAKm3D,EAAEk/G,SAASjK,gBAC3IN,GAAG30G,EAAEk/G,SAAU31K,EAAGy2D,EAAEk/G,SAASjK,eAAgB7S,GAAGnzI,OAAM,IACrDrhB,KAAKi2K,2BAA2BvmJ,EAAG71B,GAAGqI,MAAMwtB,IAAMA,EAAEzsB,SAAS,CAACysB,EAAG/zB,IAAMs9B,EAAExrB,IAAIiiB,EAAG/zB,KACrFA,EAAEsH,SAAS,CAACysB,EAAG/zB,KACX,IAAI8zB,EACJ,OAAO2iC,EAAE3kD,IAAIiiB,EAAG,IAAIwlJ,GAAGv5K,EAAG,QAAU8zB,EAAIwJ,EAAEpqB,IAAI6gB,UAAO,IAAWD,EAAIA,EAAI,MAAM,IAC7E2iC,I,CAET6jH,2BAA2BvmJ,EAAG/zB,GAC1B,MAAM8zB,EAAI+4I,KAEF,IAAIj6F,EAAI,IAAIkrF,IAAI,CAAC/pI,EAAG/zB,IAAM+zB,EAAI/zB,IAAK9B,EAAI+uK,KAC/C,OAAO5oK,KAAKq1K,cAAca,2CAA2CxmJ,EAAG/zB,GAAGuG,MAAMwtB,IAC7E,IAAK,MAAM71B,KAAK61B,EAAG71B,EAAEF,OAAOsJ,SAASysB,IACjC,MAAMuJ,EAAIt9B,EAAEkT,IAAI6gB,GAChB,GAAI,OAASuJ,EAAG,OAChB,IAAIm5B,EAAI3iC,EAAE5gB,IAAI6gB,IAAMssI,GAAGvE,QACvBrlG,EAAIv4D,EAAEi3K,iBAAiB73I,EAAGm5B,GAAI3iC,EAAEhiB,IAAIiiB,EAAG0iC,GACvC,MAAMjqD,GAAKomE,EAAE1/D,IAAIhV,EAAE22K,UAAY5H,MAAM/+J,IAAI6lB,GACzC6+C,EAAIA,EAAEqrF,OAAO//J,EAAE22K,QAASroK,EAAE,GAC3B,IACHjG,MAAM,KACN,MAAM+2B,EAAI,GAAIm5B,EAAImc,EAAE+rF,qBAGR,KAAMloG,EAAEuoG,WAAa,CAC7B,MAAMwb,EAAI/jH,EAAEsoG,UAAWvyJ,EAAIguK,EAAEl7K,IAAKK,EAAI66K,EAAE/zK,MAAO7G,EAAIktK,KACnDntK,EAAE2H,SAASysB,IACP,IAAK71B,EAAEo1B,IAAIS,GAAI,CACX,MAAM6+C,EAAI+3F,GAAG3qK,EAAEkT,IAAI6gB,GAAID,EAAE5gB,IAAI6gB,IAC7B,OAAS6+C,GAAKhzE,EAAEkS,IAAIiiB,EAAG6+C,GAAI10E,EAAIA,EAAEgQ,IAAI6lB,E,KAExCuJ,EAAEj3B,KAAKhC,KAAKs1K,qBAAqBc,aAAa1mJ,EAAGvnB,EAAG5M,G,CAE7D,OAAO88J,GAAGS,QAAQ7/H,EAAE,IACpB/2B,MAAM,IAAMutB,G,CAKb4mJ,0CAA0C3mJ,EAAG/zB,GAChD,OAAOqE,KAAKo1K,oBAAoBhC,WAAW1jJ,EAAG/zB,GAAGuG,MAAMvG,GAAKqE,KAAKi2K,2BAA2BvmJ,EAAG/zB,I,CAQ5F26K,0BAA0B5mJ,EAAG/zB,EAAG8zB,GAKnC,OAAO,SAASC,GACZ,OAAOgnI,GAAG0L,cAAc1yI,EAAEmhH,OAAS,OAASnhH,EAAEmnI,iBAAmB,IAAMnnI,EAAE8xI,QAAQ1nK,M,CAD9E,CAEL6B,GAAKqE,KAAKu2K,kCAAkC7mJ,EAAG/zB,EAAEk1I,MAAQkzB,GAAGpoK,GAAKqE,KAAKw2K,yCAAyC9mJ,EAAG/zB,EAAG8zB,GAAKzvB,KAAKy2K,oCAAoC/mJ,EAAG/zB,EAAG8zB,E,CAgBxKinJ,iBAAiBhnJ,EAAG/zB,EAAG8zB,EAAG8+C,GAC7B,OAAOvuE,KAAKo1K,oBAAoBuB,0BAA0BjnJ,EAAG/zB,EAAG8zB,EAAG8+C,GAAGrsE,MAAMrI,IACxE,MAAMo/B,EAAIs1C,EAAI10E,EAAEqsC,KAAO,EAAIlmC,KAAKs1K,qBAAqBsB,8BAA8BlnJ,EAAG/zB,EAAG8zB,EAAEooI,eAAgBtpF,EAAI10E,EAAEqsC,MAAQmyH,GAAG/vJ,QAAQigK,MAKxH,IAAIn2G,GAAI,EAAIjqD,EAAItO,EAC5B,OAAOo/B,EAAE/2B,MAAMvG,GAAK08J,GAAGp1J,QAAQtH,GAAI,CAACA,EAAG8zB,KAAO2iC,EAAI3iC,EAAEooI,iBAAmBzlG,EAAI3iC,EAAEooI,gBAC7Eh+J,EAAEgV,IAAIlT,GAAK08J,GAAG/vJ,UAAYtI,KAAK01K,gBAAgBhmJ,EAAG/zB,EAAG8zB,GAAGvtB,MAAMwtB,IAC1DvnB,EAAIA,EAAEyxJ,OAAOj+J,EAAG+zB,EAAE,OACfxtB,MAAM,IAAMlC,KAAK61K,iBAAiBnmJ,EAAG/zB,EAAG9B,KAAKqI,MAAM,IAAMlC,KAAK81K,aAAapmJ,EAAGvnB,EAAGxM,EAAGitK,QAAQ1mK,MAAMwtB,IAAM,CAC3G8gJ,QAASp+G,EACTqiH,QAASpM,GAAG34I,QACV,G,CAGd6mJ,kCAAkC7mJ,EAAG/zB,GAEjC,OAAOqE,KAAKw1K,YAAY9lJ,EAAG,IAAIgnI,GAAG/6J,IAAIuG,MAAMwtB,IACxC,IAAI/zB,EAAIysK,KACR,OAAO14I,EAAEwxI,oBAAsBvlK,EAAIA,EAAEi+J,OAAOlqI,EAAEz0B,IAAKy0B,IAAK/zB,CAAC,G,CAGjE66K,yCAAyC9mJ,EAAG/zB,EAAG8zB,GAC3C,MAAM8+C,EAAI5yE,EAAEk7J,gBACZ,IAAIh9J,EAAIuuK,KACR,OAAOpoK,KAAKu1K,aAAapC,qBAAqBzjJ,EAAG6+C,GAAGrsE,MAAM+2B,GAAKo/H,GAAGp1J,QAAQg2B,GAAIA,IAC1E,MAAMm5B,EAAI,SAAS1iC,EAAG/zB,GAClB,OAAO,IAAI0nK,GAAG1nK,EACO,KAAM+zB,EAAE4zI,gBAAgBj4J,QAASqkB,EAAE8xI,QAAQn2J,QAASqkB,EAAEgmI,MAAOhmI,EAAE6zI,UAAW7zI,EAAE+xI,QAAS/xI,EAAEgyI,M,CAFtG,CAGR/lK,EAAGs9B,EAAE/f,MAAMq1D,IACb,OAAOvuE,KAAKy2K,oCAAoC/mJ,EAAG0iC,EAAG3iC,GAAGvtB,MAAMwtB,IAC3DA,EAAEzsB,SAAS,CAACysB,EAAG/zB,KACX9B,EAAIA,EAAE+/J,OAAOlqI,EAAG/zB,EAAE,GACnB,GACJ,IACHuG,MAAM,IAAMrI,K,CAEpB48K,oCAAoC/mJ,EAAG/zB,EAAG8zB,GAEtC,IAAI8+C,EACJ,OAAOvuE,KAAKo1K,oBAAoByB,qBAAqBnnJ,EAAG/zB,EAAEk1I,KAAMphH,GAAGvtB,MAAMrI,IAAM00E,EAAI10E,EACnFmG,KAAKs1K,qBAAqBwB,yBAAyBpnJ,EAAG/zB,EAAEk1I,KAAMphH,EAAEooI,mBAAmB31J,MAAMwtB,IAGrFA,EAAEzsB,SAAS,CAACysB,EAAG/zB,KACX,MAAM8zB,EAAI9zB,EAAE41K,SACZ,OAAShjG,EAAE1/D,IAAI4gB,KAAO8+C,EAAIA,EAAEqrF,OAAOnqI,EAAG4wI,GAAGyU,mBAAmBrlJ,IAAG,IAGnE,IAAIA,EAAI24I,KACR,OAAO75F,EAAEtrE,SAAS,CAACsrE,EAAG10E,KAClB,MAAMo/B,EAAIvJ,EAAE7gB,IAAI0/D,QAChB,IAAWt1C,GAAK8tI,GAAG9tI,EAAEq4I,SAAUz3K,EAAGmiK,GAAGvE,QAASjD,GAAGnzI,OAEjDmjJ,GAAG7oK,EAAG9B,KAAO41B,EAAIA,EAAEmqI,OAAOrrF,EAAG10E,GAAE,IAC9B41B,CAAC,G,CAGyDimJ,gBAAgBhmJ,EAAG/zB,EAAG8zB,GACzF,OAAO,OAASA,GAAK,IAAkBA,EAAE6hJ,SAASt1K,KAAOgE,KAAKo1K,oBAAoBL,SAASrlJ,EAAG/zB,GAAK08J,GAAG/vJ,QAAQ+3J,GAAGyU,mBAAmBn5K,G;;;;;;;;;;;;;;;;GAmBxI,MAAMo7K,GACNr2K,YAAYgvB,GACR1vB,KAAK0lK,GAAKh2I,EAAG1vB,KAAKg3K,GAAK,IAAI75J,IAAKnd,KAAKi3K,GAAK,IAAI95J,G,CAElD+5J,kBAAkBxnJ,EAAG/zB,GACjB,OAAO08J,GAAG/vJ,QAAQtI,KAAKg3K,GAAGnoK,IAAIlT,G,CAElCw7K,mBAAmBznJ,EAAG/zB,GAElB,IAAI8zB,EACJ,OAAOzvB,KAAKg3K,GAAGvpK,IAAI9R,EAAE5B,GAAI,CACrBA,IAAK01B,EAAI9zB,GAAG5B,GACZq2C,QAAS3gB,EAAE2gB,QACXgnI,WAAY5J,GAAG/9I,EAAE2nJ,cACjB/e,GAAG/vJ,S,CAEX+uK,cAAc3nJ,EAAG/zB,GACb,OAAO08J,GAAG/vJ,QAAQtI,KAAKi3K,GAAGpoK,IAAIlT,G,CAElC27K,eAAe5nJ,EAAG/zB,GACd,OAAOqE,KAAKi3K,GAAGxpK,IAAI9R,EAAEuS,KAAM,SAASwhB,GAChC,MAAO,CACHxhB,KAAMwhB,EAAExhB,KACRq7D,MAAOwoG,GAAGriJ,EAAE6nJ,cACZ5f,SAAU6V,GAAG99I,EAAEioI,U,CAJI,CAMzBh8J,IAAK08J,GAAG/vJ,S;;;;;;;;;;;;;;;;GAsBd,MAAMkvK,GACN92K,cAGIV,KAAKy3K,SAAW,IAAIhe,GAAG/C,GAAGjB,YAAaz1J,KAAK03K,GAAK,IAAIv6J,G,CAEzDs4J,WAAW/lJ,EAAG/zB,GACV,OAAO08J,GAAG/vJ,QAAQtI,KAAKy3K,SAAS5oK,IAAIlT,G,CAExCq6K,YAAYtmJ,EAAG/zB,GACX,MAAM8zB,EAAI84I,KACV,OAAOlQ,GAAGp1J,QAAQtH,GAAIA,GAAKqE,KAAKy1K,WAAW/lJ,EAAG/zB,GAAGuG,MAAMwtB,IACnD,OAASA,GAAKD,EAAEhiB,IAAI9R,EAAG+zB,EAAE,MACvBxtB,MAAM,IAAMutB,G,CAEtB2mJ,aAAa1mJ,EAAG/zB,EAAG8zB,GACf,OAAOA,EAAExsB,SAAS,CAACwsB,EAAG8+C,KAClBvuE,KAAK23K,GAAGjoJ,EAAG/zB,EAAG4yE,EAAE,IACf8pF,GAAG/vJ,S,CAEZsvK,yBAAyBloJ,EAAG/zB,EAAG8zB,GAC3B,MAAM8+C,EAAIvuE,KAAK03K,GAAG7oK,IAAI4gB,GACtB,YAAO,IAAW8+C,IAAMA,EAAEtrE,SAASysB,GAAK1vB,KAAKy3K,SAAWz3K,KAAKy3K,SAASpuF,OAAO35D,KAC7E1vB,KAAK03K,GAAGl6J,OAAOiS,IAAK4oI,GAAG/vJ,S,CAE3BwuK,yBAAyBpnJ,EAAG/zB,EAAG8zB,GAC3B,MAAM8+C,EAAIg6F,KAAM1uK,EAAI8B,EAAE7B,OAAS,EAAGm/B,EAAI,IAAIy9H,GAAG/6J,EAAEud,MAAM,KAAMk5C,EAAIpyD,KAAKy3K,SAASpd,gBAAgBphI,GAC7F,KAAMm5B,EAAEuoG,WAAa,CACjB,MAAMlyH,EAAI2pB,EAAEsoG,UAAUt4J,MAAOy1K,EAAIpvI,EAAE8oI,SACnC,IAAK51K,EAAEq6J,WAAW6hB,EAAEhnC,MAAO,MAEfgnC,EAAEhnC,KAAK/2I,SAAWD,GAAM4uC,EAAEovH,eAAiBpoI,GAAK8+C,EAAE9gE,IAAIg7B,EAAE8oI,SAAU9oI,E,CAElF,OAAO4vH,GAAG/vJ,QAAQimE,E,CAEtBqoG,8BAA8BlnJ,EAAG/zB,EAAG8zB,EAAG8+C,GACnC,IAAI10E,EAAI,IAAI4/J,IAAI,CAAC/pI,EAAG/zB,IAAM+zB,EAAI/zB,IAC9B,MAAMs9B,EAAIj5B,KAAKy3K,SAAStd,cACxB,KAAMlhI,EAAE0hI,WAAa,CACjB,MAAMlyH,EAAIxP,EAAEyhI,UAAUt4J,MACtB,GAAIqmC,EAAE8oI,SAASxa,uBAAyBp7J,GAAK8sC,EAAEovH,eAAiBpoI,EAAG,CAC/D,IAAI4tB,EAAIxjD,EAAEgV,IAAI45B,EAAEovH,gBAChB,OAASx6G,IAAMA,EAAIkrH,KAAM1uK,EAAIA,EAAE+/J,OAAOnxH,EAAEovH,eAAgBx6G,IAAKA,EAAE5vC,IAAIg7B,EAAE8oI,SAAU9oI,E,EAGvF,MAAM2pB,EAAIm2G,KAAMpgK,EAAItO,EAAEsgK,cACtB,KAAMhyJ,EAAEwyJ,YACAxyJ,EAAEuyJ,UAAUt4J,MAAMa,SAAS,CAACysB,EAAG/zB,IAAMy2D,EAAE3kD,IAAIiiB,EAAG/zB,OAAMy2D,EAAElsB,QAAUqoC,MAExE,OAAO8pF,GAAG/vJ,QAAQ8pD,E,CAEtBulH,GAAGjoJ,EAAG/zB,EAAG8zB,GAEL,MAAM8+C,EAAIvuE,KAAKy3K,SAAS5oK,IAAI4gB,EAAEx0B,KAC9B,GAAI,OAASszE,EAAG,CACZ,MAAM9lC,EAAIzoC,KAAK03K,GAAG7oK,IAAI0/D,EAAEspF,gBAAgBr6I,OAAOiS,EAAEx0B,KACjD+E,KAAK03K,GAAGjqK,IAAI8gE,EAAEspF,eAAgBpvH,E,CAElCzoC,KAAKy3K,SAAWz3K,KAAKy3K,SAAS7d,OAAOnqI,EAAEx0B,IAAK,IAAIo2K,GAAG11K,EAAG8zB,IAEtD,IAAI51B,EAAImG,KAAK03K,GAAG7oK,IAAIlT,QACpB,IAAW9B,IAAMA,EAAI+uK,KAAM5oK,KAAK03K,GAAGjqK,IAAI9R,EAAG9B,IAAKmG,KAAK03K,GAAGjqK,IAAI9R,EAAG9B,EAAEgQ,IAAI4lB,EAAEx0B,K;;;;;;;;;;;;;;;;GAkC1E,MAAM68K,GACNp3K,cAEIV,KAAK4oD,GAAK,IAAI6yG,GAAGsc,GAAGC,IAEpBh4K,KAAKi4K,GAAK,IAAIxc,GAAGsc,GAAGG,G,CAE4CniB,UAChE,OAAO/1J,KAAK4oD,GAAGmtG,S,CAEoDoiB,aAAazoJ,EAAG/zB,GACnF,MAAM8zB,EAAI,IAAIsoJ,GAAGroJ,EAAG/zB,GACpBqE,KAAK4oD,GAAK5oD,KAAK4oD,GAAG/+C,IAAI4lB,GAAIzvB,KAAKi4K,GAAKj4K,KAAKi4K,GAAGpuK,IAAI4lB,E,CAEkB2oJ,GAAG1oJ,EAAG/zB,GACxE+zB,EAAEzsB,SAASysB,GAAK1vB,KAAKm4K,aAAazoJ,EAAG/zB,I,CAKlC08K,gBAAgB3oJ,EAAG/zB,GACtBqE,KAAKs4K,GAAG,IAAIP,GAAGroJ,EAAG/zB,G,CAEtB48K,GAAG7oJ,EAAG/zB,GACF+zB,EAAEzsB,SAASysB,GAAK1vB,KAAKq4K,gBAAgB3oJ,EAAG/zB,I,CAKrC68K,GAAG9oJ,GACN,MAAM/zB,EAAI,IAAI+6J,GAAG,IAAIP,GAAG,KAAM1mI,EAAI,IAAIsoJ,GAAGp8K,EAAG+zB,GAAI6+C,EAAI,IAAIwpG,GAAGp8K,EAAG+zB,EAAI,GAAI71B,EAAI,GAC1E,OAAOmG,KAAKi4K,GAAGtc,eAAe,CAAElsI,EAAG8+C,IAAM7+C,IACrC1vB,KAAKs4K,GAAG5oJ,GAAI71B,EAAEmI,KAAK0tB,EAAEz0B,IAAI,IACxBpB,C,CAET4+K,KACIz4K,KAAK4oD,GAAG3lD,SAASysB,GAAK1vB,KAAKs4K,GAAG5oJ,I,CAElC4oJ,GAAG5oJ,GACC1vB,KAAK4oD,GAAK5oD,KAAK4oD,GAAGprC,OAAOkS,GAAI1vB,KAAKi4K,GAAKj4K,KAAKi4K,GAAGz6J,OAAOkS,E,CAE1DgpJ,GAAGhpJ,GACC,MAAM/zB,EAAI,IAAI+6J,GAAG,IAAIP,GAAG,KAAM1mI,EAAI,IAAIsoJ,GAAGp8K,EAAG+zB,GAAI6+C,EAAI,IAAIwpG,GAAGp8K,EAAG+zB,EAAI,GAClE,IAAI71B,EAAI+uK,KACR,OAAO5oK,KAAKi4K,GAAGtc,eAAe,CAAElsI,EAAG8+C,IAAM7+C,IACrC71B,EAAIA,EAAEgQ,IAAI6lB,EAAEz0B,IAAI,IACfpB,C,CAET84I,YAAYjjH,GACR,MAAM/zB,EAAI,IAAIo8K,GAAGroJ,EAAG,GAAID,EAAIzvB,KAAK4oD,GAAGizG,kBAAkBlgK,GACtD,OAAO,OAAS8zB,GAAKC,EAAEkhI,QAAQnhI,EAAEx0B,I,EAIzC,MAAM88K,GACFr3K,YAAYgvB,EAAG/zB,GACXqE,KAAK/E,IAAMy0B,EAAG1vB,KAAK24K,GAAKh9K,C,CAEQ04J,UAAU3kI,EAAG/zB,GAC7C,OAAO+6J,GAAGjB,WAAW/lI,EAAEz0B,IAAKU,EAAEV,MAAQq5J,GAAE5kI,EAAEipJ,GAAIh9K,EAAEg9K,G,CAEhBtkB,UAAU3kI,EAAG/zB,GAC7C,OAAO24J,GAAE5kI,EAAEipJ,GAAIh9K,EAAEg9K,KAAOjiB,GAAGjB,WAAW/lI,EAAEz0B,IAAKU,EAAEV,I;;;;;;;;;;;;;;;;GAmBnD,MAAM29K,GACNl4K,YAAYgvB,EAAG/zB,GACXqE,KAAKu1K,aAAe7lJ,EAAG1vB,KAAK64K,kBAAoBl9K,EAKhDqE,KAAKq1K,cAAgB,GAErBr1K,KAAK84K,GAAK,EAEV94K,KAAKglD,GAAK,IAAIy2G,GAAGsc,GAAGC,G,CAExBe,WAAWrpJ,GACP,OAAO2oI,GAAG/vJ,QAAQ,IAAMtI,KAAKq1K,cAAcv7K,O,CAE/Ck/K,iBAAiBtpJ,EAAG/zB,EAAG8zB,EAAG8+C,GACtB,MAAM10E,EAAImG,KAAK84K,GACf94K,KAAK84K,KAAM94K,KAAKq1K,cAAcv7K,OAAS,GAAKkG,KAAKq1K,cAAcr1K,KAAKq1K,cAAcv7K,OAAS,GAC3F,MAAMm/B,EAAI,IAAIs3I,GAAG12K,EAAG8B,EAAG8zB,EAAG8+C,GAC1BvuE,KAAKq1K,cAAcrzK,KAAKi3B,GAExB,IAAK,MAAMokB,KAAKkxB,EAAGvuE,KAAKglD,GAAKhlD,KAAKglD,GAAGn7C,IAAI,IAAIkuK,GAAG16H,EAAEpiD,IAAKpB,IAAKmG,KAAKu1K,aAAarC,2BAA2BxjJ,EAAG2tB,EAAEpiD,IAAI41I,KAAK+kB,WACvH,OAAOyC,GAAG/vJ,QAAQ2wB,E,CAEtBggJ,oBAAoBvpJ,EAAG/zB,GACnB,OAAO08J,GAAG/vJ,QAAQtI,KAAKk5K,GAAGv9K,G,CAE9Bw9K,iCAAiCzpJ,EAAG/zB,GAChC,MAAM8zB,EAAI9zB,EAAI,EAAG4yE,EAAIvuE,KAAKo5K,GAAG3pJ,GAAI51B,EAAI00E,EAAI,EAAI,EAAIA,EAGzC,OAAO8pF,GAAG/vJ,QAAQtI,KAAKq1K,cAAcv7K,OAASD,EAAImG,KAAKq1K,cAAcx7K,GAAK,K,CAEtFw/K,kCACI,OAAOhhB,GAAG/vJ,QAAQ,IAAMtI,KAAKq1K,cAAcv7K,QAAS,EAAKkG,KAAK84K,GAAK,E,CAEvEQ,sBAAsB5pJ,GAClB,OAAO2oI,GAAG/vJ,QAAQtI,KAAKq1K,cAAchqK,Q,CAEzCkuK,0CAA0C7pJ,EAAG/zB,GACzC,MAAM8zB,EAAI,IAAIsoJ,GAAGp8K,EAAG,GAAI4yE,EAAI,IAAIwpG,GAAGp8K,EAAGq0F,OAAOwpF,mBAAoB3/K,EAAI,GACrE,OAAOmG,KAAKglD,GAAG22G,eAAe,CAAElsI,EAAG8+C,IAAM7+C,IACrC,MAAM/zB,EAAIqE,KAAKk5K,GAAGxpJ,EAAEipJ,IACpB9+K,EAAEmI,KAAKrG,EAAE,IACR08J,GAAG/vJ,QAAQzO,E,CAEpBq8K,2CAA2CxmJ,EAAG/zB,GAC1C,IAAI8zB,EAAI,IAAIgsI,GAAGnH,IACf,OAAO34J,EAAEsH,SAASysB,IACd,MAAM/zB,EAAI,IAAIo8K,GAAGroJ,EAAG,GAAI6+C,EAAI,IAAIwpG,GAAGroJ,EAAGsgE,OAAOwpF,mBAC7Cx5K,KAAKglD,GAAG22G,eAAe,CAAEhgK,EAAG4yE,IAAM7+C,IAC9BD,EAAIA,EAAE5lB,IAAI6lB,EAAEipJ,GAAG,GAChB,IACFtgB,GAAG/vJ,QAAQtI,KAAKy5K,GAAGhqJ,G,CAE5BiqJ,oCAAoChqJ,EAAG/zB,GAGnC,MAAM8zB,EAAI9zB,EAAEk1I,KAAMtiE,EAAI9+C,EAAE31B,OAAS,EAKjC,IAAID,EAAI41B,EACRinI,GAAG0L,cAAcvoK,KAAOA,EAAIA,EAAEqf,MAAM,KACpC,MAAM+f,EAAI,IAAI8+I,GAAG,IAAIrhB,GAAG78J,GAAI,GAGpB,IAAIu4D,EAAI,IAAIqpG,GAAGnH,IACvB,OAAOt0J,KAAKglD,GAAG42G,cAAclsI,IACzB,MAAM/zB,EAAI+zB,EAAEz0B,IAAI41I,KAChB,QAASphH,EAAEumI,WAAWr6J,KAMtBA,EAAE7B,SAAWy0E,IAAMnc,EAAIA,EAAEvoD,IAAI6lB,EAAEipJ,MAAM,EAAE,GACvC1/I,GAAIo/H,GAAG/vJ,QAAQtI,KAAKy5K,GAAGrnH,G,CAE/BqnH,GAAG/pJ,GAGC,MAAM/zB,EAAI,GACV,OAAO+zB,EAAEzsB,SAASysB,IACd,MAAMD,EAAIzvB,KAAKk5K,GAAGxpJ,GAClB,OAASD,GAAK9zB,EAAEqG,KAAKytB,EAAE,IACtB9zB,C,CAETg+K,oBAAoBjqJ,EAAG/zB,GACnB81J,GAAE,IAAMzxJ,KAAK45K,GAAGj+K,EAAE60K,QAAS,YAAaxwK,KAAKq1K,cAAc72J,QAC3D,IAAIiR,EAAIzvB,KAAKglD,GACb,OAAOqzG,GAAGp1J,QAAQtH,EAAEg1K,WAAYpiG,IAC5B,MAAM10E,EAAI,IAAIk+K,GAAGxpG,EAAEtzE,IAAKU,EAAE60K,SAC1B,OAAO/gJ,EAAIA,EAAEjS,OAAO3jB,GAAImG,KAAK64K,kBAAkBgB,wBAAwBnqJ,EAAG6+C,EAAEtzE,IAAI,IAChFiH,MAAM,KACNlC,KAAKglD,GAAKv1B,CAAC,G,CAGnBqqJ,GAAGpqJ,G,CAGHijH,YAAYjjH,EAAG/zB,GACX,MAAM8zB,EAAI,IAAIsoJ,GAAGp8K,EAAG,GAAI4yE,EAAIvuE,KAAKglD,GAAG62G,kBAAkBpsI,GACtD,OAAO4oI,GAAG/vJ,QAAQ3M,EAAEi1J,QAAQriF,GAAKA,EAAEtzE,K,CAEvC8+K,wBAAwBrqJ,GACpB,OAAO1vB,KAAKq1K,cAAcv7K,OAAQu+J,GAAG/vJ,S,CASlCsxK,GAAGlqJ,EAAG/zB,GACT,OAAOqE,KAAKo5K,GAAG1pJ,E,CAUZ0pJ,GAAG1pJ,GACN,OAAI,IAAM1vB,KAAKq1K,cAAcv7K,OAEtB,EAKQ41B,EAAI1vB,KAAKq1K,cAAc,GAAG7E,O,CAKtC0I,GAAGxpJ,GACN,MAAM/zB,EAAIqE,KAAKo5K,GAAG1pJ,GAClB,OAAI/zB,EAAI,GAAKA,GAAKqE,KAAKq1K,cAAcv7K,OAAe,KAC7CkG,KAAKq1K,cAAc15K,E;;;;;;;;;;;;;;;;GAwBlC,MAAMq+K,GAMFt5K,YAAYgvB,GACR1vB,KAAKi6K,GAAKvqJ,EAEV1vB,KAAKk6K,KAAO,IAAIzgB,GAAG/C,GAAGjB,YAEtBz1J,KAAKkmC,KAAO,C,CAEhBi0I,gBAAgBzqJ,GACZ1vB,KAAKu1K,aAAe7lJ,C,CAOjBilJ,SAASjlJ,EAAG/zB,GACf,MAAM8zB,EAAI9zB,EAAEV,IAAKszE,EAAIvuE,KAAKk6K,KAAKrrK,IAAI4gB,GAAI51B,EAAI00E,EAAIA,EAAEroC,KAAO,EAAGjN,EAAIj5B,KAAKi6K,GAAGt+K,GACvE,OAAOqE,KAAKk6K,KAAOl6K,KAAKk6K,KAAKtgB,OAAOnqI,EAAG,CACnCzlB,SAAUrO,EAAE0lK,cACZn7H,KAAMjN,IACNj5B,KAAKkmC,MAAQjN,EAAIp/B,EAAGmG,KAAKu1K,aAAarC,2BAA2BxjJ,EAAGD,EAAEohH,KAAK+kB,U,CAO5Eif,YAAYnlJ,GACf,MAAM/zB,EAAIqE,KAAKk6K,KAAKrrK,IAAI6gB,GACxB/zB,IAAMqE,KAAKk6K,KAAOl6K,KAAKk6K,KAAK7wF,OAAO35D,GAAI1vB,KAAKkmC,MAAQvqC,EAAEuqC,K,CAE1D6uI,SAASrlJ,EAAG/zB,GACR,MAAM8zB,EAAIzvB,KAAKk6K,KAAKrrK,IAAIlT,GACxB,OAAO08J,GAAG/vJ,QAAQmnB,EAAIA,EAAEzlB,SAASq3J,cAAgBhB,GAAGyU,mBAAmBn5K,G,CAE3Ey3K,WAAW1jJ,EAAG/zB,GACV,IAAI8zB,EAAIy4I,KACR,OAAOvsK,EAAEsH,SAASysB,IACd,MAAM/zB,EAAIqE,KAAKk6K,KAAKrrK,IAAI6gB,GACxBD,EAAIA,EAAEmqI,OAAOlqI,EAAG/zB,EAAIA,EAAEqO,SAASq3J,cAAgBhB,GAAGyU,mBAAmBplJ,GAAG,IACvE2oI,GAAG/vJ,QAAQmnB,E,CAEpBonJ,qBAAqBnnJ,EAAG/zB,EAAG8zB,GACvB,IAAI8+C,EAAI25F,KAGA,MAAMruK,EAAI,IAAI68J,GAAG/6J,EAAEud,MAAM,KAAM+f,EAAIj5B,KAAKk6K,KAAK7f,gBAAgBxgK,GACrE,KAAMo/B,EAAE0hI,WAAa,CACjB,MAAO1/J,IAAKwtC,EAAGrmC,OAAQ4H,SAAUowK,IAAMnhJ,EAAEyhI,UACzC,IAAK/+J,EAAEq6J,WAAWvtH,EAAEooG,MAAO,MAC3BpoG,EAAEooG,KAAK/2I,OAAS6B,EAAE7B,OAAS,GAAMg+J,GAAGJ,GAAG0iB,GAAI3qJ,IAAM,IAAM8+C,EAAIA,EAAEqrF,OAAOwgB,EAAEn/K,IAAKm/K,EAAE/Y,e,CAEjF,OAAOhJ,GAAG/vJ,QAAQimE,E,CAEtBooG,0BAA0BjnJ,EAAG/zB,EAAG8zB,EAAG8+C,GAG/BijF,I,CAEJ6oB,GAAG3qJ,EAAG/zB,GACF,OAAO08J,GAAGp1J,QAAQjD,KAAKk6K,MAAOxqJ,GAAK/zB,EAAE+zB,I,CAEzC4qJ,gBAAgB5qJ,GAGZ,OAAO,IAAI6qJ,GAAGv6K,K,CAElBw6K,QAAQ9qJ,GACJ,OAAO2oI,GAAG/vJ,QAAQtI,KAAKkmC,K,EAc/B,MAAMq0I,WAAW/F,GACb9zK,YAAYgvB,GACR4iF,QAAStyG,KAAKy6K,GAAK/qJ,C,CAEvBywI,aAAazwI,GACT,MAAM/zB,EAAI,GACV,OAAOqE,KAAKy0K,QAAQxxK,SAAS,CAACwsB,EAAG8+C,KAC7BA,EAAE0yF,kBAAoBtlK,EAAEqG,KAAKhC,KAAKy6K,GAAG9F,SAASjlJ,EAAG6+C,IAAMvuE,KAAKy6K,GAAG5F,YAAYplJ,EAAE,IAC5E4oI,GAAGS,QAAQn9J,E,CAEpBq5K,aAAatlJ,EAAG/zB,GACZ,OAAOqE,KAAKy6K,GAAG1F,SAASrlJ,EAAG/zB,E,CAE/Bs5K,gBAAgBvlJ,EAAG/zB,GACf,OAAOqE,KAAKy6K,GAAGrH,WAAW1jJ,EAAG/zB,E;;;;;;;;;;;;;;;;GAmBjC,MAAM++K,GACNh6K,YAAYgvB,GACR1vB,KAAK26K,YAAcjrJ,EAInB1vB,KAAK46K,GAAK,IAAIhT,IAAIl4I,GAAKmyI,GAAGnyI,IAAKsyI,IAE/BhiK,KAAK66K,0BAA4B3lB,GAAGvpI,MAEpC3rB,KAAK86K,gBAAkB,EAEvB96K,KAAK+6K,GAAK,EAKV/6K,KAAKg7K,GAAK,IAAIlD,GAAI93K,KAAKi7K,YAAc,EAAGj7K,KAAKk7K,GAAK5G,GAAG6G,I,CAEzDlP,cAAcv8I,EAAG/zB,GACb,OAAOqE,KAAK46K,GAAG33K,SAAS,CAACysB,EAAGD,IAAM9zB,EAAE8zB,KAAM4oI,GAAG/vJ,S,CAEjD8yK,6BAA6B1rJ,GACzB,OAAO2oI,GAAG/vJ,QAAQtI,KAAK66K,0B,CAE3BQ,yBAAyB3rJ,GACrB,OAAO2oI,GAAG/vJ,QAAQtI,KAAK+6K,G,CAE3BO,iBAAiB5rJ,GACb,OAAO1vB,KAAK86K,gBAAkB96K,KAAKk7K,GAAGh5K,OAAQm2J,GAAG/vJ,QAAQtI,KAAK86K,gB,CAElES,mBAAmB7rJ,EAAG/zB,EAAG8zB,GACrB,OAAOA,IAAMzvB,KAAK66K,0BAA4BprJ,GAAI9zB,EAAIqE,KAAK+6K,KAAO/6K,KAAK+6K,GAAKp/K,GAC5E08J,GAAG/vJ,S,CAEPkzK,GAAG9rJ,GACC1vB,KAAK46K,GAAGntK,IAAIiiB,EAAE/Y,OAAQ+Y,GACtB,MAAM/zB,EAAI+zB,EAAEs6I,SACZruK,EAAIqE,KAAK86K,kBAAoB96K,KAAKk7K,GAAK,IAAI5G,GAAG34K,GAAIqE,KAAK86K,gBAAkBn/K,GAAI+zB,EAAE+hJ,eAAiBzxK,KAAK+6K,KAAO/6K,KAAK+6K,GAAKrrJ,EAAE+hJ,e,CAE5HgK,cAAc/rJ,EAAG/zB,GACb,OAAOqE,KAAKw7K,GAAG7/K,GAAIqE,KAAKi7K,aAAe,EAAG5iB,GAAG/vJ,S,CAEjDozK,iBAAiBhsJ,EAAG/zB,GAChB,OAAOqE,KAAKw7K,GAAG7/K,GAAI08J,GAAG/vJ,S,CAE1BqzK,iBAAiBjsJ,EAAG/zB,GAChB,OAAOqE,KAAK46K,GAAGp9J,OAAO7hB,EAAEgb,QAAS3W,KAAKg7K,GAAGxC,GAAG78K,EAAEquK,UAAWhqK,KAAKi7K,aAAe,EAC7E5iB,GAAG/vJ,S,CAEPszK,cAAclsJ,EAAG/zB,EAAG8zB,GAChB,IAAI8+C,EAAI,EACR,MAAM10E,EAAI,GACV,OAAOmG,KAAK46K,GAAG33K,SAAS,CAACg2B,EAAGm5B,KACxBA,EAAEq/G,gBAAkB91K,GAAK,OAAS8zB,EAAE5gB,IAAIujD,EAAE43G,YAAchqK,KAAK46K,GAAGp9J,OAAOyb,GAAIp/B,EAAEmI,KAAKhC,KAAK67K,8BAA8BnsJ,EAAG0iC,EAAE43G,WAC1Hz7F,IAAG,IACF8pF,GAAGS,QAAQj/J,GAAGqI,MAAM,IAAMqsE,G,CAEnCutG,eAAepsJ,GACX,OAAO2oI,GAAG/vJ,QAAQtI,KAAKi7K,Y,CAE3Bc,cAAcrsJ,EAAG/zB,GACb,MAAM8zB,EAAIzvB,KAAK46K,GAAG/rK,IAAIlT,IAAM,KAC5B,OAAO08J,GAAG/vJ,QAAQmnB,E,CAEtBusJ,gBAAgBtsJ,EAAG/zB,EAAG8zB,GAClB,OAAOzvB,KAAKg7K,GAAG5C,GAAGz8K,EAAG8zB,GAAI4oI,GAAG/vJ,S,CAEhC2zK,mBAAmBvsJ,EAAG/zB,EAAG8zB,GACrBzvB,KAAKg7K,GAAGzC,GAAG58K,EAAG8zB,GACd,MAAM8+C,EAAIvuE,KAAK26K,YAAY9B,kBAAmBh/K,EAAI,GAClD,OAAO00E,GAAK5yE,EAAEsH,SAAStH,IACnB9B,EAAEmI,KAAKusE,EAAEsrG,wBAAwBnqJ,EAAG/zB,GAAG,IACtC08J,GAAGS,QAAQj/J,E,CAEpBgiL,8BAA8BnsJ,EAAG/zB,GAC7B,OAAOqE,KAAKg7K,GAAGxC,GAAG78K,GAAI08J,GAAG/vJ,S,CAE7B4zK,2BAA2BxsJ,EAAG/zB,GAC1B,MAAM8zB,EAAIzvB,KAAKg7K,GAAGtC,GAAG/8K,GACrB,OAAO08J,GAAG/vJ,QAAQmnB,E,CAEtBkjH,YAAYjjH,EAAG/zB,GACX,OAAO08J,GAAG/vJ,QAAQtI,KAAKg7K,GAAGroC,YAAYh3I,G;;;;;;;;;;;;;;;;GAwB9C,MAAMwgL,GAOFz7K,YAAYgvB,EAAG/zB,GACXqE,KAAKo8K,GAAK,GAAIp8K,KAAKy3K,SAAW,GAAIz3K,KAAKq8K,GAAK,IAAIrjB,GAAG,GAAIh5J,KAAKs8K,IAAK,EAAIt8K,KAAKs8K,IAAK,EAC/Et8K,KAAK64K,kBAAoBnpJ,EAAE1vB,MAAOA,KAAKu8K,GAAK,IAAI7B,GAAG16K,MACnDA,KAAKu1K,aAAe,IAAIxC,GAAI/yK,KAAKo1K,oBAAsB,SAAS1lJ,GAC5D,OAAO,IAAIsqJ,GAAGtqJ,E,CADqC,EAEpDA,GAAK1vB,KAAK64K,kBAAkB2D,GAAG9sJ,KAAM1vB,KAAK0lK,GAAK,IAAIoM,GAAGn2K,GAAIqE,KAAKy8K,GAAK,IAAI1F,GAAG/2K,KAAK0lK,G,CAEvFn6I,QACI,OAAOmG,QAAQppB,S,CAEnB4qJ,WAEI,OAAOlzJ,KAAKs8K,IAAK,EAAI5qJ,QAAQppB,S,CAE7Bo0K,cACA,OAAO18K,KAAKs8K,E,CAEhBK,6B,CAGAC,oB,CAGAC,gBAAgBntJ,GAGZ,OAAO1vB,KAAKu1K,Y,CAEhBuH,wBAAwBptJ,GACpB,IAAI/zB,EAAIqE,KAAKy3K,SAAS/nJ,EAAEihI,SACxB,OAAOh1J,IAAMA,EAAI,IAAI67K,GAAIx3K,KAAKy3K,SAAS/nJ,EAAEihI,SAAWh1J,GAAIA,C,CAE5DohL,iBAAiBrtJ,EAAG/zB,GAChB,IAAI8zB,EAAIzvB,KAAKo8K,GAAG1sJ,EAAEihI,SAClB,OAAOlhI,IAAMA,EAAI,IAAImpJ,GAAGj9K,EAAGqE,KAAK64K,mBAAoB74K,KAAKo8K,GAAG1sJ,EAAEihI,SAAWlhI,GAAIA,C,CAEjFutJ,iBACI,OAAOh9K,KAAKu8K,E,CAEhBU,yBACI,OAAOj9K,KAAKo1K,mB,CAEhB8H,iBACI,OAAOl9K,KAAKy8K,E,CAEhBU,eAAeztJ,EAAG/zB,EAAG8zB,GACjB2hI,GAAE,oBAAqB,wBAAyB1hI,GAChD,MAAM6+C,EAAI,IAAI6uG,GAAGp9K,KAAKq8K,GAAGn6K,QACzB,OAAOlC,KAAK64K,kBAAkBwE,KAAM5tJ,EAAE8+C,GAAGrsE,MAAMwtB,GAAK1vB,KAAK64K,kBAAkByE,GAAG/uG,GAAGrsE,MAAM,IAAMwtB,MAAMkpI,YAAYj2J,MAAM+sB,IAAM6+C,EAAE4pF,wBAC7HzoI,I,CAEJ6tJ,GAAG7tJ,EAAG/zB,GACF,OAAO08J,GAAGmlB,GAAG5jL,OAAOq7G,OAAOj1G,KAAKo8K,IAAIp5K,KAAKysB,GAAK,IAAMA,EAAEkjH,YAAYjjH,EAAG/zB,K,EAOzE,MAAMyhL,WAAWplB,GACjBt3J,YAAYgvB,GACR4iF,QAAStyG,KAAKy9K,sBAAwB/tJ,C,EAI9C,MAAMguJ,GACFh9K,YAAYgvB,GACR1vB,KAAK26K,YAAcjrJ,EAEnB1vB,KAAK29K,GAAK,IAAI7F,GAEd93K,KAAK49K,GAAK,I,CAEdvpB,UAAU3kI,GACN,OAAO,IAAIguJ,GAAGhuJ,E,CAEdmuJ,SACA,GAAI79K,KAAK49K,GAAI,OAAO59K,KAAK49K,GACzB,MAAMpsB,I,CAEV2mB,aAAazoJ,EAAG/zB,EAAG8zB,GACf,OAAOzvB,KAAK29K,GAAGxF,aAAa1oJ,EAAG9zB,GAAIqE,KAAK69K,GAAGrgK,OAAOiS,EAAE5tB,YAAaw2J,GAAG/vJ,S,CAExE+vK,gBAAgB3oJ,EAAG/zB,EAAG8zB,GAClB,OAAOzvB,KAAK29K,GAAGtF,gBAAgB5oJ,EAAG9zB,GAAIqE,KAAK69K,GAAGh0K,IAAI4lB,EAAE5tB,YAAaw2J,GAAG/vJ,S,CAExEuxK,wBAAwBnqJ,EAAG/zB,GACvB,OAAOqE,KAAK69K,GAAGh0K,IAAIlO,EAAEkG,YAAaw2J,GAAG/vJ,S,CAEzC8jK,aAAa18I,EAAG/zB,GACZqE,KAAK29K,GAAGnF,GAAG78K,EAAEquK,UAAU/mK,SAASysB,GAAK1vB,KAAK69K,GAAGh0K,IAAI6lB,EAAE7tB,cACnD,MAAM4tB,EAAIzvB,KAAK26K,YAAYqC,iBAC3B,OAAOvtJ,EAAEysJ,2BAA2BxsJ,EAAG/zB,EAAEquK,UAAU9nK,MAAMwtB,IACrDA,EAAEzsB,SAASysB,GAAK1vB,KAAK69K,GAAGh0K,IAAI6lB,EAAE7tB,aAAa,IAC3CK,MAAM,IAAMutB,EAAEksJ,iBAAiBjsJ,EAAG/zB,I,CAE1C0hL,KACIr9K,KAAK49K,GAAK,IAAIn0K,G,CAElB6zK,GAAG5tJ,GAEC,MAAM/zB,EAAIqE,KAAK26K,YAAYsC,yBAAyB3C,kBACpD,OAAOjiB,GAAGp1J,QAAQjD,KAAK69K,IAAKpuJ,IACxB,MAAM8+C,EAAImoF,GAAGonB,SAASruJ,GACtB,OAAOzvB,KAAK+9K,GAAGruJ,EAAG6+C,GAAGrsE,MAAMwtB,IACvBA,GAAK/zB,EAAEk5K,YAAYtmG,EAAG2mF,GAAGvpI,MAAM,GAChC,IACHzpB,MAAM,KAAOlC,KAAK49K,GAAK,KAAMjiL,EAAEuH,MAAMwsB,K,CAE7CsuJ,oBAAoBtuJ,EAAG/zB,GACnB,OAAOqE,KAAK+9K,GAAGruJ,EAAG/zB,GAAGuG,MAAMwtB,IACvBA,EAAI1vB,KAAK69K,GAAGrgK,OAAO7hB,EAAEkG,YAAc7B,KAAK69K,GAAGh0K,IAAIlO,EAAEkG,WAAW,G,CAGpE26K,GAAG9sJ,GAEC,OAAO,C,CAEXquJ,GAAGruJ,EAAG/zB,GACF,OAAO08J,GAAGmlB,GAAG,CAAE,IAAMnlB,GAAG/vJ,QAAQtI,KAAK29K,GAAGhrC,YAAYh3I,IAAK,IAAMqE,KAAK26K,YAAYqC,iBAAiBrqC,YAAYjjH,EAAG/zB,GAAI,IAAMqE,KAAK26K,YAAY4C,GAAG7tJ,EAAG/zB,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6vBzJ,MAAMsiL,GACFv9K,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKgqK,SAAWt6I,EAAG1vB,KAAKk+K,UAAYviL,EAAGqE,KAAKm+K,GAAK1uJ,EAAGzvB,KAAKo+K,GAAK7vG,C,CAElE8lF,UAAU3kI,EAAG/zB,GACT,IAAI8zB,EAAIm5I,KAAMr6F,EAAIq6F,KAClB,IAAK,MAAMngI,KAAK9sC,EAAE0iL,WAAY,OAAQ51I,EAAEzsC,MACtC,KAAK,EACHyzB,EAAIA,EAAE5lB,IAAI4+B,EAAEmhD,IAAI3uF,KAChB,MAEF,KAAK,EACHszE,EAAIA,EAAE1kE,IAAI4+B,EAAEmhD,IAAI3uF,KAGpB,OAAO,IAAIgjL,GAAGvuJ,EAAG/zB,EAAEuiL,UAAWzuJ,EAAG8+C,E;;;;;;;;;;;;;;;;GAyDrC,MAAM+vG,GACN59K,cACIV,KAAKu+K,IAAK,C,CAEqCC,WAAW9uJ,EAAG/zB,GAC7DqE,KAAKy+K,GAAK/uJ,EAAG1vB,KAAKu1K,aAAe55K,EAAGqE,KAAKu+K,IAAK,C,CAEkBjI,0BAA0B5mJ,EAAG/zB,EAAG8zB,EAAG8+C,GACnG,OAAOvuE,KAAK0+K,GAAGhvJ,EAAG/zB,GAAGuG,MAAMrI,GAAKA,GAAKmG,KAAK2+K,GAAGjvJ,EAAG/zB,EAAG4yE,EAAG9+C,KAAKvtB,MAAMutB,GAAKA,GAAKzvB,KAAK4+K,GAAGlvJ,EAAG/zB,I,CAKnF+iL,GAAGhvJ,EAAG/zB,GACT,GAAIioK,GAAGjoK,GAIP,OAAO08J,GAAG/vJ,QAAQ,MAClB,IAAImnB,EAAIy0I,GAAGvoK,GACX,OAAOqE,KAAKu1K,aAAa/B,aAAa9jJ,EAAGD,GAAGvtB,MAAMqsE,GAAK,IAAiBA,EAAI,MAAQ,OAAS5yE,EAAE+5J,OAAS,IAAoBnnF,IAQ5H5yE,EAAIwoK,GAAGxoK,EAAG,KAAM,KAAkB8zB,EAAIy0I,GAAGvoK,IAAKqE,KAAKu1K,aAAahC,2BAA2B7jJ,EAAGD,GAAGvtB,MAAMqsE,IACnG,MAAM10E,EAAI+uK,MAAMr6F,GAChB,OAAOvuE,KAAKy+K,GAAG9I,aAAajmJ,EAAG71B,GAAGqI,MAAMqsE,GAAKvuE,KAAKu1K,aAAa5B,aAAajkJ,EAAGD,GAAGvtB,MAAMutB,IACpF,MAAMwJ,EAAIj5B,KAAK6+K,GAAGljL,EAAG4yE,GACrB,OAAOvuE,KAAK8+K,GAAGnjL,EAAGs9B,EAAGp/B,EAAG41B,EAAEkoI,UAAY33J,KAAK0+K,GAAGhvJ,EAAGy0I,GAAGxoK,EAAG,KAAM,MAAoBqE,KAAK++K,GAAGrvJ,EAAGuJ,EAAGt9B,EAAG8zB,EAAE,KACnG,M,CAMNkvJ,GAAGjvJ,EAAG/zB,EAAG8zB,EAAG8+C,GACf,OAAOq1F,GAAGjoK,IAAM4yE,EAAEqiF,QAAQsE,GAAGvpI,OAAS3rB,KAAK4+K,GAAGlvJ,EAAG/zB,GAAKqE,KAAKy+K,GAAG9I,aAAajmJ,EAAGD,GAAGvtB,MAAMrI,IACnF,MAAMo/B,EAAIj5B,KAAK6+K,GAAGljL,EAAG9B,GACrB,OAAOmG,KAAK8+K,GAAGnjL,EAAGs9B,EAAGxJ,EAAG8+C,GAAKvuE,KAAK4+K,GAAGlvJ,EAAG/zB,IAAMw1J,MAAOhpJ,GAAEytG,OAASw7C,GAAE,cAAe,wDAAyD7iF,EAAE1sE,WAAYyiK,GAAG3oK,IAC3JqE,KAAK++K,GAAGrvJ,EAAGuJ,EAAGt9B,EAAG27J,GAAG/oF,GAAG,IAAI,G,CAKwCswG,GAAGnvJ,EAAG/zB,GAG7E,IAAI8zB,EAAI,IAAIgsI,GAAGiJ,GAAGh1I,IAClB,OAAO/zB,EAAEsH,SAAS,CAACtH,EAAG4yE,KAClBi2F,GAAG90I,EAAG6+C,KAAO9+C,EAAIA,EAAE5lB,IAAI0kE,GAAE,IACxB9+C,C,CAaFqvJ,GAAGpvJ,EAAG/zB,EAAG8zB,EAAG8+C,GACf,GAAI,OAAS7+C,EAAEgmI,MAEf,OAAO,EACP,GAAIjmI,EAAEyW,OAASvqC,EAAEuqC,KAGjB,OAAO,EASC,MAAMrsC,EAAI,MAAoB61B,EAAE6zI,UAAY5nK,EAAE0pC,OAAS1pC,EAAE+/J,QACjE,QAAS7hK,IAAMA,EAAEmnK,kBAAoBnnK,EAAEu2C,QAAQglH,UAAU7mF,GAAK,E,CAElEqwG,GAAGlvJ,EAAG/zB,GACF,OAAOw1J,MAAOhpJ,GAAEytG,OAASw7C,GAAE,cAAe,+CAAgDkT,GAAG3oK,IAC7FqE,KAAKy+K,GAAGnI,0BAA0B5mJ,EAAG/zB,EAAG67J,GAAG7rI,M,CAKxCozJ,GAAGrvJ,EAAG/zB,EAAG8zB,EAAG8+C,GAEf,OAAOvuE,KAAKy+K,GAAGnI,0BAA0B5mJ,EAAGD,EAAG8+C,GAAGrsE,MAAMwtB,IAExD/zB,EAAEsH,SAAStH,IACP+zB,EAAIA,EAAEkqI,OAAOj+J,EAAEV,IAAKU,EAAE,IACrB+zB,I;;;;;;;;;;;;;;;;GA4Bb,MAAMsvJ,GACFt+K,YAEAgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACLvuE,KAAK26K,YAAcjrJ,EAAG1vB,KAAKi/K,GAAKtjL,EAAGqE,KAAK0lK,GAAKn3F,EAO7CvuE,KAAKk/K,GAAK,IAAIzlB,GAAGnF,IAGjBt0J,KAAKm/K,GAAK,IAAIvX,IAAIl4I,GAAKmyI,GAAGnyI,IAAKsyI,IAO/BhiK,KAAKo/K,GAAK,IAAIjiK,IAAKnd,KAAKq/K,GAAK3vJ,EAAEutJ,yBAA0Bj9K,KAAKu8K,GAAK7sJ,EAAEstJ,iBACrEh9K,KAAKy8K,GAAK/sJ,EAAEwtJ,iBAAkBl9K,KAAKs/K,GAAG7vJ,E,CAE1C6vJ,GAAG5vJ,GAGC1vB,KAAKs1K,qBAAuBt1K,KAAK26K,YAAYmC,wBAAwBptJ,GAAI1vB,KAAKu1K,aAAev1K,KAAK26K,YAAYkC,gBAAgBntJ,GAC9H1vB,KAAKq1K,cAAgBr1K,KAAK26K,YAAYoC,iBAAiBrtJ,EAAG1vB,KAAKu1K,cAAev1K,KAAKu/K,eAAiB,IAAIpK,GAAGn1K,KAAKq/K,GAAIr/K,KAAKq1K,cAAer1K,KAAKs1K,qBAAsBt1K,KAAKu1K,cACxKv1K,KAAKq/K,GAAGlF,gBAAgBn6K,KAAKu1K,cAAev1K,KAAKi/K,GAAGT,WAAWx+K,KAAKu/K,eAAgBv/K,KAAKu1K,a,CAE7FiK,eAAe9vJ,GACX,OAAO1vB,KAAK26K,YAAYwC,eAAe,kBAAmB,qBAAsBxhL,GAAK+zB,EAAE+vJ,QAAQ9jL,EAAGqE,KAAKk/K,K,EAI/G,SAASQ,GAEThwJ,EAAG/zB,EAAG8zB,EAAG8+C,GACL,OAAO,IAAIywG,GAAGtvJ,EAAG/zB,EAAG8zB,EAAG8+C,E,CAW3BypB,eAAe2nF,GAAGjwJ,EAAG/zB,GACjB,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,aAAaD,EAAEkrJ,YAAYwC,eAAe,qBAAsB,YAAaztJ,IAGzE,IAAI6+C,EACJ,OAAO9+C,EAAE4lJ,cAAciE,sBAAsB5pJ,GAAGxtB,MAAMrI,IAAM00E,EAAI10E,EAAG41B,EAAE6vJ,GAAG3jL,GAAI8zB,EAAE4lJ,cAAciE,sBAAsB5pJ,MAAMxtB,MAAMvG,IAC1H,MAAM9B,EAAI,GAAIo/B,EAAI,GAElB,IAAIm5B,EAAIw2G,KACR,IAAK,MAAMngI,KAAK8lC,EAAG,CACf10E,EAAEmI,KAAKymC,EAAE+nI,SACT,IAAK,MAAMnzH,KAAK5U,EAAEkoI,UAAWv+G,EAAIA,EAAEvoD,IAAIwzC,EAAEpiD,I,CAE7C,IAAK,MAAMytC,KAAK/sC,EAAG,CACfs9B,EAAEj3B,KAAK0mC,EAAE8nI,SACT,IAAK,MAAM/Z,KAAK/tH,EAAEioI,UAAWv+G,EAAIA,EAAEvoD,IAAI4sJ,EAAEx7J,I,CAIjC,OAAOw0B,EAAE8vJ,eAAe5J,aAAajmJ,EAAG0iC,GAAGlwD,MAAMwtB,IAAM,CAC/DkwJ,GAAIlwJ,EACJmwJ,gBAAiBhmL,EACjBimL,cAAe7mJ,KACf,GACL,G,CA6DX,SAAS8mJ,GAAGrwJ,GACR,MAAM/zB,EAAI+1J,GAAEhiI,GACZ,OAAO/zB,EAAEg/K,YAAYwC,eAAe,mCAAoC,YAAaztJ,GAAK/zB,EAAE4gL,GAAGnB,6BAA6B1rJ,I,CA4F5H,SAASswJ,GAAGtwJ,EAAG/zB,EAAG8zB,GAClB,IAAI8+C,EAAIq6F,KAAM/uK,EAAI+uK,KAClB,OAAOn5I,EAAExsB,SAASysB,GAAK6+C,EAAIA,EAAE1kE,IAAI6lB,KAAM/zB,EAAEy3K,WAAW1jJ,EAAG6+C,GAAGrsE,MAAMwtB,IAC5D,IAAI6+C,EAAI25F,KACR,OAAOz4I,EAAExsB,SAAS,CAACwsB,EAAGwJ,KAClB,MAAMm5B,EAAI1iC,EAAE7gB,IAAI4gB,GAEJwJ,EAAEioI,oBAAsB9uG,EAAE8uG,oBAAsBrnK,EAAIA,EAAEgQ,IAAI4lB,IAKtEwJ,EAAEkoI,gBAAkBloI,EAAEmX,QAAQwgH,QAAQsE,GAAGvpI,QAIzChwB,EAAEk5K,YAAYplJ,EAAGwJ,EAAE0+H,UAAWppF,EAAIA,EAAEqrF,OAAOnqI,EAAGwJ,KAAOm5B,EAAE6uG,mBAAqBhoI,EAAEmX,QAAQglH,UAAUhjG,EAAEhiB,SAAW,GAAK,IAAMnX,EAAEmX,QAAQglH,UAAUhjG,EAAEhiB,UAAYgiB,EAAE4uG,kBAAoBrlK,EAAEg5K,SAAS17I,GAC3Ls1C,EAAIA,EAAEqrF,OAAOnqI,EAAGwJ,IAAMm4H,GAAE,aAAc,sCAAuC3hI,EAAG,qBAAsB2iC,EAAEhiB,QAAS,kBAAmBnX,EAAEmX,QAAQ,IAC7I,CACD6vI,GAAI1xG,EACJ2xG,GAAIrmL,EACP,G,CAUT,SAASsmL,GAAGzwJ,EAAG/zB,GACX,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,OAAOD,EAAEkrJ,YAAYwC,eAAe,0BAA2B,YAAaztJ,SAAM,IAAW/zB,IAAMA,GAAI,GACvG8zB,EAAE4lJ,cAAc8D,iCAAiCzpJ,EAAG/zB,K,CAexD,SAASykL,GAAG1wJ,EAAG/zB,GACX,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,OAAOD,EAAEkrJ,YAAYwC,eAAe,kBAAmB,aAAcztJ,IACjE,IAAI6+C,EACJ,OAAO9+C,EAAE8sJ,GAAGR,cAAcrsJ,EAAG/zB,GAAGuG,MAAMrI,GAAKA,GAI3C00E,EAAI10E,EAAGw+J,GAAG/vJ,QAAQimE,IAAM9+C,EAAE8sJ,GAAGjB,iBAAiB5rJ,GAAGxtB,MAAMrI,IAAM00E,EAAI,IAAIijG,GAAG71K,EAAG9B,EAAG,EAAiB61B,EAAE+tJ,uBACjGhuJ,EAAE8sJ,GAAGd,cAAc/rJ,EAAG6+C,GAAGrsE,MAAM,IAAMqsE,QAAQ,IAC7C5rE,MAAM+sB,IAGN,MAAM6+C,EAAI9+C,EAAEyvJ,GAAGrwK,IAAI6gB,EAAEs6I,UACrB,OAAQ,OAASz7F,GAAK7+C,EAAEs5I,gBAAgB5T,UAAU7mF,EAAEy6F,iBAAmB,KAAOv5I,EAAEyvJ,GAAKzvJ,EAAEyvJ,GAAGtlB,OAAOlqI,EAAEs6I,SAAUt6I,GAC7GD,EAAE0vJ,GAAG1xK,IAAI9R,EAAG+zB,EAAEs6I,WAAYt6I,CAAC,G,CAiBnCsoE,eAAeqoF,GAAG3wJ,EAAG/zB,EAAG8zB,GACpB,MAAM8+C,EAAImjF,GAAEhiI,GAAI71B,EAAI00E,EAAE2wG,GAAGrwK,IAAIlT,GAAIs9B,EAAIxJ,EAAI,YAAc,oBACvD,IACIA,SAAW8+C,EAAEosG,YAAYwC,eAAe,iBAAkBlkJ,GAAIvJ,GAAK6+C,EAAEosG,YAAY9B,kBAAkBzM,aAAa18I,EAAG71B,I,CACrH,MAAO4uC,GACL,IAAKswH,GAAGtwH,GAAI,MAAMA,EAMlB2oH,GAAE,aAAc,gDAAgDz1J,MAAM8sC,I,CAE1E8lC,EAAE2wG,GAAK3wG,EAAE2wG,GAAG71F,OAAO1tF,GAAI4yE,EAAE4wG,GAAG3hK,OAAO3jB,EAAE8c,O,CAUrC,SAAS2pK,GAAG5wJ,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAImjF,GAAEhiI,GACZ,IAAI71B,EAAIq7J,GAAGvpI,MAAOsN,EAAI2vI,KACtB,OAAOr6F,EAAEosG,YAAYwC,eAAe,gBAAiB,YAAaztJ,GAAK,SAASA,EAAG/zB,EAAG8zB,GAClF,MAAM8+C,EAAImjF,GAAEhiI,GAAI71B,EAAI00E,EAAE4wG,GAAGtwK,IAAI4gB,GAC7B,YAAO,IAAW51B,EAAIw+J,GAAG/vJ,QAAQimE,EAAE2wG,GAAGrwK,IAAIhV,IAAM00E,EAAEguG,GAAGR,cAAcpgL,EAAG8zB,EACzE,CAHsE,CAGrE8+C,EAAG7+C,EAAGw0I,GAAGvoK,IAAIuG,MAAMvG,IACjB,GAAIA,EAAG,OAAO9B,EAAI8B,EAAE+1K,6BAA8BnjG,EAAEguG,GAAGL,2BAA2BxsJ,EAAG/zB,EAAEquK,UAAU9nK,MAAMwtB,IACnGuJ,EAAIvJ,CAAC,GACN,IACHxtB,MAAM,IAAMqsE,EAAE0wG,GAAG3I,0BAA0B5mJ,EAAG/zB,EAAG8zB,EAAI51B,EAAIq7J,GAAGvpI,MAAO8D,EAAIwJ,EAAI2vI,QAAQ1mK,MAAMwtB,IAAM6wJ,GAAGhyG,EAAGk2F,GAAG9oK,GAAI+zB,GAChH,CACIq/I,UAAWr/I,EACX8wJ,GAAIvnJ,O,CA6BZ,SAASsnJ,GAAG7wJ,EAAG/zB,EAAG8zB,GACd,IAAI8+C,EAAI2mF,GAAGvpI,MACX8D,EAAExsB,SAAS,CAACysB,EAAG/zB,KACXA,EAAEg8J,SAASvC,UAAU7mF,GAAK,IAAMA,EAAI5yE,EAAEg8J,SAAQ,IAC7CjoI,EAAE0vJ,GAAG3xK,IAAI9R,EAAG4yE,E,CA0MrB,MAAMkyG,GACF//K,cACIV,KAAK0gL,gBAAkB5X,I,CAE3B6X,GAAGjxJ,GACC1vB,KAAK0gL,gBAAkB1gL,KAAK0gL,gBAAgB72K,IAAI6lB,E,CAEpDkxJ,GAAGlxJ,GACC1vB,KAAK0gL,gBAAkB1gL,KAAK0gL,gBAAgBljK,OAAOkS,E,CAKhDmxJ,KACH,MAAMnxJ,EAAI,CACNgxJ,gBAAiB1gL,KAAK0gL,gBAAgBt9K,UACtC09K,aAAc1/J,KAAKC,OAEvB,OAAOsuB,KAAKC,UAAUlgB,E,EAuU9B,MAAMqxJ,GACFrgL,cACIV,KAAKghL,GAAK,IAAIP,GAAIzgL,KAAKihL,GAAK,GAAIjhL,KAAKkhL,mBAAqB,KAAMlhL,KAAKk5J,sBAAwB,I,CAEjGioB,mBAAmBzxJ,G,CAGnB0xJ,oBAAoB1xJ,EAAG/zB,EAAG8zB,G,CAG1B4xJ,oBAAoB3xJ,GAChB,OAAO1vB,KAAKghL,GAAGL,GAAGjxJ,GAAI1vB,KAAKihL,GAAGvxJ,IAAM,a,CAExC4xJ,iBAAiB5xJ,EAAG/zB,EAAG8zB,GACnBzvB,KAAKihL,GAAGvxJ,GAAK/zB,C,CAEjB4lL,uBAAuB7xJ,GACnB1vB,KAAKghL,GAAGJ,GAAGlxJ,E,CAEf8xJ,mBAAmB9xJ,GACf,OAAO1vB,KAAKghL,GAAGN,gBAAgBzxJ,IAAIS,E,CAEvC+xJ,gBAAgB/xJ,UACL1vB,KAAKihL,GAAGvxJ,E,CAEnBgyJ,2BACI,OAAO1hL,KAAKghL,GAAGN,e,CAEnBiB,oBAAoBjyJ,GAChB,OAAO1vB,KAAKghL,GAAGN,gBAAgBzxJ,IAAIS,E,CAEvCnE,QACI,OAAOvrB,KAAKghL,GAAK,IAAIP,GAAI/uJ,QAAQppB,S,CAErCs5K,iBAAiBlyJ,EAAG/zB,EAAG8zB,G,CAGvBoyJ,eAAenyJ,G,CAGfwjI,WAAW,CACXmG,oBAAoB3pI,GAAG,CACvBoyJ,mBAAmBpyJ,G;;;;;;;;;;;;;;;;GAoBnB,MAAMqyJ,GACNC,GAAGtyJ,G,CAGHwjI,W;;;;;;;;;;;;;;;;GA0BJ,MAAM+uB,GACFvhL,cACIV,KAAKkiL,GAAK,IAAMliL,KAAKmiL,KAAMniL,KAAKoiL,GAAK,IAAMpiL,KAAKqiL,KAAMriL,KAAKsiL,GAAK,GAAItiL,KAAKuiL,I,CAE7EP,GAAGtyJ,GACC1vB,KAAKsiL,GAAGtgL,KAAK0tB,E,CAEjBwjI,WACInpJ,OAAOiO,oBAAoB,SAAUhY,KAAKkiL,IAAKn4K,OAAOiO,oBAAoB,UAAWhY,KAAKoiL,G,CAE9FG,KACIx4K,OAAOgO,iBAAiB,SAAU/X,KAAKkiL,IAAKn4K,OAAOgO,iBAAiB,UAAW/X,KAAKoiL,G,CAExFD,KACI/wB,GAAE,sBAAuB,2CACzB,IAAK,MAAM1hI,KAAK1vB,KAAKsiL,GAAI5yJ,EAAE,E,CAE/B2yJ,KACIjxB,GAAE,sBAAuB,6CACzB,IAAK,MAAM1hI,KAAK1vB,KAAKsiL,GAAI5yJ,EAAE,E,CAK/B2kI,WACI,MAAO,oBAAsBtqJ,aAAU,IAAWA,OAAOgO,uBAAoB,IAAWhO,OAAOiO,mB;;;;;;;;;;;;;;;;GAmBnG,MAAMwqK,GAAK,CACXC,kBAAmB,WACnBC,OAAQ,SACRC,SAAU;;;;;;;;;;;;;;;;GA6Bd,MAAMC,GACFliL,YAAYgvB,GACR1vB,KAAK6iL,GAAKnzJ,EAAEmzJ,GAAI7iL,KAAK8iL,GAAKpzJ,EAAEozJ,E,CAEhCC,GAAGrzJ,GACC1vB,KAAKgjL,GAAKtzJ,C,CAEduzJ,GAAGvzJ,GACC1vB,KAAKkjL,GAAKxzJ,C,CAEdyzJ,UAAUzzJ,GACN1vB,KAAKojL,GAAK1zJ,C,CAEdqiF,QACI/xG,KAAK8iL,I,CAETriD,KAAK/wG,GACD1vB,KAAK6iL,GAAGnzJ,E,CAEZ2zJ,KACIrjL,KAAKgjL,I,CAETM,GAAG5zJ,GACC1vB,KAAKkjL,GAAGxzJ,E,CAEZ6zJ,GAAG7zJ,GACC1vB,KAAKojL,GAAG1zJ,E;;;;;;;;;;;;;;;;GAmBZ,MAAM8zJ,WAKV,MACI9iL,YAAYgvB,GACR1vB,KAAKyjL,aAAe/zJ,EAAG1vB,KAAKy9J,WAAa/tI,EAAE+tI,WAC3C,MAAM9hK,EAAI+zB,EAAEiuI,IAAM,QAAU,OAC5B39J,KAAK0jL,GAAK/nL,EAAI,MAAQ+zB,EAAEwyE,KAAMliG,KAAK2jL,GAAK,YAAc3jL,KAAKy9J,WAAWlhD,UAAY,cAAgBv8G,KAAKy9J,WAAWK,SAAW,Y,CAEjI8lB,GAAGl0J,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACX,MAAMo/B,EAAIj5B,KAAK6jL,GAAGn0J,EAAG/zB,GACrBy1J,GAAE,iBAAkB,YAAan4H,EAAGxJ,GACpC,MAAM2iC,EAAI,GACV,OAAOpyD,KAAK8jL,GAAG1xH,EAAGmc,EAAG10E,GAAImG,KAAK+jL,GAAGr0J,EAAGuJ,EAAGm5B,EAAG3iC,GAAG9sB,MAAM+sB,IAAM0hI,GAAE,iBAAkB,aAAc1hI,GAC3FA,KAAM/zB,IACF,MAAM41J,GAAE,iBAAkB,GAAG7hI,wBAAyB/zB,EAAG,QAASs9B,EAAG,WAAYxJ,GACjF9zB,CAAC,G,CAGTqoL,GAAGt0J,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GAGd,OAAOj5B,KAAK4jL,GAAGl0J,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,E,CAKxBiqL,GAAGp0J,EAAG/zB,EAAG8zB,GACZC,EAAE,qBAAuB,eAAiBuhI,GAK1CvhI,EAAE,gBAAkB,aAAc1vB,KAAKyjL,aAAa5kE,QAAUnvF,EAAE,oBAAsB1vB,KAAKyjL,aAAa5kE,OACxGljH,GAAKA,EAAEmiH,QAAQ76G,SAAS,CAACtH,EAAG8zB,IAAMC,EAAED,GAAK9zB,IAAK8zB,GAAKA,EAAEquF,QAAQ76G,SAAS,CAACtH,EAAG8zB,IAAMC,EAAED,GAAK9zB,G,CAE3FkoL,GAAGn0J,EAAG/zB,GACF,MAAM8zB,EAAI+yJ,GAAG9yJ,GACb,MAAO,GAAG1vB,KAAK0jL,SAAS/nL,KAAK8zB,G,GAGjC/uB,YAAYgvB,GACR4iF,MAAM5iF,GAAI1vB,KAAK2gJ,iBAAmBjxH,EAAEixH,iBAAkB3gJ,KAAK49J,sBAAwBluI,EAAEkuI,sBACrF59J,KAAKkgJ,gBAAkBxwH,EAAEwwH,e,CAE7B6jC,GAAGr0J,EAAG/zB,EAAG8zB,EAAG8+C,GACR,OAAO,IAAI78C,SAAS,CAAC73B,EAAGo/B,KACpB,MAAMm5B,EAAI,IAAIviC,GACduiC,EAAEo9D,WAAWjuH,GAAE+4H,UAAW,KACtB,IACI,OAAQloE,EAAE03E,oBACR,KAAKtuI,GAAEm+H,SACL,MAAMh+H,EAAIy2D,EAAE84F,kBACZkG,GAAE,aAAc,gBAAiBzhH,KAAKC,UAAUj0C,IAAK9B,EAAE8B,GACvD,MAEF,KAAKH,GAAE2+H,QACLi3B,GAAE,aAAc,QAAU1hI,EAAI,eAAgBuJ,EAAE,IAAIy5H,GAAEf,GAAEI,kBAAmB,qBAC3E,MAEF,KAAKv2J,GAAEy+H,WACL,MAAMxqG,EAAI2iC,EAAE43E,YACZ,GAAIonB,GAAE,aAAc,QAAU1hI,EAAI,wBAAyBD,EAAG,iBAAkB2iC,EAAE63E,mBAClFx6G,EAAI,EAAG,CACH,MAAMgZ,EAAI2pB,EAAE84F,kBAAkB3pH,MAC9B,GAAIkH,GAAKA,EAAE40E,QAAU50E,EAAEvH,QAAS,CAC5B,MAAMmc,EAAI,SAAS3tB,GACf,MAAM/zB,EAAI+zB,EAAE1kB,cAAcrJ,QAAO,KAAO,KACxC,OAAO/H,OAAOq7G,OAAO08C,IAAGz8I,QAAQvZ,IAAM,EAAIA,EAAIg2J,GAAEE,O,CAF1C,CAGRppH,EAAE40E,QACJpkF,EAAE,IAAIy5H,GAAEr1G,EAAG5U,EAAEvH,S,MACVjI,EAAE,IAAIy5H,GAAEf,GAAEE,QAAS,gCAAkCz/F,EAAE43E,a,MAIlE/wG,EAAE,IAAIy5H,GAAEf,GAAEa,YAAa,uBACvB,MAEF,QACEhB,K,CAEP,QACGJ,GAAE,aAAc,QAAU1hI,EAAI,e,KAGtC,MAAMvnB,EAAIwnC,KAAKC,UAAU2+B,GACzBnc,EAAEquE,KAAK9kI,EAAG,OAAQwM,EAAGsnB,EAAG,GAAG,G,CAGnCw0J,GAAGv0J,EAAG/zB,EAAG8zB,GACL,MAAM8+C,EAAI,CAAEvuE,KAAK0jL,GAAI,IAAK,gCAAiC,IAAKh0J,EAAG,YAAc71B,EAAIq/B,KAAKD,EAAI8e,KAAKqa,EAAI,CAGnG81F,mBAAoB,aACpBT,mBAAoB,GACpBN,iBAAkB,CAGd2W,SAAU,YAAY99J,KAAKy9J,WAAWlhD,uBAAuBv8G,KAAKy9J,WAAWK,YAEjF7V,aAAa,EACb9H,wBAAwB,EACxBpB,sBAAuB,CAOnBmlC,+BAAgC,KAEpCvjC,iBAAkB3gJ,KAAK2gJ,iBACvBC,qBAAsB5gJ,KAAK49J,uBAE/B59J,KAAKkgJ,kBAAoB9tF,EAAE6tF,eAAiB,IAAIpoG,GAAE,KAAM73C,KAAK8jL,GAAG1xH,EAAEq1F,mBAAoB9rJ,EAAG8zB,GAUzF2iC,EAAEouF,0BAA2B,EAC7B,MAAMr4I,EAAIomE,EAAEjsE,KAAK,IACjB8uJ,GAAE,aAAc,wBAA0BjpJ,EAAGiqD,GAC7C,MAAM92D,EAAIzB,EAAEyzJ,iBAAiBnlJ,EAAGiqD,GAMxB,IAAI72D,GAAI,EAAIK,GAAI,EAIhB,MAAMgS,EAAI,IAAIg1K,GAAG,CACrBC,GAAInzJ,IACA9zB,EAAIw1J,GAAE,aAAc,4CAA6C1hI,IAAMn0B,IAAM61J,GAAE,aAAc,iCAC7F91J,EAAEs2G,OAAQr2G,GAAI,GAAK61J,GAAE,aAAc,sBAAuB1hI,GAAIp0B,EAAEmlI,KAAK/wG,GAAE,EAE3EozJ,GAAI,IAAMxnL,EAAEy2G,UACZzwG,EAAI,CAACouB,EAAG/zB,EAAG8zB,KAGXC,EAAEm/F,OAAOlzH,GAAI+zB,IACT,IACID,EAAEC,E,CACJ,MAAO+Y,GACLnX,YAAY,KACR,MAAMmX,CAAC,GACP,E,IAET,EAMC,OAAOnnC,EAAEhG,EAAG0+C,GAAE60G,UAAUrzB,MAAO,KACnC5/H,GAAKw1J,GAAE,aAAc,+BAA+B,IACnD9vJ,EAAEhG,EAAG0+C,GAAE60G,UAAUpzB,OAAQ,KAC1B7/H,IAAMA,GAAI,EAAIw1J,GAAE,aAAc,+BAAgCxjJ,EAAE01K,KAAI,IACnEhiL,EAAEhG,EAAG0+C,GAAE60G,UAAU74C,OAAQtmF,IAC1B9zB,IAAMA,GAAI,EAAI21J,GAAE,aAAc,gCAAiC7hI,GAAI9hB,EAAE01K,GAAG,IAAI5wB,GAAEf,GAAEa,YAAa,yCAAwC,IACpIlxJ,EAAEhG,EAAG0+C,GAAE60G,UAAUnzB,SAAUhsG,IAC5B,IAAI/zB,EACJ,IAAKC,EAAG,CACJ,MAAM6zB,EAAIC,EAAE9L,KAAK,GACjB6tI,KAAIhiI,GAMJ,MAAM8+C,EAAI9+C,EAAG51B,EAAI00E,EAAEhtC,QAAU,QAAU5lC,EAAI4yE,EAAE,UAAO,IAAW5yE,OAAI,EAASA,EAAE4lC,OAC9E,GAAI1nC,EAAG,CACHu3J,GAAE,aAAc,6BAA8Bv3J,GAE9C,MAAM4uC,EAAI5uC,EAAEwjH,OACZ,IAAIhgE,EAOJ,SAAS3tB,GAGL,MAAM/zB,EAAI6rK,GAAG93I,GACb,QAAI,IAAW/zB,EAAG,OAAOgsK,GAAGhsK,E,CAJhC,CAKE8sC,GAAIytH,EAAIr8J,EAAEqnC,aACZ,IAAWmc,IAAMA,EAAIs0G,GAAEz8C,SAAUghD,EAAI,yBAA2BztH,EAAI,iBAAmB5uC,EAAEqnC,SAEzFtlC,GAAI,EAAIgS,EAAE01K,GAAG,IAAI5wB,GAAEr1G,EAAG64G,IAAK56J,EAAEy2G,O,MAC1Bq/C,GAAE,aAAc,uBAAwB3hI,GAAI7hB,EAAE21K,GAAG9zJ,E,KAE3DnuB,EAAE23B,EAAG+f,GAAEkgF,YAAaxpG,IACrBA,EAAEspG,OAAS3gF,GAAEq0G,MAAQ0E,GAAE,aAAc,4BAA8B1hI,EAAEspG,OAAS3gF,GAAEoqF,SAAW2uB,GAAE,aAAc,8BAA8B,IACxI9/H,YAAY,KAKb1jB,EAAEy1K,IAAI,GACN,GAAIz1K,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4C0D,SAASu2K,KAG/E,MAAO,oBAAsBn6K,SAAWA,SAAW,I;;;;;;;;;;;;;;;;GAkBnD,SAASo6K,GAAG10J,GACZ,OAAO,IAAI09I,GAAG19I,GAAwB,E,CAe1C,MAAM20J,GACF3jL,YAIAgvB,EAIA/zB,EAMA8zB,EAAI,IAIE8+C,EAAI,IAKJ10E,EAAI,KACNmG,KAAKskL,GAAK50J,EAAG1vB,KAAKukL,QAAU5oL,EAAGqE,KAAKwkL,GAAK/0J,EAAGzvB,KAAKykL,GAAKl2G,EAAGvuE,KAAK0kL,GAAK7qL,EAAGmG,KAAK2kL,GAAK,EAChF3kL,KAAK4kL,GAAK,KAEV5kL,KAAK6kL,GAAKzjK,KAAKC,MAAOrhB,KAAKi6F,O,CAQxBA,QACHj6F,KAAK2kL,GAAK,C,CAKPG,KACH9kL,KAAK2kL,GAAK3kL,KAAK0kL,E,CAMZK,GAAGr1J,GAEN1vB,KAAKyrI,SAGL,MAAM9vI,EAAIqf,KAAKu7B,MAAMv2C,KAAK2kL,GAAK3kL,KAAKglL,MAAOv1J,EAAIzU,KAAKqnD,IAAI,EAAGjhD,KAAKC,MAAQrhB,KAAK6kL,IAAKt2G,EAAIvzD,KAAKqnD,IAAI,EAAG1mE,EAAI8zB,GAE9F8+C,EAAI,GAAK6iF,GAAE,qBAAsB,mBAAmB7iF,qBAAqBvuE,KAAK2kL,6BAA6BhpL,uBAAuB8zB,aAC1IzvB,KAAK4kL,GAAK5kL,KAAKskL,GAAGW,kBAAkBjlL,KAAKukL,QAASh2G,GAAI,KAAOvuE,KAAK6kL,GAAKzjK,KAAKC,MAC5EqO,OAGA1vB,KAAK2kL,IAAM3kL,KAAKykL,GAAIzkL,KAAK2kL,GAAK3kL,KAAKwkL,KAAOxkL,KAAK2kL,GAAK3kL,KAAKwkL,IAAKxkL,KAAK2kL,GAAK3kL,KAAK0kL,KAAO1kL,KAAK2kL,GAAK3kL,KAAK0kL,G,CAEvGQ,KACI,OAASllL,KAAK4kL,KAAO5kL,KAAK4kL,GAAGO,YAAanlL,KAAK4kL,GAAK,K,CAExDn5C,SACI,OAASzrI,KAAK4kL,KAAO5kL,KAAK4kL,GAAGn5C,SAAUzrI,KAAK4kL,GAAK,K,CAE6BI,KAC9E,OAAQhqK,KAAKqU,SAAW,IAAMrvB,KAAK2kL,E;;;;;;;;;;;;;;;;GAoD3C,MAAMS,GACF1kL,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAGm5B,EAAGjqD,GAC7BnI,KAAKskL,GAAK50J,EAAG1vB,KAAKqlL,GAAK51J,EAAGzvB,KAAKslL,GAAK/2G,EAAGvuE,KAAKulL,GAAK1rL,EAAGmG,KAAKwlL,wBAA0BvsJ,EACnFj5B,KAAKylL,4BAA8BrzH,EAAGpyD,KAAK8uB,SAAW3mB,EAAGnI,KAAKi6B,MAAQ,EAMtEj6B,KAAK0lL,GAAK,EAAG1lL,KAAK2lL,GAAK,KAAM3lL,KAAK4lL,GAAK,KAAM5lL,KAAK2qI,OAAS,KAAM3qI,KAAK6lL,GAAK,IAAIxB,GAAG30J,EAAG/zB,E,CAQlFmqL,KACH,OAAO,IAAqB9lL,KAAKi6B,OAAS,IAAoBj6B,KAAKi6B,OAASj6B,KAAK+lL,I,CAK9EA,KACH,OAAO,IAAiB/lL,KAAKi6B,OAAS,IAAoBj6B,KAAKi6B,K,CAQ5D1O,QACH,IAAkBvrB,KAAKi6B,MAAQj6B,KAAKszJ,OAAStzJ,KAAKgmL,I,CAO/ChuF,aACHh4F,KAAK8lL,YAAc9lL,KAAK+xG,MAAM,E,CAS3Bk0E,KACHjmL,KAAKi6B,MAAQ,EAAkBj6B,KAAK6lL,GAAG5rF,O,CAWpCisF,KAGHlmL,KAAK+lL,MAAQ,OAAS/lL,KAAK2lL,KAAO3lL,KAAK2lL,GAAK3lL,KAAKskL,GAAGW,kBAAkBjlL,KAAKqlL,GAAI,KAAM,IAAMrlL,KAAKmmL,O,CAEhDC,GAAG12J,GACnD1vB,KAAKqmL,KAAMrmL,KAAK2qI,OAAOlK,KAAK/wG,E,CAEmDsoE,WAC/E,GAAIh4F,KAAK+lL,KAGT,OAAO/lL,KAAK+xG,MAAM,E,CAEsBs0E,KACxCrmL,KAAK2lL,KAAO3lL,KAAK2lL,GAAGl6C,SAAUzrI,KAAK2lL,GAAK,K,CAEUW,KAClDtmL,KAAK4lL,KAAO5lL,KAAK4lL,GAAGn6C,SAAUzrI,KAAK4lL,GAAK,K,CAcrC5tF,YAAYtoE,EAAG/zB,GAElBqE,KAAKqmL,KAAMrmL,KAAKsmL,KAAMtmL,KAAK6lL,GAAGp6C,SAG9BzrI,KAAK0lL,KAAM,IAAkBh2J,EAE7B1vB,KAAK6lL,GAAG5rF,QAAUt+F,GAAKA,EAAEwpB,OAASwsI,GAAEQ,oBAEpCb,GAAE31J,EAAEkG,YAAayvJ,GAAE,mEACnBtxJ,KAAK6lL,GAAGf,MAAQnpL,GAAKA,EAAEwpB,OAASwsI,GAAEd,iBAAmB,IAAoB7wJ,KAAKi6B,QAO9Ej6B,KAAKwlL,wBAAwBxyB,kBAAmBhzJ,KAAKylL,4BAA4BzyB,mBAEjF,OAAShzJ,KAAK2qI,SAAW3qI,KAAKumL,KAAMvmL,KAAK2qI,OAAO54B,QAAS/xG,KAAK2qI,OAAS,MAGvE3qI,KAAKi6B,MAAQvK,QAEP1vB,KAAK8uB,SAASm0J,GAAGtnL,E,CAKpB4qL,KAAK,CACZjzB,OACItzJ,KAAKi6B,MAAQ,EACb,MAAMvK,EAAI1vB,KAAKwmL,GAAGxmL,KAAK0lL,IAAK/pL,EAAIqE,KAAK0lL,GAE7Bh0J,QAAQi9C,IAAI,CAAE3uE,KAAKwlL,wBAAwBzyB,WAAY/yJ,KAAKylL,4BAA4B1yB,aAAcpwJ,MAAM,EAAE+sB,EAAGD,MAKrHzvB,KAAK0lL,KAAO/pL,GAIZqE,KAAKymL,GAAG/2J,EAAGD,EAAE,IACZ9zB,IACD+zB,GAAG,KACC,MAAMA,EAAI,IAAIgjI,GAAEf,GAAEE,QAAS,+BAAiCl2J,EAAEulC,SAC9D,OAAOlhC,KAAK0mL,GAAGh3J,EAAE,GAClB,G,CAGX+2J,GAAG/2J,EAAG/zB,GACF,MAAM8zB,EAAIzvB,KAAKwmL,GAAGxmL,KAAK0lL,IACvB1lL,KAAK2qI,OAAS3qI,KAAK2mL,GAAGj3J,EAAG/zB,GAAIqE,KAAK2qI,OAAOo4C,IAAI,KACzCtzJ,GAAG,KAAOzvB,KAAKi6B,MAAQ,EAAej6B,KAAK4lL,GAAK5lL,KAAKskL,GAAGW,kBAAkBjlL,KAAKslL,GAAI,KAAM,KAAOtlL,KAAK+lL,OAAS/lL,KAAKi6B,MAAQ,GAC3HvI,QAAQppB,aAActI,KAAK8uB,SAASi0J,OAAO,IAC1C/iL,KAAK2qI,OAAOs4C,IAAIvzJ,IACjBD,GAAG,IAAMzvB,KAAK0mL,GAAGh3J,IAAI,IACpB1vB,KAAK2qI,OAAOw4C,WAAWzzJ,IACxBD,GAAG,IAAMzvB,KAAKmjL,UAAUzzJ,IAAI,G,CAGpCs2J,KACIhmL,KAAKi6B,MAAQ,EAAkBj6B,KAAK6lL,GAAGd,IAAI/sF,UACvCh4F,KAAKi6B,MAAQ,EAAkBj6B,KAAKurB,OAAO,G,CAInDm7J,GAAGh3J,GAKC,OAAO0hI,GAAE,mBAAoB,qBAAqB1hI,KAAM1vB,KAAK2qI,OAAS,KAAM3qI,KAAK+xG,MAAM,EAAgBriF,E,CAOpG82J,GAAG92J,GACN,OAAO/zB,IACHqE,KAAKskL,GAAGsC,kBAAkB,IAAM5mL,KAAK0lL,KAAOh2J,EAAI/zB,KAAOy1J,GAAE,mBAAoB,yDAC7E1/H,QAAQppB,YAAY,C,EAW5B,MAAMu+K,WAAWzB,GACjB1kL,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GACvBq5E,MAAM5iF,EAAG,mCAAyE,qBAA8C,uBAAkD/zB,EAAG8zB,EAAG8+C,EAAGt1C,GAC3Lj5B,KAAK0lK,GAAK7rK,C,CAEd8sL,GAAGj3J,EAAG/zB,GACF,OAAOqE,KAAKulL,GAAGtB,GAAG,SAAUv0J,EAAG/zB,E,CAEnCwnL,UAAUzzJ,GAEN1vB,KAAK6lL,GAAG5rF,QACR,MAAMt+F,EAjrOd,SAAY+zB,EAAG/zB,GACX,IAAI8zB,EACJ,GAAI,iBAAkB9zB,EAAG,CACrBA,EAAEmrL,aAGF,MAAMv4G,EAAI,SAAS7+C,GACf,MAAO,cAAgBA,EAAI,EAAmB,QAAUA,EAAI,EAAgB,WAAaA,EAAI,EAAkB,YAAcA,EAAI,EAAkB,UAAYA,EAAI,EAAgB8hI,I,CAD7K,CAER71J,EAAEmrL,aAAaC,kBAAoB,aAAcltL,EAAI8B,EAAEmrL,aAAa3c,WAAa,GAAIlxI,EAAI,SAASvJ,EAAG/zB,GACnG,OAAO+zB,EAAEm1I,IAAMpT,QAAE,IAAW91J,GAAK,iBAAmBA,GAAIugK,GAAGW,iBAAiBlhK,GAAK,MAAQ81J,QAAE,IAAW91J,GAAKA,aAAa0iH,YACxH69C,GAAGY,eAAenhK,GAAK,IAAI0iH,Y,CAF4D,CAGzF3uF,EAAG/zB,EAAEmrL,aAAavd,aAAcn3G,EAAIz2D,EAAEmrL,aAAa1c,MAAOjiK,EAAIiqD,GAAK,SAAS1iC,GAC1E,MAAM/zB,OAAI,IAAW+zB,EAAEvK,KAAOwsI,GAAEE,QAAU8V,GAAGj4I,EAAEvK,MAC/C,OAAO,IAAIutI,GAAE/2J,EAAG+zB,EAAEwR,SAAW,G,CAFoC,CAWxEkxB,GACG3iC,EAAI,IAAIy6I,GAAG37F,EAAG10E,EAAGo/B,EAAG9wB,GAAK,K,MACtB,GAAI,mBAAoBxM,EAAG,CAC9BA,EAAEqrL,eACF,MAAM7Q,EAAIx6K,EAAEqrL,eACZ7Q,EAAEnsK,SAAUmsK,EAAEnsK,SAASkE,KAAMioK,EAAEnsK,SAASi8J,WACxC,MAAMmU,EAAIvM,GAAGn+I,EAAGymJ,EAAEnsK,SAASkE,MAAO2pK,EAAIrK,GAAG2I,EAAEnsK,SAASi8J,YAAaghB,EAAI,IAAIlnB,GAAG,CACxE/C,SAAU,CACN7F,OAAQgf,EAAEnsK,SAASmtJ,UAEvB+vB,EAAI7mB,GAAG8mB,iBAAiB/M,EAAGvC,EAAGoP,GAAI3rL,EAAI66K,EAAEhM,WAAa,GAAI5uK,EAAI46K,EAAEtM,kBAAoB,GACvFp6I,EAAI,IAAIk6I,GAAGruK,EAAGC,EAAG2rL,EAAEjsL,IAAKisL,E,MACrB,GAAI,mBAAoBvrL,EAAG,CAC9BA,EAAEyrL,eACF,MAAMC,EAAI1rL,EAAEyrL,eACZC,EAAEr9K,SACF,MAAMs9K,EAAIzZ,GAAGn+I,EAAG23J,EAAEr9K,UAAWu9K,EAAIF,EAAE1vB,SAAW6V,GAAG6Z,EAAE1vB,UAAYzC,GAAGvpI,MAAO67J,EAAInnB,GAAGmM,cAAc8a,EAAGC,GAAIE,EAAIJ,EAAExd,kBAAoB,GAC/Hp6I,EAAI,IAAIk6I,GAAG,GAAI8d,EAAGD,EAAEvsL,IAAKusL,E,MACtB,GAAI,mBAAoB7rL,EAAG,CAC9BA,EAAE+rL,eACF,MAAMC,EAAIhsL,EAAE+rL,eACZC,EAAE39K,SACF,MAAM49K,EAAI/Z,GAAGn+I,EAAGi4J,EAAE39K,UAAW69K,EAAIF,EAAE9d,kBAAoB,GACvDp6I,EAAI,IAAIk6I,GAAG,GAAIke,EAAGD,EAAG,K,KAClB,CACH,KAAM,WAAYjsL,GAAI,OAAO61J,KAC7B,CACI71J,EAAEiyD,OACF,MAAMnlB,EAAI9sC,EAAEiyD,OACZnlB,EAAEuhI,SACF,MAAM8d,EAAIr/I,EAAEtlC,OAAS,EAAG4kL,EAAI,IAAIxgB,GAAGugB,GAAIE,EAAIv/I,EAAEuhI,SAC7Cv6I,EAAI,IAAIs6I,GAAGie,EAAGD,E,EAGtB,OAAOt4J,C,CAynOOw4J,CAAGjoL,KAAK0lK,GAAIh2I,GAAID,EAAI,SAASC,GAInC,KAAM,iBAAkBA,GAAI,OAAOwlI,GAAGvpI,MACtC,MAAMhwB,EAAI+zB,EAAEo3J,aACZ,OAAOnrL,EAAEwuK,WAAaxuK,EAAEwuK,UAAUrwK,OAASo7J,GAAGvpI,MAAQhwB,EAAEg8J,SAAW6V,GAAG7xK,EAAEg8J,UAAYzC,GAAGvpI,K,CAN7D,CAO5B+D,GACF,OAAO1vB,KAAK8uB,SAASo5J,GAAGvsL,EAAG8zB,E,CAOxB04J,GAAGz4J,GACN,MAAM/zB,EAAI,GACVA,EAAEmiK,SAAWmQ,GAAGjuK,KAAK0lK,IAAK/pK,EAAEysL,UAAY,SAAS14J,EAAG/zB,GAChD,IAAI8zB,EACJ,MAAM8+C,EAAI5yE,EAAEgb,OACZ,OAAO8Y,EAAI0yI,GAAG5zF,GAAK,CACfwgG,UAAWD,GAAGp/I,EAAG6+C,IACjB,CACAhF,MAAOylG,GAAGt/I,EAAG6+C,IACd9+C,EAAEu6I,SAAWruK,EAAEquK,SAAUruK,EAAE4tK,YAAYjN,sBAAwB,EAAI7sI,EAAE85I,YAAc+D,GAAG59I,EAAG/zB,EAAE4tK,aAAe5tK,EAAEqtK,gBAAgB5T,UAAUF,GAAGvpI,OAAS,IAIrJ8D,EAAEkoI,SAAW0V,GAAG39I,EAAG/zB,EAAEqtK,gBAAgB1T,gBAAiB7lI,C,CAXlB,CAYtCzvB,KAAK0lK,GAAIh2I,GACX,MAAMD,EA15Nd,SAAYC,EAAG/zB,GACX,MAAM8zB,EAAI,SAASC,EAAG/zB,GAClB,OAAQA,GACN,KAAK,EACH,OAAO,KAET,KAAK,EACH,MAAO,4BAET,KAAK,EACH,MAAO,iBAET,QACE,OAAO61J,K,CAZL,CAcR,EAAG71J,EAAEixK,SACP,OAAO,MAAQn9I,EAAI,KAAO,CACtB,mBAAoBA,E,CAy4NV44J,CAAGroL,KAAK0lK,GAAIh2I,GACtBD,IAAM9zB,EAAE2sL,OAAS74J,GAAIzvB,KAAKomL,GAAGzqL,E,CAK1B4sL,GAAG74J,GACN,MAAM/zB,EAAI,GACVA,EAAEmiK,SAAWmQ,GAAGjuK,KAAK0lK,IAAK/pK,EAAEywK,aAAe18I,EAAG1vB,KAAKomL,GAAGzqL,E,EAoB1D,MAAM6sL,WAAWpD,GACjB1kL,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GACvBq5E,MAAM5iF,EAAG,kCAAuE,oBAA4C,uBAAkD/zB,EAAG8zB,EAAG8+C,EAAGt1C,GACvLj5B,KAAK0lK,GAAK7rK,EAAGmG,KAAKyoL,IAAK,C,CAKhBC,SACP,OAAO1oL,KAAKyoL,E,CAGhBl9J,QACIvrB,KAAKyoL,IAAK,EAAIzoL,KAAK2oL,qBAAkB,EAAQr2E,MAAM/mF,O,CAEvDg7J,KACIvmL,KAAKyoL,IAAMzoL,KAAK4oL,GAAG,G,CAEvBjC,GAAGj3J,EAAG/zB,GACF,OAAOqE,KAAKulL,GAAGtB,GAAG,QAASv0J,EAAG/zB,E,CAElCwnL,UAAUzzJ,GACN,GAEA+hI,KAAI/hI,EAAEm5J,aAAc7oL,KAAK2oL,gBAAkBj5J,EAAEm5J,YAAa7oL,KAAKyoL,GAAI,CAI/DzoL,KAAK6lL,GAAG5rF,QACR,MAAMt+F,EApnOlB,SAAY+zB,EAAG/zB,GACX,OAAO+zB,GAAKA,EAAE51B,OAAS,GAAK23J,QAAE,IAAW91J,GAAI+zB,EAAE1sB,KAAK0sB,GAAK,SAASA,EAAG/zB,GAEjE,IAAI8zB,EAAIC,EAAEu2I,WAAauH,GAAG99I,EAAEu2I,YAAcuH,GAAG7xK,GAC7C,OAAO8zB,EAAEmhI,QAAQsE,GAAGvpI,SAMpB8D,EAAI+9I,GAAG7xK,IAAK,IAAImqK,GAAGr2I,EAAGC,EAAEq2I,kBAAoB,GAC/C,CAVwD,CAUvDr2I,EAAG/zB,MAAQ,E,CAymOKmtL,CAAGp5J,EAAEq5J,aAAcr5J,EAAEs5J,YAAav5J,EAAI+9I,GAAG99I,EAAEs5J,YACrD,OAAOhpL,KAAK8uB,SAASm6J,GAAGx5J,EAAG9zB,E,CAG/B,OAAO81J,IAAG/hI,EAAEq5J,cAAgB,IAAMr5J,EAAEq5J,aAAajvL,QAASkG,KAAKyoL,IAAK,EAAIzoL,KAAK8uB,SAASo6J,I,CAMnFC,KAGH,MAAMz5J,EAAI,GACVA,EAAEouI,SAAWmQ,GAAGjuK,KAAK0lK,IAAK1lK,KAAKomL,GAAG12J,E,CAEkCk5J,GAAGl5J,GACvE,MAAM/zB,EAAI,CACNktL,YAAa7oL,KAAK2oL,gBAClBS,OAAQ15J,EAAE1sB,KAAK0sB,GAAKy+I,GAAGnuK,KAAK0lK,GAAIh2I,MAEpC1vB,KAAKomL,GAAGzqL,E;;;;;;;;;;;;;;;;GA6BhB,MAAM0tL,WAAW,QACb3oL,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjB+jC,QAAStyG,KAAKspL,gBAAkB55J,EAAG1vB,KAAKupL,oBAAsB5tL,EAAGqE,KAAKulL,GAAK91J,EAAGzvB,KAAK0lK,GAAKn3F,EACxFvuE,KAAKwpL,IAAK,C,CAEdC,KACI,GAAIzpL,KAAKwpL,GAAI,MAAM,IAAI92B,GAAEf,GAAES,oBAAqB,0C,CAEcwxB,GAAGl0J,EAAG/zB,EAAG8zB,GACvE,OAAOzvB,KAAKypL,KAAM/3J,QAAQi9C,IAAI,CAAE3uE,KAAKspL,gBAAgBv2B,WAAY/yJ,KAAKupL,oBAAoBx2B,aAAcpwJ,MAAM,EAAE4rE,EAAG10E,KAAOmG,KAAKulL,GAAG3B,GAAGl0J,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,KAAKg4B,OAAOnC,IACzJ,KAAM,kBAAoBA,EAAExhB,MAAQwhB,EAAEvK,OAASwsI,GAAEd,kBAAoB7wJ,KAAKspL,gBAAgBt2B,kBAC1FhzJ,KAAKupL,oBAAoBv2B,mBAAoBtjI,GAAK,IAAIgjI,GAAEf,GAAEE,QAASniI,EAAE7tB,WAAW,G,CAGAmiL,GAAGt0J,EAAG/zB,EAAG8zB,EAAG8+C,GAChG,OAAOvuE,KAAKypL,KAAM/3J,QAAQi9C,IAAI,CAAE3uE,KAAKspL,gBAAgBv2B,WAAY/yJ,KAAKupL,oBAAoBx2B,aAAcpwJ,MAAM,EAAE9I,EAAGo/B,KAAOj5B,KAAKulL,GAAGvB,GAAGt0J,EAAG/zB,EAAG8zB,EAAG51B,EAAGo/B,EAAGs1C,KAAK18C,OAAOnC,IAC5J,KAAM,kBAAoBA,EAAExhB,MAAQwhB,EAAEvK,OAASwsI,GAAEd,kBAAoB7wJ,KAAKspL,gBAAgBt2B,kBAC1FhzJ,KAAKupL,oBAAoBv2B,mBAAoBtjI,GAAK,IAAIgjI,GAAEf,GAAEE,QAASniI,EAAE7tB,WAAW,G,CAGxF6nL,YACI1pL,KAAKwpL,IAAK,C,EAiBlB,MAAMG,GACFjpL,YAAYgvB,EAAG/zB,GACXqE,KAAK4pL,WAAal6J,EAAG1vB,KAAKkhL,mBAAqBvlL,EAE/CqE,KAAKi6B,MAAQ,UAMbj6B,KAAK6pL,GAAK,EAMV7pL,KAAK8pL,GAAK,KAMV9pL,KAAK+pL,IAAK,C,CAQPC,KACH,IAAMhqL,KAAK6pL,KAAO7pL,KAAKiqL,GAAG,WAA0BjqL,KAAK8pL,GAAK9pL,KAAK4pL,WAAW3E,kBAAkB,uBAAkD,KAAM,KAAOjlL,KAAK8pL,GAAK,KACzK9pL,KAAKkqL,GAAG,6CAA8ClqL,KAAKiqL,GAAG,WAC9Dv4J,QAAQppB,a,CAOL6hL,GAAGz6J,GACN,WAA0B1vB,KAAKi6B,MAAQj6B,KAAKiqL,GAAG,YAA4BjqL,KAAK6pL,KAChF7pL,KAAK6pL,IAAM,IAAM7pL,KAAKoqL,KAAMpqL,KAAKkqL,GAAG,iDAAiDx6J,EAAE7tB,cACvF7B,KAAKiqL,GAAG,Y,CAQLx8K,IAAIiiB,GACP1vB,KAAKoqL,KAAMpqL,KAAK6pL,GAAK,EAAG,WAA0Bn6J,IAGlD1vB,KAAK+pL,IAAK,GAAK/pL,KAAKiqL,GAAGv6J,E,CAE3Bu6J,GAAGv6J,GACCA,IAAM1vB,KAAKi6B,QAAUj6B,KAAKi6B,MAAQvK,EAAG1vB,KAAKkhL,mBAAmBxxJ,G,CAEjEw6J,GAAGx6J,GACC,MAAM/zB,EAAI,4CAA4C+zB,2MACtD1vB,KAAK+pL,IAAMz4B,GAAE31J,GAAIqE,KAAK+pL,IAAK,GAAM34B,GAAE,qBAAsBz1J,E,CAE7DyuL,KACI,OAASpqL,KAAK8pL,KAAO9pL,KAAK8pL,GAAGr+C,SAAUzrI,KAAK8pL,GAAK,K;;;;;;;;;;;;;;;;GAmBrD,MAAMO,GACN3pL,YAIAgvB,EAEA/zB,EAAG8zB,EAAG8+C,EAAG10E,GACLmG,KAAKsqL,WAAa56J,EAAG1vB,KAAKuqL,UAAY5uL,EAAGqE,KAAK4pL,WAAan6J,EAAGzvB,KAAKwqL,aAAe,GAkBlFxqL,KAAKyqL,GAAK,GAUVzqL,KAAK0qL,GAAK,IAAIvtK,IAKdnd,KAAK2qL,GAAK,IAAIlhL,IAQdzJ,KAAK4qL,GAAK,GAAI5qL,KAAK6qL,GAAKhxL,EAAGmG,KAAK6qL,GAAG7I,IAAItyJ,IACnCD,EAAEm3J,kBAAkB5uF,UAIhB8yF,GAAG9qL,QAAUoxJ,GAAE,cAAe,6DACxBp5D,eAAetoE,GACjB,MAAM/zB,EAAI+1J,GAAEhiI,GACZ/zB,EAAEgvL,GAAG9gL,IAAI,SAAmCkhL,GAAGpvL,GAAIA,EAAEqvL,GAAGv9K,IAAI,WAC5D9R,EAAEgvL,GAAGntK,OAAO,SAAmCytK,GAAGtvL,E,CAHhDq8F,CAIJh4F,MAAK,GACR,IACFA,KAAKgrL,GAAK,IAAIrB,GAAGl6J,EAAG8+C,E,EAIjCypB,eAAeizF,GAAGv7J,GACd,GAAIo7J,GAAGp7J,GAAI,IAAK,MAAM/zB,KAAK+zB,EAAEk7J,SAAUjvL,GAAiB,E,CAMxDq8F,eAAe+yF,GAAGr7J,GAClB,IAAK,MAAM/zB,KAAK+zB,EAAEk7J,SAAUjvL,GAAiB,E,CAOjD,SAASuvL,GAAGx7J,EAAG/zB,GACX,MAAM8zB,EAAIiiI,GAAEhiI,GACZD,EAAEi7J,GAAGz7J,IAAItzB,EAAEquK,YAEXv6I,EAAEi7J,GAAGj9K,IAAI9R,EAAEquK,SAAUruK,GAAIwvL,GAAG17J,GAE5B27J,GAAG37J,GAAK47J,GAAG57J,GAAGs2J,MAAQuF,GAAG77J,EAAG9zB,G,CAM5B,SAAS4vL,GAAG77J,EAAG/zB,GACf,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI88G,GAAG57J,GACvBA,EAAEi7J,GAAGltK,OAAO7hB,GAAI4yE,EAAEw3G,MAAQyF,GAAG/7J,EAAG9zB,GAAI,IAAM8zB,EAAEi7J,GAAGxkJ,OAASqoC,EAAEw3G,KAAOx3G,EAAE23G,KAAO4E,GAAGr7J,IAI7EA,EAAEu7J,GAAGv9K,IAAI,W,CAMT,SAAS69K,GAAG57J,EAAG/zB,GACf+zB,EAAE+7J,GAAGtgB,GAAGxvK,EAAEquK,UAAWqhB,GAAG37J,GAAGy4J,GAAGxsL,E,CAO9B,SAAS6vL,GAAG97J,EAAG/zB,GACf+zB,EAAE+7J,GAAGtgB,GAAGxvK,GAAI0vL,GAAG37J,GAAG64J,GAAG5sL,E,CAGzB,SAASyvL,GAAG17J,GACRA,EAAE+7J,GAAK,IAAIngB,GAAG,CACVwB,uBAAwBnxK,GAAK+zB,EAAE86J,aAAa1d,uBAAuBnxK,GACnEoxK,GAAIpxK,GAAK+zB,EAAEg7J,GAAG77K,IAAIlT,IAAM,OACxB0vL,GAAG37J,GAAGnE,QAASmE,EAAEs7J,GAAGhB,I,CAMxB,SAASmB,GAAGz7J,GACZ,OAAOo7J,GAAGp7J,KAAO27J,GAAG37J,GAAGo2J,MAAQp2J,EAAEg7J,GAAGxkJ,KAAO,C,CAG/C,SAAS4kJ,GAAGp7J,GACR,OAAO,IAAMgiI,GAAEhiI,GAAGi7J,GAAGzkJ,I,CAGzB,SAASwlJ,GAAGh8J,GACRA,EAAE+7J,QAAK,C,CAGXzzF,eAAe2zF,GAAGj8J,GACdA,EAAEg7J,GAAGznL,SAAS,CAACtH,EAAG8zB,KACd67J,GAAG57J,EAAG/zB,EAAE,G,CAIhBq8F,eAAe4zF,GAAGl8J,EAAG/zB,GACjB+vL,GAAGh8J,GAEHy7J,GAAGz7J,IAAMA,EAAEs7J,GAAGb,GAAGxuL,GAAIyvL,GAAG17J,IAIxBA,EAAEs7J,GAAGv9K,IAAI,U,CAGbuqF,eAAe6zF,GAAGn8J,EAAG/zB,EAAG8zB,GACpB,GAEAC,EAAEs7J,GAAGv9K,IAAI,UAAwB9R,aAAauuK,IAAM,IAAoBvuK,EAAEs+B,OAASt+B,EAAEyuK,MAGrF,UAGIpyE,eAAetoE,EAAG/zB,GACd,MAAM8zB,EAAI9zB,EAAEyuK,MACZ,IAAK,MAAM77F,KAAK5yE,EAAEwuK,UAElBz6I,EAAEg7J,GAAGz7J,IAAIs/C,WAAa7+C,EAAE86J,aAAasB,aAAav9G,EAAG9+C,GAAIC,EAAEg7J,GAAGltK,OAAO+wD,GAAI7+C,EAAE+7J,GAAGrf,aAAa79F,G,CAJ/FypB,CAaHtoE,EAAG/zB,E,CACF,MAAOu6J,GACL9E,GAAE,cAAe,mCAAoCz1J,EAAEwuK,UAAU7nK,KAAK,KAAM4zJ,SACtE61B,GAAGr8J,EAAGwmI,E,MACT,GAAIv6J,aAAaguK,GAAKj6I,EAAE+7J,GAAG5f,GAAGlwK,GAAKA,aAAaouK,GAAKr6I,EAAE+7J,GAAGnf,GAAG3wK,GAAK+zB,EAAE+7J,GAAGzf,GAAGrwK,IAChF8zB,EAAEmhI,QAAQsE,GAAGvpI,OAAQ,IAClB,MAAM0xB,QAAU0iI,GAAGrwJ,EAAE46J,YACrB76J,EAAE2lI,UAAU/3G,IAAM,SASlB,SAAS3tB,EAAG/zB,GACR,MAAM8zB,EAAIC,EAAE+7J,GAAG/e,GAAG/wK,GAGN,OAAO8zB,EAAEw5I,cAAchmK,SAAS,CAACwsB,EAAG8+C,KAC5C,GAAI9+C,EAAE85I,YAAYjN,sBAAwB,EAAG,CACzC,MAAMziK,EAAI61B,EAAEg7J,GAAG77K,IAAI0/D,GAEC10E,GAAK61B,EAAEg7J,GAAGj9K,IAAI8gE,EAAG10E,EAAE+3K,gBAAgBniJ,EAAE85I,YAAa5tK,G,KAK9E8zB,EAAEy5I,iBAAiBjmK,SAAStH,IACxB,MAAM8zB,EAAIC,EAAEg7J,GAAG77K,IAAIlT,GACnB,IAAK8zB,EAEL,OAGgBC,EAAEg7J,GAAGj9K,IAAI9R,EAAG8zB,EAAEmiJ,gBAAgB1V,GAAGK,kBAAmB9sI,EAAEu5I,kBAGtEwiB,GAAG97J,EAAG/zB,GAKN,MAAM4yE,EAAI,IAAIijG,GAAG/hJ,EAAE9Y,OAAQhb,EAAG,EAAkC8zB,EAAEgiJ,gBAClE6Z,GAAG57J,EAAG6+C,EAAE,IACP7+C,EAAE86J,aAAawB,iBAAiBv8J,E,CA9BzC,CA+BEC,EAAGD,E,CACP,MAAOgnI,GACLrF,GAAE,cAAe,4BAA6BqF,SAAUs1B,GAAGr8J,EAAG+mI,E,EAYlEz+D,eAAe+zF,GAAGr8J,EAAG/zB,EAAG8zB,GACxB,IAAKspI,GAAGp9J,GAAI,MAAMA,EAClB+zB,EAAEi7J,GAAG9gL,IAAI,SAEHkhL,GAAGr7J,GAAIA,EAAEs7J,GAAGv9K,IAAI,WAA0BgiB,IAIhDA,EAAI,IAAMswJ,GAAGrwJ,EAAE46J,aAEf56J,EAAEk6J,WAAW32B,kBAAkBj7D,UAC3Bo5D,GAAE,cAAe,mCAAoC3hI,IAAKC,EAAEi7J,GAAGntK,OAAO,SAChEytK,GAAGv7J,EAAE,G,CAOf,SAASu8J,GAAGv8J,EAAG/zB,GACf,OAAOA,IAAIk2B,OAAOpC,GAAKs8J,GAAGr8J,EAAGD,EAAG9zB,I,CAGpCq8F,eAAek0F,GAAGx8J,GACd,MAAM/zB,EAAI+1J,GAAEhiI,GAAID,EAAI08J,GAAGxwL,GACvB,IAAI4yE,EAAI5yE,EAAE8uL,GAAG3wL,OAAS,EAAI6B,EAAE8uL,GAAG9uL,EAAE8uL,GAAG3wL,OAAS,GAAG02K,SAAU,EAC1D,KAAM4b,GAAGzwL,IAAM,IACX,MAAM8sC,QAAU03I,GAAGxkL,EAAE2uL,WAAY/7G,GACjC,GAAI,OAAS9lC,EAAG,CACZ,IAAM9sC,EAAE8uL,GAAG3wL,QAAU21B,EAAEy2J,KACvB,K,CAEJ33G,EAAI9lC,EAAE+nI,QAAS6b,GAAG1wL,EAAG8sC,E,CACvB,MAAOC,SACCqjJ,GAAGpwL,EAAG+sC,E,CAEhB4jJ,GAAG3wL,IAAM4wL,GAAG5wL,E,CAMZ,SAASywL,GAAG18J,GACZ,OAAOo7J,GAAGp7J,IAAMA,EAAE+6J,GAAG3wL,OAAS,E,CAM9B,SAASuyL,GAAG38J,EAAG/zB,GACf+zB,EAAE+6J,GAAGzoL,KAAKrG,GACV,MAAM8zB,EAAI08J,GAAGz8J,GACbD,EAAEs2J,MAAQt2J,EAAEi5J,IAAMj5J,EAAEm5J,GAAGjtL,EAAEg1K,U,CAG7B,SAAS2b,GAAG58J,GACR,OAAOo7J,GAAGp7J,KAAOy8J,GAAGz8J,GAAGo2J,MAAQp2J,EAAE+6J,GAAG3wL,OAAS,C,CAGjD,SAASyyL,GAAG78J,GACRy8J,GAAGz8J,GAAGnE,O,CAGVysE,eAAew0F,GAAG98J,GACdy8J,GAAGz8J,GAAGy5J,I,CAGVnxF,eAAey0F,GAAG/8J,GACd,MAAM/zB,EAAIwwL,GAAGz8J,GAET,IAAK,MAAMD,KAAKC,EAAE+6J,GAAI9uL,EAAEitL,GAAGn5J,EAAEkhJ,U,CAGrC34E,eAAe00F,GAAGh9J,EAAG/zB,EAAG8zB,GACpB,MAAM8+C,EAAI7+C,EAAE+6J,GAAGjsK,QAAS3kB,EAAIo3K,GAAGxnF,KAAKlb,EAAG5yE,EAAG8zB,SACpCw8J,GAAGv8J,GAAI,IAAMA,EAAE86J,aAAamC,qBAAqB9yL,WAGjDqyL,GAAGx8J,E,CAGbsoE,eAAe40F,GAAGl9J,EAAG/zB,GAGjBA,GAAKwwL,GAAGz8J,GAAGg5J,UAEL1wF,eAAetoE,EAAG/zB,GAGpB,GAAgB+rK,GAAZxR,EAAIv6J,EAAEwpB,OAAe+wI,IAAMvE,GAAEU,QAAS,CAGtC,MAAM5iI,EAAIC,EAAE+6J,GAAGjsK,QAIH2tK,GAAGz8J,GAAGu2J,WAAYgG,GAAGv8J,GAAI,IAAMA,EAAE86J,aAAaqC,kBAAkBp9J,EAAE+gJ,QAAS70K,WAGjFuwL,GAAGx8J,E,CAEb,IAAIwmI,C,CAfFl+D,CAgBJtoE,EAAG/zB,GAGL2wL,GAAG58J,IAAM68J,GAAG78J,E,CAGhBsoE,eAAe80F,GAAGp9J,EAAG/zB,GACjB,MAAM8zB,EAAIiiI,GAAEhiI,GACZD,EAAEm6J,WAAWmD,4BAA6B37B,GAAE,cAAe,wCAC3D,MAAM7iF,EAAIu8G,GAAGr7J,GAITA,EAAEk7J,GAAG9gL,IAAI,SAAiCkhL,GAAGt7J,GAAI8+C,GAErD9+C,EAAEu7J,GAAGv9K,IAAI,iBAAgCgiB,EAAE+6J,aAAawC,uBAAuBrxL,GAC/E8zB,EAAEk7J,GAAGntK,OAAO,SAAiCytK,GAAGx7J,E,CAKhDuoE,eAAei1F,GAAGv9J,EAAG/zB,GACrB,MAAM8zB,EAAIiiI,GAAEhiI,GACZ/zB,GAAK8zB,EAAEk7J,GAAGntK,OAAO,SAA4BytK,GAAGx7J,IAAM9zB,IAAM8zB,EAAEk7J,GAAG9gL,IAAI,SAC/DkhL,GAAGt7J,GAAIA,EAAEu7J,GAAGv9K,IAAI,W,CAUtB,SAAS49K,GAAG37J,GACZ,OAAOA,EAAEw9J,KAETx9J,EAAEw9J,GAAK,SAASx9J,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAImjF,GAAEhiI,GACZ,OAAO6+C,EAAEk7G,KAAM,IAAI5C,GAAGlrL,EAAG4yE,EAAEg3G,GAAIh3G,EAAE+6G,gBAAiB/6G,EAAEg7G,oBAAqBh7G,EAAEm3F,GAAIj2I,E,CAF5E,CAmBNC,EAAE66J,UAAW76J,EAAEk6J,WAAY,CACxB7G,GAAI4I,GAAG3nL,KAAK,KAAM0rB,GAClBuzJ,GAAI2I,GAAG5nL,KAAK,KAAM0rB,GAClBw4J,GAAI2D,GAAG7nL,KAAK,KAAM0rB,KAClBA,EAAEk7J,GAAG5oL,MAAMg2F,MAAMr8F,IACjBA,GAAK+zB,EAAEw9J,GAAGjH,KAAMkF,GAAGz7J,GAAK07J,GAAG17J,GAAKA,EAAEs7J,GAAGv9K,IAAI,mBAAmCiiB,EAAEw9J,GAAGv3D,OACjF+1D,GAAGh8J,GAAE,KACHA,EAAEw9J,E,CAUR,SAASf,GAAGz8J,GACZ,OAAOA,EAAEy9J,KAETz9J,EAAEy9J,GAAK,SAASz9J,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAImjF,GAAEhiI,GACZ,OAAO6+C,EAAEk7G,KAAM,IAAIjB,GAAG7sL,EAAG4yE,EAAEg3G,GAAIh3G,EAAE+6G,gBAAiB/6G,EAAEg7G,oBAAqBh7G,EAAEm3F,GAAIj2I,E,CAF5E,CAGLC,EAAE66J,UAAW76J,EAAEk6J,WAAY,CACzB7G,GAAIyJ,GAAGxoL,KAAK,KAAM0rB,GAClBuzJ,GAAI2J,GAAG5oL,KAAK,KAAM0rB,GAClBw5J,GAAIuD,GAAGzoL,KAAK,KAAM0rB,GAClBu5J,GAAIyD,GAAG1oL,KAAK,KAAM0rB,KAClBA,EAAEk7J,GAAG5oL,MAAMg2F,MAAMr8F,IACjBA,GAAK+zB,EAAEy9J,GAAGlH,WAEJiG,GAAGx8J,WAAaA,EAAEy9J,GAAGx3D,OAAQjmG,EAAE+6J,GAAG3wL,OAAS,IAAMs3J,GAAE,cAAe,8BAA8B1hI,EAAE+6J,GAAG3wL,yBAC3G41B,EAAE+6J,GAAK,IAAG,KACR/6J,EAAEy9J;;;;;;;;;;;;;;;;IA8BZ,MAAMC,GACF1sL,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACpBmG,KAAK4pL,WAAal6J,EAAG1vB,KAAKukL,QAAU5oL,EAAGqE,KAAKqtL,aAAe59J,EAAGzvB,KAAK8hK,GAAKvzF,EAAGvuE,KAAKstL,gBAAkBzzL,EAClGmG,KAAKs0G,SAAW,IAAIq+C,GAAG3yJ,KAAK2C,KAAO3C,KAAKs0G,SAAShD,QAAQ3uG,KAAKqB,KAAKhE,KAAKs0G,SAAShD,SAIjFtxG,KAAKs0G,SAAShD,QAAQz/E,OAAOnC,IAAA,G,CAe1B2kI,yBAAyB3kI,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACxC,MAAMo/B,EAAI7X,KAAKC,MAAQoO,EAAG2iC,EAAI,IAAIg7H,GAAG19J,EAAG/zB,EAAGs9B,EAAGs1C,EAAG10E,GACjD,OAAOu4D,EAAE7mC,MAAMkE,GAAI2iC,C,CAKhB7mC,MAAMmE,GACT1vB,KAAKutL,YAAcj8J,YAAY,IAAMtxB,KAAKwtL,sBAAuB99J,E,CAK9Dy1J,YACH,OAAOnlL,KAAKwtL,oB,CAQT/hD,OAAO/7G,GACV,OAAS1vB,KAAKutL,cAAgBvtL,KAAKwxB,eAAgBxxB,KAAKs0G,SAASrmB,OAAO,IAAIykE,GAAEf,GAAEC,UAAW,uBAAyBliI,EAAI,KAAOA,EAAI,M,CAEvI89J,qBACIxtL,KAAK4pL,WAAWhD,kBAAkB,IAAM,OAAS5mL,KAAKutL,aAAevtL,KAAKwxB,eAC1ExxB,KAAK8hK,KAAKn/J,MAAM+sB,GAAK1vB,KAAKs0G,SAAShsG,QAAQonB,MAAQgC,QAAQppB,W,CAE/DkpB,eACI,OAASxxB,KAAKutL,cAAgBvtL,KAAKstL,gBAAgBttL,MAAOwxB,aAAaxxB,KAAKutL,aAC5EvtL,KAAKutL,YAAc,K,EAOvB,SAASE,GAAG/9J,EAAG/zB,GACf,GAAI21J,GAAE,aAAc,GAAG31J,MAAM+zB,KAAMqpI,GAAGrpI,GAAI,OAAO,IAAIgjI,GAAEf,GAAEa,YAAa,GAAG72J,MAAM+zB,KAC/E,MAAMA,C;;;;;;;;;;;;;;;;GAwBN,MAAMg+J,GAENhtL,YAAYgvB,GAGR1vB,KAAKy1J,WAAa/lI,EAAI,CAAC/zB,EAAG8zB,IAAMC,EAAE/zB,EAAG8zB,IAAMinI,GAAGjB,WAAW95J,EAAEV,IAAKw0B,EAAEx0B,KAAO,CAACy0B,EAAG/zB,IAAM+6J,GAAGjB,WAAW/lI,EAAEz0B,IAAKU,EAAEV,KAC1G+E,KAAK2tL,SAAWvlB,KAAMpoK,KAAK4tL,UAAY,IAAIn0B,GAAGz5J,KAAKy1J,W,CAKhDpB,gBAAgB3kI,GACnB,OAAO,IAAIg+J,GAAGh+J,EAAE+lI,W,CAEpBxmI,IAAIS,GACA,OAAO,MAAQ1vB,KAAK2tL,SAAS9+K,IAAI6gB,E,CAErC7gB,IAAI6gB,GACA,OAAO1vB,KAAK2tL,SAAS9+K,IAAI6gB,E,CAE7BgsI,QACI,OAAO17J,KAAK4tL,UAAU7zB,Q,CAE1B10H,OACI,OAAOrlC,KAAK4tL,UAAU5zB,Q,CAE1BjE,UACI,OAAO/1J,KAAK4tL,UAAU73B,S,CAKnB7gJ,QAAQwa,GACX,MAAM/zB,EAAIqE,KAAK2tL,SAAS9+K,IAAI6gB,GAC5B,OAAO/zB,EAAIqE,KAAK4tL,UAAU14K,QAAQvZ,IAAK,C,CAEvCuqC,WACA,OAAOlmC,KAAK4tL,UAAU1nJ,I,CAEoCjjC,QAAQysB,GAClE1vB,KAAK4tL,UAAU3zB,kBAAkB,CAACt+J,EAAG8zB,KAAOC,EAAE/zB,IAAI,I,CAEIkO,IAAI6lB,GAE1D,MAAM/zB,EAAIqE,KAAKwd,OAAOkS,EAAEz0B,KACxB,OAAOU,EAAEk+J,KAAKl+J,EAAEgyL,SAAS/zB,OAAOlqI,EAAEz0B,IAAKy0B,GAAI/zB,EAAEiyL,UAAUh0B,OAAOlqI,EAAG,M,CAEvBlS,OAAOkS,GACjD,MAAM/zB,EAAIqE,KAAK6O,IAAI6gB,GACnB,OAAO/zB,EAAIqE,KAAK65J,KAAK75J,KAAK2tL,SAAStkG,OAAO35D,GAAI1vB,KAAK4tL,UAAUvkG,OAAO1tF,IAAMqE,I,CAE9E4wJ,QAAQlhI,GACJ,KAAMA,aAAag+J,IAAK,OAAO,EAC/B,GAAI1tL,KAAKkmC,OAASxW,EAAEwW,KAAM,OAAO,EACjC,MAAMvqC,EAAIqE,KAAK4tL,UAAUzzB,cAAe1qI,EAAIC,EAAEk+J,UAAUzzB,cACxD,KAAMx+J,EAAEg/J,WAAa,CACjB,MAAMlyH,EAAI9sC,EAAE++J,UAAUz/J,IAAKszE,EAAI9+C,EAAEirI,UAAUz/J,IAC3C,IAAKwtC,EAAEmoH,QAAQriF,GAAI,OAAO,C,CAE9B,OAAO,C,CAEX1sE,WACI,MAAM6tB,EAAI,GACV,OAAO1vB,KAAKiD,SAAStH,IACjB+zB,EAAE1tB,KAAKrG,EAAEkG,WAAW,IACnB,IAAM6tB,EAAE51B,OAAS,iBAAmB,oBAAsB41B,EAAEptB,KAAK,QAAU,K,CAEpFu3J,KAAKnqI,EAAG/zB,GACJ,MAAM8zB,EAAI,IAAIi+J,GACd,OAAOj+J,EAAEgmI,WAAaz1J,KAAKy1J,WAAYhmI,EAAEk+J,SAAWj+J,EAAGD,EAAEm+J,UAAYjyL,EAAG8zB,C;;;;;;;;;;;;;;;;GAuB5E,MAAMo+J,GACNntL,cACIV,KAAK8tL,GAAK,IAAIr0B,GAAG/C,GAAGjB,W,CAExBr/I,MAAMsZ,GACF,MAAM/zB,EAAI+zB,EAAEk6D,IAAI3uF,IAAKw0B,EAAIzvB,KAAK8tL,GAAGj/K,IAAIlT,GACrC8zB,EAEA,IAAkBC,EAAE1zB,MAAQ,IAAqByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG+zB,GAAK,IAAqBA,EAAE1zB,MAAQ,IAAoByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG,CAC/KK,KAAMyzB,EAAEzzB,KACR4tF,IAAKl6D,EAAEk6D,MACN,IAAqBl6D,EAAE1zB,MAAQ,IAAqByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG,CAC1FK,KAAM,EACN4tF,IAAKl6D,EAAEk6D,MACN,IAAqBl6D,EAAE1zB,MAAQ,IAAkByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG,CACvFK,KAAM,EACN4tF,IAAKl6D,EAAEk6D,MACN,IAAoBl6D,EAAE1zB,MAAQ,IAAkByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGzkG,OAAO1tF,GAAK,IAAoB+zB,EAAE1zB,MAAQ,IAAqByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG,CAChLK,KAAM,EACN4tF,IAAKn6D,EAAEm6D,MACN,IAAkBl6D,EAAE1zB,MAAQ,IAAoByzB,EAAEzzB,KAAOgE,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG,CACtFK,KAAM,EACN4tF,IAAKl6D,EAAEk6D,MASX4nE,KAAMxxJ,KAAK8tL,GAAK9tL,KAAK8tL,GAAGl0B,OAAOj+J,EAAG+zB,E,CAEtCq+J,KACI,MAAMr+J,EAAI,GACV,OAAO1vB,KAAK8tL,GAAG7zB,kBAAkB,CAACt+J,EAAG8zB,KACjCC,EAAE1tB,KAAKytB,EAAE,IACRC,C,EAIb,MAAMs+J,GACFttL,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAGm5B,EAAGjqD,GAC7BnI,KAAKupE,MAAQ75C,EAAG1vB,KAAKk6K,KAAOv+K,EAAGqE,KAAKiuL,QAAUx+J,EAAGzvB,KAAKq+K,WAAa9vG,EAAGvuE,KAAKkuL,YAAcr0L,EACzFmG,KAAKk+K,UAAYjlJ,EAAGj5B,KAAKmuL,iBAAmB/7H,EAAGpyD,KAAKouL,wBAA0BjmL,C,CAEAksJ,4BAA4B3kI,EAAG/zB,EAAG8zB,EAAG8+C,GACnH,MAAM10E,EAAI,GACV,OAAO8B,EAAEsH,SAASysB,IACd71B,EAAEmI,KAAK,CACHhG,KAAM,EACN4tF,IAAKl6D,GACP,IACD,IAAIs+J,GAAGt+J,EAAG/zB,EAAG+xL,GAAGW,SAAS1yL,GAAI9B,EAAG41B,EAAG8+C,GAChB,GACO,E,CAE/ByyF,uBACA,OAAQhhK,KAAKkuL,YAAYn4B,S,CAE7BnF,QAAQlhI,GACJ,KAAM1vB,KAAKk+K,YAAcxuJ,EAAEwuJ,WAAal+K,KAAKmuL,mBAAqBz+J,EAAEy+J,kBAAoBnuL,KAAKkuL,YAAYt9B,QAAQlhI,EAAEw+J,cAAgB9pB,GAAGpkK,KAAKupE,MAAO75C,EAAE65C,QAAUvpE,KAAKk6K,KAAKtpB,QAAQlhI,EAAEwqJ,OAASl6K,KAAKiuL,QAAQr9B,QAAQlhI,EAAEu+J,UAAW,OAAO,EACpO,MAAMtyL,EAAIqE,KAAKq+K,WAAY5uJ,EAAIC,EAAE2uJ,WACjC,GAAI1iL,EAAE7B,SAAW21B,EAAE31B,OAAQ,OAAO,EAClC,IAAK,IAAI2uC,EAAI,EAAGA,EAAI9sC,EAAE7B,OAAQ2uC,IAAK,GAAI9sC,EAAE8sC,GAAGzsC,OAASyzB,EAAEgZ,GAAGzsC,OAASL,EAAE8sC,GAAGmhD,IAAIgnE,QAAQnhI,EAAEgZ,GAAGmhD,KAAM,OAAO,EACtG,OAAO,C;;;;;;;;;;;;;;;;GAuBX,MAAM0kG,GACN5tL,cACIV,KAAKuuL,QAAK,EAAQvuL,KAAK8oB,UAAY,E,EAI3C,MAAM0lK,GACF9tL,cACIV,KAAKyuL,QAAU,IAAI7mB,IAAIl4I,GAAK20I,GAAG30I,IAAK00I,IAAKpkK,KAAK0uL,YAAc,UAC5D1uL,KAAK2uL,GAAK,IAAIllL,G,EAItBuuF,eAAe42F,GAAGl/J,EAAG/zB,GACjB,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI5yE,EAAE4tE,MACtB,IAAI1vE,GAAI,EAAIo/B,EAAIxJ,EAAEg/J,QAAQ5/K,IAAI0/D,GAC9B,GAAIt1C,IAAMp/B,GAAI,EAAIo/B,EAAI,IAAIq1J,IAAKz0L,EAAG,IAC9Bo/B,EAAEs1J,SAAW9+J,EAAEo/J,SAAStgH,E,CAC1B,MAAO9lC,GACL,MAAMytH,EAAIu3B,GAAGhlJ,EAAG,4BAA4B67H,GAAG3oK,EAAE4tE,kBACjD,YAAY5tE,EAAEuc,QAAQg+I,E,CAEtBzmI,EAAEg/J,QAAQhhL,IAAI8gE,EAAGt1C,GAAIA,EAAEnQ,UAAU9mB,KAAKrG,GAE1CA,EAAEmzL,GAAGr/J,EAAEi/J,aAAcz1J,EAAEs1J,IACnB5yL,EAAEozL,GAAG91J,EAAEs1J,KAAOS,GAAGv/J,E,CAIzBuoE,eAAei3F,GAAGv/J,EAAG/zB,GACjB,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI5yE,EAAE4tE,MACtB,IAAI1vE,GAAI,EACR,MAAMo/B,EAAIxJ,EAAEg/J,QAAQ5/K,IAAI0/D,GACxB,GAAIt1C,EAAG,CACH,MAAMwP,EAAIxP,EAAEnQ,UAAU5T,QAAQvZ,GAC9B8sC,GAAK,IAAMxP,EAAEnQ,UAAU2mB,OAAOhH,EAAG,GAAI5uC,EAAI,IAAMo/B,EAAEnQ,UAAUhvB,O,CAE/D,GAAID,EAAG,OAAO41B,EAAEg/J,QAAQjxK,OAAO+wD,GAAI9+C,EAAEy/J,WAAW3gH,E,CAGpD,SAAS4gH,GAAGz/J,EAAG/zB,GACX,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,IAAI6+C,GAAI,EACR,IAAK,MAAM9lC,KAAK9sC,EAAG,CACf,MAAM0hD,EAAI5U,EAAE8gC,MAAO1vE,EAAI41B,EAAEg/J,QAAQ5/K,IAAIwuC,GACrC,GAAIxjD,EAAG,CACH,IAAK,MAAM48J,KAAK58J,EAAEivB,UAAW2tI,EAAEs4B,GAAGtmJ,KAAO8lC,GAAI,GAC7C10E,EAAE00L,GAAK9lJ,C,EAGf8lC,GAAKygH,GAAGv/J,E,CAGZ,SAAS2/J,GAAG1/J,EAAG/zB,EAAG8zB,GACd,MAAM8+C,EAAImjF,GAAEhiI,GAAI71B,EAAI00E,EAAEkgH,QAAQ5/K,IAAIlT,GAClC,GAAI9B,EAAG,IAAK,MAAM4uC,KAAK5uC,EAAEivB,UAAW2f,EAAEvwB,QAAQuX,GAG1C8+C,EAAEkgH,QAAQjxK,OAAO7hB,E,CAIzB,SAASqzL,GAAGt/J,GACRA,EAAEi/J,GAAG1rL,SAASysB,IACVA,EAAExtB,MAAM,G,CASZ,MAAMmtL,GACN3uL,YAAYgvB,EAAG/zB,EAAG8zB,GACdzvB,KAAKupE,MAAQ75C,EAAG1vB,KAAKsvL,GAAK3zL,EAK1BqE,KAAKuvL,IAAK,EAAIvvL,KAAKwvL,GAAK,KAAMxvL,KAAK0uL,YAAc,UAA0B1uL,KAAKwQ,QAAUif,GAAK,E,CAO5Fs/J,GAAGr/J,GACN,IAAK1vB,KAAKwQ,QAAQi/K,uBAAwB,CAEtC,MAAM9zL,EAAI,GACV,IAAK,MAAM8zB,KAAKC,EAAE2uJ,WAAY,IAAqB5uJ,EAAEzzB,MAAQL,EAAEqG,KAAKytB,GACpEC,EAAI,IAAIs+J,GAAGt+J,EAAE65C,MAAO75C,EAAEwqJ,KAAMxqJ,EAAEu+J,QAAStyL,EAAG+zB,EAAEw+J,YAAax+J,EAAEwuJ,UAAWxuJ,EAAEy+J,kBACzC,E,CAEnC,IAAI9wI,GAAI,EACR,OAAOr9C,KAAKuvL,GAAKvvL,KAAK0vL,GAAGhgK,KAAO1vB,KAAKsvL,GAAGptL,KAAKwtB,GAAI2tB,GAAI,GAAMr9C,KAAK2vL,GAAGjgK,EAAG1vB,KAAK0uL,eAAiB1uL,KAAK4vL,GAAGlgK,GACpG2tB,GAAI,GAAKr9C,KAAKwvL,GAAK9/J,EAAG2tB,C,CAE1BnlC,QAAQwX,GACJ1vB,KAAKsvL,GAAG/tJ,MAAM7R,E,CAE+Bo/J,GAAGp/J,GAChD1vB,KAAK0uL,YAAch/J,EACnB,IAAI/zB,GAAI,EACR,OAAOqE,KAAKwvL,KAAOxvL,KAAKuvL,IAAMvvL,KAAK2vL,GAAG3vL,KAAKwvL,GAAI9/J,KAAO1vB,KAAK4vL,GAAG5vL,KAAKwvL,IAAK7zL,GAAI,GAC5EA,C,CAEJg0L,GAAGjgK,EAAG/zB,GAEF,IAAK+zB,EAAEwuJ,UAAW,OAAO,EAGjB,MAAMzuJ,EAAI,YAA4B9zB,EAGtC,QAASqE,KAAKwQ,QAAQq/K,IAAOpgK,GAAQC,EAAEwqJ,KAAKnkB,WAAa,YAA4Bp6J,E,CAGjG+zL,GAAGhgK,GAKC,GAAIA,EAAE2uJ,WAAWvkL,OAAS,EAAG,OAAO,EACpC,MAAM6B,EAAIqE,KAAKwvL,IAAMxvL,KAAKwvL,GAAGxuB,mBAAqBtxI,EAAEsxI,iBACpD,SAAUtxI,EAAEy+J,mBAAqBxyL,KAAM,IAAOqE,KAAKwQ,QAAQi/K,sB,CAK/DG,GAAGlgK,GACCA,EAAIs+J,GAAG8B,qBAAqBpgK,EAAE65C,MAAO75C,EAAEwqJ,KAAMxqJ,EAAEw+J,YAAax+J,EAAEwuJ,WAAYl+K,KAAKuvL,IAAK,EACpFvvL,KAAKsvL,GAAGptL,KAAKwtB,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JrB,MAAMqgK,GACFrvL,YAAYgvB,GACR1vB,KAAK/E,IAAMy0B,C,EAInB,MAAMsgK,GACFtvL,YAAYgvB,GACR1vB,KAAK/E,IAAMy0B,C,EAQf,MAAMugK,GACNvvL,YAAYgvB,EAEZ/zB,GACIqE,KAAKupE,MAAQ75C,EAAG1vB,KAAKkwL,GAAKv0L,EAAGqE,KAAKmwL,GAAK,KAOvCnwL,KAAK7D,SAAU,EAEf6D,KAAKowL,GAAKxnB,KAEV5oK,KAAKkuL,YAActlB,KAAM5oK,KAAKqwL,GAAK3rB,GAAGh1I,GAAI1vB,KAAKswL,GAAK,IAAI5C,GAAG1tL,KAAKqwL,G,CAKzDE,SACP,OAAOvwL,KAAKkwL,E,CAWTM,GAAG9gK,EAAG/zB,GACT,MAAM8zB,EAAI9zB,EAAIA,EAAE80L,GAAK,IAAI5C,GAAIt/G,EAAI5yE,EAAIA,EAAE20L,GAAKtwL,KAAKswL,GACjD,IAAIz2L,EAAI8B,EAAIA,EAAEuyL,YAAcluL,KAAKkuL,YAAaj1J,EAAIs1C,EAAGnc,GAAI,EASzD,MAAMjqD,EAAI,MAAoBnI,KAAKupE,MAAMg6F,WAAah1F,EAAEroC,OAASlmC,KAAKupE,MAAMmsF,MAAQnnF,EAAElpC,OAAS,KAAM/pC,EAAI,MAAmB0E,KAAKupE,MAAMg6F,WAAah1F,EAAEroC,OAASlmC,KAAKupE,MAAMmsF,MAAQnnF,EAAEmtF,QAAU,KAE9L,GAAIhsI,EAAEuqI,kBAAkB,CAACvqI,EAAG/zB,KACxB,MAAMJ,EAAIgzE,EAAE1/D,IAAI6gB,GAAI9zB,EAAI4oK,GAAGxkK,KAAKupE,MAAO5tE,GAAKA,EAAI,KAAMiS,IAAMrS,GAAKyE,KAAKkuL,YAAYj/J,IAAI1zB,EAAEN,KAAMqG,IAAM1F,IAAMA,EAAEklK,mBAG5G9gK,KAAKkuL,YAAYj/J,IAAIrzB,EAAEX,MAAQW,EAAEmlK,uBACjC,IAAIrlK,GAAI,EAEQH,GAAKK,EACjBL,EAAEqoB,KAAKgtI,QAAQh1J,EAAEgoB,MAAQhW,IAAMtM,IAAMmuB,EAAErZ,MAAM,CACzCpa,KAAM,EACN4tF,IAAKhuF,IACLF,GAAI,GAAMsE,KAAK0wL,GAAGn1L,EAAGK,KAAO6zB,EAAErZ,MAAM,CACpCpa,KAAM,EACN4tF,IAAKhuF,IACLF,GAAI,GAAKyM,GAAKnI,KAAKqwL,GAAGz0L,EAAGuM,GAAK,GAAK7M,GAAK0E,KAAKqwL,GAAGz0L,EAAGN,GAAK,KAI5D82D,GAAI,KACA72D,GAAKK,GAAK6zB,EAAErZ,MAAM,CACtBpa,KAAM,EACN4tF,IAAKhuF,IACLF,GAAI,GAAMH,IAAMK,IAAM6zB,EAAErZ,MAAM,CAC9Bpa,KAAM,EACN4tF,IAAKruF,IACLG,GAAI,GAAKyM,GAAK7M,KAIlB82D,GAAI,IACJ12D,IAAME,GAAKq9B,EAAIA,EAAEpvB,IAAIjO,GAAI/B,EAAIyH,EAAIzH,EAAEgQ,IAAI6lB,GAAK71B,EAAE2jB,OAAOkS,KAAOuJ,EAAIA,EAAEzb,OAAOkS,GAAI71B,EAAIA,EAAE2jB,OAAOkS,IAAG,IAC5F,OAAS1vB,KAAKupE,MAAMmsF,MAAO,KAAMz8H,EAAEiN,KAAOlmC,KAAKupE,MAAMmsF,OAAS,CAC/D,MAAMjtH,EAAI,MAAoBzoC,KAAKupE,MAAMg6F,UAAYtqI,EAAEoM,OAASpM,EAAEyiI,QAClEziI,EAAIA,EAAEzb,OAAOirB,EAAExtC,KAAMpB,EAAIA,EAAE2jB,OAAOirB,EAAExtC,KAAMw0B,EAAErZ,MAAM,CAC9Cpa,KAAM,EACN4tF,IAAKnhD,G,CAGb,MAAO,CACH6nJ,GAAIr3J,EACJw3J,GAAIhhK,EACJqvJ,GAAI1sH,EACJ87H,YAAar0L,E,CAGrB62L,GAAGhhK,EAAG/zB,GAQF,OAAO+zB,EAAEoxI,mBAAqBnlK,EAAEolK,wBAA0BplK,EAAEmlK,iB,CAahEX,aAAazwI,EAAG/zB,EAAG8zB,GACf,MAAM8+C,EAAIvuE,KAAKswL,GACftwL,KAAKswL,GAAK5gK,EAAE4gK,GAAItwL,KAAKkuL,YAAcx+J,EAAEw+J,YAErC,MAAMr0L,EAAI61B,EAAE+gK,GAAG1C,KACfl0L,EAAE4jG,MAAM,CAAC/tE,EAAG/zB,IAAM,SAAS+zB,EAAG/zB,GAC1B,MAAM8zB,EAAIC,IACN,OAAQA,GACN,KAAK,EACH,OAAO,EAET,KAAK,EACL,KAAK,EAIH,OAAO,EAET,KAAK,EACH,OAAO,EAET,QACE,OAAO8hI,K,EAGf,OAAO/hI,EAAEC,GAAKD,EAAE9zB,EACnB,CArBiB,CAqCrB+zB,EAAE1zB,KAAML,EAAEK,OAASgE,KAAKqwL,GAAG3gK,EAAEk6D,IAAKjuF,EAAEiuF,OAAQ5pF,KAAK2wL,GAAGlhK,GACjD,MAAMwJ,EAAIt9B,EAAIqE,KAAK4wL,KAAO,GAAIx+H,EAAI,IAAMpyD,KAAKowL,GAAGlqJ,MAAQlmC,KAAK7D,QAAU,EAAiB,EAAgBgM,EAAIiqD,IAAMpyD,KAAKmwL,GACvH,OAAInwL,KAAKmwL,GAAK/9H,EAAG,IAAMv4D,EAAEC,QAAUqO,EACxB,CACH0oL,SAAU,IAAI7C,GAAGhuL,KAAKupE,MAAO75C,EAAE4gK,GAAI/hH,EAAG10E,EAAG61B,EAAEw+J,YAAa,IAAkB97H,EAAGjqD,GAC9C,GAC/B2oL,GAAI73J,GAIL,CACH63J,GAAI73J,E,CAML61J,GAAGp/J,GACN,OAAO1vB,KAAK7D,SAAW,YAA4BuzB,GAKnD1vB,KAAK7D,SAAU,EAAI6D,KAAKmgK,aAAa,CACjCmwB,GAAItwL,KAAKswL,GACTG,GAAI,IAAI5C,GACRK,YAAaluL,KAAKkuL,YAClBpP,IAAI,IAEoB,IAAO,CAC/BgS,GAAI,G,CAKLC,GAAGrhK,GAEN,OAAQ1vB,KAAKkwL,GAAGjhK,IAAIS,MAElB1vB,KAAKswL,GAAGrhK,IAAIS,KAAO1vB,KAAKswL,GAAGzhL,IAAI6gB,GAAGoxI,iB,CAKjC6vB,GAAGjhK,GACNA,IAAMA,EAAE85I,eAAevmK,SAASysB,GAAK1vB,KAAKkwL,GAAKlwL,KAAKkwL,GAAGrmL,IAAI6lB,KAAMA,EAAE+5I,kBAAkBxmK,SAASysB,IAAA,IAC9FA,EAAEg6I,iBAAiBzmK,SAASysB,GAAK1vB,KAAKkwL,GAAKlwL,KAAKkwL,GAAG1yK,OAAOkS,KAAM1vB,KAAK7D,QAAUuzB,EAAEvzB,Q,CAErFy0L,KAEI,IAAK5wL,KAAK7D,QAAS,MAAO,GAGlB,MAAMuzB,EAAI1vB,KAAKowL,GACvBpwL,KAAKowL,GAAKxnB,KAAM5oK,KAAKswL,GAAGrtL,SAASysB,IAC7B1vB,KAAK+wL,GAAGrhK,EAAEz0B,OAAS+E,KAAKowL,GAAKpwL,KAAKowL,GAAGvmL,IAAI6lB,EAAEz0B,KAAI,IAGnD,MAAMU,EAAI,GACV,OAAO+zB,EAAEzsB,SAASysB,IACd1vB,KAAKowL,GAAGnhK,IAAIS,IAAM/zB,EAAEqG,KAAK,IAAIguL,GAAGtgK,GAAG,IAClC1vB,KAAKowL,GAAGntL,SAASwsB,IAClBC,EAAET,IAAIQ,IAAM9zB,EAAEqG,KAAK,IAAI+tL,GAAGtgK,GAAG,IAC5B9zB,C,CAsBTq1L,GAAGthK,GACC1vB,KAAKkwL,GAAKxgK,EAAE8wJ,GAAIxgL,KAAKowL,GAAKxnB,KAC1B,MAAMjtK,EAAIqE,KAAKwwL,GAAG9gK,EAAEq/I,WACpB,OAAO/uK,KAAKmgK,aAAaxkK,GAA6B,E,CAQ1Ds1L,KACI,OAAOjD,GAAG8B,qBAAqB9vL,KAAKupE,MAAOvpE,KAAKswL,GAAItwL,KAAKkuL,YAAa,IAAkBluL,KAAKmwL,G,EAQrG,MAAMe,GACFxwL,YAIAgvB,EAKA/zB,EAOA8zB,GACIzvB,KAAKupE,MAAQ75C,EAAG1vB,KAAKgqK,SAAWruK,EAAGqE,KAAKyhB,KAAOgO,C,EAIrB,MAAM0hK,GACpCzwL,YAAYgvB,GACR1vB,KAAK/E,IAAMy0B,EAOX1vB,KAAKoxL,IAAK,C,EAgBd,MAAMC,GACN3wL,YAAYgvB,EAAG/zB,EAAG8zB,EAElB8+C,EAAG10E,EAAGo/B,GACFj5B,KAAKsqL,WAAa56J,EAAG1vB,KAAKsxL,YAAc31L,EAAGqE,KAAKuxL,aAAe9hK,EAAGzvB,KAAKwxL,kBAAoBjjH,EAC3FvuE,KAAKozJ,YAAcv5J,EAAGmG,KAAKyxL,8BAAgCx4J,EAAGj5B,KAAK0xL,GAAK,GAAI1xL,KAAK2xL,GAAK,IAAI/pB,IAAIl4I,GAAK20I,GAAG30I,IAAK00I,IAC3GpkK,KAAK4xL,GAAK,IAAIz0K,IAUdnd,KAAK6xL,GAAK,IAAIpoL,IAKdzJ,KAAK8xL,GAAK,IAAIr4B,GAAG/C,GAAGjB,YAKpBz1J,KAAK+xL,GAAK,IAAI50K,IAAKnd,KAAKgyL,GAAK,IAAIla,GAEjC93K,KAAKiyL,GAAK,GAEVjyL,KAAKkyL,GAAK,IAAI/0K,IAAKnd,KAAKmyL,GAAK7d,GAAG8d,KAAMpyL,KAAK0uL,YAAc,UAIzD1uL,KAAKqyL,QAAK,C,CAEVC,sBACA,OAAO,IAAOtyL,KAAKqyL,E,EAS3Br6F,eAAeu6F,GAAG7iK,EAAG/zB,GACjB,MAAM8zB,EAAI+iK,GAAG9iK,GACb,IAAI6+C,EAAG10E,EACP,MAAMo/B,EAAIxJ,EAAEkiK,GAAG9iL,IAAIlT,GACnB,GAAIs9B,EAOJs1C,EAAIt1C,EAAE+wI,SAAUv6I,EAAE+hK,kBAAkBnQ,oBAAoB9yG,GAAI10E,EAAIo/B,EAAExX,KAAKwvK,SAAW,CAC9E,MAAMxoJ,QAAU23I,GAAG3wJ,EAAE66J,WAAYpmB,GAAGvoK,IACpC8zB,EAAE6iK,iBAAmBpH,GAAGz7J,EAAE6hK,YAAa7oJ,GACvC,MAAMovI,EAAIpoJ,EAAE+hK,kBAAkBnQ,oBAAoB54I,EAAEuhI,UACpDz7F,EAAI9lC,EAAEuhI,SAAUnwK,QAAU44L,GAAGhjK,EAAG9zB,EAAG4yE,EAAG,YAAcspG,E,CAExD,OAAOh+K,C,CAMPm+F,eAAey6F,GAAG/iK,EAAG/zB,EAAG8zB,EAAG8+C,GAI3B7+C,EAAEgjK,GAAK,CAAC/2L,EAAG8zB,EAAG8+C,IAAM,eAAe7+C,EAAG/zB,EAAG8zB,EAAG8+C,GACxC,IAAI10E,EAAI8B,EAAE8lB,KAAK+uK,GAAG/gK,GAClB51B,EAAEilL,KAIFjlL,QAAUymL,GAAG5wJ,EAAE46J,WAAY3uL,EAAE4tE,OACH,GAAI5mE,MAAM,EAAEosK,UAAWr/I,KAAO/zB,EAAE8lB,KAAK+uK,GAAG9gK,EAAG71B,MACrE,MAAMo/B,EAAIs1C,GAAKA,EAAE06F,cAAcp6J,IAAIlT,EAAEquK,UAAW53G,EAAIz2D,EAAE8lB,KAAK0+I,aAAatmK,EAC5C61B,EAAE4iK,gBAAiBr5J,GAC/C,OAAO05J,GAAGjjK,EAAG/zB,EAAEquK,SAAU53G,EAAE0+H,IAAK1+H,EAAEy+H,QACrC,CAXmB,CAWlBnhK,EAAG/zB,EAAG8zB,EAAG8+C,GACX,MAAM10E,QAAUymL,GAAG5wJ,EAAE46J,WAAY3uL,GACP,GAAKs9B,EAAI,IAAIg3J,GAAGt0L,EAAG9B,EAAE2mL,IAAKpuH,EAAIn5B,EAAEu3J,GAAG32L,EAAEk1K,WAAY5mK,EAAIkhK,GAAGC,8CAA8C75I,EAAG8+C,GAAK,YAA4B7+C,EAAEg/J,aAAcpzL,EAAI29B,EAAEknI,aAAa/tG,EAC3K1iC,EAAE4iK,gBAAiBnqL,GAC/CwqL,GAAGjjK,EAAGD,EAAGn0B,EAAEw1L,IACX,MAAMv1L,EAAI,IAAI21L,GAAGv1L,EAAG8zB,EAAGwJ,GACvB,OAAOvJ,EAAEiiK,GAAGlkL,IAAI9R,EAAGJ,GAAIm0B,EAAEkiK,GAAG3iK,IAAIQ,GAAKC,EAAEkiK,GAAG/iL,IAAI4gB,GAAGztB,KAAKrG,GAAK+zB,EAAEkiK,GAAGnkL,IAAIgiB,EAAG,CAAE9zB,IAAML,EAAEu1L,Q,CAGhD74F,eAAe46F,GAAGljK,EAAG/zB,GACtD,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI9+C,EAAEkiK,GAAG9iL,IAAIlT,GAAI9B,EAAI41B,EAAEmiK,GAAG/iL,IAAI0/D,EAAEy7F,UAChD,GAAInwK,EAAEC,OAAS,EAAG,OAAO21B,EAAEmiK,GAAGnkL,IAAI8gE,EAAEy7F,SAAUnwK,EAAE+zD,QAAQl+B,IAAM00I,GAAG10I,EAAG/zB,WAAY8zB,EAAEkiK,GAAGn0K,OAAO7hB,GAEpF8zB,EAAE6iK,iBAGN7iK,EAAE+hK,kBAAkBjQ,uBAAuBhzG,EAAEy7F,UAC7Cv6I,EAAE+hK,kBAAkB7P,oBAAoBpzG,EAAEy7F,iBAAmBqW,GAAG5wJ,EAAE66J,WAAY/7G,EAAEy7F,UACnD,GAAIrnK,MAAM,KACnC8sB,EAAE+hK,kBAAkB/P,gBAAgBlzG,EAAEy7F,UAAWuhB,GAAG97J,EAAE6hK,YAAa/iH,EAAEy7F,UACrE6oB,GAAGpjK,EAAG8+C,EAAEy7F,SAAS,IACjBn4I,MAAMumI,MACPy6B,GAAGpjK,EAAG8+C,EAAEy7F,gBAAiBqW,GAAG5wJ,EAAE66J,WAAY/7G,EAAEy7F,UACtB,G,CA8E7BhyE,eAAe86F,GAAGpjK,EAAG/zB,GACrB,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,IACI,MAAM+Y,QA1zGV,SAAY/Y,EAAG/zB,GACf,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI5yE,EAAEqtK,gBACtB,IAAInvK,EAAI41B,EAAEyvJ,GACV,OAAOzvJ,EAAEkrJ,YAAYwC,eAAe,qBAAsB,qBAAsBztJ,IAC5E,MAAMuJ,EAAIxJ,EAAE4vJ,GAAG/E,gBAAgB,CAC3ByY,eAAe,IAGXl5L,EAAI41B,EAAEyvJ,GACd,MAAM9sH,EAAI,GACVz2D,EAAEstK,cAAchmK,SAAS,CAACg2B,EAAG9wB,KACzB,MAAM7M,EAAIzB,EAAEgV,IAAI1G,GAChB,IAAK7M,EAAG,OAII82D,EAAEpwD,KAAKytB,EAAE8sJ,GAAGN,mBAAmBvsJ,EAAGuJ,EAAEywI,iBAAkBvhK,GAAGjG,MAAM,IAAMutB,EAAE8sJ,GAAGP,gBAAgBtsJ,EAAGuJ,EAAEuwI,eAAgBrhK,MAC3H,IAAI5M,EAAID,EAAEq2K,mBAAmBjiJ,EAAE+tJ,uBAC/B9hL,EAAEutK,iBAAiBj6I,IAAI9mB,GAAK5M,EAAIA,EAAEq2K,gBAAgB1V,GAAGK,kBAAmBrH,GAAGvpI,OAAOkmJ,iCAAiC3c,GAAGvpI,OAASsN,EAAEswI,YAAYjN,sBAAwB,IAAM/gK,EAAIA,EAAEq2K,gBAAgB34I,EAAEswI,YAAah7F,IAChN10E,EAAIA,EAAE+/J,OAAOzxJ,EAAG5M,GAchB,SAASm0B,EAAG/zB,EAAG8zB,GAEX,OAAI,IAAMC,EAAE65I,YAAYjN,uBAMJ3gK,EAAEqtK,gBAAgB3T,iBAAmB3lI,EAAEs5I,gBAAgB3T,kBAAoB,KAMxE5lI,EAAE+5I,eAAetjI,KAAOzW,EAAEg6I,kBAAkBvjI,KAAOzW,EAAEi6I,iBAAiBxjI,KAAO,C,CAdxG,CAkBP5qC,EAAGC,EAAG09B,IAAMm5B,EAAEpwD,KAAKytB,EAAE8sJ,GAAGb,iBAAiBhsJ,EAAGn0B,GAAG,IAE5C,IAAI4M,EAAI+/J,KAAM5sK,EAAIstK,KAKlB,GAAIjtK,EAAEwtK,gBAAgBlmK,SAASsrE,IAC3B5yE,EAAEytK,uBAAuBn6I,IAAIs/C,IAAMnc,EAAEpwD,KAAKytB,EAAEkrJ,YAAY9B,kBAAkBmF,oBAAoBtuJ,EAAG6+C,GAAG,IAIxGnc,EAAEpwD,KAAKg+K,GAAGtwJ,EAAGuJ,EAAGt9B,EAAEwtK,iBAAiBjnK,MAAMwtB,IACrCvnB,EAAIunB,EAAEuwJ,GAAI3kL,EAAIo0B,EAAEwwJ,EAAE,MACf3xG,EAAEqiF,QAAQsE,GAAGvpI,OAAQ,CACxB,MAAM0xB,EAAI5tB,EAAE8sJ,GAAGnB,6BAA6B1rJ,GAAGxtB,MAAMvG,GAAK8zB,EAAE8sJ,GAAGhB,mBAAmB7rJ,EAAGA,EAAE+tJ,sBAAuBlvG,KAC9Gnc,EAAEpwD,KAAKq7C,E,CAEX,OAAOg7G,GAAGS,QAAQ1mG,GAAGlwD,MAAM,IAAM+2B,EAAE/1B,MAAMwsB,KAAKxtB,MAAM,IAAMutB,EAAE8vJ,eAAe3J,wBAAwBlmJ,EAAGvnB,EAAG7M,KAAK4G,MAAM,IAAMiG,GAAG,IAC7HxF,MAAM+sB,IAAMD,EAAEyvJ,GAAKrlL,EAAG61B,I,CAovGNsjK,CAAGvjK,EAAE66J,WAAY3uL,GAEzBA,EAAEstK,cAAchmK,SAAS,CAACysB,EAAG/zB,KACjC,MAAM4yE,EAAI9+C,EAAEsiK,GAAGljL,IAAIlT,GACnB4yE,IAGAkjF,GAAE/hI,EAAE85I,eAAetjI,KAAOxW,EAAE+5I,kBAAkBvjI,KAAOxW,EAAEg6I,iBAAiBxjI,MAAQ,GAChFxW,EAAE85I,eAAetjI,KAAO,EAAIqoC,EAAE6iH,IAAK,EAAK1hK,EAAE+5I,kBAAkBvjI,KAAO,EAAIurH,GAAEljF,EAAE6iH,IAAM1hK,EAAEg6I,iBAAiBxjI,KAAO,IAAMurH,GAAEljF,EAAE6iH,IACrH7iH,EAAE6iH,IAAK,GAAG,UACH6B,GAAGxjK,EAAGgZ,EAAG9sC,E,CACtB,MAAO+sC,SACC0vH,GAAG1vH,E,EAOb,SAASwqJ,GAAGxjK,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAImjF,GAAEhiI,GAKR,GAAI6+C,EAAE+jH,iBAAmB,IAAwB7iK,IAAM8+C,EAAE+jH,iBAAmB,IAA8B7iK,EAAG,CAC7G,MAAMgZ,EAAI,GACV8lC,EAAEojH,GAAG1uL,SAAS,CAACwsB,EAAG8+C,KACd,MAAM10E,EAAI00E,EAAE9sD,KAAKqtK,GAAGnzL,GACpB9B,EAAEg3L,UAAYpoJ,EAAEzmC,KAAKnI,EAAEg3L,SAAS,IAC/B,SAASnhK,EAAG/zB,GACb,MAAM8zB,EAAIiiI,GAAEhiI,GACZD,EAAEi/J,YAAc/yL,EAChB,IAAI4yE,GAAI,EACR9+C,EAAEg/J,QAAQxrL,SAAS,CAACysB,EAAGD,KACnB,IAAK,MAAMgZ,KAAKhZ,EAAE3G,UAElB2f,EAAEqmJ,GAAGnzL,KAAO4yE,GAAI,EAAE,IACjBA,GAAKygH,GAAGv/J,E,CARZ,CASH8+C,EAAEgjH,aAAc51L,GAAI8sC,EAAE3uC,QAAUy0E,EAAEmjH,GAAGxJ,GAAGz/I,GAAI8lC,EAAEmgH,YAAc/yL,EAAG4yE,EAAE+jH,iBAAmB/jH,EAAEijH,kBAAkB3P,eAAelmL,E,EAc7Hq8F,eAAem7F,GAAGzjK,EAAG/zB,EAAG8zB,GACxB,MAAM8+C,EAAImjF,GAAEhiI,GAER6+C,EAAEijH,kBAAkBlQ,iBAAiB3lL,EAAG,WAAY8zB,GACxD,MAAM51B,EAAI00E,EAAEwjH,GAAGljL,IAAIlT,GAAIs9B,EAAIp/B,GAAKA,EAAEoB,IAClC,GAAIg+B,EAAG,CAOH,IAAIwP,EAAI,IAAIgxH,GAAG/C,GAAGjB,YAIVhtH,EAAIA,EAAEmxH,OAAO3gI,EAAGonI,GAAGmM,cAAcvzI,EAAGi8H,GAAGvpI,QAC/C,MAAMuqI,EAAI0S,KAAK/+J,IAAIovB,GAAImhJ,EAAI,IAAIrR,GAAG7T,GAAGvpI,MAChB,IAAIxO,IACD,IAAIs+I,GAAGnH,IAAI7rH,EAAGytH,SAChC48B,GAAGvkH,EAAG6rG,GAMZ7rG,EAAEujH,GAAKvjH,EAAEujH,GAAGzoG,OAAOpwD,GAAIs1C,EAAEwjH,GAAGv0K,OAAO7hB,GAAIy3L,GAAG7kH,E,YACjC8xG,GAAG9xG,EAAE+7G,WAAY3uL,GACA,GAAIgH,MAAM,IAAMkwL,GAAGtkH,EAAG5yE,EAAG8zB,KAAKoC,MAAMumI,G,CAGtEpgE,eAAeq7F,GAAG3jK,EAAG/zB,GACjB,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI5yE,EAAEu1K,MAAMV,QAC5B,IACI,MAAM/nI,QAv8Gd,SAAY/Y,EAAG/zB,GACX,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,OAAOD,EAAEkrJ,YAAYwC,eAAe,oBAAqB,qBAAsBztJ,IAC3E,MAAM6+C,EAAI5yE,EAAEu1K,MAAMv3K,OAAQE,EAAI41B,EAAE4vJ,GAAG/E,gBAAgB,CAC/CyY,eAAe,IAEnB,OAAO,SAASrjK,EAAG/zB,EAAG8zB,EAAG8+C,GACrB,MAAM10E,EAAI41B,EAAEyhJ,MAAOj4I,EAAIp/B,EAAEF,OACzB,IAAIy4D,EAAIimG,GAAG/vJ,UACX,OAAO2wB,EAAEh2B,SAASysB,IACd0iC,EAAIA,EAAElwD,MAAM,IAAMqsE,EAAEwmG,SAASp5K,EAAG+zB,KAAKxtB,MAAMvG,IACvC,MAAMs9B,EAAIxJ,EAAE2hJ,YAAYviK,IAAI6gB,GAC5B+hI,GAAE,OAASx4H,GAAIt9B,EAAEy0C,QAAQglH,UAAUn8H,GAAK,IAAMp/B,EAAE+2K,sBAAsBj1K,EAAG8zB,GAAI9zB,EAAEslK,oBAI/EtlK,EAAEklK,YAAYpxI,EAAE0hJ,eAAgB5iG,EAAEomG,SAASh5K,IAAG,GAC/C,IACFy2D,EAAElwD,MAAM,IAAMwtB,EAAE2lJ,cAAcsE,oBAAoBh+K,EAAG9B,IAC7D,CAbM,CAgBN41B,EAAGC,EAAG/zB,EAAG9B,GAAGqI,MAAM,IAAMrI,EAAEqJ,MAAMwsB,KAAKxtB,MAAM,IAAMutB,EAAE4lJ,cAAc0E,wBAAwBrqJ,KAAKxtB,MAAM,IAAMutB,EAAE6lJ,qBAAqBsC,yBAAyBloJ,EAAG6+C,EAAG5yE,EAAEu1K,MAAMV,WAAWtuK,MAAM,IAAMutB,EAAE8vJ,eAAelJ,0CAA0C3mJ,EAAG,SAASA,GACnQ,IAAI/zB,EAAIitK,KACR,IAAK,IAAIn5I,EAAI,EAAGA,EAAIC,EAAEmhJ,gBAAgB/2K,SAAU21B,EAC5CC,EAAEmhJ,gBAAgBphJ,GAAGs2I,iBAAiBjsK,OAAS,IAAM6B,EAAIA,EAAEkO,IAAI6lB,EAAEwhJ,MAAMP,UAAUlhJ,GAAGx0B,MAExF,OAAOU,C,CALmP,CAYjQA,MAAMuG,MAAM,IAAMutB,EAAE8vJ,eAAe5J,aAAajmJ,EAAG6+C,IAAI,G,CAq6GpC+kH,CAAG7jK,EAAE66J,WAAY3uL,GAKzB43L,GAAG9jK,EAAG8+C,EAAc,MAAOilH,GAAG/jK,EAAG8+C,GAAI9+C,EAAE+hK,kBAAkBpQ,oBAAoB7yG,EAAG,sBAClF0kH,GAAGxjK,EAAGgZ,E,CACd,MAAOC,SACC0vH,GAAG1vH,E,EAIjBsvD,eAAey7F,GAAG/jK,EAAG/zB,EAAG8zB,GACpB,MAAM8+C,EAAImjF,GAAEhiI,GACZ,IACI,MAAM+Y,QAAU,SAAS/Y,EAAG/zB,GACxB,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,OAAOD,EAAEkrJ,YAAYwC,eAAe,eAAgB,qBAAsBztJ,IACtE,IAAI6+C,EACJ,OAAO9+C,EAAE4lJ,cAAc4D,oBAAoBvpJ,EAAG/zB,GAAGuG,MAAMvG,IAAM81J,GAAE,OAAS91J,GAAI4yE,EAAI5yE,EAAEhC,OAClF81B,EAAE4lJ,cAAcsE,oBAAoBjqJ,EAAG/zB,MAAMuG,MAAM,IAAMutB,EAAE4lJ,cAAc0E,wBAAwBrqJ,KAAKxtB,MAAM,IAAMutB,EAAE6lJ,qBAAqBsC,yBAAyBloJ,EAAG6+C,EAAG5yE,KAAKuG,MAAM,IAAMutB,EAAE8vJ,eAAelJ,0CAA0C3mJ,EAAG6+C,KAAKrsE,MAAM,IAAMutB,EAAE8vJ,eAAe5J,aAAajmJ,EAAG6+C,IAAI,G,CALrS,CAanBA,EAAE+7G,WAAY3uL,GAKH43L,GAAGhlH,EAAG5yE,EAAG8zB,GAAI+jK,GAAGjlH,EAAG5yE,GAAI4yE,EAAEijH,kBAAkBpQ,oBAAoBzlL,EAAG,WAAY8zB,SAChFwjK,GAAG1kH,EAAG9lC,E,CACd,MAAOytH,SACCkC,GAAGlC,E,EA6Bb,SAASs9B,GAAG9jK,EAAG/zB,IACd+zB,EAAEwiK,GAAGrjL,IAAIlT,IAAM,IAAIsH,SAASysB,IACzBA,EAAEpnB,SAAS,IACVonB,EAAEwiK,GAAG10K,OAAO7hB,E,CAG2D,SAAS43L,GAAG7jK,EAAG/zB,EAAG8zB,GAC9F,MAAM8+C,EAAImjF,GAAEhiI,GACZ,IAAI71B,EAAI00E,EAAE0jH,GAAG1jH,EAAE6kF,YAAYzC,SAGvB,GAAI92J,EAAG,CACP,MAAM4uC,EAAI5uC,EAAEgV,IAAIlT,GAChB8sC,IAAMhZ,EAAIgZ,EAAEwlD,OAAOx+D,GAAKgZ,EAAEngC,UAAWzO,EAAIA,EAAEwvF,OAAO1tF,IAAK4yE,EAAE0jH,GAAG1jH,EAAE6kF,YAAYzC,SAAW92J,C,EAI7F,SAASg5L,GAAGnjK,EAAG/zB,EAAG8zB,EAAI,MAClBC,EAAE8hK,kBAAkBjQ,uBAAuB5lL,GAC3C,IAAK,MAAM4yE,KAAK7+C,EAAEkiK,GAAG/iL,IAAIlT,GAAI+zB,EAAEiiK,GAAGn0K,OAAO+wD,GAAI9+C,GAAKC,EAAEgiK,GAAGgC,GAAGnlH,EAAG9+C,GACzDC,EAAEkiK,GAAGp0K,OAAO7hB,GAAI+zB,EAAE4iK,iBAClB5iK,EAAEsiK,GAAGxZ,GAAG78K,GAAGsH,SAAStH,IAChB+zB,EAAEsiK,GAAGr/C,YAAYh3I,IAEjBg4L,GAAGjkK,EAAG/zB,EAAE,G,CAKpB,SAASg4L,GAAGjkK,EAAG/zB,GACX+zB,EAAEmiK,GAAGr0K,OAAO7hB,EAAEk1I,KAAKulB,mBAGnB,MAAM3mI,EAAIC,EAAEoiK,GAAGjjL,IAAIlT,GACnB,OAAS8zB,IAAM87J,GAAG77J,EAAE4hK,YAAa7hK,GAAIC,EAAEoiK,GAAKpiK,EAAEoiK,GAAGzoG,OAAO1tF,GAAI+zB,EAAEqiK,GAAGv0K,OAAOiS,GAAI2jK,GAAG1jK,G,CAGnF,SAASijK,GAAGjjK,EAAG/zB,EAAG8zB,GACd,IAAK,MAAM8+C,KAAK9+C,EAAO8+C,aAAawhH,IAAIrgK,EAAEsiK,GAAG7Z,aAAa5pG,EAAEtzE,IAAKU,GAAIi4L,GAAGlkK,EAAG6+C,IAAaA,aAAayhH,IACjG5+B,GAAE,aAAc,gCAAkC7iF,EAAEtzE,KAAMy0B,EAAEsiK,GAAG3Z,gBAAgB9pG,EAAEtzE,IAAKU,GACtF+zB,EAAEsiK,GAAGr/C,YAAYpkE,EAAEtzE,MAEnB04L,GAAGjkK,EAAG6+C,EAAEtzE,MACLu2J,I,CAGX,SAASoiC,GAAGlkK,EAAG/zB,GACX,MAAM8zB,EAAI9zB,EAAEV,IAAKszE,EAAI9+C,EAAEohH,KAAKulB,kBAC5B1mI,EAAEoiK,GAAGjjL,IAAI4gB,IAAMC,EAAEmiK,GAAG5iK,IAAIs/C,KAAO6iF,GAAE,aAAc,0BAA4B3hI,GAAIC,EAAEmiK,GAAGhoL,IAAI0kE,GACxF6kH,GAAG1jK,G,CAUH,SAAS0jK,GAAG1jK,GACZ,KAAMA,EAAEmiK,GAAG3rJ,KAAO,GAAKxW,EAAEoiK,GAAG5rJ,KAAOxW,EAAE+hK,+BAAiC,CAClE,MAAM91L,EAAI+zB,EAAEmiK,GAAG58E,SAAS/yG,OAAOE,MAC/BstB,EAAEmiK,GAAGr0K,OAAO7hB,GACZ,MAAM8zB,EAAI,IAAIinI,GAAGP,GAAGQ,WAAWh7J,IAAK4yE,EAAI7+C,EAAEyiK,GAAGjwL,OAC7CwtB,EAAEqiK,GAAGtkL,IAAI8gE,EAAG,IAAI4iH,GAAG1hK,IAAKC,EAAEoiK,GAAKpiK,EAAEoiK,GAAGl4B,OAAOnqI,EAAG8+C,GAAI28G,GAAGx7J,EAAE4hK,YAAa,IAAI9f,GAAGtN,GAAGP,GAAGl0I,EAAEohH,OAAQtiE,EAAG,EAA0ByqF,GAAGlwG,I,EAInIkvC,eAAei7F,GAAGvjK,EAAG/zB,EAAG8zB,GACpB,MAAM8+C,EAAImjF,GAAEhiI,GAAI71B,EAAI,GAAIo/B,EAAI,GAAIm5B,EAAI,GACpCmc,EAAEojH,GAAG57B,YAAcxnF,EAAEojH,GAAG1uL,SAAS,CAACysB,EAAGvnB,KACjCiqD,EAAEpwD,KAAKusE,EAAEmkH,GAAGvqL,EAAGxM,EAAG8zB,GAAG9sB,MAAM+sB,IACvB,GAAIA,EAAG,CACH6+C,EAAE+jH,iBAAmB/jH,EAAEijH,kBAAkBlQ,iBAAiBn5K,EAAE6hK,SAAUt6I,EAAEwuJ,UAAY,cAAgB,WACpGrkL,EAAEmI,KAAK0tB,GACP,MAAM/zB,EAAIsiL,GAAG4V,GAAG1rL,EAAE6hK,SAAUt6I,GAC5BuJ,EAAEj3B,KAAKrG,E,KAEX,UACG+1B,QAAQi9C,IAAIvc,GAAImc,EAAEmjH,GAAGxJ,GAAGruL,SAAUm+F,eAAetoE,EAAG/zB,GAC3D,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,UACUD,EAAEkrJ,YAAYwC,eAAe,yBAA0B,aAAcztJ,GAAK2oI,GAAGp1J,QAAQtH,GAAIA,GAAK08J,GAAGp1J,QAAQtH,EAAEwiL,IAAK5vG,GAAK9+C,EAAEkrJ,YAAY9B,kBAAkBV,aAAazoJ,EAAG/zB,EAAEquK,SAAUz7F,KAAKrsE,MAAM,IAAMm2J,GAAGp1J,QAAQtH,EAAEyiL,IAAK7vG,GAAK9+C,EAAEkrJ,YAAY9B,kBAAkBR,gBAAgB3oJ,EAAG/zB,EAAEquK,SAAUz7F,U,CAChS,MAAO9lC,GACL,IAAKswH,GAAGtwH,GAAI,MAAMA,EAKlB2oH,GAAE,aAAc,sCAAwC3oH,E,CAE5D,IAAK,MAAMC,KAAK/sC,EAAG,CACf,MAAM0hD,EAAI3U,EAAEshI,SACZ,IAAKthI,EAAEw1I,UAAW,CACd,MAAMv1I,EAAIlZ,EAAEyvJ,GAAGrwK,IAAIwuC,GAAIkxB,EAAI5lC,EAAEqgI,gBAAiBnvK,EAAI8uC,EAAEkpI,iCAAiCtjG,GAErE9+C,EAAEyvJ,GAAKzvJ,EAAEyvJ,GAAGtlB,OAAOv8G,EAAGxjD,E,GAjBLm+F,CAoB3CzpB,EAAE+7G,WAAYrxJ,G,CAGpB++D,eAAe87F,GAAGpkK,EAAG/zB,GACjB,MAAM8zB,EAAIiiI,GAAEhiI,GACZ,IAAKD,EAAE2jI,YAAYxC,QAAQj1J,GAAI,CAC3By1J,GAAE,aAAc,yBAA0Bz1J,EAAEg1J,SAC5C,MAAMloH,QAAUk3I,GAAGlwJ,EAAE66J,WAAY3uL,GACjC8zB,EAAE2jI,YAAcz3J,EAEhB,SAAS+zB,EAAG/zB,GACR+zB,EAAEwiK,GAAGjvL,SAASysB,IACVA,EAAEzsB,SAASysB,IACPA,EAAEu+D,OAAO,IAAIykE,GAAEf,GAAEC,UAGxB,oEAHsC,GAChC,IACFliI,EAAEwiK,GAAGvsI,O,CALd,CAMEl2B,GAEFA,EAAE+hK,kBAAkB5P,iBAAiBjmL,EAAG8sC,EAAEo3I,gBAAiBp3I,EAAEq3I,qBAAsBmT,GAAGxjK,EAAGgZ,EAAEm3I,G,EAInG,SAASmU,GAAGrkK,EAAG/zB,GACX,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAI9+C,EAAEsiK,GAAGljL,IAAIlT,GAC7B,GAAI4yE,GAAKA,EAAE6iH,GAAI,OAAOxoB,KAAK/+J,IAAI0kE,EAAEtzE,KACjC,CACI,IAAIwtC,EAAImgI,KACR,MAAMuN,EAAI1mJ,EAAEmiK,GAAG/iL,IAAIlT,GACnB,IAAKw6K,EAAG,OAAO1tI,EACf,IAAK,MAAM4U,KAAK84H,EAAG,CACf,MAAMkR,EAAI53J,EAAEkiK,GAAG9iL,IAAIwuC,GACnB5U,EAAIA,EAAEszH,UAAUsrB,EAAE5lK,KAAK8uK,G,CAE3B,OAAO9nJ,C,EAwMf,SAAS+pJ,GAAG9iK,GACR,MAAM/zB,EAAI+1J,GAAEhiI,GACZ,OAAO/zB,EAAE21L,YAAY9G,aAAawB,iBAAmB8G,GAAG9uL,KAAK,KAAMrI,GAAIA,EAAE21L,YAAY9G,aAAa1d,uBAAyBinB,GAAG/vL,KAAK,KAAMrI,GACzIA,EAAE21L,YAAY9G,aAAasB,aAAeqH,GAAGnvL,KAAK,KAAMrI,GAAIA,EAAE+1L,GAAGxJ,GAAKiH,GAAGnrL,KAAK,KAAMrI,EAAE41L,cACtF51L,EAAE+1L,GAAGgC,GAAKtE,GAAGprL,KAAK,KAAMrI,EAAE41L,cAAe51L,C,CAG7C,SAASq4L,GAAGtkK,GACR,MAAM/zB,EAAI+1J,GAAEhiI,GACZ,OAAO/zB,EAAE21L,YAAY9G,aAAamC,qBAAuB0G,GAAGrvL,KAAK,KAAMrI,GAAIA,EAAE21L,YAAY9G,aAAaqC,kBAAoB4G,GAAGzvL,KAAK,KAAMrI,GACxIA,C,CAgFJ,MAAMs4L,GACFvzL,cACIV,KAAKk0L,iBAAkB,C,CAE3Bl8F,iBAAiBtoE,GACb1vB,KAAK0lK,GAAK0e,GAAG10J,EAAE+zJ,aAAahmB,YAAaz9J,KAAKwxL,kBAAoBxxL,KAAKm0L,GAAGzkK,GAAI1vB,KAAK26K,YAAc36K,KAAKo0L,GAAG1kK,SACnG1vB,KAAK26K,YAAYpvJ,QAASvrB,KAAKsqL,WAAatqL,KAAKq0L,GAAG3kK,GAAI1vB,KAAKs0L,YAAct0L,KAAKu0L,GAAG7kK,EAAG1vB,KAAKsqL,YACjGtqL,KAAKw0L,yBAA2Bx0L,KAAKy0L,GAAG/kK,EAAG1vB,KAAKsqL,W,CAEpDiK,GAAG7kK,EAAG/zB,GACF,OAAO,I,CAEX84L,GAAG/kK,EAAG/zB,GACF,OAAO,I,CAEX04L,GAAG3kK,GACC,OAAOgwJ,GAAG1/K,KAAK26K,YAAa,IAAI2D,GAAI5uJ,EAAEglK,YAAa10L,KAAK0lK,G,CAE5D0uB,GAAG1kK,GACC,OAAO,IAAIysJ,GAAGuB,GAAGiX,GAAI30L,KAAK0lK,G,CAE9ByuB,GAAGzkK,GACC,OAAO,IAAIqxJ,E,CAEf/oF,kBACIh4F,KAAKs0L,aAAet0L,KAAKs0L,YAAY3+D,aAAc31H,KAAKwxL,kBAAkBt+B,iBACpElzJ,KAAK26K,YAAYznB,U,EA+E3B,MAAM0hC,GACN58F,iBAAiBtoE,EAAG/zB,GAChBqE,KAAKsqL,aAAetqL,KAAKsqL,WAAa56J,EAAE46J,WAAYtqL,KAAKwxL,kBAAoB9hK,EAAE8hK,kBAC/ExxL,KAAKuqL,UAAYvqL,KAAK60L,gBAAgBl5L,GAAIqE,KAAKsxL,YAActxL,KAAK80L,kBAAkBn5L,GACpFqE,KAAKuxL,aAAevxL,KAAK+0L,mBAAmBp5L,GAAIqE,KAAKg1L,WAAah1L,KAAKi1L,iBAAiBt5L,GAClE+zB,EAAEwkK,iBAAkBl0L,KAAKwxL,kBAAkBtQ,mBAAqBxxJ,GAAKwjK,GAAGlzL,KAAKg1L,WAAYtlK,EAAG,GAClH1vB,KAAKsxL,YAAY9G,aAAawC,uBAAyB8G,GAAG9vL,KAAK,KAAMhE,KAAKg1L,kBACpE/H,GAAGjtL,KAAKsxL,YAAatxL,KAAKg1L,WAAW1C,iB,CAE/CyC,mBAAmBrlK,GACf,OAAO,IAAI8+J,E,CAEfqG,gBAAgBnlK,GACZ,MAAM/zB,EAAIyoL,GAAG10J,EAAE+zJ,aAAahmB,YAAahuI,GAAK8+C,EAAI7+C,EAAE+zJ,aAAc,IAAID,GAAGj1G,IACzE,IAAIA,EAC6D,OAAO,SAAS7+C,EAAG/zB,EAAG8zB,EAAG8+C,GACtF,OAAO,IAAI86G,GAAG35J,EAAG/zB,EAAG8zB,EAAG8+C,E,CAD6C,CAEtE7+C,EAAE45J,gBAAiB55J,EAAE65J,oBAAqB95J,EAAG9zB,E,CAEnDm5L,kBAAkBplK,G,IAGV/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAFhB,OAAOt9B,EAAIqE,KAAKsqL,WAAY76J,EAAIzvB,KAAKuqL,UAAWh8G,EAAI7+C,EAAEk6J,WAAY/vL,EAAI61B,GAAKwjK,GAAGlzL,KAAKg1L,WAAYtlK,EAAG,GAClGuJ,EAAIgpJ,GAAGtuI,IAAM,IAAIsuI,GAAK,IAAIF,GAAI,IAAIsI,GAAG1uL,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAEzD,CACIg8J,iBAAiBvlK,EAAG/zB,GAChB,OAAO,SAAS+zB,EAAG/zB,EAAG8zB,EAEtB8+C,EAAG10E,EAAGo/B,EAAGm5B,GACL,MAAMjqD,EAAI,IAAIkpL,GAAG3hK,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GAChC,OAAOm5B,IAAMjqD,EAAEkqL,IAAK,GAAKlqL,C,CAJtB,CAKLnI,KAAKsqL,WAAYtqL,KAAKsxL,YAAatxL,KAAKuxL,aAAcvxL,KAAKwxL,kBAAmB9hK,EAAEglK,YAAahlK,EAAE+hK,8BAA+B91L,E,CAEpI+tL,YACI,OAAO1xF,eAAetoE,GAClB,MAAM/zB,EAAI+1J,GAAEhiI,GACZ0hI,GAAE,cAAe,8BAA+Bz1J,EAAEgvL,GAAG9gL,IAAI,SAAyBkhL,GAAGpvL,GACrFA,EAAEkvL,GAAG33B,WAGLv3J,EAAEqvL,GAAGv9K,IAAI,U,CANNuqF,CAOLh4F,KAAKsxL,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGf,MAAM4D,GACFx0L,YAAYgvB,GACR1vB,KAAK+3E,SAAWroD,EAKhB1vB,KAAKm1L,OAAQ,C,CAEjBjzL,KAAKwtB,GACD1vB,KAAK+3E,SAAS71E,MAAQlC,KAAKo1L,GAAGp1L,KAAK+3E,SAAS71E,KAAMwtB,E,CAEtD6R,MAAM7R,GACF1vB,KAAK+3E,SAASx2C,MAAQvhC,KAAKo1L,GAAGp1L,KAAK+3E,SAASx2C,MAAO7R,GAAK4hI,GAAE,uCAAwC5hI,E,CAEtG2lK,KACIr1L,KAAKm1L,OAAQ,C,CAEjBC,GAAG1lK,EAAG/zB,GACFqE,KAAKm1L,OAAS7jK,YAAY,KACtBtxB,KAAKm1L,OAASzlK,EAAE/zB,EAAE,GAClB,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8VZ,MAAM25L,GACF50L,YAAYgvB,EAAG/zB,EASf8zB,EAAG8+C,GACCvuE,KAAKspL,gBAAkB55J,EAAG1vB,KAAKupL,oBAAsB5tL,EAAGqE,KAAK4pL,WAAan6J,EAAGzvB,KAAKyjL,aAAel1G,EACjGvuE,KAAK6yJ,KAAOpC,GAAEI,gBAAiB7wJ,KAAKu1L,SAAWnhC,GAAE16G,IAAK15C,KAAKw1L,uBAAyB,IAAM9jK,QAAQppB,UAClGtI,KAAKy1L,2BAA6B,IAAM/jK,QAAQppB,UAAWtI,KAAKspL,gBAAgB/9J,MAAMkE,GAAIuoE,MAAMtoE,IAC5F0hI,GAAE,kBAAmB,iBAAkB1hI,EAAEqnE,WAAY/2F,KAAKw1L,uBAAuB9lK,GACjF1vB,KAAK6yJ,KAAOnjI,CAAC,IACZ1vB,KAAKupL,oBAAoBh+J,MAAMkE,GAAIC,IAAM0hI,GAAE,kBAAmB,gCAAiC1hI,GACpG1vB,KAAKy1L,2BAA2B/lK,EAAG1vB,KAAK6yJ,Q,CAE5C76D,yBACI,MAAO,CACH4xF,WAAY5pL,KAAK4pL,WACjBnG,aAAczjL,KAAKyjL,aACnB8R,SAAUv1L,KAAKu1L,SACfjM,gBAAiBtpL,KAAKspL,gBACtBC,oBAAqBvpL,KAAKupL,oBAC1BmL,YAAa10L,KAAK6yJ,KAClB4+B,8BAA+B,I,CAGvCiE,4BAA4BhmK,GACxB1vB,KAAKw1L,uBAAyB9lK,C,CAElCimK,+BAA+BjmK,GAC3B1vB,KAAKy1L,2BAA6B/lK,C,CAK/BkmK,sBACH,GAAI51L,KAAK4pL,WAAWiM,eAAgB,MAAM,IAAInjC,GAAEf,GAAES,oBAAqB,0C,CAE3Es3B,YACI1pL,KAAK4pL,WAAWkM,sBAChB,MAAMpmK,EAAI,IAAIijI,GACd,OAAO3yJ,KAAK4pL,WAAWmM,qCAAqC/9F,UACxD,IACIh4F,KAAKg2L,wBAA0Bh2L,KAAKg2L,iBAAiBtM,YAAa1pL,KAAKi2L,yBAA2Bj2L,KAAKi2L,kBAAkBvM,YAIzH1pL,KAAKspL,gBAAgBp2B,WAAYlzJ,KAAKupL,oBAAoBr2B,WAAYxjI,EAAEpnB,S,CAC1E,MAAO3M,GACL,MAAM8zB,EAAIg+J,GAAG9xL,EAAG,kCAChB+zB,EAAEu+D,OAAOx+D,E,KAEZC,EAAE4hF,O,EAIftZ,eAAek+F,GAAGxmK,EAAG/zB,GACjB+zB,EAAEk6J,WAAWmD,4BAA6B37B,GAAE,kBAAmB,yCAC/D,MAAM3hI,QAAUC,EAAEymK,yBACZx6L,EAAE6iL,WAAW/uJ,GACnB,IAAI8+C,EAAI9+C,EAAEilK,YACVhlK,EAAEgmK,6BAA6B19F,MAAMtoE,IACjC6+C,EAAEqiF,QAAQlhI,WAAaiwJ,GAAGhkL,EAAE2uL,WAAY56J,GAAI6+C,EAAI7+C,EAAC,IAIrD/zB,EAAEg/K,YAAYgC,4BAA4B,IAAMjtJ,EAAEg6J,cAAeh6J,EAAEumK,kBAAoBt6L,C,CAG3Fq8F,eAAeo+F,GAAG1mK,EAAG/zB,GACjB+zB,EAAEk6J,WAAWmD,4BACb,MAAMt9J,QAAU4mK,GAAG3mK,GACnB0hI,GAAE,kBAAmB,wCACrB,MAAM7iF,QAAU7+C,EAAEymK,yBACZx6L,EAAE6iL,WAAW/uJ,EAAG8+C,GAGtB7+C,EAAEgmK,6BAA6BhmK,GAAKo9J,GAAGnxL,EAAE21L,YAAa5hK,KAAMA,EAAEimK,gCAAgC,CAACjmK,EAAGD,IAAMq9J,GAAGnxL,EAAE21L,YAAa7hK,KAC1HC,EAAEsmK,iBAAmBr6L,C,CAGzBq8F,eAAeq+F,GAAG3mK,GACd,OAAOA,EAAEumK,oBAAsB7kC,GAAE,kBAAmB,gDAC9C8kC,GAAGxmK,EAAG,IAAIukK,KAAMvkK,EAAEumK,iB,CAG5Bj+F,eAAes+F,GAAG5mK,GACd,OAAOA,EAAEsmK,mBAAqB5kC,GAAE,kBAAmB,+CAC7CglC,GAAG1mK,EAAG,IAAIklK,KAAMllK,EAAEsmK,gB,CAe5B,SAASO,GAAG7mK,GACR,OAAO4mK,GAAG5mK,GAAG/sB,MAAM+sB,GAAKA,EAAEslK,Y,CAG9Bh9F,eAAew+F,GAAG9mK,GACd,MAAM/zB,QAAU26L,GAAG5mK,GAAID,EAAI9zB,EAAE41L,aAC7B,OAAO9hK,EAAEo/J,SAAW0D,GAAGvuL,KAAK,KAAMrI,EAAEq5L,YAAavlK,EAAEy/J,WAAa0D,GAAG5uL,KAAK,KAAMrI,EAAEq5L,YAChFvlK,C,CAiDJ,SAASgnK,GAAG/mK,EAAG/zB,EAAG8zB,EAAI,IAClB,MAAM8+C,EAAI,IAAIokF,GACd,OAAOjjI,EAAEk6J,WAAWhD,kBAAkB5uF,SAAY,SAAStoE,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACnE,MAAMo/B,EAAI,IAAIi8J,GAAG,CACbhzL,KAAM+2B,IAGFt9B,EAAEirL,kBAAkB,IAAMqI,GAAGv/J,EAAG0iC,KAChC,MAAMjqD,EAAI8wB,EAAEihJ,KAAKjrJ,IAAIQ,IACpBtnB,GAAK8wB,EAAEilJ,UAQRrkL,EAAEo0F,OAAO,IAAIykE,GAAEf,GAAEa,YAAa,0DAA4DrqJ,GAAK8wB,EAAEilJ,WAAa3vG,GAAK,WAAaA,EAAEp4D,OAAStc,EAAEo0F,OAAO,IAAIykE,GAAEf,GAAEa,YAAa,8KAAgL34J,EAAEyO,QAAQ2wB,EAAE,EAEzWsI,MAAO7R,GAAK71B,EAAEo0F,OAAOv+D,KACrB0iC,EAAI,IAAIi9H,GAAG1rB,GAAGl0I,EAAEohH,MAAO53G,EAAG,CAC1Bw2J,wBAAwB,EACxBI,IAAI,IAER,OAAOjB,GAAGl/J,EAAG0iC,EAChB,CAvBiD,OAuB1CokI,GAAG9mK,GAAIA,EAAEk6J,WAAYjuL,EAAG8zB,EAAG8+C,KAAMA,EAAE+iC,O,CAuH/C,MAAMolF,GAAK,IAAIv5K;;;;;;;;;;;;;;;;GAsBf,SAASw5K,GAAGjnK,EAAG/zB,EAAG8zB,GACd,IAAKA,EAAG,MAAM,IAAIijI,GAAEf,GAAEG,iBAAkB,YAAYpiI,sCAAsC/zB,K,CAa1F,SAASi7L,GAAGlnK,GACZ,IAAKgnI,GAAG0L,cAAc1yI,GAAI,MAAM,IAAIgjI,GAAEf,GAAEG,iBAAkB,6FAA6FpiI,SAASA,EAAE51B,U,CAetK,SAAS+8L,GAAGnnK,GACR,QAAI,IAAWA,EAAG,MAAO,YACzB,GAAI,OAASA,EAAG,MAAO,OACvB,GAAI,iBAAmBA,EAAG,OAAOA,EAAE51B,OAAS,KAAO41B,EAAI,GAAGA,EAAEra,UAAU,EAAG,UACzEs6B,KAAKC,UAAUlgB,GACf,GAAI,iBAAmBA,GAAK,kBAAoBA,EAAG,MAAO,GAAKA,EAC/D,GAAI,iBAAmBA,EAAG,CACtB,GAAIA,aAAa7uB,MAAO,MAAO,WAC/B,CACI,MAAMlF,EAEN,SAAS+zB,GACL,OAAIA,EAAEhvB,YAAoBgvB,EAAEhvB,YAAYwN,KACjC,I,CAFX,CAWPwhB,GACO,OAAO/zB,EAAI,YAAYA,WAAa,W,EAG5C,MAAO,mBAAqB+zB,EAAI,aAAe8hI,I,CAGnD,SAASslC,GAAGpnK,EAEZ/zB,GACI,GAAI,cAAe+zB,IAGnBA,EAAIA,EAAEqnK,aAAcrnK,aAAa/zB,GAAI,CACjC,GAAIA,EAAEuS,OAASwhB,EAAEhvB,YAAYwN,KAAM,MAAM,IAAIwkJ,GAAEf,GAAEG,iBAAkB,uGACnE,CACI,MAAMriI,EAAIonK,GAAGnnK,GACb,MAAM,IAAIgjI,GAAEf,GAAEG,iBAAkB,kBAAkBn2J,EAAEuS,sBAAsBuhB,I,EAGlF,OAAOC,C;;;;;;;;;;;;;;;;;AA6BX,MAAMsnK,GACFt2L,YAAYgvB,GACR,IAAI/zB,EACJ,QAAI,IAAW+zB,EAAEwyE,KAAM,CACnB,QAAI,IAAWxyE,EAAEiuI,IAAK,MAAM,IAAIjL,GAAEf,GAAEG,iBAAkB,sDACtD9xJ,KAAKkiG,KAAO,2BAA4BliG,KAAK29J,KAAM,C,MAChD39J,KAAKkiG,KAAOxyE,EAAEwyE,KAAMliG,KAAK29J,IAAM,QAAUhiK,EAAI+zB,EAAEiuI,WAAQ,IAAWhiK,GAAKA,EAC9E,GAAIqE,KAAKs4I,YAAc5oH,EAAE4oH,YAAat4I,KAAKi3L,4BAA8BvnK,EAAEunK,+BAC3E,IAAWvnK,EAAEwnK,eAAgBl3L,KAAKk3L,eAAiB,aAAe,CAC9D,IAAI,IAAOxnK,EAAEwnK,gBAAkBxnK,EAAEwnK,eAAiB,QAAS,MAAM,IAAIxkC,GAAEf,GAAEG,iBAAkB,2CAC3F9xJ,KAAKk3L,eAAiBxnK,EAAEwnK,c,CAE5Bl3L,KAAKm3L,+BAAiCznK,EAAEynK,6BAA8Bn3L,KAAKo3L,oCAAsC1nK,EAAE0nK,kCACnHp3L,KAAKkgJ,kBAAoBxwH,EAAEwwH,gBA3G/B,SAAYxwH,EAAG/zB,EAAG8zB,EAAG8+C,GACrB,IAAI,IAAO5yE,IAAK,IAAO4yE,EAAG,MAAM,IAAImkF,GAAEf,GAAEG,iBAAkB,GAAGpiI,SAASD,6B,CA0GtB4nK,CAAG,+BAAgC3nK,EAAEynK,6BAA8B,oCAAqCznK,EAAE0nK,kC,CAE1JxmC,QAAQlhI,GACJ,OAAO1vB,KAAKkiG,OAASxyE,EAAEwyE,MAAQliG,KAAK29J,MAAQjuI,EAAEiuI,KAAO39J,KAAKs4I,cAAgB5oH,EAAE4oH,aAAet4I,KAAKk3L,iBAAmBxnK,EAAEwnK,gBAAkBl3L,KAAKm3L,+BAAiCznK,EAAEynK,8BAAgCn3L,KAAKo3L,oCAAsC1nK,EAAE0nK,mCAAqCp3L,KAAKi3L,4BAA8BvnK,EAAEunK,2BAA6Bj3L,KAAKkgJ,kBAAoBxwH,EAAEwwH,e;;;;;;;;;;;;;;;;GAwBlY,MAAMo3C,GAEN52L,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjBvuE,KAAKu3L,iBAAmB7nK,EAAG1vB,KAAKw3L,qBAAuB77L,EAAGqE,KAAKy3L,YAAchoK,EAC7EzvB,KAAK03L,KAAOnpH,EAIZvuE,KAAKhE,KAAO,iBAAkBgE,KAAK23L,gBAAkB,SAAU33L,KAAK43L,UAAY,IAAIZ,GAAG,IACvFh3L,KAAK63L,iBAAkB,C,CAKhBr9E,UACP,IAAKx6G,KAAK03L,KAAM,MAAM,IAAIhlC,GAAEf,GAAES,oBAAqB,gFACnD,OAAOpyJ,KAAK03L,I,CAEZI,mBACA,OAAO93L,KAAK63L,e,CAEZE,kBACA,YAAO,IAAW/3L,KAAKg4L,c,CAE3BC,aAAavoK,GACT,GAAI1vB,KAAK63L,gBAAiB,MAAM,IAAInlC,GAAEf,GAAES,oBAAqB,sKAC7DpyJ,KAAK43L,UAAY,IAAIZ,GAAGtnK,QAAI,IAAWA,EAAE4oH,cAAgBt4I,KAAKu3L,iBAAmB,SAAS7nK,GACtF,IAAKA,EAAG,OAAO,IAAIojI,GACnB,OAAQpjI,EAAE1zB,MACR,IAAK,OACH,MAAML,EAAI+zB,EAAEwoK,OACZ,OAAO,IAAIrkC,GAAEl4J,EAAG+zB,EAAEyoK,cAAgB,IAAKzoK,EAAE0oK,UAAY,KAAM1oK,EAAE2oK,kBAAoB,MAEnF,IAAK,WACH,OAAO3oK,EAAEwoK,OAEX,QACE,MAAM,IAAIxlC,GAAEf,GAAEG,iBAAkB,qE,CAXyC,CAa/EpiI,EAAE4oH,a,CAERggD,eACI,OAAOt4L,KAAK43L,S,CAEhBW,kBACI,OAAOv4L,KAAK63L,iBAAkB,EAAI73L,KAAK43L,S,CAE3CziF,UACI,OAAOn1G,KAAKg4L,iBAAmBh4L,KAAKg4L,eAAiBh4L,KAAKw4L,cAAex4L,KAAKg4L,c,CAEChjC,SAC/E,MAAO,CACHx6C,IAAKx6G,KAAK03L,KACVj6B,WAAYz9J,KAAKy3L,YACjBgB,SAAUz4L,KAAK43L,U,CAShBY,aAKH,OAAO,SAAS9oK,GACZ,MAAM/zB,EAAI+6L,GAAG7nL,IAAI6gB,GACjB/zB,IAAMy1J,GAAE,oBAAqB,sBAAuBslC,GAAGl5K,OAAOkS,GAAI/zB,EAAE+tL,Y,CAFjE,CAGL1pL,MAAO0xB,QAAQppB,S;;;;;;;;;;;;;;;;;AAyDrB,MAAMowL,GAENh4L,YAAYgvB,EAIZ/zB,EAAG8zB,GACCzvB,KAAK24L,UAAYh9L,EAAGqE,KAAKi0D,KAAOxkC,EAEhCzvB,KAAKhE,KAAO,WAAYgE,KAAK44L,UAAYlpK,C,CAEzCmpK,YACA,OAAO74L,KAAKi0D,KAAK48E,I,CAIV92I,SACP,OAAOiG,KAAKi0D,KAAK48E,KAAKilB,a,CAKfjlB,WACP,OAAO7wI,KAAKi0D,KAAK48E,KAAKulB,iB,CAIf7yG,aACP,OAAO,IAAIu1I,GAAG94L,KAAK44L,UAAW54L,KAAK24L,UAAW34L,KAAKi0D,KAAK48E,KAAK+kB,U,CAEjEmjC,cAAcrpK,GACV,OAAO,IAAIgpK,GAAG14L,KAAK44L,UAAWlpK,EAAG1vB,KAAKi0D,K,EAO1C,MAAM+kI,GAGNt4L,YAAYgvB,EAIZ/zB,EAAG8zB,GACCzvB,KAAK24L,UAAYh9L,EAAGqE,KAAKi5L,OAASxpK,EAElCzvB,KAAKhE,KAAO,QAASgE,KAAK44L,UAAYlpK,C,CAE1CqpK,cAAcrpK,GACV,OAAO,IAAIspK,GAAGh5L,KAAK44L,UAAWlpK,EAAG1vB,KAAKi5L,O,EAO1C,MAAMH,WAAWE,GAEjBt4L,YAAYgvB,EAAG/zB,EAAG8zB,GACd6iF,MAAM5iF,EAAG/zB,EAAGgoK,GAAGl0I,IAAKzvB,KAAK64L,MAAQppK,EAEjCzvB,KAAKhE,KAAO,Y,CAE2BjC,SACvC,OAAOiG,KAAKi5L,OAAOpoD,KAAKilB,a,CAKjBjlB,WACP,OAAO7wI,KAAKi5L,OAAOpoD,KAAKulB,iB,CAKjB7yG,aACP,MAAM7zB,EAAI1vB,KAAK64L,MAAMjjC,UACrB,OAAOlmI,EAAEqmI,UAAY,KAAO,IAAI2iC,GAAG14L,KAAK44L,UACvB,KAAM,IAAIliC,GAAGhnI,G,CAElCqpK,cAAcrpK,GACV,OAAO,IAAIopK,GAAG94L,KAAK44L,UAAWlpK,EAAG1vB,KAAK64L,M,EA0C9C,SAASK,GAAGxpK,EAAG/zB,KAAM8zB,GACjB,GAAIC,EAAIh0B,GAAEg0B,GAGV,IAAMtuB,UAAUtH,SAAW6B,EAAIy4J,GAAE16G,KAAMi9I,GAAG,MAAO,OAAQh7L,GAAI+zB,aAAa4nK,GAAI,CAC1E,MAAM/oH,EAAI4nF,GAAGQ,WAAWh7J,KAAM8zB,GAC9B,OAAOmnK,GAAGroH,GAAI,IAAImqH,GAAGhpK,EACJ,KAAM,IAAIgnI,GAAGnoF,G,CAElC,CACI,KAAM7+C,aAAagpK,IAAMhpK,aAAaopK,IAAK,MAAM,IAAIpmC,GAAEf,GAAEG,iBAAkB,iHAC3E,MAAMqkB,EAAIzmJ,EAAEmpK,MAAM3/K,MAAMi9I,GAAGQ,WAAWh7J,KAAM8zB,IAC5C,OAAOmnK,GAAGzgB,GAAI,IAAIuiB,GAAGhpK,EAAEkpK,UAAWlpK,aAAaopK,GAAKppK,EAAEipK,UAAY,KAAM,IAAIjiC,GAAGyf,G;;;;;;;;;;;;;;;;;AA0CnF,MAAMgjB,GACNz4L,cAEIV,KAAKo5L,GAAK1nK,QAAQppB,UAGlBtI,KAAKq5L,GAAK,GAGVr5L,KAAKs5L,IAAK,EAGVt5L,KAAKu5L,GAAK,GAEVv5L,KAAKw5L,GAAK,KAGVx5L,KAAKy5L,IAAK,EAEVz5L,KAAK05L,IAAK,EAEV15L,KAAK25L,GAAK,GAEV35L,KAAK6lL,GAAK,IAAIxB,GAAGrkL,KAAM,qBAIvBA,KAAK45L,GAAK,KACN,MAAMlqK,EAAIy0J,KACVz0J,GAAK0hI,GAAE,aAAc,+BAAiC1hI,EAAEmqK,iBAAkB75L,KAAK6lL,GAAGX,IAAI,EAE1F,MAAMx1J,EAAIy0J,KACVz0J,GAAK,mBAAqBA,EAAE3X,kBAAoB2X,EAAE3X,iBAAiB,mBAAoB/X,KAAK45L,G,CAE5F/D,qBACA,OAAO71L,KAAKs5L,E,CAKT1S,iBAAiBl3J,GAEpB1vB,KAAK85L,QAAQpqK,E,CAEjBqmK,oCAAoCrmK,GAChC1vB,KAAK+5L,KAEL/5L,KAAKg6L,GAAGtqK,E,CAEZomK,oBAAoBpmK,GAChB,IAAK1vB,KAAKs5L,GAAI,CACVt5L,KAAKs5L,IAAK,EAAIt5L,KAAK05L,GAAKhqK,IAAK,EAC7B,MAAM/zB,EAAIwoL,KACVxoL,GAAK,mBAAqBA,EAAEqc,qBAAuBrc,EAAEqc,oBAAoB,mBAAoBhY,KAAK45L,G,EAG1GE,QAAQpqK,GACJ,GAAI1vB,KAAK+5L,KAAM/5L,KAAKs5L,GAEpB,OAAO,IAAI5nK,SAAS,SAIZ,MAAM/1B,EAAI,IAAIg3J,GACtB,OAAO3yJ,KAAKg6L,IAAI,IAAMh6L,KAAKs5L,IAAMt5L,KAAK05L,GAAKhoK,QAAQppB,WAAaonB,IAAI/sB,KAAKhH,EAAE2M,QAAS3M,EAAEsyF,QACtFtyF,EAAE21G,WAAW3uG,MAAM,IAAMhH,EAAE21G,S,CAE/B2hD,iBAAiBvjI,GACb1vB,KAAK4mL,kBAAkB,KAAO5mL,KAAKq5L,GAAGr3L,KAAK0tB,GAAI1vB,KAAKi6L,O,CAKjDjiG,WACH,GAAI,IAAMh4F,KAAKq5L,GAAGv/L,OAAQ,CACtB,UACUkG,KAAKq5L,GAAG,KAAMr5L,KAAKq5L,GAAG76K,QAASxe,KAAK6lL,GAAG5rF,O,CAC/C,MAAOvqE,GACL,IAAKqpI,GAAGrpI,GAAI,MAAMA,EAEF0hI,GAAE,aAAc,0CAA4C1hI,E,CAEhF1vB,KAAKq5L,GAAGv/L,OAAS,GAWjBkG,KAAK6lL,GAAGd,IAAI,IAAM/kL,KAAKi6L,M,EAG/BD,GAAGtqK,GACC,MAAM/zB,EAAIqE,KAAKo5L,GAAGz2L,MAAM,KAAO3C,KAAKy5L,IAAK,EAAI/pK,IAAImC,OAAOnC,IACpD1vB,KAAKw5L,GAAK9pK,EAAG1vB,KAAKy5L,IAAK,EACvB,MAAM99L,EAMN,SAAS+zB,GACL,IAAI/zB,EAAI+zB,EAAEwR,SAAW,GAErB,OADAxR,EAAExiB,QAAUvR,EAAI+zB,EAAExiB,MAAMe,SAASyhB,EAAEwR,SAAWxR,EAAExiB,MAAQwiB,EAAEwR,QAAU,KAAOxR,EAAExiB,OACtEvR,C,CAHX,CAoBP+zB,GAIO,MAAM4hI,GAAE,6BAA8B31J,GAAI+zB,CAAC,IAC3C/sB,MAAM+sB,IAAM1vB,KAAKy5L,IAAK,EAAI/pK,QAC9B,OAAO1vB,KAAKo5L,GAAKz9L,EAAGA,C,CAExBspL,kBAAkBv1J,EAAG/zB,EAAG8zB,GACpBzvB,KAAK+5L,KAEL/5L,KAAK25L,GAAGzkL,QAAQwa,IAAK,IAAO/zB,EAAI,GAChC,MAAM4yE,EAAI6+G,GAAG8M,kBAAkBl6L,KAAM0vB,EAAG/zB,EAAG8zB,GAAIC,GAAK1vB,KAAKm6L,GAAGzqK,KAC5D,OAAO1vB,KAAKu5L,GAAGv3L,KAAKusE,GAAIA,C,CAE5BwrH,KACI/5L,KAAKw5L,IAAMhoC,I,CAEfu7B,4BAA4B,CAIrB/0F,WAKH,IAAItoE,EACJ,GACIA,EAAI1vB,KAAKo5L,SAAU1pK,QACdA,IAAM1vB,KAAKo5L,G,CAKjBgB,GAAG1qK,GACN,IAAK,MAAM/zB,KAAKqE,KAAKu5L,GAAI,GAAI59L,EAAE4oL,UAAY70J,EAAG,OAAO,EACrD,OAAO,C,CAQJ2qK,GAAG3qK,GAEN,OAAO1vB,KAAKs6L,KAAK33L,MAAM,KAEnB3C,KAAKu5L,GAAG97F,MAAM,CAAC/tE,EAAG/zB,IAAM+zB,EAAE29J,aAAe1xL,EAAE0xL,eAC3C,IAAK,MAAM1xL,KAAKqE,KAAKu5L,GAAI,GAAI59L,EAAEwpL,YAAa,QAAoBz1J,GAAK/zB,EAAE4oL,UAAY70J,EAAG,MACtF,OAAO1vB,KAAKs6L,IAAI,G,CAKjBC,GAAG7qK,GACN1vB,KAAK25L,GAAG33L,KAAK0tB,E,CAE4CyqK,GAAGzqK,GAE5D,MAAM/zB,EAAIqE,KAAKu5L,GAAGrkL,QAAQwa,GAC1B1vB,KAAKu5L,GAAG9pJ,OAAO9zC,EAAG,E,EAkI1B,MAAM6+L,WAAWlD,GAEb52L,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,GACjB+jC,MAAM5iF,EAAG/zB,EAAG8zB,EAAG8+C,GAIfvuE,KAAKhE,KAAO,YAAagE,KAAKy6L,OAAS,IAAItB,GAAIn5L,KAAK23L,iBAAmB,MAAQppH,OAAI,EAASA,EAAErgE,OAAS,W,CAE3GsqL,aACI,OAAOx4L,KAAK06L,kBAGZC,GAAG36L,MAAOA,KAAK06L,iBAAiBhR,W,EAyCpC,SAASkR,GAAGlrK,GACZ,OAAOA,EAAEgrK,kBAAoBC,GAAGjrK,GAAIA,EAAEgrK,iBAAiB9E,sBAAuBlmK,EAAEgrK,gB,CAGpF,SAASC,GAAGjrK,GACR,IAAI/zB,EACJ,MAAM8zB,EAAIC,EAAE6oK,kBAAmBhqH,EAAI,SAAS7+C,EAAG/zB,EAAG8zB,EAAG8+C,GACjD,OAAO,IAAIivF,GAAG9tI,EAAG/zB,EAAG8zB,EAAG8+C,EAAE2zB,KAAM3zB,EAAEovF,IAAKpvF,EAAE4oH,6BAA8B5oH,EAAE6oH,kCAAmC7oH,EAAE2xE,gB,CAD9E,CAEjCxwH,EAAE+nK,aAAc,QAAU97L,EAAI+zB,EAAEgoK,YAAS,IAAW/7L,OAAI,EAASA,EAAE6U,QAAQquG,QAAU,GAAInvF,EAAEioK,gBAAiBloK,GAC9GC,EAAEgrK,iBAAmB,IAAIpF,GAAG5lK,EAAE6nK,iBAAkB7nK,EAAE8nK,qBAAsB9nK,EAAE+qK,OAAQlsH,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwTtF,MAAMssH,GAOFn6L,eAAegvB,GACX,IAAK,IAAI/zB,EAAI,EAAGA,EAAI+zB,EAAE51B,SAAU6B,EAAG,GAAI,IAAM+zB,EAAE/zB,GAAG7B,OAAQ,MAAM,IAAI44J,GAAEf,GAAEG,iBAAkB,2EAC1F9xJ,KAAK86L,cAAgB,IAAIxkC,GAAG5mI,E,CAOzBkhI,QAAQlhI,GACX,OAAO1vB,KAAK86L,cAAclqC,QAAQlhI,EAAEorK,c;;;;;;;;;;;;;;;;;AA6BxC,MAAMC,GAENr6L,YAAYgvB,GACR1vB,KAAKg7L,YAActrK,C,CAOhB2kI,wBAAwB3kI,GAC3B,IACI,OAAO,IAAIqrK,GAAG7+B,GAAGW,iBAAiBntI,G,CACpC,MAAO+Y,GACL,MAAM,IAAIiqH,GAAEf,GAAEG,iBAAkB,gDAAkDrpH,E,EAOnF4rH,sBAAsB3kI,GACzB,OAAO,IAAIqrK,GAAG7+B,GAAGY,eAAeptI,G,CAM7B0sI,WACH,OAAOp8J,KAAKg7L,YAAY5+B,U,CAMrBC,eACH,OAAOr8J,KAAKg7L,YAAY3+B,c,CAMrBx6J,WACH,MAAO,iBAAmB7B,KAAKo8J,WAAa,G,CAOzCxL,QAAQlhI,GACX,OAAO1vB,KAAKg7L,YAAYpqC,QAAQlhI,EAAEsrK,Y;;;;;;;;;;;;;;;;GAuBtC,MAAMC,GAKNv6L,YAAYgvB,GACR1vB,KAAKk7L,YAAcxrK,C;;;;;;;;;;;;;;;;GA0BvB,MAAMyrK,GAONz6L,YAAYgvB,EAAG/zB,GACX,IAAKy/L,SAAS1rK,IAAMA,GAAI,IAAOA,EAAI,GAAI,MAAM,IAAIgjI,GAAEf,GAAEG,iBAAkB,0DAA4DpiI,GACnI,IAAK0rK,SAASz/L,IAAMA,GAAI,KAAQA,EAAI,IAAK,MAAM,IAAI+2J,GAAEf,GAAEG,iBAAkB,6DAA+Dn2J,GACxIqE,KAAKq7L,KAAO3rK,EAAG1vB,KAAKs7L,MAAQ3/L,C,CAIrBmjK,eACP,OAAO9+J,KAAKq7L,I,CAILt8B,gBACP,OAAO/+J,KAAKs7L,K,CAOT1qC,QAAQlhI,GACX,OAAO1vB,KAAKq7L,OAAS3rK,EAAE2rK,MAAQr7L,KAAKs7L,QAAU5rK,EAAE4rK,K,CAEmBtmC,SACnE,MAAO,CACH8J,SAAU9+J,KAAKq7L,KACft8B,UAAW/+J,KAAKs7L,M,CAMjBvmC,WAAWrlI,GACd,OAAO4kI,GAAEt0J,KAAKq7L,KAAM3rK,EAAE2rK,OAAS/mC,GAAEt0J,KAAKs7L,MAAO5rK,EAAE4rK,M;;;;;;;;;;;;;;;;GAmBnD,MAAMC,GAAE,WAE0D,MAAMC,GACxE96L,YAAYgvB,EAAG/zB,EAAG8zB,GACdzvB,KAAK4jB,KAAO8L,EAAG1vB,KAAKinK,UAAYtrK,EAAGqE,KAAK4mK,gBAAkBn3I,C,CAE9DgsK,WAAW/rK,EAAG/zB,GACV,OAAO,OAASqE,KAAKinK,UAAY,IAAIR,GAAG/2I,EAAG1vB,KAAK4jB,KAAM5jB,KAAKinK,UAAWtrK,EAAGqE,KAAK4mK,iBAAmB,IAAIJ,GAAG92I,EAAG1vB,KAAK4jB,KAAMjoB,EAAGqE,KAAK4mK,gB,EAetI,SAAS80B,GAAGhsK,GACR,OAAQA,GACN,KAAK,EAEG,KAAK,EAEL,KAAK,EACX,OAAO,EAET,KAAK,EACL,KAAK,EACH,OAAO,EAET,QACE,MAAM8hI,K,CAImD,MAAMmqC,GAmBnEj7L,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GACvBj5B,KAAKy4L,SAAW/oK,EAAG1vB,KAAKy9J,WAAa9hK,EAAGqE,KAAK0lK,GAAKj2I,EAAGzvB,KAAKi3L,0BAA4B1oH,OAGtF,IAAW10E,GAAKmG,KAAK24C,KAAM34C,KAAK4mK,gBAAkB/sK,GAAK,GAAImG,KAAKinK,UAAYhuI,GAAK,E,CAEjF43G,WACA,OAAO7wI,KAAKy4L,SAAS5nD,I,CAErBzgH,SACA,OAAOpwB,KAAKy4L,SAASroK,E,CAEgDwrK,GAAGlsK,GACxE,OAAO,IAAIisK,GAAG/hM,OAAOiG,OAAOjG,OAAOiG,OAAO,GAAIG,KAAKy4L,UAAW/oK,GAAI1vB,KAAKy9J,WAAYz9J,KAAK0lK,GAAI1lK,KAAKi3L,0BAA2Bj3L,KAAK4mK,gBAAiB5mK,KAAKinK,U,CAE3J9tH,GAAGzpB,GACC,IAAI/zB,EACJ,MAAM8zB,EAAI,QAAU9zB,EAAIqE,KAAK6wI,YAAS,IAAWl1I,OAAI,EAASA,EAAEud,MAAMwW,GAAI6+C,EAAIvuE,KAAK47L,GAAG,CAClF/qD,KAAMphH,EACNosK,IAAI,IAER,OAAOttH,EAAE50B,GAAGjqB,GAAI6+C,C,CAEpButH,GAAGpsK,GACC,IAAI/zB,EACJ,MAAM8zB,EAAI,QAAU9zB,EAAIqE,KAAK6wI,YAAS,IAAWl1I,OAAI,EAASA,EAAEud,MAAMwW,GAAI6+C,EAAIvuE,KAAK47L,GAAG,CAClF/qD,KAAMphH,EACNosK,IAAI,IAER,OAAOttH,EAAE51B,KAAM41B,C,CAEnBp2B,GAAGzoB,GAGC,OAAO1vB,KAAK47L,GAAG,CACX/qD,UAAM,EACNgrD,IAAI,G,CAGZtiJ,GAAG7pB,GACC,OAAOqsK,GAAGrsK,EAAG1vB,KAAKy4L,SAASlxE,WAAYvnH,KAAKy4L,SAASx/I,KAAM,EAAIj5C,KAAK6wI,KAAM7wI,KAAKy4L,SAASj/I,G,CAEV7uB,SAAS+E,GACvF,YAAO,IAAW1vB,KAAKinK,UAAUtpE,MAAMhiG,GAAK+zB,EAAEsmI,WAAWr6J,WAAQ,IAAWqE,KAAK4mK,gBAAgBjpE,MAAMhiG,GAAK+zB,EAAEsmI,WAAWr6J,EAAEqkK,Q,CAE/HrnH,KAGI,GAAI34C,KAAK6wI,KAAM,IAAK,IAAInhH,EAAI,EAAGA,EAAI1vB,KAAK6wI,KAAK/2I,OAAQ41B,IAAK1vB,KAAK25C,GAAG35C,KAAK6wI,KAAKhiI,IAAI6gB,G,CAEpFiqB,GAAGjqB,GACC,GAAI,IAAMA,EAAE51B,OAAQ,MAAMkG,KAAKu5C,GAAG,qCAClC,GAAImiJ,GAAG17L,KAAKowB,KAAOmrK,GAAG9vL,KAAKikB,GAAI,MAAM1vB,KAAKu5C,GAAG,iD,EAOjD,MAAMyiJ,GACNt7L,YAAYgvB,EAAG/zB,EAAG8zB,GACdzvB,KAAKy9J,WAAa/tI,EAAG1vB,KAAKi3L,0BAA4Bt7L,EAAGqE,KAAK0lK,GAAKj2I,GAAK20J,GAAG10J,E,CAE9BkpB,GAAGlpB,EAAG/zB,EAAG8zB,EAAG8+C,GAAI,GAC7D,OAAO,IAAIotH,GAAG,CACVvrK,GAAIV,EACJ63F,WAAY5rH,EACZ69C,GAAI/pB,EACJohH,KAAMylB,GAAGM,YACTilC,IAAI,EACJ5iJ,GAAIs1B,GACLvuE,KAAKy9J,WAAYz9J,KAAK0lK,GAAI1lK,KAAKi3L,0B,EAI1C,SAASgF,GAAGvsK,GACR,MAAM/zB,EAAI+zB,EAAE6oK,kBAAmB9oK,EAAI20J,GAAG10J,EAAE+nK,aACxC,OAAO,IAAIuE,GAAGtsK,EAAE+nK,cAAe97L,EAAEs7L,0BAA2BxnK,E,CAGlB,SAASysK,GAAGxsK,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,EAAI,IACzE,MAAMm5B,EAAI1iC,EAAEkpB,GAAG3f,EAAEy2B,OAASz2B,EAAEkjK,YAAc,EAAmB,EAAcxgM,EAAG8zB,EAAG51B,GACjFuiM,GAAG,sCAAuChqI,EAAGmc,GAC7C,MAAMpmE,EAAIk0L,GAAG9tH,EAAGnc,GAChB,IAAI92D,EAAGC,EACP,GAAI09B,EAAEy2B,MAAOp0D,EAAI,IAAI0gK,GAAG5pG,EAAE60G,WAAY1rK,EAAI62D,EAAEw0G,qBAAsB,GAAI3tI,EAAEkjK,YAAa,CACjF,MAAM1zJ,EAAI,GACV,IAAK,MAAM0tI,KAAKl9I,EAAEkjK,YAAa,CAC3B,MAAM/hB,EAAIkiB,GAAG3gM,EAAGw6K,EAAG1mJ,GACnB,IAAK2iC,EAAEznC,SAASyvJ,GAAI,MAAM,IAAI1nB,GAAEf,GAAEG,iBAAkB,UAAUsoB,wEAC9DmiB,GAAG9zJ,EAAG2xI,IAAM3xI,EAAEzmC,KAAKo4K,E,CAEvB9+K,EAAI,IAAI0gK,GAAGvzH,GAAIltC,EAAI62D,EAAEw0G,gBAAgBh5G,QAAQl+B,GAAKp0B,EAAE2gK,OAAOvsI,EAAEswI,Q,MAC1D1kK,EAAI,KAAMC,EAAI62D,EAAEw0G,gBACvB,OAAO,IAAI40B,GAAG,IAAIz7B,GAAG53J,GAAI7M,EAAGC,E,CA4J5B,SAASihM,GAAG9sK,EAAG/zB,GACf,GAAI8gM,GAGJ/sK,EAAIh0B,GAAEg0B,IAAK,OAAO0sK,GAAG,2BAA4BzgM,EAAG+zB,GAAI2sK,GAAG3sK,EAAG/zB,GAC9D,GAAI+zB,aAAaurK,GAUjB,OAAO,SAASvrK,EAAG/zB,GAEf,IAAK+/L,GAAG//L,EAAEy0B,IAAK,MAAMz0B,EAAE49C,GAAG,GAAG7pB,EAAEwrK,0DAC/B,IAAKv/L,EAAEk1I,KAAM,MAAMl1I,EAAE49C,GAAG,GAAG7pB,EAAEwrK,0DAC7B,MAAMzrK,EAAIC,EAAEgtK,kBAAkB/gM,GAC9B8zB,GAAK9zB,EAAEirK,gBAAgB5kK,KAAKytB,E,CALzB,CAWNC,EAAG/zB,GAAI,KACR,QAAI,IAAW+zB,GAAK/zB,EAAEs7L,0BAItB,OAAO,KACP,GAGAt7L,EAAEk1I,MAAQl1I,EAAEsrK,UAAUjlK,KAAKrG,EAAEk1I,MAAOnhH,aAAa7uB,MAAO,CAOpD,GAAIlF,EAAE88L,SAASoD,IAAM,IAA0BlgM,EAAEy0B,GAAI,MAAMz0B,EAAE49C,GAAG,mCAChE,OAAO,SAAS7pB,EAAG/zB,GACf,MAAM8zB,EAAI,GACV,IAAI8+C,EAAI,EACR,IAAK,MAAM10E,KAAK61B,EAAG,CACf,IAAI+Y,EAAI+zJ,GAAG3iM,EAAG8B,EAAEw8C,GAAGo2B,IACnB,MAAQ9lC,IAGRA,EAAI,CACAw6H,UAAW,eACXxzI,EAAEztB,KAAKymC,GAAI8lC,G,CAEnB,MAAO,CACH2wF,WAAY,CACRjqD,OAAQxlF,G,CAdb,CAiBLC,EAAG/zB,E,CAET,OAAO,SAAS+zB,EAAG/zB,GACf,GAAI,QAAU+zB,EAAIh0B,GAAEg0B,IAAK,MAAO,CAC5BuzI,UAAW,cAEf,GAAI,iBAAmBvzI,EAAG,OAAOq1I,GAAGppK,EAAE+pK,GAAIh2I,GAC1C,GAAI,kBAAoBA,EAAG,MAAO,CAC9BgvI,aAAchvI,GAElB,GAAI,iBAAmBA,EAAG,MAAO,CAC7BwtI,YAAaxtI,GAEjB,GAAIA,aAAatO,KAAM,CACnB,MAAMqO,EAAI+kI,GAAGmoC,SAASjtK,GACtB,MAAO,CACH6tI,eAAgB8P,GAAG1xK,EAAE+pK,GAAIj2I,G,CAGjC,GAAIC,aAAa8kI,GAAI,CAIjB,MAAM0B,EAAI,IAAI1B,GAAG9kI,EAAE+kI,QAAS,IAAMz5I,KAAKu7B,MAAM7mB,EAAEglI,YAAc,MAC7D,MAAO,CACH6I,eAAgB8P,GAAG1xK,EAAE+pK,GAAIxP,G,CAGjC,GAAIxmI,aAAayrK,GAAI,MAAO,CACxBt8B,cAAe,CACXC,SAAUpvI,EAAEovI,SACZC,UAAWrvI,EAAEqvI,YAGrB,GAAIrvI,aAAaqrK,GAAI,MAAO,CACxBp8B,WAAY2O,GAAG3xK,EAAE+pK,GAAIh2I,EAAEsrK,cAE3B,GAAItrK,aAAagpK,GAAI,CACjB,MAAMhmB,EAAI/2K,EAAE8hK,WAAYlvF,EAAI7+C,EAAEkpK,UAAUnB,YACxC,IAAKlpH,EAAEqiF,QAAQ8hB,GAAI,MAAM/2K,EAAE49C,GAAG,sCAAsCg1B,EAAEguC,aAAahuC,EAAEuvF,uCAAuC4U,EAAEn2D,aAAam2D,EAAE5U,YAC7I,MAAO,CACHc,eAAgB6O,GAAG/9I,EAAEkpK,UAAUnB,aAAe97L,EAAE8hK,WAAY/tI,EAAEukC,KAAK48E,M,CAG3E,MAAMl1I,EAAE49C,GAAG,4BAA4Bs9I,GAAGnnK,K,CA1CvC,CAkDNA,EAAG/zB,E,CAGR,SAAS0gM,GAAG3sK,EAAG/zB,GACX,MAAM8zB,EAAI,GACV,OAAO+pI,GAAG9pI,GAGV/zB,EAAEk1I,MAAQl1I,EAAEk1I,KAAK/2I,OAAS,GAAK6B,EAAEsrK,UAAUjlK,KAAKrG,EAAEk1I,MAAQ0oB,GAAG7pI,GAAI,CAACA,EAAG6+C,KACjE,MAAM10E,EAAI2iM,GAAGjuH,EAAG5yE,EAAEw9C,GAAGzpB,IACrB,MAAQ71B,IAAM41B,EAAEC,GAAK71B,EAAC,IACrB,CACDmjK,SAAU,CACN7F,OAAQ1nI,G,CAKpB,SAASgtK,GAAG/sK,GACR,QAAS,iBAAmBA,GAAK,OAASA,GAAKA,aAAa7uB,OAAS6uB,aAAatO,MAAQsO,aAAa8kI,IAAM9kI,aAAayrK,IAAMzrK,aAAaqrK,IAAMrrK,aAAagpK,IAAMhpK,aAAaurK,G,CAGvL,SAASmB,GAAG1sK,EAAG/zB,EAAG8zB,GACd,IAAKgtK,GAAGhtK,KAAO,SAASC,GACpB,MAAO,iBAAmBA,GAAK,OAASA,IAAM91B,OAAOuiD,eAAezsB,KAAO91B,OAAOc,WAAa,OAASd,OAAOuiD,eAAezsB,G,CADnH,CAEbD,GAAI,CACF,MAAM8+C,EAAIsoH,GAAGpnK,GACb,KAAM,cAAgB8+C,EAAI5yE,EAAE49C,GAAG7pB,EAAI,oBAAsB/zB,EAAE49C,GAAG7pB,EAAI,IAAM6+C,E,EAM5E,SAAS+tH,GAAG5sK,EAAG/zB,EAAG8zB,GAClB,IAGA9zB,EAAID,GAAEC,cAAek/L,GAAI,OAAOl/L,EAAEm/L,cAClC,GAAI,iBAAmBn/L,EAAG,OAAOihM,GAAGltK,EAAG/zB,GACvC,MAAMogM,GAAG,kDAAmDrsK,GACxC,OACR,EAAQD,E,CAKpB,MAAMotK,GAAK,IAAIr6I,OAAO,iBAUtB,SAASo6I,GAAGltK,EAAG/zB,EAAG8zB,GAClB,GAAI9zB,EAAE0sB,OAAOw0K,KAAO,EAAG,MAAMd,GAAG,uBAAuBpgM,wDAAyD+zB,GAC5F,OACR,EAAQD,GACpB,IACI,OAAO,IAAIorK,MAAMl/L,EAAEoP,MAAM,MAAM+vL,a,CACjC,MAAOvsH,GACL,MAAMwtH,GAAG,uBAAuBpgM,6EAA8E+zB,GAC1F,OACR,EAAQD,E,EAI5B,SAASssK,GAAGrsK,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACpB,MAAMo/B,EAAIs1C,IAAMA,EAAEwnF,UAAW3jG,OAAI,IAAWv4D,EAC5C,IAAIsO,EAAI,YAAYxM,+BACpB8zB,IAAMtnB,GAAK,0BAA2BA,GAAK,KAC3C,IAAI7M,EAAI,GACR,OAAQ29B,GAAKm5B,KAAO92D,GAAK,UAAW29B,IAAM39B,GAAK,aAAaizE,KAAMnc,IAAM92D,GAAK,gBAAgBzB,KAC7FyB,GAAK,KAAM,IAAIo3J,GAAEf,GAAEG,iBAAkB3pJ,EAAIunB,EAAIp0B,E,CAGwB,SAASihM,GAAG7sK,EAAG/zB,GACpF,OAAO+zB,EAAEqrD,MAAMrrD,GAAKA,EAAEkhI,QAAQj1J,I;;;;;;;;;;;;;;;;GA2B9B,MAAMmhM,GAMNp8L,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,GACpBmG,KAAK+8L,WAAartK,EAAG1vB,KAAKg9L,gBAAkBrhM,EAAGqE,KAAKi0D,KAAOxkC,EAAGzvB,KAAK8kF,UAAYvW,EAC/EvuE,KAAKi9L,WAAapjM,C,CAE4DE,SAC9E,OAAOiG,KAAKi0D,KAAK48E,KAAKilB,a,CAIf56J,UACP,OAAO,IAAIw9L,GAAG14L,KAAK+8L,WAAY/8L,KAAKi9L,WAAYj9L,KAAKi0D,K,CAMlDiyG,SACH,OAAO,OAASlmK,KAAK8kF,S,CAQlBlhE,OACH,GAAI5jB,KAAK8kF,UAAW,CAChB,GAAI9kF,KAAKi9L,WAAY,CAGjB,MAAMvtK,EAAI,IAAIwtK,GAAGl9L,KAAK+8L,WAAY/8L,KAAKg9L,gBAAiBh9L,KAAKi0D,KAAMj0D,KAAK8kF,UACvD,MACjB,OAAO9kF,KAAKi9L,WAAWE,cAAcztK,E,CAEzC,OAAO1vB,KAAKg9L,gBAAgBI,aAAap9L,KAAK8kF,UAAUlhE,KAAKxhB,M,EAcrEyM,IAAI6gB,GACA,GAAI1vB,KAAK8kF,UAAW,CAChB,MAAMnpF,EAAIqE,KAAK8kF,UAAUlhE,KAAKo8I,MAAMq9B,GAAG,uBAAwB3tK,IAC/D,GAAI,OAAS/zB,EAAG,OAAOqE,KAAKg9L,gBAAgBI,aAAazhM,E,GAejE,MAAMuhM,WAAWJ,GAOjBl5K,OACI,OAAO0uF,MAAM1uF,M,EAMjB,SAASy5K,GAAG3tK,EAAG/zB,GACf,MAAO,iBAAmBA,EAAIihM,GAAGltK,EAAG/zB,GAAKA,aAAak/L,GAAKl/L,EAAEm/L,cAAgBn/L,EAAEo7L,UAAU+D,a;;;;;;;;;;;;;;;;GAqBzF,MAAMwC,GAEN58L,YAAYgvB,EAAG/zB,GACXqE,KAAKghK,iBAAmBtxI,EAAG1vB,KAAKk+K,UAAYviL,C,CAOzCi1J,QAAQlhI,GACX,OAAO1vB,KAAKghK,mBAAqBtxI,EAAEsxI,kBAAoBhhK,KAAKk+K,YAAcxuJ,EAAEwuJ,S,EAYhF,MAAMqf,WAAWT,GAEjBp8L,YAAYgvB,EAAG/zB,EAAG8zB,EAAG8+C,EAAG10E,EAAGo/B,GACvBq5E,MAAM5iF,EAAG/zB,EAAG8zB,EAAG8+C,EAAGt1C,GAAIj5B,KAAK+8L,WAAartK,EAAG1vB,KAAKw9L,eAAiB9tK,EAAG1vB,KAAKqjH,SAAWxpH,C,CAIjFqsK,SACH,OAAO5zD,MAAM4zD,Q,CAeVtiJ,KAAK8L,EAAI,IACZ,GAAI1vB,KAAK8kF,UAAW,CAChB,GAAI9kF,KAAKi9L,WAAY,CAGjB,MAAMthM,EAAI,IAAI8hM,GAAGz9L,KAAK+8L,WAAY/8L,KAAKg9L,gBAAiBh9L,KAAKi0D,KAAMj0D,KAAK8kF,UAAW9kF,KAAKqjH,SACvE,MACjB,OAAOrjH,KAAKi9L,WAAWE,cAAcxhM,EAAG+zB,E,CAE5C,OAAO1vB,KAAKg9L,gBAAgBI,aAAap9L,KAAK8kF,UAAUlhE,KAAKxhB,MAAOstB,EAAEguK,iB,EAqB9E7uL,IAAI6gB,EAAG/zB,EAAI,IACP,GAAIqE,KAAK8kF,UAAW,CAChB,MAAMr1D,EAAIzvB,KAAK8kF,UAAUlhE,KAAKo8I,MAAMq9B,GAAG,uBAAwB3tK,IAC/D,GAAI,OAASD,EAAG,OAAOzvB,KAAKg9L,gBAAgBI,aAAa3tK,EAAG9zB,EAAE+hM,iB,GAetE,MAAMD,WAAWF,GAcjB35K,KAAK8L,EAAI,IACL,OAAO4iF,MAAM1uF,KAAK8L,E;;;;;;;;;;;;;;;;;AAue1B,MAAMiuK,GACFP,aAAa1tK,EAAG/zB,EAAI,QAChB,OAAQ4iK,GAAG7uI,IACT,KAAK,EACH,OAAO,KAET,KAAK,EACH,OAAOA,EAAEgvI,aAEX,KAAK,EACH,OAAO/B,GAAGjtI,EAAEsvI,cAAgBtvI,EAAEuvI,aAEhC,KAAK,EACH,OAAOj/J,KAAK49L,iBAAiBluK,EAAE6tI,gBAEjC,KAAK,EACH,OAAOv9J,KAAK69L,uBAAuBnuK,EAAG/zB,GAExC,KAAK,EACH,OAAO+zB,EAAEwtI,YAEX,KAAK,EACH,OAAOl9J,KAAK89L,aAAalhC,GAAGltI,EAAEivI,aAEhC,KAAK,EACH,OAAO3+J,KAAK+9L,iBAAiBruK,EAAEkvI,gBAEjC,KAAK,EACH,OAAO5+J,KAAKg+L,gBAAgBtuK,EAAEmvI,eAEhC,KAAK,EACH,OAAO7+J,KAAKi+L,aAAavuK,EAAEwvI,WAAYvjK,GAEzC,KAAK,GACH,OAAOqE,KAAKk+L,cAAcxuK,EAAEstI,SAAUrhK,GAExC,QACE,MAAM61J,K,CAGd0sC,cAAcxuK,EAAG/zB,GACb,MAAM8zB,EAAI,GACV,OAAO8pI,GAAG7pI,EAAEynI,QAAS,CAACznI,EAAG6+C,KACrB9+C,EAAEC,GAAK1vB,KAAKo9L,aAAa7uH,EAAG5yE,EAAE,IAC7B8zB,C,CAETuuK,gBAAgBtuK,GACZ,OAAO,IAAIyrK,GAAGx+B,GAAGjtI,EAAEovI,UAAWnC,GAAGjtI,EAAEqvI,W,CAEvCk/B,aAAavuK,EAAG/zB,GACZ,OAAQ+zB,EAAEulF,QAAU,IAAIjyG,KAAK0sB,GAAK1vB,KAAKo9L,aAAa1tK,EAAG/zB,I,CAE3DkiM,uBAAuBnuK,EAAG/zB,GACtB,OAAQA,GACN,IAAK,WACH,MAAM8zB,EAAI0tI,GAAGztI,GACb,OAAO,MAAQD,EAAI,KAAOzvB,KAAKo9L,aAAa3tK,EAAG9zB,GAEjD,IAAK,WACH,OAAOqE,KAAK49L,iBAAiBvgC,GAAG3tI,IAElC,QACE,OAAO,K,CAGfkuK,iBAAiBluK,GACb,MAAM/zB,EAAI8gK,GAAG/sI,GACb,OAAO,IAAI8kI,GAAG74J,EAAE84J,QAAS94J,EAAE+gK,M,CAE/ByhC,mBAAmBzuK,EAAG/zB,GAClB,MAAM8zB,EAAI0mI,GAAGQ,WAAWjnI,GACxB+hI,GAAEkc,GAAGl+I,IACL,MAAM8+C,EAAI,IAAIsvF,GAAGpuI,EAAE5gB,IAAI,GAAI4gB,EAAE5gB,IAAI,IAAKhV,EAAI,IAAI68J,GAAGjnI,EAAEkmI,SAAS,IAC5D,OAAOpnF,EAAEqiF,QAAQj1J,IAEjB21J,GAAE,YAAYz3J,gEAAgE00E,EAAEguC,aAAahuC,EAAEuvF,gGAAgGniK,EAAE4gH,aAAa5gH,EAAEmiK,sBAChNjkK,C;;;;;;;;;;;;;;;;GA4BJ,SAASukM,GAAG1uK,EAAG/zB,EAAG8zB,GAClB,IAAI8+C,EAIJ,OAAOA,EAAI7+C,EAAID,IAAMA,EAAEigC,OAASjgC,EAAE0sK,aAAezsK,EAAE2uK,YAAY1iM,EAAG8zB,GAAKC,EAAE2uK,YAAY1iM,GAAKA,EAC1F4yE,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJJ,SAAS+vH,GAAG5uK,GACRA,EAAIonK,GAAGpnK,EAAGgpK,IACV,MAAM/8L,EAAIm7L,GAAGpnK,EAAEkpK,UAAW4B,IAC1B,OAAO/D,GAAGmE,GAAGj/L,GAAI+zB,EAAEukC,MAAMtxD,MAAM8sB,GAAK8uK,GAAG5iM,EAAG+zB,EAAGD,I,CAGjD,MAAM+uK,WAAWb,GACbj9L,YAAYgvB,GACR4iF,QAAStyG,KAAK44L,UAAYlpK,C,CAE9BouK,aAAapuK,GACT,OAAO,IAAIqrK,GAAGrrK,E,CAElBquK,iBAAiBruK,GACb,MAAM/zB,EAAIqE,KAAKm+L,mBAAmBzuK,EAAG1vB,KAAK44L,UAAUnB,aACpD,OAAO,IAAIiB,GAAG14L,KAAK44L,UAA4B,KAAMj9L,E,EAsE7D,SAAS8iM,GAAG/uK,EAAG/zB,EAAG8zB,GACdC,EAAIonK,GAAGpnK,EAAGgpK,IACV,MAAMnqH,EAAIuoH,GAAGpnK,EAAEkpK,UAAW4B,IAAK3gM,EAAIukM,GAAG1uK,EAAEipK,UAAWh9L,EAAG8zB,GACtD,OAAOivK,GAAGnwH,EAAG,CAAE2tH,GAAGD,GAAG1tH,GAAI,SAAU7+C,EAAEukC,KAAMp6D,EAAG,OAAS61B,EAAEipK,UAAWlpK,GAAGgsK,WAAW/rK,EAAEukC,KAAM+xG,GAAGlhG,S,CAyF7F,SAAS45H,GAAGhvK,EAAG/zB,GACf,OAAO,SAAS+zB,EAAG/zB,GACf,MAAM8zB,EAAI,IAAIkjI,GACd,OAAOjjI,EAAEk6J,WAAWhD,kBAAkB5uF,SA3/I1CA,eAAkBtoE,EAAG/zB,EAAG8zB,GACxB,MAAM8+C,EAAIylH,GAAGtkK,GACb,IACI,MAAM+Y,QAAU,SAAS/Y,EAAG/zB,GACxB,MAAM8zB,EAAIiiI,GAAEhiI,GAAI6+C,EAAIimF,GAAGnzI,MAAOxnB,EAAI8B,EAAE6tD,QAAQ,CAAC95B,EAAG/zB,IAAM+zB,EAAE7lB,IAAIlO,EAAEV,MAAO2tK,MACrE,IAAI3vI,EAAGm5B,EACP,OAAO3iC,EAAEkrJ,YAAYwC,eAAe,0BAA2B,aAAcztJ,IAOzE,IAAIvnB,EAAI+/J,KAAM5sK,EAAIstK,KAClB,OAAOn5I,EAAE4vJ,GAAGjM,WAAW1jJ,EAAG71B,GAAGqI,MAAMwtB,IAC/BvnB,EAAIunB,EAAGvnB,EAAElF,SAAS,CAACysB,EAAG/zB,KAClBA,EAAEslK,oBAAsB3lK,EAAIA,EAAEuO,IAAI6lB,GAAE,GACrC,IACHxtB,MAAM,IAAMutB,EAAE8vJ,eAAexJ,sBAAsBrmJ,EAAGvnB,KAAKjG,MAAMrI,IACjEo/B,EAAIp/B,EAMJ,MAAMu4D,EAAI,GACV,IAAK,MAAM3pB,KAAK9sC,EAAG,CACf,MAAM0hD,EAAI6pH,GAAGz+H,EAAGxP,EAAEpqB,IAAI45B,EAAExtC,KAAKqtK,mBAC7B,MAAQjrH,GAIR+U,EAAEpwD,KAAK,IAAIykK,GAAGh+H,EAAExtC,IAAKoiD,EAAG+iH,GAAG/iH,EAAEj7C,MAAM46J,UAAWgJ,GAAGE,QAAO,I,CAE5D,OAAOz2I,EAAE4lJ,cAAc2D,iBAAiBtpJ,EAAG6+C,EAAGnc,EAAGz2D,EAAE,IACnDuG,MAAMvG,IACNy2D,EAAIz2D,EACJ,MAAM4yE,EAAI5yE,EAAEo1K,wBAAwB93I,EAAG39B,GACvC,OAAOm0B,EAAE6lJ,qBAAqBc,aAAa1mJ,EAAG/zB,EAAE60K,QAASjiG,EAAE,GAC5D,IACH5rE,MAAM,KAAO,CACb6tK,QAASp+G,EAAEo+G,QACXiE,QAASpM,GAAGpvI,M,CAvCJ,CAyCds1C,EAAE+7G,WAAY3uL,GAChB4yE,EAAEijH,kBAAkBrQ,mBAAmB14I,EAAE+nI,SAAU,SAAS9gJ,EAAG/zB,EAAG8zB,GAC9D,IAAI8+C,EAAI7+C,EAAEuiK,GAAGviK,EAAE0jI,YAAYzC,SAC3BpiF,IAAMA,EAAI,IAAIkrF,GAAGnF,KACjB/lF,EAAIA,EAAEqrF,OAAOj+J,EAAG8zB,GAAIC,EAAEuiK,GAAGviK,EAAE0jI,YAAYzC,SAAWpiF,C,CAHH,CAQtDA,EAAG9lC,EAAE+nI,QAAS/gJ,SAAUwjK,GAAG1kH,EAAG9lC,EAAEgsI,eAAgByX,GAAG39G,EAAE+iH,Y,CACpD,MAAO5oJ,GAGL,MAAM2U,EAAIowI,GAAG/kJ,EAAG,2BAChBjZ,EAAEw+D,OAAO5wC,E,EAi8IyCshJ,OAASpI,GAAG7mK,GAAI/zB,EAAG8zB,KAAMA,EAAE6hF,O,CAF1E,CAGLspF,GAAGlrK,GAAI/zB,E,CAMT,SAAS4iM,GAAG7uK,EAAG/zB,EAAG8zB,GAClB,MAAM8+C,EAAI9+C,EAAEyqJ,KAAKrrK,IAAIlT,EAAEs4D,MAAOp6D,EAAI,IAAI2kM,GAAG9uK,GACzC,OAAO,IAAI6tK,GAAG7tK,EAAG71B,EAAG8B,EAAEs4D,KAAMsa,EAAG,IAAI+uH,GAAG7tK,EAAEuxI,iBAAkBvxI,EAAEyuJ,WAAYviL,EAAEg9L,U;;;;;;;;;;;;;;;;IAmUzE,SAASjpK,EAAG/zB,GAAI,GAEbs1J,G5FnumBG,S4FoumBDxhI,GAAE,IAAIwJ,GAAE,aAAc,CAACvJ,GAAIolF,mBAAoBrlF,EAAGjf,QAAS+9D,MAC7D,MAAM10E,EAAI61B,EAAEsrF,YAAY,OAAOC,eAAgBhiF,EAAI,IAAIuhK,GAAG,IAAIrnC,GAAEzjI,EAAEsrF,YAAY,kBAAmB,IAAI+4C,GAAErkI,EAAEsrF,YAAY,uBAAwB,SAAStrF,EAAG/zB,GACrJ,IAAK/B,OAAOc,UAAUC,eAAeuI,MAAMwsB,EAAElf,QAAS,CAAE,cAAgB,MAAM,IAAIkiJ,GAAEf,GAAEG,iBAAkB,uDACxG,OAAO,IAAI+L,GAAGnuI,EAAElf,QAAQ+rG,UAAW5gH,E,CAFsG,CAoB7E9B,EAAG41B,GAAI51B,GACvE,OAAO00E,EAAI30E,OAAOiG,OAAO,CACrBqgJ,gBAAiBvkJ,GAClB4yE,GAAIt1C,EAAEg/J,aAAa1pH,GAAIt1C,CAAC,GAC3B,UAAU2lK,sBAAqB,IAAMrwH,GAnymBnC,sBAmymBwC,QAAS7+C,GAEvD6+C,GArymBM,sBAqymBD,QAAS,U,CA9Bb,GC7wmBL,MAUMisC,G,oBxF0FqB,iBAAhBqkF,EAAiB,C,EAAwB,CAAS3wL,KAAf2wL,E,SAKhCjlM,OAAAiG,OAAc,C,KLCU,Y,gCKCF,G,GAGhCi/L,EAAO5uI,EAAKhiD,K,GACb,iBAAA4wL,MAAA,MAAA3jF,GAAA57E,OAAA,gBAEDu8E,QAAAz5G,OAAAy8L,K,qBAYEC,EACO,C,4CAOP,MAAM5jF,GAAkB57E,OAAA,gBAAoB,CAG5Cu8E,QAAMgjF,G,OACwD9qF,EAC5D,IAAAgrF,GAAAF,G,mDAEFG,EAAK,IAAA5jF,GAA8C7qG,EAAA0/C,EAAA8jD,G,UACrBvmG,IAAAqxL,EAAAG,G,EwFnItBC,CAVW,CACrB3hF,OAAQ,0CACR4hF,WAAY,wCACZ5iF,UAAW,wBACX6iF,cAAe,oCACfC,kBAAmB,cACnBxgF,MAAO,2CACPyD,cAAe,iBAKJjJ,I,oClEuCuB,a,iEAAA,a,qJkExCXimF,CAAa9kF,IDsxhBtC,SAAY7+G,EAAG8zB,GACX,MAA0C51B,EAAI,iBAAmB8B,EAAIA,EAAI8zB,GAAK,YAC9E,OAAOqrF,GADG,iBAAmBn/G,EAAIA,EAAI+zB,KACd,aAAaurF,aAAa,CAC7CvG,WAAY76G,G,CCxxhBF0lM,CAAa/kF,KCdxBxiB,eAAewnG,IAAcC,OAClCA,IAIA,MAAMC,QAAgBC,GAAOF,GAC7B,GAAIC,EAAQx5B,SAAU,CAEpB,OADaw5B,EAAQ97K,M,CAGrB,OAAO,I,CAIJo0E,eAAe4nG,IAAcH,OAClCA,EADkCI,YAElCA,UAKMC,GAAOL,EAAQI,E,CCnBhB7nG,eAAe+nG,GACpB1mF,GACAt/G,GACEA,IAKF,MAAM0lM,EAAS71G,GAAIyvB,EAAI,QAASt/G,GAChC,IACE,OAAOylM,GAAyB,C,OAAEC,G,CAClC,MAAO9jM,GACP,MAAMA,C,ECZHq8F,eAAegoG,GACpB3mF,GACAt/G,GACEA,EADF8lM,YAEEA,IAMF,MAAMJ,EAAS71G,GAAIyvB,EAAI,QAASt/G,GAChC,IACE,OAAO6lM,GAAyB,C,OAAEH,E,YAAQI,GAChC,CAAV,MAAOlkM,GAAG,C,CCKd,MAAMwwD,GAAQ4iB,KAER1e,GAAcI,GAAH,sEAIXtE,IAAOiG,GAAM,CACbA,EAAEsY,GAAG1E,YACL5T,EAAEuY,KAAK5D,MACP3U,EAAEqS,WAAW,IAAIuG,uBAKjB7e,IAAOiG,GAAM,CAACA,EAAEuY,KAAKxE,UAgBrB85H,GAAW,KACf,MAAMC,GAAUn7L,YAAuB,OAChCkzF,EAAMkoG,IAAWn7L,cAAe,aAChCo7L,EAAcC,IACnBr7L,cAAgC,UAC3Bs7L,EAAYC,IAAiBv7L,mBAA6B21C,GAK3D6lJ,EAAcjyH,IAClB4xH,EAAQ5xH,GAHR2xH,EAAQ/jM,SAASskM,eAAe,CAAEC,SAAU,UAI5CC,EAGF,OACE,EAAAhqJ,EAAAwgD,MADFypG,GAAA,C,WASI,EAAAjqJ,EAAAs7B,KAAA4uH,GAAA,CAAA1uH,MAEMhmB,IAAOiG,GAAM,CAACA,EAAEmV,OAAO3kE,QAAQ0rE,U,UAGnC,EAAA33B,EAAAs7B,KAAC6uH,GAAD,C,UACE,EAAAnqJ,EAAAs7B,KAAC8uH,GAAD,CAAQhqG,IAAKupG,SAGjB,EAAA3pJ,EAAAs7B,KAAA+uH,GAAA,CACE9lM,IAAKglM,EADP9tH,OAEO,CACHtwB,GADG,mDAMO,IAATm2C,GAAuB,IAATA,GAAuB,IAATA,GAAuB,IAATA,IACzCn2C,GADF,QAEMqK,IAAOiG,GAAM,CAACA,EAAEsY,GAAGzE,iB,UAI3B,EAAAtvB,EAAAs7B,KAAC6uH,GAAD,C,SACY,aAAT7oG,GACC,EAAAthD,EAAAs7B,KAACgvH,GAAD,CACErqG,OAAQoB,OAAOjB,IAAEA,EAAFkB,KAAOA,MACpB,IACE,MAAMr0E,QAAam8K,GAAQ1mF,GAAI,CAAEt/G,GAAIg9F,IACrC,GAAa,OAATnzE,EACF,MAAM,IAAI3pB,MAIZ,OAFAomM,EAAgBz8K,EAAKo9B,OACrBu/I,EAAcxpG,GACPypG,EAAW58K,EAAKs9K,OAAS,WAAajpG,E,CAC7C,MACA,OAAOuoG,EAAWvoG,E,KAIb,IAATA,GAAuB,IAATA,GAAuB,IAATA,GAAuB,IAATA,GAC5C,EAAAthD,EAAAs7B,KAACkvH,GAAD,CACElpG,KAAMA,EACNj3C,MAAOo/I,EACPxpG,OAAQ4pG,EACR54F,MAAO5P,OAAOC,KAAEA,EAAFiQ,UAAQA,MACpB,SACqBvtD,IAAf2lJ,SACIN,GAAW3mF,GAAI,CACnBt/G,GAAIumM,EACJT,YAAa,CACX7+I,MAAOo/I,EACPc,QAAQ,E,UACRh5F,I,CAPR,QAYEs4F,EAAWvoG,E,KAIN,aAATA,GACF,EAAAthD,EAAAs7B,KAACmvH,GAAD,CAAUrqG,IAAKupG,IAEf34H,GAAYswB,QAIlB,EAAAthD,EAAAs7B,KAAAovH,GAAA,CAAA7pG,OAEMrrC,IAAOiG,GAAM,CAACA,EAAEmV,OAAO3kE,QAAQgqB,IAAKwlC,EAAEsY,GAAGzE,e,UAG7C,EAAAtvB,EAAAs7B,KAAC6uH,GAAD,C,UACE,EAAAnqJ,EAAAs7B,KAACqvH,GAAD,UApFR,EA2FIC,IAAS3wI,WAAK,EAACmmC,IAAEA,MACrB,EAAApgD,EAAAwgD,MAAAqqG,GAAA,CAAA9pG,OAKMvrC,IAAOiG,GAAM,CAACA,EAAEzsC,OAAO28C,GAAG,O,WAG9B,EAAA3rB,EAAAs7B,KAAJwvH,GAAA,C,SAOO96F,GAAO3jG,KAAK20C,IACX,EAAAhB,EAAAs7B,KAACq0B,GAAD,CAAiBpgE,KAAM,GAAI8rC,MAAOr6B,GAApBA,QAGlB,EAAAhB,EAAAs7B,KAAJyvH,GAAA,C,UAMM,EAAA/qJ,EAAAs7B,KAAA0vH,GAAA,CAAA9pG,OAEM1rC,IAAOiG,GAAM,CAACA,EAAEqS,WAAW,IAAIyG,Q,SAGlC6rB,GAAQ,OAAMA,aAMjB6qG,IAAShxI,WAAK,KAClB,EAAAja,EAAAwgD,MAAA0qG,GAAA,CAAA94F,OAIM58C,IAAOiG,GAAM,CAACA,EAAEzsC,OAAO28C,GAAG,IAAKlQ,EAAEsY,GAAGzE,eAJ1CgjC,OAQQ98C,IAAOiG,GAAM,CAACA,EAAEzsC,OAAOomD,KAAM3Z,EAAEogB,QAAQi2B,SAAS,O,WAMtD,EAAA9xD,EAAAs7B,KAAC,QAAD,C,SAAO,sBACP,EAAAt7B,EAAAs7B,KAAC,MAAD,KACA,EAAAt7B,EAAAwgD,MAAC,QAAD,C,UAAJ,0BAEM,EAAAxgD,EAAAs7B,KAAC,OAAD,C,SAAM,OACN,EAAAt7B,EAAAs7B,KAAC,IAAD,CAAGjnD,KAAK,+BAA+BrU,OAAO,SAASmrL,IAAI,W,SAAjE,aAGM,EAAAnrJ,EAAAs7B,KAAC,OAAD,C,SAAM,gBACN,EAAAt7B,EAAAs7B,KAAC,OAAD,C,SAAM,OACN,EAAAt7B,EAAAs7B,KAAC,IAAD,CACEjnD,KAAK,mDACLrU,OAAO,SACPmrL,IAAI,W,SAHZ,yB,ICxNEC,G,4lCDuMchqJ,6MAAM0qB,GAAS1qB,EAAEoU,MAAMuW,WAAWwC,WAAlCntB,cCvMdgqJ,GAAqBv9F,GAAAw9F,WACCx9F,GAAAy9F,YCDXD,GADKh4L,SAAS2qE,eAAe,QAErC1wE,QAAO,EAAA0yC,EAAAs7B,MFmCO,KACjB,MAAMiwH,EAAS54H,GAAS,gCAExB,OACE,EAAA3yB,EAAAwgD,MAACgrG,GAAD,CAAeh2I,MAAO+1I,EAAS16H,GAAO5B,G,WACpC,EAAAjvB,EAAAs7B,KAACmwH,GAAD,KACA,EAAAzrJ,EAAAs7B,KAACowH,GAAD,KACA,EAAA1rJ,EAAAs7B,KAACqwH,GAAD,CAAen2I,MAAO,CAAE,QAAS+1I,EAAS16H,GAAO5B,QAJrD,GEtCU","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/react/cjs/react-jsx-runtime.production.min.js","node_modules/react/index.js","node_modules/react/cjs/react.production.min.js","node_modules/react-is/cjs/react-is.production.min.js","node_modules/@parcel/runtime-js/lib/runtime-cc587fe53cd727e5.js","node_modules/@parcel/runtime-js/lib/runtime-5c7b7c6eca199612.js","node_modules/@parcel/runtime-js/lib/runtime-5bf0d9e1f54107e8.js","node_modules/@parcel/runtime-js/lib/runtime-03a518db565645a9.js","node_modules/@parcel/runtime-js/lib/runtime-5a4b92d6fa61278b.js","node_modules/@parcel/runtime-js/lib/runtime-8a50fc3ea40c0036.js","node_modules/@parcel/runtime-js/lib/runtime-7c59f27a6b294c60.js","node_modules/@parcel/runtime-js/lib/runtime-d36608dc5d37800a.js","node_modules/@parcel/runtime-js/lib/runtime-1e31ce41ec6379bc.js","node_modules/@parcel/runtime-js/lib/runtime-07964856b6975482.js","node_modules/@parcel/runtime-js/lib/runtime-471dd92a69ac2d41.js","node_modules/@parcel/runtime-js/lib/runtime-448f3d376e85b478.js","node_modules/@parcel/runtime-js/lib/runtime-218d64d34d42c0e0.js","node_modules/@parcel/runtime-js/lib/runtime-26b4c933b750888a.js","node_modules/@parcel/runtime-js/lib/runtime-3a24564ac51a350e.js","node_modules/@parcel/runtime-js/lib/runtime-b1fd37b71bbba918.js","node_modules/@parcel/runtime-js/lib/runtime-74b971301bba183c.js","node_modules/@parcel/runtime-js/lib/runtime-5e21e81b272b4631.js","node_modules/@parcel/runtime-js/lib/runtime-af4b0576f77665a5.js","node_modules/@parcel/runtime-js/lib/runtime-33dd816aa5dd0fdf.js","node_modules/@parcel/runtime-js/lib/runtime-76fd3fd172c3a10f.js","node_modules/@parcel/runtime-js/lib/runtime-c29b4a186cfb7872.js","node_modules/@parcel/runtime-js/lib/runtime-afe99301e16e233f.js","node_modules/@parcel/runtime-js/lib/runtime-2cd8750aef346c23.js","node_modules/@parcel/runtime-js/lib/runtime-3b5886c28b2eb68e.js","node_modules/@parcel/runtime-js/lib/runtime-731cef85d5426e48.js","node_modules/@parcel/runtime-js/lib/runtime-3f0edc1c74b0bdcb.js","node_modules/@parcel/runtime-js/lib/runtime-b5612a35eb5b4e4c.js","node_modules/@parcel/runtime-js/lib/runtime-8bed2d72e6443bf7.js","node_modules/@parcel/runtime-js/lib/runtime-bcf52e72b1f6c3ee.js","node_modules/@parcel/runtime-js/lib/runtime-00ee94d54669aa5a.js","node_modules/@parcel/runtime-js/lib/runtime-574a276cb0ce00ef.js","node_modules/@parcel/runtime-js/lib/runtime-e29f0fe32409cfa2.js","node_modules/@parcel/runtime-js/lib/runtime-96ae160c17cf0471.js","node_modules/@parcel/runtime-js/lib/runtime-f8872b2c62243ba6.js","node_modules/@parcel/runtime-js/lib/runtime-9312a483bccf1079.js","node_modules/@parcel/runtime-js/lib/runtime-819b4aece824c280.js","node_modules/@parcel/runtime-js/lib/runtime-090cf05e8da550de.js","node_modules/@parcel/runtime-js/lib/runtime-e571d78321c12c89.js","node_modules/@parcel/runtime-js/lib/runtime-e1e7c49a61ad96c8.js","node_modules/@parcel/runtime-js/lib/runtime-e47eb7f01ef48b5f.js","node_modules/@parcel/runtime-js/lib/runtime-4363b1e00eeef4da.js","node_modules/@parcel/runtime-js/lib/runtime-b96268def07fafe1.js","node_modules/@parcel/runtime-js/lib/runtime-6f4630d95d2f9570.js","node_modules/@parcel/runtime-js/lib/runtime-4791047df8760c1f.js","node_modules/@parcel/runtime-js/lib/runtime-71a474aab5a07c95.js","node_modules/@parcel/runtime-js/lib/runtime-1cde819ed7f552ad.js","node_modules/@parcel/runtime-js/lib/runtime-bfde3432d150e3f5.js","node_modules/@parcel/runtime-js/lib/runtime-3a651592d910ed83.js","node_modules/@parcel/runtime-js/lib/runtime-99fabba409cd3348.js","node_modules/@parcel/runtime-js/lib/runtime-aee587b7341068b8.js","node_modules/@parcel/runtime-js/lib/runtime-559fc6e9b0856006.js","node_modules/@parcel/runtime-js/lib/runtime-b6c912ba1a35f634.js","node_modules/@parcel/runtime-js/lib/runtime-a5ed9f02b3c0fe1c.js","node_modules/@parcel/runtime-js/lib/runtime-d0c1a7ec7df48637.js","node_modules/@parcel/runtime-js/lib/runtime-ab7d784c43cf588c.js","node_modules/@parcel/runtime-js/lib/runtime-939cd34382f568bb.js","node_modules/@parcel/runtime-js/lib/runtime-315f4e38aec95d8a.js","node_modules/@parcel/runtime-js/lib/runtime-0adbb9ef17765856.js","node_modules/@parcel/runtime-js/lib/runtime-92d90fcaae487737.js","node_modules/@parcel/runtime-js/lib/runtime-eee3a95906f649f7.js","node_modules/@parcel/runtime-js/lib/runtime-4015f2caa8d6e950.js","node_modules/@parcel/runtime-js/lib/runtime-74715bf00580ae7c.js","node_modules/@parcel/runtime-js/lib/runtime-60bb068f7ee61a7a.js","node_modules/@parcel/runtime-js/lib/runtime-0a9f196b98d6e982.js","node_modules/@parcel/runtime-js/lib/runtime-1ba8ac0fd104adf1.js","node_modules/@parcel/runtime-js/lib/runtime-5ab48a400bf960a9.js","node_modules/@parcel/runtime-js/lib/runtime-9ad2e6ec27bf8ec6.js","node_modules/@parcel/runtime-js/lib/runtime-46e683974aeea553.js","node_modules/@parcel/runtime-js/lib/runtime-c8f64dc7dc5913cf.js","node_modules/@parcel/runtime-js/lib/runtime-8e44df0213884892.js","node_modules/@parcel/runtime-js/lib/runtime-20ec1aa51cc801f8.js","node_modules/@parcel/runtime-js/lib/runtime-3cbaabfff7764524.js","node_modules/@parcel/runtime-js/lib/runtime-f7d021d82b42eccb.js","node_modules/@parcel/runtime-js/lib/runtime-8943a200c4f59227.js","node_modules/@parcel/runtime-js/lib/runtime-3e27b7510a028560.js","node_modules/@parcel/runtime-js/lib/runtime-1c53e0a34e72a42b.js","node_modules/@parcel/runtime-js/lib/runtime-5667b85ddfbaf0b4.js","node_modules/@parcel/runtime-js/lib/runtime-0ef24efba8a325d1.js","node_modules/@parcel/runtime-js/lib/runtime-df5f2bbea186286f.js","node_modules/@parcel/runtime-js/lib/runtime-5c485ef9c0cf6e95.js","node_modules/@parcel/runtime-js/lib/runtime-99ae6031963c6396.js","node_modules/@parcel/runtime-js/lib/runtime-ea74b68baafa33a0.js","node_modules/@parcel/runtime-js/lib/runtime-88bf7f879663d863.js","node_modules/@parcel/runtime-js/lib/runtime-35fe273fa4e46481.js","node_modules/@parcel/runtime-js/lib/runtime-20d63748e82b31b7.js","node_modules/@parcel/runtime-js/lib/runtime-0ff1a740d0e6a891.js","node_modules/@parcel/runtime-js/lib/runtime-0060ccc11a5106b1.js","node_modules/@parcel/runtime-js/lib/runtime-0585b0bdc09a3b78.js","node_modules/@parcel/runtime-js/lib/runtime-26cfb17d81404b1b.js","node_modules/@parcel/runtime-js/lib/runtime-5723e13ec9d45851.js","node_modules/@parcel/runtime-js/lib/runtime-1f9b3d9998522d1b.js","node_modules/@parcel/runtime-js/lib/runtime-015c872b8d766d9f.js","node_modules/@parcel/runtime-js/lib/runtime-eb9ea10a9d86873f.js","node_modules/@parcel/runtime-js/lib/runtime-599ea5f5f271e4a6.js","node_modules/@parcel/runtime-js/lib/runtime-187dcdbd0e2c8f21.js","node_modules/@parcel/runtime-js/lib/runtime-a373cf0b0b1d7871.js","node_modules/@parcel/runtime-js/lib/runtime-df60883b7b12feac.js","node_modules/@parcel/runtime-js/lib/runtime-83200a3c01e4bc34.js","node_modules/@parcel/runtime-js/lib/runtime-c6ecf4bdc2c9a103.js","node_modules/@parcel/runtime-js/lib/runtime-9d8599570e6d9a02.js","node_modules/@parcel/runtime-js/lib/runtime-81fe8a0537010108.js","node_modules/@parcel/runtime-js/lib/runtime-6147a9f64d47313a.js","node_modules/@parcel/runtime-js/lib/runtime-e33d47b35bf21704.js","node_modules/@parcel/runtime-js/lib/runtime-b0c412377945255f.js","node_modules/@parcel/runtime-js/lib/runtime-a63e802bdc91388d.js","node_modules/@parcel/runtime-js/lib/runtime-c7acdafd814c5174.js","node_modules/@parcel/runtime-js/lib/runtime-56eeeac4041963f7.js","node_modules/@parcel/runtime-js/lib/runtime-83aaf8cf3b0d7034.js","node_modules/@parcel/runtime-js/lib/runtime-21229da83ac0230e.js","node_modules/@parcel/runtime-js/lib/runtime-9817f2825ff202ff.js","node_modules/@parcel/runtime-js/lib/runtime-221df7baf40b91de.js","node_modules/@parcel/runtime-js/lib/runtime-57931442050d891c.js","node_modules/@parcel/runtime-js/lib/runtime-c1ca175d6eb80fb8.js","node_modules/@parcel/runtime-js/lib/runtime-fc12fb4a412b8cd7.js","node_modules/@parcel/runtime-js/lib/runtime-d3199b91df902ce7.js","node_modules/@parcel/runtime-js/lib/runtime-2cfc0b2b44366e38.js","node_modules/@parcel/runtime-js/lib/runtime-ad531b096f2100ac.js","node_modules/@parcel/runtime-js/lib/runtime-ec7f79ccafa90b99.js","node_modules/@parcel/runtime-js/lib/runtime-c9bbec05fab34e59.js","node_modules/@parcel/runtime-js/lib/runtime-11d23e8bafce8aea.js","node_modules/@parcel/runtime-js/lib/runtime-163fae6fd092c09d.js","node_modules/@parcel/runtime-js/lib/runtime-2f3090a52e5d32d9.js","node_modules/@parcel/runtime-js/lib/runtime-00152c121e260e9d.js","node_modules/@parcel/runtime-js/lib/runtime-639e07160b2ccf35.js","node_modules/@parcel/runtime-js/lib/runtime-76eea5f1b85164f9.js","node_modules/@parcel/runtime-js/lib/runtime-d0f8d72a2d8f8522.js","node_modules/@parcel/runtime-js/lib/runtime-9ed789ba8842052e.js","node_modules/@parcel/runtime-js/lib/runtime-58641d9e00ff14f1.js","node_modules/@parcel/runtime-js/lib/runtime-f73a3a5aaa051905.js","node_modules/@parcel/runtime-js/lib/runtime-8185a856e422fa06.js","node_modules/@parcel/runtime-js/lib/runtime-12aea5826f55a6fb.js","node_modules/@parcel/runtime-js/lib/runtime-d52b7336f78ce120.js","node_modules/@parcel/runtime-js/lib/runtime-e4067feb1fdadeb5.js","node_modules/@parcel/runtime-js/lib/runtime-48bc1b48a67f42b2.js","node_modules/@parcel/runtime-js/lib/runtime-589cad3b6f6ec850.js","node_modules/@parcel/runtime-js/lib/runtime-6bbb872807465f7e.js","node_modules/@parcel/runtime-js/lib/runtime-5a824611792bfca5.js","node_modules/@parcel/runtime-js/lib/runtime-659e250433353ef0.js","node_modules/@parcel/runtime-js/lib/runtime-b30b9d6cf88c8379.js","node_modules/@parcel/runtime-js/lib/runtime-19e343d170772998.js","node_modules/@parcel/runtime-js/lib/runtime-5a659f4f4f421def.js","node_modules/@parcel/runtime-js/lib/runtime-d31636588cb1bae9.js","node_modules/@parcel/runtime-js/lib/runtime-0edb766de41e529f.js","node_modules/@parcel/runtime-js/lib/runtime-85da3c68ef1da2bb.js","node_modules/@parcel/runtime-js/lib/runtime-55f85531633a8aa3.js","node_modules/@parcel/runtime-js/lib/runtime-8291343ac72dd4bc.js","node_modules/@parcel/runtime-js/lib/runtime-01905f98940b77d4.js","node_modules/@parcel/runtime-js/lib/runtime-173516557682a63b.js","node_modules/@parcel/runtime-js/lib/runtime-3cc0ed65d91e083c.js","node_modules/@parcel/runtime-js/lib/runtime-9a77ebb874c6252f.js","node_modules/@parcel/runtime-js/lib/runtime-81ff4b77dff8fc54.js","node_modules/@parcel/runtime-js/lib/runtime-4549539ee16b872d.js","node_modules/@parcel/runtime-js/lib/runtime-806bcbec8990ede5.js","node_modules/@parcel/runtime-js/lib/runtime-cabe1468c46b713a.js","node_modules/@parcel/runtime-js/lib/runtime-649e48d7fe14c51d.js","node_modules/@parcel/runtime-js/lib/runtime-ce37c8502d70647c.js","node_modules/@parcel/runtime-js/lib/runtime-2dcc84d5b30552bb.js","node_modules/@parcel/runtime-js/lib/runtime-73ec1940c2e3c090.js","node_modules/@parcel/runtime-js/lib/runtime-40c1c364dd5489d0.js","node_modules/@parcel/runtime-js/lib/runtime-e154d200e6ac558d.js","node_modules/@parcel/runtime-js/lib/runtime-46ee3320127acf2f.js","node_modules/@parcel/runtime-js/lib/runtime-0af540a469b5550d.js","node_modules/@parcel/runtime-js/lib/runtime-21cad06c41eb3748.js","node_modules/@parcel/runtime-js/lib/runtime-2ea6cfdc79bdee2d.js","node_modules/@parcel/runtime-js/lib/runtime-121e8e127cb4906b.js","node_modules/@parcel/runtime-js/lib/runtime-373ed1bd1dcb9364.js","node_modules/@parcel/runtime-js/lib/runtime-387261dc9ffd5425.js","node_modules/@parcel/runtime-js/lib/runtime-5eb0f378b3693f05.js","node_modules/@parcel/runtime-js/lib/runtime-b2c20396e5280d44.js","node_modules/@parcel/runtime-js/lib/runtime-c0ac6fc7807b81d4.js","node_modules/@parcel/runtime-js/lib/runtime-843c8d5413350d5e.js","node_modules/@parcel/runtime-js/lib/runtime-d2b5abd360f7bfef.js","node_modules/@parcel/runtime-js/lib/runtime-a2a9eb95c3a18010.js","node_modules/@parcel/runtime-js/lib/runtime-9545dfbee6483e65.js","node_modules/@parcel/runtime-js/lib/runtime-2c1be6b116ec0b5b.js","node_modules/@parcel/runtime-js/lib/runtime-deae21ad28a2a699.js","node_modules/@parcel/runtime-js/lib/runtime-0b97c173ca40320e.js","node_modules/@parcel/runtime-js/lib/runtime-5448627d3779a301.js","node_modules/@parcel/runtime-js/lib/runtime-8251b0d8c6c360cd.js","node_modules/@parcel/runtime-js/lib/runtime-a10796f69951b7d0.js","node_modules/@parcel/runtime-js/lib/runtime-dd68ab522a585b35.js","node_modules/@parcel/runtime-js/lib/runtime-147f239bd8524a08.js","node_modules/@parcel/runtime-js/lib/runtime-2643056951c1906c.js","node_modules/@parcel/runtime-js/lib/runtime-585cf3825510657d.js","node_modules/@parcel/runtime-js/lib/runtime-cfa746e321161f02.js","node_modules/@parcel/runtime-js/lib/runtime-15213fdce5fed8a1.js","node_modules/@parcel/runtime-js/lib/runtime-ecbd5a0a007786aa.js","node_modules/@parcel/runtime-js/lib/runtime-a1706eaab078026b.js","node_modules/@parcel/runtime-js/lib/runtime-0c04a556980be98a.js","node_modules/@parcel/runtime-js/lib/runtime-8e0f2a32cd27db53.js","node_modules/@parcel/runtime-js/lib/runtime-f2076b0e8f01b7e1.js","node_modules/@parcel/runtime-js/lib/runtime-9f461f491fe80a7f.js","node_modules/@parcel/runtime-js/lib/runtime-160c12df36ddc8a4.js","node_modules/@parcel/runtime-js/lib/runtime-3b1e542075736507.js","node_modules/@parcel/runtime-js/lib/runtime-ebf6dff3a25c5452.js","node_modules/@parcel/runtime-js/lib/runtime-3152131393aea96a.js","node_modules/@parcel/runtime-js/lib/runtime-91b0f3da6e7cbb0b.js","node_modules/@parcel/runtime-js/lib/runtime-b4837c25574df214.js","node_modules/@parcel/runtime-js/lib/runtime-5d0f6f4ee1d557ea.js","node_modules/@parcel/runtime-js/lib/runtime-1f59199bd3ce26c5.js","node_modules/@parcel/runtime-js/lib/runtime-ab8ef2d29f5dee6a.js","node_modules/@parcel/runtime-js/lib/runtime-4398c9111fce3752.js","node_modules/@parcel/runtime-js/lib/runtime-1604c85404590750.js","node_modules/@parcel/runtime-js/lib/runtime-c23612779f7bdbf0.js","node_modules/@parcel/runtime-js/lib/runtime-e8acb053c46b752c.js","node_modules/@parcel/runtime-js/lib/runtime-202ddfb7068a08f8.js","node_modules/@parcel/runtime-js/lib/runtime-58c9d64423e40544.js","node_modules/@parcel/runtime-js/lib/runtime-58782c5efbee3da5.js","node_modules/@parcel/runtime-js/lib/runtime-07be5d05b451dfeb.js","node_modules/@parcel/runtime-js/lib/runtime-b7ddca0da6cfc660.js","node_modules/@parcel/runtime-js/lib/runtime-0296c2b561846be5.js","node_modules/@parcel/runtime-js/lib/runtime-7c00619e44268f64.js","node_modules/@parcel/runtime-js/lib/runtime-e77d307f91978342.js","node_modules/@parcel/runtime-js/lib/runtime-2ee41da9bdddccca.js","node_modules/@parcel/runtime-js/lib/runtime-9bc0c9370e8c2511.js","node_modules/@parcel/runtime-js/lib/runtime-6973f0d79bf56810.js","node_modules/@parcel/runtime-js/lib/runtime-2522cf1ffcdb782a.js","node_modules/@parcel/runtime-js/lib/runtime-1315d708c2394c81.js","node_modules/@parcel/runtime-js/lib/runtime-5a986be3e1539cc3.js","node_modules/@parcel/runtime-js/lib/runtime-0ec28a8f6d61f569.js","node_modules/@parcel/runtime-js/lib/runtime-0633ebb851d8ddbe.js","node_modules/@parcel/runtime-js/lib/runtime-8738a7fdfc28a8e0.js","node_modules/@parcel/runtime-js/lib/runtime-9bcfbb6c3ba8b81e.js","node_modules/@parcel/runtime-js/lib/runtime-6cd7ae03410dca55.js","node_modules/@parcel/runtime-js/lib/runtime-abe6bcff7f7135e5.js","node_modules/@parcel/runtime-js/lib/runtime-fb70f95bc14394c1.js","node_modules/@parcel/runtime-js/lib/runtime-420e7f87d08226f6.js","node_modules/@parcel/runtime-js/lib/runtime-e10e47069a1d7137.js","node_modules/@parcel/runtime-js/lib/runtime-09abadde4c0d0aeb.js","node_modules/@parcel/runtime-js/lib/runtime-aeb1e830222a3bef.js","node_modules/@parcel/runtime-js/lib/runtime-dd32ef22446ba35e.js","node_modules/@parcel/runtime-js/lib/runtime-3f7c998c13a20ef7.js","node_modules/@parcel/runtime-js/lib/runtime-cb4a468aa469e80a.js","node_modules/@parcel/runtime-js/lib/runtime-48ba348bd9ace4b4.js","node_modules/@parcel/runtime-js/lib/runtime-439a72b38dd64fb0.js","node_modules/@parcel/runtime-js/lib/runtime-b7802f66e507e34d.js","node_modules/@parcel/runtime-js/lib/runtime-3495c8f288c74424.js","node_modules/@parcel/runtime-js/lib/runtime-9ebaf9967c0c1b06.js","node_modules/@parcel/runtime-js/lib/runtime-50a6672dbd4294b1.js","node_modules/@parcel/runtime-js/lib/runtime-0422b7c2b161bc95.js","node_modules/@parcel/runtime-js/lib/runtime-57d2b7a5678b62c9.js","node_modules/@parcel/runtime-js/lib/runtime-945dc50b56e691fe.js","node_modules/@parcel/runtime-js/lib/runtime-edbeed8df5841e5f.js","node_modules/@parcel/runtime-js/lib/runtime-cfc3b298a296f9f9.js","node_modules/@parcel/runtime-js/lib/runtime-674c4b44089c7a57.js","node_modules/@parcel/runtime-js/lib/runtime-c3e9f5b8a6af137b.js","node_modules/@parcel/runtime-js/lib/runtime-12d68cbe6665d789.js","node_modules/@parcel/runtime-js/lib/runtime-a6369e3ad60376e3.js","node_modules/@parcel/runtime-js/lib/runtime-461076f0a7f263c6.js","node_modules/@parcel/runtime-js/lib/runtime-d59f35d7ebaf0969.js","node_modules/@parcel/runtime-js/lib/runtime-06d0aac648e6ad06.js","node_modules/@parcel/runtime-js/lib/runtime-b1180052cda30230.js","node_modules/@parcel/runtime-js/lib/runtime-47db8ee9dfaca78e.js","node_modules/@parcel/runtime-js/lib/runtime-654cb14981c101be.js","node_modules/react-dom/cjs/react-dom.production.min.js","node_modules/scheduler/index.js","node_modules/scheduler/cjs/scheduler.production.min.js","node_modules/@parcel/runtime-js/lib/runtime-d28af0a636a83b71.js","node_modules/react/jsx-runtime.js","node_modules/react-is/index.js","node_modules/shallowequal/index.js","node_modules/@emotion/stylis/dist/stylis.browser.esm.js","node_modules/@emotion/unitless/dist/unitless.browser.esm.js","node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","node_modules/process/browser.js","node_modules/styled-components/src/utils/interleave.js","node_modules/styled-components/src/utils/isPlainObject.js","node_modules/styled-components/src/utils/empties.js","node_modules/styled-components/src/utils/isFunction.js","node_modules/styled-components/src/utils/getComponentName.js","node_modules/styled-components/src/utils/isStyledComponent.js","node_modules/styled-components/src/constants.js","node_modules/styled-components/src/utils/error.js","node_modules/styled-components/src/sheet/GroupedTag.js","node_modules/styled-components/src/sheet/GroupIDAllocator.js","node_modules/styled-components/src/sheet/Rehydration.js","node_modules/styled-components/src/utils/nonce.js","node_modules/styled-components/src/sheet/dom.js","node_modules/styled-components/src/sheet/Tag.js","node_modules/styled-components/src/sheet/Sheet.js","node_modules/styled-components/src/utils/generateAlphabeticName.js","node_modules/styled-components/src/utils/hash.js","node_modules/styled-components/src/utils/isStaticRules.js","node_modules/styled-components/src/models/ComponentStyle.js","node_modules/styled-components/src/utils/stylis.js","node_modules/styled-components/src/utils/stylisPluginInsertRule.js","node_modules/styled-components/src/models/StyleSheetManager.js","node_modules/styled-components/src/models/Keyframes.js","node_modules/styled-components/src/utils/hyphenateStyleName.js","node_modules/styled-components/src/utils/flatten.js","node_modules/styled-components/src/utils/isStatelessFunction.js","node_modules/styled-components/src/utils/addUnitIfNeeded.js","node_modules/styled-components/src/constructors/css.js","node_modules/styled-components/src/utils/checkDynamicCreation.js","node_modules/styled-components/src/utils/determineTheme.js","node_modules/styled-components/src/utils/escape.js","node_modules/styled-components/src/utils/generateComponentId.js","node_modules/styled-components/src/utils/isTag.js","node_modules/styled-components/src/utils/mixinDeep.js","node_modules/styled-components/src/models/ThemeProvider.js","node_modules/styled-components/src/models/StyledComponent.js","node_modules/styled-components/src/utils/generateDisplayName.js","node_modules/styled-components/src/utils/joinStrings.js","node_modules/styled-components/src/utils/domElements.js","node_modules/styled-components/src/constructors/styled.js","node_modules/styled-components/src/constructors/constructWithOptions.js","node_modules/styled-components/src/models/GlobalStyle.js","node_modules/styled-components/src/constructors/createGlobalStyle.js","node_modules/styled-components/src/constructors/keyframes.js","node_modules/styled-components/src/models/ServerStyleSheet.js","node_modules/@charcoal-ui/foundation/src/grid.ts","node_modules/@charcoal-ui/foundation/src/border-radius.ts","node_modules/@charcoal-ui/foundation/src/breakpoint.ts","node_modules/@charcoal-ui/foundation/src/typography.ts","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","node_modules/@babel/runtime/helpers/esm/construct.js","node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","node_modules/polished/dist/polished.esm.js","node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","node_modules/@charcoal-ui/utils/src/index.ts","node_modules/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","node_modules/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","node_modules/node_modules/@babel/runtime/helpers/esm/construct.js","node_modules/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","node_modules/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","node_modules/node_modules/polished/dist/polished.esm.js","node_modules/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","node_modules/@charcoal-ui/theme/src/default.ts","node_modules/@charcoal-ui/foundation/src/spacing.ts","node_modules/warning/warning.js","node_modules/@charcoal-ui/styled/src/util.ts","node_modules/@charcoal-ui/styled/src/lib.ts","node_modules/@charcoal-ui/styled/src/TokenInjector.tsx","node_modules/@charcoal-ui/styled/src/helper.ts","node_modules/@charcoal-ui/styled/src/index.ts","node_modules/twemoji/dist/twemoji.esm.js","src/components/Emoji.tsx","src/components/Aligner.tsx","node_modules/@charcoal-ui/react/src/core/ComponentAbstraction.tsx","node_modules/@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx","node_modules/clsx/dist/clsx.m.js","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts","node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts","node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts","node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/focusSafely.ts","node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/FocusScope.tsx","node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusable.tsx","node_modules/@react-aria/label/dist/packages/@react-aria/label/src/useLabel.ts","node_modules/@react-aria/label/dist/packages/@react-aria/label/src/useField.ts","node_modules/@react-aria/textfield/dist/packages/@react-aria/textfield/src/useTextField.ts","node_modules/@react-aria/visually-hidden/dist/packages/@react-aria/visually-hidden/src/VisuallyHidden.tsx","node_modules/@charcoal-ui/icons/src/icons.ts","node_modules/dompurify/src/utils.js","node_modules/dompurify/src/tags.js","node_modules/dompurify/src/attrs.js","node_modules/dompurify/src/regexp.js","node_modules/dompurify/src/purify.js","node_modules/@charcoal-ui/icons/src/loaders.ts","node_modules/@charcoal-ui/icons/src/ssr.ts","node_modules/@charcoal-ui/icons/src/PixivIcon.ts","node_modules/@charcoal-ui/icons/src/index.ts","node_modules/@charcoal-ui/react/src/styled.ts","node_modules/@charcoal-ui/react/src/components/Clickable/index.tsx","node_modules/@charcoal-ui/react/src/components/Button/index.tsx","node_modules/@charcoal-ui/react/src/_lib/index.ts","node_modules/@charcoal-ui/react/src/components/IconButton/index.tsx","node_modules/@charcoal-ui/react/src/components/Radio/index.tsx","node_modules/@charcoal-ui/react/src/components/Select/context.ts","node_modules/@charcoal-ui/react/src/components/Select/index.tsx","node_modules/@charcoal-ui/react/src/components/Switch/index.tsx","node_modules/@charcoal-ui/react/src/components/FieldLabel/index.tsx","node_modules/@charcoal-ui/react/src/components/TextField/index.tsx","node_modules/@charcoal-ui/react/src/components/Icon/index.tsx","src/components/Spinner.tsx","src/Prologue.tsx","src/utils/unreachable.tsx","src/Epilogue.tsx","node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js","node_modules/react-dom/index.js","node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js","src/components/FloatingEmojis.tsx","src/constants.ts","src/Icons.tsx","src/Main.tsx","node_modules/@firebase/util/src/crypt.ts","node_modules/@firebase/util/src/deepCopy.ts","node_modules/@firebase/util/src/deferred.ts","node_modules/@firebase/util/src/emulator.ts","node_modules/@firebase/util/src/environment.ts","node_modules/@firebase/util/src/json.ts","node_modules/@firebase/util/src/jwt.ts","node_modules/@firebase/util/src/sha1.ts","node_modules/@firebase/util/src/subscribe.ts","node_modules/@firebase/util/src/utf8.ts","node_modules/@firebase/util/src/uuid.ts","node_modules/@firebase/component/src/component.ts","node_modules/@firebase/component/src/constants.ts","node_modules/@firebase/component/src/provider.ts","node_modules/@firebase/component/src/component_container.ts","node_modules/@firebase/logger/src/logger.ts","node_modules/idb/build/wrap-idb-value.js","node_modules/idb/build/index.js","node_modules/@firebase/app/src/platformLoggerService.ts","node_modules/@firebase/app/src/constants.ts","node_modules/@firebase/app/src/internal.ts","node_modules/@firebase/app/src/errors.ts","node_modules/@firebase/app/src/firebaseApp.ts","node_modules/@firebase/app/src/api.ts","node_modules/@firebase/app/src/indexeddb.ts","node_modules/@firebase/app/src/heartbeatService.ts","node_modules/@firebase/installations/src/functions/common.ts","node_modules/@firebase/installations/src/functions/create-installation-request.ts","node_modules/@firebase/installations/src/helpers/buffer-to-base64-url-safe.ts","node_modules/@firebase/installations/src/helpers/generate-fid.ts","node_modules/@firebase/installations/src/util/sleep.ts","node_modules/@firebase/installations/src/helpers/fid-changed.ts","node_modules/@firebase/installations/src/helpers/idb-manager.ts","node_modules/@firebase/installations/src/helpers/get-installation-entry.ts","node_modules/@firebase/installations/src/functions/generate-auth-token-request.ts","node_modules/@firebase/installations/src/helpers/refresh-auth-token.ts","node_modules/@firebase/installations/src/api/get-id.ts","node_modules/@firebase/installations/src/api/get-token.ts","node_modules/@firebase/installations/src/util/get-key.ts","node_modules/@firebase/installations/src/util/errors.ts","node_modules/@firebase/installations/src/functions/delete-installation-request.ts","node_modules/@firebase/installations/src/api/delete-installations.ts","node_modules/@firebase/installations/src/api/on-id-change.ts","node_modules/@firebase/installations/src/api/get-installations.ts","node_modules/@firebase/installations/src/helpers/extract-app-config.ts","node_modules/@firebase/installations/src/functions/config.ts","node_modules/@firebase/installations/src/index.ts","node_modules/@firebase/analytics/src/helpers.ts","node_modules/@firebase/analytics/src/get-config.ts","node_modules/@firebase/analytics/src/errors.ts","node_modules/@firebase/analytics/src/functions.ts","node_modules/@firebase/analytics/src/initialize-analytics.ts","node_modules/@firebase/analytics/src/factory.ts","node_modules/@firebase/analytics/src/api.ts","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/base.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/disposable/disposable.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/array/array.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/event.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/browserfeature.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/string/internal.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/useragent/util.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/reflect/reflect.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/useragent/useragent.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/useragent/browser.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/useragent/engine.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/xhrio.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/browserevent.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/eventtype.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/listenable.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/listenablekey.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/listener.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/listenermap.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/object/object.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/events.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/eventtarget.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/json/json.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/async/workqueue.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/async/run.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/async/freelist.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/async/throwexception.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/timer/timer.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/async/throttle.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/events/eventhandler.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/webchanneldebug.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/requeststats.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/errorcode.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/eventtype.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/xmlhttpfactory.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/xmlhttp.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/channelrequest.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/environment.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/webchannelbase.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/uri/uri.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/disposable/dispose.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/wirev8.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/string/string.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/forwardchannelrequestpool.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/structs/structs.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/uri/utils.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/json/nativejsonprocessor.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/netutils.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/fetchxmlhttpfactory.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/functions/functions.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/json/hybrid.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/httpstatus.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/net/rpc/httpcors.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/webchannelbasetransport.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchannel/wire.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchanneltransport.js","node_modules/@firebase/webchannel-wrapper/dist/temp/src/index.js","node_modules/@firebase/webchannel-wrapper/node_modules/google-closure-library/closure/goog/labs/net/webchanneltransportfactory.js","node_modules/@firebase/firestore/dist/index.esm2017.js","src/api/index.ts","src/api/utils.ts","src/api/getUser.ts","src/api/updateUser.ts","src/App.tsx","node_modules/react-dom/client.js","src/index.tsx"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ez6NC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7s0BY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9nH8w\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7jG8H\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4nNAz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"btgEF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aV2ic\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cP6na\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bviqk\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"i9m1e\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kx6Qs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"efKMV\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jJLjX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"en3R1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cgCBm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gADys\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8vFo2\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gawzd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hsvZ8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6Iw4m\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ac39d\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ZtBQ1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3ER0o\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dSNsV\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cWJvo\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8t00S\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"845Hu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5nH4d\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eTQZB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jl7LY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eIyaR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"k5JAJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5e2XW\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dBgxi\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6EV3E\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lphKS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"91Vmw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"tlL6n\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"47FQx\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2igdD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"acD0d\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"MW3aH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"NeVa6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8KeIs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bEx1L\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"e6SoK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8uh6x\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hcG4o\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8oQWs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fNqsK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6fFFs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"75RRj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cWMy2\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6Col1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6wrYS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2aaaN\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7rLti\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6iyc1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ahOmS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3NoSJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jHsHL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"achV3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lO3pf\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1gTA3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8AKNL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eGGnA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4WEAt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4GtRQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7PBOe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1YQMR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aBGzk\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"esfRb\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"b5cYt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2eVmo\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"imXbc\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6PnZa\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lsOcr\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"c3Exp\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"l8TFz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1wXlz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5Kux0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cp6vy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2rqCQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lwNnu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cIFm8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7bODw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4xaMI\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9k2P5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3JGfj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4iyLS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gGHj8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jdoCT\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jAfpu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7NiEp\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"f0S9w\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"45yD2\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lNFuR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lkkxm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"W2ydM\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"efGth\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iw1fz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jk84P\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4pHwO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9HsiH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cZZ1h\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"d2cvx\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5Rra4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2ltus\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"37BGD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kNjeL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"34bJu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2v4SS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lF2q5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2hwAB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eTCDd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"arkzO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iJtio\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"d1Zh7\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"a2IHW\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"buCTB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"d6oYD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9EqYj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bR2wR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2NLJm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lnFMU\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2qBBF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3OtZp\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"d1vTT\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aFzND\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"87ph8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bK3PC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4D8Yr\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3tmX3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eLiFV\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9DQtP\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dX6gr\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"g4l5G\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jyDMM\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"agTc8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kv1pt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"clpc2\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"e67pP\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4DNAv\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eTAYr\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"17Y7k\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4kBEA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lEZZT\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"11QAR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6i39U\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6Vzeu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"f3T3h\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kawkV\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4bs4L\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1rbHe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"68Dgc\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lo8oi\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kk7ME\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hLIZe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kg1ly\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"nTV0h\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6LBEe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"uuBnK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6MoUW\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1MRBh\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gzS8J\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5mpxN\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6Q5XW\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7Xt0j\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cdxdA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7pWMR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8cUtu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3uc3n\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2qgz0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6QH0p\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4RFBQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ghcN3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6hN3L\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fChxE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"isCUL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"525Ig\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gkpZm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"khvgD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lIVCy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2xDJg\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lDpIo\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4j5dF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4W1XP\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dKDLV\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cdN4g\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1RCjj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kDVkE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gU8TN\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lokUS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"armvY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4aVIJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hNz1N\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"i9SHt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1tVcz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fM0EW\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6tQqO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cbMd0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6NPyi\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bTMPl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9i8FY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cOqg7\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1X3gu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gn94O\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bWCqy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"b7FNO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lnMQD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dYTGr\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bECgg\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"81YtA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8RvpH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eD2Jx\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4z9Dx\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3KRy1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"JIHeF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bnnqf\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iQI7N\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hPqkK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1dbJK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5OQZy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6yywC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9pyra\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ekwab\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2jwTL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"awlLt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"h7GAa\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lPVhE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aHMfZ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kqmu6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dUx2Y\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bbNDo\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4jLA8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2THww\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jGuGJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"l9Vqe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"d3Uj9\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gg2HX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7vpM6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"40Kz8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"k4suR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eDcPB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6xe5Z\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lLblJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4p9n3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8v1xE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"68qtU\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"b3kxj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"52qJe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"f67l1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gpPtl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ctNNZ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hTi9j\")).toString();","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var b=Mg.current;E(Mg);a._currentValue=b}\nfunction Sg(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}function Tg(a,b){Ng=a;Pg=Og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Ug=!0),a.firstContext=null)}\nfunction Vg(a){var b=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:b,next:null},null===Og){if(null===Ng)throw Error(p(308));Og=a;Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return b}var Wg=null;function Xg(a){null===Wg?Wg=[a]:Wg.push(a)}function Yg(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,Xg(b)):(c.next=e.next,e.next=c);b.interleaved=c;return Zg(a,d)}\nfunction Zg(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction dh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return Zg(a,c)}e=d.interleaved;null===e?(b.next=b,Xg(d)):(b.next=e.next,e.next=b);d.interleaved=b;return Zg(a,c)}function eh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction fh(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction gh(a,b,c,d){var e=a.updateQueue;$g=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:$g=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);hh|=g;a.lanes=g;a.memoizedState=q}}\nfunction ih(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var jh=(new aa.Component).refs;function kh(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=L(),d=\nlh(a),e=ch(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=dh(a,e,d);null!==b&&(mh(b,a,d,c),eh(b,a,d))}};function oh(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction ph(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Vg(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction qh(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}\nfunction rh(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jh;ah(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Vg(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(kh(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&nh.enqueueReplaceState(e,e.state,null),gh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}\nfunction sh(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;b===jh&&(b=e.refs={});null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction th(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function uh(a){var b=a._init;return b(a._payload)}\nfunction vh(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=wh(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=xh(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&uh(f)===b.type))return d=e(b,c.props),d.ref=sh(a,b,c),d.return=a,d;d=yh(c.type,c.key,c.props,null,a.mode,d);d.ref=sh(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=zh(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ah(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=xh(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=yh(b.type,b.key,b.props,null,a.mode,c),\nc.ref=sh(a,null,b),c.return=a,c;case wa:return b=zh(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Ah(b,a.mode,c,null),b.return=a,b;th(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);th(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);th(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&uh(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=sh(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Ah(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=yh(f.type,f.key,f.props,null,a.mode,h),h.ref=sh(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=zh(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);th(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=xh(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,b){G(Gh,b);G(Fh,a);G(Eh,Dh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(Eh);G(Eh,b)}function Jh(){E(Eh);E(Fh);E(Gh)}\nfunction Kh(a){Hh(Gh.current);var b=Hh(Eh.current);var c=lb(b,a.type);b!==c&&(G(Fh,a),G(Eh,c))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);\nfunction Mh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Nh=[];\nfunction Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321));}function Wh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Xh(a,b,c,d,e,f){Rh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Ph.current=null===a||null===a.memoizedState?Yh:Zh;a=c(d,e);if(Th){f=0;do{Th=!1;Uh=0;if(25<=f)throw Error(p(301));f+=1;P=O=null;b.updateQueue=null;Ph.current=$h;a=c(d,e)}while(Th)}Ph.current=ai;b=null!==O&&null!==O.next;Rh=0;P=O=N=null;Sh=!1;if(b)throw Error(p(300));return a}function bi(){var a=0!==Uh;Uh=0;return a}\nfunction ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function di(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(p(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction ei(a,b){return\"function\"===typeof b?b(a):b}\nfunction fi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Rh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;N.lanes|=m;hh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(Ug=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,N.lanes|=f,hh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction gi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(Ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function hi(){}\nfunction ii(a,b){var c=N,d=di(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,Ug=!0);d=d.queue;ji(ki.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==P&&P.memoizedState.tag&1){c.flags|=2048;li(9,mi.bind(null,c,d,e,b),void 0,null);if(null===R)throw Error(p(349));0!==(Rh&30)||ni(c,b,e)}return e}function ni(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction mi(a,b,c,d){b.value=c;b.getSnapshot=d;oi(b)&&pi(a)}function ki(a,b,c){return c(function(){oi(b)&&pi(a)})}function oi(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function pi(a){var b=Zg(a,1);null!==b&&mh(b,a,1,-1)}\nfunction qi(a){var b=ci();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a};b.queue=a;a=a.dispatch=ri.bind(null,N,a);return[b.memoizedState,a]}\nfunction li(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function si(){return di().memoizedState}function ti(a,b,c,d){var e=ci();N.flags|=a;e.memoizedState=li(1|b,c,void 0,void 0===d?null:d)}\nfunction ui(a,b,c,d){var e=di();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Wh(d,g.deps)){e.memoizedState=li(b,c,f,d);return}}N.flags|=a;e.memoizedState=li(1|b,c,f,d)}function vi(a,b){return ti(8390656,8,a,b)}function ji(a,b){return ui(2048,8,a,b)}function wi(a,b){return ui(4,2,a,b)}function xi(a,b){return ui(4,4,a,b)}\nfunction yi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function zi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ui(4,4,yi.bind(null,b,a),c)}function Ai(){}function Bi(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Ci(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Di(a,b,c){if(0===(Rh&21))return a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=c;He(c,b)||(c=yc(),N.lanes|=c,hh|=c,a.baseState=!0);return b}function Ei(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Qh.transition;Qh.transition={};try{a(!1),b()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}\nfunction Gi(a,b,c){var d=lh(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,c);else if(c=Yg(a,b,c,d),null!==c){var e=L();mh(c,a,d,e);Ji(c,b,d)}}\nfunction ri(a,b,c){var d=lh(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,Xg(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=Yg(a,b,e,d);null!==c&&(e=L(),mh(c,a,d,e),Ji(c,b,d))}}\nfunction Hi(a){var b=a.alternate;return a===N||null!==b&&b===N}function Ii(a,b){Th=Sh=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Ji(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,b){ci().memoizedState=[a,void 0===b?null:b];return a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ti(4194308,\n4,yi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ti(4194308,4,a,b)},useInsertionEffect:function(a,b){return ti(4,2,a,b)},useMemo:function(a,b){var c=ci();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ci();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=Gi.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=\nci();a={current:a};return b.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),b=a[0];a=Ei.bind(null,a[1]);ci().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=N,e=ci();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===R)throw Error(p(349));0!==(Rh&30)||ni(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;vi(ki.bind(null,d,\nf,a),[a]);d.flags|=2048;li(9,mi.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=ci(),b=R.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Uh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Vh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},\nuseDebugValue:Ai,useDeferredValue:function(a){var b=di();return Di(b,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return null===\nO?b.memoizedState=a:Di(b,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Li(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}\nfunction Mi(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Ni=\"function\"===typeof WeakMap?WeakMap:Map;function Oi(a,b,c){c=ch(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Pi||(Pi=!0,Qi=d);Mi(a,b)};return c}\nfunction Ri(a,b,c){c=ch(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Mi(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Mi(a,b);\"function\"!==typeof d&&(null===Si?Si=new Set([this]):Si.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Ti(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Ni;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ui.bind(null,a,b,c),b.then(a,a))}function Vi(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Wi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=ch(-1,1),b.tag=2,dh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,b,c,d){b.child=null===a?Ch(b,null,c,d):Bh(b,a.child,c,d)}\nfunction Zi(a,b,c,d,e){c=c.render;var f=b.ref;Tg(b,e);d=Xh(a,b,c,d,f,e);c=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&c&&vg(b);b.flags|=1;Yi(a,b,d,e);return b.child}\nfunction aj(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!bj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,cj(a,b,f,d,e);a=yh(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return $i(a,b,e)}b.flags|=1;a=wh(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction cj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(Ug=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(Ug=!0);else return b.lanes=a.lanes,$i(a,b,e)}return dj(a,b,c,d,e)}\nfunction ej(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(fj,gj),gj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(fj,gj);gj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(fj,gj),gj|=d;Yi(a,b,e,c);return b.child}function hj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function dj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);Tg(b,e);c=Xh(a,b,c,d,f,e);d=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&d&&vg(b);b.flags|=1;Yi(a,b,c,e);return b.child}\nfunction ij(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;Tg(b,e);if(null===b.stateNode)jj(a,b),ph(b,c,d),rh(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=Vg(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&qh(b,g,d,l);$g=!1;var r=b.memoizedState;g.state=r;gh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||$g?(\"function\"===typeof m&&(kh(b,c,m,d),k=b.memoizedState),(h=$g||oh(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Lg(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=Vg(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&qh(b,g,d,k);$g=!1;r=b.memoizedState;g.state=r;gh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||$g?(\"function\"===typeof y&&(kh(b,c,y,d),n=b.memoizedState),(l=$g||oh(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return kj(a,b,c,d,f,e)}\nfunction kj(a,b,c,d,e,f){hj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),$i(a,b,f);d=b.stateNode;Xi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Bh(b,a.child,null,f),b.child=Bh(b,null,h,f)):Yi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function lj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);Ih(a,b.containerInfo)}\nfunction mj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Yi(a,b,c,d);return b.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction pj(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(M,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=qj(g,d,0,null),a=Ah(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=oj(c),b.memoizedState=nj,a):rj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return sj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=wh(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=wh(h,f):(f=Ah(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?oj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=nj;return d}f=a.child;a=f.sibling;d=wh(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction rj(a,b){b=qj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function tj(a,b,c,d){null!==d&&Jg(d);Bh(b,a.child,null,c);a=rj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction sj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Li(Error(p(422))),tj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=qj({mode:\"visible\",children:d.children},e,0,null);f=Ah(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Bh(b,a.child,null,g);b.child.memoizedState=oj(g);b.memoizedState=nj;return f}if(0===(b.mode&1))return tj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Li(f,d,void 0);return tj(a,b,g,d)}h=0!==(g&a.childLanes);if(Ug||h){d=R;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,Zg(a,e),mh(d,a,e,-1))}uj();d=Li(Error(p(421)));return tj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=vj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=rj(b,d.children);b.flags|=4096;return b}function wj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);Sg(a.return,b,c)}\nfunction xj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction yj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Yi(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&wj(a,c,b);else if(19===a.tag)wj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(M,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Mh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);xj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Mh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}xj(b,!0,c,null,f);break;case \"together\":xj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction jj(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function $i(a,b,c){null!==a&&(b.dependencies=a.dependencies);hh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=wh(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=wh(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction zj(a,b,c){switch(b.tag){case 3:lj(b);Ig();break;case 5:Kh(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:Ih(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Mg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(M,M.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return pj(a,b,c);G(M,M.current&1);a=$i(a,b,c);return null!==a?a.sibling:null}G(M,M.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return yj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(M,M.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,ej(a,b,c)}return $i(a,b,c)}var Aj,Bj,Cj,Dj;\nAj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Bj=function(){};\nCj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;Hh(Eh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Dj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Ej(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Fj(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;Jh();E(Wf);E(H);Oh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Gj(zg),zg=null));Bj(a,b);S(b);return null;case 5:Lh(b);var e=Hh(Gh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Cj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;Aj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Dj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=Hh(Gh.current);Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(M);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Gj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(M.current&1)?0===T&&(T=3):uj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return Jh(),\nBj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return Rg(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(M);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Ej(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Mh(a);if(null!==g){b.flags|=128;Ej(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(M,M.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Hj&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304)}else{if(!d)if(a=Mh(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Ej(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Hj&&1073741824!==c&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=M.current,G(M,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Ij(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(gj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Jj(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Lh(b),null;case 13:E(M);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(b.type._context),null;case 22:case 23:return Ij(),\nnull;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Mj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Nj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Oj=!1;\nfunction Pj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Lg(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Oj;Oj=!1;return n}\nfunction Qj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Nj(b,c,f)}e=e.next}while(e!==d)}}function Rj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Sj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Tj(a){var b=a.alternate;null!==b&&(a.alternate=null,Tj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Uj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Vj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Uj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}\nfunction Xj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Xj(a,b,c),a=a.sibling;null!==a;)Xj(a,b,c),a=a.sibling}var X=null,Yj=!1;function Zj(a,b,c){for(c=c.child;null!==c;)ak(a,b,c),c=c.sibling}\nfunction ak(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Mj(c,b);case 6:var d=X,e=Yj;X=null;Zj(a,b,c);X=d;Yj=e;null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Yj;X=c.stateNode.containerInfo;Yj=!0;\nZj(a,b,c);X=d;Yj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Nj(c,b,g):0!==(f&4)&&Nj(c,b,g));e=e.next}while(e!==d)}Zj(a,b,c);break;case 1:if(!U&&(Mj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Zj(a,b,c);break;case 21:Zj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Zj(a,b,c),U=d):Zj(a,b,c);break;default:Zj(a,b,c)}}function bk(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Lj);b.forEach(function(b){var d=ck.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction dk(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Yj=!1;break a;case 3:X=h.stateNode.containerInfo;Yj=!0;break a;case 4:X=h.stateNode.containerInfo;Yj=!0;break a}h=h.return}if(null===X)throw Error(p(160));ak(f,g,e);X=null;Yj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)ek(b,a),b=b.sibling}\nfunction ek(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dk(b,a);fk(a);if(d&4){try{Qj(3,a,a.return),Rj(3,a)}catch(t){W(a,a.return,t)}try{Qj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);break;case 5:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:dk(b,a);fk(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:dk(b,a);fk(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:dk(b,a);fk(a);break;case 13:dk(b,a);fk(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(gk=B()));d&4&&bk(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,dk(b,a),U=l):dk(b,a);fk(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Qj(4,r,r.return);break;case 1:Mj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Mj(r,r.return);break;case 22:if(null!==r.memoizedState){hk(q);continue}}null!==y?(y.return=r,V=y):hk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:dk(b,a);fk(a);d&4&&bk(a);break;case 21:break;default:dk(b,\na),fk(a)}}function fk(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Uj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Vj(a);Xj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Vj(a);Wj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function ik(a,b,c){V=a;jk(a,b,c)}\nfunction jk(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Kj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Kj;var l=U;Kj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?kk(e):null!==k?(k.return=g,V=k):kk(e);for(;null!==f;)V=f,jk(f,b,c),f=f.sibling;V=e;Kj=h;U=l}lk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):lk(a,b,c)}}\nfunction lk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Rj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Lg(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&ih(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}ih(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Sj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function hk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction kk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Rj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Sj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Sj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=Infinity,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return 0!==(K&6)?B():-1!==Bk?Bk:Bk=B()}\nfunction lh(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Ck&&(Ck=yc()),Ck;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function mh(a,b,c,d){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==R)a===R&&(0===(K&2)&&(rk|=c),4===T&&Dk(a,Z)),Ek(a,d),1===c&&0===K&&0===(b.mode&1)&&(Hj=B()+500,fg&&jg())}\nfunction Ek(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===R?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Hk(a,b){Bk=-1;Ck=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Ik()&&a.callbackNode!==c)return null;var d=uc(a,a===R?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Jk(a,d);else{b=d;var e=K;K|=2;var f=Kk();if(R!==a||Z!==b)vk=null,Hj=B()+500,Lk(a,b);do try{Mk();break}catch(h){Nk(a,h)}while(1);Qg();nk.current=f;K=e;null!==Y?b=0:(R=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Ok(a,e)));if(1===b)throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;if(6===b)Dk(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Pk(e)&&(b=Jk(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Ok(a,f))),1===b))throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:Dk(a,d);if((d&130023424)===d&&(b=gk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){L();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),b);break}Qk(a,uk,vk);break;case 4:Dk(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*mk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),d);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329));}}}Ek(a,B());return a.callbackNode===c?Hk.bind(null,a):null}\nfunction Ok(a,b){var c=tk;a.current.memoizedState.isDehydrated&&(Lk(a,b).flags|=256);a=Jk(a,b);2!==a&&(b=uk,uk=c,null!==b&&Gj(b));return a}function Gj(a){null===uk?uk=a:uk.push.apply(uk,a)}\nfunction Pk(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Dk(a,b){b&=~sk;b&=~rk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Fk(a){if(0!==(K&6))throw Error(p(327));Ik();var b=uc(a,0);if(0===(b&1))return Ek(a,B()),null;var c=Jk(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Ok(a,d))}if(1===c)throw c=qk,Lk(a,0),Dk(a,b),Ek(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Qk(a,uk,vk);Ek(a,B());return null}\nfunction Rk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Hj=B()+500,fg&&jg())}}function Sk(a){null!==xk&&0===xk.tag&&0===(K&6)&&Ik();var b=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=d,pk.transition=c,K=b,0===(K&6)&&jg()}}function Ij(){gj=fj.current;E(fj)}\nfunction Lk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:Jh();E(Wf);E(H);Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}R=a;Y=a=wh(a.current,null);Z=gj=b;T=0;qk=null;sk=rk=hh=0;uk=tk=null;if(null!==Wg){for(b=\n0;b<Wg.length;b++)if(c=Wg[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}Wg=null}return a}\nfunction Nk(a,b){do{var c=Y;try{Qg();Ph.current=ai;if(Sh){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Sh=!1}Rh=0;P=O=N=null;Th=!1;Uh=0;ok.current=null;if(null===c||null===c.return){T=1;qk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vi(g);if(null!==y){y.flags&=-257;Wi(y,g,h,f,b);y.mode&1&&Ti(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Ti(f,l,b);uj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Vi(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Wi(J,g,h,f,b);Jg(Ki(k,h));break a}}f=k=Ki(k,h);4!==T&&(T=2);null===tk?tk=[f]:tk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Oi(f,k,b);fh(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Si||!Si.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Ri(f,h,b);fh(f,F);break a}}f=f.return}while(null!==f)}Tk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Kk(){var a=nk.current;nk.current=ai;return null===a?ai:a}\nfunction uj(){if(0===T||3===T||2===T)T=4;null===R||0===(hh&268435455)&&0===(rk&268435455)||Dk(R,Z)}function Jk(a,b){var c=K;K|=2;var d=Kk();if(R!==a||Z!==b)vk=null,Lk(a,b);do try{Uk();break}catch(e){Nk(a,e)}while(1);Qg();K=c;nk.current=d;if(null!==Y)throw Error(p(261));R=null;Z=0;return T}function Uk(){for(;null!==Y;)Vk(Y)}function Mk(){for(;null!==Y&&!cc();)Vk(Y)}function Vk(a){var b=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps;null===b?Tk(a):Y=b;ok.current=null}\nfunction Tk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Fj(c,b,gj),null!==c){Y=c;return}}else{c=Jj(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Qk(a,b,c){var d=C,e=pk.transition;try{pk.transition=null,C=1,Xk(a,b,c,d)}finally{pk.transition=e,C=d}return null}\nfunction Xk(a,b,c,d){do Ik();while(null!==xk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===R&&(Y=R=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||wk||(wk=!0,Gk(hc,function(){Ik();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=pk.transition;pk.transition=null;\nvar g=C;C=1;var h=K;K|=4;ok.current=null;Pj(a,c);ek(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;ik(c,a,e);dc();K=h;C=g;pk.transition=f}else a.current=c;wk&&(wk=!1,xk=a,yk=e);f=a.pendingLanes;0===f&&(Si=null);mc(c.stateNode,d);Ek(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;0!==(yk&1)&&0!==a.tag&&Ik();f=a.pendingLanes;0!==(f&1)?a===Ak?zk++:(zk=0,Ak=a):zk=0;jg();return null}\nfunction Ik(){if(null!==xk){var a=Dc(yk),b=pk.transition,c=C;try{pk.transition=null;C=16>a?16:a;if(null===xk)var d=!1;else{a=xk;xk=null;yk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Qj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Tj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Qj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,pk.transition=b}}return!1}function Yk(a,b,c){b=Ki(c,b);b=Oi(a,b,1);a=dh(a,b,1);b=L();null!==a&&(Ac(a,1,b),Ek(a,b))}\nfunction W(a,b,c){if(3===a.tag)Yk(a,a,c);else for(;null!==b;){if(3===b.tag){Yk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Si||!Si.has(d))){a=Ki(c,a);a=Ri(b,a,1);b=dh(b,a,1);a=L();null!==b&&(Ac(b,1,a),Ek(b,a));break}}b=b.return}}\nfunction Ui(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=L();a.pingedLanes|=a.suspendedLanes&c;R===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=c);Ek(a,b)}function Zk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=L();a=Zg(a,b);null!==a&&(Ac(a,b,c),Ek(a,c))}function vj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Zk(a,c)}\nfunction ck(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Zk(a,c)}var Wk;\nWk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)Ug=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return Ug=!1,zj(a,b,c);Ug=0!==(a.flags&131072)?!0:!1}else Ug=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;jj(a,b);a=b.pendingProps;var e=Yf(b,H.current);Tg(b,c);e=Xh(null,b,d,a,e,c);var f=bi();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ah(b),e.updater=nh,b.stateNode=e,e._reactInternals=b,rh(b,d,a,c),b=kj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Yi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{jj(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=$k(d);a=Lg(d,a);switch(e){case 0:b=dj(null,b,d,a,c);break a;case 1:b=ij(null,b,d,a,c);break a;case 11:b=Zi(null,b,d,a,c);break a;case 14:b=aj(null,b,d,Lg(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),dj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),ij(a,b,d,e,c);case 3:a:{lj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;bh(a,b);gh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ki(Error(p(423)),b);b=mj(a,b,d,c,e);break a}else if(d!==e){e=Ki(Error(p(424)),b);b=mj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Ch(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=$i(a,b,c);break a}Yi(a,b,d,c)}b=b.child}return b;case 5:return Kh(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\nhj(a,b),Yi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return pj(a,b,c);case 4:return Ih(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Bh(b,null,d,c):Yi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),Zi(a,b,d,e,c);case 7:return Yi(a,b,b.pendingProps,c),b.child;case 8:return Yi(a,b,b.pendingProps.children,c),b.child;case 12:return Yi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Mg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=$i(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=ch(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);Sg(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);Sg(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Yi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Tg(b,c),e=Vg(e),d=d(e),b.flags|=1,Yi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Lg(d,b.pendingProps),e=Lg(d.type,e),aj(a,b,d,e,c);case 15:return cj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),jj(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,Tg(b,c),ph(b,d,e),rh(b,d,e,c),kj(null,b,d,!0,a,c);case 19:return yj(a,b,c);case 22:return ej(a,b,c)}throw Error(p(156,b.tag));};function Gk(a,b){return ac(a,b)}\nfunction al(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new al(a,b,c,d)}function bj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction $k(a){if(\"function\"===typeof a)return bj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction wh(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction yh(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Ah(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return qj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Ah(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function qj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function xh(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction zh(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction bl(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function cl(a,b,c,d,e,f,g,h,k){a=new bl(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};ah(f);return a}function dl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction el(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction fl(a,b,c,d,e,f,g,h,k){a=cl(c,d,!0,a,e,f,g,h,k);a.context=el(null);c=a.current;d=L();e=lh(c);f=ch(d,e);f.callback=void 0!==b&&null!==b?b:null;dh(c,f,e);a.current.lanes=e;Ac(a,e,d);Ek(a,d);return a}function gl(a,b,c,d){var e=b.current,f=L(),g=lh(e);c=el(c);null===b.context?b.context=c:b.pendingContext=c;b=ch(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=dh(e,b,g);null!==a&&(mh(a,e,g,f),eh(a,e,g));return g}\nfunction hl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function jl(a,b){il(a,b);(a=a.alternate)&&il(a,b)}function kl(){return null}var ll=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}\nnl.prototype.render=ml.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));gl(a,b,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Sk(function(){gl(null,a,null,null)});b[uf]=null}};function nl(a){this._internalRoot=a}\nnl.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function pl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function ql(){}\nfunction rl(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=hl(g);f.call(a)}}var g=fl(b,d,a,0,null,!1,!1,\"\",ql);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Sk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=hl(k);h.call(a)}}var k=cl(a,0,!1,null,null,!1,!1,\"\",ql);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Sk(function(){gl(b,k,c,d)});return k}\nfunction sl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=hl(g);h.call(a)}}gl(b,g,a,e)}else g=rl(c,b,a,e,d);return hl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Ek(b,B()),0===(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var b=Zg(a,1);if(null!==b){var c=L();mh(b,a,1,c)}}),jl(a,1)}};\nFc=function(a){if(13===a.tag){var b=Zg(a,134217728);if(null!==b){var c=L();mh(b,a,134217728,c)}jl(a,134217728)}};Gc=function(a){if(13===a.tag){var b=lh(a),c=Zg(a,b);if(null!==c){var d=L();mh(c,a,b,d)}jl(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Rk;Hb=Sk;\nvar tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:\"18.2.0\",rendererPackageName:\"react-dom\"};\nvar vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||\nkl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.2.0-next-9e3b772b8-20220608\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(b))throw Error(p(200));return dl(a,b,null,c)};exports.createRoot=function(a,b){if(!ol(a))throw Error(p(299));var c=!1,d=\"\",e=ll;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=cl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ml(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Sk(a)};exports.hydrate=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!ol(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=ll;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=fl(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new nl(b)};exports.render=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Rk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!pl(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return sl(a,b,c,!1,d)};exports.version=\"18.2.0-next-9e3b772b8-20220608\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"h00hi\\\":\\\"index.e7cc1a0e.js\\\",\\\"ez6NC\\\":\\\"ShareIos.6953da03.svg\\\",\\\"7s0BY\\\":\\\"Dot.ad2c8114.svg\\\",\\\"9nH8w\\\":\\\"Message.03a2e34f.svg\\\",\\\"7jG8H\\\":\\\"Gift.4c52e3d8.svg\\\",\\\"4nNAz\\\":\\\"Close.812ad42d.svg\\\",\\\"btgEF\\\":\\\"Prev.8feeca50.svg\\\",\\\"aV2ic\\\":\\\"Next.c904401a.svg\\\",\\\"cP6na\\\":\\\"PullDown.6cc03a6b.svg\\\",\\\"bviqk\\\":\\\"PullUp.35600882.svg\\\",\\\"i9m1e\\\":\\\"Expand.4ed42125.svg\\\",\\\"kx6Qs\\\":\\\"Collapse.30b1a79e.svg\\\",\\\"efKMV\\\":\\\"Edit.5bb7a1ed.svg\\\",\\\"jJLjX\\\":\\\"ShareAndroid.65d2581d.svg\\\",\\\"en3R1\\\":\\\"BookmarkOff.3cea3c8c.svg\\\",\\\"cgCBm\\\":\\\"BookmarkOn.5374462a.svg\\\",\\\"gADys\\\":\\\"NovelViewerSettings.32afbb0a.svg\\\",\\\"8vFo2\\\":\\\"CommentOff.f9645c96.svg\\\",\\\"gawzd\\\":\\\"CommentOn.d839f896.svg\\\",\\\"hsvZ8\\\":\\\"Home.68a00bef.svg\\\",\\\"6Iw4m\\\":\\\"Index.fe2617d6.svg\\\",\\\"ac39d\\\":\\\"Serif.a7467c47.svg\\\",\\\"ZtBQ1\\\":\\\"Camera.ce56c708.svg\\\",\\\"3ER0o\\\":\\\"Delete.66d97ea5.svg\\\",\\\"dSNsV\\\":\\\"Pan.1880fed7.svg\\\",\\\"cWJvo\\\":\\\"RollVertical.b22f21ef.svg\\\",\\\"8t00S\\\":\\\"RollHorizontal.a6eb33a4.svg\\\",\\\"845Hu\\\":\\\"ZoomIn.f7b22059.svg\\\",\\\"5nH4d\\\":\\\"Upload.06bafb6f.svg\\\",\\\"eTQZB\\\":\\\"Shopping.6fe3138b.svg\\\",\\\"jl7LY\\\":\\\"User.bae4e670.svg\\\",\\\"eIyaR\\\":\\\"HorizontalWriting.90d8931d.svg\\\",\\\"k5JAJ\\\":\\\"Notification.df446e8c.svg\\\",\\\"5e2XW\\\":\\\"SansSerif.d79b44a3.svg\\\",\\\"dBgxi\\\":\\\"VerticalWriting.0671d618.svg\\\",\\\"6EV3E\\\":\\\"NotificationOff.7cfbe822.svg\\\",\\\"lphKS\\\":\\\"Expand.45d97fe1.svg\\\",\\\"91Vmw\\\":\\\"Collapse.9e6020fd.svg\\\",\\\"tlL6n\\\":\\\"Close.dfbd3867.svg\\\",\\\"47FQx\\\":\\\"Pencil.3f3c3ea0.svg\\\",\\\"2igdD\\\":\\\"PencilDraw.0f9b3d74.svg\\\",\\\"acD0d\\\":\\\"PencilText.2fb0c7a2.svg\\\",\\\"MW3aH\\\":\\\"Reorder.eb7b15c7.svg\\\",\\\"NeVa6\\\":\\\"Add.a31b7d71.svg\\\",\\\"8KeIs\\\":\\\"Subtract.23071b1e.svg\\\",\\\"bEx1L\\\":\\\"Star.af325041.svg\\\",\\\"e6SoK\\\":\\\"Check.e754ceaf.svg\\\",\\\"8uh6x\\\":\\\"Send.b0ead308.svg\\\",\\\"hcG4o\\\":\\\"LockLock.a883cfbb.svg\\\",\\\"8oQWs\\\":\\\"LockUnlock.9ca7061c.svg\\\",\\\"fNqsK\\\":\\\"Up.eedd4d3c.svg\\\",\\\"6fFFs\\\":\\\"Down.c415c5ff.svg\\\",\\\"75RRj\\\":\\\"ReloadLoop.24f51208.svg\\\",\\\"cWMy2\\\":\\\"Reload.517dbea7.svg\\\",\\\"6Col1\\\":\\\"Options.f25f88f9.svg\\\",\\\"6wrYS\\\":\\\"CommentOutline.88a7f832.svg\\\",\\\"2aaaN\\\":\\\"Trash.3bdca131.svg\\\",\\\"7rLti\\\":\\\"TrashAlt.44fbde4b.svg\\\",\\\"6iyc1\\\":\\\"ShareIos.c7cd72e8.svg\\\",\\\"ahOmS\\\":\\\"ViewGrid3Columns.3d9d7b5e.svg\\\",\\\"3NoSJ\\\":\\\"ViewGrid2Columns.c3302481.svg\\\",\\\"jHsHL\\\":\\\"ViewList.144e9b9a.svg\\\",\\\"achV3\\\":\\\"Upload.2d55cad7.svg\\\",\\\"lO3pf\\\":\\\"UploadAlt.a4d614f4.svg\\\",\\\"1gTA3\\\":\\\"DownloadAlt.0ffca4b4.svg\\\",\\\"8AKNL\\\":\\\"ArrowUp.155cbe1c.svg\\\",\\\"eGGnA\\\":\\\"LikeOff.c3391c8d.svg\\\",\\\"4WEAt\\\":\\\"LikeOn.b7ab7995.svg\\\",\\\"4GtRQ\\\":\\\"ArrowDown.cdc9b29c.svg\\\",\\\"7PBOe\\\":\\\"OptionsAlt.8d8ef9af.svg\\\",\\\"1YQMR\\\":\\\"PencilLive.53a37154.svg\\\",\\\"aBGzk\\\":\\\"OpenInNew.5af4247e.svg\\\",\\\"esfRb\\\":\\\"Settings.bf974121.svg\\\",\\\"b5cYt\\\":\\\"Roll.21d0f0dd.svg\\\",\\\"2eVmo\\\":\\\"Calendar.4a912d3c.svg\\\",\\\"imXbc\\\":\\\"Save.8f2e20e4.svg\\\",\\\"6PnZa\\\":\\\"Logout.9b82ac89.svg\\\",\\\"lsOcr\\\":\\\"CommentFill.b6f8c119.svg\\\",\\\"c3Exp\\\":\\\"ShareAndroid.362990d1.svg\\\",\\\"l8TFz\\\":\\\"More.1a1e9ed0.svg\\\",\\\"1wXlz\\\":\\\"Back.c00dd33e.svg\\\",\\\"5Kux0\\\":\\\"Search.d1b81bf3.svg\\\",\\\"cp6vy\\\":\\\"Add.e3fd1ddd.svg\\\",\\\"2rqCQ\\\":\\\"Check.8af7cafe.svg\\\",\\\"lwNnu\\\":\\\"Menu.5c709e5a.svg\\\",\\\"cIFm8\\\":\\\"Dot.61f5c582.svg\\\",\\\"7bODw\\\":\\\"Book.a4279615.svg\\\",\\\"4xaMI\\\":\\\"ArrowDown.69ea3b17.svg\\\",\\\"9k2P5\\\":\\\"Speaker.8cf5eedc.svg\\\",\\\"3JGfj\\\":\\\"Remove.fb736138.svg\\\",\\\"4iyLS\\\":\\\"BookmarkOn.dddddeb4.svg\\\",\\\"gGHj8\\\":\\\"BookmarkOff.724c394e.svg\\\",\\\"jdoCT\\\":\\\"Filter.e95b029f.svg\\\",\\\"jAfpu\\\":\\\"Error.df4e08ce.svg\\\",\\\"7NiEp\\\":\\\"Info.7f832c0f.svg\\\",\\\"f0S9w\\\":\\\"Pencil.89a5a2ef.svg\\\",\\\"45yD2\\\":\\\"LikeOff.035df599.svg\\\",\\\"lNFuR\\\":\\\"View.d49f3546.svg\\\",\\\"lkkxm\\\":\\\"BookmarkOff.62d73994.svg\\\",\\\"W2ydM\\\":\\\"BookmarkOn.5b8c1d80.svg\\\",\\\"efGth\\\":\\\"Breadcrumbs.557333b7.svg\\\",\\\"iw1fz\\\":\\\"More.7674851d.svg\\\",\\\"jk84P\\\":\\\"ImageResponse.41fb21b9.svg\\\",\\\"4pHwO\\\":\\\"Lock.65c4bf0a.svg\\\",\\\"9HsiH\\\":\\\"External.a1e2f928.svg\\\",\\\"cZZ1h\\\":\\\"Location.d471284f.svg\\\",\\\"d2cvx\\\":\\\"ViewOutline.ede8dab6.svg\\\",\\\"5Rra4\\\":\\\"Like.cf53da57.svg\\\",\\\"2ltus\\\":\\\"Smile.ce8676cd.svg\\\",\\\"37BGD\\\":\\\"SmileOn.d18acdb3.svg\\\",\\\"kNjeL\\\":\\\"Check.8094497a.svg\\\",\\\"34bJu\\\":\\\"List.c4918b07.svg\\\",\\\"2v4SS\\\":\\\"ContextMenu.b30ad12a.svg\\\",\\\"lF2q5\\\":\\\"Add.5024378b.svg\\\",\\\"2hwAB\\\":\\\"Remove.20579f66.svg\\\",\\\"eTCDd\\\":\\\"Images.bf2a94e0.svg\\\",\\\"arkzO\\\":\\\"Nextworks.ee6f65b6.svg\\\",\\\"iJtio\\\":\\\"Filter.974aefba.svg\\\",\\\"d1Zh7\\\":\\\"Users.1df34922.svg\\\",\\\"a2IHW\\\":\\\"Next.228eb1dc.svg\\\",\\\"buCTB\\\":\\\"PullDown.c66f35d4.svg\\\",\\\"d6oYD\\\":\\\"PullUp.5664291a.svg\\\",\\\"9EqYj\\\":\\\"Prev.ccf8f0b3.svg\\\",\\\"bR2wR\\\":\\\"Dot.f8fb5a59.svg\\\",\\\"2NLJm\\\":\\\"Notification.aa7e5897.svg\\\",\\\"lnFMU\\\":\\\"NotificationOff.93edbc0d.svg\\\",\\\"2qBBF\\\":\\\"Search.49d2f313.svg\\\",\\\"3OtZp\\\":\\\"Menu.3ff7eca1.svg\\\",\\\"d1vTT\\\":\\\"Index.ac29ca25.svg\\\",\\\"aFzND\\\":\\\"Services.b6dc78e0.svg\\\",\\\"87ph8\\\":\\\"Error.a136333c.svg\\\",\\\"bK3PC\\\":\\\"Home.ea8b5f2f.svg\\\",\\\"4D8Yr\\\":\\\"Warning.e412a5cc.svg\\\",\\\"3tmX3\\\":\\\"Info.9c22543a.svg\\\",\\\"eLiFV\\\":\\\"QuestionOutline.30a21515.svg\\\",\\\"9DQtP\\\":\\\"ChatBot.a39026c2.svg\\\",\\\"dX6gr\\\":\\\"ErrorOctagon.f9dbcbbf.svg\\\",\\\"g4l5G\\\":\\\"Question.c1a67d10.svg\\\",\\\"jyDMM\\\":\\\"Alart.1cbbecc5.svg\\\",\\\"agTc8\\\":\\\"DotAlt.7582627e.svg\\\",\\\"kv1pt\\\":\\\"ImageHidden.f56e5e8c.svg\\\",\\\"clpc2\\\":\\\"AddRubi.03a75b50.svg\\\",\\\"e67pP\\\":\\\"ImageReplace.73331c92.svg\\\",\\\"4DNAv\\\":\\\"Text.5888f43a.svg\\\",\\\"eTAYr\\\":\\\"AddText.e48e0950.svg\\\",\\\"17Y7k\\\":\\\"FormatAlignRight.22924281.svg\\\",\\\"4kBEA\\\":\\\"FormatAlignLeft.02405a4d.svg\\\",\\\"lEZZT\\\":\\\"FormatAlignCenter.3c93746c.svg\\\",\\\"11QAR\\\":\\\"AddImage.b0bb63fa.svg\\\",\\\"6i39U\\\":\\\"ImgContain.46a98562.svg\\\",\\\"6Vzeu\\\":\\\"ImgCover.b29299ca.svg\\\",\\\"f3T3h\\\":\\\"BringForward.e8c06594.svg\\\",\\\"kawkV\\\":\\\"BringBackward.a999429b.svg\\\",\\\"4bs4L\\\":\\\"RotateRight.336df1e2.svg\\\",\\\"1rbHe\\\":\\\"Palette.5c11c853.svg\\\",\\\"68Dgc\\\":\\\"Duplicate.9a32bcdf.svg\\\",\\\"lo8oi\\\":\\\"FormatLineSpacing.f16306b5.svg\\\",\\\"kk7ME\\\":\\\"FormatLetterSpacing.f13e06b1.svg\\\",\\\"hLIZe\\\":\\\"Rotate90DegreesCc.cf426326.svg\\\",\\\"kg1ly\\\":\\\"Rotate90DegreesC.3943391f.svg\\\",\\\"nTV0h\\\":\\\"FormatFontSize.359f30f1.svg\\\",\\\"6LBEe\\\":\\\"FormatFontFamily.51dd8811.svg\\\",\\\"uuBnK\\\":\\\"FormatColorFill.8c97143d.svg\\\",\\\"6MoUW\\\":\\\"FormatColorFillNoColor.c8509ee1.svg\\\",\\\"1MRBh\\\":\\\"ChromaticAberration.0154c212.svg\\\",\\\"gzS8J\\\":\\\"Move1.90000c54.svg\\\",\\\"5mpxN\\\":\\\"Play.4b89ce77.svg\\\",\\\"6Q5XW\\\":\\\"Pause.e1b13874.svg\\\",\\\"7Xt0j\\\":\\\"Microphone.5362c75d.svg\\\",\\\"cdxdA\\\":\\\"PauseAlt.28138e50.svg\\\",\\\"7pWMR\\\":\\\"CameraVideo.e122bdae.svg\\\",\\\"8cUtu\\\":\\\"Camera.5fd53c92.svg\\\",\\\"3uc3n\\\":\\\"Fov.3bb39f80.svg\\\",\\\"2qgz0\\\":\\\"Sun.7154ea8b.svg\\\",\\\"6QH0p\\\":\\\"Shutter.14801d78.svg\\\",\\\"4RFBQ\\\":\\\"Contrast.aa753b39.svg\\\",\\\"ghcN3\\\":\\\"FrameEffect.cfb39f5b.svg\\\",\\\"6hN3L\\\":\\\"Hue.9256d788.svg\\\",\\\"fChxE\\\":\\\"Saturation.15734130.svg\\\",\\\"isCUL\\\":\\\"Glow.8116d2d0.svg\\\",\\\"525Ig\\\":\\\"Binet.3a6e025a.svg\\\",\\\"gkpZm\\\":\\\"Overlay.951b870b.svg\\\",\\\"khvgD\\\":\\\"Flare.fca10fb7.svg\\\",\\\"lIVCy\\\":\\\"Dust.57f82cef.svg\\\",\\\"2xDJg\\\":\\\"Temperature.b9bc2e16.svg\\\",\\\"lDpIo\\\":\\\"Filter.25e3aa30.svg\\\",\\\"4j5dF\\\":\\\"Usagi.bb0f289d.svg\\\",\\\"4W1XP\\\":\\\"Set.5dd4a3e2.svg\\\",\\\"dKDLV\\\":\\\"Gift.c3d8a9a9.svg\\\",\\\"cdN4g\\\":\\\"MobilePhone.f1f90adf.svg\\\",\\\"1RCjj\\\":\\\"Users.1cdf9204.svg\\\",\\\"kDVkE\\\":\\\"AddPeople.aba18628.svg\\\",\\\"gU8TN\\\":\\\"Person.f2df06ce.svg\\\",\\\"lokUS\\\":\\\"Emoji.3a9ec4e1.svg\\\",\\\"armvY\\\":\\\"Shopping.6070b661.svg\\\",\\\"4aVIJ\\\":\\\"UsagiAlt.d4dab628.svg\\\",\\\"hNz1N\\\":\\\"Fashion.eff62820.svg\\\",\\\"i9SHt\\\":\\\"FaceEdit.edb6ddb2.svg\\\",\\\"1tVcz\\\":\\\"DeviceRotation.29e8cba2.svg\\\",\\\"fM0EW\\\":\\\"Ar.154d301f.svg\\\",\\\"6tQqO\\\":\\\"FrameSize.d103493a.svg\\\",\\\"cbMd0\\\":\\\"Body.3bd2dd73.svg\\\",\\\"6NPyi\\\":\\\"BodyEdit.1018e293.svg\\\",\\\"bTMPl\\\":\\\"HairEdit.158213a1.svg\\\",\\\"9i8FY\\\":\\\"ItemRemove.536526b3.svg\\\",\\\"cOqg7\\\":\\\"AddModel.11885543.svg\\\",\\\"1X3gu\\\":\\\"ChangeCharactor.377fe87f.svg\\\",\\\"gn94O\\\":\\\"Pose.4d2bc8f6.svg\\\",\\\"bWCqy\\\":\\\"Show.cee44e7a.svg\\\",\\\"b7FNO\\\":\\\"ShowOutline.a969c514.svg\\\",\\\"lnMQD\\\":\\\"Hide.2d5b17de.svg\\\",\\\"dYTGr\\\":\\\"Idea.68b8baa5.svg\\\",\\\"bECgg\\\":\\\"Book.a72db283.svg\\\",\\\"81YtA\\\":\\\"Message.e0e32cb0.svg\\\",\\\"8RvpH\\\":\\\"Images.35e4a6f6.svg\\\",\\\"eD2Jx\\\":\\\"Image.1fb4729f.svg\\\",\\\"4z9Dx\\\":\\\"Video.4a8e17bb.svg\\\",\\\"3KRy1\\\":\\\"Hashtag.b76dbf12.svg\\\",\\\"JIHeF\\\":\\\"ImageAlt.384e6954.svg\\\",\\\"bnnqf\\\":\\\"Discovery.5619e212.svg\\\",\\\"iQI7N\\\":\\\"Description.cac458f5.svg\\\",\\\"hPqkK\\\":\\\"File.14666aa2.svg\\\",\\\"1dbJK\\\":\\\"Archive.967c5332.svg\\\",\\\"5OQZy\\\":\\\"Invoice.99b5fbb9.svg\\\",\\\"6yywC\\\":\\\"Announcement.b523d96c.svg\\\",\\\"9pyra\\\":\\\"Link.3175aa91.svg\\\",\\\"ekwab\\\":\\\"Manga.344e246b.svg\\\",\\\"2jwTL\\\":\\\"Novels.0b05f16f.svg\\\",\\\"awlLt\\\":\\\"Contest.32a31953.svg\\\",\\\"h7GAa\\\":\\\"LatestWorks.bc42f1ca.svg\\\",\\\"lPVhE\\\":\\\"Ranking.74d5185e.svg\\\",\\\"aHMfZ\\\":\\\"Feed.2ab94002.svg\\\",\\\"kqmu6\\\":\\\"Groups.f456ad09.svg\\\",\\\"dUx2Y\\\":\\\"Events.04752c13.svg\\\",\\\"bbNDo\\\":\\\"Projects.88e5e274.svg\\\",\\\"4jLA8\\\":\\\"Codes.965ac570.svg\\\",\\\"2THww\\\":\\\"Invalid.6f642dd1.svg\\\",\\\"jGuGJ\\\":\\\"LikeOff.0342a339.svg\\\",\\\"l9Vqe\\\":\\\"LikeOn.6be40494.svg\\\",\\\"d3Uj9\\\":\\\"LikeOnPrivate.186c3115.svg\\\",\\\"gg2HX\\\":\\\"Folder.470b435f.svg\\\",\\\"7vpM6\\\":\\\"Pencil.cc971316.svg\\\",\\\"40Kz8\\\":\\\"Comment.aec4653c.svg\\\",\\\"k4suR\\\":\\\"View.bd2a9000.svg\\\",\\\"eDcPB\\\":\\\"ImageResponse.1481b410.svg\\\",\\\"6xe5Z\\\":\\\"Like.6a58ff27.svg\\\",\\\"lLblJ\\\":\\\"Smile.f7586bf2.svg\\\",\\\"4p9n3\\\":\\\"Comment.842b99ac.svg\\\",\\\"8v1xE\\\":\\\"Ranking.f3753ae7.svg\\\",\\\"68qtU\\\":\\\"Artwork.33c4c5b7.svg\\\",\\\"b3kxj\\\":\\\"NoImage.2a56baa7.svg\\\",\\\"52qJe\\\":\\\"ReadVertical.2705a88f.svg\\\",\\\"f67l1\\\":\\\"ReadHorizontalLeft.5034cef6.svg\\\",\\\"gpPtl\\\":\\\"ReadHorizontalRight.07934b29.svg\\\",\\\"ctNNZ\\\":\\\"Question.992229b7.svg\\\",\\\"hTi9j\\\":\\\"OpenInNew.c61b4982.svg\\\"}\"));","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default isPropValid;\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// @flow\nimport type { Interpolation } from '../types';\n\nexport default (\n  strings: Array<string>,\n  interpolations: Array<Interpolation>\n): Array<Interpolation> => {\n  const result = [strings[0]];\n\n  for (let i = 0, len = interpolations.length; i < len; i += 1) {\n    result.push(interpolations[i], strings[i + 1]);\n  }\n\n  return result;\n};\n","// @flow\nimport { typeOf } from 'react-is';\n\nexport default (x: any): boolean =>\n  x !== null &&\n  typeof x === 'object' &&\n  (x.toString ? x.toString() : Object.prototype.toString.call(x)) === '[object Object]' &&\n  !typeOf(x);\n","// @flow\nexport const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze({});\n","// @flow\nexport default function isFunction(test: any): boolean %checks {\n  return typeof test === 'function';\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function getComponentName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return (\n    (process.env.NODE_ENV !== 'production' ? typeof target === 'string' && target : false) ||\n    // $FlowFixMe\n    target.displayName ||\n    // $FlowFixMe\n    target.name ||\n    'Component'\n  );\n}\n","// @flow\nexport default function isStyledComponent(target: any): boolean %checks {\n  return target && typeof target.styledComponentId === 'string';\n}\n","// @flow\n\ndeclare var SC_DISABLE_SPEEDY: ?boolean;\ndeclare var __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY =\n  Boolean(typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : (typeof process !== 'undefined' && typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' && process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false' ? false : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : (typeof process !== 'undefined' && typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' && process.env.SC_DISABLE_SPEEDY !== ''\n        ? process.env.SC_DISABLE_SPEEDY === 'false' ? false : process.env.SC_DISABLE_SPEEDY\n        : process.env.NODE_ENV !== 'production'\n      )\n    ));\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","// @flow\nimport errorMap from './errors';\n\nconst ERRORS = process.env.NODE_ENV !== 'production' ? errorMap : {};\n\n/**\n * super basic version of sprintf\n */\nfunction format(...args) {\n  let a = args[0];\n  const b = [];\n\n  for (let c = 1, len = args.length; c < len; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(d => {\n    a = a.replace(/%[a-z]/, d);\n  });\n\n  return a;\n}\n\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n */\nexport default function throwStyledComponentsError(\n  code: string | number,\n  ...interpolations: Array<any>\n) {\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\n      `An error occurred. See https://git.io/JUIaE#${code} for more information.${\n        interpolations.length > 0 ? ` Args: ${interpolations.join(', ')}` : ''\n      }`\n    );\n  } else {\n    throw new Error(format(ERRORS[code], ...interpolations).trim());\n  }\n}\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport type { GroupedTag, Tag } from './types';\nimport { SPLITTER } from '../constants';\nimport throwStyledError from '../utils/error';\n\n/** Create a GroupedTag with an underlying Tag implementation */\nexport const makeGroupedTag = (tag: Tag): GroupedTag => {\n  return new DefaultGroupedTag(tag);\n};\n\nconst BASE_SIZE = 1 << 9;\n\nclass DefaultGroupedTag implements GroupedTag {\n  groupSizes: Uint32Array;\n\n  length: number;\n\n  tag: Tag;\n\n  constructor(tag: Tag) {\n    this.groupSizes = new Uint32Array(BASE_SIZE);\n    this.length = BASE_SIZE;\n    this.tag = tag;\n  }\n\n  indexOfGroup(group: number): number {\n    let index = 0;\n    for (let i = 0; i < group; i++) {\n      index += this.groupSizes[i];\n    }\n\n    return index;\n  }\n\n  insertRules(group: number, rules: string[]): void {\n    if (group >= this.groupSizes.length) {\n      const oldBuffer = this.groupSizes;\n      const oldSize = oldBuffer.length;\n\n      let newSize = oldSize;\n      while (group >= newSize) {\n        newSize <<= 1;\n        if (newSize < 0) {\n          throwStyledError(16, `${group}`);\n        }\n      }\n\n      this.groupSizes = new Uint32Array(newSize);\n      this.groupSizes.set(oldBuffer);\n      this.length = newSize;\n\n      for (let i = oldSize; i < newSize; i++) {\n        this.groupSizes[i] = 0;\n      }\n    }\n\n    let ruleIndex = this.indexOfGroup(group + 1);\n    for (let i = 0, l = rules.length; i < l; i++) {\n      if (this.tag.insertRule(ruleIndex, rules[i])) {\n        this.groupSizes[group]++;\n        ruleIndex++;\n      }\n    }\n  }\n\n  clearGroup(group: number): void {\n    if (group < this.length) {\n      const length = this.groupSizes[group];\n      const startIndex = this.indexOfGroup(group);\n      const endIndex = startIndex + length;\n\n      this.groupSizes[group] = 0;\n\n      for (let i = startIndex; i < endIndex; i++) {\n        this.tag.deleteRule(startIndex);\n      }\n    }\n  }\n\n  getGroup(group: number): string {\n    let css = '';\n    if (group >= this.length || this.groupSizes[group] === 0) {\n      return css;\n    }\n\n    const length = this.groupSizes[group];\n    const startIndex = this.indexOfGroup(group);\n    const endIndex = startIndex + length;\n\n    for (let i = startIndex; i < endIndex; i++) {\n      css += `${this.tag.getRule(i)}${SPLITTER}`;\n    }\n\n    return css;\n  }\n}\n","// @flow\n\nimport throwStyledError from '../utils/error';\n\nconst MAX_SMI = 1 << 31 - 1;\n\nlet groupIDRegister: Map<string, number> = new Map();\nlet reverseRegister: Map<number, string> = new Map();\nlet nextFreeGroup = 1;\n\nexport const resetGroupIds = () => {\n  groupIDRegister = new Map();\n  reverseRegister = new Map();\n  nextFreeGroup = 1;\n};\n\nexport const getGroupForId = (id: string): number => {\n  if (groupIDRegister.has(id)) {\n    return (groupIDRegister.get(id): any);\n  }\n\n  while (reverseRegister.has(nextFreeGroup)) {\n    nextFreeGroup++;\n  }\n\n  const group = nextFreeGroup++;\n\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    ((group | 0) < 0 || group > MAX_SMI)\n  ) {\n    throwStyledError(16, `${group}`);\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n  return group;\n};\n\nexport const getIdForGroup = (group: number): void | string => {\n  return reverseRegister.get(group);\n};\n\nexport const setGroupForId = (id: string, group: number) => {\n  if (group >= nextFreeGroup) {\n    nextFreeGroup = group + 1;\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n};\n","// @flow\n\nimport { SPLITTER, SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport { getIdForGroup, setGroupForId } from './GroupIDAllocator';\nimport type { Sheet } from './types';\n\nconst SELECTOR = `style[${SC_ATTR}][${SC_ATTR_VERSION}=\"${SC_VERSION}\"]`;\nconst MARKER_RE = new RegExp(`^${SC_ATTR}\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)`);\n\nexport const outputSheet = (sheet: Sheet) => {\n  const tag = sheet.getTag();\n  const { length } = tag;\n\n  let css = '';\n  for (let group = 0; group < length; group++) {\n    const id = getIdForGroup(group);\n    if (id === undefined) continue;\n\n    const names = sheet.names.get(id);\n    const rules = tag.getGroup(group);\n    if (!names || !rules || !names.size) continue;\n\n    const selector = `${SC_ATTR}.g${group}[id=\"${id}\"]`;\n\n    let content = '';\n    if (names !== undefined) {\n      names.forEach(name => {\n        if (name.length > 0) {\n          content += `${name},`;\n        }\n      });\n    }\n\n    // NOTE: It's easier to collect rules and have the marker\n    // after the actual rules to simplify the rehydration\n    css += `${rules}${selector}{content:\"${content}\"}${SPLITTER}`;\n  }\n\n  return css;\n};\n\nconst rehydrateNamesFromContent = (sheet: Sheet, id: string, content: string) => {\n  const names = content.split(',');\n  let name;\n\n  for (let i = 0, l = names.length; i < l; i++) {\n    // eslint-disable-next-line\n    if ((name = names[i])) {\n      sheet.registerName(id, name);\n    }\n  }\n};\n\nconst rehydrateSheetFromTag = (sheet: Sheet, style: HTMLStyleElement) => {\n  const parts = (style.textContent || '').split(SPLITTER);\n  const rules: string[] = [];\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    const part = parts[i].trim();\n    if (!part) continue;\n\n    const marker = part.match(MARKER_RE);\n\n    if (marker) {\n      const group = parseInt(marker[1], 10) | 0;\n      const id = marker[2];\n\n      if (group !== 0) {\n        // Rehydrate componentId to group index mapping\n        setGroupForId(id, group);\n        // Rehydrate names and rules\n        // looks like: data-styled.g11[id=\"idA\"]{content:\"nameA,\"}\n        rehydrateNamesFromContent(sheet, id, marker[3]);\n        sheet.getTag().insertRules(group, rules);\n      }\n\n      rules.length = 0;\n    } else {\n      rules.push(part);\n    }\n  }\n};\n\nexport const rehydrateSheet = (sheet: Sheet) => {\n  const nodes = document.querySelectorAll(SELECTOR);\n\n  for (let i = 0, l = nodes.length; i < l; i++) {\n    const node = ((nodes[i]: any): HTMLStyleElement);\n    if (node && node.getAttribute(SC_ATTR) !== SC_ATTR_ACTIVE) {\n      rehydrateSheetFromTag(sheet, node);\n\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n};\n","// @flow\n/* eslint-disable camelcase, no-undef */\n\ndeclare var window: { __webpack_nonce__: string };\n\nconst getNonce = () => {\n\n  return typeof window !== 'undefined'\n    ? typeof window.__webpack_nonce__ !== 'undefined'\n      ? window.__webpack_nonce__\n      : null\n    : null;\n};\n\nexport default getNonce;\n","// @flow\n\nimport { SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport getNonce from '../utils/nonce';\nimport throwStyledError from '../utils/error';\n\nconst ELEMENT_TYPE = 1; /* Node.ELEMENT_TYPE */\n\n/** Find last style element if any inside target */\nconst findLastStyleTag = (target: HTMLElement): void | HTMLStyleElement => {\n  const { childNodes } = target;\n\n  for (let i = childNodes.length; i >= 0; i--) {\n    const child = ((childNodes[i]: any): ?HTMLElement);\n    if (child && child.nodeType === ELEMENT_TYPE && child.hasAttribute(SC_ATTR)) {\n      return ((child: any): HTMLStyleElement);\n    }\n  }\n\n  return undefined;\n};\n\n/** Create a style element inside `target` or <head> after the last */\nexport const makeStyleTag = (target?: HTMLElement): HTMLStyleElement => {\n  const head = ((document.head: any): HTMLElement);\n  const parent = target || head;\n  const style = document.createElement('style');\n  const prevStyle = findLastStyleTag(parent);\n  const nextSibling = prevStyle !== undefined ? prevStyle.nextSibling : null;\n\n  style.setAttribute(SC_ATTR, SC_ATTR_ACTIVE);\n  style.setAttribute(SC_ATTR_VERSION, SC_VERSION);\n\n  const nonce = getNonce();\n\n  if (nonce) style.setAttribute('nonce', nonce);\n\n  parent.insertBefore(style, nextSibling);\n\n  return style;\n};\n\n/** Get the CSSStyleSheet instance for a given style element */\nexport const getSheet = (tag: HTMLStyleElement): CSSStyleSheet => {\n  if (tag.sheet) {\n    return ((tag.sheet: any): CSSStyleSheet);\n  }\n\n  // Avoid Firefox quirk where the style element might not have a sheet property\n  const { styleSheets } = document;\n  for (let i = 0, l = styleSheets.length; i < l; i++) {\n    const sheet = styleSheets[i];\n    if (sheet.ownerNode === tag) {\n      return ((sheet: any): CSSStyleSheet);\n    }\n  }\n\n  throwStyledError(17);\n  return (undefined: any);\n};\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport { makeStyleTag, getSheet } from './dom';\nimport type { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions): Tag => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport class TextTag implements Tag {\n  element: HTMLStyleElement;\n\n  nodes: NodeList<Node>;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n}\n","// @flow\nimport { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport type { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean,\n  useCSSOMInjection?: boolean,\n  target?: HTMLElement,\n};\n\ntype GlobalStylesAllocationMap = { [key: string]: number };\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n\n  names: NamesAllocationMap;\n\n  options: SheetOptions;\n\n  server: boolean;\n\n  tag: void | GroupedTag;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT,\n    globalStyles?: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names);\n    this.server = !!options.isServer;\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.server && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames?: boolean = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag(): GroupedTag {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id): any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id): any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id): any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  toString(): string {\n    return outputSheet(this);\n  }\n}\n","// @flow\n/* eslint-disable no-bitwise */\n\nconst AD_REPLACER_R = /(a)(d)/gi;\n\n/* This is the \"capacity\" of our alphabet i.e. 2x26 for all letters plus their capitalised\n * counterparts */\nconst charsLength = 52;\n\n/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */\nconst getAlphabeticChar = (code: number): string =>\n  String.fromCharCode(code + (code > 25 ? 39 : 97));\n\n/* input a number, usually a hash and convert it to base-52 */\nexport default function generateAlphabeticName(code: number): string {\n  let name = '';\n  let x;\n\n  /* get a char and divide by alphabet-length */\n  for (x = Math.abs(code); x > charsLength; x = (x / charsLength) | 0) {\n    name = getAlphabeticChar(x % charsLength) + name;\n  }\n\n  return (getAlphabeticChar(x % charsLength) + name).replace(AD_REPLACER_R, '$1-$2');\n}\n","// @flow\n/* eslint-disable */\n\nexport const SEED = 5381;\n\n// When we have separate strings it's useful to run a progressive\n// version of djb2 where we pretend that we're still looping over\n// the same string\nexport const phash = (h: number, x: string): number => {\n  let i = x.length;\n\n  while (i) {\n    h = (h * 33) ^ x.charCodeAt(--i);\n  }\n\n  return h;\n};\n\n// This is a djb2 hashing function\nexport const hash = (x: string): number => {\n  return phash(SEED, x);\n};\n","// @flow\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\nimport type { RuleSet } from '../types';\n\nexport default function isStaticRules(rules: RuleSet): boolean {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","// @flow\nimport { SC_VERSION } from '../constants';\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport generateName from '../utils/generateAlphabeticName';\nimport { hash, phash } from '../utils/hash';\nimport isStaticRules from '../utils/isStaticRules';\n\nconst SEED = hash(SC_VERSION);\n\n/**\n * ComponentStyle is all the CSS-specific stuff, not the React-specific stuff.\n */\nexport default class ComponentStyle {\n  baseHash: number;\n\n  baseStyle: ?ComponentStyle;\n\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  staticRulesId: string;\n\n  constructor(rules: RuleSet, componentId: string, baseStyle?: ComponentStyle) {\n    this.rules = rules;\n    this.staticRulesId = '';\n    this.isStatic = process.env.NODE_ENV === 'production' &&\n      (baseStyle === undefined || baseStyle.isStatic) &&\n      isStaticRules(rules);\n    this.componentId = componentId;\n\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    this.baseHash = phash(SEED, componentId);\n\n    this.baseStyle = baseStyle;\n\n    // NOTE: This registers the componentId, which ensures a consistent order\n    // for this component's styles compared to others\n    StyleSheet.registerId(componentId);\n  }\n\n  /*\n   * Flattens a rule set into valid CSS\n   * Hashes it, wraps the whole chunk in a .hash1234 {}\n   * Returns the hash to be injected on render()\n   * */\n  generateAndInjectStyles(executionContext: Object, styleSheet: StyleSheet, stylis: Stringifier) {\n    const { componentId } = this;\n\n    const names = [];\n\n    if (this.baseStyle) {\n      names.push(this.baseStyle.generateAndInjectStyles(executionContext, styleSheet, stylis));\n    }\n\n    // force dynamic classnames if user-supplied stylis plugins are in use\n    if (this.isStatic && !stylis.hash) {\n      if (this.staticRulesId && styleSheet.hasNameForId(componentId, this.staticRulesId)) {\n        names.push(this.staticRulesId);\n      } else {\n        const cssStatic = flatten(this.rules, executionContext, styleSheet, stylis).join('');\n        const name = generateName(phash(this.baseHash, cssStatic) >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssStaticFormatted = stylis(cssStatic, `.${name}`, undefined, componentId);\n\n          styleSheet.insertRules(componentId, name, cssStaticFormatted);\n        }\n\n        names.push(name);\n        this.staticRulesId = name;\n      }\n    } else {\n      const { length } = this.rules;\n      let dynamicHash = phash(this.baseHash, stylis.hash);\n      let css = '';\n\n      for (let i = 0; i < length; i++) {\n        const partRule = this.rules[i];\n\n        if (typeof partRule === 'string') {\n          css += partRule;\n\n          if (process.env.NODE_ENV !== 'production') dynamicHash = phash(dynamicHash, partRule + i);\n        } else if (partRule) {\n          const partChunk = flatten(partRule, executionContext, styleSheet, stylis);\n          const partString = Array.isArray(partChunk) ? partChunk.join('') : partChunk;\n          dynamicHash = phash(dynamicHash, partString + i);\n          css += partString;\n        }\n      }\n\n      if (css) {\n        const name = generateName(dynamicHash >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssFormatted = stylis(css, `.${name}`, undefined, componentId);\n          styleSheet.insertRules(componentId, name, cssFormatted);\n        }\n\n        names.push(name);\n      }\n    }\n\n    return names.join(' ');\n  }\n}\n","import Stylis from '@emotion/stylis';\nimport { type Stringifier } from '../types';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from './empties';\nimport throwStyledError from './error';\nimport { phash, SEED } from './hash';\nimport insertRulePlugin from './stylisPluginInsertRule';\n\nconst COMMENT_REGEX = /^\\s*\\/\\/.*$/gm;\nconst COMPLEX_SELECTOR_PREFIX = [':', '[', '.', '#'];\n\ntype StylisInstanceConstructorArgs = {\n  options?: Object,\n  plugins?: Array<Function>,\n};\n\nexport default function createStylisInstance({\n  options = EMPTY_OBJECT,\n  plugins = EMPTY_ARRAY,\n}: StylisInstanceConstructorArgs = EMPTY_OBJECT) {\n  const stylis = new Stylis(options);\n\n  // Wrap `insertRulePlugin to build a list of rules,\n  // and then make our own plugin to return the rules. This\n  // makes it easier to hook into the existing SSR architecture\n\n  let parsingRules = [];\n\n  // eslint-disable-next-line consistent-return\n  const returnRulesPlugin = context => {\n    if (context === -2) {\n      const parsedRules = parsingRules;\n      parsingRules = [];\n      return parsedRules;\n    }\n  };\n\n  const parseRulesPlugin = insertRulePlugin(rule => {\n    parsingRules.push(rule);\n  });\n\n  let _componentId: string;\n  let _selector: string;\n  let _selectorRegexp: RegExp;\n  let _consecutiveSelfRefRegExp: RegExp;\n\n  const selfReferenceReplacer = (match, offset, string) => {\n    if (\n      // do not replace the first occurrence if it is complex (has a modifier)\n      (offset === 0 ? COMPLEX_SELECTOR_PREFIX.indexOf(string[_selector.length]) === -1 : true) &&\n      // no consecutive self refs (.b.b); that is a precedence boost and treated differently\n      !string.match(_consecutiveSelfRefRegExp)\n    ) {\n      return `.${_componentId}`;\n    }\n\n    return match;\n  };\n\n  /**\n   * When writing a style like\n   *\n   * & + & {\n   *   color: red;\n   * }\n   *\n   * The second ampersand should be a reference to the static component class. stylis\n   * has no knowledge of static class so we have to intelligently replace the base selector.\n   *\n   * https://github.com/thysultan/stylis.js/tree/v3.5.4#plugins <- more info about the context phase values\n   * \"2\" means this plugin is taking effect at the very end after all other processing is complete\n   */\n  const selfReferenceReplacementPlugin = (context, _, selectors) => {\n    if (context === 2 && selectors.length && selectors[0].lastIndexOf(_selector) > 0) {\n      // eslint-disable-next-line no-param-reassign\n      selectors[0] = selectors[0].replace(_selectorRegexp, selfReferenceReplacer);\n    }\n  };\n\n  stylis.use([...plugins, selfReferenceReplacementPlugin, parseRulesPlugin, returnRulesPlugin]);\n\n  function stringifyRules(css, selector, prefix, componentId = '&'): Stringifier {\n    const flatCSS = css.replace(COMMENT_REGEX, '');\n    const cssStr = selector && prefix ? `${prefix} ${selector} { ${flatCSS} }` : flatCSS;\n\n    // stylis has no concept of state to be passed to plugins\n    // but since JS is single-threaded, we can rely on that to ensure\n    // these properties stay in sync with the current stylis run\n    _componentId = componentId;\n    _selector = selector;\n    _selectorRegexp = new RegExp(`\\\\${_selector}\\\\b`, 'g');\n    _consecutiveSelfRefRegExp = new RegExp(`(\\\\${_selector}\\\\b){2,}`);\n\n    return stylis(prefix || !selector ? '' : selector, cssStr);\n  }\n\n  stringifyRules.hash = plugins.length\n    ? plugins\n        .reduce((acc, plugin) => {\n          if (!plugin.name) {\n            throwStyledError(15);\n          }\n\n          return phash(acc, plugin.name);\n        }, SEED)\n        .toString()\n    : '';\n\n  return stringifyRules;\n}\n","/**\n * MIT License\n *\n * Copyright (c) 2016 Sultan Tarimo\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n * IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n/* eslint-disable */\n\nexport default function(insertRule) {\n  const delimiter = '/*|*/';\n  const needle = `${delimiter}}`;\n\n  function toSheet(block) {\n    if (block) {\n      try {\n        insertRule(`${block}}`);\n      } catch (e) {}\n    }\n  }\n\n  return function ruleSheet(\n    context,\n    content,\n    selectors,\n    parents,\n    line,\n    column,\n    length,\n    ns,\n    depth,\n    at\n  ) {\n    switch (context) {\n      // property\n      case 1:\n        // @import\n        if (depth === 0 && content.charCodeAt(0) === 64) return insertRule(`${content};`), '';\n        break;\n      // selector\n      case 2:\n        if (ns === 0) return content + delimiter;\n        break;\n      // at-rule\n      case 3:\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            return insertRule(selectors[0] + content), '';\n          default:\n            return content + (at === 0 ? delimiter : '');\n        }\n      case -2:\n        content.split(needle).forEach(toSheet);\n    }\n  };\n}\n","// @flow\nimport React, { type Context, type Node, useContext, useEffect, useMemo, useState } from 'react';\nimport shallowequal from 'shallowequal';\nimport StyleSheet from '../sheet';\nimport type { Stringifier } from '../types';\nimport createStylisInstance from '../utils/stylis';\n\ntype Props = {\n  children?: Node,\n  disableCSSOMInjection?: boolean,\n  disableVendorPrefixes?: boolean,\n  sheet?: StyleSheet,\n  stylisPlugins?: Array<Function>,\n  target?: HTMLElement,\n};\n\nexport const StyleSheetContext: Context<StyleSheet | void> = React.createContext();\nexport const StyleSheetConsumer = StyleSheetContext.Consumer;\nexport const StylisContext: Context<Stringifier | void> = React.createContext();\nexport const StylisConsumer = StylisContext.Consumer;\n\nexport const masterSheet: StyleSheet = new StyleSheet();\nexport const masterStylis: Stringifier = createStylisInstance();\n\nexport function useStyleSheet(): StyleSheet {\n  return useContext(StyleSheetContext) || masterSheet;\n}\n\nexport function useStylis(): Stringifier {\n  return useContext(StylisContext) || masterStylis;\n}\n\nexport default function StyleSheetManager(props: Props) {\n  const [plugins, setPlugins] = useState(props.stylisPlugins);\n  const contextStyleSheet = useStyleSheet();\n\n  const styleSheet = useMemo(() => {\n    let sheet = contextStyleSheet;\n\n    if (props.sheet) {\n      // eslint-disable-next-line prefer-destructuring\n      sheet = props.sheet;\n    } else if (props.target) {\n      sheet = sheet.reconstructWithOptions({ target: props.target }, false);\n    }\n\n    if (props.disableCSSOMInjection) {\n      sheet = sheet.reconstructWithOptions({ useCSSOMInjection: false });\n    }\n\n    return sheet;\n  }, [props.disableCSSOMInjection, props.sheet, props.target]);\n\n  const stylis = useMemo(\n    () =>\n      createStylisInstance({\n        options: { prefix: !props.disableVendorPrefixes },\n        plugins,\n      }),\n    [props.disableVendorPrefixes, plugins]\n  );\n\n  useEffect(() => {\n    if (!shallowequal(plugins, props.stylisPlugins)) setPlugins(props.stylisPlugins);\n  }, [props.stylisPlugins]);\n\n  return (\n    <StyleSheetContext.Provider value={styleSheet}>\n      <StylisContext.Provider value={stylis}>\n        {process.env.NODE_ENV !== 'production'\n          ? React.Children.only(props.children)\n          : props.children}\n      </StylisContext.Provider>\n    </StyleSheetContext.Provider>\n  );\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport { type Stringifier } from '../types';\nimport throwStyledError from '../utils/error';\nimport { masterStylis } from './StyleSheetManager';\n\nexport default class Keyframes {\n  id: string;\n\n  name: string;\n\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = masterStylis) => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  toString = () => {\n    return throwStyledError(12, String(this.name));\n  };\n\n  getName(stylisInstance: Stringifier = masterStylis) {\n    return this.name + stylisInstance.hash;\n  }\n}\n","// @flow\n\n/**\n * inlined version of\n * https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/hyphenateStyleName.js\n */\n\nconst uppercaseCheck = /([A-Z])/;\nconst uppercasePattern = /([A-Z])/g;\nconst msPattern = /^ms-/;\nconst prefixAndLowerCase = (char: string): string => `-${char.toLowerCase()}`;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nexport default function hyphenateStyleName(string: string): string {\n  return uppercaseCheck.test(string)\n  ? string\n    .replace(uppercasePattern, prefixAndLowerCase)\n    .replace(msPattern, '-ms-')\n  : string;\n}\n","// @flow\nimport { isElement } from 'react-is';\nimport getComponentName from './getComponentName';\nimport isFunction from './isFunction';\nimport isStatelessFunction from './isStatelessFunction';\nimport isPlainObject from './isPlainObject';\nimport isStyledComponent from './isStyledComponent';\nimport Keyframes from '../models/Keyframes';\nimport hyphenate from './hyphenateStyleName';\nimport addUnitIfNeeded from './addUnitIfNeeded';\nimport { type Stringifier } from '../types';\n\n/**\n * It's falsish not falsy because 0 is allowed.\n */\nconst isFalsish = chunk => chunk === undefined || chunk === null || chunk === false || chunk === '';\n\nexport const objToCssArray = (obj: Object, prevKey?: string): Array<string | Function> => {\n  const rules = [];\n\n  for (const key in obj) {\n    if (!obj.hasOwnProperty(key) || isFalsish(obj[key])) continue;\n\n    if ((Array.isArray(obj[key]) && obj[key].isCss) || isFunction(obj[key])) {\n      rules.push(`${hyphenate(key)}:`, obj[key], ';');\n    } else if (isPlainObject(obj[key])) {\n      rules.push(...objToCssArray(obj[key], key));\n    } else {\n      rules.push(`${hyphenate(key)}: ${addUnitIfNeeded(key, obj[key])};`);\n    }\n  }\n\n  return prevKey ? [`${prevKey} {`, ...rules, '}'] : rules;\n};\n\nexport default function flatten(\n  chunk: any,\n  executionContext: ?Object,\n  styleSheet: ?Object,\n  stylisInstance: ?Stringifier\n): any {\n  if (Array.isArray(chunk)) {\n    const ruleSet = [];\n\n    for (let i = 0, len = chunk.length, result; i < len; i += 1) {\n      result = flatten(chunk[i], executionContext, styleSheet, stylisInstance);\n\n      if (result === '') continue;\n      else if (Array.isArray(result)) ruleSet.push(...result);\n      else ruleSet.push(result);\n    }\n\n    return ruleSet;\n  }\n\n  if (isFalsish(chunk)) {\n    return '';\n  }\n\n  /* Handle other components */\n  if (isStyledComponent(chunk)) {\n    return `.${chunk.styledComponentId}`;\n  }\n\n  /* Either execute or defer the function */\n  if (isFunction(chunk)) {\n    if (isStatelessFunction(chunk) && executionContext) {\n      const result = chunk(executionContext);\n\n      if (process.env.NODE_ENV !== 'production' && isElement(result)) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `${getComponentName(\n            chunk\n          )} is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.`\n        );\n      }\n\n      return flatten(result, executionContext, styleSheet, stylisInstance);\n    } else return chunk;\n  }\n\n  if (chunk instanceof Keyframes) {\n    if (styleSheet) {\n      chunk.inject(styleSheet, stylisInstance);\n      return chunk.getName(stylisInstance);\n    } else return chunk;\n  }\n\n  /* Handle objects */\n  return isPlainObject(chunk) ? objToCssArray(chunk) : chunk.toString();\n}\n","// @flow\nexport default function isStatelessFunction(test: any): boolean {\n  return (\n    typeof test === 'function'\n    && !(\n      test.prototype\n      && test.prototype.isReactComponent\n    )\n  );\n}\n","// @flow\nimport unitless from '@emotion/unitless';\n\n// Taken from https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/dangerousStyleValue.js\nexport default function addUnitIfNeeded(name: string, value: any): any {\n  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133\n  // $FlowFixMe\n  if (value == null || typeof value === 'boolean' || value === '') {\n    return '';\n  }\n\n  if (typeof value === 'number' && value !== 0 && !(name in unitless)) {\n    return `${value}px`; // Presumes implicit 'px' suffix for unitless numbers\n  }\n\n  return String(value).trim();\n}\n","// @flow\nimport interleave from '../utils/interleave';\nimport isPlainObject from '../utils/isPlainObject';\nimport { EMPTY_ARRAY } from '../utils/empties';\nimport isFunction from '../utils/isFunction';\nimport flatten from '../utils/flatten';\nimport type { Interpolation, RuleSet, Styles } from '../types';\n\n/**\n * Used when flattening object styles to determine if we should\n * expand an array of styles.\n */\nconst addTag = arg => {\n  if (Array.isArray(arg)) {\n    // eslint-disable-next-line no-param-reassign\n    arg.isCss = true;\n  }\n  return arg;\n};\n\nexport default function css(styles: Styles, ...interpolations: Array<Interpolation>): RuleSet {\n  if (isFunction(styles) || isPlainObject(styles)) {\n    // $FlowFixMe\n    return addTag(flatten(interleave(EMPTY_ARRAY, [styles, ...interpolations])));\n  }\n\n  if (interpolations.length === 0 && styles.length === 1 && typeof styles[0] === 'string') {\n    // $FlowFixMe\n    return styles;\n  }\n\n  // $FlowFixMe\n  return addTag(flatten(interleave(styles, interpolations)));\n}\n","// @flow\n\nimport { useRef } from 'react';\n\nconst invalidHookCallRe = /invalid hook call/i;\nconst seen = new Set();\n\nexport const checkDynamicCreation = (displayName: string, componentId?: string) => {\n  if (process.env.NODE_ENV !== 'production') {\n    const parsedIdString = componentId ? ` with the id of \"${componentId}\"` : '';\n    const message =\n      `The component ${displayName}${parsedIdString} has been created dynamically.\\n` +\n      \"You may see this warning because you've called styled inside another component.\\n\" +\n      'To resolve this only create new StyledComponents outside of any render method and function component.';\n\n    // If a hook is called outside of a component:\n    // React 17 and earlier throw an error\n    // React 18 and above use console.error\n\n    const originalConsoleError = console.error // eslint-disable-line no-console\n    try {\n      let didNotCallInvalidHook = true\n      /* $FlowIgnore[cannot-write] */\n      console.error = (consoleErrorMessage, ...consoleErrorArgs) => { // eslint-disable-line no-console\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n        if (invalidHookCallRe.test(consoleErrorMessage)) {\n          didNotCallInvalidHook = false\n          // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n          seen.delete(message);\n        } else {\n          originalConsoleError(consoleErrorMessage, ...consoleErrorArgs);\n        }\n      }\n      // We purposefully call `useRef` outside of a component and expect it to throw\n      // If it doesn't, then we're inside another component.\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useRef();\n\n      if (didNotCallInvalidHook && !seen.has(message)) {\n        // eslint-disable-next-line no-console\n        console.warn(message);\n        seen.add(message);\n      }\n    } catch (error) {\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n      if (invalidHookCallRe.test(error.message)) {\n        // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n        seen.delete(message);\n      }\n    } finally {\n      /* $FlowIgnore[cannot-write] */\n      console.error = originalConsoleError; // eslint-disable-line no-console\n    }\n  }\n};\n","// @flow\nimport { EMPTY_OBJECT } from './empties';\n\ntype Props = {\n  theme?: any,\n};\n\nexport default (props: Props, providedTheme: any, defaultProps: any = EMPTY_OBJECT) => {\n  return (props.theme !== defaultProps.theme && props.theme) || providedTheme || defaultProps.theme;\n};\n","// @flow\n\n// Source: https://www.w3.org/TR/cssom-1/#serialize-an-identifier\n// Control characters and non-letter first symbols are not supported\nconst escapeRegex = /[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g;\n\nconst dashesAtEnds = /(^-|-$)/g;\n\n/**\n * TODO: Explore using CSS.escape when it becomes more available\n * in evergreen browsers.\n */\nexport default function escape(str: string): string {\n  return (\n    str\n      // Replace all possible CSS selectors\n      .replace(escapeRegex, '-')\n\n      // Remove extraneous hyphens at the start and end\n      .replace(dashesAtEnds, '')\n  );\n}\n","// @flow\n/* eslint-disable */\nimport generateAlphabeticName from './generateAlphabeticName';\nimport { hash } from './hash';\n\nexport default (str: string): string => {\n  return generateAlphabeticName(hash(str) >>> 0);\n};\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function isTag(target: $PropertyType<IStyledComponent, 'target'>): boolean %checks {\n  return (\n    typeof target === 'string' &&\n    (process.env.NODE_ENV !== 'production'\n      ? target.charAt(0) === target.charAt(0).toLowerCase()\n      : true)\n  );\n}\n","/* eslint-disable */\n/**\n  mixin-deep; https://github.com/jonschlinkert/mixin-deep\n  Inlined such that it will be consistently transpiled to an IE-compatible syntax.\n\n  The MIT License (MIT)\n\n  Copyright (c) 2014-present, Jon Schlinkert.\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\nconst isObject = val => {\n  return (\n    typeof val === 'function' || (typeof val === 'object' && val !== null && !Array.isArray(val))\n  );\n};\n\nconst isValidKey = key => {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\nfunction mixin(target, val, key) {\n  const obj = target[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    target[key] = val;\n  }\n}\n\nexport default function mixinDeep(target, ...rest) {\n  for (const obj of rest) {\n    if (isObject(obj)) {\n      for (const key in obj) {\n        if (isValidKey(key)) {\n          mixin(target, obj[key], key);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n","// @flow\nimport React, { useContext, useMemo, type Element, type Context } from 'react';\nimport throwStyledError from '../utils/error';\nimport isFunction from '../utils/isFunction';\n\nexport type Theme = { [key: string]: mixed };\n\ntype ThemeArgument = Theme | ((outerTheme?: Theme) => Theme);\n\ntype Props = {\n  children?: Element<any>,\n  theme: ThemeArgument,\n};\n\nexport const ThemeContext: Context<Theme | void> = React.createContext();\n\nexport const ThemeConsumer = ThemeContext.Consumer;\n\nfunction mergeTheme(theme: ThemeArgument, outerTheme?: Theme): Theme {\n  if (!theme) {\n    return throwStyledError(14);\n  }\n\n  if (isFunction(theme)) {\n    const mergedTheme = theme(outerTheme);\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')\n    ) {\n      return throwStyledError(7);\n    }\n\n    return mergedTheme;\n  }\n\n  if (Array.isArray(theme) || typeof theme !== 'object') {\n    return throwStyledError(8);\n  }\n\n  return outerTheme ? { ...outerTheme, ...theme } : theme;\n}\n\n/**\n * Provide a theme to an entire react component tree via context\n */\nexport default function ThemeProvider(props: Props) {\n  const outerTheme = useContext(ThemeContext);\n  const themeContext = useMemo(() => mergeTheme(props.theme, outerTheme), [\n    props.theme,\n    outerTheme,\n  ]);\n\n  if (!props.children) {\n    return null;\n  }\n\n  return <ThemeContext.Provider value={themeContext}>{props.children}</ThemeContext.Provider>;\n}\n","// @flow\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\nimport React, { createElement, type Ref, useContext, useDebugValue } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  Attrs,\n  IStyledComponent,\n  IStyledStatics,\n  RuleSet,\n  ShouldForwardProp,\n  Target,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport getComponentName from '../utils/getComponentName';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport joinStrings from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheet, useStylis } from './StyleSheetManager';\nimport { ThemeContext } from './ThemeProvider';\n\nconst identifiers = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(displayName?: string, parentComponentId?: string) {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useResolvedAttrs<Config>(theme: any = EMPTY_OBJECT, props: Config, attrs: Attrs) {\n  // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n  const context = { ...props, theme };\n  const resolvedAttrs = {};\n\n  attrs.forEach(attrDef => {\n    let resolvedAttrDef = attrDef;\n    let key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n\n    /* eslint-disable guard-for-in */\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] =\n        key === 'className'\n          ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key])\n          : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n  });\n\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle<T>(\n  componentStyle: ComponentStyle,\n  isStatic: boolean,\n  resolvedAttrs: T,\n  warnTooManyClasses?: $Call<typeof createWarnTooManyClasses, string, string>\n) {\n  const styleSheet = useStyleSheet();\n  const stylis = useStylis();\n\n  const className = isStatic\n    ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis)\n    : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(className);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(\n  forwardedComponent: IStyledComponent,\n  props: Object,\n  forwardedRef: Ref<any>,\n  isStatic: boolean\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    shouldForwardProp,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(styledComponentId);\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  const [context, attrs] = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs);\n\n  const generatedClassName = useInjectedStyle(\n    componentStyle,\n    isStatic,\n    context,\n    process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined\n  );\n\n  const refToForward = forwardedRef;\n\n  const elementToBeCreated: Target = attrs.$as || props.$as || attrs.as || props.as || target;\n\n  const isTargetTag = isTag(elementToBeCreated);\n  const computedProps = attrs !== props ? { ...props, ...attrs } : props;\n  const propsForElement = {};\n\n  // eslint-disable-next-line guard-for-in\n  for (const key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;\n    else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (\n      shouldForwardProp\n        ? shouldForwardProp(key, validAttr, elementToBeCreated)\n        : isTargetTag\n        ? validAttr(key)\n        : true\n    ) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = { ...props.style, ...attrs.style };\n  }\n\n  propsForElement.className = Array.prototype\n    .concat(\n      foldedComponentIds,\n      styledComponentId,\n      generatedClassName !== styledComponentId ? generatedClassName : null,\n      props.className,\n      attrs.className\n    )\n    .filter(Boolean)\n    .join(' ');\n\n  propsForElement.ref = refToForward;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nexport default function createStyledComponent(\n  target: $PropertyType<IStyledComponent, 'target'>,\n  options: {\n    attrs?: Attrs,\n    componentId: string,\n    displayName?: string,\n    parentComponentId?: string,\n    shouldForwardProp?: ShouldForwardProp,\n  },\n  rules: RuleSet\n) {\n  const isTargetStyledComp = isStyledComponent(target);\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && ((target: any): IStyledComponent).attrs\n      ? Array.prototype.concat(((target: any): IStyledComponent).attrs, attrs).filter(Boolean)\n      : attrs;\n\n  // eslint-disable-next-line prefer-destructuring\n  let shouldForwardProp = options.shouldForwardProp;\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (options.shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, filterFn, elementToBeCreated) =>\n        ((((target: any): IStyledComponent).shouldForwardProp: any): ShouldForwardProp)(\n          prop,\n          filterFn,\n          elementToBeCreated\n        ) &&\n        ((options.shouldForwardProp: any): ShouldForwardProp)(prop, filterFn, elementToBeCreated);\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = ((target: any): IStyledComponent).shouldForwardProp;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? ((target: Object).componentStyle: ComponentStyle) : undefined\n  );\n\n  // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n  const isStatic = componentStyle.isStatic && attrs.length === 0;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent: IStyledComponent;\n\n  const forwardRef = (props, ref) =>\n    // eslint-disable-next-line\n    useStyledComponentImpl(WrappedStyledComponent, props, ref, isStatic);\n\n  forwardRef.displayName = displayName;\n\n  WrappedStyledComponent = ((React.forwardRef(forwardRef): any): IStyledComponent);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? Array.prototype.concat(\n        ((target: any): IStyledComponent).foldedComponentIds,\n        ((target: any): IStyledComponent).styledComponentId\n      )\n    : EMPTY_ARRAY;\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp\n    ? ((target: any): IStyledComponent).target\n    : target;\n\n  WrappedStyledComponent.withComponent = function withComponent(tag: Target) {\n    const { componentId: previousComponentId, ...optionsToCopy } = options;\n\n    const newComponentId =\n      previousComponentId &&\n      `${previousComponentId}-${isTag(tag) ? tag : escape(getComponentName(tag))}`;\n\n    const newOptions = {\n      ...optionsToCopy,\n      attrs: finalAttrs,\n      componentId: newComponentId,\n    };\n\n    return createStyledComponent(tag, newOptions, rules);\n  };\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, ((target: any): IStyledComponent).defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  WrappedStyledComponent.toString = () => `.${WrappedStyledComponent.styledComponentId}`;\n\n  if (isCompositeComponent) {\n    hoist<\n      IStyledStatics,\n      $PropertyType<IStyledComponent, 'target'>,\n      { [key: $Keys<IStyledStatics>]: true }\n    >(WrappedStyledComponent, ((target: any): $PropertyType<IStyledComponent, 'target'>), {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true,\n    });\n  }\n\n  return WrappedStyledComponent;\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\nimport getComponentName from './getComponentName';\nimport isTag from './isTag';\n\nexport default function generateDisplayName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return isTag(target) ? `styled.${target}` : `Styled(${getComponentName(target)})`;\n}\n","/**\n * Convenience function for joining strings to form className chains\n */\nexport default function joinStrings(a: ?String, b: ?String): ?String {\n  return a && b ? `${a} ${b}` : a || b;\n}\n","// @flow\n// Thanks to ReactDOMFactories for this handy list!\n\nexport default [\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'big',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'nav',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n\n  // SVG\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'foreignObject',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'marker',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'textPath',\n  'tspan',\n];\n","// @flow\nimport constructWithOptions from './constructWithOptions';\nimport StyledComponent from '../models/StyledComponent';\nimport domElements from '../utils/domElements';\n\nimport type { Target } from '../types';\n\nconst styled = (tag: Target) => constructWithOptions(StyledComponent, tag);\n\n// Shorthands for all valid HTML Elements\ndomElements.forEach(domElement => {\n  styled[domElement] = styled(domElement);\n});\n\nexport default styled;\n","// @flow\nimport { isValidElementType } from 'react-is';\nimport css from './css';\nimport throwStyledError from '../utils/error';\nimport { EMPTY_OBJECT } from '../utils/empties';\n\nimport type { Target } from '../types';\n\nexport default function constructWithOptions(\n  componentConstructor: Function,\n  tag: Target,\n  options: Object = EMPTY_OBJECT\n) {\n  if (!isValidElementType(tag)) {\n    return throwStyledError(1, String(tag));\n  }\n\n  /* This is callable directly as a template function */\n  // $FlowFixMe: Not typed to avoid destructuring arguments\n  const templateFunction = (...args) => componentConstructor(tag, options, css(...args));\n\n  /* If config methods are called, wrap up a new template function and merge options */\n  templateFunction.withConfig = config =>\n    constructWithOptions(componentConstructor, tag, { ...options, ...config });\n\n  /* Modify/inject new props at runtime */\n  templateFunction.attrs = attrs =>\n    constructWithOptions(componentConstructor, tag, {\n      ...options,\n      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean),\n    });\n\n  return templateFunction;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet, stylis);\n    const css = stylis(flatCSS.join(''), '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","// @flow\nimport React, { useContext, useLayoutEffect, useRef } from 'react';\nimport { STATIC_EXECUTION_CONTEXT } from '../constants';\nimport GlobalStyle from '../models/GlobalStyle';\nimport { useStyleSheet, useStylis } from '../models/StyleSheetManager';\nimport { ThemeContext } from '../models/ThemeProvider';\nimport type { Interpolation } from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport determineTheme from '../utils/determineTheme';\nimport generateComponentId from '../utils/generateComponentId';\nimport css from './css';\n\ndeclare var __SERVER__: boolean;\n\ntype GlobalStyleComponentPropsType = Object;\n\nexport default function createGlobalStyle(\n  strings: Array<string>,\n  ...interpolations: Array<Interpolation>\n) {\n  const rules = css(strings, ...interpolations);\n  const styledComponentId = `sc-global-${generateComponentId(JSON.stringify(rules))}`;\n  const globalStyle = new GlobalStyle(rules, styledComponentId);\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(styledComponentId);\n  }\n\n  function GlobalStyleComponent(props: GlobalStyleComponentPropsType) {\n    const styleSheet = useStyleSheet();\n    const stylis = useStylis();\n    const theme = useContext(ThemeContext);\n    const instanceRef = useRef(styleSheet.allocateGSInstance(styledComponentId));\n\n    const instance = instanceRef.current;\n\n    if (process.env.NODE_ENV !== 'production' && React.Children.count(props.children)) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `The global style component ${styledComponentId} was given child JSX. createGlobalStyle does not render children.`\n      );\n    }\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      rules.some(rule => typeof rule === 'string' && rule.indexOf('@import') !== -1)\n    ) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app.`\n      );\n    }\n\n    if (styleSheet.server) {\n      renderStyles(instance, props, styleSheet, theme, stylis);\n    }\n\n    if (!__SERVER__) {\n      // this conditional is fine because it is compiled away for the relevant builds during minification,\n      // resulting in a single unguarded hook call\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useLayoutEffect(() => {\n        if (!styleSheet.server) {\n          renderStyles(instance, props, styleSheet, theme, stylis);\n          return () => globalStyle.removeStyles(instance, styleSheet);\n        }\n      }, [instance, props, styleSheet, theme, stylis]);\n    }\n\n    return null;\n  }\n\n  function renderStyles(instance, props, styleSheet, theme, stylis) {\n    if (globalStyle.isStatic) {\n      globalStyle.renderStyles(instance, STATIC_EXECUTION_CONTEXT, styleSheet, stylis);\n    } else {\n      const context = {\n        ...props,\n        theme: determineTheme(props, theme, GlobalStyleComponent.defaultProps),\n      };\n\n      globalStyle.renderStyles(instance, context, styleSheet, stylis);\n    }\n  }\n\n  // $FlowFixMe\n  return React.memo(GlobalStyleComponent);\n}\n","// @flow\n\nimport css from './css';\nimport generateComponentId from '../utils/generateComponentId';\nimport Keyframes from '../models/Keyframes';\n\nimport type { Interpolation, Styles } from '../types';\n\nexport default function keyframes(\n  strings: Styles,\n  ...interpolations: Array<Interpolation>\n): Keyframes {\n  /* Warning if you've used keyframes on React Native */\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative'\n  ) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      '`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.'\n    );\n  }\n\n  const rules = css(strings, ...interpolations).join('');\n  const name = generateComponentId(rules);\n  return new Keyframes(name, rules);\n}\n","// @flow\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport throwStyledError from '../utils/error';\nimport getNonce from '../utils/nonce';\nimport StyleSheet from '../sheet';\nimport StyleSheetManager from './StyleSheetManager';\n\ndeclare var __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  isStreaming: boolean;\n\n  instance: StyleSheet;\n\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    if (!css) return '';\n\n    const nonce = getNonce();\n    const attrs = [nonce && `nonce=\"${nonce}\"`, `${SC_ATTR}=\"true\"`, `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`];\n    const htmlAttr = attrs.filter(Boolean).join(' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any) {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props: any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // eslint-disable-next-line consistent-return\n  interleaveWithNodeStream(input: any) {\n    if (!__SERVER__ || IS_BROWSER) {\n      return throwStyledError(3);\n    } else if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      // eslint-disable-next-line global-require\n      const { Readable, Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer = new Transform({\n        transform: function appendStyleChunks(chunk, /* encoding */ _, callback) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = () => {\n    this.sealed = true;\n  };\n}\n","/**\n * Unit for grid column (px)\n */\nexport const COLUMN_UNIT = 80\n\n/**\n * Unit for grid gutter width (px)\n */\nexport const GUTTER_UNIT = 24\n\n// TODO: Grid definition with breakpoint\n\n/**\n * Calculate px occupied by the span of the columns with gutter gap\n *\n * @param span column span count\n */\nexport function columnSystem(span: number, column: number, gutter: number) {\n  return span * column + (span - 1) * gutter\n}\n","export const BORDER_RADIUS = {\n  /**\n   * : \n   */\n  none: 0,\n  /**\n   * : , 40px\n   */\n  4: 4,\n  /**\n   * : \n   */\n  8: 8,\n  /**\n   * : \n   */\n  16: 16,\n  /**\n   * : \n   */\n  24: 24,\n  /**\n   *  or  \n   *\n   * : \n   */\n  oval: 999999,\n} as const\n","import { COLUMN_UNIT, GUTTER_UNIT, columnSystem } from './grid'\n\nexport const HORIZONTAL_MIN_MARGIN = 72\n\nexport const BREAKPOINT = {\n  [6]: columnSystem(6, COLUMN_UNIT, GUTTER_UNIT) + HORIZONTAL_MIN_MARGIN * 2,\n  [8]: columnSystem(8, COLUMN_UNIT, GUTTER_UNIT) + HORIZONTAL_MIN_MARGIN * 2,\n  [10]: columnSystem(10, COLUMN_UNIT, GUTTER_UNIT) + HORIZONTAL_MIN_MARGIN * 2,\n  [12]: columnSystem(12, COLUMN_UNIT, GUTTER_UNIT) + HORIZONTAL_MIN_MARGIN * 2,\n} as const\n","export interface TypographyDescriptor {\n  readonly lineHeight: number\n  readonly fontSize: number\n}\n\nexport const TYPOGRAPHY_SIZE = {\n  12: {\n    fontSize: 12,\n    lineHeight: 20,\n  },\n  14: {\n    fontSize: 14,\n    lineHeight: 22,\n  },\n  16: {\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  20: {\n    fontSize: 20,\n    lineHeight: 28,\n  },\n  32: {\n    fontSize: 32,\n    lineHeight: 40,\n  },\n} as const\n\nexport const TYPOGRAPHY_WEIGHT = [\n  /**\n   * Regular font weight\n   *\n   * <font-weight-absolute> ~ 400\n   *\n   * It should be the **DEFAULT** weight\n   */\n  'regular',\n  /**\n   * Bolder than `regular` weight\n   *\n   * <font-weight-absolute> ~ 700\n   */\n  'bold',\n] as const\n\nexport const TYPOGRAPHY_VARIANT = [\n  /**\n   * Proportional font (which has the variable amount of horizontal space)\n   *\n   * It should be the **DEFAULT** variant\n   */\n  'proportional',\n  /**\n   * Monospaced font (which has the same amount of horizontal space)\n   */\n  'monospace',\n] as const\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\n\nfunction negation(a) {\n  return -a;\n}\n\nfunction addition(a, b) {\n  return a + b;\n}\n\nfunction subtraction(a, b) {\n  return a - b;\n}\n\nfunction multiplication(a, b) {\n  return a * b;\n}\n\nfunction division(a, b) {\n  return a / b;\n}\n\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\n\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\n\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\n\nvar defaultSymbols = {\n  symbols: {\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    }\n  }\n};\nvar defaultSymbolMap = defaultSymbols;\n\n// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found and no default was provided.\\n\\n\",\n  \"75\": \"important requires a valid style object, got a %s instead.\\n\\n\",\n  \"76\": \"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\\n\\n\",\n  \"77\": \"remToPx expects a value in \\\"rem\\\" but you provided it in \\\"%s\\\".\\n\\n\",\n  \"78\": \"base must be set in \\\"px\\\" or \\\"%\\\" but you set it in \\\"%s\\\".\\n\"\n};\n/**\n * super basic version of sprintf\n * @private\n */\n\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var a = args[0];\n  var b = [];\n  var c;\n\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\n\n\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n\n  function PolishedError(code) {\n    var _this;\n\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n\n    return _assertThisInitialized(_this);\n  }\n\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.\n\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultSymbolMap.symbols, additionalSymbols.symbols) : _extends({}, defaultSymbolMap.symbols);\n  return symbolMap;\n}\n\nfunction exec(operators, values) {\n  var _ref;\n\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\n\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" + // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  }) // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  }) // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n\n  do {\n    match = pattern.exec(expression);\n\n    var _ref2 = match || [')', undefined],\n        token = _ref2[0],\n        bad = _ref2[1];\n\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:\n\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n\n\n      afterValue = curr.notation === 'postfix';\n\n      if (curr.symbol !== ')') {\n        operators.push(curr); // Postfix always has precedence over any operator that follows after it\n\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\n\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\n\n\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same\n\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n/**\n * Fetches the value of a passed CSS Variable in the :root scope, or otherwise returns a defaultValue if provided.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\n\nfunction cssVar(cssVariable, defaultValue) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    throw new PolishedError(73);\n  }\n\n  var variableValue;\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else if (defaultValue) {\n    return defaultValue;\n  }\n\n  throw new PolishedError(74);\n}\n\n// @private\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap$1 = ['Top', 'Right', 'Bottom', 'Left'];\n\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\n\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap$1[i])] = valuesWithDefaults[i];\n    }\n  }\n\n  return styles;\n}\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  //  prettier-ignore\n  var firstValue = values[0],\n      _values$ = values[1],\n      secondValue = _values$ === void 0 ? firstValue : _values$,\n      _values$2 = values[2],\n      thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n      _values$3 = values[3],\n      fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n\n/**\n * Check if a string ends with something\n * @private\n */\nfunction endsWith(string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\n\nfunction stripUnit(value) {\n  if (typeof value !== 'string') return value;\n  var matchedValue = value.match(cssRegex$1);\n  return matchedValue ? parseFloat(value) : value;\n}\n\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\n\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n\n    var newPxval = pxval;\n    var newBase = base;\n\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n\n      newPxval = stripUnit(pxval);\n    }\n\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n\n      newBase = stripUnit(base);\n    }\n\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n\n    return \"\" + newPxval / newBase + to;\n  };\n};\n\nvar pixelsto = pxtoFactory;\n\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\n\nvar em = /*#__PURE__*/pixelsto('em');\nvar em$1 = em;\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\n\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\n/**\n * Helper for targeting rules in a style block generated by polished modules that need !important-level specificity. Can optionally specify a rule (or rules) to target specific rules.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...important(cover())\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${important(cover())}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute !important',\n *   'top': '0 !important',\n *   'right: '0 !important',\n *   'bottom': '0 !important',\n *   'left: '0 !important'\n * }\n */\n\nfunction important(styleBlock, rules) {\n  if (typeof styleBlock !== 'object' || styleBlock === null) {\n    throw new PolishedError(75, typeof styleBlock);\n  }\n\n  var newStyleBlock = {};\n  Object.keys(styleBlock).forEach(function (key) {\n    if (typeof styleBlock[key] === 'object' && styleBlock[key] !== null) {\n      newStyleBlock[key] = important(styleBlock[key], rules);\n    } else if (!rules || rules && (rules === key || rules.indexOf(key) >= 0)) {\n      newStyleBlock[key] = styleBlock[key] + \" !important\";\n    } else {\n      newStyleBlock[key] = styleBlock[key];\n    }\n  });\n  return newStyleBlock;\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\n\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\n\n\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n      realBase = _ref[0],\n      unit = _ref[1];\n\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\n\nvar rem = /*#__PURE__*/pixelsto('rem');\nvar rem$1 = rem;\n\nvar defaultFontSize = 16;\n\nfunction convertBase(base) {\n  var deconstructedValue = getValueAndUnit(base);\n\n  if (deconstructedValue[1] === 'px') {\n    return parseFloat(base);\n  }\n\n  if (deconstructedValue[1] === '%') {\n    return parseFloat(base) / 100 * defaultFontSize;\n  }\n\n  throw new PolishedError(78, deconstructedValue[1]);\n}\n\nfunction getBaseFromDoc() {\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    var rootFontSize = getComputedStyle(document.documentElement).fontSize;\n    return rootFontSize ? convertBase(rootFontSize) : defaultFontSize;\n  }\n  /* eslint-enable */\n\n  /* istanbul ignore next */\n\n\n  return defaultFontSize;\n}\n/**\n * Convert rem values to px. By default, the base value is pulled from the font-size property on the root element (if it is set in % or px). It defaults to 16px if not found on the root. You can also override the base value by providing your own base in % or px.\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': remToPx('1.6rem')\n *   'height': remToPx('1.6rem', '10px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${remToPx('1.6rem')}\n *   height: ${remToPx('1.6rem', '10px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '25.6px',\n *   'height': '16px',\n * }\n */\n\n\nfunction remToPx(value, base) {\n  var deconstructedValue = getValueAndUnit(value);\n\n  if (deconstructedValue[1] !== 'rem' && deconstructedValue[1] !== '') {\n    throw new PolishedError(77, deconstructedValue[1]);\n  }\n\n  var newBase = base ? convertBase(base) : getBaseFromDoc();\n  return deconstructedValue[0] * newBase + \"px\";\n}\n\nvar functionsMap$3 = {\n  back: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  circ: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  cubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  expo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  quad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  quart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  quint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  sine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeIn('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeIn('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\nfunction easeIn(functionName) {\n  return functionsMap$3[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$2 = {\n  back: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  circ: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  cubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  expo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  quad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  quart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  quint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  sine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeInOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeInOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n * }\n */\n\nfunction easeInOut(functionName) {\n  return functionsMap$2[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$1 = {\n  back: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  cubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  circ: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  expo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  quad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  quart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  quint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  sine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n * }\n */\n\nfunction easeOut(functionName) {\n  return functionsMap$1[functionName.toLowerCase().trim()];\n}\n\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\n\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n      unitlessFromSize = _getValueAndUnit[0],\n      fromSizeUnit = _getValueAndUnit[1];\n\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n      unitlessToSize = _getValueAndUnit2[0],\n      toSizeUnit = _getValueAndUnit2[1];\n\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n      unitlessMinScreen = _getValueAndUnit3[0],\n      minScreenUnit = _getValueAndUnit3[1];\n\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n      unitlessMaxScreen = _getValueAndUnit4[0],\n      maxScreenUnit = _getValueAndUnit4[1];\n\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n\n  if (fromSizeUnit !== minScreenUnit || toSizeUnit !== maxScreenUnit) {\n    throw new PolishedError(76);\n  }\n\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\nfunction clearFix(parent) {\n  var _ref;\n\n  if (parent === void 0) {\n    parent = '&';\n  }\n\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n\n/**\n * CSS to represent truncated text with an ellipsis. You can optionally pass a max-width and number of lines before truncating.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\nfunction ellipsis(width, lines) {\n  if (lines === void 0) {\n    lines = 1;\n  }\n\n  var styles = {\n    display: 'inline-block',\n    maxWidth: width || '100%',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n  return lines > 1 ? _extends({}, styles, {\n    WebkitBoxOrient: 'vertical',\n    WebkitLineClamp: lines,\n    display: '-webkit-box',\n    whiteSpace: 'normal'\n  }) : styles;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {\n      var _extends2, _extends3;\n\n      var obj = _step.value;\n\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n\n    return _extends({}, fallbacks, mediaQueries);\n  } else {\n    var _ref, _ref2, _ref3;\n\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n\n    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3[\"@media (min-width: \" + minScreen + \")\"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3[\"@media (min-width: \" + maxScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\n\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\n\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.replace(/\\s+/g, ' ').match(dataURIRegex);\n}\n\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\n\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\n\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n\n  return fontReferences.join(', ');\n}\n/**\n * CSS for a @font-face declaration. Defaults to check for local copies of the font on the user's machine. You can disable this by passing `null` to localFonts.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n      fontFilePath = _ref.fontFilePath,\n      fontStretch = _ref.fontStretch,\n      fontStyle = _ref.fontStyle,\n      fontVariant = _ref.fontVariant,\n      fontWeight = _ref.fontWeight,\n      _ref$fileFormats = _ref.fileFormats,\n      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n      _ref$formatHint = _ref.formatHint,\n      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n      _ref$localFonts = _ref.localFonts,\n      localFonts = _ref$localFonts === void 0 ? [fontFamily] : _ref$localFonts,\n      unicodeRange = _ref.unicodeRange,\n      fontDisplay = _ref.fontDisplay,\n      fontVariationSettings = _ref.fontVariationSettings,\n      fontFeatureSettings = _ref.fontFeatureSettings;\n  // Error Handling\n  if (!fontFamily) throw new PolishedError(55);\n\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  }; // Removes undefined fields for cleaner css object.\n\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      }); // Adds leading coma if properties preceed color-stops\n\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i]; // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n\n  return template.trim();\n}\n\nvar _templateObject$1;\n\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      fallback = _ref.fallback,\n      _ref$toDirection = _ref.toDirection,\n      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].replace(/,\\s+/g, ',').split(' ')[0].replace(/,(?=\\S)/g, ', '),\n    backgroundImage: constructGradientValue(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"])), toDirection, colorStops.join(', ').replace(/,(?=\\S)/g, ', '))\n  };\n}\n\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\nfunction normalize() {\n  var _ref;\n\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    main: {\n      display: 'block'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nvar _templateObject;\n\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      _ref$extent = _ref.extent,\n      extent = _ref$extent === void 0 ? '' : _ref$extent,\n      fallback = _ref.fallback,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? '' : _ref$position,\n      _ref$shape = _ref.shape,\n      shape = _ref$shape === void 0 ? '' : _ref$shape;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"])), position, shape, extent, colorStops.join(', '))\n  };\n}\n\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n\n  if (extension === void 0) {\n    extension = 'png';\n  }\n\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n\n  if (!filename) {\n    throw new PolishedError(58);\n  } // Replace the dot at the beginning of the passed extension if one exists\n\n\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n\n/* eslint-disable key-spacing */\nvar functionsMap = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap[functionName];\n}\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @deprecated - This will be deprecated in v5 in favor of `easeIn`, `easeOut`, `easeInOut`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\n\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return {\n        borderBottomColor: foregroundColor\n      };\n\n    case 'right':\n    case 'bottomLeft':\n      return {\n        borderLeftColor: foregroundColor\n      };\n\n    case 'bottom':\n    case 'topLeft':\n      return {\n        borderTopColor: foregroundColor\n      };\n\n    case 'left':\n    case 'topRight':\n      return {\n        borderRightColor: foregroundColor\n      };\n\n    default:\n      throw new PolishedError(59);\n  }\n};\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\n\n\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n      height = _ref.height,\n      width = _ref.width,\n      foregroundColor = _ref.foregroundColor,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n\n  return _extends({\n    width: '0',\n    height: '0',\n    borderColor: backgroundColor\n  }, getBorderColor(pointingDirection, foregroundColor), {\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  });\n}\n\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\n\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\n\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\n\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgb(?:a)?\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,|\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsl(?:a)?\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,|\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$/i;\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\n\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n\n  var normalizedColor = nameToHex(color);\n\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n\n  var rgbaMatched = rgbaRegex.exec(normalizedColor.substring(0, 50));\n\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4]) > 1 ? parseFloat(\"\" + rgbaMatched[4]) / 100 : parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n\n  var hslMatched = hslRegex.exec(normalizedColor);\n\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n\n  var hslaMatched = hslaRegex.exec(normalizedColor.substring(0, 50));\n\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4]) > 1 ? parseFloat(\"\" + hslaMatched[4]) / 100 : parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n\n  hue *= 60;\n\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n\n  return value;\n};\n\nvar reduceHexValue$1 = reduceHexValue;\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\n\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue$1(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\n\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n\n  throw new PolishedError(1);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n\n  throw new PolishedError(2);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue$1(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue$1(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n\n  throw new PolishedError(6);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\n\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n}\n\n// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n} // eslint-disable-next-line no-redeclare\n\n\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\n\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n} // prettier-ignore\n\n\nvar curriedAdjustHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(adjustHue);\nvar curriedAdjustHue$1 = curriedAdjustHue;\n\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\n\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDarken = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(darken);\nvar curriedDarken$1 = curriedDarken;\n\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\n\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDesaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(desaturate);\nvar curriedDesaturate$1 = curriedDesaturate;\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n    var channel = rgbColor[key] / 255;\n    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }),\n      r = _Object$keys$map[0],\n      g = _Object$keys$map[1],\n      b = _Object$keys$map[2];\n\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n\n  throw new PolishedError(45);\n}\n\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\n\nfunction invert(color) {\n  if (color === 'transparent') return color; // parse color string to rgb\n\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\n\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedLighten = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(lighten);\nvar curriedLighten$1 = curriedLighten;\n\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\n\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n\n  var parsedColor2 = parseToRgb(otherColor);\n\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  }); // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * parseFloat(weight) + color2.alpha * (1 - parseFloat(weight))\n  };\n  return rgba(mixedColor);\n} // prettier-ignore\n\n\nvar curriedMix = /*#__PURE__*/curry\n/* ::<number | string, string, string, string> */\n(mix);\nvar mix$1 = curriedMix;\n\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\n\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedOpacify = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(opacify);\nvar curriedOpacify$1 = curriedOpacify;\n\nvar defaultReturnIfLightColor = '#000';\nvar defaultReturnIfDarkColor = '#fff';\n/**\n * Returns black or white (or optional passed colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, strict mode ensures that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color. You can optionally turn off strict mode.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\n\nfunction readableColor(color, returnIfLightColor, returnIfDarkColor, strict) {\n  if (returnIfLightColor === void 0) {\n    returnIfLightColor = defaultReturnIfLightColor;\n  }\n\n  if (returnIfDarkColor === void 0) {\n    returnIfDarkColor = defaultReturnIfDarkColor;\n  }\n\n  if (strict === void 0) {\n    strict = true;\n  }\n\n  var isColorLight = getLuminance(color) > 0.179;\n  var preferredReturnColor = isColorLight ? returnIfLightColor : returnIfDarkColor;\n\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n\n  return isColorLight ? defaultReturnIfLightColor : defaultReturnIfDarkColor;\n}\n\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n\n  throw new PolishedError(46);\n}\n\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\n\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedSaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(saturate);\nvar curriedSaturate$1 = curriedSaturate;\n\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\n\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setHue);\nvar curriedSetHue$1 = curriedSetHue;\n\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\n\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetLightness = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setLightness);\nvar curriedSetLightness$1 = curriedSetLightness;\n\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\n\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetSaturation = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setSaturation);\nvar curriedSetSaturation$1 = curriedSetSaturation;\n\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return mix$1(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n} // prettier-ignore\n\n\nvar curriedShade = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(shade);\nvar curriedShade$1 = curriedShade;\n\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return mix$1(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n} // prettier-ignore\n\n\nvar curriedTint = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(tint);\nvar curriedTint$1 = curriedTint;\n\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff'),\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')};\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\n\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, +(alpha * 100 - parseFloat(amount) * 100).toFixed(2) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedTransparentize = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(transparentize);\nvar curriedTransparentize$1 = curriedTransparentize;\n\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  // Allow single or multiple animations passed\n  var multiMode = Array.isArray(args[0]);\n\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n\n  throw new PolishedError(63);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\n\n\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n\n    selectors.push(generateSelectors(template, states[i]));\n  }\n\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template$1(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\n\n\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\n\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (positionMap.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\n\n\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template, stateMap);\n}\n\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\n\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue$1 as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken$1 as darken, curriedDesaturate$1 as desaturate, directionalProperty, easeIn, easeInOut, easeOut, ellipsis, em$1 as em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, important, invert, curriedLighten$1 as lighten, linearGradient, margin, math, meetsContrastGuidelines, mix$1 as mix, modularScale, normalize, curriedOpacify$1 as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem$1 as rem, remToPx, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate$1 as saturate, curriedSetHue$1 as setHue, curriedSetLightness$1 as setLightness, curriedSetSaturation$1 as setSaturation, curriedShade$1 as shade, size, stripUnit, textInputs, timingFunctions, curriedTint$1 as tint, toColorString, transitions, curriedTransparentize$1 as transparentize, triangle, wordWrap };\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import { linearGradient, parseToRgb, rgba, rgbToColorString } from 'polished'\nimport { RgbColor } from 'polished/lib/types/color'\n\nimport {\n  type AlphaEffect,\n  type Effect,\n  type Effects,\n  type GradientMaterial,\n  type OpacityEffect,\n  type ReplaceEffect,\n  type TypographyDescriptor,\n} from '@charcoal-ui/foundation'\n\nexport const GRADIENT_DIRECTIONS = [\n  'to top',\n  'to bottom',\n  'to left',\n  'to right',\n] as const\n\nexport type GradientDirection = typeof GRADIENT_DIRECTIONS[number]\n\nexport function transparentGradient(\n  color: string,\n  defaultDirection: GradientDirection = 'to bottom'\n) {\n  return function transparentGradient(\n    direction: GradientDirection | object = defaultDirection\n  ) {\n    const transparent = rgba(color, 0)\n    return linearGradient({\n      colorStops: [color, transparent],\n      fallback: transparent,\n      toDirection: typeof direction === 'object' ? defaultDirection : direction,\n    })\n  }\n}\n\nexport function gradient(toDirection: GradientDirection = 'to bottom') {\n  return function toLinearGradient(value: GradientMaterial) {\n    return linearGradient({\n      colorStops: value.map(({ color, ratio }) => `${color} ${ratio}%`),\n      fallback: value[0]?.color,\n      toDirection,\n    })\n  }\n}\n\nexport function applyEffectToGradient(effect: Effects) {\n  return function toGradient(value: GradientMaterial): GradientMaterial {\n    return value.map(({ color, ratio }) => ({\n      color: applyEffect(color, effect),\n      ratio,\n    }))\n  }\n}\n\ninterface RgbaColor extends RgbColor {\n  alpha?: number\n}\n\ninterface ReadonlyArrayConstructor {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  isArray(value: any): value is readonly any[]\n}\n\nexport function applyEffect(\n  baseColor: string | null,\n  effects: Effects\n): string {\n  const color = baseColor ?? '#00000000'\n  if ((Array as ReadonlyArrayConstructor).isArray(effects)) {\n    return effects.reduce(applySingleEffect, color)\n  }\n  return applySingleEffect(color, effects)\n}\n\nfunction applySingleEffect(baseColor: string, effect: Effect): string {\n  switch (effect.type) {\n    case 'alpha':\n      return applyAlpha(baseColor, effect)\n    case 'opacity':\n      return applyOpacity(baseColor, effect)\n    case 'replace':\n      return applyReplace(baseColor, effect)\n    default:\n      throw new RangeError(\n        `Unknown effect type ${\n          (effect as Effect).type\n        }, upgrade @charcoal-ui/utils`\n      )\n  }\n}\n\nfunction applyAlpha(baseColor: string, { color, opacity }: AlphaEffect) {\n  const base: RgbaColor = parseToRgb(baseColor)\n  const effect: RgbaColor = parseToRgb(color)\n  const src = [base.red, base.green, base.blue, base.alpha ?? 1.0] as const\n  const dst = [\n    effect.red,\n    effect.green,\n    effect.blue,\n    clamp(0, 1, (effect.alpha ?? 1.0) * (opacity ?? 1.0)),\n  ] as const\n  return rgba(...alphaBlend(src, dst))\n}\n\nfunction applyOpacity(baseColor: string, { opacity }: OpacityEffect) {\n  const parsed: RgbaColor = parseToRgb(baseColor)\n  parsed.alpha = clamp(0, 1, (parsed.alpha ?? 1.0) * opacity)\n  return rgbToColorString(parsed)\n}\n\nfunction applyReplace(\n  baseColor: string,\n  { color = baseColor, opacity }: ReplaceEffect\n) {\n  if (opacity === undefined) {\n    return color\n  }\n  const parsed: RgbaColor = parseToRgb(color)\n  // NOTE: intentionally ignores any alpha value in the baseColor\n  parsed.alpha = opacity\n  return rgbToColorString(parsed)\n}\n\ntype Color4 = readonly [number, number, number, number]\n\n/**\n * NOTE: alpha component must be in range from 0.0 to 1.0. (0.0 represents a fully transparent)\n *\n * @param src `[r, g, b, alpha]` Background\n * @param dst `[r, g, b, alpha]` Foreground\n */\nfunction alphaBlend(src: Color4, dst: Color4): Color4 {\n  const srcA = src[3]\n  const dstA = dst[3]\n  const outA = srcA + dstA * (1 - srcA)\n  if (outA < EPS) {\n    // blending 0% alpha with 0% alpha\n    return [0, 0, 0, 0]\n  }\n  return [\n    Math.round((src[0] * srcA * (1 - dstA) + dst[0] * dstA) / outA),\n    Math.round((src[1] * srcA * (1 - dstA) + dst[1] * dstA) / outA),\n    Math.round((src[2] * srcA * (1 - dstA) + dst[2] * dstA) / outA),\n    outA,\n  ]\n}\nconst EPS = 1e-6\n\nfunction clamp(min: number, max: number, value: number) {\n  return Math.min(Math.max(value, min), max)\n}\n\n/**\n * affix `px` unit\n *\n * @param value pixel\n */\nexport function px(value: number) {\n  return `${value}px`\n}\n\n/**\n * affix `s` unit\n *\n * @param value second\n */\nexport function dur(value: number) {\n  return `${value}s`\n}\n\nexport const notDisabledSelector = `&:not(:disabled):not([aria-disabled]), &[aria-disabled=false]`\n\nexport const disabledSelector = `&:disabled, &[aria-disabled]:not([aria-disabled=false])`\n\n/**\n * Construct media query from breakpoint\n */\nexport function maxWidth(breakpoint: number) {\n  return `(max-width: ${breakpoint - 1}px)`\n}\n\n/**\n * Derive half-leading from typography size\n */\nexport const halfLeading = ({ fontSize, lineHeight }: TypographyDescriptor) =>\n  (lineHeight - fontSize) / 2\n\n/**\n * Namespaced custom property\n */\nexport const customPropertyToken = (\n  id: string,\n  modifiers: readonly string[] = []\n) =>\n  `--charcoal-${id}${modifiers.length === 0 ? '' : ['', modifiers].join('-')}`\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\n\nfunction negation(a) {\n  return -a;\n}\n\nfunction addition(a, b) {\n  return a + b;\n}\n\nfunction subtraction(a, b) {\n  return a - b;\n}\n\nfunction multiplication(a, b) {\n  return a * b;\n}\n\nfunction division(a, b) {\n  return a / b;\n}\n\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\n\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\n\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\n\nvar defaultSymbols = {\n  symbols: {\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    }\n  }\n};\nvar defaultSymbolMap = defaultSymbols;\n\n// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found and no default was provided.\\n\\n\",\n  \"75\": \"important requires a valid style object, got a %s instead.\\n\\n\",\n  \"76\": \"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\\n\\n\",\n  \"77\": \"remToPx expects a value in \\\"rem\\\" but you provided it in \\\"%s\\\".\\n\\n\",\n  \"78\": \"base must be set in \\\"px\\\" or \\\"%\\\" but you set it in \\\"%s\\\".\\n\"\n};\n/**\n * super basic version of sprintf\n * @private\n */\n\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var a = args[0];\n  var b = [];\n  var c;\n\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\n\n\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n\n  function PolishedError(code) {\n    var _this;\n\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n\n    return _assertThisInitialized(_this);\n  }\n\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.\n\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultSymbolMap.symbols, additionalSymbols.symbols) : _extends({}, defaultSymbolMap.symbols);\n  return symbolMap;\n}\n\nfunction exec(operators, values) {\n  var _ref;\n\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\n\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" + // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  }) // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  }) // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n\n  do {\n    match = pattern.exec(expression);\n\n    var _ref2 = match || [')', undefined],\n        token = _ref2[0],\n        bad = _ref2[1];\n\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:\n\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n\n\n      afterValue = curr.notation === 'postfix';\n\n      if (curr.symbol !== ')') {\n        operators.push(curr); // Postfix always has precedence over any operator that follows after it\n\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\n\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\n\n\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same\n\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n/**\n * Fetches the value of a passed CSS Variable in the :root scope, or otherwise returns a defaultValue if provided.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\n\nfunction cssVar(cssVariable, defaultValue) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    throw new PolishedError(73);\n  }\n\n  var variableValue;\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else if (defaultValue) {\n    return defaultValue;\n  }\n\n  throw new PolishedError(74);\n}\n\n// @private\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap$1 = ['Top', 'Right', 'Bottom', 'Left'];\n\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\n\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap$1[i])] = valuesWithDefaults[i];\n    }\n  }\n\n  return styles;\n}\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  //  prettier-ignore\n  var firstValue = values[0],\n      _values$ = values[1],\n      secondValue = _values$ === void 0 ? firstValue : _values$,\n      _values$2 = values[2],\n      thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n      _values$3 = values[3],\n      fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n\n/**\n * Check if a string ends with something\n * @private\n */\nfunction endsWith(string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\n\nfunction stripUnit(value) {\n  if (typeof value !== 'string') return value;\n  var matchedValue = value.match(cssRegex$1);\n  return matchedValue ? parseFloat(value) : value;\n}\n\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\n\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n\n    var newPxval = pxval;\n    var newBase = base;\n\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n\n      newPxval = stripUnit(pxval);\n    }\n\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n\n      newBase = stripUnit(base);\n    }\n\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n\n    return \"\" + newPxval / newBase + to;\n  };\n};\n\nvar pixelsto = pxtoFactory;\n\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\n\nvar em = /*#__PURE__*/pixelsto('em');\nvar em$1 = em;\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\n\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\n/**\n * Helper for targeting rules in a style block generated by polished modules that need !important-level specificity. Can optionally specify a rule (or rules) to target specific rules.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...important(cover())\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${important(cover())}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute !important',\n *   'top': '0 !important',\n *   'right: '0 !important',\n *   'bottom': '0 !important',\n *   'left: '0 !important'\n * }\n */\n\nfunction important(styleBlock, rules) {\n  if (typeof styleBlock !== 'object' || styleBlock === null) {\n    throw new PolishedError(75, typeof styleBlock);\n  }\n\n  var newStyleBlock = {};\n  Object.keys(styleBlock).forEach(function (key) {\n    if (typeof styleBlock[key] === 'object' && styleBlock[key] !== null) {\n      newStyleBlock[key] = important(styleBlock[key], rules);\n    } else if (!rules || rules && (rules === key || rules.indexOf(key) >= 0)) {\n      newStyleBlock[key] = styleBlock[key] + \" !important\";\n    } else {\n      newStyleBlock[key] = styleBlock[key];\n    }\n  });\n  return newStyleBlock;\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\n\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\n\n\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n      realBase = _ref[0],\n      unit = _ref[1];\n\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\n\nvar rem = /*#__PURE__*/pixelsto('rem');\nvar rem$1 = rem;\n\nvar defaultFontSize = 16;\n\nfunction convertBase(base) {\n  var deconstructedValue = getValueAndUnit(base);\n\n  if (deconstructedValue[1] === 'px') {\n    return parseFloat(base);\n  }\n\n  if (deconstructedValue[1] === '%') {\n    return parseFloat(base) / 100 * defaultFontSize;\n  }\n\n  throw new PolishedError(78, deconstructedValue[1]);\n}\n\nfunction getBaseFromDoc() {\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    var rootFontSize = getComputedStyle(document.documentElement).fontSize;\n    return rootFontSize ? convertBase(rootFontSize) : defaultFontSize;\n  }\n  /* eslint-enable */\n\n  /* istanbul ignore next */\n\n\n  return defaultFontSize;\n}\n/**\n * Convert rem values to px. By default, the base value is pulled from the font-size property on the root element (if it is set in % or px). It defaults to 16px if not found on the root. You can also override the base value by providing your own base in % or px.\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': remToPx('1.6rem')\n *   'height': remToPx('1.6rem', '10px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${remToPx('1.6rem')}\n *   height: ${remToPx('1.6rem', '10px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '25.6px',\n *   'height': '16px',\n * }\n */\n\n\nfunction remToPx(value, base) {\n  var deconstructedValue = getValueAndUnit(value);\n\n  if (deconstructedValue[1] !== 'rem' && deconstructedValue[1] !== '') {\n    throw new PolishedError(77, deconstructedValue[1]);\n  }\n\n  var newBase = base ? convertBase(base) : getBaseFromDoc();\n  return deconstructedValue[0] * newBase + \"px\";\n}\n\nvar functionsMap$3 = {\n  back: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  circ: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  cubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  expo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  quad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  quart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  quint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  sine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeIn('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeIn('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\nfunction easeIn(functionName) {\n  return functionsMap$3[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$2 = {\n  back: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  circ: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  cubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  expo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  quad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  quart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  quint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  sine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeInOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeInOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n * }\n */\n\nfunction easeInOut(functionName) {\n  return functionsMap$2[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$1 = {\n  back: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  cubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  circ: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  expo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  quad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  quart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  quint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  sine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n * }\n */\n\nfunction easeOut(functionName) {\n  return functionsMap$1[functionName.toLowerCase().trim()];\n}\n\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\n\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n      unitlessFromSize = _getValueAndUnit[0],\n      fromSizeUnit = _getValueAndUnit[1];\n\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n      unitlessToSize = _getValueAndUnit2[0],\n      toSizeUnit = _getValueAndUnit2[1];\n\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n      unitlessMinScreen = _getValueAndUnit3[0],\n      minScreenUnit = _getValueAndUnit3[1];\n\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n      unitlessMaxScreen = _getValueAndUnit4[0],\n      maxScreenUnit = _getValueAndUnit4[1];\n\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n\n  if (fromSizeUnit !== minScreenUnit || toSizeUnit !== maxScreenUnit) {\n    throw new PolishedError(76);\n  }\n\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\nfunction clearFix(parent) {\n  var _ref;\n\n  if (parent === void 0) {\n    parent = '&';\n  }\n\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n\n/**\n * CSS to represent truncated text with an ellipsis. You can optionally pass a max-width and number of lines before truncating.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\nfunction ellipsis(width, lines) {\n  if (lines === void 0) {\n    lines = 1;\n  }\n\n  var styles = {\n    display: 'inline-block',\n    maxWidth: width || '100%',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n  return lines > 1 ? _extends({}, styles, {\n    WebkitBoxOrient: 'vertical',\n    WebkitLineClamp: lines,\n    display: '-webkit-box',\n    whiteSpace: 'normal'\n  }) : styles;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {\n      var _extends2, _extends3;\n\n      var obj = _step.value;\n\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n\n    return _extends({}, fallbacks, mediaQueries);\n  } else {\n    var _ref, _ref2, _ref3;\n\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n\n    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3[\"@media (min-width: \" + minScreen + \")\"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3[\"@media (min-width: \" + maxScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\n\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\n\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.replace(/\\s+/g, ' ').match(dataURIRegex);\n}\n\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\n\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\n\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n\n  return fontReferences.join(', ');\n}\n/**\n * CSS for a @font-face declaration. Defaults to check for local copies of the font on the user's machine. You can disable this by passing `null` to localFonts.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n      fontFilePath = _ref.fontFilePath,\n      fontStretch = _ref.fontStretch,\n      fontStyle = _ref.fontStyle,\n      fontVariant = _ref.fontVariant,\n      fontWeight = _ref.fontWeight,\n      _ref$fileFormats = _ref.fileFormats,\n      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n      _ref$formatHint = _ref.formatHint,\n      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n      _ref$localFonts = _ref.localFonts,\n      localFonts = _ref$localFonts === void 0 ? [fontFamily] : _ref$localFonts,\n      unicodeRange = _ref.unicodeRange,\n      fontDisplay = _ref.fontDisplay,\n      fontVariationSettings = _ref.fontVariationSettings,\n      fontFeatureSettings = _ref.fontFeatureSettings;\n  // Error Handling\n  if (!fontFamily) throw new PolishedError(55);\n\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  }; // Removes undefined fields for cleaner css object.\n\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      }); // Adds leading coma if properties preceed color-stops\n\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i]; // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n\n  return template.trim();\n}\n\nvar _templateObject$1;\n\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      fallback = _ref.fallback,\n      _ref$toDirection = _ref.toDirection,\n      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].replace(/,\\s+/g, ',').split(' ')[0].replace(/,(?=\\S)/g, ', '),\n    backgroundImage: constructGradientValue(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"])), toDirection, colorStops.join(', ').replace(/,(?=\\S)/g, ', '))\n  };\n}\n\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\nfunction normalize() {\n  var _ref;\n\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    main: {\n      display: 'block'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nvar _templateObject;\n\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      _ref$extent = _ref.extent,\n      extent = _ref$extent === void 0 ? '' : _ref$extent,\n      fallback = _ref.fallback,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? '' : _ref$position,\n      _ref$shape = _ref.shape,\n      shape = _ref$shape === void 0 ? '' : _ref$shape;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"])), position, shape, extent, colorStops.join(', '))\n  };\n}\n\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n\n  if (extension === void 0) {\n    extension = 'png';\n  }\n\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n\n  if (!filename) {\n    throw new PolishedError(58);\n  } // Replace the dot at the beginning of the passed extension if one exists\n\n\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n\n/* eslint-disable key-spacing */\nvar functionsMap = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap[functionName];\n}\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @deprecated - This will be deprecated in v5 in favor of `easeIn`, `easeOut`, `easeInOut`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\n\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return {\n        borderBottomColor: foregroundColor\n      };\n\n    case 'right':\n    case 'bottomLeft':\n      return {\n        borderLeftColor: foregroundColor\n      };\n\n    case 'bottom':\n    case 'topLeft':\n      return {\n        borderTopColor: foregroundColor\n      };\n\n    case 'left':\n    case 'topRight':\n      return {\n        borderRightColor: foregroundColor\n      };\n\n    default:\n      throw new PolishedError(59);\n  }\n};\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\n\n\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n      height = _ref.height,\n      width = _ref.width,\n      foregroundColor = _ref.foregroundColor,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n\n  return _extends({\n    width: '0',\n    height: '0',\n    borderColor: backgroundColor\n  }, getBorderColor(pointingDirection, foregroundColor), {\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  });\n}\n\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\n\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\n\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\n\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsla\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\n\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n\n  var normalizedColor = nameToHex(color);\n\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n\n  var rgbaMatched = rgbaRegex.exec(normalizedColor.substring(0, 50));\n\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n\n  var hslMatched = hslRegex.exec(normalizedColor);\n\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n\n  var hslaMatched = hslaRegex.exec(normalizedColor.substring(0, 50));\n\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n\n  hue *= 60;\n\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n\n  return value;\n};\n\nvar reduceHexValue$1 = reduceHexValue;\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\n\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue$1(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\n\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n\n  throw new PolishedError(1);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n\n  throw new PolishedError(2);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue$1(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue$1(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n\n  throw new PolishedError(6);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\n\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n}\n\n// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n} // eslint-disable-next-line no-redeclare\n\n\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\n\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n} // prettier-ignore\n\n\nvar curriedAdjustHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(adjustHue);\nvar curriedAdjustHue$1 = curriedAdjustHue;\n\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\n\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDarken = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(darken);\nvar curriedDarken$1 = curriedDarken;\n\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\n\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDesaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(desaturate);\nvar curriedDesaturate$1 = curriedDesaturate;\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n    var channel = rgbColor[key] / 255;\n    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }),\n      r = _Object$keys$map[0],\n      g = _Object$keys$map[1],\n      b = _Object$keys$map[2];\n\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n\n  throw new PolishedError(45);\n}\n\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\n\nfunction invert(color) {\n  if (color === 'transparent') return color; // parse color string to rgb\n\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\n\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedLighten = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(lighten);\nvar curriedLighten$1 = curriedLighten;\n\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\n\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n\n  var parsedColor2 = parseToRgb(otherColor);\n\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  }); // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * parseFloat(weight) + color2.alpha * (1 - parseFloat(weight))\n  };\n  return rgba(mixedColor);\n} // prettier-ignore\n\n\nvar curriedMix = /*#__PURE__*/curry\n/* ::<number | string, string, string, string> */\n(mix);\nvar mix$1 = curriedMix;\n\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\n\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedOpacify = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(opacify);\nvar curriedOpacify$1 = curriedOpacify;\n\nvar defaultReturnIfLightColor = '#000';\nvar defaultReturnIfDarkColor = '#fff';\n/**\n * Returns black or white (or optional passed colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, strict mode ensures that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color. You can optionally turn off strict mode.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\n\nfunction readableColor(color, returnIfLightColor, returnIfDarkColor, strict) {\n  if (returnIfLightColor === void 0) {\n    returnIfLightColor = defaultReturnIfLightColor;\n  }\n\n  if (returnIfDarkColor === void 0) {\n    returnIfDarkColor = defaultReturnIfDarkColor;\n  }\n\n  if (strict === void 0) {\n    strict = true;\n  }\n\n  var isColorLight = getLuminance(color) > 0.179;\n  var preferredReturnColor = isColorLight ? returnIfLightColor : returnIfDarkColor;\n\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n\n  return isColorLight ? defaultReturnIfLightColor : defaultReturnIfDarkColor;\n}\n\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n\n  throw new PolishedError(46);\n}\n\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\n\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedSaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(saturate);\nvar curriedSaturate$1 = curriedSaturate;\n\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\n\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setHue);\nvar curriedSetHue$1 = curriedSetHue;\n\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\n\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetLightness = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setLightness);\nvar curriedSetLightness$1 = curriedSetLightness;\n\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\n\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetSaturation = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setSaturation);\nvar curriedSetSaturation$1 = curriedSetSaturation;\n\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return mix$1(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n} // prettier-ignore\n\n\nvar curriedShade = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(shade);\nvar curriedShade$1 = curriedShade;\n\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return mix$1(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n} // prettier-ignore\n\n\nvar curriedTint = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(tint);\nvar curriedTint$1 = curriedTint;\n\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff');\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\n\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, +(alpha * 100 - parseFloat(amount) * 100).toFixed(2) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedTransparentize = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(transparentize);\nvar curriedTransparentize$1 = curriedTransparentize;\n\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  // Allow single or multiple animations passed\n  var multiMode = Array.isArray(args[0]);\n\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n\n  throw new PolishedError(63);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\n\n\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n\n    selectors.push(generateSelectors(template, states[i]));\n  }\n\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template$1(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\n\n\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\n\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (positionMap.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\n\n\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template, stateMap);\n}\n\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\n\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue$1 as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken$1 as darken, curriedDesaturate$1 as desaturate, directionalProperty, easeIn, easeInOut, easeOut, ellipsis, em$1 as em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, important, invert, curriedLighten$1 as lighten, linearGradient, margin, math, meetsContrastGuidelines, mix$1 as mix, modularScale, normalize, curriedOpacify$1 as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem$1 as rem, remToPx, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate$1 as saturate, curriedSetHue$1 as setHue, curriedSetLightness$1 as setLightness, curriedSetSaturation$1 as setSaturation, curriedShade$1 as shade, size, stripUnit, textInputs, timingFunctions, curriedTint$1 as tint, toColorString, transitions, curriedTransparentize$1 as transparentize, triangle, wordWrap };\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import { rgba } from 'polished'\nimport { CharcoalTheme } from './theme'\nimport {\n  BORDER_RADIUS,\n  BREAKPOINT,\n  COLUMN_UNIT,\n  GUTTER_UNIT,\n  SPACING,\n  TYPOGRAPHY_SIZE,\n} from '@charcoal-ui/foundation'\nimport { applyEffect } from '@charcoal-ui/utils'\n\nconst outlineEffect = {\n  type: 'opacity',\n  opacity: 0.32,\n} as const\n\nconst assertive = '#ff2b00'\nconst brand = '#0096fa'\nconst borderForLight = rgba('#000000', 0.08)\nconst borderForDark = rgba('#ffffff', 0.12)\n\nconst common = {\n  typography: {\n    size: TYPOGRAPHY_SIZE,\n  },\n  spacing: SPACING,\n  grid: {\n    unit: {\n      column: COLUMN_UNIT,\n      gutter: GUTTER_UNIT,\n    },\n  },\n  borderRadius: BORDER_RADIUS,\n  transition: {\n    default: {\n      duration: 0.2,\n    },\n  },\n  breakpoint: {\n    screen1: BREAKPOINT[6],\n    screen2: BREAKPOINT[8],\n    screen3: BREAKPOINT[10],\n    screen4: BREAKPOINT[12],\n  },\n  gradientColor: {\n    surface5: [\n      { color: rgba('#000000', 0.32), ratio: 0 },\n      { color: rgba('#000000', 0), ratio: 100 },\n    ],\n    callToAction: [\n      { color: '#d1ff1a', ratio: 0 },\n      { color: '#1ad1ff', ratio: 100 },\n    ],\n  },\n  outline: {\n    default: {\n      color: applyEffect(brand, outlineEffect),\n      weight: 4,\n    },\n    assertive: {\n      color: applyEffect(assertive, outlineEffect),\n      weight: 4,\n    },\n  },\n  elementEffect: {\n    disabled: {\n      type: 'opacity',\n      opacity: 0.32,\n    },\n  },\n} as const\n\nexport const light: CharcoalTheme = {\n  ...common,\n  effect: {\n    hover: {\n      type: 'alpha',\n      color: rgba('#000000', 0.04), // surface3\n    },\n    press: {\n      type: 'alpha',\n      color: rgba('#000000', 0.16), // surface10\n    },\n  },\n  color: {\n    // TODO: colors should be picked from foundation color palette\n    transparent: rgba('#000000', 0),\n    background1: '#ffffff',\n    background2: '#f5f5f5',\n    icon6: rgba('#ffffff', 0.28),\n    link1: '#3d7699',\n    link2: rgba('#ffffff', 0.36),\n    surface1: '#ffffff',\n    surface2: rgba('#000000', 0.02),\n    surface3: rgba('#000000', 0.04),\n    surface4: rgba('#000000', 0.32),\n    surface6: rgba('#000000', 0.88),\n    surface7: rgba('#000000', 0.02),\n    surface8: rgba('#000000', 0.88),\n    surface9: '#ffffff',\n    surface10: rgba('#000000', 0.16),\n    text1: '#1f1f1f',\n    text2: '#474747',\n    text3: '#858585',\n    text4: '#adadad',\n    text5: '#ffffff',\n    brand,\n    assertive,\n    warning: '#ffaf0f',\n    success: '#b1cc29',\n    updatedItem: rgba(0, 150, 250, 0.04),\n    border: borderForLight,\n  },\n  border: {\n    default: {\n      color: borderForLight,\n    },\n  },\n}\n\nexport const dark: CharcoalTheme = {\n  ...common,\n  effect: {\n    hover: {\n      type: 'alpha',\n      color: rgba('#ffffff', 0.12), // surface3\n    },\n    press: {\n      type: 'alpha',\n      color: rgba('#ffffff', 0.2), // surface10\n    },\n  },\n  color: {\n    transparent: rgba('#000000', 0),\n    background1: '#1f1f1f',\n    background2: '#000000',\n    icon6: light.color.icon6,\n    link1: '#669FC2',\n    link2: light.color.link2,\n    surface1: '#1f1f1f',\n    surface2: rgba('#000000', 0.16),\n    surface3: rgba('#ffffff', 0.12),\n    surface4: light.color.surface4,\n    surface6: rgba('#ffffff', 0.12),\n    surface7: light.color.surface7,\n    surface8: light.color.surface8,\n    surface9: '#333333',\n    surface10: rgba('#ffffff', 0.2),\n    text1: '#f5f5f5',\n    text2: '#d6d6d6',\n    text3: '#858585',\n    text4: '#5c5c5c',\n    text5: '#f5f5f5',\n    brand,\n    assertive,\n    warning: light.color.warning,\n    success: light.color.success,\n    updatedItem: rgba(0, 150, 250, 0.12),\n    border: borderForDark,\n  },\n  border: {\n    default: {\n      color: borderForDark,\n    },\n  },\n}\n","export const SPACING = {\n  0: 0,\n  4: 4,\n  8: 8,\n  16: 16,\n  24: 24,\n  40: 40,\n  64: 64,\n  104: 104,\n  168: 168,\n  272: 272,\n  440: 440,\n} as const\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","/**\n * Function used to assert a given code path is unreachable\n */\nexport function unreachable(): never\n/**\n * Function used to assert a given code path is unreachable.\n * Very useful for ensuring switches are exhaustive:\n *\n * ```ts\n * switch (a.type) {\n *   case Types.A:\n *   case Types.B:\n *     break\n *   default:\n *     unreachable(a) // will cause a build error if there was\n *                    // a Types.C that was not checked\n * }\n * ```\n *\n * @param value Value to be asserted as unreachable\n */\n// NOTE: Uses separate overloads, _not_ `value?: never`, to not allow `undefined` to be passed\n// eslint-disable-next-line @typescript-eslint/unified-signatures\nexport function unreachable(value: never): never\nexport function unreachable(value?: never): never {\n  throw new Error(\n    arguments.length === 0\n      ? 'unreachable'\n      : `unreachable (${JSON.stringify(value)})`\n  )\n}\n\n/**\n * Check whether a value is non-null and non-undefined\n *\n * @param value nullable\n */\nexport const isPresent = <T>(value: T): value is NonNullable<T> => value != null\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Head<U> = U extends [infer T, ...any[]] ? T : never\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Tail<U> = U extends [any, any, ...any[]]\n  ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ((...args: U) => any) extends (head: any, ...args: infer T) => any\n    ? T\n    : never\n  : never\n// Buggy at ts@4.0.0-dev20200506\n// type Tail<U> = U extends [any, ...infer T] ? T : never\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype RecursiveObjectAssign<T, S extends any[]> = {\n  0: T & Head<S>\n  1: RecursiveObjectAssign<T & Head<S>, Tail<S>>\n}[Tail<S> extends never ? 0 : 1]\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype ObjectAssign<T extends any[]> = RecursiveObjectAssign<\n  Record<string, unknown>,\n  T\n>\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function objectAssign<T extends any[]>(...sources: T) {\n  return Object.assign({}, ...sources) as ObjectAssign<T>\n}\n\nexport function objectKeys<V, K extends keyof V>(obj: V) {\n  return Object.keys(obj) as K[]\n}\n\nexport interface ReadonlyArrayConstructor {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  isArray(value: any): value is readonly any[]\n}\n\nexport function extractNonNullKeys<V, K extends keyof V>(obj: {\n  [key in K]: V[key]\n}) {\n  return Object.entries(obj)\n    .filter(([_, v]) => v !== null)\n    .map(([k]) => k) as { [key in K]: V[key] extends null ? never : key }[K][]\n}\n","import { Key } from '@charcoal-ui/theme'\nimport { unreachable } from './util'\n\n/**\n * \n *\n * @param source \n * @param member \n * @param chain \n *\n * @example\n *\n * const o = factory({}, ['red', 'blue'],\n *   color => hex(color)\n * )\n *\n * console.log(o.red) //=> #ff0000\n */\nexport const factory = <TSource, TMember extends readonly Key[], TValue>(\n  source: TSource,\n  member: TMember,\n  chain: (key: TMember[number]) => TValue\n) =>\n  Object.defineProperties(\n    source,\n    Object.fromEntries(\n      member.map((key) => [\n        key,\n        { get: () => chain(key), enumerable: true, configurable: true },\n      ])\n    )\n  ) as TSource & { readonly [key in TMember[number]]: TValue }\n\n/**\n * \n *\n * @param source \n * @param member \n * @param chain \n *\n * @example\n *\n * const o = argumentedFactory({}, ['red', 'blue'],\n *   (color, alpha: number) => hex(color, alpha)\n * )\n *\n * console.log(o.red(0.5)) //=> #ff000077\n */\nexport const argumentedFactory = <\n  TSource,\n  TMember extends readonly string[],\n  TValue,\n  TArguments extends unknown[]\n>(\n  source: TSource,\n  member: TMember,\n  chain: (key: TMember[number], ...args: TArguments) => TValue\n) =>\n  Object.defineProperties(\n    source,\n    Object.fromEntries(\n      member.map((key) => [\n        key,\n        {\n          value: (...args: TArguments) => chain(key, ...args),\n          enumerable: true,\n          configurable: true,\n        },\n      ])\n    )\n  ) as TSource & {\n    readonly [key in TMember[number]]: (...args: TArguments) => TValue\n  }\n\n/**\n * \n *\n * @param source \n * @param def ()\n *\n * @example\n *\n * const o = constFactory({}, {\n *   red: '#f00',\n *   blue: '#00f',\n * })\n *\n * console.log(o.red) //=> #f00\n */\nexport const constFactory = <TSource, TDef extends { [key: string]: unknown }>(\n  source: TSource,\n  def: TDef\n) =>\n  factory(source, Object.keys(def), (key) => def[key]) as TSource &\n    Readonly<TDef>\n\n/**\n * ()\n *\n * @param modifiers \n * @param source \n *\n * @example\n *\n * const o = modifiedArgumentedFactory(['red', 'blue'],\n *   modifiers => modifiers.map(color => hex(color)).join(',')\n * )\n *\n * console.log(o.red.blue) => #f00,#00f\n */\nexport const modifiedFactory = <TSource, T extends Key>(\n  modifiers: readonly T[],\n  source: (applied: readonly T[]) => TSource\n) =>\n  (function recursiveModifiedFactory(\n    applied: readonly T[]\n  ): Modified<TSource, T> {\n    const notApplied = modifiers.filter((v) => !applied.includes(v))\n    return factory(source(applied), notApplied, (modifier) =>\n      notApplied.length === 0\n        ? unreachable()\n        : recursiveModifiedFactory([...applied, modifier])\n    )\n  })([])\n\nexport type Modified<TSource, TModifiers extends Key> = TSource & {\n  readonly [key in TModifiers]: Modified<TSource, Exclude<TModifiers, key>>\n}\n\n/**\n * ()\n *\n * @param modifiers \n * @param source \n * @param _inferPhantom ()\n *\n * @example\n *\n * const o = modifiedArgumentedFactory(['red', 'blue'],\n *   modifiers => modifiers.map(([color, alpha]) => hex(color, alpha)).join(',')\n * , {} as [number])\n *\n * console.log(o.red(0.5).blue(1)) => #ff000077,#0000ffff\n */\nexport const modifiedArgumentedFactory = <\n  TSource,\n  T extends string,\n  TArguments extends unknown[]\n>(\n  modifiers: readonly T[],\n  source: (applied: readonly [T, ...TArguments][]) => TSource,\n  ..._inferPhantom: TArguments\n) =>\n  (function recursiveModifiedFactory(\n    applied: readonly [T, ...TArguments][]\n  ): ModifiedArgumented<TSource, T, TArguments> {\n    const notApplied = modifiers.filter(\n      (v) => !applied.map(([w]) => w).includes(v)\n    )\n    return argumentedFactory(\n      source(applied),\n      notApplied,\n      (modifier, ...args: TArguments) =>\n        notApplied.length === 0\n          ? unreachable()\n          : recursiveModifiedFactory([...applied, [modifier, ...args]])\n    )\n  })([])\n\nexport type ModifiedArgumented<\n  TSource,\n  TModifiers extends string,\n  TArguments extends unknown[]\n> = TSource & {\n  readonly [key in TModifiers]: (\n    ...args: TArguments\n  ) => ModifiedArgumented<TSource, Exclude<TModifiers, key>, TArguments>\n}\n\nexport const variable = (value: string) => `var(${value})`\n","import { CharcoalAbstractTheme } from '@charcoal-ui/theme'\nimport { applyEffect, customPropertyToken } from '@charcoal-ui/utils'\nimport React from 'react'\nimport { createGlobalStyle, css } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  ${<T extends Theme>({\n    themeMap,\n    background,\n  }: {\n    themeMap: ThemeMap<T>\n    background?: keyof ThemeMap<T>[string]['color']\n  }) =>\n    Object.entries(themeMap).map(([key, theme]) =>\n      key.startsWith('@media')\n        ? css`\n            ${key} {\n              :root {\n                ${background !== undefined &&\n                css`\n                  background-color: ${theme.color[background]};\n                `}\n                ${customProperties(theme)}\n              }\n            }\n          `\n        : css`\n            /* stylelint-disable-next-line no-duplicate-selectors */\n            ${key} {\n              ${background !== undefined &&\n              css`\n                background-color: ${theme.color[background]};\n              `}\n              ${customProperties(theme)}\n            }\n          `\n    )}\n`\n\nconst customProperties = (\n  theme: Pick<CharcoalAbstractTheme, 'color' | 'effect'>\n) =>\n  Object.entries(theme.color)\n    .flatMap(([colorKey, color]) => [\n      variableDefinition(customPropertyToken(colorKey), color),\n      ...Object.entries(theme.effect).map(([effectKey, effect]) =>\n        variableDefinition(\n          customPropertyToken(colorKey, [effectKey]),\n          applyEffect(color, [effect])\n        )\n      ),\n    ])\n    .join(';')\n\nconst variableDefinition = (prop: string, value: string) => `${prop}: ${value}`\n\nexport interface ThemeMap<T extends Theme> {\n  ':root': T\n  [mediaQuery: `@media (${string})`]: T\n  [selector: string]: T\n}\n\ntype Theme = Pick<CharcoalAbstractTheme, 'color' | 'effect'>\n\nexport default function TokenInjector<T extends Theme>({\n  theme: themeMap,\n  background,\n}: {\n  theme: ThemeMap<T>\n  background?: keyof ThemeMap<T>[string]['color']\n}) {\n  return <GlobalStyle themeMap={themeMap} background={background}></GlobalStyle>\n}\n","import { useEffect, useMemo, useState } from 'react'\n\nexport const LOCAL_STORAGE_KEY = 'charcoal-theme'\nexport const DEFAULT_ROOT_ATTRIBUTE = 'theme'\n\nconst keyStringRegExp = new RegExp(/^(\\w|-)+$/)\n\n/**\n * _-\n * @param key \n */\nexport function assertKeyString(key: string) {\n  if (!keyStringRegExp.test(key)) {\n    throw new Error(`Unexpected key :${key}, expect: /^(\\\\w|-)+$/`)\n  }\n}\n\n/**\n * `<html data-theme=\"dark\">` \n */\nexport const themeSetter =\n  (attr: string = DEFAULT_ROOT_ATTRIBUTE) =>\n  (theme: string | undefined) => {\n    assertKeyString(attr)\n    if (theme !== undefined) {\n      document.documentElement.dataset[attr] = theme\n    } else {\n      delete document.documentElement.dataset[attr]\n    }\n  }\n\n/**\n * `<html data-theme=\"dark\">` \n */\nexport function themeSelector<\n  T extends string,\n  S extends string = typeof DEFAULT_ROOT_ATTRIBUTE\n>(theme: T, attr?: S) {\n  return `:root[data-${attr ?? DEFAULT_ROOT_ATTRIBUTE}='${theme}']` as const\n}\n\n/**\n * prefers-color-scheme  media \n */\nexport function prefersColorScheme<T extends 'light' | 'dark'>(theme: T) {\n  return `@media (prefers-color-scheme: ${theme})` as const\n}\n\n/**\n * LocalStoragehooks\n */\nexport function useThemeSetter({\n  key = LOCAL_STORAGE_KEY,\n  setter = themeSetter(),\n}: { key?: string; setter?: (theme: string | undefined) => void } = {}) {\n  const [theme, , system] = useTheme(key)\n\n  useEffect(() => {\n    if (theme === undefined) {\n      return\n    }\n    // prefers-color-scheme css\n    setter(system ? undefined : theme)\n  }, [setter, system, theme])\n}\n\n/**\n * LocalStorage\n */\nexport function getThemeSync(key: string = LOCAL_STORAGE_KEY) {\n  const theme = localStorage.getItem(key)\n  return theme\n}\n\n/**\n * LocalStorage, prefers-color-scheme hooks\n *\n * `dark` `light` prefers-color-scheme\n */\nexport const useTheme = (key: string = LOCAL_STORAGE_KEY) => {\n  assertKeyString(key)\n  const isDark = useMedia('(prefers-color-scheme: dark)')\n  const media = isDark !== undefined ? (isDark ? 'dark' : 'light') : undefined\n  const [local, setTheme, ready] = useLocalStorage<string>(key)\n  const theme = !ready || media === undefined ? undefined : local ?? media\n  const system = local === undefined\n  return [theme, setTheme, system] as const\n}\n\nexport function useLocalStorage<T>(key: string, defaultValue?: () => T) {\n  const [ready, setReady] = useState(false)\n  const [state, setState] = useState<T>()\n  const defaultValueMemo = useMemo(() => defaultValue?.(), [defaultValue])\n\n  useEffect(() => {\n    fetch()\n    window.addEventListener('storage', handleStorage)\n    return () => {\n      window.removeEventListener('storage', handleStorage)\n    }\n  })\n\n  const handleStorage = (e: StorageEvent) => {\n    if (e.storageArea !== localStorage) {\n      return\n    }\n    if (e.key !== key) {\n      return\n    }\n    fetch()\n  }\n\n  const fetch = () => {\n    const raw = localStorage.getItem(key)\n    setState((raw !== null ? deserialize(raw) : null) ?? defaultValueMemo)\n    setReady(true)\n  }\n\n  const set = (value: T | undefined) => {\n    if (value === undefined) {\n      // undefinedkey\n      localStorage.removeItem(key)\n    } else {\n      const raw = serialize(value)\n      localStorage.setItem(key, raw)\n    }\n\n    // storage\n    const event = new StorageEvent('storage', {\n      bubbles: true,\n      cancelable: false,\n      key,\n      url: location.href,\n      storageArea: localStorage,\n    })\n    dispatchEvent(event)\n  }\n\n  return [state ?? defaultValueMemo, set, ready] as const\n}\n\nfunction deserialize<T>(raw: string): T {\n  try {\n    return JSON.parse(raw) as T\n  } catch {\n    // syntax error \n    return raw as unknown as T\n  }\n}\n\nfunction serialize(value: unknown): string {\n  if (typeof value === 'string') {\n    return value\n  } else {\n    return JSON.stringify(value)\n  }\n}\n\nexport function useMedia(query: string) {\n  const [match, setState] = useState<boolean>()\n\n  useEffect(() => {\n    const matcher = window.matchMedia(query)\n\n    const onChange = () => {\n      setState(matcher.matches)\n    }\n\n    matcher.addEventListener('change', onChange)\n\n    setState(matcher.matches)\n\n    return () => {\n      matcher.removeEventListener('change', onChange)\n    }\n  }, [query])\n\n  return match\n}\n","import { CSSObject, ThemedStyledInterface } from 'styled-components'\nimport warning from 'warning'\nimport {\n  factory,\n  modifiedFactory,\n  constFactory,\n  modifiedArgumentedFactory,\n  variable,\n} from './lib'\nimport {\n  EffectType,\n  CharcoalAbstractTheme as Theme,\n  Key,\n} from '@charcoal-ui/theme'\nimport {\n  objectAssign,\n  unreachable,\n  ReadonlyArrayConstructor,\n  objectKeys,\n  isPresent,\n} from './util'\nimport { columnSystem } from '@charcoal-ui/foundation'\nimport {\n  halfLeading,\n  applyEffect,\n  applyEffectToGradient,\n  dur,\n  gradient,\n  GradientDirection,\n  notDisabledSelector,\n  disabledSelector,\n  px,\n  customPropertyToken,\n} from '@charcoal-ui/utils'\nexport { type Modified, type ModifiedArgumented } from './lib'\nexport { default as TokenInjector } from './TokenInjector'\nexport {\n  getThemeSync,\n  themeSetter,\n  themeSelector,\n  prefersColorScheme,\n  useTheme,\n  useThemeSetter,\n  useLocalStorage,\n  useMedia,\n} from './helper'\nexport * from './SetThemeScript'\n\nconst colorProperties = ['bg', 'font'] as const\ntype ColorProperty = typeof colorProperties[number]\n\nconst spacingProperties = ['margin', 'padding'] as const\nconst spacingDirections = [\n  'top',\n  'right',\n  'bottom',\n  'left',\n  'vertical',\n  'horizontal',\n  'all',\n] as const\ntype SpacingProperty = typeof spacingProperties[number]\ntype SpacingDirection = typeof spacingDirections[number]\n\nconst fixedProperties = ['width', 'height'] as const\ntype FixedProperty = typeof fixedProperties[number]\n\nconst borderDirections = ['top', 'right', 'bottom', 'left'] as const\ntype BorderDirection = typeof borderDirections[number]\n\nconst outlineType = ['focus'] as const\ntype OutlineType = typeof outlineType[number]\n\n/**\n * `theme(o => [...])`  `o` \n *\n * @param theme \n * @param isPhantom \n */\nfunction builder<T extends Theme>(\n  theme: {\n    // factory\n    color: T['color']\n    gradientColor: T['gradientColor']\n    border: T['border']\n    outline: T['outline']\n  } & Omit<T, 'color' | 'gradientColor' | 'border' | 'outline'>,\n  isPhantom = false\n) {\n  if (isPhantom) {\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    return {} as never\n  }\n  const colors = objectKeys(theme.color)\n  const effects = objectKeys(theme.effect)\n\n  // \n  const gradientColors = objectKeys(theme.gradientColor)\n  const colorCss = createColorCss(theme)\n  const gradientColorCss = createGradientColorCss(theme)\n  const colorObject = constFactory(\n    {},\n    {\n      bg: objectAssign(\n        factory({}, colors, (color) =>\n          modifiedFactory(effects, (modifiers) =>\n            colorCss('bg', color, modifiers)\n          )\n        ),\n        factory(\n          {},\n          gradientColors,\n          (color) => (direction: GradientDirection) =>\n            modifiedFactory(effects, (modifiers) =>\n              gradientColorCss(color, modifiers, direction)\n            )\n        )\n      ),\n      font: factory({}, colors, (color) =>\n        modifiedFactory(effects, (modifiers) =>\n          colorCss('font', color, modifiers)\n        )\n      ),\n    }\n  )\n\n  // \n  const typographyModifiers = [\n    // TODO\n    'monospace',\n    'bold',\n    'preserveHalfLeading',\n  ] as const\n  const typographyCss = createTypographyCss(theme)\n  const typographyObject = factory(\n    {},\n    ['typography'] as const,\n    (_) => (size: keyof T['typography']['size']) =>\n      modifiedFactory(typographyModifiers, (modifiers) =>\n        typographyCss(size, {\n          preserveHalfLeading: modifiers.includes('preserveHalfLeading'),\n          monospace: modifiers.includes('monospace'),\n          bold: modifiers.includes('bold'),\n        })\n      )\n  )\n\n  // \n  const spacingCss = createSpacingCss(theme)\n  const spacingObject = factory({}, spacingProperties, (spacingProperty) =>\n    modifiedArgumentedFactory(\n      spacingDirections,\n      (modifiers) => spacingCss(spacingProperty, modifiers),\n      {} as keyof T['spacing'] | 'auto' // \n    )\n  )\n\n  // \n  const fixedPxCss = createFixedPxCss(theme)\n  const fixedColumnCss = createFixedColumnCss(theme)\n  const fixedRelativeCss = createFixedRelativeCss(theme)\n  const fixedObject = factory({}, fixedProperties, (property) =>\n    constFactory(\n      {},\n      {\n        px: (size: keyof T['spacing'] | 'auto') => fixedPxCss(property, size),\n        column: (span: number) => fixedColumnCss(property, span),\n        auto: fixedRelativeCss(property, 'auto'),\n        full: fixedRelativeCss(property, '100%'),\n      }\n    )\n  )\n\n  //  (etc: )\n  const elementEffectCss = createElementEffectCss(theme)\n  const elementEffectObject = modifiedFactory(\n    objectKeys(theme.elementEffect),\n    (modifiers) => elementEffectCss(modifiers)\n  )\n\n  // \n  const borderCss = createBorderCss(theme)\n  const borderObject = constFactory(\n    {},\n    {\n      border: factory({}, objectKeys(theme.border), (variant) =>\n        modifiedFactory(borderDirections, (modifiers) =>\n          borderCss(variant, modifiers)\n        )\n      ),\n    }\n  )\n\n  // \n  const borderRadiusCss = createBorderRadiusCss(theme)\n  const borderRadiusObject = constFactory(\n    {},\n    {\n      borderRadius: (radius: keyof T['borderRadius']) =>\n        borderRadiusCss(radius),\n    }\n  )\n\n  // \n  const outlineCss = createOutlineColorCss(theme)\n  const outlineObject = constFactory(\n    {},\n    {\n      outline: factory({}, objectKeys(theme.outline), (variant) =>\n        modifiedFactory(outlineType, (modifiers) =>\n          outlineCss(variant, modifiers)\n        )\n      ),\n    }\n  )\n\n  return objectAssign(\n    colorObject,\n    typographyObject,\n    spacingObject,\n    fixedObject,\n    elementEffectObject,\n    borderObject,\n    borderRadiusObject,\n    outlineObject\n  )\n}\n\nfunction targetProperty(target: ColorProperty) {\n  return target === 'bg' ? 'background-color' : 'color'\n}\n\nfunction isSupportedEffect(effect: Key): effect is EffectType {\n  return ['hover', 'press', 'disabled'].includes(effect as string)\n}\n\nfunction onEffectPseudo(effect: EffectType, css: CSSObject) {\n  return effect === 'hover'\n    ? { '&:hover': { [notDisabledSelector]: css } }\n    : effect === 'press'\n    ? { '&:active': { [notDisabledSelector]: css } }\n    : // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    effect === 'disabled'\n    ? { [disabledSelector]: css }\n    : unreachable(effect)\n}\n\nconst createColorCss =\n  <T extends Theme>(_theme: T) =>\n  (\n    target: ColorProperty,\n    color: keyof T['color'],\n    effects: readonly (keyof T['effect'])[] = []\n  ): Internal =>\n    internal(\n      () => ({\n        [targetProperty(target)]: variable(\n          customPropertyToken(color.toString())\n        ),\n        ...effects.filter(isSupportedEffect).reduce<CSSObject>(\n          (acc, effect) => ({\n            ...acc,\n            ...onEffectPseudo(effect, {\n              [targetProperty(target)]: variable(\n                customPropertyToken(color.toString(), [effect])\n              ),\n            }),\n          }),\n          {}\n        ),\n      }),\n      effects.length > 0\n        ? target === 'font'\n          ? {\n              colorTransition: true,\n            }\n          : {\n              backgroundColorTransition: true,\n            }\n        : {}\n    )\n\n// TODO: deprecate\nconst TRANSITION_DURATION = 0.2\n\nconst createGradientColorCss =\n  <T extends Theme>(theme: T) =>\n  (\n    color: keyof T['gradientColor'],\n    effects: readonly (keyof T['effect'])[] = [],\n    direction: GradientDirection\n  ): Internal => {\n    const toLinearGradient = gradient(direction)\n    return internal((context) => {\n      const optimized = !useHalfLeadingCanceller(context)\n      const duration = dur(TRANSITION_DURATION)\n      if (optimized && effects.length > 0) {\n        return {\n          position: 'relative',\n          zIndex: 0,\n          overflow: 'hidden',\n          ...effects.filter(isSupportedEffect).reduce<CSSObject>(\n            (acc, effect) => ({\n              ...acc,\n              '&::before': {\n                zIndex: -1,\n                ...overlayElement,\n                transition: `${duration} background-color`,\n              },\n              '&::after': {\n                zIndex: -2,\n                ...overlayElement,\n                ...toLinearGradient(theme.gradientColor[color]),\n              },\n              ...onEffectPseudo(effect, {\n                '&::before': {\n                  backgroundColor: applyEffect(\n                    null,\n                    theme.effect[effect] ?? []\n                  ),\n                },\n              }),\n            }),\n            {}\n          ),\n        }\n      } else {\n        warning(\n          effects.length === 0,\n          // eslint-disable-next-line max-len\n          `'Transition' will not be applied. You can get around this by specifying 'preserveHalfLeading' or both 'padding' and 'typograpy'.`\n        )\n        return {\n          ...toLinearGradient(theme.gradientColor[color]),\n          ...effects.filter(isSupportedEffect).reduce<CSSObject>(\n            (acc, effect) => ({\n              ...acc,\n              ...onEffectPseudo(effect, {\n                ...toLinearGradient(\n                  applyEffectToGradient(theme.effect[effect] ?? [])(\n                    theme.gradientColor[color]\n                  )\n                ),\n              }),\n            }),\n            {}\n          ),\n        }\n      }\n    })\n  }\n\n/**\n * @see https://developer.mozilla.org/ja/docs/Web/CSS/:focus-visible#selectively_showing_the_focus_indicator\n */\nconst onFocus = (css: CSSObject) => ({\n  [notDisabledSelector]: {\n    '&:focus, &:active': {\n      outline: 'none',\n      ...css,\n    },\n\n    '&:focus:not(:focus-visible), &:active:not(:focus-visible)': {\n      outline: 'none',\n    },\n\n    '&:focus-visible': {\n      outline: 'none',\n      ...css,\n    },\n  },\n})\n\nconst outlineCss = (weight: number, color: string) => ({\n  boxShadow: `0 0 0 ${px(weight)} ${color}`,\n})\n\nconst createOutlineColorCss =\n  <T extends Theme>(theme: T) =>\n  (\n    variant: keyof T['outline'],\n    modifiers: readonly OutlineType[]\n  ): Internal => {\n    const weight = theme.outline[variant].weight\n    const color = theme.outline[variant].color\n    return internal(\n      () =>\n        modifiers.includes('focus')\n          ? onFocus(outlineCss(weight, color))\n          : { '&&': { [notDisabledSelector]: outlineCss(weight, color) } },\n      {\n        boxShadowTransition: true,\n      }\n    )\n  }\n\nconst overlayElement: CSSObject = {\n  content: \"''\",\n  display: 'block',\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0,\n}\n\n// half-leading && padding\n// -> before/after\nconst useHalfLeadingCanceller = ({\n  cancelHalfLeadingPx,\n  hasVerticalPadding = false,\n}: Context) => cancelHalfLeadingPx !== undefined && !hasVerticalPadding\n\nconst createTypographyCss =\n  <T extends Theme>(theme: T) =>\n  (\n    size: keyof T['typography']['size'],\n    options: {\n      preserveHalfLeading?: boolean\n      monospace?: boolean\n      bold?: boolean\n    } = {}\n  ): Internal => {\n    const {\n      preserveHalfLeading = false,\n      monospace = false,\n      bold = false,\n    } = options\n    const descriptor = theme.typography.size[size]\n    const margin = -halfLeading(descriptor)\n\n    return internal(\n      (context) => ({\n        fontSize: px(descriptor.fontSize),\n        lineHeight: px(descriptor.lineHeight),\n        ...(monospace && {\n          fontFamily: 'monospace',\n        }),\n        ...(bold && {\n          fontWeight: 'bold',\n        }),\n        ...(useHalfLeadingCanceller(context) && {\n          // prevent margin collapsing\n          display: 'flow-root',\n          // cancel half-leading with negative margin\n          '&::before': {\n            ...leadingCancel,\n            marginTop: px(margin),\n          },\n          '&::after': {\n            ...leadingCancel,\n            marginBottom: px(margin),\n          },\n        }),\n      }),\n      !preserveHalfLeading\n        ? {\n            cancelHalfLeadingPx: margin,\n          }\n        : {}\n    )\n  }\n\nconst leadingCancel: CSSObject = {\n  display: 'block',\n  width: 0,\n  height: 0,\n  content: `''`,\n}\n\nfunction spacingProperty(\n  property: SpacingProperty,\n  direction: 'top' | 'right' | 'bottom' | 'left'\n) {\n  return `${property}-${direction}`\n}\n\nconst createSpacingCss =\n  <T extends Theme>(theme: { spacing: T['spacing'] }) =>\n  (\n    property: SpacingProperty,\n    modifiers: readonly [SpacingDirection, keyof T['spacing'] | 'auto'][]\n  ): Internal => {\n    const { top, right, bottom, left } = modifiers.reduce(\n      (acc, [direction, size]) => {\n        if (direction === 'all') {\n          acc.top = size\n          acc.right = size\n          acc.bottom = size\n          acc.left = size\n        } else if (direction === 'vertical') {\n          acc.top = size\n          acc.bottom = size\n        } else if (direction === 'horizontal') {\n          acc.right = size\n          acc.left = size\n        } else {\n          acc[direction] = size\n        }\n        return acc\n      },\n      {} as Partial<\n        Record<'top' | 'right' | 'bottom' | 'left', keyof T['spacing'] | 'auto'>\n      >\n    )\n\n    const hasVerticalPadding =\n      property === 'padding' &&\n      top !== undefined &&\n      bottom !== undefined &&\n      top !== 'auto' &&\n      bottom !== 'auto'\n\n    return internal(\n      ({ cancelHalfLeadingPx = 0 }) => ({\n        ...(top !== undefined && {\n          [spacingProperty(property, 'top')]:\n            top === 'auto'\n              ? 'auto'\n              : px(\n                  theme.spacing[top] +\n                    (hasVerticalPadding ? cancelHalfLeadingPx : 0)\n                ),\n        }),\n        ...(bottom !== undefined && {\n          [spacingProperty(property, 'bottom')]:\n            bottom === 'auto'\n              ? 'auto'\n              : px(\n                  theme.spacing[bottom] +\n                    (hasVerticalPadding ? cancelHalfLeadingPx : 0)\n                ),\n        }),\n        ...(right !== undefined && {\n          [spacingProperty(property, 'right')]:\n            right === 'auto' ? 'auto' : px(theme.spacing[right]),\n        }),\n        ...(left !== undefined && {\n          [spacingProperty(property, 'left')]:\n            left === 'auto' ? 'auto' : px(theme.spacing[left]),\n        }),\n      }),\n      hasVerticalPadding ? { hasVerticalPadding: true } : {}\n    )\n  }\n\nconst createFixedPxCss =\n  <T extends Theme>(theme: T) =>\n  (property: FixedProperty, size: keyof T['spacing'] | 'auto'): Internal =>\n    internal(() => ({\n      [property]: size === 'auto' ? 'auto' : px(theme.spacing[size]),\n    }))\n\nconst createFixedRelativeCss =\n  <T extends Theme>(_theme: T) =>\n  (property: FixedProperty, amount: '100%' | 'auto'): Internal =>\n    internal(() => ({\n      [property]: amount,\n    }))\n\nconst createFixedColumnCss =\n  <T extends Theme>(theme: T) =>\n  (property: FixedProperty, span: number): Internal =>\n    internal(() => ({\n      [property]: px(\n        columnSystem(span, theme.grid.unit.column, theme.grid.unit.gutter)\n      ),\n    }))\n\nconst createElementEffectCss =\n  <T extends Theme, TElementEffect extends T['elementEffect']>(theme: {\n    elementEffect: TElementEffect\n  }) =>\n  (effects: readonly (keyof TElementEffect)[] = []): Internal =>\n    internal(() =>\n      effects.filter(isSupportedEffect).reduce<CSSObject>(\n        (acc, effect) => ({\n          ...acc,\n          ...onEffectPseudo(effect, {\n            opacity:\n              !(Array as ReadonlyArrayConstructor).isArray(\n                theme.elementEffect[effect]\n              ) && theme.elementEffect[effect]?.type === 'opacity'\n                ? theme.elementEffect[effect]?.opacity\n                : unreachable(),\n          }),\n        }),\n        {}\n      )\n    )\n\nfunction borderProperty(direction: BorderDirection) {\n  return `border-${direction}`\n}\n\nfunction borderShorthand(color: string) {\n  return `solid 1px ${color}`\n}\n\nconst createBorderCss =\n  <T extends Theme>(theme: T) =>\n  (\n    variant: keyof T['border'],\n    directions: readonly BorderDirection[]\n  ): Internal => {\n    const all = directions.length === 0\n    const value = borderShorthand(theme.border[variant].color)\n    return internal(() => ({\n      ...(all\n        ? { border: value }\n        : directions.reduce<CSSObject>(\n            (acc, direction) => ({\n              ...acc,\n              [borderProperty(direction)]: value,\n            }),\n            {}\n          )),\n    }))\n  }\n\nconst createBorderRadiusCss =\n  <T extends Theme>(theme: T) =>\n  (size: keyof T['borderRadius']): Internal =>\n    internal(() => ({\n      borderRadius: px(theme.borderRadius[size]),\n    }))\n\ninterface Context {\n  cancelHalfLeadingPx?: number\n  hasVerticalPadding?: boolean\n  boxShadowTransition?: boolean\n  colorTransition?: boolean\n  backgroundColorTransition?: boolean\n}\n\nconst commonSpec = (_theme: unknown): Internal => {\n  const duration = dur(TRANSITION_DURATION)\n  const transition = (property: string[]) => ({\n    transition: property.map((v) => `${duration} ${v}`).join(', '),\n  })\n  return internal(\n    ({\n      colorTransition = false,\n      backgroundColorTransition = false,\n      boxShadowTransition = false,\n    }) =>\n      transition(\n        [\n          colorTransition ? 'color' : null,\n          backgroundColorTransition ? 'background-color' : null,\n          boxShadowTransition ? 'box-shadow' : null,\n        ].filter(isPresent)\n      )\n  )\n}\n\nconst internalSym: unique symbol = Symbol('internal')\n\nfunction internal(\n  operation: (context: Context) => CSSObject,\n  context: Context = {}\n): Internal {\n  return {\n    [internalSym]: {\n      operation,\n      context,\n    },\n  }\n}\n\nexport interface Internal {\n  [internalSym]: {\n    operation: (context: Context) => CSSObject\n    context: Context\n  }\n}\n\ntype Blank = null | undefined | false\n\nconst nonBlank = <T>(value: T): value is T extends Blank ? never : T =>\n  isPresent(value) && (value as unknown) !== false\n\n/**\n * `theme(o => [...])`  `theme` \n *\n * @param _styled styled-componnets  `styled`  ()\n *\n * @example\n *\n * import styled from 'styled-components'\n * const theme = createTheme(styled)\n *\n * @example\n *\n * const theme = createTheme<DefaultTheme>()\n */\nexport function createTheme<T extends Theme>(\n  _styled?: ThemedStyledInterface<T>\n) {\n  // `theme(o => [...])`  `o` \n  // TcreateTheme\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-explicit-any\n  const _phantomBuilder = builder<T>({} as any, true)\n  //  `theme(o => [...])` \n  return (\n      // \n      spec: (\n        o: typeof _phantomBuilder\n      ) => Blank | Internal | (Blank | Internal)[]\n    ): ThemeProp<T> =>\n    ({ theme }) => {\n      if (theme == null) {\n        // \n        throw new Error(\n          '`theme` is invalid. `<ThemeProvider>` is not likely mounted.'\n        )\n      }\n      // styled-componentsthemebuilder`o`\n      // builder`o`\n      // (`o`T)\n      const rawSpecDescriptor = spec(builder(theme))\n      // \n      const specDescriptor = [\n        ...(Array.isArray(rawSpecDescriptor)\n          ? rawSpecDescriptor\n          : [rawSpecDescriptor]),\n        commonSpec(theme),\n      ].filter(nonBlank)\n\n      // 1\n      // ()\n      const context = specDescriptor.reduce<Context>(\n        (acc, v) => ({ ...acc, ...v[internalSym].context }),\n        {}\n      )\n      // 2\n      // CSS\n      return specDescriptor.map((v) => v[internalSym].operation(context))\n    }\n}\n\nexport type ThemeProp<T> = ({\n  theme,\n}: {\n  theme: T | undefined\n}) => CSSObject | CSSObject[]\n","/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */\nvar twemoji=function(){\"use strict\";var twemoji={base:\"https://twemoji.maxcdn.com/v/14.0.2/\",ext:\".png\",size:\"72x72\",className:\"emoji\",convert:{fromCodePoint:fromCodePoint,toCodePoint:toCodePoint},onerror:function onerror(){if(this.parentNode){this.parentNode.replaceChild(createText(this.alt,false),this)}},parse:parse,replace:replace,test:test},escaper={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"'\":\"&#39;\",'\"':\"&quot;\"},re=/(?:\\ud83d\\udc68\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffc-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83e\\uddd1\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83e\\uddd1\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc68\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffc-\\udfff]|\\ud83d\\udc68\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83d\\udc68\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83d\\udc68\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83d\\udc68\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffc-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffc-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udffe]|\\ud83e\\uddd1\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffc-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83e\\uddd1\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83e\\uddd1\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffe]|\\ud83e\\uddd1\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d[\\udc68\\udc69]|\\ud83e\\udef1\\ud83c\\udffb\\u200d\\ud83e\\udef2\\ud83c[\\udffc-\\udfff]|\\ud83e\\udef1\\ud83c\\udffc\\u200d\\ud83e\\udef2\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83e\\udef1\\ud83c\\udffd\\u200d\\ud83e\\udef2\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83e\\udef1\\ud83c\\udffe\\u200d\\ud83e\\udef2\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83e\\udef1\\ud83c\\udfff\\u200d\\ud83e\\udef2\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d[\\udc68\\udc69]|\\ud83e\\uddd1\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1|\\ud83d\\udc6b\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc6c\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc6d\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc8f\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc91\\ud83c[\\udffb-\\udfff]|\\ud83e\\udd1d\\ud83c[\\udffb-\\udfff]|\\ud83d[\\udc6b-\\udc6d\\udc8f\\udc91]|\\ud83e\\udd1d)|(?:\\ud83d[\\udc68\\udc69]|\\ud83e\\uddd1)(?:\\ud83c[\\udffb-\\udfff])?\\u200d(?:\\u2695\\ufe0f|\\u2696\\ufe0f|\\u2708\\ufe0f|\\ud83c[\\udf3e\\udf73\\udf7c\\udf84\\udf93\\udfa4\\udfa8\\udfeb\\udfed]|\\ud83d[\\udcbb\\udcbc\\udd27\\udd2c\\ude80\\ude92]|\\ud83e[\\uddaf-\\uddb3\\uddbc\\uddbd])|(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75]|\\u26f9)((?:\\ud83c[\\udffb-\\udfff]|\\ufe0f)\\u200d[\\u2640\\u2642]\\ufe0f)|(?:\\ud83c[\\udfc3\\udfc4\\udfca]|\\ud83d[\\udc6e\\udc70\\udc71\\udc73\\udc77\\udc81\\udc82\\udc86\\udc87\\ude45-\\ude47\\ude4b\\ude4d\\ude4e\\udea3\\udeb4-\\udeb6]|\\ud83e[\\udd26\\udd35\\udd37-\\udd39\\udd3d\\udd3e\\uddb8\\uddb9\\uddcd-\\uddcf\\uddd4\\uddd6-\\udddd])(?:\\ud83c[\\udffb-\\udfff])?\\u200d[\\u2640\\u2642]\\ufe0f|(?:\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83c\\udff3\\ufe0f\\u200d\\u26a7\\ufe0f|\\ud83c\\udff3\\ufe0f\\u200d\\ud83c\\udf08|\\ud83d\\ude36\\u200d\\ud83c\\udf2b\\ufe0f|\\u2764\\ufe0f\\u200d\\ud83d\\udd25|\\u2764\\ufe0f\\u200d\\ud83e\\ude79|\\ud83c\\udff4\\u200d\\u2620\\ufe0f|\\ud83d\\udc15\\u200d\\ud83e\\uddba|\\ud83d\\udc3b\\u200d\\u2744\\ufe0f|\\ud83d\\udc41\\u200d\\ud83d\\udde8|\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc6f\\u200d\\u2640\\ufe0f|\\ud83d\\udc6f\\u200d\\u2642\\ufe0f|\\ud83d\\ude2e\\u200d\\ud83d\\udca8|\\ud83d\\ude35\\u200d\\ud83d\\udcab|\\ud83e\\udd3c\\u200d\\u2640\\ufe0f|\\ud83e\\udd3c\\u200d\\u2642\\ufe0f|\\ud83e\\uddde\\u200d\\u2640\\ufe0f|\\ud83e\\uddde\\u200d\\u2642\\ufe0f|\\ud83e\\udddf\\u200d\\u2640\\ufe0f|\\ud83e\\udddf\\u200d\\u2642\\ufe0f|\\ud83d\\udc08\\u200d\\u2b1b)|[#*0-9]\\ufe0f?\\u20e3|(?:[\\u2122\\u265f]\\ufe0f)|(?:\\ud83c[\\udc04\\udd70\\udd71\\udd7e\\udd7f\\ude02\\ude1a\\ude2f\\ude37\\udf21\\udf24-\\udf2c\\udf36\\udf7d\\udf96\\udf97\\udf99-\\udf9b\\udf9e\\udf9f\\udfcd\\udfce\\udfd4-\\udfdf\\udff3\\udff5\\udff7]|\\ud83d[\\udc3f\\udc41\\udcfd\\udd49\\udd4a\\udd6f\\udd70\\udd73\\udd76-\\udd79\\udd87\\udd8a-\\udd8d\\udda5\\udda8\\uddb1\\uddb2\\uddbc\\uddc2-\\uddc4\\uddd1-\\uddd3\\udddc-\\uddde\\udde1\\udde3\\udde8\\uddef\\uddf3\\uddfa\\udecb\\udecd-\\udecf\\udee0-\\udee5\\udee9\\udef0\\udef3]|[\\u203c\\u2049\\u2139\\u2194-\\u2199\\u21a9\\u21aa\\u231a\\u231b\\u2328\\u23cf\\u23ed-\\u23ef\\u23f1\\u23f2\\u23f8-\\u23fa\\u24c2\\u25aa\\u25ab\\u25b6\\u25c0\\u25fb-\\u25fe\\u2600-\\u2604\\u260e\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262a\\u262e\\u262f\\u2638-\\u263a\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267b\\u267f\\u2692-\\u2697\\u2699\\u269b\\u269c\\u26a0\\u26a1\\u26a7\\u26aa\\u26ab\\u26b0\\u26b1\\u26bd\\u26be\\u26c4\\u26c5\\u26c8\\u26cf\\u26d1\\u26d3\\u26d4\\u26e9\\u26ea\\u26f0-\\u26f5\\u26f8\\u26fa\\u26fd\\u2702\\u2708\\u2709\\u270f\\u2712\\u2714\\u2716\\u271d\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u2764\\u27a1\\u2934\\u2935\\u2b05-\\u2b07\\u2b1b\\u2b1c\\u2b50\\u2b55\\u3030\\u303d\\u3297\\u3299])(?:\\ufe0f|(?!\\ufe0e))|(?:(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75\\udd90]|[\\u261d\\u26f7\\u26f9\\u270c\\u270d])(?:\\ufe0f|(?!\\ufe0e))|(?:\\ud83c[\\udf85\\udfc2-\\udfc4\\udfc7\\udfca]|\\ud83d[\\udc42\\udc43\\udc46-\\udc50\\udc66-\\udc69\\udc6e\\udc70-\\udc78\\udc7c\\udc81-\\udc83\\udc85-\\udc87\\udcaa\\udd7a\\udd95\\udd96\\ude45-\\ude47\\ude4b-\\ude4f\\udea3\\udeb4-\\udeb6\\udec0\\udecc]|\\ud83e[\\udd0c\\udd0f\\udd18-\\udd1c\\udd1e\\udd1f\\udd26\\udd30-\\udd39\\udd3d\\udd3e\\udd77\\uddb5\\uddb6\\uddb8\\uddb9\\uddbb\\uddcd-\\uddcf\\uddd1-\\udddd\\udec3-\\udec5\\udef0-\\udef6]|[\\u270a\\u270b]))(?:\\ud83c[\\udffb-\\udfff])?|(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc65\\udb40\\udc6e\\udb40\\udc67\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc73\\udb40\\udc63\\udb40\\udc74\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc77\\udb40\\udc6c\\udb40\\udc73\\udb40\\udc7f|\\ud83c\\udde6\\ud83c[\\udde8-\\uddec\\uddee\\uddf1\\uddf2\\uddf4\\uddf6-\\uddfa\\uddfc\\uddfd\\uddff]|\\ud83c\\udde7\\ud83c[\\udde6\\udde7\\udde9-\\uddef\\uddf1-\\uddf4\\uddf6-\\uddf9\\uddfb\\uddfc\\uddfe\\uddff]|\\ud83c\\udde8\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\uddee\\uddf0-\\uddf5\\uddf7\\uddfa-\\uddff]|\\ud83c\\udde9\\ud83c[\\uddea\\uddec\\uddef\\uddf0\\uddf2\\uddf4\\uddff]|\\ud83c\\uddea\\ud83c[\\udde6\\udde8\\uddea\\uddec\\udded\\uddf7-\\uddfa]|\\ud83c\\uddeb\\ud83c[\\uddee-\\uddf0\\uddf2\\uddf4\\uddf7]|\\ud83c\\uddec\\ud83c[\\udde6\\udde7\\udde9-\\uddee\\uddf1-\\uddf3\\uddf5-\\uddfa\\uddfc\\uddfe]|\\ud83c\\udded\\ud83c[\\uddf0\\uddf2\\uddf3\\uddf7\\uddf9\\uddfa]|\\ud83c\\uddee\\ud83c[\\udde8-\\uddea\\uddf1-\\uddf4\\uddf6-\\uddf9]|\\ud83c\\uddef\\ud83c[\\uddea\\uddf2\\uddf4\\uddf5]|\\ud83c\\uddf0\\ud83c[\\uddea\\uddec-\\uddee\\uddf2\\uddf3\\uddf5\\uddf7\\uddfc\\uddfe\\uddff]|\\ud83c\\uddf1\\ud83c[\\udde6-\\udde8\\uddee\\uddf0\\uddf7-\\uddfb\\uddfe]|\\ud83c\\uddf2\\ud83c[\\udde6\\udde8-\\udded\\uddf0-\\uddff]|\\ud83c\\uddf3\\ud83c[\\udde6\\udde8\\uddea-\\uddec\\uddee\\uddf1\\uddf4\\uddf5\\uddf7\\uddfa\\uddff]|\\ud83c\\uddf4\\ud83c\\uddf2|\\ud83c\\uddf5\\ud83c[\\udde6\\uddea-\\udded\\uddf0-\\uddf3\\uddf7-\\uddf9\\uddfc\\uddfe]|\\ud83c\\uddf6\\ud83c\\udde6|\\ud83c\\uddf7\\ud83c[\\uddea\\uddf4\\uddf8\\uddfa\\uddfc]|\\ud83c\\uddf8\\ud83c[\\udde6-\\uddea\\uddec-\\uddf4\\uddf7-\\uddf9\\uddfb\\uddfd-\\uddff]|\\ud83c\\uddf9\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\udded\\uddef-\\uddf4\\uddf7\\uddf9\\uddfb\\uddfc\\uddff]|\\ud83c\\uddfa\\ud83c[\\udde6\\uddec\\uddf2\\uddf3\\uddf8\\uddfe\\uddff]|\\ud83c\\uddfb\\ud83c[\\udde6\\udde8\\uddea\\uddec\\uddee\\uddf3\\uddfa]|\\ud83c\\uddfc\\ud83c[\\uddeb\\uddf8]|\\ud83c\\uddfd\\ud83c\\uddf0|\\ud83c\\uddfe\\ud83c[\\uddea\\uddf9]|\\ud83c\\uddff\\ud83c[\\udde6\\uddf2\\uddfc]|\\ud83c[\\udccf\\udd8e\\udd91-\\udd9a\\udde6-\\uddff\\ude01\\ude32-\\ude36\\ude38-\\ude3a\\ude50\\ude51\\udf00-\\udf20\\udf2d-\\udf35\\udf37-\\udf7c\\udf7e-\\udf84\\udf86-\\udf93\\udfa0-\\udfc1\\udfc5\\udfc6\\udfc8\\udfc9\\udfcf-\\udfd3\\udfe0-\\udff0\\udff4\\udff8-\\udfff]|\\ud83d[\\udc00-\\udc3e\\udc40\\udc44\\udc45\\udc51-\\udc65\\udc6a\\udc6f\\udc79-\\udc7b\\udc7d-\\udc80\\udc84\\udc88-\\udc8e\\udc90\\udc92-\\udca9\\udcab-\\udcfc\\udcff-\\udd3d\\udd4b-\\udd4e\\udd50-\\udd67\\udda4\\uddfb-\\ude44\\ude48-\\ude4a\\ude80-\\udea2\\udea4-\\udeb3\\udeb7-\\udebf\\udec1-\\udec5\\uded0-\\uded2\\uded5-\\uded7\\udedd-\\udedf\\udeeb\\udeec\\udef4-\\udefc\\udfe0-\\udfeb\\udff0]|\\ud83e[\\udd0d\\udd0e\\udd10-\\udd17\\udd20-\\udd25\\udd27-\\udd2f\\udd3a\\udd3c\\udd3f-\\udd45\\udd47-\\udd76\\udd78-\\uddb4\\uddb7\\uddba\\uddbc-\\uddcc\\uddd0\\uddde-\\uddff\\ude70-\\ude74\\ude78-\\ude7c\\ude80-\\ude86\\ude90-\\udeac\\udeb0-\\udeba\\udec0-\\udec2\\uded0-\\uded9\\udee0-\\udee7]|[\\u23e9-\\u23ec\\u23f0\\u23f3\\u267e\\u26ce\\u2705\\u2728\\u274c\\u274e\\u2753-\\u2755\\u2795-\\u2797\\u27b0\\u27bf\\ue50a])|\\ufe0f/g,UFE0Fg=/\\uFE0F/g,U200D=String.fromCharCode(8205),rescaper=/[&<>'\"]/g,shouldntBeParsed=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,fromCharCode=String.fromCharCode;return twemoji;function createText(text,clean){return document.createTextNode(clean?text.replace(UFE0Fg,\"\"):text)}function escapeHTML(s){return s.replace(rescaper,replacer)}function defaultImageSrcGenerator(icon,options){return\"\".concat(options.base,options.size,\"/\",icon,options.ext)}function grabAllTextNodes(node,allText){var childNodes=node.childNodes,length=childNodes.length,subnode,nodeType;while(length--){subnode=childNodes[length];nodeType=subnode.nodeType;if(nodeType===3){allText.push(subnode)}else if(nodeType===1&&!(\"ownerSVGElement\"in subnode)&&!shouldntBeParsed.test(subnode.nodeName.toLowerCase())){grabAllTextNodes(subnode,allText)}}return allText}function grabTheRightIcon(rawText){return toCodePoint(rawText.indexOf(U200D)<0?rawText.replace(UFE0Fg,\"\"):rawText)}function parseNode(node,options){var allText=grabAllTextNodes(node,[]),length=allText.length,attrib,attrname,modified,fragment,subnode,text,match,i,index,img,rawText,iconId,src;while(length--){modified=false;fragment=document.createDocumentFragment();subnode=allText[length];text=subnode.nodeValue;i=0;while(match=re.exec(text)){index=match.index;if(index!==i){fragment.appendChild(createText(text.slice(i,index),true))}rawText=match[0];iconId=grabTheRightIcon(rawText);i=index+rawText.length;src=options.callback(iconId,options);if(iconId&&src){img=new Image;img.onerror=options.onerror;img.setAttribute(\"draggable\",\"false\");attrib=options.attributes(rawText,iconId);for(attrname in attrib){if(attrib.hasOwnProperty(attrname)&&attrname.indexOf(\"on\")!==0&&!img.hasAttribute(attrname)){img.setAttribute(attrname,attrib[attrname])}}img.className=options.className;img.alt=rawText;img.src=src;modified=true;fragment.appendChild(img)}if(!img)fragment.appendChild(createText(rawText,false));img=null}if(modified){if(i<text.length){fragment.appendChild(createText(text.slice(i),true))}subnode.parentNode.replaceChild(fragment,subnode)}}return node}function parseString(str,options){return replace(str,function(rawText){var ret=rawText,iconId=grabTheRightIcon(rawText),src=options.callback(iconId,options),attrib,attrname;if(iconId&&src){ret=\"<img \".concat('class=\"',options.className,'\" ','draggable=\"false\" ','alt=\"',rawText,'\"',' src=\"',src,'\"');attrib=options.attributes(rawText,iconId);for(attrname in attrib){if(attrib.hasOwnProperty(attrname)&&attrname.indexOf(\"on\")!==0&&ret.indexOf(\" \"+attrname+\"=\")===-1){ret=ret.concat(\" \",attrname,'=\"',escapeHTML(attrib[attrname]),'\"')}}ret=ret.concat(\"/>\")}return ret})}function replacer(m){return escaper[m]}function returnNull(){return null}function toSizeSquaredAsset(value){return typeof value===\"number\"?value+\"x\"+value:value}function fromCodePoint(codepoint){var code=typeof codepoint===\"string\"?parseInt(codepoint,16):codepoint;if(code<65536){return fromCharCode(code)}code-=65536;return fromCharCode(55296+(code>>10),56320+(code&1023))}function parse(what,how){if(!how||typeof how===\"function\"){how={callback:how}}return(typeof what===\"string\"?parseString:parseNode)(what,{callback:how.callback||defaultImageSrcGenerator,attributes:typeof how.attributes===\"function\"?how.attributes:returnNull,base:typeof how.base===\"string\"?how.base:twemoji.base,ext:how.ext||twemoji.ext,size:how.folder||toSizeSquaredAsset(how.size||twemoji.size),className:how.className||twemoji.className,onerror:how.onerror||twemoji.onerror})}function replace(text,callback){return String(text).replace(re,callback)}function test(text){re.lastIndex=0;var result=re.test(text);re.lastIndex=0;return result}function toCodePoint(unicodeSurrogates,sep){var r=[],c=0,p=0,i=0;while(i<unicodeSurrogates.length){c=unicodeSurrogates.charCodeAt(i++);if(p){r.push((65536+(p-55296<<10)+(c-56320)).toString(16));p=0}else if(55296<=c&&c<=56319){p=c}else{r.push(c.toString(16))}}return r.join(sep||\"-\")}}();\nexport default twemoji;","import { css } from \"styled-components\";\nimport twemoji from \"twemoji\";\n\nexport const Twemoji = ({ emoji, size }: { emoji: string; size: number }) => {\n  return (\n    <span\n      css={css`\n        display: inline-flex;\n        vertical-align: top;\n        > img {\n          width: ${size}px;\n          height: ${size}px;\n        }\n      `}\n      dangerouslySetInnerHTML={{\n        __html: twemoji.parse(emoji, {\n          folder: \"svg\",\n          ext: \".svg\",\n        }),\n      }}\n    />\n  );\n};\n","import styled, { css } from \"styled-components\";\nimport { createTheme } from \"@charcoal-ui/styled\";\nimport { maxWidth } from \"@charcoal-ui/utils\";\nimport { PropsWithChildren } from \"react\";\nimport {\n  columnSystem,\n  COLUMN_UNIT,\n  GUTTER_UNIT,\n} from \"@charcoal-ui/foundation\";\n\nconst theme = createTheme(styled);\n\nconst MAX_WIDTH = columnSystem(12, COLUMN_UNIT, GUTTER_UNIT);\n\nexport const Aligner = ({ children }: PropsWithChildren<{}>) => (\n  <div\n    css={css`\n      ${theme((o) => [o.padding.horizontal(24)])}\n      @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n        ${theme((o) => [o.padding.horizontal(16)])}\n      }\n    `}\n  >\n    <div\n      css={css`\n        max-width: ${MAX_WIDTH}px;\n        margin: 0 auto;\n        height: 100%;\n      `}\n    >\n      {children}\n    </div>\n  </div>\n);\n","import React, { useContext } from 'react'\n\nexport type LinkProps = {\n  /**\n   * URL\n   */\n  to: string\n} & Omit<React.ComponentPropsWithoutRef<'a'>, 'href'>\n\nexport const DefaultLink = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function DefaultLink({ to, children, ...rest }, ref) {\n    return (\n      <a href={to} ref={ref} {...rest}>\n        {children}\n      </a>\n    )\n  }\n)\n\ninterface Components {\n  Link: React.ComponentType<React.ComponentPropsWithRef<typeof DefaultLink>>\n}\n\nconst DefaultValue: Components = {\n  Link: DefaultLink,\n}\n\nconst ComponentAbstractionContext = React.createContext(DefaultValue)\n\ninterface Props {\n  children: React.ReactNode\n  components: Partial<Components>\n}\n\nexport default function ComponentAbstraction({ children, components }: Props) {\n  return (\n    <ComponentAbstractionContext.Provider\n      value={{ ...DefaultValue, ...components }}\n    >\n      {children}\n    </ComponentAbstractionContext.Provider>\n  )\n}\n\nexport function useComponentAbstraction() {\n  return useContext(ComponentAbstractionContext)\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {ReactNode, useContext, useLayoutEffect, useMemo, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\n\nexport interface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n/**\n * When using SSR with React Aria, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): JSX.Element {\n  let cur = useContext(SSRContext);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${++cur.current}`,\n    current: 0\n  }), [cur]);\n\n  return (\n    <SSRContext.Provider value={value}>\n      {props.children}\n    </SSRContext.Provider>\n  );\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/** @private */\nexport function useSSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM) {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  return useMemo(() => defaultId || `react-aria${ctx.prefix}-${++ctx.current}`, [defaultId]);\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  let cur = useContext(SSRContext);\n  let isInSSRContext = cur !== defaultContext;\n  let [isSSR, setIsSSR] = useState(isInSSRContext);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof window !== 'undefined' && isInSSRContext) {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return isSSR;\n}\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  let updateValue = useCallback((val) => {\n    nextId.current = val;\n  }, []);\n\n  idsUpdaterMap.set(res, updateValue);\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  // This cannot cause an infinite loop because the ref is updated first.\n  // eslint-disable-next-line\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      nextId.current = null;\n      setValue(newId);\n    }\n  });\n\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : null;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, useCallback, useRef, useState} from 'react';\nimport {useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let valueRef = useRef(value);\n  let effect = useRef(null);\n\n  valueRef.current = value;\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useRef(null);\n  nextRef.current = () => {\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef.current();\n    } else {\n      setValue(newValue.value);\n    }\n  };\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef.current();\n    }\n  });\n\n  let queue = useCallback(fn => {\n    effect.current = fn(valueRef.current);\n    nextRef.current();\n  }, [effect, nextRef]);\n\n  return [value, queue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? V : never;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends Props[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, propNames} = opts;\n  let filteredProps = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: FocusableElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      var focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: FocusableElement): ScrollableElement[] {\n  var parent = element.parentNode;\n  var scrollableElements: ScrollableElement[] = [];\n  var rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  let onTransitionStart = (e: TransitionEvent) => {\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd);\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: TransitionEvent) => {\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([...labelledBy.trim().split(/\\s+/), id]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context: ContextValue<T>, ref: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        context.ref.current = null;\n      };\n    }\n  }, [context, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof window !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let [size, setSize] = useState(() => getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: visualViewport?.width || window.innerWidth,\n    height: visualViewport?.height || window.innerHeight\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: Element}>();\n\nexport function useDescription(description: string): AriaLabelingProps {\n  let [id, setId] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (--desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator['userAgentData']?.platform || window.navigator.platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/i);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/i);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/i);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<Element, string>();\n\nexport function disableTextSelection(target?: Element) {\n  if (isIOS()) {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: Element) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target);\n\n      if (target.style.userSelect === 'none') {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent as ReactFocusEvent, useCallback, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport class SyntheticFocusEvent implements ReactFocusEvent {\n  nativeEvent: FocusEvent;\n  target: Element;\n  currentTarget: Element;\n  relatedTarget: Element;\n  bubbles: boolean;\n  cancelable: boolean;\n  defaultPrevented: boolean;\n  eventPhase: number;\n  isTrusted: boolean;\n  timeStamp: number;\n  type: string;\n\n  constructor(type: string, nativeEvent: FocusEvent) {\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEvent.target as Element;\n    this.currentTarget = nativeEvent.currentTarget as Element;\n    this.relatedTarget = nativeEvent.relatedTarget as Element;\n    this.bubbles = nativeEvent.bubbles;\n    this.cancelable = nativeEvent.cancelable;\n    this.defaultPrevented = nativeEvent.defaultPrevented;\n    this.eventPhase = nativeEvent.eventPhase;\n    this.isTrusted = nativeEvent.isTrusted;\n    this.timeStamp = nativeEvent.timeStamp;\n    this.type = type;\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.nativeEvent.defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this.defaultPrevented = true;\n    this.nativeEvent.preventDefault();\n  }\n\n  stopPropagation(): void {\n    this.nativeEvent.stopPropagation();\n    this.isPropagationStopped = () => true;\n  }\n\n  isPropagationStopped(): boolean {\n    return false;\n  }\n\n  persist() {}\n}\n\nexport function useSyntheticBlurEvent(onBlur: (e: ReactFocusEvent) => void) {\n  let stateRef = useRef({\n    isFocused: false,\n    onBlur,\n    observer: null as MutationObserver\n  });\n  stateRef.current.onBlur = onBlur;\n\n  // Clean up MutationObserver on unmount. See below.\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n\n  // This function is called during a React onFocus event.\n  return useCallback((e: ReactFocusEvent) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      stateRef.current.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler = (e: FocusEvent) => {\n        stateRef.current.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          stateRef.current.onBlur?.(new SyntheticFocusEvent('blur', e));\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          stateRef.current.observer.disconnect();\n          target.dispatchEvent(new FocusEvent('blur'));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true}));\n        }\n      });\n\n      stateRef.current.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  }, []);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<FocusableElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>(null);\nPressResponderContext.displayName = 'PressResponderContext';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {DOMAttributes, FocusableElement, PointerType, PressEvents} from '@react-types/shared';\nimport {focusWithoutScrolling, mergeProps, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {PressResponderContext} from './context';\nimport {RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<Element>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  activePointerId: any,\n  target: FocusableElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType,\n  userSelect?: string\n}\n\ninterface EventBase {\n  currentTarget: EventTarget,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: DOMAttributes\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n  let propsRef = useRef<PressHookProps>(null);\n  propsRef.current = {onPress, onPressChange, onPressStart, onPressEnd, onPressUp, isDisabled, shouldCancelOnPointerExit};\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let triggerPressStart = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressStart, onPressChange, isDisabled} = propsRef.current;\n      if (isDisabled || state.didFirePressStart) {\n        return;\n      }\n\n      if (onPressStart) {\n        onPressStart({\n          type: 'pressstart',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(true);\n      }\n\n      state.didFirePressStart = true;\n      setPressed(true);\n    };\n\n    let triggerPressEnd = (originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n      let {onPressEnd, onPressChange, onPress, isDisabled} = propsRef.current;\n      if (!state.didFirePressStart) {\n        return;\n      }\n\n      state.ignoreClickAfterPress = true;\n      state.didFirePressStart = false;\n\n      if (onPressEnd) {\n        onPressEnd({\n          type: 'pressend',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(false);\n      }\n\n      setPressed(false);\n\n      if (onPress && wasPressed && !isDisabled) {\n        onPress({\n          type: 'press',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let triggerPressUp = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressUp, isDisabled} = propsRef.current;\n      if (isDisabled) {\n        return;\n      }\n\n      if (onPressUp) {\n        onPressUp({\n          type: 'pressup',\n          pointerType,\n          target: originalEvent.currentTarget as Element,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let cancel = (e: EventBase) => {\n      if (state.isPressed) {\n        if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n        state.isPressed = false;\n        state.isOverTarget = false;\n        state.activePointerId = null;\n        state.pointerType = null;\n        removeAllGlobalListeners();\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n      }\n    };\n\n    let pressProps: DOMAttributes = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && e.currentTarget.contains(e.target as Element)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n            e.preventDefault();\n          }\n          e.stopPropagation();\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget;\n            state.isPressed = true;\n            triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred.\n            addGlobalListener(document, 'keyup', onKeyUp, false);\n          }\n        } else if (e.key === 'Enter' && isHTMLAnchorLink(e.currentTarget)) {\n          // If the target is a link, we won't have handled this above because we want the default\n          // browser behavior to open the link when pressing Enter. But we still need to prevent\n          // default so that elements above do not also handle it (e.g. table row).\n          e.stopPropagation();\n        }\n      },\n      onKeyUp(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && !e.repeat && e.currentTarget.contains(e.target as Element)) {\n          triggerPressUp(createEvent(state.target, e), 'keyboard');\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e && e.button === 0) {\n          e.stopPropagation();\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            triggerPressStart(e, 'virtual');\n            triggerPressUp(e, 'virtual');\n            triggerPressEnd(e, 'virtual');\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && isValidKeyboardEvent(e, state.target)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n          e.preventDefault();\n        }\n        e.stopPropagation();\n\n        state.isPressed = false;\n        let target = e.target as Element;\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        // If the target is a link, trigger the click method to open the URL,\n        // but defer triggering pressEnd until onClick event handler.\n        if (state.target instanceof HTMLElement && state.target.contains(target) && (isHTMLAnchorLink(state.target) || state.target.getAttribute('role') === 'link')) {\n          state.target.click();\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as Element)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(document, 'pointermove', onPointerMove, false);\n          addGlobalListener(document, 'pointerup', onPointerUp, false);\n          addGlobalListener(document, 'pointercancel', onPointerCancel, false);\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.currentTarget as Element)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as Element) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0) {\n          if (isOverTarget(e, state.target)) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget)) {\n          e.preventDefault();\n        }\n\n        e.stopPropagation();\n        if (state.ignoreEmulatedMouseEvents) {\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(document, 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = true;\n          triggerPressStart(e, state.pointerType);\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType);\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(window, 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType);\n          triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(e, state.pointerType, false);\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as Element).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [addGlobalListener, isDisabled, preventFocusOnPress, removeAllGlobalListeners, allowTextSelectionOnPress]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(ref.current.target);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: Element): boolean {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent, currentTarget: Element): boolean {\n  const {key, code} = event;\n  const element = currentTarget as HTMLElement;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    !((element instanceof HTMLInputElement && !isValidInputKey(element, key)) ||\n      element instanceof HTMLTextAreaElement ||\n      element.isContentEditable) &&\n    // A link with a valid href should be handled natively,\n    // unless it also has role='button' and was triggered using Space.\n    (!isHTMLAnchorLink(element) || (role === 'button' && key !== 'Enter')) &&\n    // An element with role='link' should only trigger with Enter key\n    !(role === 'link' && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: FocusableElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = (point.width / 2) || point.radiusX || 0;\n  let offsetY = (point.height / 2) || point.radiusY || 0;\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: Element) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: Element) {\n  // We cannot prevent default if the target is a draggable element.\n  return !(target instanceof HTMLElement) || !target.draggable;\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element, key: string) {\n  if (target instanceof HTMLInputElement) {\n    return !isValidInputKey(target, key);\n  }\n\n  if (target instanceof HTMLButtonElement) {\n    return target.type !== 'submit';\n  }\n\n  return true;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\nfunction isValidInputKey(target: HTMLInputElement, key: string) {\n  // Only space should toggle checkboxes and radios, not enter.\n  return target.type === 'checkbox' || target.type === 'radio'\n    ? key === ' '\n    : nonTextInputTypes.has(target.type);\n}\n\nfunction isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n  // Talkback double tap from Windows Firefox touch screen press\n  return (\n    (event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0 &&\n      event.pointerType === 'mouse'\n    )\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, FocusEvents} from '@react-types/shared';\nimport {FocusEvent, useCallback} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusProps extends FocusEvents {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusResult {\n  /** Props to spread onto the target element. */\n  focusProps: DOMAttributes\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus(props: FocusProps): FocusResult {\n  let {\n    isDisabled,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onFocusChange\n  } = props;\n\n  const onBlur: FocusProps['onBlur'] = useCallback((e: FocusEvent) => {\n    if (e.target === e.currentTarget) {\n      if (onBlurProp) {\n        onBlurProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(false);\n      }\n\n      return true;\n    }\n  }, [onBlurProp, onFocusChange]);\n\n\n  const onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n\n  const onFocus: FocusProps['onFocus'] = useCallback((e: FocusEvent) => {\n    if (e.target === e.currentTarget) {\n      if (onFocusProp) {\n        onFocusProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(true);\n      }\n\n      onSyntheticFocus(e);\n    }\n  }, [onFocusChange, onFocusProp, onSyntheticFocus]);\n\n  return {\n    focusProps: {\n      onFocus: (!isDisabled && (onFocusProp || onFocusChange || onBlurProp)) ? onFocus : undefined,\n      onBlur: (!isDisabled && (onBlurProp || onFocusChange)) ? onBlur : null\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {isMac} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {useEffect, useState} from 'react';\n\nexport type Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\nexport type FocusVisibleHandler = (isFocusVisible: boolean) => void;\ninterface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality = null;\nlet changeHandlers = new Set<Handler>();\nlet hasSetupGlobalListeners = false;\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents() {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners) {\n    return;\n  }\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = HTMLElement.prototype.focus;\n  HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n\n  document.addEventListener('keydown', handleKeyboardEvent, true);\n  document.addEventListener('keyup', handleKeyboardEvent, true);\n  document.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  window.addEventListener('focus', handleFocusEvent, true);\n  window.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerdown', handlePointerEvent, true);\n    document.addEventListener('pointermove', handlePointerEvent, true);\n    document.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    document.addEventListener('mousedown', handlePointerEvent, true);\n    document.addEventListener('mousemove', handlePointerEvent, true);\n    document.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners = true;\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalFocusEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalFocusEvents);\n  }\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return modality;\n}\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  return !(isTextInput && modality === 'keyboard' && e instanceof KeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(opts?.isTextInput, modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, deps);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler: (e: BaseEvent<T>) => void): (e: T) => void {\n  if (!handler) {\n    return;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {DOMAttributes, KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: DOMAttributes\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusWithoutScrolling, runAfterTransition} from '@react-aria/utils';\nimport {getInteractionModality} from '@react-aria/interactions';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: FocusableElement) {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = document.activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (document.activeElement === lastFocusedElement && document.contains(element)) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusSafely} from './focusSafely';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n\nexport interface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\nexport interface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: Element,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean,\n  /** A callback that determines whether the given element is focused. */\n  accept?: (node: Element) => boolean\n}\n\nexport interface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): FocusableElement,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): FocusableElement,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): FocusableElement,\n    /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): FocusableElement\n}\n\ntype ScopeRef = RefObject<Element[]>;\ninterface IFocusContext {\n  scopeRef: ScopeRef,\n  focusManager: FocusManager\n}\n\nconst FocusContext = React.createContext<IFocusContext>(null);\n\nlet activeScope: ScopeRef = null;\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps) {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>();\n  let endRef = useRef<HTMLSpanElement>();\n  let scopeRef = useRef<Element[]>([]);\n  let ctx = useContext(FocusContext);\n  // if there is no scopeRef on the context, then the parent is the focusScopeTree's root, represented by null\n  let parentScope = ctx?.scopeRef ?? null;\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current.nextSibling;\n    let nodes = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node);\n      node = node.nextSibling;\n    }\n\n    scopeRef.current = nodes;\n  }, [children, parentScope]);\n\n  // add to the focus scope tree in render order because useEffects/useLayoutEffects run children first whereas render runs parent first\n  // which matters when constructing a tree\n  if (focusScopeTree.getTreeNode(parentScope) && !focusScopeTree.getTreeNode(scopeRef)) {\n    focusScopeTree.addTreeNode(scopeRef, parentScope);\n  }\n\n  let node = focusScopeTree.getTreeNode(scopeRef);\n  node.contain = contain;\n\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  // this layout effect needs to run last so that focusScopeTree cleanup happens at the last moment possible\n  useLayoutEffect(() => {\n    if (scopeRef && (parentScope || parentScope == null)) {\n      return () => {\n        // Restore the active scope on unmount if this scope or a descendant scope is active.\n        // Parent effect cleanups run before children, so we need to check if the\n        // parent scope actually still exists before restoring the active scope to it.\n        if (\n          (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n          (!parentScope || focusScopeTree.getTreeNode(parentScope))\n        ) {\n          activeScope = parentScope;\n        }\n        focusScopeTree.removeTreeNode(scopeRef);\n      };\n    }\n  }, [scopeRef, parentScope]);\n\n  let focusManager = createFocusManagerForScope(scopeRef);\n\n  return (\n    <FocusContext.Provider value={{scopeRef, focusManager}}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<Element[]>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[0].previousElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[scope.length - 1].nextElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as FocusableElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable, accept} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = scope[0].previousElementSibling;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable, accept} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable, accept}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nconst focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nfunction getScopeRoot(scope: Element[]) {\n  return scope[0].parentElement;\n}\n\nfunction shouldContainFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.contain) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return true;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<Element[]>, contain: boolean) {\n  let focusedNode = useRef<FocusableElement>();\n\n  let raf = useRef(null);\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      // if contain was changed, then we should cancel any ongoing waits to pull focus back into containment\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n        raf.current = null;\n      }\n      return;\n    }\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef)) {\n        return;\n      }\n\n      let focusedElement = document.activeElement;\n      let scope = scopeRef.current;\n      if (!isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode())  as FocusableElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if (shouldContainFocus(scopeRef) && !isElementInChildScope(e.target, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (shouldContainFocus(scopeRef)) {\n        focusedNode.current = e.target;\n      }\n    };\n\n    let onBlur = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      raf.current = requestAnimationFrame(() => {\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        if (shouldContainFocus(scopeRef) && !isElementInChildScope(document.activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          if (document.body.contains(e.target)) {\n            focusedNode.current = e.target;\n            focusedNode.current.focus();\n          } else if (activeScope) {\n            focusFirstInScope(activeScope.current);\n          }\n        }\n      });\n    };\n\n    document.addEventListener('keydown', onKeyDown, false);\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      document.removeEventListener('keydown', onKeyDown, false);\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n    };\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  return isElementInChildScope(element);\n}\n\nfunction isElementInScope(element: Element, scope: Element[]) {\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef = null) {\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let {scopeRef: s} of focusScopeTree.traverse(focusScopeTree.getTreeNode(scope))) {\n    if (isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = focusScopeTree.getTreeNode(scope)?.parent;\n  while (parent) {\n    if (parent.scopeRef === ancestor) {\n      return true;\n    }\n    parent = parent.parent;\n  }\n  return false;\n}\n\nfunction focusElement(element: FocusableElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch (err) {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n\nfunction focusFirstInScope(scope: Element[], tabbable:boolean = true) {\n  let sentinel = scope[0].previousElementSibling;\n  let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n  walker.currentNode = sentinel;\n  let nextNode = walker.nextNode();\n\n  // If the scope does not contain a tabbable element, use the first focusable element.\n  if (tabbable && !nextNode) {\n    walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: false}, scope);\n    walker.currentNode = sentinel;\n    nextNode = walker.nextNode();\n  }\n\n  focusElement(nextNode as FocusableElement);\n}\n\nfunction useAutoFocus(scopeRef: RefObject<Element[]>, autoFocus: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      if (!isElementInScope(document.activeElement, activeScope.current)) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, [scopeRef]);\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<Element[]>, restoreFocus: boolean, contain: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? document.activeElement as FocusableElement : null);\n\n  // restoring scopes should all track if they are active regardless of contain, but contain already tracks it plus logic to contain the focus\n  // restoring-non-containing scopes should only care if they become active so they can perform the restore\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!restoreFocus || contain) {\n      return;\n    }\n\n    let onFocus = () => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n      }\n    };\n\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  }, [scopeRef, contain]);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    focusScopeTree.getTreeNode(scopeRef).nodeToRestore = nodeToRestoreRef.current;\n    if (!restoreFocus) {\n      return;\n    }\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as FocusableElement;\n      if (!isElementInScope(focusedElement, scopeRef.current)) {\n        return;\n      }\n      let nodeToRestore = focusScopeTree.getTreeNode(scopeRef).nodeToRestore;\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(document.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n\n      if (!document.body.contains(nodeToRestore) || nodeToRestore === document.body) {\n        nodeToRestore = null;\n        focusScopeTree.getTreeNode(scopeRef).nodeToRestore = null;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n        } while (isElementInScope(nextElement, scopeRef.current));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n           // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n           // then move focus to the body.\n           // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      document.addEventListener('keydown', onKeyDown, true);\n    }\n\n    return () => {\n      if (!contain) {\n        document.removeEventListener('keydown', onKeyDown, true);\n      }\n      let nodeToRestore = focusScopeTree.getTreeNode(scopeRef).nodeToRestore;\n\n      // if we already lost focus to the body and this was the active scope, then we should attempt to restore\n      if (\n        restoreFocus\n        && nodeToRestore\n        && (\n          isElementInScope(document.activeElement, scopeRef.current)\n          || (document.activeElement === document.body && activeScope === scopeRef)\n        )\n      ) {\n        // freeze the focusScopeTree so it persists after the raf, otherwise during unmount nodes are removed from it\n        let clonedTree = focusScopeTree.clone();\n        requestAnimationFrame(() => {\n          // Only restore focus if we've lost focus to the body, the alternative is that focus has been purposefully moved elsewhere\n          if (document.activeElement === document.body) {\n            // look up the tree starting with our scope to find a nodeToRestore still in the DOM\n            let treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.nodeToRestore && document.body.contains(treeNode.nodeToRestore)) {\n                focusElement(treeNode.nodeToRestore);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: Element, opts?: FocusManagerOptions, scope?: Element[]) {\n  let selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  let walker = document.createTreeWalker(\n    root,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if ((node as Element).matches(selector)\n          && isElementVisible(node as Element)\n          && (!scope || isElementInScope(node as Element, scope))\n          && (!opts?.accept || opts.accept(node as Element))\n        ) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<Element>, defaultOptions: FocusManagerOptions = {}): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      }\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next;\n      }\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        previousNode = last(walker);\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next;\n    }\n  };\n}\n\nfunction last(walker: TreeWalker) {\n  let next: FocusableElement;\n  let last: FocusableElement;\n  do {\n    last = walker.lastChild() as FocusableElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n\n\nclass Tree {\n  private root: TreeNode;\n  private fastMap = new Map<ScopeRef, TreeNode>();\n\n  constructor() {\n    this.root = new TreeNode({scopeRef: null});\n    this.fastMap.set(null, this.root);\n  }\n\n  get size() {\n    return this.fastMap.size;\n  }\n\n  getTreeNode(data: ScopeRef) {\n    return this.fastMap.get(data);\n  }\n\n  addTreeNode(scopeRef: ScopeRef, parent: ScopeRef, nodeToRestore?: FocusableElement) {\n    let parentNode = this.fastMap.get(parent ?? null);\n    let node = new TreeNode({scopeRef});\n    parentNode.addChild(node);\n    node.parent = parentNode;\n    this.fastMap.set(scopeRef, node);\n    if (nodeToRestore) {\n      node.nodeToRestore = nodeToRestore;\n    }\n  }\n\n  removeTreeNode(scopeRef: ScopeRef) {\n    // never remove the root\n    if (scopeRef === null) {\n      return;\n    }\n    let node = this.fastMap.get(scopeRef);\n    let parentNode = node.parent;\n    // when we remove a scope, check if any sibling scopes are trying to restore focus to something inside the scope we're removing\n    // if we are, then replace the siblings restore with the restore from the scope we're removing\n    for (let current of this.traverse()) {\n      if (\n        current !== node &&\n        node.nodeToRestore &&\n        current.nodeToRestore &&\n        node.scopeRef.current &&\n        isElementInScope(current.nodeToRestore, node.scopeRef.current)\n      ) {\n        current.nodeToRestore = node.nodeToRestore;\n      }\n    }\n    let children = node.children;\n    parentNode.removeChild(node);\n    if (children.length > 0) {\n      children.forEach(child => parentNode.addChild(child));\n    }\n    this.fastMap.delete(node.scopeRef);\n  }\n\n  // Pre Order Depth First\n  *traverse(node: TreeNode = this.root): Generator<TreeNode> {\n    if (node.scopeRef != null) {\n      yield node;\n    }\n    if (node.children.length > 0) {\n      for (let child of node.children) {\n        yield* this.traverse(child);\n      }\n    }\n  }\n\n  clone(): Tree {\n    let newTree = new Tree();\n    for (let node of this.traverse()) {\n      newTree.addTreeNode(node.scopeRef, node.parent.scopeRef, node.nodeToRestore);\n    }\n    return newTree;\n  }\n}\n\nclass TreeNode {\n  public scopeRef: ScopeRef;\n  public nodeToRestore: FocusableElement;\n  public parent: TreeNode;\n  public children: TreeNode[] = [];\n  public contain = false;\n\n  constructor(props: {scopeRef: ScopeRef}) {\n    this.scopeRef = props.scopeRef;\n  }\n  addChild(node: TreeNode) {\n    this.children.push(node);\n    node.parent = this;\n  }\n  removeChild(node: TreeNode) {\n    this.children.splice(this.children.indexOf(node), 1);\n    node.parent = undefined;\n  }\n}\n\nexport let focusScopeTree = new Tree();\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, FocusableDOMProps, FocusableElement, FocusableProps} from '@react-types/shared';\nimport {focusSafely} from './';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport React, {MutableRefObject, ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useFocus, useKeyboard} from '@react-aria/interactions';\n\nexport interface FocusableOptions extends FocusableProps, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusableProviderProps extends DOMAttributes {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<FocusableElement>\n}\n\nlet FocusableContext = React.createContext<FocusableContextValue>(null);\n\nfunction useFocusableContext(ref: RefObject<FocusableElement>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nfunction FocusableProvider(props: FocusableProviderProps, ref: RefObject<FocusableElement>) {\n  let {children, ...otherProps} = props;\n  let context = {\n    ...otherProps,\n    ref\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n}\n\nlet _FocusableProvider = React.forwardRef(FocusableProvider);\nexport {_FocusableProvider as FocusableProvider};\n\nexport interface FocusableAria {\n  /** Props for the focusable element. */\n  focusableProps: DOMAttributes\n}\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable(props: FocusableOptions, domRef: RefObject<FocusableElement>): FocusableAria {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      focusSafely(domRef.current);\n    }\n    autoFocusRef.current = false;\n  }, [domRef]);\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex: props.excludeFromTabOrder && !props.isDisabled ? -1 : undefined\n      },\n      interactionProps\n    )\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMAttributes, DOMProps, LabelableProps} from '@react-types/shared';\nimport {ElementType, LabelHTMLAttributes} from 'react';\nimport {useId, useLabels} from '@react-aria/utils';\n\nexport interface LabelAriaProps extends LabelableProps, DOMProps, AriaLabelingProps {\n  /**\n   * The HTML element used to render the label, e.g. 'label', or 'span'.\n   * @default 'label'\n   */\n  labelElementType?: ElementType\n}\n\nexport interface LabelAria {\n  /** Props to apply to the label container element. */\n  labelProps: DOMAttributes | LabelHTMLAttributes<HTMLLabelElement>,\n  /** Props to apply to the field container element being labeled. */\n  fieldProps: AriaLabelingProps & DOMProps\n}\n\n/**\n * Provides the accessibility implementation for labels and their associated elements.\n * Labels provide context for user inputs.\n * @param props - The props for labels and fields.\n */\nexport function useLabel(props: LabelAriaProps): LabelAria {\n  let {\n    id,\n    label,\n    'aria-labelledby': ariaLabelledby,\n    'aria-label': ariaLabel,\n    labelElementType = 'label'\n  } = props;\n\n  id = useId(id);\n  let labelId = useId();\n  let labelProps = {};\n  if (label) {\n    ariaLabelledby = ariaLabelledby ? `${ariaLabelledby} ${labelId}` : labelId;\n    labelProps = {\n      id: labelId,\n      htmlFor: labelElementType === 'label' ? id : undefined\n    };\n  } else if (!ariaLabelledby && !ariaLabel) {\n    console.warn('If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility');\n  }\n\n  let fieldProps = useLabels({\n    id,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby\n  });\n\n  return {\n    labelProps,\n    fieldProps\n  };\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, HelpTextProps, Validation} from '@react-types/shared';\nimport {LabelAria, LabelAriaProps, useLabel} from './useLabel';\nimport {mergeProps, useSlotId} from '@react-aria/utils';\n\nexport interface AriaFieldProps extends LabelAriaProps, HelpTextProps, Omit<Validation, 'isRequired'> {}\n\nexport interface FieldAria extends LabelAria {\n  /** Props for the description element, if any. */\n  descriptionProps: DOMAttributes,\n  /** Props for the error message element, if any. */\n  errorMessageProps: DOMAttributes\n}\n\n/**\n * Provides the accessibility implementation for input fields.\n * Fields accept user input, gain context from their label, and may display a description or error message.\n * @param props - Props for the Field.\n */\nexport function useField(props: AriaFieldProps): FieldAria {\n  let {description, errorMessage, validationState} = props;\n  let {labelProps, fieldProps} = useLabel(props);\n\n  let descriptionId = useSlotId([Boolean(description), Boolean(errorMessage), validationState]);\n  let errorMessageId = useSlotId([Boolean(description), Boolean(errorMessage), validationState]);\n\n  fieldProps = mergeProps(fieldProps, {\n    'aria-describedby': [\n      descriptionId,\n      // Use aria-describedby for error message because aria-errormessage is unsupported using VoiceOver or NVDA. See https://github.com/adobe/react-spectrum/issues/1346#issuecomment-740136268\n      errorMessageId,\n      props['aria-describedby']\n    ].filter(Boolean).join(' ') || undefined\n  });\n\n  return {\n    labelProps,\n    fieldProps,\n    descriptionProps: {\n      id: descriptionId\n    },\n    errorMessageProps: {\n      id: errorMessageId\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaTextFieldProps} from '@react-types/textfield';\nimport {\n  ChangeEvent,\n  DOMFactory,\n  HTMLAttributes,\n  ReactDOM,\n  RefObject\n} from 'react';\nimport {DOMAttributes} from '@react-types/shared';\nimport {filterDOMProps, mergeProps} from '@react-aria/utils';\nimport {useField} from '@react-aria/label';\nimport {useFocusable} from '@react-aria/focus';\n\n/**\n * A map of HTML element names and their interface types.\n * For example `'a'` -> `HTMLAnchorElement`.\n */\ntype IntrinsicHTMLElements = {\n  [K in keyof IntrinsicHTMLAttributes]: IntrinsicHTMLAttributes[K] extends HTMLAttributes<infer T> ? T : never\n};\n\n/**\n * A map of HTML element names and their attribute interface types.\n * For example `'a'` -> `AnchorHTMLAttributes<HTMLAnchorElement>`.\n */\ntype IntrinsicHTMLAttributes = {\n  [K in keyof ReactDOM]: ReactDOM[K] extends DOMFactory<infer T, any> ? T : never\n};\n\ntype DefaultElementType = 'input';\n\n/**\n * The intrinsic HTML element names that `useTextField` supports; e.g. `input`,\n * `textarea`.\n */\ntype TextFieldIntrinsicElements = keyof Pick<IntrinsicHTMLElements, 'input' | 'textarea'>;\n\n/**\n * The HTML element interfaces that `useTextField` supports based on what is\n * defined for `TextFieldIntrinsicElements`; e.g. `HTMLInputElement`,\n * `HTMLTextAreaElement`.\n */\ntype TextFieldHTMLElementType = Pick<IntrinsicHTMLElements, TextFieldIntrinsicElements>;\n\n/**\n * The HTML attributes interfaces that `useTextField` supports based on what\n * is defined for `TextFieldIntrinsicElements`; e.g. `InputHTMLAttributes`,\n * `TextareaHTMLAttributes`.\n */\ntype TextFieldHTMLAttributesType = Pick<IntrinsicHTMLAttributes, TextFieldIntrinsicElements>;\n\n/**\n * The type of `inputProps` returned by `useTextField`; e.g. `InputHTMLAttributes`,\n * `TextareaHTMLAttributes`.\n */\ntype TextFieldInputProps<T extends TextFieldIntrinsicElements> = TextFieldHTMLAttributesType[T];\n\nexport interface AriaTextFieldOptions<T extends TextFieldIntrinsicElements> extends AriaTextFieldProps {\n  /**\n   * The HTML element used to render the input, e.g. 'input', or 'textarea'.\n   * It determines whether certain HTML attributes will be included in `inputProps`.\n   * For example, [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type).\n   * @default 'input'\n   */\n  inputElementType?: T\n}\n\n/**\n * The type of `ref` object that can be passed to `useTextField` based on the given\n * intrinsic HTML element name; e.g.`RefObject<HTMLInputElement>`,\n * `RefObject<HTMLTextAreaElement>`.\n */\ntype TextFieldRefObject<T extends TextFieldIntrinsicElements> = RefObject<TextFieldHTMLElementType[T]>;\n\nexport interface TextFieldAria<T extends TextFieldIntrinsicElements = DefaultElementType> {\n  /** Props for the input element. */\n  inputProps: TextFieldInputProps<T>,\n  /** Props for the text field's visible label element, if any. */\n  labelProps: DOMAttributes,\n  /** Props for the text field's description element, if any. */\n  descriptionProps: DOMAttributes,\n  /** Props for the text field's error message element, if any. */\n  errorMessageProps: DOMAttributes\n}\n\n/**\n * Provides the behavior and accessibility implementation for a text field.\n * @param props - Props for the text field.\n * @param ref - Ref to the HTML input or textarea element.\n */\nexport function useTextField<T extends TextFieldIntrinsicElements = DefaultElementType>(\n  props: AriaTextFieldOptions<T>,\n  ref: TextFieldRefObject<T>\n): TextFieldAria<T> {\n  let {\n    inputElementType = 'input',\n    isDisabled = false,\n    isRequired = false,\n    isReadOnly = false,\n    validationState,\n    type = 'text',\n    onChange = () => {}\n  }: AriaTextFieldOptions<TextFieldIntrinsicElements> = props;\n  let {focusableProps} = useFocusable(props, ref);\n  let {labelProps, fieldProps, descriptionProps, errorMessageProps} = useField(props);\n  let domProps = filterDOMProps(props, {labelable: true});\n\n  const inputOnlyProps = {\n    type,\n    pattern: props.pattern\n  };\n\n  return {\n    labelProps,\n    inputProps: mergeProps(\n      domProps,\n      inputElementType === 'input' && inputOnlyProps,\n      {\n        disabled: isDisabled,\n        readOnly: isReadOnly,\n        'aria-required': isRequired || undefined,\n        'aria-invalid': validationState === 'invalid' || undefined,\n        'aria-errormessage': props['aria-errormessage'],\n        'aria-activedescendant': props['aria-activedescendant'],\n        'aria-autocomplete': props['aria-autocomplete'],\n        'aria-haspopup': props['aria-haspopup'],\n        value: props.value,\n        defaultValue: props.value ? undefined : props.defaultValue,\n        onChange: (e: ChangeEvent<HTMLInputElement>) => onChange(e.target.value),\n        autoComplete: props.autoComplete,\n        maxLength: props.maxLength,\n        minLength: props.minLength,\n        name: props.name,\n        placeholder: props.placeholder,\n        inputMode: props.inputMode,\n\n        // Clipboard events\n        onCopy: props.onCopy,\n        onCut: props.onCut,\n        onPaste: props.onPaste,\n\n        // Composition events\n        onCompositionEnd: props.onCompositionEnd,\n        onCompositionStart: props.onCompositionStart,\n        onCompositionUpdate: props.onCompositionUpdate,\n\n        // Selection events\n        onSelect: props.onSelect,\n\n        // Input events\n        onBeforeInput: props.onBeforeInput,\n        onInput: props.onInput,\n        ...focusableProps,\n        ...fieldProps\n      }\n    ),\n    descriptionProps,\n    errorMessageProps\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {CSSProperties, JSXElementConstructor, ReactNode, useMemo, useState} from 'react';\nimport {useFocus} from '@react-aria/interactions';\n\nexport interface VisuallyHiddenProps extends DOMAttributes {\n  /** The content to visually hide. */\n  children?: ReactNode,\n\n  /**\n   * The element type for the container.\n   * @default 'div'\n   */\n  elementType?: string | JSXElementConstructor<any>,\n\n  /** Whether the element should become visible on focus, for example skip links. */\n  isFocusable?: boolean\n}\n\nconst styles: CSSProperties = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  clipPath: 'inset(50%)',\n  height: 1,\n  margin: '0 -1px -1px 0',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'absolute',\n  width: 1,\n  whiteSpace: 'nowrap'\n};\n\nexport interface VisuallyHiddenAria {\n  visuallyHiddenProps: DOMAttributes\n}\n\n/**\n * Provides props for an element that hides its children visually\n * but keeps content visible to assistive technology.\n */\nexport function useVisuallyHidden(props: VisuallyHiddenProps = {}): VisuallyHiddenAria {\n  let {\n    style,\n    isFocusable\n  } = props;\n\n  let [isFocused, setFocused] = useState(false);\n  let {focusProps} = useFocus({\n    isDisabled: !isFocusable,\n    onFocusChange: setFocused\n  });\n\n  // If focused, don't hide the element.\n  let combinedStyles = useMemo(() => {\n    if (isFocused) {\n      return style;\n    } else if (style) {\n      return {...styles, ...style};\n    } else {\n      return styles;\n    }\n  }, [isFocused]);\n\n  return {\n    visuallyHiddenProps: {\n      ...focusProps,\n      style: combinedStyles\n    }\n  };\n}\n\n/**\n * VisuallyHidden hides its children visually, while keeping content visible\n * to screen readers.\n */\nexport function VisuallyHidden(props: VisuallyHiddenProps) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  let {children, elementType: Element = 'div', isFocusable, style, ...otherProps} = props;\n  let {visuallyHiddenProps} = useVisuallyHidden(props);\n\n  return (\n    <Element {...mergeProps(otherProps, visuallyHiddenProps)}>\n      {children}\n    </Element>\n  );\n}\n","/** This file is auto generated. DO NOT EDIT BY HAND. */\n\nconst icons = {\n  '32/ShareIos': require('../svg/32/ShareIos.svg'),\n  '32/Dot': require('../svg/32/Dot.svg'),\n  '32/Message': require('../svg/32/Message.svg'),\n  '32/Gift': require('../svg/32/Gift.svg'),\n  '32/Close': require('../svg/32/Close.svg'),\n  '32/Prev': require('../svg/32/Prev.svg'),\n  '32/Next': require('../svg/32/Next.svg'),\n  '32/PullDown': require('../svg/32/PullDown.svg'),\n  '32/PullUp': require('../svg/32/PullUp.svg'),\n  '32/Expand': require('../svg/32/Expand.svg'),\n  '32/Collapse': require('../svg/32/Collapse.svg'),\n  '32/Edit': require('../svg/32/Edit.svg'),\n  '32/ShareAndroid': require('../svg/32/ShareAndroid.svg'),\n  '32/BookmarkOff': require('../svg/32/BookmarkOff.svg'),\n  '32/BookmarkOn': require('../svg/32/BookmarkOn.svg'),\n  '32/NovelViewerSettings': require('../svg/32/NovelViewerSettings.svg'),\n  '32/CommentOff': require('../svg/32/CommentOff.svg'),\n  '32/CommentOn': require('../svg/32/CommentOn.svg'),\n  '32/Home': require('../svg/32/Home.svg'),\n  '32/Index': require('../svg/32/Index.svg'),\n  '32/Serif': require('../svg/32/Serif.svg'),\n  '32/Camera': require('../svg/32/Camera.svg'),\n  '32/Delete': require('../svg/32/Delete.svg'),\n  '32/Pan': require('../svg/32/Pan.svg'),\n  '32/RollVertical': require('../svg/32/RollVertical.svg'),\n  '32/RollHorizontal': require('../svg/32/RollHorizontal.svg'),\n  '32/ZoomIn': require('../svg/32/ZoomIn.svg'),\n  '32/Upload': require('../svg/32/Upload.svg'),\n  '32/Shopping': require('../svg/32/Shopping.svg'),\n  '32/User': require('../svg/32/User.svg'),\n  '32/HorizontalWriting': require('../svg/32/HorizontalWriting.svg'),\n  '32/Notification': require('../svg/32/Notification.svg'),\n  '32/SansSerif': require('../svg/32/SansSerif.svg'),\n  '32/VerticalWriting': require('../svg/32/VerticalWriting.svg'),\n  '32/NotificationOff': require('../svg/32/NotificationOff.svg'),\n  '24/Expand': require('../svg/24/Expand.svg'),\n  '24/Collapse': require('../svg/24/Collapse.svg'),\n  '24/Close': require('../svg/24/Close.svg'),\n  '24/Pencil': require('../svg/24/Pencil.svg'),\n  '24/PencilDraw': require('../svg/24/PencilDraw.svg'),\n  '24/PencilText': require('../svg/24/PencilText.svg'),\n  '24/Reorder': require('../svg/24/Reorder.svg'),\n  '24/Add': require('../svg/24/Add.svg'),\n  '24/Subtract': require('../svg/24/Subtract.svg'),\n  '24/Star': require('../svg/24/Star.svg'),\n  '24/Check': require('../svg/24/Check.svg'),\n  '24/Send': require('../svg/24/Send.svg'),\n  '24/LockLock': require('../svg/24/LockLock.svg'),\n  '24/LockUnlock': require('../svg/24/LockUnlock.svg'),\n  '24/Up': require('../svg/24/Up.svg'),\n  '24/Down': require('../svg/24/Down.svg'),\n  '24/ReloadLoop': require('../svg/24/ReloadLoop.svg'),\n  '24/Reload': require('../svg/24/Reload.svg'),\n  '24/Options': require('../svg/24/Options.svg'),\n  '24/CommentOutline': require('../svg/24/CommentOutline.svg'),\n  '24/Trash': require('../svg/24/Trash.svg'),\n  '24/TrashAlt': require('../svg/24/TrashAlt.svg'),\n  '24/ShareIos': require('../svg/24/ShareIos.svg'),\n  '24/ViewGrid3Columns': require('../svg/24/ViewGrid3Columns.svg'),\n  '24/ViewGrid2Columns': require('../svg/24/ViewGrid2Columns.svg'),\n  '24/ViewList': require('../svg/24/ViewList.svg'),\n  '24/Upload': require('../svg/24/Upload.svg'),\n  '24/UploadAlt': require('../svg/24/UploadAlt.svg'),\n  '24/DownloadAlt': require('../svg/24/DownloadAlt.svg'),\n  '24/ArrowUp': require('../svg/24/ArrowUp.svg'),\n  '24/LikeOff': require('../svg/24/LikeOff.svg'),\n  '24/LikeOn': require('../svg/24/LikeOn.svg'),\n  '24/ArrowDown': require('../svg/24/ArrowDown.svg'),\n  '24/OptionsAlt': require('../svg/24/OptionsAlt.svg'),\n  '24/PencilLive': require('../svg/24/PencilLive.svg'),\n  '24/OpenInNew': require('../svg/24/OpenInNew.svg'),\n  '24/Settings': require('../svg/24/Settings.svg'),\n  '24/Roll': require('../svg/24/Roll.svg'),\n  '24/Calendar': require('../svg/24/Calendar.svg'),\n  '24/Save': require('../svg/24/Save.svg'),\n  '24/Logout': require('../svg/24/Logout.svg'),\n  '24/CommentFill': require('../svg/24/CommentFill.svg'),\n  '24/ShareAndroid': require('../svg/24/ShareAndroid.svg'),\n  '16/More': require('../svg/16/More.svg'),\n  '16/Back': require('../svg/16/Back.svg'),\n  '16/Search': require('../svg/16/Search.svg'),\n  '16/Add': require('../svg/16/Add.svg'),\n  '16/Check': require('../svg/16/Check.svg'),\n  '16/Menu': require('../svg/16/Menu.svg'),\n  '16/Dot': require('../svg/16/Dot.svg'),\n  '16/Book': require('../svg/16/Book.svg'),\n  '16/ArrowDown': require('../svg/16/ArrowDown.svg'),\n  '16/Speaker': require('../svg/16/Speaker.svg'),\n  '16/Remove': require('../svg/16/Remove.svg'),\n  '16/BookmarkOn': require('../svg/16/BookmarkOn.svg'),\n  '16/BookmarkOff': require('../svg/16/BookmarkOff.svg'),\n  '16/Filter': require('../svg/16/Filter.svg'),\n  '16/Error': require('../svg/16/Error.svg'),\n  '16/Info': require('../svg/16/Info.svg'),\n  '16/Pencil': require('../svg/16/Pencil.svg'),\n  'Inline/LikeOff': require('../svg/Inline/LikeOff.svg'),\n  'Inline/View': require('../svg/Inline/View.svg'),\n  'Inline/BookmarkOff': require('../svg/Inline/BookmarkOff.svg'),\n  'Inline/BookmarkOn': require('../svg/Inline/BookmarkOn.svg'),\n  'Inline/Breadcrumbs': require('../svg/Inline/Breadcrumbs.svg'),\n  'Inline/More': require('../svg/Inline/More.svg'),\n  'Inline/ImageResponse': require('../svg/Inline/ImageResponse.svg'),\n  'Inline/Lock': require('../svg/Inline/Lock.svg'),\n  'Inline/External': require('../svg/Inline/External.svg'),\n  'Inline/Location': require('../svg/Inline/Location.svg'),\n  'Inline/ViewOutline': require('../svg/Inline/ViewOutline.svg'),\n  'Inline/Like': require('../svg/Inline/Like.svg'),\n  'Inline/Smile': require('../svg/Inline/Smile.svg'),\n  'Inline/SmileOn': require('../svg/Inline/SmileOn.svg'),\n  'Inline/Check': require('../svg/Inline/Check.svg'),\n  'Inline/List': require('../svg/Inline/List.svg'),\n  'Inline/ContextMenu': require('../svg/Inline/ContextMenu.svg'),\n  'Inline/Add': require('../svg/Inline/Add.svg'),\n  'Inline/Remove': require('../svg/Inline/Remove.svg'),\n  'Inline/Images': require('../svg/Inline/Images.svg'),\n  'Inline/Nextworks': require('../svg/Inline/Nextworks.svg'),\n  'Inline/Filter': require('../svg/Inline/Filter.svg'),\n  'Inline/Users': require('../svg/Inline/Users.svg'),\n  '24/Next': require('../svg/24/Next.svg'),\n  '24/PullDown': require('../svg/24/PullDown.svg'),\n  '24/PullUp': require('../svg/24/PullUp.svg'),\n  '24/Prev': require('../svg/24/Prev.svg'),\n  '24/Dot': require('../svg/24/Dot.svg'),\n  '24/Notification': require('../svg/24/Notification.svg'),\n  '24/NotificationOff': require('../svg/24/NotificationOff.svg'),\n  '24/Search': require('../svg/24/Search.svg'),\n  '24/Menu': require('../svg/24/Menu.svg'),\n  '24/Index': require('../svg/24/Index.svg'),\n  '24/Services': require('../svg/24/Services.svg'),\n  '24/Error': require('../svg/24/Error.svg'),\n  '24/Home': require('../svg/24/Home.svg'),\n  '24/Warning': require('../svg/24/Warning.svg'),\n  '24/Info': require('../svg/24/Info.svg'),\n  '24/QuestionOutline': require('../svg/24/QuestionOutline.svg'),\n  '24/ChatBot': require('../svg/24/ChatBot.svg'),\n  '24/ErrorOctagon': require('../svg/24/ErrorOctagon.svg'),\n  '24/Question': require('../svg/24/Question.svg'),\n  '24/Alart': require('../svg/24/Alart.svg'),\n  '24/DotAlt': require('../svg/24/DotAlt.svg'),\n  '24/ImageHidden': require('../svg/24/ImageHidden.svg'),\n  '24/AddRubi': require('../svg/24/AddRubi.svg'),\n  '24/ImageReplace': require('../svg/24/ImageReplace.svg'),\n  '24/Text': require('../svg/24/Text.svg'),\n  '24/AddText': require('../svg/24/AddText.svg'),\n  '24/FormatAlignRight': require('../svg/24/FormatAlignRight.svg'),\n  '24/FormatAlignLeft': require('../svg/24/FormatAlignLeft.svg'),\n  '24/FormatAlignCenter': require('../svg/24/FormatAlignCenter.svg'),\n  '24/AddImage': require('../svg/24/AddImage.svg'),\n  '24/ImgContain': require('../svg/24/ImgContain.svg'),\n  '24/ImgCover': require('../svg/24/ImgCover.svg'),\n  '24/BringForward': require('../svg/24/BringForward.svg'),\n  '24/BringBackward': require('../svg/24/BringBackward.svg'),\n  '24/RotateRight': require('../svg/24/RotateRight.svg'),\n  '24/Palette': require('../svg/24/Palette.svg'),\n  '24/Duplicate': require('../svg/24/Duplicate.svg'),\n  '24/FormatLineSpacing': require('../svg/24/FormatLineSpacing.svg'),\n  '24/FormatLetterSpacing': require('../svg/24/FormatLetterSpacing.svg'),\n  '24/Rotate90DegreesCc': require('../svg/24/Rotate90DegreesCc.svg'),\n  '24/Rotate90DegreesC': require('../svg/24/Rotate90DegreesC.svg'),\n  '24/FormatFontSize': require('../svg/24/FormatFontSize.svg'),\n  '24/FormatFontFamily': require('../svg/24/FormatFontFamily.svg'),\n  '24/FormatColorFill': require('../svg/24/FormatColorFill.svg'),\n  '24/FormatColorFillNoColor': require('../svg/24/FormatColorFillNoColor.svg'),\n  '24/ChromaticAberration': require('../svg/24/ChromaticAberration.svg'),\n  '24/Move1': require('../svg/24/Move1.svg'),\n  '24/Play': require('../svg/24/Play.svg'),\n  '24/Pause': require('../svg/24/Pause.svg'),\n  '24/Microphone': require('../svg/24/Microphone.svg'),\n  '24/PauseAlt': require('../svg/24/PauseAlt.svg'),\n  '24/CameraVideo': require('../svg/24/CameraVideo.svg'),\n  '24/Camera': require('../svg/24/Camera.svg'),\n  '24/Fov': require('../svg/24/Fov.svg'),\n  '24/Sun': require('../svg/24/Sun.svg'),\n  '24/Shutter': require('../svg/24/Shutter.svg'),\n  '24/Contrast': require('../svg/24/Contrast.svg'),\n  '24/FrameEffect': require('../svg/24/FrameEffect.svg'),\n  '24/Hue': require('../svg/24/Hue.svg'),\n  '24/Saturation': require('../svg/24/Saturation.svg'),\n  '24/Glow': require('../svg/24/Glow.svg'),\n  '24/Binet': require('../svg/24/Binet.svg'),\n  '24/Overlay': require('../svg/24/Overlay.svg'),\n  '24/Flare': require('../svg/24/Flare.svg'),\n  '24/Dust': require('../svg/24/Dust.svg'),\n  '24/Temperature': require('../svg/24/Temperature.svg'),\n  '24/Filter': require('../svg/24/Filter.svg'),\n  '24/Usagi': require('../svg/24/Usagi.svg'),\n  '24/Set': require('../svg/24/Set.svg'),\n  '24/Gift': require('../svg/24/Gift.svg'),\n  '24/MobilePhone': require('../svg/24/MobilePhone.svg'),\n  '24/Users': require('../svg/24/Users.svg'),\n  '24/AddPeople': require('../svg/24/AddPeople.svg'),\n  '24/Person': require('../svg/24/Person.svg'),\n  '24/Emoji': require('../svg/24/Emoji.svg'),\n  '24/Shopping': require('../svg/24/Shopping.svg'),\n  '24/UsagiAlt': require('../svg/24/UsagiAlt.svg'),\n  '24/Fashion': require('../svg/24/Fashion.svg'),\n  '24/FaceEdit': require('../svg/24/FaceEdit.svg'),\n  '24/DeviceRotation': require('../svg/24/DeviceRotation.svg'),\n  '24/Ar': require('../svg/24/Ar.svg'),\n  '24/FrameSize': require('../svg/24/FrameSize.svg'),\n  '24/Body': require('../svg/24/Body.svg'),\n  '24/BodyEdit': require('../svg/24/BodyEdit.svg'),\n  '24/HairEdit': require('../svg/24/HairEdit.svg'),\n  '24/ItemRemove': require('../svg/24/ItemRemove.svg'),\n  '24/AddModel': require('../svg/24/AddModel.svg'),\n  '24/ChangeCharactor': require('../svg/24/ChangeCharactor.svg'),\n  '24/Pose': require('../svg/24/Pose.svg'),\n  '24/Show': require('../svg/24/Show.svg'),\n  '24/ShowOutline': require('../svg/24/ShowOutline.svg'),\n  '24/Hide': require('../svg/24/Hide.svg'),\n  '24/Idea': require('../svg/24/Idea.svg'),\n  '24/Book': require('../svg/24/Book.svg'),\n  '24/Message': require('../svg/24/Message.svg'),\n  '24/Images': require('../svg/24/Images.svg'),\n  '24/Image': require('../svg/24/Image.svg'),\n  '24/Video': require('../svg/24/Video.svg'),\n  '24/Hashtag': require('../svg/24/Hashtag.svg'),\n  '24/ImageAlt': require('../svg/24/ImageAlt.svg'),\n  '24/Discovery': require('../svg/24/Discovery.svg'),\n  '24/Description': require('../svg/24/Description.svg'),\n  '24/File': require('../svg/24/File.svg'),\n  '24/Archive': require('../svg/24/Archive.svg'),\n  '24/Invoice': require('../svg/24/Invoice.svg'),\n  '24/Announcement': require('../svg/24/Announcement.svg'),\n  '24/Link': require('../svg/24/Link.svg'),\n  '24/Manga': require('../svg/24/Manga.svg'),\n  '24/Novels': require('../svg/24/Novels.svg'),\n  '24/Contest': require('../svg/24/Contest.svg'),\n  '24/LatestWorks': require('../svg/24/LatestWorks.svg'),\n  '24/Ranking': require('../svg/24/Ranking.svg'),\n  '24/Feed': require('../svg/24/Feed.svg'),\n  '24/Groups': require('../svg/24/Groups.svg'),\n  '24/Events': require('../svg/24/Events.svg'),\n  '24/Projects': require('../svg/24/Projects.svg'),\n  '24/Codes': require('../svg/24/Codes.svg'),\n  '24/Invalid': require('../svg/24/Invalid.svg'),\n  '32/LikeOff': require('../svg/32/LikeOff.svg'),\n  '32/LikeOn': require('../svg/32/LikeOn.svg'),\n  '32/LikeOnPrivate': require('../svg/32/LikeOnPrivate.svg'),\n  'Inline/Folder': require('../svg/Inline/Folder.svg'),\n  'Inline/Pencil': require('../svg/Inline/Pencil.svg'),\n  'Inline/Comment': require('../svg/Inline/Comment.svg'),\n  '16/View': require('../svg/16/View.svg'),\n  '16/ImageResponse': require('../svg/16/ImageResponse.svg'),\n  '16/Like': require('../svg/16/Like.svg'),\n  '16/Smile': require('../svg/16/Smile.svg'),\n  '16/Comment': require('../svg/16/Comment.svg'),\n  '16/Ranking': require('../svg/16/Ranking.svg'),\n  '16/Artwork': require('../svg/16/Artwork.svg'),\n  '24/NoImage': require('../svg/24/NoImage.svg'),\n  '24/ReadVertical': require('../svg/24/ReadVertical.svg'),\n  '24/ReadHorizontalLeft': require('../svg/24/ReadHorizontalLeft.svg'),\n  '24/ReadHorizontalRight': require('../svg/24/ReadHorizontalRight.svg'),\n  '16/Question': require('../svg/16/Question.svg'),\n  'Inline/OpenInNew': require('../svg/Inline/OpenInNew.svg'),\n} as const;\n\nexport default icons;\nexport type KnownIconFile = keyof typeof icons;\nexport const KNOWN_ICON_FILES = Object.keys(icons) as KnownIconFile[];\n","const {\n  hasOwnProperty,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\nexport function unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\nexport function unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/* Add properties to a lookup table */\nexport function addToSet(set, array, transformCaseFunc) {\n  transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nexport function clone(object) {\n  const newObject = create(null);\n\n  let property;\n  for (property in object) {\n    if (apply(hasOwnProperty, object, [property])) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n\n/* IE10 doesn't support __lookupGetter__ so lets'\n * simulate it. It also automatically checks\n * if the prop is function or getter and behaves\n * accordingly. */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(element) {\n    console.warn('fallback value for', element);\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  hasOwnProperty,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n};\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'fedropshadow',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n]);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n]);\n\nexport const text = freeze(['#text']);\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'xmlns',\n  'slot',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n","import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\n","import * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  freeze,\n  arrayForEach,\n  arrayPop,\n  arrayPush,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n} from './utils.js';\n\nconst getGlobal = () => (typeof window === 'undefined' ? null : window);\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nconst _createTrustedTypesPolicy = function (trustedTypes, document) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (\n    document.currentScript &&\n    document.currentScript.hasAttribute(ATTR_NAME)\n  ) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = (root) => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  const originalDocument = window.document;\n\n  let { document } = window;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  const trustedTypesPolicy = _createTrustedTypesPolicy(\n    trustedTypes,\n    originalDocument\n  );\n  const emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let documentMode = {};\n  try {\n    documentMode = clone(document).documentMode ? document.documentMode : {};\n  } catch (_) {}\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof getParentNode === 'function' &&\n    implementation &&\n    typeof implementation.createHTMLDocument !== 'undefined' &&\n    documentMode !== 9;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  const CUSTOM_ELEMENT_HANDLING = Object.seal(\n    Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? (PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE)\n        : (PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE);\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? (x) => x\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS =\n      'ALLOWED_TAGS' in cfg\n        ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n        : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR =\n      'ALLOWED_ATTR' in cfg\n        ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n        : DEFAULT_ALLOWED_ATTR;\n    URI_SAFE_ATTRIBUTES =\n      'ADD_URI_SAFE_ATTR' in cfg\n        ? addToSet(\n            clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n            cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n            transformCaseFunc // eslint-disable-line indent\n          ) // eslint-disable-line indent\n        : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS =\n      'ADD_DATA_URI_TAGS' in cfg\n        ? addToSet(\n            clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n            cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n            transformCaseFunc // eslint-disable-line indent\n          ) // eslint-disable-line indent\n        : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS =\n      'FORBID_CONTENTS' in cfg\n        ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n        : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS =\n      'FORBID_TAGS' in cfg\n        ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n        : {};\n    FORBID_ATTR =\n      'FORBID_ATTR' in cfg\n        ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n        : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [...TAGS.text]);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  const HTML_INTEGRATION_POINTS = addToSet({}, [\n    'foreignobject',\n    'desc',\n    'title',\n    'annotation-xml',\n  ]);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, TAGS.svg);\n  addToSet(ALL_SVG_TAGS, TAGS.svgFilters);\n  addToSet(ALL_SVG_TAGS, TAGS.svgDisallowed);\n\n  const ALL_MATHML_TAGS = addToSet({}, TAGS.mathMl);\n  addToSet(ALL_MATHML_TAGS, TAGS.mathMlDisallowed);\n\n  /**\n   *\n   *\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: HTML_NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG or MathML). Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function (node) {\n    arrayPush(DOMPurify.removed, { element: node });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      try {\n        node.outerHTML = emptyHTML;\n      } catch (_) {\n        node.remove();\n      }\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function (name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty) {\n    /* Create a HTML document */\n    let doc;\n    let leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  const _createIterator = function (root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function (elm) {\n    return (\n      elm instanceof HTMLFormElement &&\n      (typeof elm.nodeName !== 'string' ||\n        typeof elm.textContent !== 'string' ||\n        typeof elm.removeChild !== 'function' ||\n        !(elm.attributes instanceof NamedNodeMap) ||\n        typeof elm.removeAttribute !== 'function' ||\n        typeof elm.setAttribute !== 'function' ||\n        typeof elm.namespaceURI !== 'string' ||\n        typeof elm.insertBefore !== 'function')\n    );\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function (object) {\n    return typeof Node === 'object'\n      ? object instanceof Node\n      : object &&\n          typeof object === 'object' &&\n          typeof object.nodeType === 'number' &&\n          typeof object.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function (entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode) {\n    let content;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check if tagname contains Unicode */\n    if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      (!_isNode(currentNode.content) ||\n        !_isNode(currentNode.content.firstElementChild)) &&\n      regExpTest(/<[/\\w]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Mitigate a problem with templates inside select */\n    if (\n      tagName === 'select' &&\n      regExpTest(/<template/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        )\n          return false;\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        )\n          return false;\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            parentNode.insertBefore(\n              cloneNode(childNodes[i], true),\n              getNextSibling(currentNode)\n            );\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    if (\n      (tagName === 'noscript' || tagName === 'noembed') &&\n      regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = stringReplace(content, MUSTACHE_EXPR, ' ');\n      content = stringReplace(content, ERB_EXPR, ' ');\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_basicCustomElementTest(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n      // eslint-disable-next-line no-negated-condition\n    } else if (!value) {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * _basicCustomElementCheck\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   * @param {string} tagName name of the tag of the node to sanitize\n   */\n  const _basicCustomElementTest = function (tagName) {\n    return tagName.indexOf('-') > 0;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode) {\n    let attr;\n    let value;\n    let lcName;\n    let l;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      const { name, namespaceURI } = attr;\n      value = name === 'value' ? attr.value : stringTrim(attr.value);\n      lcName = transformCaseFunc(name);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = stringReplace(value, MUSTACHE_EXPR, ' ');\n        value = stringReplace(value, ERB_EXPR, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            case 'TrustedScriptURL':\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        arrayPop(DOMPurify.removed);\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment) {\n    let shadowNode;\n    const shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body;\n    let importedNode;\n    let currentNode;\n    let oldNode;\n    let returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw typeErrorCreate('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      }\n    }\n\n    /* Check we can run. Otherwise fall back or ignore */\n    if (!DOMPurify.isSupported) {\n      if (\n        typeof window.toStaticHTML === 'object' ||\n        typeof window.toStaticHTML === 'function'\n      ) {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n","import icons from './icons'\n\n/**\n * Loader \n *\n * Loader \n */\nconst pool = new Map<string, Loadable>()\n\nexport function findLoader(name: string) {\n  return pool.get(name)\n}\n\nexport function registerUrlLoader(name: string, url: string) {\n  const loader = new UrlLoader(name, url)\n\n  pool.set(name, loader)\n}\n\nexport function findLoaderOrRegisterBundled(name: string) {\n  const registeredLoader = findLoader(name)\n  if (registeredLoader) {\n    return registeredLoader\n  }\n\n  const iconUrl = (icons as Record<string, string | undefined>)[name]\n\n  const newLoader =\n    iconUrl !== undefined\n      ? new UrlLoader(name, iconUrl)\n      : new NotRegisteredLoader(name)\n  pool.set(name, newLoader)\n\n  return newLoader\n}\n\nexport interface Loadable {\n  fetch(): Promise<string>\n  isLoading(): boolean\n}\n\nexport class PixivIconLoadError extends Error {\n  constructor(message?: string) {\n    super(message)\n    Object.setPrototypeOf(this, new.target)\n  }\n}\n\n/**\n *  URL  Loader\n *\n * \n */\nexport class UrlLoader implements Loadable {\n  private _name: string\n  private _url: string\n\n  private _promise: Promise<string> | undefined = undefined\n  private _resultSvg: string | undefined = undefined\n\n  constructor(name: string, url: string) {\n    this._name = name\n    this._url = url\n  }\n\n  isLoading() {\n    return this._promise !== undefined\n  }\n\n  async fetch() {\n    if (this._resultSvg !== undefined) {\n      return this._resultSvg\n    }\n\n    if (this._promise) {\n      return this._promise\n    }\n\n    this._promise = Promise.resolve(this._url)\n      .then((src) => fetch(src))\n      .then((response) => {\n        if (!response.ok) {\n          throw new PixivIconLoadError(\n            `Failed to fetch <pixiv-icon name=\"${this._name}\">`\n          )\n        }\n\n        return response.text()\n      })\n      .then((svg) => {\n        this._resultSvg = svg\n        return this._resultSvg\n      })\n      .finally(() => {\n        this._promise = undefined\n      })\n\n    return this._promise\n  }\n}\n\n/**\n *  Loader\n */\nexport class NotRegisteredLoader implements Loadable {\n  private _name: string\n\n  constructor(name: string) {\n    this._name = name\n  }\n\n  fetch(): Promise<string> {\n    return Promise.reject(\n      new PixivIconLoadError(`pixiv-icon \"${this._name}\" is not registered`)\n    )\n  }\n\n  isLoading() {\n    return false\n  }\n}\n","export const __SERVER__ = typeof window === 'undefined'\n\nconst CAN_USE_DOM = typeof HTMLElement !== 'undefined'\n\n// Workaround: `extends HTMLELement` babel\nif (__SERVER__ || !CAN_USE_DOM) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-explicit-any\n  globalThis.HTMLElement = class {} as any\n}\n","import type React from 'react'\nimport warning from 'warning'\nimport { KnownIconFile } from './icons'\nimport { findLoaderOrRegisterBundled, registerUrlLoader } from './loaders'\nimport { __SERVER__ } from './ssr'\nimport DOMPurify from 'dompurify'\n\nconst attributes = ['name', 'scale', 'unsafe-non-guideline-scale'] as const\n\nconst ROOT_MARGIN = 50\n\nexport interface KnownIconType extends Record<KnownIconFile, unknown> {}\n\nexport interface Props\n  extends Omit<\n    React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>,\n    'className' | 'css'\n  > {\n  name: keyof KnownIconType\n  scale?: 1 | 2 | 3 | '1' | '2' | '3'\n  'unsafe-non-guideline-scale'?: number | string\n\n  // CustomElements  className class \n  // https://ja.reactjs.org/docs/web-components.html#using-web-components-in-react\n  class?: string\n}\n\ntype ExtendedIconFile = Exclude<keyof KnownIconType, KnownIconFile>\ntype Extended = [ExtendedIconFile] extends [never] // NOTE: ExtendedIconFileneverKnownIconType\n  ? false\n  : true\n\nexport class PixivIcon extends HTMLElement {\n  static readonly tagName = 'pixiv-icon'\n\n  static extend(\n    map: Extended extends true\n      ? Record<ExtendedIconFile, string>\n      : Record<string, string>\n  ) {\n    warning(!__SERVER__, 'Using `PixivIcon.extend()` on server has no effect')\n    if (__SERVER__) {\n      return\n    }\n\n    Object.entries(map).forEach(([name, url]) => {\n      if (!name.includes('/')) {\n        throw new TypeError(\n          `${name} is not a valid icon name. \"name\" must be named like [size]/[Name].`\n        )\n      }\n\n      registerUrlLoader(name, url)\n    })\n  }\n\n  static get observedAttributes() {\n    return attributes\n  }\n\n  private svgContent?: string\n  private observer?: IntersectionObserver\n  private isVisible = false\n\n  get props() {\n    const partial = Object.fromEntries(\n      attributes.map((attribute) => [attribute, this.getAttribute(attribute)])\n    ) as Record<typeof attributes[number], string | null>\n\n    const name = partial.name\n\n    if (name === null) {\n      throw new TypeError('property \"name\" is required.')\n    }\n\n    if (!name.includes('/')) {\n      throw new TypeError(\n        `${name} is not a valid icon name. \"name\" must be named like [size]/[Name].`\n      )\n    }\n\n    return {\n      ...partial,\n      name,\n    }\n  }\n\n  get forceResizedSize() {\n    if (this.props['unsafe-non-guideline-scale'] === null) {\n      return null\n    }\n\n    const [size] = this.props.name.split('/')\n    const scale = Number(this.props['unsafe-non-guideline-scale'])\n\n    switch (size) {\n      case 'Inline': {\n        return 16 * scale\n      }\n\n      default: {\n        return Number(size) * scale\n      }\n    }\n  }\n\n  get scaledSize() {\n    const [size] = this.props.name.split('/')\n\n    const scale = Number(this.props.scale ?? '1')\n\n    switch (size) {\n      case 'Inline': {\n        switch (scale) {\n          case 2: {\n            return 32\n          }\n\n          default: {\n            return 16\n          }\n        }\n      }\n\n      case '24': {\n        return Number(size) * scale\n      }\n\n      default: {\n        return Number(size)\n      }\n    }\n  }\n\n  constructor() {\n    super()\n    this.attachShadow({ mode: 'open' })\n  }\n\n  async connectedCallback() {\n    this.render()\n    await this.waitUntilVisible()\n    this.isVisible = true\n    await this.loadSvg(this.props.name)\n  }\n\n  disconnectedCallback() {\n    this.observer?.disconnect()\n    this.observer = undefined\n    this.isVisible = false\n  }\n\n  attributeChangedCallback(\n    attr: string,\n    _oldValue: string | null,\n    newValue: string\n  ) {\n    // \n    if (!this.isVisible) {\n      return\n    }\n\n    // name \n    if (attr === 'name') {\n      void this.loadSvg(newValue)\n      return\n    }\n\n    // SVG  && scale \n    if (this.svgContent !== undefined) {\n      this.render()\n      return\n    }\n\n    //  SVG  load\n    void this.loadSvg(this.props.name)\n  }\n\n  render() {\n    const size = this.forceResizedSize ?? this.scaledSize\n\n    const style = DOMPurify.sanitize(\n      `<style>\n  :host {\n    display: inline-flex;\n    --size: ${size}px;\n  }\n\n  svg {\n    width: var(--size);\n    height: var(--size);\n  }\n</style>`,\n      { ALLOWED_TAGS: ['style'], FORCE_BODY: true }\n    )\n\n    const svg = DOMPurify.sanitize(\n      this.svgContent !== undefined\n        ? this.svgContent\n        : `<svg viewBox=\"0 0 ${size} ${size}\"></svg>`,\n      { USE_PROFILES: { svg: true, svgFilters: true } }\n    )\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.shadowRoot!.innerHTML = style + svg\n  }\n\n  private async loadSvg(name: string) {\n    const loader = findLoaderOrRegisterBundled(name)\n\n    this.svgContent = await loader.fetch()\n    this.render()\n  }\n\n  private waitUntilVisible() {\n    return new Promise<void>((resolve) => {\n      this.observer = new IntersectionObserver(\n        ([first]) => {\n          if (first.isIntersecting) {\n            this.observer?.disconnect()\n            this.observer = undefined\n            resolve()\n          }\n        },\n        { rootMargin: `${ROOT_MARGIN}px` }\n      )\n\n      this.observer.observe(this)\n    })\n  }\n}\n","import { PixivIcon, Props } from './PixivIcon'\nimport { __SERVER__ } from './ssr'\nexport { PixivIcon, type KnownIconType, type Props } from './PixivIcon'\nexport { KNOWN_ICON_FILES } from './icons'\nexport { PixivIconLoadError } from './loaders'\n\ndeclare global {\n  interface Window {\n    PixivIcon: typeof PixivIcon\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  export namespace JSX {\n    interface IntrinsicElements {\n      'pixiv-icon': Props\n    }\n  }\n}\n\nif (!__SERVER__) {\n  // TODO: HMR\n  if (!window.customElements.get(PixivIcon.tagName)) {\n    window.PixivIcon = PixivIcon\n    window.customElements.define(PixivIcon.tagName, PixivIcon)\n  }\n}\n","import styled from 'styled-components'\nimport { createTheme } from '@charcoal-ui/styled'\nexport const theme = createTheme(styled)\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport {\n  LinkProps,\n  useComponentAbstraction,\n} from '../../core/ComponentAbstraction'\nimport { disabledSelector } from '@charcoal-ui/utils'\n\ninterface BaseProps {\n  /**\n   * \n   */\n  disabled?: boolean\n}\n\ninterface LinkBaseProps {\n  /**\n   * URLbuttona\n   */\n  to: string\n}\n\nexport type ClickableProps =\n  | (BaseProps & Omit<React.ComponentPropsWithoutRef<'button'>, 'disabled'>)\n  | (BaseProps & LinkBaseProps & Omit<LinkProps, 'to'>)\nexport type ClickableElement = HTMLButtonElement & HTMLAnchorElement\n\nconst Clickable = React.forwardRef<ClickableElement, ClickableProps>(\n  function Clickable(props, ref) {\n    const { Link } = useComponentAbstraction()\n    if ('to' in props) {\n      const { onClick, disabled = false, ...rest } = props\n      return (\n        <A<typeof Link>\n          {...rest}\n          as={disabled ? undefined : Link}\n          onClick={disabled ? undefined : onClick}\n          aria-disabled={disabled}\n          ref={ref}\n        />\n      )\n    } else {\n      return <Button {...props} ref={ref} />\n    }\n  }\n)\nexport default Clickable\n\nconst clickableCss = css`\n  /* Clickable style */\n  cursor: pointer;\n\n  ${disabledSelector} {\n    cursor: default;\n  }\n`\n\nconst Button = styled.button`\n  /* Reset button appearance */\n  appearance: none;\n  background: transparent;\n  padding: 0;\n  border-style: none;\n  outline: none;\n  color: inherit;\n  text-rendering: inherit;\n  letter-spacing: inherit;\n  word-spacing: inherit;\n\n  &:focus {\n    outline: none;\n  }\n\n  /* Change the font styles in all browsers. */\n  font: inherit;\n\n  /* Remove the margin in Firefox and Safari. */\n  margin: 0;\n\n  /* Show the overflow in Edge. */\n  overflow: visible;\n\n  /* Remove the inheritance of text transform in Firefox. */\n  text-transform: none;\n\n  /* Remove the inner border and padding in Firefox. */\n  &::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  ${clickableCss}\n`\n\nconst A = styled.span`\n  /* Reset a-tag appearance */\n  color: inherit;\n\n  &:focus {\n    outline: none;\n  }\n\n  .text {\n    top: calc(1em + 2em);\n  }\n\n  ${clickableCss}\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { unreachable } from '../../_lib'\nimport { theme } from '../../styled'\nimport Clickable, { ClickableElement, ClickableProps } from '../Clickable'\n\ntype Variant = 'Primary' | 'Default' | 'Overlay' | 'Danger' | 'Navigation'\ntype Size = 'S' | 'M'\n\ninterface StyledProps {\n  /**\n   * \n   */\n  variant: Variant\n  /**\n   * \n   */\n  size: Size\n  /**\n   * \n   */\n  fixed: boolean\n}\n\nexport type ButtonProps = Partial<StyledProps> & ClickableProps\n\nconst Button = React.forwardRef<ClickableElement, ButtonProps>(function Button(\n  {\n    children,\n    variant = 'Default',\n    size = 'M',\n    fixed = false,\n    disabled = false,\n    ...rest\n  },\n  ref\n) {\n  return (\n    <StyledButton\n      {...rest}\n      disabled={disabled}\n      variant={variant}\n      size={size}\n      fixed={fixed}\n      ref={ref}\n    >\n      {children}\n    </StyledButton>\n  )\n})\nexport default Button\n\nconst StyledButton = styled(Clickable)\n  .withConfig<StyledProps>({\n    shouldForwardProp(prop) {\n      // fixed  <button> \n      return prop !== 'fixed'\n    },\n  })\n  .attrs<StyledProps, ReturnType<typeof styledProps>>(styledProps)`\n  width: ${(p) => (p.fixed ? 'stretch' : 'min-content')};\n  display: inline-grid;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  user-select: none;\n  white-space: nowrap;\n\n  ${(p) =>\n    theme((o) => [\n      o.font[p.font].hover.press,\n      o.bg[p.background].hover.press,\n      o.typography(14).bold.preserveHalfLeading,\n      o.padding.horizontal(p.padding),\n      o.disabled,\n      o.borderRadius('oval'),\n      o.outline.default.focus,\n    ])}\n\n  /* height=32... */\n  height: ${(p) => p.height}px;\n`\n\nfunction styledProps(props: StyledProps) {\n  return {\n    ...props,\n    ...variantToProps(props.variant),\n    ...sizeToProps(props.size),\n  }\n}\n\nfunction variantToProps(variant: Variant) {\n  switch (variant) {\n    case 'Overlay':\n      return { font: 'text5', background: 'surface4' } as const\n    case 'Default':\n      return { font: 'text2', background: 'surface3' } as const\n    case 'Primary':\n      return { font: 'text5', background: 'brand' } as const\n    case 'Navigation':\n      return { font: 'text5', background: 'surface6' } as const\n    case 'Danger':\n      return { font: 'text5', background: 'assertive' } as const\n    default:\n      return unreachable(variant)\n  }\n}\n\nfunction sizeToProps(size: Size) {\n  switch (size) {\n    case 'S':\n      return {\n        height: 32,\n        padding: 16,\n      } as const\n    case 'M':\n      return {\n        height: 40,\n        padding: 24,\n      } as const\n  }\n}\n","/**\n * \n */\n\n/**\n * Function used to assert a given code path is unreachable\n */\nexport function unreachable(): never\n/**\n * Function used to assert a given code path is unreachable.\n * Very useful for ensuring switches are exhaustive:\n *\n * ```ts\n * switch (a.type) {\n *   case Types.A:\n *   case Types.B:\n *     break\n *   default:\n *     unreachable(a) // will cause a build error if there was\n *                    // a Types.C that was not checked\n * }\n * ```\n *\n * @param value Value to be asserted as unreachable\n */\n// NOTE: Uses separate overloads, _not_ `value?: never`, to not allow `undefined` to be passed\n// eslint-disable-next-line @typescript-eslint/unified-signatures\nexport function unreachable(value: never): never\nexport function unreachable(value?: never): never {\n  throw new Error(\n    arguments.length === 0\n      ? 'unreachable'\n      : `unreachable (${JSON.stringify(value)})`\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { theme } from '../../styled'\nimport Clickable, { ClickableElement, ClickableProps } from '../Clickable'\nimport type { KnownIconType } from '@charcoal-ui/icons'\n\ntype Variant = 'Default' | 'Overlay'\ntype Size = 'XS' | 'S' | 'M'\n\ninterface StyledProps {\n  readonly variant?: Variant\n  readonly size?: Size\n  readonly icon: keyof KnownIconType\n}\n\nexport type IconButtonProps = StyledProps & ClickableProps\n\nconst IconButton = React.forwardRef<ClickableElement, IconButtonProps>(\n  function IconButtonInner(\n    { variant = 'Default', size = 'M', icon, ...rest }: IconButtonProps,\n    ref\n  ) {\n    validateIconSize(size, icon)\n    return (\n      <StyledIconButton {...rest} ref={ref} variant={variant} size={size}>\n        <pixiv-icon name={icon} />\n      </StyledIconButton>\n    )\n  }\n)\n\nexport default IconButton\n\nconst StyledIconButton = styled(Clickable).attrs<\n  Required<StyledProps>,\n  ReturnType<typeof styledProps>\n>(styledProps)`\n  user-select: none;\n\n  width: ${(p) => p.width}px;\n  height: ${(p) => p.height}px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ${({ font, background }) =>\n    theme((o) => [\n      o.font[font],\n      o.bg[background].hover.press,\n      o.disabled,\n      o.borderRadius('oval'),\n      o.outline.default.focus,\n    ])}\n`\n\nfunction styledProps(props: Required<StyledProps>) {\n  return {\n    ...props,\n    ...variantToProps(props.variant),\n    ...sizeToProps(props.size),\n  }\n}\n\nfunction variantToProps(variant: Variant) {\n  switch (variant) {\n    case 'Default':\n      return { font: 'text3', background: 'transparent' } as const\n    case 'Overlay':\n      return { font: 'text5', background: 'surface4' } as const\n  }\n}\n\nfunction sizeToProps(size: Size) {\n  switch (size) {\n    case 'XS':\n      return {\n        width: 20,\n        height: 20,\n      }\n    case 'S':\n      return {\n        width: 32,\n        height: 32,\n      }\n    case 'M':\n      return {\n        width: 40,\n        height: 40,\n      }\n  }\n}\n\n/**\n * validates matches of size and icon\n */\nfunction validateIconSize(size: Size, icon: keyof KnownIconType) {\n  let requiredIconSize: string\n  switch (size) {\n    case 'XS':\n      requiredIconSize = '16'\n      break\n    case 'S':\n    case 'M':\n      requiredIconSize = '24'\n      break\n  }\n  //  /\n  const result = /^\\d*/u.exec(icon)\n  if (result == null) {\n    throw new Error('Invalid icon name')\n  }\n  const [iconSize] = result\n  if (iconSize !== requiredIconSize) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `IconButton with size \"${size}\" expect icon size \"${requiredIconSize}, but got \"${iconSize}\"`\n    )\n  }\n}\n","import React, { useCallback, useContext } from 'react'\nimport styled from 'styled-components'\nimport warning from 'warning'\nimport { theme } from '../../styled'\nimport { px } from '@charcoal-ui/utils'\n\nexport type RadioProps = React.PropsWithChildren<{\n  value: string\n  forceChecked?: boolean\n  disabled?: boolean\n}>\n\nexport default function Radio({\n  value,\n  forceChecked = false,\n  disabled = false,\n  children,\n}: RadioProps) {\n  const {\n    name,\n    selected,\n    disabled: isParentDisabled,\n    readonly,\n    hasError,\n    onChange,\n  } = useContext(RadioGroupContext)\n\n  warning(\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    name !== undefined,\n    `\"name\" is not Provided for <Radio>. Perhaps you forgot to wrap with <RadioGroup> ?`\n  )\n\n  const isSelected = value === selected\n  const isDisabled = disabled || isParentDisabled\n  const isReadonly = readonly && !isSelected\n\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      onChange(e.currentTarget.value)\n    },\n    [onChange]\n  )\n\n  return (\n    <RadioRoot aria-disabled={isDisabled || isReadonly}>\n      <RadioInput\n        name={name}\n        value={value}\n        checked={forceChecked || isSelected}\n        hasError={hasError}\n        onChange={handleChange}\n        disabled={isDisabled || isReadonly}\n      />\n      {children != null && <RadioLabel>{children}</RadioLabel>}\n    </RadioRoot>\n  )\n}\n\nconst RadioRoot = styled.label`\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-gap: ${({ theme }) => px(theme.spacing[4])};\n  align-items: center;\n  cursor: pointer;\n\n  ${theme((o) => [o.disabled])}\n`\n\nexport const RadioInput = styled.input.attrs({ type: 'radio' })<{\n  hasError?: boolean\n}>`\n  /** Make prior to browser default style */\n  &[type='radio'] {\n    appearance: none;\n    display: block;\n    box-sizing: border-box;\n\n    padding: 6px;\n\n    width: 20px;\n    height: 20px;\n\n    ${({ hasError = false }) =>\n      theme((o) => [\n        o.borderRadius('oval'),\n        o.bg.text5.hover.press,\n        hasError && o.outline.assertive,\n      ])};\n\n    &:not(:checked) {\n      border-width: 2px;\n      border-style: solid;\n      border-color: ${({ theme }) => theme.color.text4};\n    }\n\n    &:checked {\n      ${theme((o) => o.bg.brand.hover.press)}\n\n      &::after {\n        content: '';\n        display: block;\n        width: 8px;\n        height: 8px;\n        pointer-events: none;\n\n        ${theme((o) => [o.bg.text5.hover.press, o.borderRadius('oval')])}\n      }\n    }\n\n    ${theme((o) => o.outline.default.focus)}\n  }\n`\n\nconst RadioLabel = styled.div`\n  ${theme((o) => [o.typography(14)])}\n`\n\nexport type RadioGroupProps = React.PropsWithChildren<{\n  className?: string\n  value?: string\n  label: string\n  name: string\n  onChange(next: string): void\n  disabled?: boolean\n  readonly?: boolean\n  hasError?: boolean\n}>\n\n// TODO: use (or polyfill) flex gap\nconst StyledRadioGroup = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: ${({ theme }) => px(theme.spacing[8])};\n`\n\ninterface RadioGroupContext {\n  name: string\n  selected?: string\n  disabled: boolean\n  readonly: boolean\n  hasError: boolean\n  onChange: (next: string) => void\n}\n\nconst RadioGroupContext = React.createContext<RadioGroupContext>({\n  name: undefined as never,\n  selected: undefined,\n  disabled: false,\n  readonly: false,\n  hasError: false,\n  onChange() {\n    throw new Error(\n      'Cannot find onChange() handler. Perhaps you forgot to wrap with <RadioGroup> ?'\n    )\n  },\n})\n\nexport function RadioGroup({\n  className,\n  value,\n  label,\n  name,\n  onChange,\n  disabled,\n  readonly,\n  hasError,\n  children,\n}: RadioGroupProps) {\n  const handleChange = useCallback(\n    (next: string) => {\n      onChange(next)\n    },\n    [onChange]\n  )\n\n  return (\n    <RadioGroupContext.Provider\n      value={{\n        name,\n        selected: value,\n        disabled: disabled ?? false,\n        readonly: readonly ?? false,\n        hasError: hasError ?? false,\n        onChange: handleChange,\n      }}\n    >\n      <StyledRadioGroup\n        role=\"radiogroup\"\n        aria-orientation=\"vertical\"\n        aria-label={label}\n        aria-invalid={hasError}\n        className={className}\n      >\n        {children}\n      </StyledRadioGroup>\n    </RadioGroupContext.Provider>\n  )\n}\n","import { createContext } from 'react'\n\ntype SelectGroupContext = {\n  name: string\n  selected: string[]\n  disabled: boolean\n  readonly: boolean\n  hasError: boolean\n  onChange: ({ value, selected }: { value: string; selected: boolean }) => void\n}\n\nexport const SelectGroupContext = createContext<SelectGroupContext>({\n  name: undefined as never,\n  selected: [],\n  disabled: false,\n  readonly: false,\n  hasError: false,\n  onChange() {\n    throw new Error(\n      'Cannot find `onChange()` handler. Perhaps you forgot to wrap it with `<SelectGroup />` ?'\n    )\n  },\n})\n","import React, { ChangeEvent, useCallback, useContext } from 'react'\nimport styled, { css } from 'styled-components'\nimport warning from 'warning'\nimport { theme } from '../../styled'\nimport { disabledSelector, px } from '@charcoal-ui/utils'\n\nimport { SelectGroupContext } from './context'\n\nexport type SelectProps = React.PropsWithChildren<{\n  value: string\n  forceChecked?: boolean\n  disabled?: boolean\n  variant?: 'default' | 'overlay'\n  onChange?: (payload: { value: string; selected: boolean }) => void\n}>\n\nexport default function Select({\n  value,\n  forceChecked = false,\n  disabled = false,\n  onChange,\n  variant = 'default',\n  children,\n}: SelectProps) {\n  const {\n    name,\n    selected,\n    disabled: parentDisabled,\n    readonly,\n    hasError,\n    onChange: parentOnChange,\n  } = useContext(SelectGroupContext)\n\n  warning(\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    name !== undefined,\n    `\"name\" is not Provided for <Select>. Perhaps you forgot to wrap with <SelectGroup> ?`\n  )\n\n  const isSelected = selected.includes(value) || forceChecked\n  const isDisabled = disabled || parentDisabled || readonly\n\n  const handleChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      if (!(event.currentTarget instanceof HTMLInputElement)) {\n        return\n      }\n      if (onChange) onChange({ value, selected: event.currentTarget.checked })\n      parentOnChange({ value, selected: event.currentTarget.checked })\n    },\n    [onChange, parentOnChange, value]\n  )\n\n  return (\n    <SelectRoot aria-disabled={isDisabled}>\n      <SelectInput\n        {...{\n          name,\n          value,\n          hasError,\n        }}\n        checked={isSelected}\n        disabled={isDisabled}\n        onChange={handleChange}\n        overlay={variant === 'overlay'}\n        aria-invalid={hasError}\n      />\n      <SelectInputOverlay\n        overlay={variant === 'overlay'}\n        hasError={hasError}\n        aria-hidden={true}\n      >\n        <pixiv-icon name=\"24/Check\" unsafe-non-guideline-scale={16 / 24} />\n      </SelectInputOverlay>\n      {Boolean(children) && <SelectLabel>{children}</SelectLabel>}\n    </SelectRoot>\n  )\n}\n\nconst SelectRoot = styled.label`\n  display: grid;\n  grid-template-columns: auto 1fr;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  ${disabledSelector} {\n    cursor: default;\n  }\n  gap: ${({ theme }) => px(theme.spacing[4])};\n  ${theme((o) => o.disabled)}\n`\n\nconst SelectLabel = styled.div`\n  display: flex;\n  align-items: center;\n  ${theme((o) => [o.typography(14), o.font.text1])}\n`\n\nconst SelectInput = styled.input.attrs({ type: 'checkbox' })<{\n  hasError: boolean\n  overlay: boolean\n}>`\n  &[type='checkbox'] {\n    appearance: none;\n    display: block;\n    width: 20px;\n    height: 20px;\n    margin: 0;\n\n    &:checked {\n      ${theme((o) => o.bg.brand.hover.press)}\n    }\n\n    ${({ hasError, overlay }) =>\n      theme((o) => [\n        o.bg.text3.hover.press,\n        o.borderRadius('oval'),\n        hasError && !overlay && o.outline.assertive,\n        overlay && o.bg.surface4,\n      ])};\n  }\n`\n\nconst SelectInputOverlay = styled.div<{ overlay: boolean; hasError: boolean }>`\n  position: absolute;\n  top: -2px;\n  left: -2px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ${({ hasError, overlay }) =>\n    theme((o) => [\n      o.width.px(24),\n      o.height.px(24),\n      o.borderRadius('oval'),\n      o.font.text5,\n      hasError && overlay && o.outline.assertive,\n    ])}\n\n  ${({ overlay }) =>\n    overlay &&\n    css`\n      border-color: ${({ theme }) => theme.color.text5};\n      border-width: 2px;\n      border-style: solid;\n    `}\n`\n\nexport type SelectGroupProps = React.PropsWithChildren<{\n  className?: string\n  name: string\n  ariaLabel: string\n  selected: string[]\n  onChange: (selected: string[]) => void\n  disabled?: boolean\n  readonly?: boolean\n  hasError?: boolean\n}>\n\nexport function SelectGroup({\n  className,\n  name,\n  ariaLabel,\n  selected,\n  onChange,\n  disabled = false,\n  readonly = false,\n  hasError = false,\n  children,\n}: SelectGroupProps) {\n  const handleChange = useCallback(\n    (payload: { value: string; selected: boolean }) => {\n      const index = selected.indexOf(payload.value)\n\n      if (payload.selected) {\n        if (index < 0) {\n          onChange([...selected, payload.value])\n        }\n      } else {\n        if (index >= 0) {\n          onChange([...selected.slice(0, index), ...selected.slice(index + 1)])\n        }\n      }\n    },\n    [onChange, selected]\n  )\n\n  return (\n    <SelectGroupContext.Provider\n      value={{\n        name,\n        selected: Array.from(new Set(selected)),\n        disabled,\n        readonly,\n        hasError,\n        onChange: handleChange,\n      }}\n    >\n      <div\n        className={className}\n        aria-label={ariaLabel}\n        data-testid=\"SelectGroup\"\n      >\n        {children}\n      </div>\n    </SelectGroupContext.Provider>\n  )\n}\n","import { useSwitch } from '@react-aria/switch'\nimport type { AriaSwitchProps } from '@react-types/switch'\nimport React, { useRef, useMemo } from 'react'\nimport { useToggleState } from 'react-stately'\nimport styled from 'styled-components'\nimport { theme } from '../../styled'\nimport { disabledSelector, px } from '@charcoal-ui/utils'\n\nexport type SwitchProps = {\n  name: string\n  className?: string\n  value?: string\n  checked?: boolean\n  disabled?: boolean\n  onChange(checked: boolean): void\n} & (\n  | // children  label \n  {\n      children: React.ReactNode\n    }\n  | {\n      label: string\n    }\n)\n\nexport default function SwitchCheckbox(props: SwitchProps) {\n  const { disabled, className } = props\n\n  const ariaSwitchProps: AriaSwitchProps = useMemo(\n    () => ({\n      ...props,\n\n      // children  aria-label \n      'aria-label': 'children' in props ? undefined : props.label,\n      isDisabled: props.disabled,\n      isSelected: props.checked,\n    }),\n    [props]\n  )\n\n  const state = useToggleState(ariaSwitchProps)\n  const ref = useRef<HTMLInputElement>(null)\n  const {\n    inputProps: { className: _className, type: _type, ...rest },\n  } = useSwitch(ariaSwitchProps, state, ref)\n\n  return (\n    <Label className={className} aria-disabled={disabled}>\n      <SwitchInput {...rest} ref={ref} />\n      {'children' in props ? (\n        // eslint-disable-next-line react/destructuring-assignment\n        <LabelInner>{props.children}</LabelInner>\n      ) : undefined}\n    </Label>\n  )\n}\n\nconst Label = styled.label`\n  display: inline-grid;\n  grid-template-columns: auto 1fr;\n  gap: ${({ theme }) => px(theme.spacing[4])};\n  cursor: pointer;\n  outline: 0;\n\n  ${theme((o) => o.disabled)}\n\n  ${disabledSelector} {\n    cursor: default;\n  }\n`\n\nconst LabelInner = styled.div`\n  ${theme((o) => o.typography(14))}\n`\n\nconst SwitchInput = styled.input.attrs({\n  type: 'checkbox',\n})`\n  &[type='checkbox'] {\n    appearance: none;\n    display: inline-flex;\n    position: relative;\n    box-sizing: border-box;\n    width: 28px;\n    border: 2px solid transparent;\n    transition: box-shadow 0.2s, background-color 0.2s;\n    cursor: inherit;\n    ${theme((o) => [\n      o.borderRadius(16),\n      o.height.px(16),\n      o.bg.text4.hover.press,\n      o.outline.default.focus,\n    ])}\n\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      top: 0;\n      left: 0;\n      width: 12px;\n      height: 12px;\n      transform: translateX(0);\n      transition: transform 0.2s;\n      ${theme((o) => [o.bg.text5.hover.press, o.borderRadius('oval')])}\n    }\n\n    &:checked {\n      ${theme((o) => o.bg.brand.hover.press)}\n\n      &::after {\n        transform: translateX(12px);\n      }\n    }\n  }\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { createTheme } from '@charcoal-ui/styled'\n\nexport interface FieldLabelProps\n  extends React.LabelHTMLAttributes<HTMLLabelElement> {\n  readonly className?: string\n  readonly label: string\n  readonly subLabel?: React.ReactNode\n  readonly required?: boolean\n  // TODO: Context\n  readonly requiredText?: string\n}\n\nconst FieldLabel = React.forwardRef<HTMLLabelElement, FieldLabelProps>(\n  function FieldLabel(\n    {\n      style,\n      className,\n      label,\n      required = false,\n      requiredText,\n      subLabel,\n      ...labelProps\n    },\n    ref\n  ) {\n    return (\n      <FieldLabelWrapper style={style} className={className}>\n        <Label ref={ref} {...labelProps}>\n          {label}\n        </Label>\n        {required && <RequiredText>{requiredText}</RequiredText>}\n        <SubLabelClickable>\n          <span>{subLabel}</span>\n        </SubLabelClickable>\n      </FieldLabelWrapper>\n    )\n  }\n)\n\nexport default FieldLabel\n\nconst theme = createTheme(styled)\n\nconst Label = styled.label`\n  ${theme((o) => [o.typography(14).bold, o.font.text1])}\n`\n\nconst RequiredText = styled.span`\n  ${theme((o) => [o.typography(14), o.font.text3])}\n`\n\nconst SubLabelClickable = styled.div`\n  ${theme((o) => [\n    o.typography(14),\n    o.font.text3.hover.press,\n    o.outline.default.focus,\n  ])}\n`\n\nconst FieldLabelWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n\n  > ${RequiredText} {\n    ${theme((o) => o.margin.left(4))}\n  }\n\n  > ${SubLabelClickable} {\n    ${theme((o) => o.margin.left('auto'))}\n  }\n`\n","import { useTextField } from '@react-aria/textfield'\nimport { useVisuallyHidden } from '@react-aria/visually-hidden'\nimport React, {\n  ReactNode,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react'\nimport styled, { css } from 'styled-components'\nimport FieldLabel, { FieldLabelProps } from '../FieldLabel'\nimport { createTheme } from '@charcoal-ui/styled'\n\nconst theme = createTheme(styled)\n\ninterface TextFieldBaseProps\n  extends Pick<FieldLabelProps, 'label' | 'requiredText' | 'subLabel'> {\n  readonly className?: string\n  readonly defaultValue?: string\n  readonly value?: string\n  readonly onChange?: (value: string) => void\n  readonly showCount?: boolean\n  readonly showLabel?: boolean\n  readonly placeholder?: string\n  readonly assistiveText?: string\n  readonly disabled?: boolean\n  readonly required?: boolean\n  readonly invalid?: boolean\n  readonly maxLength?: number\n  /**\n   * tab-index1\n   */\n  readonly excludeFromTabOrder?: boolean\n}\n\nexport interface SingleLineTextFieldProps extends TextFieldBaseProps {\n  readonly autoHeight?: never\n  readonly multiline?: false\n  readonly rows?: never\n  readonly type?: string\n  readonly prefix?: ReactNode\n  readonly suffix?: ReactNode\n}\n\nexport interface MultiLineTextFieldProps extends TextFieldBaseProps {\n  readonly autoHeight?: boolean\n  readonly multiline: true\n  readonly rows?: number\n  readonly type?: never\n  readonly prefix?: never\n  readonly suffix?: never\n}\n\nexport type TextFieldProps = SingleLineTextFieldProps | MultiLineTextFieldProps\ntype TextFieldElement = HTMLInputElement & HTMLTextAreaElement\n\nfunction mergeRefs<T>(...refs: React.Ref<T>[]): React.RefCallback<T> {\n  return (value) => {\n    for (const ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value)\n      } else if (ref !== null) {\n        ;(ref as React.MutableRefObject<T | null>).current = value\n      }\n    }\n  }\n}\n\nfunction countCodePointsInString(string: string) {\n  // [...string] production build\n  // cf. https://twitter.com/f_subal/status/1497214727511891972\n  return Array.from(string).length\n}\n\nconst TextField = React.forwardRef<TextFieldElement, TextFieldProps>(\n  function TextField(props, ref) {\n    return props.multiline !== undefined && props.multiline ? (\n      <MultiLineTextField ref={ref} {...props} />\n    ) : (\n      <SingleLineTextField ref={ref} {...props} />\n    )\n  }\n)\n\nexport default TextField\n\nconst SingleLineTextField = React.forwardRef<\n  HTMLInputElement,\n  SingleLineTextFieldProps\n>(function SingleLineTextFieldInner({ onChange, ...props }, forwardRef) {\n  const {\n    className,\n    showLabel = false,\n    showCount = false,\n    label,\n    requiredText,\n    subLabel,\n    disabled = false,\n    required,\n    invalid = false,\n    assistiveText,\n    maxLength,\n    prefix = null,\n    suffix = null,\n  } = props\n\n  const { visuallyHiddenProps } = useVisuallyHidden()\n  const ariaRef = useRef<HTMLInputElement>(null)\n  const prefixRef = useRef<HTMLSpanElement>(null)\n  const suffixRef = useRef<HTMLSpanElement>(null)\n  const [count, setCount] = useState(countCodePointsInString(props.value ?? ''))\n  const [prefixWidth, setPrefixWidth] = useState(0)\n  const [suffixWidth, setSuffixWidth] = useState(0)\n\n  const nonControlled = props.value === undefined\n  const handleChange = useCallback(\n    (value: string) => {\n      const count = countCodePointsInString(value)\n      if (maxLength !== undefined && count > maxLength) {\n        return\n      }\n      if (nonControlled) {\n        setCount(count)\n      }\n      onChange?.(value)\n    },\n    [maxLength, nonControlled, onChange]\n  )\n\n  useEffect(() => {\n    setCount(countCodePointsInString(props.value ?? ''))\n  }, [props.value])\n\n  const { inputProps, labelProps, descriptionProps, errorMessageProps } =\n    useTextField(\n      {\n        inputElementType: 'input',\n        isDisabled: disabled,\n        isRequired: required,\n        validationState: invalid ? 'invalid' : 'valid',\n        description: !invalid && assistiveText,\n        errorMessage: invalid && assistiveText,\n        onChange: handleChange,\n        ...props,\n      },\n      ariaRef\n    )\n\n  useEffect(() => {\n    const prefixObserver = new ResizeObserver((entries) => {\n      setPrefixWidth(entries[0].contentRect.width)\n    })\n    const suffixObserver = new ResizeObserver((entries) => {\n      setSuffixWidth(entries[0].contentRect.width)\n    })\n\n    if (prefixRef.current !== null) {\n      prefixObserver.observe(prefixRef.current)\n    }\n    if (suffixRef.current !== null) {\n      suffixObserver.observe(suffixRef.current)\n    }\n\n    return () => {\n      suffixObserver.disconnect()\n      prefixObserver.disconnect()\n    }\n  }, [])\n\n  return (\n    <TextFieldRoot className={className} isDisabled={disabled}>\n      <TextFieldLabel\n        label={label}\n        requiredText={requiredText}\n        required={required}\n        subLabel={subLabel}\n        {...labelProps}\n        {...(!showLabel ? visuallyHiddenProps : {})}\n      />\n      <StyledInputContainer>\n        <PrefixContainer ref={prefixRef}>\n          <Affix>{prefix}</Affix>\n        </PrefixContainer>\n        <StyledInput\n          ref={mergeRefs(forwardRef, ariaRef)}\n          invalid={invalid}\n          extraLeftPadding={prefixWidth}\n          extraRightPadding={suffixWidth}\n          {...inputProps}\n        />\n        <SuffixContainer ref={suffixRef}>\n          <Affix>{suffix}</Affix>\n          {showCount && (\n            <SingleLineCounter>\n              {maxLength !== undefined ? `${count}/${maxLength}` : count}\n            </SingleLineCounter>\n          )}\n        </SuffixContainer>\n      </StyledInputContainer>\n      {assistiveText != null && assistiveText.length !== 0 && (\n        <AssistiveText\n          invalid={invalid}\n          {...(invalid ? errorMessageProps : descriptionProps)}\n        >\n          {assistiveText}\n        </AssistiveText>\n      )}\n    </TextFieldRoot>\n  )\n})\n\nconst MultiLineTextField = React.forwardRef<\n  HTMLTextAreaElement,\n  MultiLineTextFieldProps\n>(function MultiLineTextFieldInner({ onChange, ...props }, forwardRef) {\n  const {\n    className,\n    showCount = false,\n    showLabel = false,\n    label,\n    requiredText,\n    subLabel,\n    disabled = false,\n    required,\n    invalid = false,\n    assistiveText,\n    maxLength,\n    autoHeight = false,\n    rows: initialRows = 4,\n  } = props\n\n  const { visuallyHiddenProps } = useVisuallyHidden()\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n  const ariaRef = useRef<HTMLTextAreaElement>(null)\n  const [count, setCount] = useState(countCodePointsInString(props.value ?? ''))\n  const [rows, setRows] = useState(initialRows)\n\n  const syncHeight = useCallback(\n    (textarea: HTMLTextAreaElement) => {\n      const rows = `${textarea.value}\\n`.match(/\\n/gu)?.length ?? 1\n      if (initialRows <= rows) {\n        setRows(rows)\n      }\n    },\n    [initialRows]\n  )\n\n  const nonControlled = props.value === undefined\n  const handleChange = useCallback(\n    (value: string) => {\n      const count = countCodePointsInString(value)\n      if (maxLength !== undefined && count > maxLength) {\n        return\n      }\n      if (nonControlled) {\n        setCount(count)\n      }\n      if (autoHeight && textareaRef.current !== null) {\n        syncHeight(textareaRef.current)\n      }\n      onChange?.(value)\n    },\n    [autoHeight, maxLength, nonControlled, onChange, syncHeight]\n  )\n\n  useEffect(() => {\n    setCount(countCodePointsInString(props.value ?? ''))\n  }, [props.value])\n\n  const { inputProps, labelProps, descriptionProps, errorMessageProps } =\n    useTextField(\n      {\n        inputElementType: 'textarea',\n        isDisabled: disabled,\n        isRequired: required,\n        validationState: invalid ? 'invalid' : 'valid',\n        description: !invalid && assistiveText,\n        errorMessage: invalid && assistiveText,\n        onChange: handleChange,\n        ...props,\n      },\n      ariaRef\n    )\n\n  useEffect(() => {\n    if (autoHeight && textareaRef.current !== null) {\n      syncHeight(textareaRef.current)\n    }\n  }, [autoHeight, syncHeight])\n\n  return (\n    <TextFieldRoot className={className} isDisabled={disabled}>\n      <TextFieldLabel\n        label={label}\n        requiredText={requiredText}\n        required={required}\n        subLabel={subLabel}\n        {...labelProps}\n        {...(!showLabel ? visuallyHiddenProps : {})}\n      />\n      <StyledTextareaContainer\n        invalid={invalid}\n        rows={showCount ? rows + 1 : rows}\n      >\n        <StyledTextarea\n          ref={mergeRefs(textareaRef, forwardRef, ariaRef)}\n          rows={rows}\n          noBottomPadding={showCount}\n          {...inputProps}\n        />\n        {showCount && (\n          <MultiLineCounter>\n            {maxLength !== undefined ? `${count}/${maxLength}` : count}\n          </MultiLineCounter>\n        )}\n      </StyledTextareaContainer>\n      {assistiveText != null && assistiveText.length !== 0 && (\n        <AssistiveText\n          invalid={invalid}\n          {...(invalid ? errorMessageProps : descriptionProps)}\n        >\n          {assistiveText}\n        </AssistiveText>\n      )}\n    </TextFieldRoot>\n  )\n})\n\nconst TextFieldRoot = styled.div<{ isDisabled: boolean }>`\n  display: flex;\n  flex-direction: column;\n\n  ${(p) => p.isDisabled && { opacity: p.theme.elementEffect.disabled.opacity }}\n`\n\nconst TextFieldLabel = styled(FieldLabel)`\n  ${theme((o) => o.margin.bottom(8))}\n`\n\nconst StyledInputContainer = styled.div`\n  height: 40px;\n  display: grid;\n  position: relative;\n`\n\nconst PrefixContainer = styled.span`\n  position: absolute;\n  top: 50%;\n  left: 8px;\n  transform: translateY(-50%);\n`\n\nconst SuffixContainer = styled.span`\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  transform: translateY(-50%);\n\n  display: flex;\n  gap: 8px;\n`\n\nconst Affix = styled.span`\n  user-select: none;\n\n  ${theme((o) => [o.typography(14).preserveHalfLeading, o.font.text2])}\n`\n\nconst StyledInput = styled.input<{\n  invalid: boolean\n  extraLeftPadding: number\n  extraRightPadding: number\n}>`\n  border: none;\n  box-sizing: border-box;\n  outline: none;\n  font-family: inherit;\n\n  /* Prevent zooming for iOS Safari */\n  transform-origin: top left;\n  transform: scale(0.875);\n  width: calc(100% / 0.875);\n  height: calc(100% / 0.875);\n  font-size: calc(14px / 0.875);\n  line-height: calc(22px / 0.875);\n  padding-left: calc((8px + ${(p) => p.extraLeftPadding}px) / 0.875);\n  padding-right: calc((8px + ${(p) => p.extraRightPadding}px) / 0.875);\n  border-radius: calc(4px / 0.875);\n\n  /* Display box-shadow for iOS Safari */\n  appearance: none;\n\n  ${(p) =>\n    theme((o) => [\n      o.bg.surface3.hover,\n      o.outline.default.focus,\n      p.invalid && o.outline.assertive,\n      o.font.text2,\n    ])}\n\n  &::placeholder {\n    ${theme((o) => o.font.text3)}\n  }\n`\n\nconst StyledTextareaContainer = styled.div<{ rows: number; invalid: boolean }>`\n  position: relative;\n  overflow: hidden;\n  padding: 0 8px;\n\n  ${(p) =>\n    theme((o) => [\n      o.bg.surface3.hover,\n      p.invalid && o.outline.assertive,\n      o.font.text2,\n      o.borderRadius(4),\n    ])}\n\n  &:focus-within {\n    ${(p) =>\n      theme((o) => (p.invalid ? o.outline.assertive : o.outline.default))}\n  }\n\n  ${({ rows }) => css`\n    height: calc(22px * ${rows} + 18px);\n  `};\n`\n\nconst StyledTextarea = styled.textarea<{ noBottomPadding: boolean }>`\n  border: none;\n  outline: none;\n  resize: none;\n  font-family: inherit;\n  color: inherit;\n\n  /* Prevent zooming for iOS Safari */\n  transform-origin: top left;\n  transform: scale(0.875);\n  width: calc(100% / 0.875);\n  font-size: calc(14px / 0.875);\n  line-height: calc(22px / 0.875);\n  padding: calc(9px / 0.875) 0 ${(p) => (p.noBottomPadding ? 0 : '')};\n\n  ${({ rows = 1 }) => css`\n    height: calc(22px / 0.875 * ${rows});\n  `};\n\n  /* Display box-shadow for iOS Safari */\n  appearance: none;\n\n  background: none;\n\n  &::placeholder {\n    ${theme((o) => o.font.text3)}\n  }\n\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n`\n\nconst SingleLineCounter = styled.span`\n  ${theme((o) => [o.typography(14).preserveHalfLeading, o.font.text3])}\n`\n\nconst MultiLineCounter = styled.span`\n  position: absolute;\n  bottom: 9px;\n  right: 8px;\n\n  ${theme((o) => [o.typography(14).preserveHalfLeading, o.font.text3])}\n`\n\nconst AssistiveText = styled.p<{ invalid: boolean }>`\n  ${(p) =>\n    theme((o) => [\n      o.typography(14),\n      o.margin.top(8),\n      o.margin.bottom(0),\n      o.font[p.invalid ? 'assertive' : 'text1'],\n    ])}\n`\n","import React from 'react'\n\nimport '@charcoal-ui/icons'\nimport type { PixivIcon, Props } from '@charcoal-ui/icons'\n\nexport interface OwnProps {\n  unsafeNonGuidelineScale?: number\n  className?: string\n}\n\nexport interface IconProps\n  extends OwnProps,\n    React.PropsWithoutRef<\n      Omit<Props, 'class' | 'unsafe-non-guideline-scale' | 'css'>\n    > {}\n\nconst Icon = React.forwardRef<PixivIcon, IconProps>(function IconInner(\n  { name, scale, unsafeNonGuidelineScale, className, ...rest },\n  ref\n) {\n  return (\n    <pixiv-icon\n      ref={ref}\n      name={name}\n      scale={scale}\n      unsafe-non-guideline-scale={unsafeNonGuidelineScale}\n      class={className}\n      {...rest}\n    />\n  )\n})\n\nexport default Icon\n","import styled, { css, keyframes } from \"styled-components\";\nimport { createTheme } from \"@charcoal-ui/styled\";\n\nconst theme = createTheme(styled);\n\nexport const Spinner = () => (\n  <div\n    css={css`\n      opacity: 0;\n      transform: scale(0);\n      animation: ${pop} 0.8s infinite;\n      width: 24px;\n      height: 24px;\n      ${theme((o) => [o.bg.icon6, o.borderRadius(\"oval\")])}\n    `}\n  />\n);\n\nconst pop = keyframes`\n  50% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  100% {\n    opacity: 0;\n  }\n`;\n","import styled, { css } from \"styled-components\";\nimport { createTheme } from \"@charcoal-ui/styled\";\nimport { Button, TextField } from \"@charcoal-ui/react\";\nimport { useState } from \"react\";\nimport {\n  columnSystem,\n  COLUMN_UNIT,\n  GUTTER_UNIT,\n} from \"@charcoal-ui/foundation\";\nimport { Step } from \"./types\";\nimport { Spinner } from \"./components/Spinner\";\n\nconst theme = createTheme(styled);\n\nconst TEXT_FIELD_MAX_WIDTH = columnSystem(3, COLUMN_UNIT, GUTTER_UNIT);\n\nexport const Prologue = ({\n  onNext,\n}: {\n  onNext(p: { uid: string; step: Extract<Step, 1> }): Promise<void>;\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [uid, setUid] = useState(\"\");\n  const [isTypingUid, setIsTypingUid] = useState(false);\n  return (\n    <div\n      css={css`\n        display: grid;\n        width: 100%;\n        height: 100%;\n        place-content: center;\n        text-align: center;\n        gap: 24px;\n      `}\n    >\n      <div\n        css={css`\n          display: grid;\n          gap: 16px;\n          ${theme((o) => [o.font.text2])}\n        `}\n      >\n        <span\n          css={css`\n            ${theme((o) => [o.typography(16).bold])}\n          `}\n        >\n          .........\n        </span>\n        <span\n          css={css`\n            ${theme((o) => [o.typography(16).bold])}\n          `}\n        >\n          \n          <span\n            css={css`\n              ${theme((o) => [o.font.brand])}\n            `}\n          >\n            \"\"\n          </span>\n          \n        </span>\n      </div>\n      <div\n        css={css`\n          display: grid;\n          place-items: center;\n          margin: auto;\n          max-width: ${TEXT_FIELD_MAX_WIDTH}px;\n        `}\n      >\n        <div\n          css={css`\n            transition: height 0.2s;\n            height: ${isTypingUid ? 40 + 24 : 0}px;\n          `}\n        >\n          {isTypingUid && (\n            <TextField\n              autoFocus\n              placeholder=\"ID\"\n              value={uid}\n              onChange={setUid}\n              maxLength={20}\n              showCount\n            />\n          )}\n        </div>\n        {!isTypingUid ? (\n          <Button size=\"M\" onClick={() => setIsTypingUid(true)}>\n            ID\n          </Button>\n        ) : (\n          <Button\n            variant=\"Primary\"\n            disabled={uid === \"\" || loading}\n            size=\"M\"\n            onClick={async () => {\n              try {\n                setLoading(true);\n                await onNext({ uid, step: 1 });\n              } finally {\n                setLoading(false);\n              }\n            }}\n          >\n            {loading ? <Spinner /> : \"\"}\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n","export const unreachable = (v: never) => {\n  throw new Error(v);\n};\n","import styled, { css } from \"styled-components\";\nimport { createTheme } from \"@charcoal-ui/styled\";\n\nconst theme = createTheme(styled);\n\nexport const Epilogue = ({ uid }: { uid?: string }) => {\n  return (\n    <div\n      css={css`\n        display: grid;\n        width: 100%;\n        height: 100%;\n        place-content: center;\n        text-align: center;\n        gap: 24px;\n      `}\n    >\n      <span\n        css={css`\n          ${theme((o) => [o.typography(16).bold, o.font.text1])}\n        `}\n      >\n        {uid && `ID: ${uid} `}\n        \n      </span>\n    </div>\n  );\n};\n","function getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\n\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (platform == null) {\n      console.error(['Floating UI: `platform` property was not passed to config. If you', 'want to use Floating UI on the web, install @floating-ui/dom', 'instead of the /core package. Otherwise, you can create your own', '`platform`: https://floating-ui.com/docs/platform'].join(' '));\n    }\n\n    if (middleware.filter(_ref => {\n      let {\n        name\n      } = _ref;\n      return name === 'autoPlacement' || name === 'flip';\n    }).length > 1) {\n      throw new Error(['Floating UI: duplicate `flip` and/or `autoPlacement`', 'middleware detected. This will lead to an infinite loop. Ensure only', 'one of either has been passed to the `middleware` array.'].join(' '));\n    }\n  }\n\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n\n  for (let i = 0; i < middleware.length; i++) {\n    const {\n      name,\n      fn\n    } = middleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = { ...middlewareData,\n      [name]: { ...middlewareData[name],\n        ...data\n      }\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (resetCount > 50) {\n        console.warn(['Floating UI: The middleware lifecycle appears to be running in an', 'infinite loop. This is usually caused by a `reset` continually', 'being returned without a break condition.'].join(' '));\n      }\n    }\n\n    if (reset && resetCount <= 50) {\n      resetCount++;\n\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n\n      i = -1;\n      continue;\n    }\n  }\n\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return { ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(middlewareArguments, options) {\n  var _await$platform$isEle;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = middlewareArguments;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = options;\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect: elementContext === 'floating' ? { ...rects.floating,\n      x,\n      y\n    } : rects.reference,\n    offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n    strategy\n  }) : rects[elementContext]);\n  return {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered\n * to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n\n  async fn(middlewareArguments) {\n    // Since `element` is required, we don't Partial<> the type\n    const {\n      element,\n      padding = 0\n    } = options != null ? options : {};\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform\n    } = middlewareArguments;\n\n    if (element == null) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn('Floating UI: No `element` was passed to the `arrow` middleware.');\n      }\n\n      return {};\n    }\n\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const alignment = getAlignment(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const minProp = axis === 'y' ? 'top' : 'left';\n    const maxProp = axis === 'y' ? 'bottom' : 'right';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n\n    if (clientSize === 0) {\n      clientSize = rects.floating[length];\n    }\n\n    const centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds\n\n    const min = paddingObject[minProp];\n    const max = clientSize - arrowDimensions[length] - paddingObject[maxProp];\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min, center, max); // Make sure that arrow points at the reference\n\n    const alignmentPadding = alignment === 'start' ? paddingObject[minProp] : paddingObject[maxProp];\n    const shouldAddOffset = alignmentPadding > 0 && center !== offset && rects.reference[length] <= rects.floating[length];\n    const alignmentOffset = shouldAddOffset ? center < min ? min - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset\n      }\n    };\n  }\n\n});\n\nconst hash$1 = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, matched => hash$1[matched]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, matched => hash[matched]);\n}\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n\n    return true;\n  });\n}\n\n/**\n * Automatically chooses the `placement` which has the most space available.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'autoPlacement',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _middlewareData$autoP3, _middlewareData$autoP4, _placementsSortedByLe;\n\n      const {\n        x,\n        y,\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        alignment = null,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const placements = getPlacementList(alignment, autoAlignment, allowedPlacements);\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const currentIndex = (_middlewareData$autoP = (_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.index) != null ? _middlewareData$autoP : 0;\n      const currentPlacement = placements[currentIndex];\n\n      if (currentPlacement == null) {\n        return {};\n      }\n\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))); // Make `computeCoords` start from the right place\n\n      if (placement !== currentPlacement) {\n        return {\n          x,\n          y,\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...((_middlewareData$autoP3 = (_middlewareData$autoP4 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP4.overflows) != null ? _middlewareData$autoP3 : []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1]; // There are more placements to check\n\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n\n      const placementsSortedByLeastOverflow = allOverflows.slice().sort((a, b) => a.overflows[0] - b.overflows[0]);\n      const placementThatFitsOnAllSides = (_placementsSortedByLe = placementsSortedByLeastOverflow.find(_ref => {\n        let {\n          overflows\n        } = _ref;\n        return overflows.every(overflow => overflow <= 0);\n      })) == null ? void 0 : _placementsSortedByLe.placement;\n      const resetPlacement = placementThatFitsOnAllSides != null ? placementThatFitsOnAllSides : placementsSortedByLeastOverflow[0].placement;\n\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\n/**\n * Changes the placement of the floating element to one that will fit if the\n * initially specified `placement` does not.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'flip',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$flip;\n\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const side = getSide(placement);\n      const isBasePlacement = side === initialPlacement;\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n        overflows.push(overflow[main], overflow[cross]);\n      }\n\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }]; // One or more sides is overflowing\n\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip$, _middlewareData$flip2;\n\n        const nextIndex = ((_middlewareData$flip$ = (_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) != null ? _middlewareData$flip$ : 0) + 1;\n        const nextPlacement = placements[nextIndex];\n\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        let resetPlacement = 'bottom';\n\n        switch (fallbackStrategy) {\n          case 'bestFit':\n            {\n              var _overflowsData$map$so;\n\n              const placement = (_overflowsData$map$so = overflowsData.map(d => [d, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0].placement;\n\n              if (placement) {\n                resetPlacement = placement;\n              }\n\n              break;\n            }\n\n          case 'initialPlacement':\n            resetPlacement = initialPlacement;\n            break;\n        }\n\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (_temp) {\n  let {\n    strategy = 'referenceHidden',\n    ...detectOverflowOptions\n  } = _temp === void 0 ? {} : _temp;\n  return {\n    name: 'hide',\n\n    async fn(middlewareArguments) {\n      const {\n        rects\n      } = middlewareArguments;\n\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        default:\n          {\n            return {};\n          }\n      }\n    }\n\n  };\n};\n\nasync function convertValueToCoords(middlewareArguments, value) {\n  const {\n    placement,\n    platform,\n    elements\n  } = middlewareArguments;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = typeof value === 'function' ? value(middlewareArguments) : value; // eslint-disable-next-line prefer-const\n\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n/**\n * Displaces the floating element from its reference element.\n * @see https://floating-ui.com/docs/offset\n */\n\nconst offset = function (value) {\n  if (value === void 0) {\n    value = 0;\n  }\n\n  return {\n    name: 'offset',\n    options: value,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y\n      } = middlewareArguments;\n      const diffCoords = await convertValueToCoords(middlewareArguments, value);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Shifts the floating element in order to keep it in view when it will overflow\n * a clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'shift',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n\n      const limitedCoords = limiter.fn({ ...middlewareArguments,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return { ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n\n  };\n};\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    options,\n\n    fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = middlewareArguments;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = typeof offset === 'function' ? offset(middlewareArguments) : offset;\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2, _middlewareData$offse3, _middlewareData$offse4;\n\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? (_middlewareData$offse = (_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) != null ? _middlewareData$offse : 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : (_middlewareData$offse3 = (_middlewareData$offse4 = middlewareData.offset) == null ? void 0 : _middlewareData$offse4[crossAxis]) != null ? _middlewareData$offse3 : 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n\n  };\n};\n\n/**\n * Provides data to change the size of the floating element. For instance,\n * prevent it from overflowing its clipping boundary or match the width of the\n * reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'size',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = options;\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      let heightSide;\n      let widthSide;\n\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n\n      const xMin = max(overflow.left, 0);\n      const xMax = max(overflow.right, 0);\n      const yMin = max(overflow.top, 0);\n      const yMax = max(overflow.bottom, 0);\n      const dimensions = {\n        availableHeight: rects.floating.height - (['left', 'right'].includes(placement) ? 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom)) : overflow[heightSide]),\n        availableWidth: rects.floating.width - (['top', 'bottom'].includes(placement) ? 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right)) : overflow[widthSide])\n      };\n      await apply({ ...middlewareArguments,\n        ...dimensions\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n\n      if (rects.floating.width !== nextDimensions.width || rects.floating.height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'inline',\n    options,\n\n    async fn(middlewareArguments) {\n      var _await$platform$getCl;\n\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = middlewareArguments; // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n\n      const {\n        padding = 2,\n        x,\n        y\n      } = options;\n      const fallback = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n        rect: rects.reference,\n        offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n        strategy\n      }) : rects.reference);\n      const clientRects = (_await$platform$getCl = await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) != null ? _await$platform$getCl : [];\n      const paddingObject = getSideObjectFromPadding(padding);\n\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          var _clientRects$find;\n\n          // Find the first rect in which the point is fully inside\n          return (_clientRects$find = clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom)) != null ? _clientRects$find : fallback;\n        } // There are 2 or more connected rects\n\n\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n\n        return fallback;\n      }\n\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction isWindow(value) {\n  return value && value.document && value.location && value.alert && value.setInterval;\n}\nfunction getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (!isWindow(node)) {\n    const ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction getNodeName(node) {\n  return isWindow(node) ? '' : node ? (node.nodeName || '').toLowerCase() : '';\n}\n\nfunction getUAString() {\n  const uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(item => item.brand + \"/\" + item.version).join(' ');\n  }\n\n  return navigator.userAgent;\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof getWindow(value).HTMLElement;\n}\nfunction isElement(value) {\n  return value instanceof getWindow(value).Element;\n}\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  // TODO: Try and use feature detection here instead\n  const isFirefox = /firefox/i.test(getUAString());\n  const css = getComputedStyle(element); // This is non-exhaustive but covers the most common CSS properties that\n  // create a containing block.\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n  return css.transform !== 'none' || css.perspective !== 'none' || // @ts-ignore (TS 4.1 compat)\n  css.contain === 'paint' || ['transform', 'perspective'].includes(css.willChange) || isFirefox && css.willChange === 'filter' || isFirefox && (css.filter ? css.filter !== 'none' : false);\n}\nfunction isLayoutViewport() {\n  // Not Safari\n  return !/^((?!chrome|android).)*safari/i.test(getUAString()); // Feature detection for this fails in various ways\n  //  Always-visible scrollbar or not\n  //  Width of <html>, etc.\n  // const vV = win.visualViewport;\n  // return vV ? Math.abs(win.innerWidth / vV.scale - vV.width) < 0.5 : true;\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  var _win$visualViewport$o, _win$visualViewport, _win$visualViewport$o2, _win$visualViewport2;\n\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  const clientRect = element.getBoundingClientRect();\n  let scaleX = 1;\n  let scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  const win = isElement(element) ? getWindow(element) : window;\n  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  const x = (clientRect.left + (addVisualOffsets ? (_win$visualViewport$o = (_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) != null ? _win$visualViewport$o : 0 : 0)) / scaleX;\n  const y = (clientRect.top + (addVisualOffsets ? (_win$visualViewport$o2 = (_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) != null ? _win$visualViewport$o2 : 0 : 0)) / scaleY;\n  const width = clientRect.width / scaleX;\n  const height = clientRect.height / scaleY;\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y\n  };\n}\n\nfunction getDocumentElement(node) {\n  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;\n}\n\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\nfunction isScaled(element) {\n  const rect = getBoundingClientRect(element);\n  return round(rect.width) !== element.offsetWidth || round(rect.height) !== element.offsetHeight;\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(element, // @ts-ignore - checked above (TS 4.1 compat)\n  isOffsetParentAnElement && isScaled(offsetParent), strategy === 'fixed');\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // @ts-ignore\n    node.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    node.parentNode || ( // DOM Element detected\n    isShadowRoot(node) ? node.host : null) || // ShadowRoot detected\n    getDocumentElement(node) // fallback\n\n  );\n}\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && !['html', 'body'].includes(getNodeName(currentNode))) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      const parent = currentNode.parentNode;\n      currentNode = isShadowRoot(parent) ? parent.host : parent;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  const window = getWindow(element);\n  let offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nfunction getDimensions(element) {\n  if (isHTMLElement(element)) {\n    return {\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    };\n  }\n\n  const rect = getBoundingClientRect(element);\n  return {\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } // This doesn't appear to be need to be negated.\n    // else if (documentElement) {\n    //   offsets.x = getWindowScrollBarX(documentElement);\n    // }\n\n  }\n\n  return { ...rect,\n    x: rect.x - scroll.scrollLeft + offsets.x,\n    y: rect.y - scroll.scrollTop + offsets.y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  const width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  const height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n\n  if (['html', 'body', '#document'].includes(getNodeName(parentNode))) {\n    // @ts-ignore assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n  const target = isBody ? [win].concat(win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []) : scrollableAncestor;\n  const updatedList = list.concat(target);\n  return isBody ? updatedList : // @ts-ignore: isBody tells us target will be an HTMLElement here\n  updatedList.concat(getOverflowAncestors(target));\n}\n\nfunction contains(parent, child) {\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n\n    do {\n      // use `===` replace node.isSameNode()\n      if (next && parent === next) {\n        return true;\n      } // @ts-ignore: need a better way to handle this...\n\n\n      next = next.parentNode || next.host;\n    } while (next);\n  }\n\n  return false;\n}\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, false, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  return {\n    top,\n    left,\n    x: left,\n    y: top,\n    right: left + element.clientWidth,\n    bottom: top + element.clientHeight,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getClientRectFromClippingAncestor(element, clippingParent, strategy) {\n  if (clippingParent === 'viewport') {\n    return rectToClientRect(getViewportRect(element, strategy));\n  }\n\n  if (isElement(clippingParent)) {\n    return getInnerBoundingClientRect(clippingParent, strategy);\n  }\n\n  return rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping ancestor\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingAncestors(element) {\n  const clippingAncestors = getOverflowAncestors(element);\n  const canEscapeClipping = ['absolute', 'fixed'].includes(getComputedStyle(element).position);\n  const clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // @ts-ignore isElement check ensures we return Array<Element>\n\n\n  return clippingAncestors.filter(clippingAncestors => isElement(clippingAncestors) && contains(clippingAncestors, clipperElement) && getNodeName(clippingAncestors) !== 'body');\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors\n\n\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const mainClippingAncestors = boundary === 'clippingAncestors' ? getClippingAncestors(element) : [].concat(boundary);\n  const clippingAncestors = [...mainClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nconst platform = {\n  getClippingRect,\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  isElement,\n  getDimensions,\n  getOffsetParent,\n  getDocumentElement,\n  getElementRects: _ref => {\n    let {\n      reference,\n      floating,\n      strategy\n    } = _ref;\n    return {\n      reference: getRectRelativeToOffsetParent(reference, getOffsetParent(floating), strategy),\n      floating: { ...getDimensions(floating),\n        x: 0,\n        y: 0\n      }\n    };\n  },\n  getClientRects: element => Array.from(element.getClientRects()),\n  isRTL: element => getComputedStyle(element).direction === 'rtl'\n};\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    ancestorScroll: _ancestorScroll = true,\n    ancestorResize: _ancestorResize = true,\n    elementResize = true,\n    animationFrame = false\n  } = options;\n  const ancestorScroll = _ancestorScroll && !animationFrame;\n  const ancestorResize = _ancestorResize && !animationFrame;\n  const ancestors = ancestorScroll || ancestorResize ? [...(isElement(reference) ? getOverflowAncestors(reference) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  let observer = null;\n\n  if (elementResize) {\n    let initialUpdate = true;\n    observer = new ResizeObserver(() => {\n      if (!initialUpdate) {\n        update();\n      }\n\n      initialUpdate = false;\n    });\n    isElement(reference) && !animationFrame && observer.observe(reference);\n    observer.observe(floating);\n  }\n\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n\n  if (animationFrame) {\n    frameLoop();\n  }\n\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n\n  update();\n  return () => {\n    var _observer;\n\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    (_observer = observer) == null ? void 0 : _observer.disconnect();\n    observer = null;\n\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\n\nconst computePosition = (reference, floating, options) => computePosition$1(reference, floating, {\n  platform,\n  ...options\n});\n\nexport { autoUpdate, computePosition, getOverflowAncestors, platform };\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","import { computePosition, arrow as arrow$1 } from '@floating-ui/dom';\nexport * from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n\n  let length, i, keys;\n\n  if (a && b && typeof a == 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    keys = Object.keys(a);\n    length = keys.length;\n\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nfunction useFloating(_temp) {\n  let {\n    middleware,\n    placement = 'bottom',\n    strategy = 'absolute',\n    whileElementsMounted\n  } = _temp === void 0 ? {} : _temp;\n  const [data, setData] = React.useState({\n    // Setting these to `null` will allow the consumer to determine if\n    // `computePosition()` has run yet\n    x: null,\n    y: null,\n    strategy,\n    placement,\n    middlewareData: {}\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n\n  if (!deepEqual(latestMiddleware == null ? void 0 : latestMiddleware.map(_ref => {\n    let {\n      name,\n      options\n    } = _ref;\n    return {\n      name,\n      options\n    };\n  }), middleware == null ? void 0 : middleware.map(_ref2 => {\n    let {\n      name,\n      options\n    } = _ref2;\n    return {\n      name,\n      options\n    };\n  }))) {\n    setLatestMiddleware(middleware);\n  }\n\n  const reference = React.useRef(null);\n  const floating = React.useRef(null);\n  const cleanupRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const update = React.useCallback(() => {\n    if (!reference.current || !floating.current) {\n      return;\n    }\n\n    computePosition(reference.current, floating.current, {\n      middleware: latestMiddleware,\n      placement,\n      strategy\n    }).then(data => {\n      if (isMountedRef.current && !deepEqual(dataRef.current, data)) {\n        dataRef.current = data;\n        ReactDOM.flushSync(() => {\n          setData(data);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy]);\n  index(() => {\n    // Skip first update\n    if (isMountedRef.current) {\n      update();\n    }\n  }, [update]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  const runElementMountCallback = React.useCallback(() => {\n    if (typeof cleanupRef.current === 'function') {\n      cleanupRef.current();\n      cleanupRef.current = null;\n    }\n\n    if (reference.current && floating.current) {\n      if (whileElementsMountedRef.current) {\n        const cleanupFn = whileElementsMountedRef.current(reference.current, floating.current, update);\n        cleanupRef.current = cleanupFn;\n      } else {\n        update();\n      }\n    }\n  }, [update, whileElementsMountedRef]);\n  const setReference = React.useCallback(node => {\n    reference.current = node;\n    runElementMountCallback();\n  }, [runElementMountCallback]);\n  const setFloating = React.useCallback(node => {\n    floating.current = node;\n    runElementMountCallback();\n  }, [runElementMountCallback]);\n  const refs = React.useMemo(() => ({\n    reference,\n    floating\n  }), []);\n  return React.useMemo(() => ({ ...data,\n    update,\n    refs,\n    reference: setReference,\n    floating: setFloating\n  }), [data, update, refs, setReference, setFloating]);\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered\n * to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\n\nconst arrow = options => {\n  const {\n    element,\n    padding\n  } = options;\n\n  function isRef(value) {\n    return Object.prototype.hasOwnProperty.call(value, 'current');\n  }\n\n  return {\n    name: 'arrow',\n    options,\n\n    fn(args) {\n      if (isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(args);\n        }\n\n        return {};\n      } else if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(args);\n      }\n\n      return {};\n    }\n\n  };\n};\n\nexport { arrow, useFloating };\n","import { ComponentProps } from \"react\";\nimport { css, keyframes } from \"styled-components\";\nimport { Twemoji } from \"./Emoji\";\n\nexport const MAX_LEVEL_SIZE = 20;\n\nexport const FloatingEmojis = ({\n  floatingEmojis,\n}: {\n  floatingEmojis: {\n    id: number;\n    level: 1 | 2 | 3 | 4 | 5;\n    emoji: string;\n    duration: `${number}ms`;\n    positionXPx: number;\n  }[];\n}) => {\n  const emojiSize = (level: 1 | 2 | 3 | 4 | 5) =>\n    level === 1 ? 12 : level === 2 ? 14 : level === 3 ? 16 : MAX_LEVEL_SIZE;\n  return (\n    <span\n      css={css`\n        position: relative;\n        z-index: 0;\n        width: ${MAX_LEVEL_SIZE}px;\n        height: ${MAX_LEVEL_SIZE}px;\n      `}\n    >\n      {floatingEmojis.map(({ id, level, emoji, duration, positionXPx }) => (\n        <span\n          key={id}\n          css={[\n            css`\n              position: absolute;\n              display: inline-grid;\n              place-content: center;\n              opacity: 0;\n            `,\n            floatAnimationCss({\n              duration,\n              initXPx: positionXPx,\n            }),\n          ]}\n        >\n          <Twemoji emoji={emoji} size={emojiSize(level)} />\n        </span>\n      ))}\n    </span>\n  );\n};\n\nconst floatAnimationCss = ({\n  duration,\n  initXPx,\n}: {\n  duration: `${number}ms`;\n  initXPx: number;\n}) => css`\n  transform: translate(${initXPx}px, 0);\n  opacity: 0;\n  animation: ${float({ initXPx })} ${duration} 0.1s ease-out forwards;\n`;\n\nconst float = ({ initXPx }: { initXPx: number }) => keyframes`\n  50% {\n    opacity: 0.8;\n  }\n  100% {\n    transform: translate(${initXPx}px, -600%);\n    opacity: 0;\n  }\n`;\n\nexport function createFloatingEmoji({\n  maxDurationMs,\n}: {\n  maxDurationMs: number;\n}): Pick<\n  ComponentProps<typeof FloatingEmojis>[\"floatingEmojis\"][number],\n  \"duration\" | \"positionXPx\"\n> {\n  const duration = `${Math.floor(\n    (Math.random() * maxDurationMs) / 2 + maxDurationMs / 2\n  )}ms` as const;\n  const positionXDeviationPx = 8;\n  const positionXPx = Math.floor(\n    Math.random() * positionXDeviationPx * 2 - positionXDeviationPx\n  );\n  return { duration, positionXPx };\n}\n","export const emojis = [\"\", \"\", \"\", \"\", \"\"] as const;\n","import { maxWidth } from \"@charcoal-ui/utils\";\nimport { css } from \"styled-components\";\n\nconst sizeCss = css`\n  width: 400px;\n  height: 360px;\n  @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n    width: 100%;\n    height: 320px;\n  }\n`;\n\nexport const ChatIcon = () => (\n  <svg\n    css={sizeCss}\n    viewBox=\"0 0 227 254\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M69.9444 196.965C73.3944 195.965 76.8745 195.035 80.3145 193.955C87.6945 191.645 95.2344 190.305 102.944 189.805C105.114 189.665 107.245 189.355 109.395 189.915C109.815 190.025 110.335 190.045 110.725 189.885C113.605 188.745 116.505 189.395 119.285 190.035C126.615 191.745 134.064 192.635 141.504 193.595C144.364 193.965 147.234 194.515 150.004 195.295C155.774 196.915 161.705 197.585 167.595 198.525C178.405 200.255 189.205 202.105 199.615 205.565C202.865 206.645 206.055 208.005 209.065 209.635C215.145 212.935 219.945 217.675 223.595 223.555C225.185 226.115 225.834 228.865 225.484 231.855C225.454 232.125 225.454 232.395 225.424 232.665C224.604 240.455 222.445 243.235 214.885 245.135C210.255 246.305 205.494 247.095 200.754 247.685C195.374 248.365 189.955 248.905 184.535 249.035C168.715 249.405 153.115 247.385 137.705 243.905C134.265 243.125 130.814 242.365 127.404 241.475C125.164 240.885 122.955 240.855 120.685 241.175C113.075 242.245 105.465 243.405 97.8345 244.295C90.7345 245.125 83.6144 245.735 76.4844 246.295C65.2044 247.175 53.9146 247.865 42.6446 248.765C35.4746 249.345 34.6948 251.985 27.5748 251.245C25.5048 251.025 17.6648 249.605 15.6348 249.185C10.1448 248.055 5.18446 243.475 2.25446 238.635C0.424465 235.615 -0.615399 232.395 0.394601 228.805C1.0046 226.635 1.35439 224.365 2.17439 222.275C8.59439 205.925 19.4745 193.585 35.3345 185.825C39.2645 183.905 43.3848 182.535 47.8448 182.675C54.6348 182.885 60.5346 185.355 65.6046 189.795C67.8146 191.735 68.4744 192.975 69.9444 196.965Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M190.404 222.725L181.625 223.635C181.625 223.635 175.954 209.365 170.274 205.705C164.604 202.045 160.214 192.895 160.214 192.895C160.214 192.895 150.155 187.775 148.865 187.775C147.585 187.775 144.834 238.095 144.834 238.095C144.834 238.095 158.925 244.865 159.475 245.235C160.025 245.605 175.395 248.345 184.915 247.975C194.435 247.605 201.935 245.415 201.935 245.415L190.404 222.725Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M45.2944 222.905C45.2944 222.905 76.7645 221.985 83.3545 221.445C89.9445 220.895 99.2744 217.965 99.2744 217.965C99.2744 217.965 102.384 202.225 107.504 200.585C112.624 198.935 133.675 194.365 135.325 195.465C136.975 196.565 139.894 205.895 139.714 207.175C139.534 208.455 130.934 229.865 129.104 231.335C127.274 232.795 115.194 234.995 114.464 237.375C113.734 239.755 113.914 243.415 109.524 244.515C105.134 245.615 65.2446 250.005 59.9346 249.635C54.6246 249.265 40.5347 247.985 40.5347 247.985L45.2944 222.905Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M204.245 173.705C202.345 173.705 200.445 173.755 198.545 173.685C197.505 173.645 196.945 174.025 196.385 174.905C193.075 180.165 188.685 184.475 184.025 188.525C183.685 188.815 183.325 189.115 182.925 189.305C181.875 189.805 180.875 189.435 180.555 188.305C180.315 187.455 180.265 186.525 180.285 185.625C180.355 182.095 180.515 178.565 180.585 175.045C180.625 173.265 180.505 173.165 178.755 173.355C170.725 174.215 162.675 174.165 154.625 173.985C142.045 173.695 129.475 173.485 116.895 173.295C104.765 173.115 92.645 172.595 80.615 171.015C75.595 170.355 70.6348 169.305 65.6448 168.435C65.2048 168.355 64.7649 168.215 64.3249 168.115C58.5649 166.815 54.8647 163.355 53.5447 157.565C52.5947 153.425 51.7846 149.255 50.9646 145.095C50.7946 144.215 50.8347 143.295 50.8347 142.385C50.8247 137.885 52.2345 135.855 56.6545 134.875C59.8145 134.165 63.0747 133.705 66.3147 133.555C76.1647 133.105 86.025 132.745 95.885 132.565C111.355 132.275 126.835 132.195 142.305 133.015C152.155 133.535 161.995 134.195 171.845 134.815C178.795 135.245 185.755 135.695 192.705 136.165C198.715 136.575 204.465 138.075 210.095 140.185C212.565 141.115 214.125 142.755 215.015 145.225C217.415 151.895 218.195 158.765 217.605 165.795C217.485 167.205 217.045 168.655 216.435 169.935C215.215 172.465 213.235 174.055 210.235 174.005C208.245 173.975 206.255 173.995 204.265 173.995C204.245 173.905 204.245 173.805 204.245 173.705ZM183.565 185.065C187.995 180.945 192.055 177.235 194.905 172.455C196.005 170.615 197.275 169.635 199.475 169.835C201.455 170.015 203.455 170.035 205.445 170.105C206.805 170.155 208.165 170.235 209.515 170.185C211.745 170.105 212.575 169.455 213.265 167.345C213.485 166.665 213.665 165.945 213.715 165.225C214.175 159.015 213.485 152.945 211.505 147.025C210.945 145.345 209.895 144.365 208.215 143.745C202.745 141.705 197.125 140.435 191.305 140.085C183.805 139.635 176.315 139.205 168.815 138.765C158.335 138.145 147.865 137.375 137.385 136.925C116.125 136.015 94.8649 136.605 73.5949 136.995C70.5249 137.055 67.4447 137.205 64.3747 137.445C62.1247 137.625 59.8748 137.905 57.6648 138.355C54.7648 138.945 54.1649 139.715 54.3449 142.645C54.6949 148.275 55.8149 153.745 57.7849 159.045C58.6949 161.505 60.3249 163.235 62.7849 164.035C65.1849 164.815 67.6149 165.555 70.0949 166.055C82.9149 168.625 95.9045 169.525 108.945 169.865C124.505 170.265 140.065 170.595 155.625 170.795C162.495 170.885 169.375 170.585 176.245 170.415C177.685 170.375 179.125 170.115 180.565 170.005C182.805 169.845 183.585 170.545 183.625 172.725C183.635 173.175 183.575 173.625 183.565 174.085C183.565 177.525 183.565 180.965 183.565 185.065Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M190.535 81.8247C198.815 81.6647 207.535 81.2147 215.325 83.5547C220.295 85.0447 222.914 88.4447 223.674 93.5047C224.754 100.715 223.064 107.315 219.454 113.525C218.494 115.175 217.094 116.275 215.274 116.755C213.444 117.235 211.595 117.705 209.725 117.955C208.145 118.155 207.245 118.765 206.495 120.265C205.135 123.005 203.454 125.595 201.794 128.175C201.174 129.145 200.324 130.035 199.434 130.775C197.444 132.445 195.584 131.815 194.984 129.325C194.814 128.625 194.804 127.895 194.754 127.175C194.584 124.645 194.394 122.125 194.294 119.595C194.244 118.395 193.724 118.065 192.584 118.155C188.074 118.505 183.565 118.795 179.055 119.105C170.915 119.665 162.784 119.425 154.694 118.395C153.444 118.235 152.195 118.005 150.975 117.685C148.495 117.035 146.814 115.495 146.334 112.915C145.804 110.075 145.264 107.225 144.954 104.355C144.564 100.765 144.175 97.1747 144.635 93.5347C145.145 89.4447 147.275 86.7847 151.225 85.8947C155.445 84.9347 159.724 84.0447 164.024 83.6247C171.314 82.9147 178.925 81.8347 186.225 81.8647C187.645 81.8747 189.085 81.8547 190.535 81.8247ZM198.294 126.765C199.104 125.845 199.505 125.485 199.785 125.045C201.175 122.925 202.654 120.855 203.854 118.635C205.334 115.875 207.284 114.025 210.584 114.025C210.944 114.025 211.294 113.905 211.654 113.855C214.374 113.465 216.365 112.185 217.265 109.445C217.575 108.505 218.125 107.645 218.475 106.725C220.115 102.395 220.584 97.9547 219.704 93.3947C219.164 90.6047 217.704 88.5747 214.934 87.6547C213.994 87.3447 213.045 86.9747 212.075 86.8447C209.125 86.4347 206.154 85.8747 203.194 85.8347C194.874 85.7147 186.545 85.6747 178.225 85.8947C170.085 86.1047 161.964 86.8647 153.964 88.4847C148.774 89.5247 147.635 90.9347 147.635 96.2447C147.635 101.335 148.504 106.325 149.414 111.315C149.774 113.275 150.864 114.335 152.834 114.585C153.824 114.705 154.794 114.935 155.774 115.055C165.524 116.225 175.284 115.945 185.044 115.275C187.934 115.075 190.814 114.765 193.704 114.615C196.184 114.485 197.195 115.375 197.575 117.785C197.705 118.585 197.754 119.405 197.814 120.215C197.974 122.165 198.104 124.125 198.294 126.765Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M77.3449 155.525C79.0349 157.105 80.8045 157.145 82.4845 157.145C87.1445 157.135 91.6246 156.015 96.0446 154.655C96.8246 154.415 97.1545 153.905 97.4045 153.145C99.2845 147.375 105.145 143.255 111.245 143.375C111.605 143.385 111.975 143.405 112.325 143.465C115.145 143.965 115.945 146.015 114.035 148.115C113.075 149.175 111.924 150.145 110.694 150.845C107.874 152.455 104.985 153.955 102.045 155.355C100.345 156.165 100.695 156.905 101.875 157.575C103.105 158.265 104.495 158.865 105.885 159.055C111.235 159.805 116.285 158.395 121.255 156.555C122.165 156.215 122.345 155.505 122.545 154.675C123.415 151.025 125.635 148.355 128.855 146.575C130.005 145.945 131.394 145.525 132.694 145.455C135.624 145.315 137.065 147.705 135.495 150.145C134.585 151.555 133.305 152.795 131.965 153.835C130.115 155.265 128.065 156.425 126.015 157.755C126.735 158.855 127.855 158.885 128.885 158.845C133.205 158.665 137.235 157.315 141.075 155.435C141.595 155.185 141.935 154.345 142.125 153.715C142.885 151.155 144.375 149.145 146.715 147.925C147.715 147.405 148.945 147.085 150.065 147.115C152.205 147.165 153.314 149.125 152.194 150.965C151.464 152.165 150.325 153.145 149.245 154.085C148.255 154.955 147.115 155.655 145.955 156.495C147.035 157.675 148.255 157.495 149.385 157.495C152.865 157.495 156.175 156.535 159.455 155.485C160.575 155.125 161.645 154.625 162.765 154.275C164.065 153.865 164.854 153.055 165.424 151.805C166.524 149.375 168.185 147.325 170.365 145.785C171.375 145.065 172.565 144.525 173.745 144.155C175.055 143.745 176.295 144.145 177.095 145.315C177.905 146.505 177.735 147.785 176.915 148.865C176.215 149.785 175.384 150.675 174.444 151.355C172.684 152.615 170.795 153.705 168.965 154.865C168.375 155.235 167.544 155.425 167.654 156.375C167.774 157.355 168.545 157.745 169.355 157.865C170.425 158.025 171.535 158.175 172.585 158.025C174.815 157.705 177.025 157.215 179.225 156.745C181.075 156.355 182.335 155.365 183.255 153.555C184.755 150.605 187.445 148.875 190.545 147.825C191.125 147.625 191.795 147.565 192.415 147.615C194.075 147.755 195.074 149.155 194.404 150.685C193.954 151.715 193.185 152.745 192.295 153.415C190.495 154.775 188.505 155.875 186.625 157.115C186.285 157.335 185.805 157.755 185.835 158.035C185.875 158.375 186.324 158.755 186.694 158.945C189.704 160.525 194.395 159.365 197.065 156.385C197.605 155.785 198.035 155.085 198.575 154.485C198.685 154.365 199.055 154.405 199.275 154.475C199.385 154.515 199.505 154.785 199.485 154.925C199.415 155.275 199.304 155.625 199.154 155.945C197.174 160.205 192.285 162.925 187.575 162.415C185.985 162.245 184.455 161.735 183.535 160.455C182.565 159.105 181.625 159.365 180.295 159.695C177.595 160.375 174.835 160.995 172.075 161.255C169.095 161.535 166.245 161.025 164.645 157.955C164.255 157.205 163.615 157.415 162.995 157.625C161.285 158.205 159.595 158.925 157.845 159.305C155.025 159.905 152.175 160.395 149.305 160.705C147.185 160.935 145.125 160.445 143.545 158.865C142.795 158.125 142.155 158.375 141.355 158.635C138.265 159.645 135.195 160.715 132.045 161.495C130.505 161.875 128.795 161.855 127.205 161.655C126.105 161.515 124.815 161.025 124.075 160.245C122.955 159.075 122.005 159.235 120.725 159.725C117.325 161.025 113.805 161.945 110.165 162.025C107.845 162.075 105.494 161.755 103.194 161.335C101.384 161.005 99.7748 159.985 98.7648 158.415C97.9248 157.105 96.9948 157.205 95.7848 157.605C92.0748 158.805 88.2747 159.675 84.3747 159.875C82.7647 159.955 81.0946 159.925 79.5246 159.605C78.2446 159.345 76.7745 158.855 75.9045 157.965C74.6645 156.695 73.5546 156.745 72.0446 157.085C70.9546 157.335 69.7447 157.215 68.6047 157.055C68.2947 157.015 67.9247 156.275 67.8747 155.825C67.8447 155.595 68.4148 155.165 68.7848 155.045C69.4648 154.815 70.2045 154.785 70.9045 154.615C72.6845 154.165 74.0745 153.505 74.9045 151.495C76.0845 148.635 78.5346 146.815 81.5046 145.835C83.0546 145.325 84.3545 145.635 84.9245 146.605C85.6045 147.775 85.3748 149.005 84.5348 149.885C83.1748 151.305 81.6449 152.575 80.1149 153.825C79.3449 154.445 78.4449 154.865 77.3449 155.525ZM100.515 152.875C105.615 151.195 110.195 148.445 111.645 146.265C107.035 145.895 102.145 148.705 100.515 152.875ZM126.265 153.985C129.005 152.695 131.615 151.275 133.375 148.515C130.295 148.215 127.755 150.125 126.265 153.985ZM171.685 148.865C171.895 149.055 172.105 149.255 172.315 149.445C172.605 148.985 172.904 148.525 173.194 148.065C173.124 147.985 173.055 147.905 172.985 147.825C172.545 148.175 172.115 148.525 171.685 148.865Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M179.834 89.7947C182.684 89.8547 185.365 90.4747 188.055 91.4347C191.095 92.5247 194.335 93.1947 197.575 93.0547C200.465 92.9347 203.155 93.6947 205.805 94.5047C208.625 95.3647 209.884 99.1347 208.274 101.735C206.464 104.665 204.384 107.395 200.714 108.315C199.614 108.595 198.594 109.275 197.584 109.865C195.184 111.275 192.705 112.295 189.865 111.495C188.955 111.245 188.335 111.645 187.595 112.005C185.975 112.785 184.345 113.565 182.645 114.135C180.735 114.775 178.824 114.435 177.274 113.125C176.344 112.345 175.394 112.225 174.274 112.245C170.564 112.305 167.104 111.165 163.854 109.575C158.134 106.775 156.934 97.9047 163.234 93.2347C163.724 92.8647 164.355 92.6147 164.955 92.4747C168.205 91.7447 171.464 91.0347 174.734 90.4047C176.414 90.1147 178.134 90.0047 179.834 89.7947ZM163.734 105.045C164.884 102.095 166.605 100.035 168.535 98.1047C169.165 97.4747 169.504 96.7347 168.794 95.9747C168.214 95.3547 167.564 95.0447 166.624 95.4247C162.684 97.0347 161.334 101.025 163.734 105.045ZM193.745 96.9147C194.215 97.9747 194.685 99.0447 195.145 100.115C195.925 101.925 197.544 102.985 199.524 102.855C199.784 102.835 200.155 102.505 200.245 102.245C200.795 100.685 200.085 98.7547 198.535 97.4447C196.675 95.8847 195.765 95.7847 193.745 96.9147ZM181.075 111.935C181.115 112.025 181.154 112.125 181.194 112.215C182.744 111.555 184.335 110.955 185.845 110.195C186.605 109.815 186.465 108.905 185.665 108.565C185.345 108.425 184.915 108.255 184.635 108.345C183.025 108.895 181.414 109.485 179.854 110.165C179.594 110.275 179.455 110.935 179.475 111.325C179.485 111.515 179.965 111.735 180.265 111.855C180.505 111.955 180.805 111.915 181.075 111.935ZM176.044 103.455C175.214 103.165 174.624 102.975 174.044 102.755C173.374 102.505 172.695 102.275 172.075 101.935C171.175 101.455 170.744 101.895 170.464 102.655C170.144 103.515 170.335 104.335 171.135 104.745C171.985 105.175 172.945 105.585 173.865 105.595C174.345 105.605 174.845 104.735 175.325 104.255C175.515 104.075 175.674 103.875 176.044 103.455ZM197.035 106.765C196.045 105.725 195.535 105.085 194.915 104.585C194.645 104.365 194.034 104.235 193.794 104.395C193.114 104.835 192.454 105.465 192.794 106.385C192.894 106.665 193.465 106.925 193.825 106.935C194.705 106.975 195.585 106.855 197.035 106.765ZM176.495 99.3347C177.335 100.015 177.954 100.635 178.694 101.065C179.044 101.265 179.795 101.285 180.035 101.055C180.555 100.555 180.254 99.4847 179.604 99.2747C178.684 98.9547 177.725 98.7347 176.495 99.3347ZM202.714 98.3547C202.844 99.8347 202.894 100.795 203.024 101.735C203.064 101.995 203.364 102.225 203.544 102.465C203.794 102.245 204.204 102.075 204.274 101.805C204.684 100.425 203.954 99.5047 202.714 98.3547ZM192.185 101.175C192.295 101.105 192.404 101.035 192.504 100.965C192.114 100.215 191.745 99.4447 191.305 98.7247C191.225 98.5947 190.785 98.5547 190.635 98.6547C190.485 98.7647 190.374 99.1947 190.464 99.3147C191.004 99.9547 191.605 100.555 192.185 101.175ZM168.205 107.385C167.705 106.145 167.394 105.385 166.924 104.225C166.314 105.835 166.175 106.795 168.205 107.385ZM190.004 104.485C189.114 104.135 188.584 103.835 188.024 103.745C187.864 103.725 187.504 104.325 187.444 104.665C187.414 104.855 187.885 105.335 188.035 105.305C188.595 105.165 189.124 104.875 190.004 104.485ZM186.674 96.6447C186.794 96.4447 186.924 96.2447 187.044 96.0447C186.364 95.8547 185.684 95.6647 185.004 95.4647C184.954 95.6047 184.915 95.7447 184.865 95.8847C185.465 96.1347 186.064 96.3947 186.674 96.6447Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M73.4748 197.655C72.5548 197.655 60.6648 196.375 59.7448 203.515C58.8348 210.655 65.6047 214.675 65.6047 214.675C65.6047 214.675 96.5348 222.905 97.2648 222.905C97.9948 222.905 147.955 208.815 147.955 207.715C147.955 206.615 130.575 175.145 127.095 170.565C123.615 165.995 111.545 157.575 106.965 156.105C102.395 154.645 83.7248 151.715 83.7248 151.715L71.8346 172.215L73.4748 197.655Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M57.6445 251.065C56.8545 250.925 56.0646 250.705 55.2646 250.655C44.0546 250.055 32.8445 249.495 21.6445 248.905C21.0145 248.875 20.3147 248.925 19.7847 248.655C19.2947 248.405 18.7843 247.845 18.6543 247.325C18.4543 246.505 19.1047 245.925 19.8447 245.775C20.8147 245.585 21.8245 245.505 22.8145 245.535C29.8645 245.795 36.9346 245.885 43.9746 246.435C59.3646 247.615 74.7247 247.515 90.0747 246.035C93.2147 245.735 96.3243 245.035 99.4443 244.495C102.024 244.045 104.615 243.605 107.185 243.085C110.555 242.405 111.275 241.555 111.955 238.145C112.105 237.395 112.535 236.615 113.055 236.055C114.435 234.575 116.175 233.595 118.145 233.075C119.805 232.645 121.505 232.325 123.135 231.795C124.585 231.315 126.024 230.715 127.334 229.955C128.584 229.225 128.535 228.275 127.225 227.835C125.975 227.415 124.555 227.025 123.305 227.205C120.905 227.555 118.515 228.175 116.205 228.955C114.695 229.465 113.344 230.445 111.924 231.215C111.684 231.345 111.465 231.535 111.205 231.595C110.745 231.695 110.264 231.715 109.794 231.775C109.914 231.275 109.875 230.655 110.165 230.315C111.165 229.165 112.145 227.925 113.385 227.085C116.115 225.225 119.184 224.265 122.504 223.895C125.094 223.605 127.645 222.905 130.165 222.215C131.845 221.755 132.115 220.725 130.995 219.415C129.905 218.155 128.625 217.095 126.785 217.435C123.585 218.015 120.375 218.545 117.225 219.335C115.965 219.655 114.854 220.585 113.694 221.265C113.304 221.495 112.995 221.955 112.595 222.025C112.035 222.135 111.225 222.185 110.895 221.865C110.605 221.585 110.615 220.675 110.845 220.215C111.645 218.615 113.034 217.505 114.674 216.935C117.144 216.075 119.665 215.355 122.205 214.735C123.775 214.355 125.445 214.365 127.035 214.035C128.255 213.785 129.445 213.345 130.575 212.825C131.145 212.565 131.145 211.805 130.575 211.505C129.625 211.005 128.604 210.525 127.564 210.345C123.784 209.715 119.924 209.625 116.234 210.535C113.494 211.215 110.855 212.525 108.375 213.905C107.205 214.555 106.455 216.005 105.625 217.165C104.725 218.405 103.995 219.765 103.075 221.005C102.795 221.375 102.184 221.605 101.694 221.665C101.494 221.685 101.225 221.065 100.995 220.735C100.905 220.605 100.814 220.335 100.734 220.345C99.6044 220.355 98.3745 220.115 97.3745 220.485C92.0245 222.475 86.4245 222.895 80.8345 223.285C68.8145 224.115 56.7844 224.365 44.7344 223.925C43.2944 223.875 41.8543 223.695 40.4243 223.485C39.4543 223.345 38.7143 222.825 38.6943 221.725C38.6743 220.785 39.4247 220.085 40.7847 220.075C43.7747 220.055 46.7546 220.165 49.7446 220.205C51.5346 220.225 53.3144 220.205 55.2144 220.205C54.3744 216.575 55.0947 213.585 57.3247 211.065C58.0647 210.225 57.9046 209.575 57.7046 208.635C57.3946 207.155 57.1147 205.575 57.2847 204.105C57.5947 201.455 59.0546 199.395 61.4546 198.095C62.2646 197.655 62.7246 197.285 62.2046 196.225C58.9646 189.595 58.0146 182.415 57.5146 175.175C57.3846 173.295 57.5545 171.365 57.8145 169.495C58.8045 162.165 62.5646 156.785 69.1646 153.295C74.3846 150.535 79.8146 148.815 85.7446 148.705C91.1246 148.605 96.4045 149.265 101.584 150.665C104.834 151.545 107.905 152.875 110.745 154.685C115.715 157.865 120.374 161.455 124.544 165.635C128.554 169.665 131.615 174.325 133.495 179.725C134.105 181.465 134.114 181.475 135.964 181.355C142.014 180.965 148.065 180.485 154.115 180.195C157.905 180.005 161.715 180.085 165.515 180.065C166.145 180.065 166.784 180.115 167.404 180.235C169.134 180.565 169.895 181.335 170.165 183.105C170.415 184.735 170.325 186.325 169.555 187.875C169.175 188.635 169.074 189.545 168.944 190.405C168.524 193.175 168.154 195.955 167.754 198.725C167.694 199.175 167.565 199.615 167.515 200.065C167.225 202.425 167.114 202.375 169.104 203.465C172.874 205.535 175.985 208.445 178.665 211.795C180.525 214.125 181.335 216.895 182.035 219.725C182.535 221.715 182.554 221.725 184.524 221.685C187.784 221.625 191.044 221.535 194.294 221.495C195.004 221.485 195.774 221.495 196.424 221.735C196.844 221.885 197.384 222.515 197.354 222.885C197.314 223.405 196.904 224.095 196.444 224.335C195.844 224.655 195.044 224.685 194.334 224.705C191.164 224.795 188.004 224.825 184.834 224.915C182.734 224.965 182.744 224.995 182.814 227.105C182.874 228.825 183.064 230.555 182.944 232.255C182.844 233.725 182.725 235.315 181.245 236.245C180.075 235.225 179.744 233.825 179.544 232.395C179.394 231.325 179.414 230.225 179.334 229.145C179.164 226.985 179.024 224.815 178.794 222.655C177.974 214.955 173.185 210.015 166.825 206.575C162.545 204.255 157.685 204.505 153.035 205.745C151.845 206.065 150.835 207.245 149.875 208.165C149.635 208.395 149.705 209.225 149.915 209.625C150.685 211.095 151.924 211.865 153.654 211.815C159.884 211.645 165.595 213.665 171.115 216.255C172.285 216.805 173.205 217.905 174.185 218.815C174.385 218.995 174.454 219.585 174.314 219.775C174.164 219.985 173.645 220.075 173.345 219.995C171.945 219.635 170.565 219.205 169.185 218.775C165.215 217.535 161.294 216.145 157.274 215.095C155.574 214.645 153.685 214.775 151.895 214.835C150.935 214.865 149.785 215.125 149.535 216.295C149.275 217.545 150.125 218.415 151.125 218.875C152.065 219.305 153.184 219.635 154.194 219.555C161.094 219.035 166.974 221.495 172.294 225.585C173.114 226.215 173.714 227.205 174.234 228.135C174.724 229.005 174.245 229.595 173.265 229.275C172.175 228.915 171.075 228.415 170.145 227.745C166.715 225.285 163.025 223.425 158.865 222.625C157.635 222.385 156.355 222.355 155.095 222.305C154.335 222.275 153.644 222.535 153.464 223.415C153.294 224.265 153.905 225.355 154.765 225.475C160.455 226.275 165.345 229.075 170.305 231.695C170.935 232.035 171.654 232.355 172.084 232.885C172.414 233.285 172.595 234.145 172.375 234.545C172.155 234.955 171.294 235.355 170.834 235.245C169.794 235.005 168.814 234.485 167.834 234.035C164.724 232.585 161.645 231.035 158.495 229.675C157.185 229.115 155.725 228.795 154.305 228.595C152.465 228.335 151.985 229.055 152.645 230.815C153.435 232.915 155.115 234.045 157.035 235.005C159.455 236.215 161.844 237.505 164.174 238.885C165.264 239.525 166.245 240.415 166.475 241.775C166.555 242.265 166.415 242.795 166.365 243.315C165.885 243.195 165.324 243.195 164.944 242.935C163.674 242.065 162.485 241.095 161.245 240.185C160.605 239.715 160.155 239.765 159.825 240.625C158.675 243.545 158.854 244.235 161.964 244.635C167.254 245.315 172.575 245.995 177.895 246.055C186.035 246.155 194.184 245.835 202.234 244.325C203.504 244.085 204.904 244.375 206.214 244.585C206.884 244.695 206.955 245.415 206.325 245.755C205.535 246.175 204.694 246.595 203.834 246.765C193.764 248.705 183.594 249.695 173.334 249.445C169.814 249.355 166.294 248.905 162.814 248.335C161.084 248.045 159.415 247.195 157.805 246.425C157.095 246.085 156.594 245.955 155.814 246.185C154.704 246.505 153.504 246.675 152.354 246.665C142.664 246.595 132.984 246.465 123.294 246.355C122.844 246.345 122.384 246.355 121.944 246.275C120.374 246.005 119.745 245.295 119.895 243.665C120.125 241.075 120.484 238.485 120.814 235.665C118.644 235.785 116.814 236.575 115.294 238.045C114.904 238.425 114.755 239.135 114.685 239.715C114.215 243.785 112.415 245.855 108.325 246.715C98.3947 248.805 88.4146 250.525 78.2246 250.645C76.9746 250.655 75.7344 250.925 74.4844 251.075C68.8744 251.065 63.2545 251.065 57.6445 251.065ZM96.6543 216.825C99.1843 216.575 99.1544 216.565 99.5044 214.315C99.8444 212.085 100.164 209.835 100.654 207.635C101.734 202.825 104.615 199.605 109.395 198.175C110.435 197.865 111.464 197.465 112.524 197.285C116.974 196.515 121.434 195.735 125.904 195.145C127.224 194.975 127.855 194.515 128.095 193.285C128.495 191.245 128.875 189.195 129.385 187.185C129.785 185.625 130.274 184.075 130.924 182.605C131.224 181.915 131.165 181.425 130.895 180.835C129.145 177.035 126.895 173.545 124.245 170.305C123.635 169.565 123.165 169.605 122.515 170.325C119.915 173.195 116.605 174.735 112.825 175.335C110.085 175.775 109.345 176.465 109.475 179.145C109.665 183.055 111.224 186.315 114.524 188.595C114.964 188.905 115.484 189.105 115.924 189.415C116.104 189.545 116.324 189.985 116.274 190.035C116.054 190.255 115.714 190.575 115.464 190.535C108.824 189.475 104.344 183.695 106.294 177.205C106.474 176.615 106.994 175.795 106.774 175.455C105.754 173.865 107.104 173.895 107.924 173.565C111.434 172.135 115.005 170.825 118.455 169.245C121.225 167.975 121.224 167.305 118.834 165.375C116.254 163.295 113.295 161.845 110.125 161.105C104.765 159.855 99.3543 158.705 93.9043 157.895C89.9443 157.305 85.9646 157.845 82.1646 159.315C81.1846 159.695 81.0346 160.145 81.4346 161.155C82.7346 164.425 84.1544 167.685 85.0444 171.075C86.0744 174.995 86.5947 179.055 87.3447 183.045C87.5847 184.315 87.8343 184.535 88.9043 184.005C91.3343 182.805 93.7745 181.595 95.3745 179.235C95.6345 178.855 96.4945 178.375 96.5645 178.445C97.0345 178.915 97.7245 179.575 97.6445 180.065C97.4845 181.085 97.0446 182.165 96.4346 182.995C95.0546 184.865 93.1243 186.275 90.9443 186.805C88.0643 187.495 86.8644 189.025 86.4844 191.885C86.2044 193.995 85.2146 196.025 84.4946 198.065C84.1746 198.975 84.2944 199.625 85.2144 200.075C85.8644 200.395 86.4545 200.815 87.0845 201.175C90.9645 203.375 93.5344 206.665 94.9644 210.845C95.6444 212.805 96.1043 214.825 96.6543 216.825ZM101.734 218.105C101.814 218.135 101.904 218.165 101.984 218.195C102.404 217.335 102.855 216.485 103.225 215.605C104.335 212.995 106.115 211.095 108.725 209.885C110.775 208.935 112.765 207.865 114.705 206.705C119.215 204.005 124.044 202.425 129.294 202.115C130.374 202.055 131.465 201.945 132.515 201.735C133.505 201.535 133.664 200.985 132.984 200.215C131.294 198.325 129.215 197.495 126.665 198.005C124.895 198.355 123.104 198.615 121.334 198.975C117.884 199.675 114.425 200.375 110.995 201.165C106.765 202.135 104.245 204.825 103.415 209.075C102.835 212.085 102.294 215.095 101.734 218.105ZM75.0244 204.075C74.2744 202.685 73.8347 201.035 72.3047 200.835C69.9147 200.535 67.4247 200.445 65.0347 200.735C62.2347 201.075 60.7846 203.155 60.9146 205.865C61.0446 208.585 62.6747 210.775 65.5347 211.535C69.8247 212.685 74.1345 212.005 78.3945 211.205C78.6145 211.165 78.9245 210.495 78.8545 210.215C78.7045 209.615 78.2747 209.105 78.0347 208.525C77.4647 207.175 76.5444 206.685 75.0444 206.845C73.5244 207.005 71.9746 206.945 70.4546 206.865C68.7446 206.765 67.8646 206.185 67.9146 205.385C67.9646 204.575 68.8945 204.105 70.5645 204.085C71.9545 204.065 73.3644 204.075 75.0244 204.075ZM155.665 196.605C155.665 194.415 154.034 192.685 151.984 192.705C149.924 192.725 148.135 194.455 148.075 196.485C148.015 198.585 149.895 200.515 152.015 200.535C154.045 200.535 155.665 198.805 155.665 196.605Z\"\n      fill=\"#12040E\"\n    />\n    <path\n      d=\"M121.365 76.3047C104.175 75.7047 86.9849 75.0947 69.8049 74.5047C67.5449 74.4247 65.2648 74.5847 63.0148 74.4147C60.7748 74.2447 58.9946 74.9747 57.3146 76.3847C54.3346 78.8947 51.2848 81.3047 48.2448 83.7447C46.8348 84.8747 45.4246 86.0147 43.9646 87.0847C42.9346 87.8347 41.8046 88.5347 40.4646 87.8147C39.0245 87.0447 38.9646 85.6447 39.0446 84.2647C39.1046 83.1847 39.1946 82.0847 39.4646 81.0447C40.5446 76.8447 41.6647 72.6447 42.8547 68.4747C43.4747 66.2647 43.5549 66.2247 41.3649 65.9947C38.1649 65.6647 35.5048 64.3147 33.2248 62.0647C31.6848 60.5447 30.6247 58.7947 30.3947 56.6447C30.0247 53.1347 29.6346 49.6247 29.4646 46.1047C28.9846 36.0347 29.7146 26.0247 31.0246 16.0447C31.1446 15.1547 31.3546 14.2647 31.5646 13.3847C32.3646 10.0647 34.2646 7.58471 37.5446 6.57471C40.9946 5.51471 44.5046 4.4647 48.0646 4.0047C56.4946 2.8947 64.9548 1.9147 73.4348 1.2847C88.8748 0.134701 104.355 -0.195292 119.845 0.104708C138.145 0.464708 156.385 1.5847 174.475 4.4747C183.325 5.8947 192.105 7.6847 200.685 10.3147C202.755 10.9547 204.785 11.7547 206.765 12.6347C211.065 14.5547 213.995 17.8147 215.195 22.3447C216.075 25.6547 216.745 29.0547 217.125 32.4547C218.045 40.6247 217.645 48.7347 215.285 56.6547C214.595 58.9847 213.615 61.2347 212.625 63.4647C210.765 67.6347 207.575 70.4447 203.385 72.2047C199.185 73.9747 194.785 74.9747 190.295 75.6347C181.845 76.8847 173.335 76.9647 164.825 76.9447C153.595 76.9347 142.374 76.8047 131.154 76.6747C127.894 76.6347 124.645 76.4447 121.385 76.3147C121.365 76.3247 121.365 76.3147 121.365 76.3047ZM42.6848 84.0447C43.8848 83.1347 44.7346 82.5047 45.5646 81.8447C48.4846 79.5547 51.5049 77.3747 54.2849 74.9347C57.4149 72.1847 60.9249 71.2847 65.0349 71.4747C74.0749 71.8947 83.1245 72.0247 92.1745 72.3247C105.205 72.7547 118.225 73.4247 131.255 73.6447C148.175 73.9447 165.105 74.3247 182.025 73.3347C188.175 72.9747 194.255 72.0947 200.145 70.1147C205.085 68.4547 208.645 65.4147 210.455 60.4647C210.955 59.1047 211.505 57.7647 211.925 56.3847C214.275 48.5447 214.675 40.5347 213.765 32.4547C213.455 29.6747 212.915 26.9047 212.255 24.1847C211.235 19.9447 208.645 16.9547 204.535 15.3647C202.935 14.7447 201.335 14.0447 199.675 13.6547C193.335 12.1647 187.015 10.5647 180.615 9.40471C166.695 6.88471 152.615 5.82471 138.505 5.16471C111.245 3.89471 84.0247 4.31471 56.8747 7.24471C51.3847 7.83471 45.9249 8.60471 40.5749 10.0547C37.5149 10.8847 35.7149 12.6647 35.3449 15.8547C34.9049 19.7147 34.3448 23.5747 33.9948 27.4447C33.1548 36.5747 33.3746 45.7047 34.3146 54.8247C34.6246 57.8647 36.2349 59.8647 38.8449 61.0847C40.0349 61.6447 41.4448 61.7747 42.7648 62.0247C43.6448 62.1847 44.5848 62.1147 45.4548 62.3147C47.2548 62.7247 47.6948 63.4747 47.2648 65.2547C47.0048 66.3047 46.6347 67.3347 46.3547 68.3847C45.1647 72.9347 43.9849 77.4847 42.8249 82.0447C42.7049 82.5347 42.7448 83.0547 42.6848 84.0447Z\"\n      fill=\"#12040E\"\n    />\n    <path\n      d=\"M99.4345 194.915C98.2245 194.855 96.7146 193.165 96.7446 191.905C96.7646 191.165 97.6444 190.575 98.5444 190.705C99.4844 190.835 100.894 192.385 100.964 193.365C101.014 194.195 100.255 194.965 99.4345 194.915Z\"\n      fill=\"#12040E\"\n    />\n    <path\n      d=\"M117.595 177.485C118.105 177.745 118.535 177.825 118.695 178.075C119.215 178.885 119.765 179.715 120.075 180.615C120.395 181.555 119.465 182.365 118.505 182.115C117.385 181.825 116.065 179.805 116.445 178.755C116.625 178.265 117.195 177.915 117.595 177.485Z\"\n      fill=\"#12040E\"\n    />\n    <path\n      d=\"M125.805 32.5047C126.575 31.5147 127.175 30.7347 127.785 29.9547C130.315 26.7247 133.184 23.8347 136.754 21.7847C138.294 20.8947 140.014 20.1347 141.744 19.7847C145.254 19.0647 147.904 21.2747 147.764 24.8547C147.694 26.7947 147.274 28.8547 146.484 30.6147C145.234 33.4047 143.724 36.1047 142.004 38.6347C139.874 41.7647 137.405 44.6647 135.095 47.6847C131.915 51.8447 128.734 56.0147 125.564 60.1947C124.744 61.2647 124.064 62.6247 122.464 62.5047C120.654 62.3647 120.424 60.7547 119.874 59.4147C119.504 58.5147 118.925 57.6747 118.365 56.8747C114.115 50.8547 110.744 44.3747 108.544 37.3347C107.984 35.5347 107.464 33.6647 107.294 31.7947C107.124 29.9347 107.174 27.9747 107.584 26.1647C108.354 22.7047 110.975 21.2747 114.365 22.3547C115.715 22.7847 117.094 23.4647 118.144 24.3847C120.184 26.1547 122.024 28.1447 123.904 30.0847C124.534 30.7247 125.025 31.4947 125.805 32.5047Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M77.7746 33.8247C80.3746 29.9147 83.1447 27.0947 86.6047 24.9847C88.7847 23.6547 91.0647 22.5647 93.6247 22.2147C94.4247 22.1047 95.2546 22.0347 96.0446 22.1447C98.2846 22.4547 99.4145 23.8347 99.1745 26.0947C99.0445 27.3347 98.7248 28.6147 98.2248 29.7547C97.0148 32.4847 95.8048 35.2247 94.3048 37.7947C91.4448 42.7247 88.3547 47.5247 85.4347 52.4147C84.2347 54.4247 83.1749 56.5247 82.1149 58.6147C81.7349 59.3747 81.4048 60.1347 80.4748 60.2247C79.3848 60.3247 78.7745 59.5547 78.4845 58.6847C77.9045 56.9647 76.6849 55.8547 75.3649 54.7047C69.9249 49.9747 65.2046 44.6347 61.8346 38.2147C60.7446 36.1447 59.8846 33.9447 59.0646 31.7447C58.6646 30.6647 58.4645 29.4547 58.4045 28.2947C58.2045 24.2747 60.9048 22.1847 64.7048 23.4647C65.9748 23.8947 67.2649 24.4747 68.3249 25.2847C70.9749 27.3147 73.5146 29.4947 76.0446 31.6647C76.6446 32.1847 77.0546 32.9147 77.7746 33.8247Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M168.615 37.4147C169.265 36.6847 169.794 36.0847 170.334 35.4947C173.094 32.4447 176.234 29.8747 180.004 28.1947C181.544 27.5047 183.244 26.9447 184.914 26.7847C188.264 26.4647 190.554 28.7747 190.124 32.0947C189.884 33.9247 189.275 35.8447 188.325 37.4247C186.665 40.2047 184.784 42.8947 182.714 45.3847C179.654 49.0647 176.304 52.5047 173.154 56.1147C170.844 58.7547 168.224 61.1347 166.684 64.4147C165.974 65.9347 164.355 65.7947 163.515 64.3347C162.165 61.9947 160.794 59.6747 159.454 57.3347C155.884 51.1047 152.874 44.6447 151.964 37.4347C151.784 36.0247 151.855 34.5247 152.135 33.1347C152.715 30.2647 155.044 28.6247 157.954 29.1647C159.504 29.4547 161.154 30.0447 162.404 30.9747C164.194 32.3047 165.674 34.0547 167.254 35.6547C167.724 36.1547 168.105 36.7547 168.615 37.4147Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M50.8142 251.745C50.8342 252.175 50.3942 252.625 49.9842 252.675C44.4642 253.335 38.8845 253.345 33.3645 252.815C24.8845 252.005 14.0442 251.025 8.54422 243.675C2.12422 235.105 4.68412 222.275 14.9441 218.335C18.8341 216.845 22.8544 216.525 26.9344 216.775C28.4144 216.865 29.9045 217.005 31.3845 217.165C33.8045 216.565 36.4845 216.605 38.8645 216.675C42.4845 216.775 46.2144 217.135 49.7044 218.125C49.9844 218.205 50.0241 218.515 49.9641 218.765C47.6941 229.645 50.2942 240.825 50.8142 251.745Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M202.285 249.185C199.395 249.185 196.495 249.285 193.615 249.145C191.875 249.065 191.794 248.805 192.164 247.055C192.534 245.295 193.195 243.575 193.345 241.805C193.835 236.155 192.224 231.095 188.684 226.655C188.344 226.235 187.955 225.845 187.635 225.415C187.155 224.765 186.355 224.105 186.325 223.425C186.285 222.455 186.764 221.425 187.154 220.485C187.294 220.145 187.824 219.925 188.214 219.755C191.864 218.165 195.494 216.555 199.174 215.055C204.634 212.825 210.024 213.635 215.254 215.845C218.884 217.385 222.044 219.595 224.204 223.045C225.944 225.825 226.885 228.725 226.325 232.055C225.855 234.825 225.514 237.615 224.164 240.135C221.824 244.525 218.405 247.565 213.345 248.275C209.675 248.785 205.974 249.055 202.294 249.435C202.304 249.345 202.295 249.265 202.285 249.185Z\"\n      fill=\"#197DFF\"\n    />\n    <path\n      d=\"M51.1349 221.905C50.8749 220.555 50.5148 219.865 49.2648 219.165C48.2148 218.575 47.0546 218.205 45.8746 218.005C44.4346 217.755 43.1848 218.105 41.7648 218.195C40.2548 218.295 38.7247 218.235 37.2047 218.325C34.3747 218.485 31.4945 218.775 28.6745 218.495C26.3045 218.255 23.8248 217.825 22.5748 215.565C22.3648 215.185 21.7449 215.785 21.8649 216.095C23.8049 221.015 29.9946 220.485 34.3146 220.295C35.7846 220.225 37.2547 220.145 38.7247 220.115C40.3247 220.075 41.5546 220.245 43.0646 220.705C44.2346 221.065 45.4648 221.205 46.5748 221.745C47.1448 222.025 47.5849 222.435 48.0949 222.785C48.6449 223.165 49.1645 223.205 49.7345 223.465C50.5045 223.795 51.2449 222.515 51.1349 221.905Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M205.834 217.985C204.604 216.265 202.605 216.905 200.935 217.655C198.755 218.645 197.135 219.745 194.665 219.705C192.615 219.675 190.435 219.325 188.435 219.955C187.095 220.375 185.055 221.765 185.495 223.395C185.515 223.465 185.565 223.495 185.635 223.505C186.935 223.575 188.294 222.775 189.674 222.755C191.424 222.725 193.164 223.035 194.924 222.935C198.864 222.715 201.534 219.525 205.334 218.805C205.624 218.745 206.064 218.315 205.834 217.985Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport const LetterIcon = () => (\n  <svg\n    css={sizeCss}\n    viewBox=\"0 0 309 252\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M132.809 227.055C165.239 228.115 251.789 218.985 272.419 221.945C293.049 224.905 293.789 211.815 294.869 189.875C295.949 167.935 300.009 26.0347 273.119 23.3047C252.039 21.1547 118.899 21.7147 57.2389 24.4047C39.5289 25.1747 29.6288 29.9147 27.3688 33.2247C20.5488 43.2347 26.919 125.985 29.279 181.735C30.319 206.365 33.2289 224.785 39.1989 227.365C50.8189 232.375 99.7292 225.985 132.809 227.055Z\"\n      fill=\"#FFE68A\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M59.2988 17.0747L63.709 60.7747C63.709 60.7747 83.1588 59.6947 93.7788 58.8747C104.399 58.0447 116.959 61.0047 118.839 56.0647C120.719 51.1347 118.239 17.4747 118.239 17.4747L114.229 11.8647L59.2988 17.0747Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M61.749 13.6747L66.1587 57.3747C66.1587 57.3747 85.609 56.2947 96.229 55.4647C106.849 54.6347 119.399 57.5947 121.289 52.6547C123.169 47.7247 120.689 14.0647 120.689 14.0647L116.679 8.45467L61.749 13.6747Z\"\n      fill=\"#FFFAE6\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M266.809 45.4547C266.809 45.4547 270.639 38.1547 272.919 39.5447C275.199 40.9347 271.009 51.6747 271.009 51.6747C271.009 51.6747 263.259 49.1647 261.989 47.5647C260.719 45.9647 259.809 42.0747 261.789 42.9547C263.779 43.8247 266.809 45.4547 266.809 45.4547Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M276.129 176.655C276.129 176.655 273.429 158.465 284.359 151.705C295.289 144.945 302.469 143.685 304.719 147.695C306.979 151.705 302.629 171.725 292.779 174.845C282.929 177.965 276.129 176.655 276.129 176.655Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M268.299 161.125C268.299 161.125 253.689 154.585 249.939 135.975C246.199 117.365 246.309 111.845 249.839 110.825C253.369 109.805 269.609 114.625 272.709 129.265C275.819 143.895 268.299 161.125 268.299 161.125Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M277.929 128.355C277.929 128.355 268.719 121.215 275.319 107.815C281.919 94.4247 287.719 88.1147 290.069 89.2747C292.419 90.4347 293.749 109.605 288.969 117.335C284.179 125.065 277.929 128.355 277.929 128.355Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M265.589 196.585C267.509 196.735 275.239 180.495 266.989 172.435C258.739 164.375 253.209 159.565 249.739 160.515C246.259 161.455 246.569 182.925 254.049 188.965C261.539 195.015 263.669 196.435 265.589 196.585Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M279.729 176.755C279.729 176.755 277.029 158.565 287.959 151.805C298.889 145.045 306.069 143.785 308.319 147.795C310.579 151.805 306.229 171.825 296.379 174.945C286.539 178.065 279.729 176.755 279.729 176.755Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M281.539 128.455C281.539 128.455 272.329 121.315 278.929 107.915C285.529 94.5247 291.329 88.2147 293.679 89.3747C296.029 90.5347 297.359 109.705 292.579 117.435C287.789 125.165 281.539 128.455 281.539 128.455Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M269.199 196.685C271.119 196.835 278.849 180.595 270.599 172.535C262.349 164.475 256.819 159.665 253.349 160.615C249.869 161.555 250.179 183.025 257.659 189.065C265.149 195.115 267.279 196.535 269.199 196.685Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M271.909 161.225C271.909 161.225 257.299 154.685 253.549 136.075C249.809 117.465 249.919 111.945 253.449 110.925C256.979 109.905 273.219 114.725 276.319 129.365C279.419 143.995 271.909 161.225 271.909 161.225Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M236.799 42.6047C239.299 42.2547 241.669 43.6846 242.709 44.8046C243.679 45.8546 244.729 47.9347 244.609 49.7147C244.419 52.6147 242.249 54.5246 240.499 55.2246C236.469 56.8446 230.159 54.1147 230.879 48.4047C231.259 45.4747 233.559 43.0647 236.799 42.6047ZM233.789 50.5247C235.049 53.9447 241.539 53.5047 241.809 49.6247C241.989 47.0747 239.179 45.0346 236.999 45.4146C234.709 45.8046 232.889 48.0947 233.789 50.5247Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M274.069 181.005C274.719 179.915 274.959 178.425 275.569 177.295C273.389 162.695 279.709 152.715 288.999 147.535C293.169 145.205 302.689 141.615 305.939 147.235C308.399 151.485 306.119 158.755 304.339 162.765C300.189 172.115 292.509 180.845 278.179 178.295C274.469 186.285 273.259 199.755 274.569 211.865C274.829 214.225 275.809 217.715 272.769 216.475C272.649 218.105 273.059 220.295 271.569 220.485C270.739 220.595 270.209 220.045 269.869 219.185C269.789 220.615 269.679 221.825 269.469 223.395C269.329 224.425 268.799 227.905 266.859 226.205C266.219 225.635 266.619 223.635 266.759 222.495C267.879 213.625 267.299 201.565 264.959 195.135C264.019 197.465 259.939 195.155 258.249 194.435C253.019 192.225 248.249 189.495 244.319 186.415C240.169 183.165 236.669 179.695 234.099 174.685C233.289 173.115 232.239 170.935 232.099 169.375C232.019 168.445 232.309 166.955 232.399 165.765C232.489 164.675 232.439 162.935 232.699 162.155C233.009 161.225 234.409 160.145 235.299 159.645C241.209 156.335 250.499 159.495 255.139 161.655C261.049 164.405 265.199 167.915 268.769 172.375C268.649 169.185 268.529 166.005 268.269 162.955C264.759 160.745 261.889 157.685 259.149 154.535C256.479 151.465 254.209 148.005 252.339 143.915C250.589 140.085 249.279 135.395 248.229 130.485C247.169 125.545 245.839 120.435 246.219 115.055C246.479 111.415 248.139 108.515 252.629 108.845C255.999 109.085 259.309 110.945 261.749 112.655C269.629 118.155 276.229 127.125 275.479 140.015C275.959 137.845 276.299 134.935 276.679 132.395C276.799 131.565 277.149 130.515 277.079 129.885C276.989 129.115 275.889 127.855 275.379 126.975C273.829 124.325 272.079 120.875 272.069 116.755C272.069 113.555 273.209 110.465 274.369 107.935C276.709 102.855 279.599 98.3247 282.889 94.2047C284.259 92.4947 286.719 89.2047 289.299 88.7947C294.309 88.0047 294.189 96.2247 294.009 100.725C293.439 115.105 288.499 124.465 279.779 130.485C277.229 146.675 275.299 163.485 274.069 181.005ZM281.589 125.385C282.849 124.215 284.069 122.945 285.099 121.575C289.189 116.105 291.279 107.565 291.309 98.5247C291.319 96.0347 291.099 92.8547 290.009 91.6147C288.309 91.9647 285.979 94.7347 284.599 96.5247C283.069 98.4947 281.919 100.335 280.589 102.435C277.999 106.535 274.939 111.315 274.879 116.565C274.829 120.475 276.389 123.045 277.789 125.585C278.049 123.125 278.559 120.935 278.989 118.365C279.259 116.745 279.219 112.065 281.299 112.155C283.269 112.235 282.369 114.815 282.099 116.265C281.509 119.515 281.009 123.355 280.399 126.185C280.909 126.275 281.269 125.675 281.589 125.385ZM270.769 127.485C269.189 123.735 266.779 120.985 264.059 118.265C261.459 115.665 258.199 113.085 254.339 111.955C253.569 111.725 252.479 111.525 251.729 111.555C248.749 111.695 248.709 115.515 249.019 118.965C249.279 121.795 249.689 124.135 250.119 126.285C251.089 131.095 252.269 135.795 253.629 139.715C256.349 147.525 261.229 153.385 266.659 158.355C266.999 158.665 267.569 159.205 267.759 159.055C266.409 150.625 263.799 142.595 260.649 135.505C260.069 134.205 258.319 131.225 260.849 131.295C261.929 131.325 262.239 132.595 262.649 133.505C265.559 139.965 268.179 147.055 269.869 154.445C272.629 146.715 274.169 135.555 270.769 127.485ZM299.329 166.375C301.849 162.615 303.819 157.925 304.139 153.145C304.449 148.595 302.989 146.605 298.329 147.035C295.309 147.315 292.409 148.665 290.009 150.045C282.789 154.215 277.899 161.175 277.979 171.995C280.849 167.565 284.059 162.655 287.899 158.665C288.649 157.885 290.759 154.935 292.209 155.055C292.939 155.115 293.419 155.805 293.409 156.455C293.409 157.305 292.299 158.065 291.609 158.755C286.699 163.665 282.189 169.775 279.379 175.795C289.889 176.995 295.109 172.665 299.329 166.375ZM270.669 160.155C271.569 165.405 271.389 172.265 271.569 177.795C272.199 167.735 273.389 157.695 274.379 148.335C273.489 152.625 272.129 156.445 270.669 160.155ZM269.369 180.705C268.709 176.525 266.299 173.525 263.859 171.085C261.389 168.615 258.359 166.435 255.039 164.775C251.619 163.055 247.849 161.475 243.519 161.165C238.819 160.825 234.569 161.655 234.499 166.175C234.439 170.185 236.669 173.985 238.509 176.595C244.309 184.825 253.419 189.615 263.259 193.435C263.729 193.615 264.299 193.855 264.459 193.735C262.109 186.845 257.809 181.825 252.939 177.305C252.349 176.755 251.149 175.965 251.239 174.995C251.289 174.455 251.879 173.785 252.639 173.795C253.369 173.795 254.509 174.905 255.149 175.495C260.259 180.265 264.989 186.145 267.169 193.235C268.959 189.345 270.019 184.895 269.369 180.705ZM269.259 195.735C269.019 196.205 268.409 196.675 268.359 197.235C268.299 197.855 268.789 199.075 268.959 199.945C269.529 202.895 269.749 205.855 270.159 208.865C270.119 203.155 270.599 197.415 270.659 192.125C270.159 193.275 269.849 194.565 269.259 195.735Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M258.639 90.2047C263.989 89.5247 264.079 97.9647 259.939 98.8247C257.079 99.4147 254.229 97.0147 254.429 94.2147C254.589 91.9747 256.349 90.5047 258.639 90.2047ZM259.139 96.1247C260.559 95.8947 260.719 92.7947 258.839 93.0147C256.379 93.3147 257.419 96.3947 259.139 96.1247Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M238.699 98.1247C240.899 97.7047 242.879 99.1547 243.209 100.935C244.019 105.385 238.549 107.405 236.199 104.345C235.729 103.735 235.079 102.255 235.599 100.635C235.909 99.6447 237.199 98.4147 238.699 98.1247ZM239.799 103.035C241.029 102.655 240.489 100.725 239.399 100.835C237.619 101.005 238.259 103.515 239.799 103.035Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M208.779 0.0246586C210.059 -0.0553414 211.119 -0.0153383 211.079 1.32466C211.039 3.11466 208.089 2.73467 206.269 2.92467C196.459 3.94467 187.659 5.25466 179.809 8.13466C177.039 9.15466 173.069 10.8747 172.389 13.3447C171.919 15.0547 172.669 17.2047 172.889 18.8547C173.139 20.6547 173.389 22.6747 173.589 24.3647C173.979 27.7647 174.499 32.2347 176.499 33.8847C178.559 35.5847 183.729 35.8847 187.719 35.8847C192.189 35.8847 196.009 35.1947 199.749 34.6847C204.039 34.0947 207.669 33.4147 210.769 32.4747C214.179 31.4447 217.709 29.9947 218.789 27.3647C219.539 25.5247 219.109 22.7747 218.789 20.6547C218.119 16.1547 217.299 12.7547 215.879 8.53467C215.519 7.46467 213.529 3.67466 215.479 3.22466C217.339 2.79466 217.889 5.87466 218.389 7.33466C220.059 12.3247 222.099 18.7747 221.999 24.7747C221.889 30.8247 217.649 33.0447 212.879 34.6947C209.159 35.9847 205.159 36.7147 201.059 37.2947C197.089 37.8647 192.509 38.5247 187.929 38.6947C183.159 38.8747 177.369 38.1347 174.799 36.0847C171.439 33.4047 171.109 26.5847 170.389 20.9547C170.019 18.0947 168.979 14.6547 169.989 12.0347C171.039 9.31467 174.149 7.46466 176.899 6.22466C179.829 4.91466 183.279 3.98466 186.519 3.21466C193.599 1.55466 201.089 0.474659 208.779 0.0246586Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M266.299 29.9847C272.689 29.3947 278.429 32.1847 281.029 35.8947C282.629 38.1847 283.729 41.3447 283.429 45.8147C283.149 50.0047 281.539 53.6247 278.919 56.2347C275.359 59.7947 268.779 61.4847 262.889 59.8447C257.739 58.4047 251.609 54.2247 252.169 46.5147C252.239 45.5547 252.679 43.8247 253.069 42.7047C253.409 41.7247 253.879 39.9147 255.279 40.4947C256.739 41.1147 255.179 43.5347 254.879 44.7047C252.429 54.3847 263.609 60.3547 272.519 57.3347C277.079 55.7847 280.579 51.6347 281.039 46.0147C281.679 38.1747 277.379 33.9747 271.119 32.6847C265.419 31.5147 261.369 33.5247 258.489 36.7947C257.809 37.5647 257.109 39.5247 255.689 38.7947C254.369 38.1147 255.909 36.1847 256.489 35.4847C258.839 32.6747 261.909 30.3947 266.299 29.9847Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M272.809 41.2147C270.509 40.8547 269.129 42.5747 268.399 44.3247C268.009 45.2647 267.919 46.5847 266.999 46.7347C266.039 46.8847 265.249 45.9647 264.599 45.5347C263.769 44.9847 263.149 44.5447 262.289 44.2347C262.739 46.7247 264.519 48.3547 267.099 49.4447C268.429 50.0047 271.309 50.1347 271.309 51.5447C271.309 52.1447 270.889 52.3947 270.509 52.7447C267.959 52.5347 265.309 51.6747 263.199 49.9447C261.479 48.5347 259.299 45.9647 259.689 43.3347C260.179 40.0447 264.699 42.4247 266.099 43.5347C267.249 41.3347 268.789 38.9347 271.609 38.6247C274.109 38.3547 275.519 39.8047 275.319 42.6347C275.229 43.8847 274.719 45.5747 274.119 47.2447C273.609 48.6447 272.759 51.8147 271.109 50.5547C269.999 49.7047 271.709 47.0547 272.009 46.2447C272.699 44.3747 273.019 42.9247 272.809 41.2147Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M231.129 88.4147C228.039 90.2447 225.009 92.0047 221.709 94.0247C221.049 94.4247 219.379 96.0247 218.299 95.2247C217.099 94.3347 218.969 91.6047 219.399 90.7147C220.189 89.1147 220.789 87.7947 221.499 86.4047C218.219 85.9347 215.789 85.3947 213.579 84.6047C210.349 83.4447 206.099 81.1947 205.659 76.6847C205.289 72.9347 206.499 68.9847 207.259 65.8647C208.349 61.3847 209.789 57.0547 214.669 56.5447C218.169 56.1847 221.319 57.3747 224.089 58.1447C227.039 58.9747 229.839 59.8047 232.809 60.4547C240.429 62.1047 251.758 61.9147 251.848 71.0747C251.878 74.0447 251.029 77.2347 250.149 80.0947C248.719 84.7247 246.519 90.1247 240.929 90.6147C237.419 90.9247 234.409 89.8247 231.129 88.4147ZM229.118 86.6047C229.798 86.1847 230.989 85.3247 231.719 85.4047C232.389 85.4747 232.458 86.2647 233.118 86.7047C234.298 87.4947 238.039 88.2047 239.629 88.2047C244.809 88.2247 246.399 83.7147 247.649 79.7847C248.599 76.7847 249.638 73.6247 249.348 70.3647C249.008 66.4247 245.429 65.4647 241.729 64.6547C238.559 63.9547 235.499 63.5147 232.909 62.9547C229.789 62.2747 227.069 61.5447 224.589 60.8547C221.799 60.0747 219.188 59.0747 215.868 59.0547C213.488 59.0347 212.239 59.8647 211.259 61.5647C210.159 63.4647 209.729 65.7147 209.159 68.6847C208.619 71.4647 207.389 75.6247 208.559 78.1047C210.169 81.5247 215.849 83.0947 220.389 83.8147C221.489 83.9847 224.189 83.7747 224.499 85.0147C224.779 86.1447 223.799 87.3047 223.399 88.1247C222.869 89.1947 222.499 90.0647 221.999 90.9347C224.599 89.5847 226.648 88.1347 229.118 86.6047Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M145.839 227.555L147.239 215.025C147.239 215.025 143.489 215.935 143.029 213.625C142.569 211.315 142.739 210.555 141.119 209.915C139.509 209.275 136.279 208.485 134.209 206.205C132.129 203.925 129.999 201.095 129.999 201.095C129.999 201.095 110.779 226.635 94.2188 237.675C77.6588 248.715 63.7888 251.905 57.2388 243.185C50.6788 234.465 49.6991 217.025 55.5391 199.785C61.3791 182.545 72.5791 152.985 72.5791 152.985C72.5791 152.985 70.819 148.005 65.459 147.975C60.099 147.945 56.5691 150.285 55.5391 148.475C54.5091 146.665 54.939 144.365 54.939 144.365C54.939 144.365 51.1289 141.955 49.1289 137.955C47.1289 133.945 47.3488 132.285 49.5288 129.935C51.7088 127.585 55.2388 125.725 55.2388 125.725C55.2388 125.725 49.499 125.325 50.729 123.015C51.959 120.705 56.5391 117.905 56.5391 117.905C56.5391 117.905 52.4587 115.485 47.1187 111.995C41.7787 108.495 38.999 105.485 38.999 105.485L48.9189 104.185L47.9189 101.375C47.9189 101.375 45.2991 100.365 44.8091 98.0647C44.3191 95.7747 44.0088 93.8547 44.0088 93.8547C44.0088 93.8547 36.359 85.2847 39.999 78.8247C43.639 72.3647 45.8091 74.9146 45.8091 74.9146L62.1387 88.3447C62.1387 88.3447 62.4587 80.9147 68.6587 80.3247C74.8587 79.7347 80.4888 83.8346 80.4888 83.8346L84.5986 77.8247L83.499 85.8447L88.6089 87.8547L83.7988 91.0647C83.7988 91.0647 91.1588 102.295 85.7988 109.405C80.4488 116.515 72.5688 118.725 72.5688 118.725C72.5688 118.725 81.8087 120.245 89.4087 124.935C97.0087 129.625 101.759 132.985 101.039 143.775C100.319 154.565 94.2188 180.555 94.2188 180.555C94.2188 180.555 109.069 159.765 114.359 153.095C119.649 146.425 125.989 140.565 125.989 140.565C125.989 140.565 105.189 134.465 103.639 124.025C102.099 113.585 106.909 107.075 115.069 103.075C123.229 99.0747 123.509 89.8746 123.089 80.2246C122.669 70.5746 126.819 53.4447 146.739 51.1547C179.249 47.4247 209.459 66.7547 212.389 88.6347C215.319 110.525 212.039 121.435 219.099 126.825C228.789 134.205 255.119 130.005 260.089 146.065C265.599 163.885 254.479 185.155 254.479 185.155C254.479 185.155 273.739 213.705 276.029 219.835C278.309 225.965 285.279 241.465 270.019 246.295C254.749 251.125 166.089 248.015 163.079 248.295C160.069 248.575 154.009 246.285 150.549 246.795C147.089 247.305 142.259 249.765 137.419 249.305C132.579 248.835 129.199 247.605 129.199 247.605C129.199 247.605 127.629 250.305 126.789 248.805C125.959 247.315 122.709 244.645 124.589 242.295C126.469 239.935 129.259 235.305 133.209 233.675C137.159 232.045 145.839 227.555 145.839 227.555Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M59.249 202.005C59.249 202.005 50.9187 231.525 59.9487 242.095C67.0987 250.455 81.3991 247.265 92.0191 239.485C102.639 231.715 129.299 201.705 129.299 201.705C129.299 201.705 129.569 202.545 133.209 204.715C136.839 206.875 142.129 208.925 142.129 208.925C142.129 208.925 142.099 212.425 143.429 213.435C144.759 214.435 207.979 209.725 207.979 209.725C207.979 209.725 211.479 207.065 213.489 203.915C215.509 200.765 216.999 193.895 216.999 193.895L209.179 181.265C209.179 181.265 212.319 177.655 212.689 178.355C212.989 178.925 228.539 207.955 234.639 218.245C234.779 218.485 244.029 217.545 244.259 217.645C247.989 219.245 244.959 220.255 244.959 220.255L226.319 222.555C226.319 222.555 233.969 231.415 233.239 236.285C232.499 241.165 227.729 250.015 227.729 250.015C227.729 250.015 253.839 249.405 263.509 248.615C273.179 247.825 278.589 243.165 278.949 238.295C279.309 233.425 280.309 223.085 269.229 206.225C257.119 187.805 243.119 166.525 239.159 159.925C235.209 153.325 229.239 147.595 229.239 147.595C229.239 147.595 195.979 164.635 162.489 163.025C129.009 161.415 118.189 157.515 118.189 157.515L91.5191 190.575L89.1187 198.895C89.1187 198.895 84.6089 206.505 77.0889 207.615C66.6789 209.145 59.249 202.005 59.249 202.005Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M61.7488 88.3447C61.7488 88.3447 63.7487 79.9447 69.6687 80.1247C75.5887 80.3047 79.8885 83.4347 79.8885 83.4347L84.8987 79.0247L83.0984 86.0447L88.3089 88.9547L82.8987 91.1647C82.8987 91.1647 92.8989 102.105 85.8089 109.305C82.3489 116.265 65.8186 121.545 55.7386 116.925C45.6586 112.305 39.5984 106.505 39.5984 106.505L47.8186 104.205L48.5188 101.495C48.5188 101.495 45.8285 100.725 44.9085 98.8847C43.9885 97.0447 43.5086 94.7747 43.5086 94.7747C43.5086 94.7747 36.5288 88.9147 38.4988 83.4447C40.4688 77.9747 44.4387 72.9347 46.4187 74.4247C48.3987 75.9147 61.7488 88.3447 61.7488 88.3447Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M132.509 138.455C132.509 138.455 106.579 131.015 108.359 119.815C110.479 106.475 123.919 105.815 126.399 96.6646C126.609 95.8946 125.459 93.9546 125.499 93.0546C125.599 90.5946 127.519 84.9747 127.509 84.5347C127.179 74.7647 127.959 65.4247 135.329 60.4847C144.689 54.2047 156.519 52.4146 169.509 55.4746C182.499 58.5346 205.889 66.1947 210.999 84.6447C216.109 103.095 210.549 120.645 217.109 124.735C223.679 128.825 226.279 131.145 235.449 132.755C244.629 134.365 263.739 136.735 262.009 156.005C260.279 175.285 255.089 183.965 255.089 183.965C255.089 183.965 235.149 153.585 231.339 148.785C227.529 143.985 213.259 131.625 204.979 133.355C196.699 135.085 187.739 138.485 184.629 134.855C181.519 131.235 178.819 116.815 178.819 116.815C178.819 116.815 187.679 119.535 191.949 112.505C196.219 105.475 192.269 100.615 188.339 101.485C184.409 102.355 180.119 105.995 180.119 105.995C180.119 105.995 160.269 96.8247 157.169 86.9547C154.069 77.0847 151.259 71.1247 151.259 71.1247C151.259 71.1247 148.379 73.6646 145.449 76.3346C142.519 79.0146 140.439 80.8447 140.439 80.8447C140.439 80.8447 131.859 81.0147 128.699 83.5947C124.719 86.8347 124.689 97.8847 128.719 99.8847C132.339 101.695 132.629 103.095 132.629 103.095C132.629 103.095 130.149 116.725 136.939 122.535C143.729 128.355 152.879 128.145 152.879 128.145L154.679 137.465C154.679 137.465 141.949 136.755 138.739 136.765C135.519 136.765 132.509 138.455 132.509 138.455Z\"\n      fill=\"#FFCE1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M140.459 89.3247C139.219 88.9947 137.929 89.8247 137.589 91.1747L136.959 93.7147C136.619 95.0747 137.359 96.4347 138.609 96.7647C139.859 97.0947 141.139 96.2646 141.479 94.9146L142.109 92.3747C142.439 91.0247 141.709 89.6547 140.459 89.3247Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M161.939 92.6947C160.499 92.3047 159.009 93.1647 158.629 94.6047L157.899 97.3147C157.509 98.7647 158.369 100.245 159.809 100.635C161.249 101.025 162.739 100.165 163.119 98.7247L163.849 96.0147C164.239 94.5647 163.379 93.0847 161.939 92.6947Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M135.669 81.0147C141.529 81.0147 146.269 85.9547 146.269 92.0547C146.269 98.1547 141.519 103.095 135.669 103.095C129.819 103.095 125.069 98.1547 125.069 92.0547C125.069 85.9547 129.809 81.0147 135.669 81.0147Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      d=\"M135.669 104.245C129.189 104.245 123.919 98.7747 123.919 92.0547C123.919 85.3347 129.189 79.8647 135.669 79.8647C142.149 79.8647 147.419 85.3347 147.419 92.0547C147.419 98.7747 142.149 104.245 135.669 104.245ZM135.669 82.1647C130.459 82.1647 126.219 86.6047 126.219 92.0547C126.219 97.5047 130.459 101.945 135.669 101.945C140.879 101.945 145.119 97.5047 145.119 92.0547C145.119 86.6047 140.879 82.1647 135.669 82.1647Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M159.519 85.5847C165.789 85.5847 170.879 90.8347 170.879 97.3147C170.879 103.795 165.789 109.045 159.519 109.045C153.249 109.045 148.159 103.795 148.159 97.3147C148.159 90.8347 153.249 85.5847 159.519 85.5847Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      d=\"M159.519 110.195C152.619 110.195 147.009 104.415 147.009 97.3147C147.009 90.2147 152.619 84.4347 159.519 84.4347C166.419 84.4347 172.029 90.2147 172.029 97.3147C172.029 104.425 166.419 110.195 159.519 110.195ZM159.519 86.7347C153.889 86.7347 149.309 91.4847 149.309 97.3147C149.309 103.145 153.889 107.895 159.519 107.895C165.149 107.895 169.729 103.155 169.729 97.3147C169.729 91.4847 165.149 86.7347 159.519 86.7347Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M142.189 80.2047L144.489 91.0947L141.579 95.6247L137.459 97.7347L132.749 98.6347C132.749 98.6347 129.879 106.025 135.479 105.215C141.079 104.405 145.289 99.7947 145.289 99.7947L146.719 96.6447L147.909 91.7347L148.159 84.0247C148.159 84.0147 142.709 76.9747 142.189 80.2047Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M110.269 157.055C109.409 155.845 104.679 155.735 104.859 153.445C104.999 151.695 107.079 152.405 108.269 152.945C109.579 153.535 110.759 154.125 111.879 154.645C115.599 150.145 118.939 145.265 123.299 141.415C116.899 139.125 111.159 136.115 106.869 131.495C103.029 127.355 99.4786 119.435 103.159 111.955C106.129 105.925 112.789 104.275 117.589 100.135C122.709 95.7047 121.999 88.0047 121.999 78.4847C121.999 69.4347 123.969 63.2947 128.509 58.7447C132.809 54.4447 139.079 51.4747 146.049 50.0247C162.199 46.6647 178.219 51.6647 188.539 57.8447C199.399 64.3447 208.489 73.0646 212.889 86.0046C214.019 89.3246 214.909 92.9247 215.089 96.9247C215.479 105.155 213.779 115.275 216.789 121.075C219.659 126.605 226.199 129.485 233.529 130.595C237.299 131.165 241.169 131.495 244.749 132.495C251.199 134.295 256.789 138.345 259.979 143.515C263.469 149.175 264.099 157.615 262.689 165.465C261.349 172.855 258.819 179.325 255.969 185.005C262.469 197.355 272.089 206.585 277.519 219.775C279.989 225.765 282.749 236.035 278.419 242.425C274.709 247.915 258.479 250.645 259.489 249.845C260.499 249.045 240.189 250.435 230.819 249.995C212.619 249.145 195.539 250.485 176.699 249.735C172.419 249.565 167.469 249.635 163.169 249.635C160.959 249.635 158.899 249.315 156.959 248.835C154.809 248.295 152.829 247.825 150.849 248.135C146.369 248.835 139.799 253.165 135.519 249.735C132.939 250.465 129.549 249.855 129.109 247.835C128.509 245.115 131.309 242.835 132.819 241.425C137.359 237.165 142.439 234.775 149.759 233.305C151.409 232.975 153.159 232.835 153.269 234.205C153.429 236.215 149.029 236.245 147.259 236.715C144.649 237.405 142.809 238.125 141.049 239.015C137.449 240.855 133.929 243.425 131.929 246.935C132.549 247.485 134.149 247.045 135.039 247.335C138.529 242.765 144.369 239.765 150.969 238.015C152.529 237.605 157.459 236.015 157.379 238.315C157.329 240.015 153.639 240.295 152.369 240.615C146.569 242.075 141.209 244.425 138.039 248.035C143.029 248.755 146.099 246.195 150.069 245.425C154.739 244.525 158.239 247.095 162.899 246.925C163.479 246.905 164.019 246.685 164.599 246.625C166.979 246.385 169.649 246.825 172.319 246.825C189.099 246.825 205.509 248.125 222.529 248.125C223.889 248.125 225.499 248.475 226.339 248.225C227.219 247.965 228.229 245.935 228.749 245.115C229.519 243.905 230.189 242.845 230.649 241.605C233.089 235.195 229.769 229.265 226.539 225.575C225.829 224.765 224.889 223.815 223.829 222.865C222.999 222.125 221.599 220.615 220.819 220.455C220.019 220.285 218.499 220.595 217.209 220.655C189.919 221.985 162.029 222.795 141.149 230.675C137.659 231.995 134.299 233.775 131.529 235.985C128.829 238.145 126.129 240.905 125.719 245.105C128.769 238.885 133.619 234.405 141.049 231.775C142.549 231.245 147.979 229.025 147.959 231.575C147.949 232.945 146.299 233.135 144.949 233.475C136.879 235.535 131.749 239.475 128.419 246.105C127.999 246.945 127.459 248.915 126.619 249.115C125.979 249.265 124.419 248.765 124.009 248.415C123.369 247.855 122.919 245.945 122.909 244.805C122.839 239.655 127.939 235.235 131.029 232.985C135.309 229.855 139.409 228.185 144.559 226.675C145.069 223.045 145.729 219.565 146.359 216.055C144.899 215.775 143.659 215.695 142.849 214.855C141.889 213.845 142.269 212.445 141.549 211.045C141.089 210.155 139.489 209.805 138.339 209.345C134.869 207.935 132.299 205.675 129.919 203.335C121.009 214.745 111.489 225.335 100.359 234.805C95.0588 239.305 88.9386 243.665 81.7186 246.625C74.8486 249.445 64.1485 251.915 57.8685 246.425C52.7785 241.975 50.1385 232.995 50.3485 223.475C50.5585 213.925 52.979 205.415 55.559 198.225C56.919 194.435 58.0589 190.535 59.2689 186.695C62.8789 175.265 66.9288 163.885 70.8988 152.625C69.2488 151.255 66.8387 150.245 63.5887 149.915C58.7287 149.425 53.0987 150.525 53.0687 145.405C49.8187 142.595 44.3386 136.465 47.6586 130.675C48.5786 129.075 49.9788 127.905 51.6688 127.065C52.1888 126.805 52.8785 126.785 53.3685 126.265C51.7885 125.425 49.7187 125.105 49.2587 123.355C48.4587 120.305 52.0385 118.425 54.3685 117.545C50.1785 115.985 45.1987 112.835 41.3387 109.825C40.0987 108.855 37.7686 107.725 37.9286 106.015C38.0886 104.325 40.5986 104.235 42.2386 103.915C44.1586 103.535 45.9585 103.355 47.3485 102.715C47.4585 101.935 46.5889 101.745 46.2489 101.515C44.5889 100.415 43.0989 99.0247 42.5389 96.6047C42.4289 96.1247 42.5087 95.4847 42.3387 94.9047C42.1187 94.1447 41.1985 93.5747 40.6385 92.8947C39.0285 90.9847 37.5987 88.5247 37.5287 85.1747C37.4387 80.7247 39.5287 77.0247 41.8387 74.9547C42.7187 74.1647 44.5486 72.9247 46.4486 73.4547C47.7886 73.8247 48.9489 75.4447 49.9589 76.4647C53.3189 79.8247 56.969 82.3547 60.579 85.3847C61.969 81.9247 64.9187 79.0547 69.2987 78.6747C73.2987 78.3247 76.8685 79.8747 79.6185 81.6847C80.5485 81.0347 81.1385 80.2747 82.1185 79.3847C82.8285 78.7347 83.7086 77.2847 84.9286 77.3847C86.5986 77.5147 86.1987 79.6846 86.0287 81.1946C85.8287 83.0046 85.4986 84.2447 84.9286 85.4047C86.4386 86.5147 89.8088 86.0347 89.9388 88.2147C90.0588 90.2647 87.379 90.6547 85.829 91.5247C87.509 94.7447 89.6987 98.3447 89.3387 103.455C88.7687 111.415 82.2288 116.695 75.6088 118.685C87.3988 121.895 99.0087 124.955 101.759 136.825C103.229 143.185 102.159 150.615 100.959 156.765C99.7089 163.185 98.2289 168.825 96.7489 174.905C101.199 169.425 105.739 162.975 110.269 157.055ZM260.689 158.255C260.839 143.585 252.029 136.065 239.039 134.205C234.809 133.595 230.219 133.245 226.209 131.795C219.009 129.195 213.419 124.585 212.379 115.165C211.839 110.255 212.309 105.305 212.379 100.535C212.459 95.5447 211.779 91.1547 210.479 87.2047C208.039 79.8347 203.579 73.5247 198.449 68.7647C193.169 63.8547 187.439 59.7847 180.109 56.6447C173.029 53.6047 164.629 51.2547 154.449 51.7347C145.429 52.1647 137.799 54.8547 132.499 58.9547C129.759 61.0747 127.599 63.6447 126.289 67.1747C124.979 70.6947 124.789 74.8847 124.789 80.1047C124.789 85.0947 124.999 89.9747 124.189 93.9347C123.379 97.8747 121.479 100.665 118.679 102.855C113.389 106.985 105.059 109.005 104.449 117.485C103.909 125.035 107.879 129.485 112.369 132.815C115.089 134.835 118.679 136.685 122.289 138.125C123.559 138.635 125.339 139.495 126.099 139.425C126.809 139.365 127.819 138.415 128.699 138.025C135.109 135.145 145.129 134.865 153.049 136.725C152.449 134.225 151.719 131.845 151.249 129.205C142.719 129.435 138.479 126.205 135.119 121.495C132.999 118.525 131.149 113.625 131.209 107.565C131.229 105.455 131.189 103.115 132.809 103.155C134.369 103.195 134.069 103.935 134.009 106.665C133.909 111.985 134.759 115.275 136.619 118.485C138.799 122.265 142.299 125.995 147.939 126.405C152.289 126.725 156.629 125.385 159.869 124.105C161.789 123.345 164.929 121.905 167.179 120.695C168.049 120.235 170.519 118.655 170.589 120.995C170.629 122.395 168.319 123.105 167.179 123.705C163.139 125.855 158.699 127.925 153.949 128.815C154.679 132.655 156.189 137.395 157.459 141.245C157.889 142.535 158.429 144.755 156.659 144.755C154.689 144.755 154.879 141.295 154.049 139.845C146.249 137.535 135.269 137.865 129.099 141.045C123.659 143.845 119.649 148.995 116.169 153.675C115.669 154.355 115.079 155.095 114.869 155.885C122.779 159.035 131.799 161.095 142.229 161.795C152.749 162.505 163.789 161.515 173.899 160.495C184.249 159.445 193.909 158.395 202.759 155.985C211.619 153.565 219.639 150.485 227.309 147.165C225.449 144.595 223.139 142.685 220.699 140.855C218.269 139.035 215.519 137.275 212.079 136.245C208.499 135.175 203.949 135.095 200.259 135.745C196.439 136.415 192.949 137.945 188.939 137.645C181.459 137.105 179.849 129.125 178.319 122.615C177.899 120.835 177.119 119.065 177.119 117.105C177.119 116.055 177.369 114.655 178.319 114.505C179.119 114.375 179.619 114.945 180.119 115.205C185.199 117.835 191.799 112.935 192.549 108.595C192.899 106.585 191.549 103.885 189.339 103.285C187.019 102.655 185.019 104.065 183.729 104.885C182.869 105.435 182.339 105.715 181.529 106.385C180.889 106.915 180.119 107.925 179.119 107.785C178.219 107.655 178.269 106.645 177.719 106.185C177.179 105.725 175.989 105.475 175.209 105.085C172.629 103.785 170.429 102.485 168.199 100.975C159.379 95.0246 153.639 85.8147 151.169 73.5147C148.269 75.3547 145.189 77.8947 142.949 80.7347C143.809 81.7447 144.369 82.2946 144.849 83.3346C147.009 87.9646 145.219 93.2947 142.449 96.1646C141.139 97.5146 139.489 98.6147 136.939 99.2747C135.149 99.7347 130.309 100.765 130.329 98.4746C130.339 96.6346 132.729 97.2046 134.439 96.9746C139.199 96.3346 142.609 93.6447 143.059 88.8547C143.399 85.1647 141.349 82.2847 139.149 80.7347C142.499 76.8347 146.119 73.2047 150.679 70.5147C150.319 69.2547 150.769 68.2647 151.779 68.2147C153.069 68.1447 153.189 69.4247 153.379 70.5147C154.789 78.4947 157.499 85.5047 161.299 90.6547C166.059 97.1247 172.669 100.795 179.739 104.185C182.519 102.635 184.489 100.225 188.559 100.375C192.889 100.545 195.809 104.565 195.369 108.795C194.829 114.095 188.729 118.965 182.949 118.815C181.929 118.795 181.059 118.375 180.139 118.415C181.789 123.385 182.289 132.085 186.849 134.345C190.289 136.055 196.049 133.675 199.579 133.045C203.549 132.335 208.889 132.375 213.009 133.645C220.369 135.925 225.819 140.875 230.449 146.175C239.819 156.915 246.419 169.615 254.299 182.355C257.319 174.995 260.589 167.765 260.689 158.255ZM68.8885 92.8147C69.3885 93.2747 70.5386 94.1546 70.4886 95.1146C70.4586 95.8346 69.7788 96.3946 69.1888 96.4146C68.2388 96.4446 66.729 94.7046 66.079 94.1146C59.439 87.9846 51.6785 82.0847 45.6385 76.0747C43.8485 76.3147 42.4986 78.4147 41.9286 79.3847C41.1086 80.7847 40.449 82.3847 40.329 84.0947C40.119 86.9847 41.1288 88.9246 42.1288 90.3046C43.1388 91.6946 44.5786 92.3846 44.9286 93.6146C45.2786 94.8446 45.0587 96.0647 45.5287 97.0247C46.4087 98.8147 49.6289 99.6947 50.0389 100.935C50.2389 101.545 50.0486 102.855 50.2386 103.345C50.8486 104.945 53.9086 105.235 55.9486 105.045C57.8386 104.875 60.9989 103.255 60.9589 105.645C60.9289 107.305 57.4989 107.735 55.7489 107.845C53.4289 108.005 51.4185 107.615 50.1385 106.945C49.3285 106.515 48.7785 105.625 48.1385 105.545C47.3485 105.445 46.0988 106.055 45.1288 106.245C43.9988 106.475 42.9389 106.555 42.0189 106.845C48.0889 112.005 55.4085 116.455 66.3685 117.065C72.7185 117.415 77.4285 115.735 81.0985 112.755C84.0085 110.385 86.6188 106.755 86.6088 102.135C86.5988 98.4947 85.0185 95.7246 83.5985 93.4146C83.1585 92.7046 82.1486 91.6746 82.1986 90.8046C82.2886 89.2646 84.3886 89.4347 85.4086 88.6047C84.0286 87.9247 81.8086 87.7646 81.6986 86.1946C81.6086 84.9046 82.9189 83.9647 82.9989 82.4847C81.9489 82.6947 81.4689 84.8947 79.7889 84.8947C79.0389 84.8947 78.6586 84.2247 77.9886 83.7947C76.1686 82.6147 73.3387 81.4047 70.5687 81.3947C66.3487 81.3647 63.7985 83.9247 62.8485 87.4047C64.6085 88.9847 66.9085 91.0147 68.8885 92.8147ZM59.1688 196.035C58.8988 196.895 58.1188 198.335 58.1688 198.845C58.2488 199.725 60.319 200.875 61.079 201.445C64.309 203.895 68.0186 206.045 72.9086 206.355C78.0986 206.685 82.0887 204.025 85.0287 201.745C85.6987 201.225 87.7289 199.695 88.0389 199.135C88.4289 198.405 88.4686 196.885 88.7386 195.725C90.5886 187.895 92.5886 179.975 94.4486 172.475C96.7386 163.245 99.2987 154.835 99.7587 144.615C100.529 127.675 86.8785 124.085 73.5985 121.165C71.4185 120.685 69.039 120.065 66.579 119.865C61.189 119.415 53.8887 118.665 52.0487 122.675C56.4587 124.925 63.4988 124.085 68.6888 125.885C71.0288 126.695 72.8889 127.985 74.9989 129.495C76.4289 130.515 80.0789 132.095 80.2089 134.305C80.3389 136.395 78.2385 137.595 76.5985 138.415C72.8685 140.275 68.9785 140.705 63.8685 141.125C59.6985 141.465 55.3786 141.745 55.9486 146.235C57.5086 147.185 59.949 147.025 62.059 147.135C64.239 147.245 66.3588 147.425 68.1688 148.035C71.8788 149.285 74.0987 152.025 77.5887 152.645C80.0487 153.085 82.3588 152.455 84.3988 151.745C85.4988 151.365 89.2786 149.215 89.4086 151.645C89.4686 152.755 88.0388 153.345 87.1088 153.745C83.0888 155.495 76.6687 156.505 73.2787 153.945C68.4487 167.755 63.7088 181.765 59.1688 196.035ZM56.2587 126.785C55.0287 128.815 53.4286 131.435 53.4486 134.305C53.4686 136.555 54.4686 138.435 55.4486 140.315C56.1186 140.045 56.7589 139.755 57.2489 139.315C55.5889 135.665 56.8186 130.935 58.4486 128.495C58.7386 128.065 59.3189 127.715 59.2489 127.195C58.2989 127.025 57.2387 126.945 56.2587 126.785ZM60.1688 138.815C62.4288 138.375 65.0987 138.335 67.5887 138.115C68.0687 135.905 67.0985 131.435 69.3885 131.505C71.6385 131.575 70.2485 135.545 70.3885 137.615C73.1485 137.005 75.7488 136.235 77.3988 134.505C73.0388 131.755 69.7686 127.915 62.9686 127.595C60.1986 129.455 57.9588 134.715 60.1688 138.815ZM52.7489 141.225C51.1389 138.775 50.1688 134.215 51.1488 130.705C47.7188 133.365 50.3589 139.345 52.7489 141.225ZM216.699 154.345C212.489 155.875 208.139 157.355 203.669 158.555C194.539 160.995 184.439 162.215 173.909 163.265C163.359 164.315 151.949 165.235 141.239 164.465C130.599 163.705 121.249 161.525 113.179 158.055C107.869 164.615 102.519 172.185 97.2489 178.995C96.4689 180.005 95.1786 181.315 94.9486 182.305C92.1486 193.915 89.0389 206.625 86.2289 218.785C85.8789 220.285 85.5489 223.175 84.0189 223.095C82.0589 222.995 83.0087 220.265 83.3187 218.885C84.4887 213.725 85.699 209.065 86.829 203.955C82.969 206.795 78.0887 209.795 71.2987 208.965C66.1087 208.335 61.7987 205.745 58.5687 203.155C58.1687 202.835 57.8088 202.135 57.1688 202.255C55.5588 207.655 53.9088 213.225 53.3588 219.595C52.7688 226.525 53.5486 232.975 55.6586 238.135C57.7886 243.335 61.0986 247.085 67.9886 247.055C74.3786 247.025 79.6388 244.655 84.4188 242.245C93.6888 237.585 101.249 230.835 108.369 223.705C115.519 216.555 122.269 208.885 128.109 200.955C124.479 195.945 122.659 188.275 123.199 179.305C123.329 177.085 123.269 172.275 125.309 172.395C127.389 172.515 126.229 176.265 126.109 177.605C124.899 191.765 129.269 201.655 138.039 206.165C139.459 206.895 141.309 207.145 142.749 208.265C144.269 209.455 144.189 211.025 144.959 212.975C155.129 213.115 165.489 211.945 176.229 211.075C185.049 210.355 194.619 209.585 203.389 208.775C204.759 208.645 206.299 208.795 207.299 208.475C208.169 208.195 209.779 206.565 210.409 205.965C213.399 203.095 214.929 199.005 216.019 194.745C214.039 191.455 212.189 188.235 210.309 185.025C209.679 183.945 208.759 182.785 208.809 181.315C210.629 178.785 212.469 183.045 213.319 184.515C219.639 195.455 226.059 207.015 232.359 217.285C234.399 217.425 238.169 216.175 238.169 218.485C238.169 220.465 234.459 219.885 232.259 219.985C229.559 220.105 226.979 220.315 225.239 220.285C228.449 223.325 231.999 227.315 233.559 232.615C235.269 238.415 233.199 243.315 230.949 246.845C230.629 247.345 230.089 247.995 230.249 248.345C238.029 248.745 246.349 248.845 253.999 248.245C261.539 247.655 268.939 246.685 273.639 243.435C278.909 239.795 278.599 231.625 276.449 224.795C272.519 212.305 264.639 203.955 258.209 194.035C248.589 179.175 240.439 162.575 229.449 149.235C225.429 151.075 221.069 152.765 216.699 154.345ZM210.289 209.565C212.249 212.185 214.489 214.525 216.599 216.975C216.639 217.295 216.789 217.515 216.799 217.875C220.899 217.695 225.129 217.655 229.029 217.275C225.199 210.985 221.699 204.365 217.809 198.135C216.549 203.195 213.969 206.935 210.289 209.565ZM213.089 217.275C212.309 216.275 211.649 215.475 210.789 214.465C210.129 213.705 208.479 211.215 207.379 211.155C188.809 212.935 168.129 214.605 149.159 215.865C148.589 219.165 147.999 222.455 147.459 225.785C166.639 220.385 189.989 219.145 213.499 218.065C213.879 217.675 213.269 217.505 213.089 217.275Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M187.539 106.945C188.349 106.835 189.649 107.085 189.239 108.645C188.999 109.555 186.949 110.055 185.629 110.545C184.119 111.115 182.679 112.085 181.519 111.945C180.759 111.855 180.329 111.085 180.319 110.645C180.279 109.305 182.549 108.715 183.529 108.345C184.779 107.865 186.179 107.125 187.539 106.945Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M150.259 108.245C151.199 107.985 151.969 108.365 152.059 109.245C152.229 110.895 148.829 112.885 147.549 113.355C146.179 113.855 141.109 114.955 141.039 112.655C140.989 111.125 142.439 111.335 143.839 111.255C146.799 111.075 148.259 109.515 150.049 108.355C150.129 108.305 150.139 108.285 150.259 108.245Z\"\n      fill=\"black\"\n    />\n    <path\n      d=\"M283.549 250.665H44.4087C43.7687 250.665 43.2588 250.145 43.2588 249.515C43.2588 248.875 43.7787 248.365 44.4087 248.365H283.549C284.189 248.365 284.699 248.885 284.699 249.515C284.699 250.145 284.179 250.665 283.549 250.665Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M33.289 64.8747C33.699 66.4547 34.519 68.1447 35.289 69.9847C35.759 71.0847 37.7286 74.4347 35.8886 75.0947C34.7386 75.5047 32.9287 73.9147 32.1787 73.3947C28.8287 71.0647 25.5989 68.7247 22.3589 66.4847C16.7889 69.0147 8.87872 69.5546 5.21872 65.0846C3.44872 62.9146 2.33876 59.8347 1.50876 56.5647C0.298763 51.7947 -1.31094 44.2047 1.80906 40.4347C5.01906 36.5547 13.0787 36.1447 19.4487 35.3247C22.8287 34.8947 26.0188 34.3147 29.0688 33.6247C32.2188 32.9047 35.2687 31.9846 38.4887 31.7246C47.8687 30.9546 49.5487 36.8546 50.7187 44.5546C51.3887 48.9546 52.4086 55.3047 50.1186 58.4847C46.6686 63.2647 40.519 63.8047 33.289 64.8747ZM30.8789 66.6847C30.4789 65.7547 29.5588 64.4147 29.7788 63.2747C30.0588 61.8347 33.1989 62.0347 34.6889 61.8747C40.1389 61.2747 46.2787 60.0447 48.2187 56.2647C49.5887 53.5847 48.539 48.6647 48.019 45.1447C47.129 39.1647 46.4187 34.0247 39.6987 34.4247C33.4187 34.7947 27.769 37.0347 21.459 37.9347C16.059 38.7047 6.97863 38.7847 4.11863 42.0447C3.02863 43.2947 2.64882 45.9147 2.81882 48.4547C3.13882 53.2447 4.82888 59.9247 7.12888 62.9847C8.30888 64.5647 9.66904 65.4846 12.039 65.6946C14.739 65.9246 18.9387 65.1647 20.1587 64.3947C20.7387 64.0247 20.9789 63.0847 21.8589 63.0947C22.5989 63.0947 23.8288 64.1946 24.5688 64.6946C26.4988 66.0346 27.9487 67.0047 29.6787 68.2047C30.5187 68.7847 31.259 69.5546 32.289 69.8046C31.749 68.8646 31.3789 67.8547 30.8789 66.6847Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M57.8389 17.4147C57.8389 17.2147 57.8389 17.0147 57.8389 16.8147C58.6689 15.1247 60.6686 15.4847 62.8486 15.3147C78.7686 14.0147 94.419 12.6147 110.249 11.3047C112.239 11.1447 116.269 10.2847 117.469 11.0047C118.279 11.4947 118.399 14.3747 118.569 15.9147C119.569 25.1147 120.339 34.5247 120.779 43.7747C120.959 47.5047 121.339 52.4947 120.279 55.1947C118.779 59.0147 113.189 59.6847 107.749 59.9047C102.529 60.1147 96.6288 59.8547 91.8188 59.9047C82.6288 60.0047 73.8789 60.6447 65.3589 61.6047C64.2189 61.7347 62.489 62.1647 61.749 61.7047C60.979 61.2247 60.9786 58.5547 60.8486 56.9947C59.9486 46.1747 59.089 36.2647 58.249 25.6247C58.119 24.0247 57.5286 21.4147 59.3486 21.4147C60.8086 21.4147 60.8087 23.2547 60.9487 25.0247C61.8987 36.5947 62.8689 47.8747 63.8589 58.9947C76.7889 57.2147 91.0389 57.0847 105.649 57.0847C110.009 57.0847 116.179 57.0147 117.579 54.3747C118.149 53.3047 118.079 51.1847 118.079 49.4647C118.079 36.6747 116.519 25.0947 115.469 13.6847C97.9387 15.0547 80.6287 16.6547 63.1587 18.0947C72.2687 24.9847 81.5488 31.7047 90.8188 38.4347C96.6388 32.4747 103.169 26.0947 109.259 19.9947C110.149 19.1047 111.119 17.5647 112.369 17.7847C112.569 17.8247 113.259 18.2047 113.369 18.7847C113.639 20.1747 111.809 21.3547 111.069 22.0947C105.129 28.0347 99.9289 33.3347 94.1289 39.1347C93.3089 39.9547 92.0089 41.6247 90.9189 41.6447C89.6489 41.6547 87.8289 39.7247 86.6089 38.8347C78.1689 32.6947 70.0889 26.9147 61.8589 20.7947C60.7289 19.9847 58.3789 18.3547 57.8389 17.4147Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M108.259 25.9647C110.319 27.9747 113.499 28.5947 121.489 27.5647C129.479 26.5447 133.279 26.0647 133.319 23.9547C133.359 21.8447 134.039 5.74466 129.009 3.91466C123.979 2.08466 112.049 5.48466 110.169 5.61466C108.289 5.74466 106.669 4.58467 106.659 7.92467C106.649 11.2547 107.659 13.4947 107.459 15.9447C107.259 18.3947 106.199 23.9647 108.259 25.9647Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M111.769 24.2147C113.829 26.2147 117.009 26.8447 125.019 25.8147C133.029 24.7947 136.829 24.3147 136.869 22.2147C136.909 20.1147 137.589 4.01466 132.549 2.18466C127.509 0.354663 115.559 3.75466 113.679 3.88466C111.789 4.01466 110.169 2.85466 110.159 6.18466C110.159 9.51466 111.159 11.7547 110.969 14.1947C110.769 16.6547 109.699 22.2147 111.769 24.2147Z\"\n      fill=\"#FFBF1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M105.859 9.80466C105.859 8.87466 105.859 7.93467 105.859 6.99467C106.809 3.05467 112.999 3.53466 117.589 2.88466C121.399 2.34466 124.159 1.39467 127.909 1.78467C134.969 2.51467 135.769 11.5047 135.329 19.1247C135.199 21.3747 135.519 24.7847 133.729 25.3347C133.849 27.5447 132.059 27.3247 130.319 27.7447C129.279 27.9947 128.239 28.2847 127.419 28.4447C122.149 29.4947 113.149 31.0247 109.079 27.8447C106.529 25.8547 106.969 22.1747 106.969 17.9247C106.969 14.9247 106.399 11.7447 105.859 9.80466ZM132.519 13.8147C132.159 8.56467 131.379 4.18467 125.609 4.49467C122.949 4.63467 119.909 5.42467 116.889 5.79467C113.979 6.15467 110.889 5.94467 108.669 7.29467C108.389 10.3647 109.569 12.7647 109.769 15.9147C109.959 18.8847 108.789 23.0247 110.269 25.1347C111.889 27.4347 117.739 27.0147 121.189 26.6347C125.269 26.1847 128.699 25.2847 132.209 24.5247C132.399 21.5747 132.779 17.5347 132.519 13.8147Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M119.489 10.7047C121.659 10.0647 121.439 13.3347 121.689 15.8147C121.919 18.0547 122.999 22.0647 120.289 21.3247C118.919 20.9547 118.999 16.0647 118.789 14.1047C118.639 12.7647 118.229 11.0747 119.489 10.7047Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M172.999 87.7947C172.829 87.7947 172.649 87.7547 172.479 87.6647C172.249 87.5447 172.009 87.2447 171.899 87.0047C171.229 85.5247 169.018 81.9947 163.098 81.0547C155.798 79.9047 152.279 83.9047 152.129 84.0747C151.719 84.5547 150.989 84.6147 150.509 84.2047C150.029 83.7947 149.958 83.0747 150.368 82.5847C150.548 82.3747 154.829 77.4147 163.459 78.7747C170.489 79.8847 173.169 84.2247 173.999 86.0447C174.189 86.3747 174.219 86.7947 174.029 87.1547C173.829 87.5647 173.419 87.7947 172.999 87.7947Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M73.4287 84.6347C74.6787 84.6347 75.6787 85.6447 75.6787 86.8847C75.6787 88.1347 74.6687 89.1447 73.4287 89.1447C72.1787 89.1447 71.1689 88.1347 71.1689 86.8847C71.1689 85.6447 72.1787 84.6347 73.4287 84.6347Z\"\n      fill=\"black\"\n    />\n  </svg>\n);\n\nexport const TalkIcon = () => (\n  <svg\n    css={sizeCss}\n    viewBox=\"0 0 304 257\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M186.493 115.294C185.045 114.938 161.194 131.043 160.629 137.832C160.064 144.62 160.249 149.862 157.892 151.679C155.535 153.495 149.2 154.76 149.2 154.76C149.2 154.76 154.504 159.658 154.811 162.727C155.118 165.795 156.443 180.281 159.34 184.258C162.237 188.235 170.204 192.581 170.204 192.581C170.204 192.581 165.318 196.018 162.237 196.926C159.156 197.835 155.903 200.008 156.627 206.698C157.352 213.388 159.34 251.761 160.788 252.486C162.237 253.21 251.456 257.556 252.181 255.383C252.905 253.21 220.325 131.043 219.417 130.859C218.533 130.687 186.493 115.294 186.493 115.294Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M65.0513 126.526L96.7221 113.673C96.7221 113.673 111.919 125.077 114.092 133.94C116.265 142.803 117.345 148.782 120.426 149.322C123.507 149.862 125.681 150.23 126.577 150.954C127.485 151.679 121.15 158.737 121.15 158.737C121.15 158.737 120.967 176.659 117.345 182.809C113.724 188.96 110.827 191.501 110.827 191.501C110.827 191.501 123.679 192.225 123.863 201.64C124.047 211.056 111.919 253.762 109.931 254.487C107.942 255.211 13.2851 252.314 13.8252 250.681C14.3653 249.049 31.7475 225.529 31.1951 225.7C30.6549 225.885 10.2036 230.77 4.94968 221.895C-0.304275 213.032 1.86852 176.831 11.0998 171.037C20.331 165.243 44.4036 169.773 44.4036 169.773L65.0513 126.526Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M185.5 119.75C181.523 120.228 177.766 121.8 174.538 124.144C168.351 128.613 164.508 135.389 162.164 142.533C161.587 144.289 161.133 146.069 160.678 147.849C160.666 147.922 160.642 147.984 160.629 148.057C160.445 148.782 160.224 149.506 159.954 150.205C159.561 151.212 159.046 152.157 158.297 152.955C156.394 154.956 153.767 155.717 151.091 156.061C152.355 157.546 154.185 158.663 155.461 160.1C157.683 162.592 157.634 165.648 157.769 168.791C157.916 172.117 158.186 175.493 159.07 178.709C160.506 183.927 164.066 189.352 169.664 190.641C170.462 190.825 171.088 191.427 170.99 192.299C170.904 193.047 170.118 193.808 169.332 193.624C165.957 192.863 163.072 190.997 160.789 188.407C156.234 183.251 155.106 176.181 154.811 169.54C154.737 167.833 154.835 166.016 154.442 164.347C154.148 163.119 153.374 162.137 152.453 161.29C150.502 159.474 148.145 157.964 147.175 155.349C146.856 154.502 147.335 153.336 148.354 153.262C150.207 153.127 152.135 152.992 153.878 152.305C155.584 151.629 156.652 150.463 157.278 148.732C157.315 148.622 157.351 148.499 157.388 148.376C157.867 146.952 158.162 145.479 158.555 144.031C158.616 143.785 158.69 143.54 158.763 143.294C159.303 141.441 159.93 139.599 160.666 137.819C162.152 134.198 164.103 130.7 166.558 127.643C171.15 121.935 177.729 117.651 185.107 116.865C186.936 116.681 187.366 119.541 185.5 119.75Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M128.676 150.77C128.455 149.567 127.546 148.745 126.38 148.487C124.674 148.106 123.053 148.794 121.433 147.873C119.702 146.891 118.671 145.087 118.02 143.27C117.235 141.085 116.879 138.777 116.228 136.555C115.553 134.259 114.632 132.038 113.515 129.926C111.49 126.145 108.789 122.647 105.229 120.204C100.97 117.282 95.7647 116.018 90.6335 116.595C88.7676 116.804 89.1851 119.664 91.051 119.48C95.0651 119.075 99.2633 119.971 102.701 122.119C105.954 124.144 108.531 127.152 110.397 130.479C111.428 132.332 112.3 134.284 112.987 136.285C113.699 138.347 114.092 140.495 114.669 142.595C115.713 146.388 117.861 150.353 122.01 151.323C122.967 151.544 123.888 151.458 124.858 151.421C125.116 151.409 125.361 151.433 125.607 151.458C125.521 151.593 125.423 151.715 125.325 151.838C123.667 153.913 121.667 155.779 119.85 157.718C119.297 158.307 119.555 159.375 120.157 159.817C120.869 160.345 121.703 160.112 122.256 159.51C123.152 158.565 124.048 157.608 124.931 156.662C125.864 155.668 126.896 154.711 127.743 153.643C128.369 152.845 128.872 151.814 128.676 150.77Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M122.685 158.541C122.636 157.743 121.752 157.19 121.016 157.301C120.156 157.423 119.739 158.172 119.776 158.97C119.997 164.74 119.26 170.534 117.492 176.033C116.019 180.624 113.982 185.473 110.312 188.763C108.397 190.482 106.224 191.501 103.646 191.648C102.836 191.697 102.271 192.593 102.381 193.342C102.504 194.226 103.265 194.619 104.075 194.606C109.342 194.508 113.576 190.469 116.216 186.259C119.395 181.189 121.224 175.186 122.145 169.306C122.722 165.746 122.881 162.137 122.685 158.541Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M163.711 161.671C160.691 162.69 157.831 164.089 155.142 165.795C154.467 166.213 154.43 167.269 154.884 167.858C155.412 168.533 156.271 168.545 156.946 168.116C158.653 167.048 160.445 166.139 162.311 165.366C161.955 166.704 161.489 168.005 160.875 169.269C160.408 170.239 159.856 171.148 159.242 172.031C158.567 172.989 157.769 173.836 157.032 174.744C156.013 175.997 157.843 177.85 159.083 176.758C160.998 175.076 162.458 172.707 163.575 170.448C164.692 168.177 165.404 165.71 165.748 163.205C165.908 162.027 164.717 161.327 163.711 161.671Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M170.965 140.925C170.805 140.004 169.836 139.403 168.952 139.783C168.829 139.833 168.706 139.906 168.584 139.98C168.412 140.029 168.252 140.103 168.129 140.213C167.945 140.397 167.773 140.594 167.614 140.79C167.516 140.901 167.43 141.023 167.344 141.146C167.307 141.195 167.27 141.257 167.246 141.306C167.209 141.367 167.172 141.416 167.147 141.478C166.988 141.76 166.853 142.042 166.755 142.361C166.509 143.172 166.411 144.043 166.595 144.878C166.705 145.393 167 145.823 167.503 146.032C168.007 146.228 168.498 146.118 168.928 145.823C169.701 145.307 170.302 144.51 170.658 143.65C171.002 142.803 171.125 141.821 170.965 140.925Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M181.018 134.787C178.661 130.663 173.432 128.981 168.989 130.233C168.289 130.43 167.969 131.35 168.154 131.976C168.338 132.602 169.05 133.241 169.774 133.044C170.216 132.921 170.658 132.836 171.112 132.774C171.309 132.75 171.505 132.737 171.701 132.725C171.75 132.725 171.861 132.725 171.885 132.725C172.008 132.725 172.119 132.725 172.241 132.737C172.696 132.762 173.15 132.823 173.592 132.909C173.616 132.909 173.764 132.946 173.788 132.958C173.85 132.971 173.923 132.995 173.984 133.007C174.218 133.069 174.439 133.155 174.672 133.241C175.065 133.388 175.446 133.56 175.814 133.756C175.863 133.781 175.924 133.818 175.949 133.83C176.047 133.891 176.157 133.953 176.256 134.026C176.44 134.149 176.612 134.272 176.784 134.407C176.98 134.554 177.164 134.701 177.336 134.861C177.36 134.886 177.471 134.984 177.483 134.996C177.532 135.045 177.569 135.082 177.618 135.131C177.949 135.475 178.244 135.855 178.539 136.236C178.981 136.813 179.816 136.96 180.417 136.592C180.97 136.273 181.387 135.426 181.018 134.787Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M110.986 142.73C110.937 142.386 110.864 142.054 110.753 141.723C110.815 141.428 110.778 141.097 110.68 140.839C110.545 140.508 110.225 140.176 109.882 140.054C109.71 139.992 109.526 139.955 109.329 139.955C109.047 139.894 108.715 139.919 108.47 140.041C108.126 140.201 107.807 140.483 107.684 140.851C107.574 141.183 107.525 141.588 107.684 141.919C107.611 142.337 107.586 142.766 107.598 143.196C107.611 143.478 107.648 143.761 107.734 144.031C107.844 144.424 107.954 144.792 108.151 145.148C108.212 145.258 108.274 145.369 108.335 145.467C108.458 145.627 108.605 145.749 108.777 145.835C109.047 145.983 109.366 146.069 109.685 146.019C109.931 145.97 110.164 145.872 110.36 145.725C110.692 145.492 110.827 145.123 110.913 144.743C111.072 144.08 111.072 143.38 110.986 142.73Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M108.237 131.743C103.867 130.294 98.8707 132.762 96.9557 136.837C96.6242 137.537 97.0783 138.433 97.778 138.703C98.5514 139.01 99.3125 138.593 99.6439 137.881C99.693 137.783 99.742 137.684 99.7911 137.586C99.9384 137.353 100.049 137.169 100.184 136.997C100.319 136.813 100.466 136.629 100.626 136.445C100.651 136.42 100.712 136.346 100.736 136.322C100.785 136.273 100.835 136.224 100.884 136.174C101.203 135.88 101.534 135.622 101.89 135.377C101.952 135.34 102.013 135.303 102.074 135.266C102.05 135.278 102.271 135.156 102.295 135.143C102.479 135.045 102.676 134.947 102.872 134.861C103.069 134.775 103.265 134.689 103.474 134.628C103.572 134.591 103.682 134.554 103.781 134.53C104.284 134.407 104.701 134.333 105.119 134.284C105.242 134.272 105.377 134.259 105.499 134.259C105.757 134.259 105.99 134.272 106.211 134.296C106.42 134.321 106.641 134.345 106.85 134.382C106.923 134.394 106.985 134.407 107.058 134.431C107.071 134.431 107.439 134.517 107.537 134.542C108.237 134.714 108.949 134.075 109.096 133.449C109.28 132.774 108.937 131.976 108.237 131.743Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M121.74 160.21C118.106 158.946 114.448 157.816 110.741 156.785C109.967 156.577 109.17 156.822 108.838 157.62C108.151 159.302 108.838 160.983 109.783 162.407C110.68 163.758 111.723 165.022 112.779 166.25C114.73 168.545 117.136 170.841 120.377 170.558C121.163 170.497 121.715 169.662 121.605 168.914C121.482 168.091 120.746 167.625 119.96 167.686C119.064 167.76 118.217 167.342 117.443 166.778C116.51 166.09 115.872 165.366 115.099 164.457C114.215 163.414 113.356 162.346 112.545 161.241C112.288 160.885 112.042 160.529 111.846 160.149C114.817 160.996 117.75 161.929 120.672 162.923C121.409 163.181 122.255 162.849 122.55 162.101C122.845 161.376 122.488 160.468 121.74 160.21Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M188.777 173.026C188.262 170.166 187.108 167.023 184.198 165.832C181.547 164.752 177.95 166.311 177.95 169.478C177.95 170.252 178.38 170.976 179.214 171.074C179.926 171.16 180.798 170.583 180.81 169.81C180.847 167.784 183.277 168.361 184.21 169.392C185.659 170.988 185.942 173.578 186.089 175.616C186.261 178.071 185.954 180.551 185.487 182.945C185.266 184.111 184.996 185.265 184.689 186.406C184.53 187.02 184.37 187.622 184.198 188.223C184.125 188.493 184.039 188.96 183.941 189.328C183.658 189.598 183.437 189.807 183.339 190.15C183.155 190.875 183.302 191.378 183.842 191.893C184.309 192.348 184.923 192.286 185.401 192.139C186.261 191.881 186.506 191.059 186.727 190.298C186.948 189.524 187.157 188.763 187.366 187.99C187.808 186.32 188.225 184.639 188.531 182.945C189.121 179.704 189.366 176.303 188.777 173.026Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M196.13 172.793C195.479 169.846 193.932 166.814 191.219 165.292C188.642 163.844 185.033 164.421 183.879 167.416C183.216 169.147 185.855 170.19 186.567 168.471C187.402 166.471 190.004 167.809 190.986 168.889C192.594 170.669 193.282 173.063 193.454 175.419C193.663 178.206 193.098 181.029 192.57 183.755C192.054 186.345 191.367 188.689 190.139 191.046C189.354 192.544 191.76 193.833 192.729 192.483C194.632 189.794 195.172 186.259 195.774 183.092C196.412 179.704 196.891 176.181 196.13 172.793Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M200.917 187.02C200.352 189.708 199.641 192.36 198.475 194.839C198.241 195.33 197.983 195.834 197.713 196.313C197.308 197.012 196.867 197.675 196.375 198.313C194.866 200.278 192.975 201.898 190.913 203.31C189.783 204.083 188.605 204.82 187.389 205.495C186.027 206.256 184.615 206.968 183.179 207.606C182.651 207.852 182.123 208.085 181.583 208.294C179.705 209.055 178.465 206.096 180.355 205.384C182.062 204.734 183.731 203.985 185.339 203.138C186.739 202.389 188.102 201.566 189.403 200.646C191.367 199.271 193.147 197.687 194.497 195.723C194.73 195.392 194.952 195.036 195.148 194.68C196.486 192.311 197.247 189.635 197.812 186.983C198.119 185.596 198.376 184.209 198.609 182.809C198.892 181.25 199.174 179.63 199.003 178.034C198.782 175.996 197.394 173.357 194.964 173.64C193.11 173.86 192.705 171.049 194.546 170.779C198.192 170.239 201.089 173.296 201.826 176.622C202.624 179.986 201.605 183.718 200.917 187.02Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M179.239 193.293C178.417 195.024 175.642 193.943 176.465 192.2C179.018 186.836 180.135 180.747 179.35 174.83C179.116 173.161 178.601 170.129 176.551 169.748C175.655 169.589 175.888 170.914 175.875 171.528C175.826 172.989 175.888 174.45 175.937 175.911C176.146 181.03 176.355 186.357 173.814 191.01C172.709 193.023 171.174 194.729 169.161 195.871C167.307 196.926 165.196 197.307 163.183 197.945C161.304 198.547 159.525 199.394 158.825 201.382C157.561 204.979 159.316 210.749 159.697 214.456C159.856 215.954 160.003 217.488 160.15 219.023C160.249 220.029 160.347 221.048 160.433 222.042C160.629 224.129 160.801 226.179 160.961 228.156C161.243 231.814 161.476 235.472 161.673 239.118C161.869 242.751 162.618 248.754 162.508 252.4C162.459 254.082 159.745 254.082 159.586 252.437C159.402 250.571 159.034 246.373 158.96 244.494C158.886 242.714 158.788 240.947 158.69 239.179C158.493 235.582 158.248 231.986 157.978 228.389C157.83 226.437 157.683 224.485 157.524 222.533C157.438 221.514 157.352 220.483 157.253 219.464C157.057 217.304 156.812 215.156 156.505 213.007C155.891 208.76 154.381 203.801 156.308 199.688C157.536 197.086 159.966 195.809 162.605 195.011C164.827 194.349 167.185 193.894 169.014 192.348C170.769 190.862 171.8 188.677 172.414 186.504C173.2 183.73 173.15 180.772 173.04 177.912C172.978 176.254 172.893 174.609 172.88 172.952C172.868 171.467 172.708 169.662 173.494 168.324C174.906 165.955 178.048 166.63 179.742 168.275C181.731 170.19 182.222 173.296 182.431 175.911C182.91 181.877 181.805 187.904 179.239 193.293Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M187.967 254.29C187.034 250.964 186.445 247.502 185.77 244.114C184.554 238.074 183.437 232.01 182.418 225.934C182.062 223.847 181.719 221.76 181.375 219.673C181.215 218.667 181.044 217.648 180.884 216.629C180.43 213.695 180.037 210.761 179.73 207.827C179.534 205.949 182.345 205.532 182.652 207.41C183.143 210.417 183.524 213.437 183.965 216.457C184.027 216.862 184.076 217.279 184.149 217.684C184.248 218.298 184.334 218.9 184.432 219.501C185.267 224.866 186.175 230.218 187.169 235.558C187.722 238.565 188.311 241.548 188.912 244.543C189.526 247.526 190.312 250.509 190.778 253.505C191.048 255.125 188.433 255.911 187.967 254.29Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M110.68 193.379C109.919 193.17 109.182 193.072 108.396 193.06C107.648 193.047 106.813 193.121 106.101 192.875C104.935 192.483 104.849 190.997 104.8 189.954C104.64 186.283 104.849 182.564 104.873 178.881C104.886 176.61 105.094 169.233 101.154 170.129C99.693 170.46 98.3551 172.081 97.594 173.284C96.7347 174.646 96.1821 176.144 95.863 177.727C95.016 181.864 95.9613 186.333 96.5505 190.445C96.8205 192.311 99.6318 191.893 99.4354 190.027C99.0671 186.652 98.355 183.178 98.6496 179.777C98.7723 178.353 99.0793 176.991 99.7054 175.714C100.074 174.965 100.638 174.069 101.35 173.48C101.436 173.738 101.51 173.996 101.571 174.266C101.706 174.867 101.78 175.493 101.829 176.119C101.927 177.396 101.878 178.673 101.866 179.949C101.841 182.736 101.817 185.51 101.804 188.297C101.792 190.433 101.718 192.9 103.29 194.557C104.1 195.404 105.156 195.858 106.297 196.006C107.377 196.141 108.544 195.932 109.599 196.214C110.385 196.423 111.232 196.178 111.564 195.355C111.809 194.643 111.465 193.587 110.68 193.379Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M124.391 211.596C123.741 216.506 122.563 221.33 121.163 226.069C121.126 226.179 121.102 226.29 121.065 226.4C120.795 227.284 120.524 228.18 120.23 229.064C119.002 232.918 117.652 236.724 116.302 240.554C114.608 245.354 113.123 250.215 111.515 255.039C110.975 256.647 108.212 255.972 108.605 254.315C109.833 249.159 111.784 244.126 113.552 239.118C114.792 235.594 116.056 232.071 117.198 228.511C117.517 227.542 117.824 226.572 118.119 225.59C119.457 221.146 120.586 216.641 121.261 212.038C121.875 207.852 122.611 202.917 120.868 198.903C119.383 195.478 115.676 193.33 111.968 193.563C110.115 193.673 109.673 190.874 111.551 190.678C116.511 190.15 121.433 192.937 123.557 197.454C125.557 201.775 125.005 207.005 124.391 211.596Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M95.409 166.851C92.2787 166.557 90.7072 170.411 89.9461 172.805C89.0009 175.739 88.7063 178.82 88.7554 181.889C88.8045 184.982 89.0625 188.174 89.6272 191.218C89.9709 193.06 92.6345 192.654 92.4872 190.801C92.3031 188.321 91.8979 185.878 91.7874 183.386C91.6769 180.968 91.7507 178.525 92.1926 176.144C92.4136 174.99 92.7328 173.861 93.1624 172.756C93.5184 171.847 93.9112 170.779 94.66 170.116C95.3475 169.515 95.9 170.411 96.3051 170.976C96.9802 171.921 97.2624 173.001 97.3852 174.143C97.5816 176.095 100.454 175.616 100.368 173.713C100.221 171.099 98.3919 167.134 95.409 166.851Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M93.7393 169.306C92.7941 166.998 90.1302 166.029 87.8224 166.741C85.2691 167.526 83.7471 169.994 83.0965 172.449C81.5375 178.231 81.3779 184.602 81.8567 190.543C81.9671 191.942 81.8319 194.398 83.8451 194.361C85.4164 194.324 85.7849 192.434 84.9624 191.537C84.4714 186.664 84.5573 181.754 85.2693 176.893C85.5885 174.757 85.8094 172.142 87.3561 170.485C88.289 169.49 90.3514 168.815 91.0511 170.448C91.7753 172.179 94.4391 171.049 93.7393 169.306Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M100.835 206.784C97.066 206.821 93.3466 206.636 89.6271 205.986C87.8963 205.679 86.1652 205.323 84.4834 204.807C83.1086 204.39 81.6725 203.838 80.629 202.806C79.5365 201.726 79.1804 200.192 78.984 198.706C78.7385 196.853 78.6036 194.987 78.5177 193.121C78.3335 189.414 78.3334 185.657 78.7385 181.962C78.9349 180.17 79.2787 178.415 80.0275 176.758C80.5063 175.69 81.7951 173.37 83.305 173.811C85.0727 174.327 86.1654 171.688 84.3609 171.099C80.1749 169.724 77.4127 174.413 76.492 177.789C75.3872 181.778 75.3751 186.063 75.4365 190.175C75.461 192.409 75.5715 194.631 75.7557 196.853C75.9275 198.841 76.0871 200.977 76.9955 202.806C78.7755 206.391 82.6666 207.52 86.2756 208.367C91.0386 209.484 95.9981 210 100.884 209.754C102.578 209.705 102.565 206.771 100.835 206.784Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M94.9915 216.653C94.2427 218.445 93.4814 220.225 92.7204 222.018C92.3153 222.951 91.9102 223.896 91.4928 224.841C90.0197 228.241 88.4976 231.629 86.9509 234.993C84.1643 241.045 81.3657 247.134 78.2722 253.038C77.8917 253.775 77.1428 254.229 76.308 253.897C75.5961 253.615 75.0928 252.67 75.4488 251.933C77.0078 248.693 78.6649 245.489 80.2239 242.26C82.9613 236.552 85.6005 230.807 88.1539 225.013C88.2275 224.829 88.3137 224.657 88.3873 224.473C88.8047 223.54 89.2098 222.595 89.6149 221.662C90.376 219.906 91.1246 218.139 91.8734 216.371C92.6468 214.542 94.3901 211.51 92.9538 209.595C91.8245 208.085 94.1076 206.317 95.2615 207.803C97.3238 210.466 96.1576 213.867 94.9915 216.653Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M184.432 219.513C183.413 219.563 182.394 219.612 181.375 219.685C178.22 219.869 175.065 220.139 171.923 220.483C168.829 220.815 165.76 221.22 162.692 221.699C161.943 221.809 161.181 221.932 160.432 222.055C159.622 222.19 158.812 222.325 158.002 222.472C157.842 222.496 157.695 222.533 157.536 222.558C157.45 221.539 157.364 220.508 157.266 219.489C158.223 219.329 159.18 219.17 160.15 219.035C160.911 218.924 161.685 218.801 162.434 218.691C165.675 218.188 168.928 217.758 172.181 217.402C175.078 217.083 177.974 216.837 180.884 216.653C181.252 216.629 181.62 216.604 181.976 216.58C182.639 216.53 183.302 216.506 183.965 216.469C184.027 216.874 184.076 217.292 184.149 217.697C184.247 218.298 184.346 218.9 184.432 219.513Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M121.163 226.069C121.126 226.179 121.102 226.29 121.065 226.4C120.795 227.284 120.524 228.18 120.23 229.064C119.223 228.88 118.205 228.683 117.198 228.511C116.646 228.413 116.093 228.315 115.541 228.229C112.128 227.665 108.703 227.149 105.266 226.658C100.675 225.995 96.0961 225.393 91.4928 224.841C90.4494 224.718 89.4184 224.596 88.375 224.473C88.7924 223.54 89.1975 222.595 89.6026 221.662C90.646 221.772 91.6769 221.895 92.7203 222.03C97.0168 222.533 101.313 223.098 105.597 223.712C109.035 224.203 112.447 224.731 115.872 225.283C116.609 225.406 117.357 225.516 118.106 225.627C119.125 225.75 120.144 225.897 121.163 226.069Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M76.5658 192.09C69.581 188.554 62.1911 185.584 54.7766 183.079C47.399 180.6 39.8004 178.685 32.0545 177.825C27.353 177.298 22.6391 177.249 17.9253 177.224C17.1519 177.224 16.4276 177.666 16.3294 178.501C16.2435 179.225 16.8205 180.084 17.6061 180.096C25.6466 180.256 33.5523 180.723 41.4209 182.453C48.9582 184.111 56.2743 186.639 63.4064 189.561C67.4819 191.23 71.447 193.133 75.4734 194.901C77.2657 195.699 78.2721 192.961 76.5658 192.09Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M74.4668 154.109C77.3884 154.097 79.7084 155.95 81.1324 158.356C81.9794 159.793 84.4223 158.356 83.6612 156.871C82.1636 153.925 79.3769 151.814 76.1484 151.151C72.9199 150.488 69.4459 151.728 67.2363 154.121C62.7189 159.044 65.2848 166.888 70.2809 170.35C73.3253 172.461 77.192 173.48 80.8746 173.48C81.7217 173.48 82.5072 173.014 82.6177 172.093C82.7036 171.295 82.09 170.399 81.2307 170.35C76.3573 170.104 70.7597 168.631 68.7342 163.647C67.924 161.646 67.7765 159.265 68.8076 157.313C69.8879 155.3 72.2204 154.121 74.4668 154.109Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M81.7215 162.211C81.4637 162.088 81.1937 161.953 80.9359 161.818C80.7886 161.745 80.6412 161.671 80.5062 161.585C80.4816 161.573 80.359 161.499 80.3713 161.511C79.8557 161.217 79.3402 160.91 78.8369 160.578C77.8303 159.928 76.8604 159.203 75.9397 158.442C75.3505 157.951 74.3317 158.111 73.902 158.737C73.4356 159.424 73.5706 160.247 74.1966 160.775C75.2769 161.695 76.4309 162.518 77.6339 163.267C77.3638 163.365 77.0936 163.463 76.8235 163.549C76.3816 163.414 75.903 163.463 75.5102 163.782C75.2893 163.954 75.0806 164.138 74.8719 164.322C74.3072 164.813 74.1353 165.587 74.5158 166.237C74.9087 166.9 75.6575 167.097 76.3572 166.863C78.1617 166.25 79.9661 165.587 81.7583 164.948C82.3107 164.752 82.6544 164.126 82.6544 163.561C82.6421 162.935 82.2739 162.481 81.7215 162.211Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M206.134 156.785C204.944 153.986 202.746 151.531 199.53 151.47C196.633 151.408 192.988 151.679 191.232 154.355C190.213 155.901 192.496 157.644 193.552 156.085C194.227 155.091 195.308 154.772 196.449 154.6C197.652 154.428 199.187 154.207 200.39 154.539C201.605 154.87 202.489 156.171 203.029 157.215C203.655 158.418 204.011 159.731 204.084 161.082C204.232 163.598 203.25 166.09 201.261 167.674C199.395 169.159 196.928 169.773 194.608 169.085C193.761 168.828 192.828 169.147 192.484 170.006C192.177 170.779 192.558 171.872 193.405 172.13C198.72 173.689 204.797 170.546 206.528 165.243C207.436 162.493 207.264 159.449 206.134 156.785Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M200.193 163.439C198.843 162.444 197.37 161.634 195.823 160.996C196.265 160.836 196.707 160.689 197.162 160.542C197.444 160.456 197.726 160.37 198.021 160.284C198.106 160.259 198.18 160.235 198.266 160.21C198.475 160.149 198.647 160.112 198.806 160.063C199.543 159.866 200.205 159.24 200.046 158.406C199.911 157.694 199.175 156.957 198.389 157.166C195.811 157.829 193.307 158.7 190.888 159.805C190.311 160.063 189.882 160.713 190.005 161.364C190.128 162.051 190.618 162.469 191.294 162.616C191.478 162.653 191.649 162.69 191.834 162.739C192.005 162.776 192.067 162.8 192.128 162.813C192.435 162.898 192.742 162.984 193.049 163.083C193.724 163.304 194.387 163.549 195.038 163.831C195.357 163.966 195.664 164.114 195.971 164.261C196.13 164.347 196.302 164.421 196.461 164.507C196.523 164.543 196.597 164.58 196.658 164.617C197.272 164.985 197.861 165.354 198.45 165.759C199.076 166.188 200.046 166.139 200.5 165.464C200.942 164.838 200.856 163.93 200.193 163.439Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M193.54 151.126C188.163 149.076 183.658 144.939 181.289 139.673C179.988 136.751 179.312 133.547 179.374 130.344C179.423 127.361 179.865 123.678 181.768 121.26C182.922 119.787 180.614 118.068 179.447 119.529C177.704 121.702 176.992 124.685 176.612 127.385C176.219 130.209 176.33 133.13 176.931 135.917C178.073 141.232 180.921 145.97 185.021 149.53C187.206 151.421 189.747 152.918 192.435 153.937C194.252 154.625 195.369 151.814 193.54 151.126Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M290.64 217.071C292.948 218.09 294.9 219.833 296.238 221.969C300.092 228.082 298.373 235.533 293.598 240.677C288.258 246.434 280.426 248.644 272.803 249.822C270.728 250.141 270.262 246.999 272.337 246.679C276.191 246.09 280.033 245.255 283.618 243.721C289.117 241.352 294.261 236.798 295.071 230.709C295.734 225.664 292.383 219.955 286.883 219.403C285.447 219.256 284.858 217.328 286.048 216.481C287.522 215.426 288.909 214.26 290.136 212.946C295.083 207.618 297.858 200.4 296.913 193.195C295.992 186.283 291.843 179.728 285.533 176.303C279.15 172.842 271.588 172.375 265.021 169.355C261.522 167.76 258.49 165.464 256.305 162.346C253.923 158.946 252.45 155.018 251.112 151.138C248.436 143.356 246.509 135.168 242.225 128.023C238.518 121.837 232.895 116.767 226.426 113.391C219.711 109.88 212.223 108.051 204.612 108.002C196.351 107.941 188.126 110.003 180.687 113.465C176.943 115.208 173.408 117.307 170.093 119.737C166.914 122.082 163.943 124.734 161.635 127.913C158.309 132.516 156.627 138.716 158.518 144.031C158.996 145.369 159.684 146.633 160.641 147.824C160.629 147.898 160.605 147.959 160.592 148.033C160.408 148.757 160.187 149.481 159.917 150.181C159.401 150.328 158.812 150.23 158.358 149.702C158.002 149.285 157.658 148.831 157.351 148.364C156.603 147.259 156.013 146.069 155.596 144.804C152.993 136.936 156.271 128.821 161.795 122.978C167.638 116.804 175.384 112.127 183.351 109.045C191.392 105.94 200.157 104.454 208.799 105.166C216.667 105.817 224.364 108.395 231.005 112.556C237.855 116.853 243.281 122.868 246.804 130.024C250.634 137.783 252.389 146.302 255.63 154.281C257.152 158.05 259.116 161.757 262.467 164.273C265.401 166.471 268.949 167.674 272.472 168.668C276.154 169.711 279.923 170.546 283.495 171.933C287.153 173.357 290.394 175.42 293.107 178.206C298.521 183.767 301.197 191.758 300.203 199.357C299.343 206.145 295.82 212.504 290.64 217.071Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M249.197 251.528C246.214 245.206 242.888 239.044 239.23 233.078C235.228 226.572 230.833 220.299 226.095 214.296C221.86 208.932 217.17 203.445 210.983 200.253C206.576 197.97 201.237 196.988 196.4 198.289C195.308 198.571 194.252 198.989 193.233 199.517C190.631 200.879 188.801 203.015 187.427 205.482C185.683 208.625 184.677 212.308 183.769 215.647C183.56 216.396 182.565 216.727 181.903 216.469C181.117 216.162 180.896 215.352 181.08 214.603C181.694 212.234 182.344 209.877 183.216 207.606C183.781 206.17 184.419 204.758 185.205 203.42C185.266 203.322 185.315 203.236 185.377 203.138C186.776 202.389 188.139 201.567 189.44 200.646C191.404 199.271 193.184 197.687 194.534 195.723C195.823 195.281 197.149 194.999 198.487 194.852C203.544 194.263 208.786 195.564 213.217 198.056C219.773 201.726 224.732 207.618 229.299 213.462C238.407 225.123 246.165 237.829 252.438 251.234C252.978 252.388 253.506 253.541 254.022 254.695C254.059 254.769 254.083 254.855 254.107 254.929C254.586 256.586 251.96 257.605 251.199 255.886C250.793 254.965 250.376 254.057 249.946 253.149L249.197 251.528Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M121.175 114.864C120.156 110.482 116.376 107.671 112.006 107.143C110.299 106.934 108.556 107.069 106.899 107.499C106.972 105.105 106.555 102.711 105.659 100.489C105.07 99.0408 104.235 97.6782 102.799 96.9539C101.461 96.2911 99.8403 96.2788 98.3795 96.3893C92.7695 96.8189 88.2766 100.71 83.5628 103.35C78.1492 106.394 72.1219 106.934 66.1069 107.953C60.3128 108.947 54.8993 110.801 50.2223 114.459C45.3612 118.252 41.6539 123.396 39.3829 129.116C38.6955 130.859 41.3838 131.915 42.0957 130.172C43.9494 125.642 46.7728 121.468 50.4186 118.203C54.2854 114.741 58.852 112.519 63.9218 111.439C69.6422 110.224 75.5836 109.978 81.0953 107.867C85.9688 106.001 89.9093 102.392 94.7214 100.403C95.9489 99.8878 97.2254 99.5318 98.5512 99.3968C99.8033 99.274 101.411 99.2004 102.222 100.33C103.081 101.533 103.486 103.178 103.732 104.602C104.002 106.247 103.977 107.879 103.695 109.524C103.511 110.629 104.775 111.537 105.782 111.083C109.464 109.401 114.681 109.61 117.235 113.17C119.113 115.785 118.806 120.486 115.749 122.119C114.73 122.659 114.473 123.985 115.43 124.746C118.008 126.808 117.357 131.092 114.755 132.799C113.343 133.719 114.779 136.224 116.265 135.377C120.316 133.044 121.224 127.385 118.61 123.752C120.967 121.554 121.924 118.068 121.175 114.864Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M98.8457 116.804C95.6172 119.406 92.1679 121.738 88.522 123.69C86.7052 124.66 84.7902 125.409 82.9611 126.342C82.0405 126.808 81.7828 128.109 81.2427 128.944C80.7271 129.754 80.1133 130.503 79.4259 131.154C78.5298 132.001 78.7385 133.204 79.8065 133.768C81.9179 134.886 83.8941 136.224 85.7231 137.758C86.0423 138.028 86.7543 138.433 86.9138 138.838C87.0366 139.133 86.7297 139.624 86.6315 139.919C86.2019 141.146 85.8091 142.386 85.4654 143.638C84.4097 147.456 83.7347 151.359 83.4523 155.3C81.0954 152.894 78.3209 150.917 75.2643 149.444C73.4843 148.585 72.3428 151.47 74.135 152.317C77.9159 154.097 81.1444 156.822 83.6118 160.186C84.3483 161.192 86.3246 160.787 86.3369 159.424C86.3737 153.679 87.2455 147.959 88.9886 142.472C89.3815 141.232 90.1546 139.808 89.9705 138.482C89.7863 137.181 88.7306 136.334 87.7976 135.536C86.2264 134.198 84.5325 133.007 82.7648 131.964C83.5259 131.019 84.1643 130 84.6922 128.883C90.4249 126.366 95.8139 123.076 100.675 119.111C102.074 117.908 100.306 115.625 98.8457 116.804Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M42.2311 129.619C42.1206 129.042 41.7277 128.625 41.1998 128.441C41.3594 127.729 41.028 127.017 40.3283 126.722C39.2849 126.28 38.2048 125.912 37.1368 125.519C36.5844 125.311 35.9583 125.446 35.5409 125.875C35.3445 126.072 35.2217 126.28 35.1603 126.55C35.0867 126.833 35.0744 127.213 35.2218 127.483C35.7251 128.367 36.3512 129.141 37.1368 129.767C36.5353 130.037 36.1545 130.356 35.9335 130.859C35.6021 131.645 36.0197 132.59 36.7931 132.921C37.3086 133.142 37.9467 133.044 38.3887 132.713C38.5237 132.602 38.6588 132.467 38.757 132.295C39.0516 132.173 39.3462 132.05 39.6408 131.927C40.1932 131.682 40.7457 131.448 41.3104 131.203C41.9242 130.945 42.3538 130.27 42.2311 129.619Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M64.3394 180.502C63.431 178.083 60.9758 177.2 58.7416 176.414C54.6047 174.965 50.6152 173.05 47.0798 170.448C43.6795 167.944 40.7089 164.777 38.9044 160.922C36.7193 156.233 36.486 150.967 37.2839 145.934C38.2659 139.784 40.7948 134.014 43.2008 128.318C43.9251 126.6 41.2613 125.568 40.5125 127.262C36.0565 137.279 31.5756 148.401 35.0128 159.437C37.8239 168.447 45.9629 174.511 54.3226 178.059C55.4888 178.55 56.6671 179.004 57.8578 179.409C58.9258 179.777 60.2639 180.109 61.0496 180.98C61.3319 181.3 61.6019 181.803 61.5282 182.257C61.4668 182.662 61.123 182.883 60.8284 183.141C59.8341 184.062 58.938 185.265 59.6254 186.664C60.4602 188.37 63.0751 187.376 62.5963 185.731C62.7314 185.67 62.903 185.449 63.0135 185.351C63.4063 184.982 63.7993 184.614 64.0939 184.148C64.7691 183.055 64.7936 181.692 64.3394 180.502Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M77.02 176.758C76.664 174.658 76.3446 172.535 75.8658 170.46C75.4485 168.631 72.6498 168.975 72.9321 170.878C73.4722 174.511 74.2456 178.108 74.8226 181.741C74.8717 182.024 75.0556 182.576 74.9452 182.859C74.8592 183.079 74.5647 183.215 74.3805 183.35C73.7299 183.816 73.0672 184.283 72.4166 184.749C70.919 185.817 69.3966 186.836 67.9358 187.953C66.4259 189.095 68.169 191.255 69.7157 190.248C71.3975 189.144 73.0179 187.953 74.6628 186.799C76.2464 185.694 78.002 184.724 77.9161 182.539C77.8424 180.624 77.3514 178.648 77.02 176.758Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M45.4469 169.184C41.1873 168.066 36.7928 167.416 32.4227 166.937C28.4576 166.52 24.4189 166.213 20.4294 166.434C16.9799 166.63 13.5304 167.354 10.572 169.208C7.4172 171.184 5.50222 174.462 4.44652 177.948C3.24351 181.938 2.62968 186.136 1.94225 190.224C1.24254 194.434 0.518351 198.67 0.174635 202.929C-0.156806 207.066 -0.0832608 211.289 0.984716 215.315C1.95449 218.986 3.66077 222.607 6.79105 224.915C10.1177 227.37 14.3653 228.033 18.3794 228.278C22.7741 228.536 27.4879 228.524 31.4897 226.449C33.2574 225.541 33.4659 222.73 31.6491 223.614C28.3961 225.173 23.4493 225.16 19.9016 224.988C16.6363 224.829 13.2604 224.583 10.2774 223.135C7.31901 221.686 5.62513 218.838 4.60626 215.819C3.41552 212.283 3.20685 208.478 3.39099 204.783C3.58739 200.891 4.20106 197.037 4.80256 193.182C5.42861 189.205 6.07922 185.215 6.95079 181.275C7.62595 178.218 8.66924 174.953 11.1121 172.854C13.3708 170.902 16.3294 170.08 19.251 169.748C23.1423 169.294 27.1197 169.589 31.0111 169.932C35.639 170.337 40.1686 171.148 44.7351 171.97C46.3432 172.265 47.055 169.601 45.4469 169.184Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M88.5346 228.021C87.8717 221.797 84.4837 216.052 79.7208 212.075C74.5159 207.741 67.6538 205.814 60.9513 206.096C46.7117 206.685 35.7986 217.537 27.7335 228.205C22.5287 235.091 17.6061 242.199 12.6222 249.233C11.5296 250.767 13.8499 252.523 14.9793 250.988C19.3126 245.071 23.5722 239.105 27.9055 233.189C31.8828 227.763 36.0686 222.386 41.2244 218.028C45.9137 214.063 51.45 210.871 57.5633 209.804C63.6274 208.748 70.1703 209.742 75.3997 213.106C80.7519 216.543 84.4346 222.165 85.2202 228.499C85.4657 230.66 88.7555 230.169 88.5346 228.021Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M221.774 85.9182C221.074 85.4026 220.264 85.6358 219.724 86.2128C217.944 88.1032 216.275 90.1042 214.556 92.056C213.648 93.0871 212.739 94.1183 211.819 95.1494C211.647 92.2892 211.475 89.429 211.279 86.5688C211.229 85.7832 210.37 85.2308 209.633 85.3412C208.798 85.464 208.357 86.2005 208.406 86.9862C208.627 90.988 208.872 94.9899 209.106 98.9917C209.143 99.5687 209.683 100.072 210.21 100.195C210.812 100.33 211.34 100.121 211.745 99.6546C213.463 97.7028 215.194 95.7632 216.913 93.8114C218.631 91.8596 220.411 89.9569 222.068 87.9559C222.584 87.3667 222.388 86.3724 221.774 85.9182Z\"\n      fill=\"#FFD000\"\n    />\n    <path\n      d=\"M209.989 87.6367C208.05 87.6736 206.11 87.6736 204.171 87.5999C196.855 87.293 189.477 85.869 183.155 82.0268C182.737 81.769 182.32 81.4989 181.903 81.2166C181.007 80.6151 180.16 79.9522 179.337 79.2525C180.27 78.6264 181.178 77.9881 182.062 77.3007C182.897 77.9758 183.793 78.5896 184.701 79.1543C186.113 80.0258 187.598 80.7747 189.121 81.3885C195.7 84.0645 202.906 84.4819 209.94 84.4205C211.794 84.4082 211.818 87.6122 209.989 87.6367Z\"\n      fill=\"#FFD000\"\n    />\n    <path\n      d=\"M249.455 66.6945C248.313 73.262 244.852 79.1788 239.524 83.2175C234.491 87.0352 228.12 89.0361 221.81 88.2873C219.945 88.0663 220.276 85.1816 222.142 85.3903C223.504 85.5376 224.855 85.5744 226.23 85.4394C231.864 84.887 237.254 82.0636 240.998 77.8285C245.024 73.2742 246.988 67.296 246.878 61.2564C246.755 55.0081 244.52 48.9686 240.604 44.1074C236.909 39.5041 231.889 36.0424 226.402 33.931C217.453 30.4938 207.24 30.8252 198.107 33.9555C197.137 34.2747 196.191 34.6307 195.258 35.0235C194.902 34.0537 194.498 33.1085 194.068 32.1755C195.001 31.7827 195.958 31.4267 196.928 31.0953C208.442 27.118 221.492 27.2653 232.282 33.2312C238.027 36.4106 242.888 41.014 246.092 46.7712C249.369 52.7372 250.634 59.9552 249.455 66.6945Z\"\n      fill=\"#FFD000\"\n    />\n    <path\n      d=\"M88.3872 68.6464C87.9453 69.7757 87.4051 70.8437 86.7913 71.8626C81.9915 79.9645 72.662 84.8502 63.9463 87.9068C62.4241 88.4346 60.902 88.9257 59.3675 89.4044C58.8888 89.5517 58.5205 90.1164 58.4714 90.5951C58.2627 92.9398 58.054 95.2967 57.8454 97.6536C56.4459 94.9284 55.0343 92.2155 53.6226 89.5026C53.463 89.1834 53.2175 88.9625 52.9597 88.8397C52.5914 88.2505 51.8671 87.8454 51.02 88.14C45.8643 89.9568 39.9353 89.3921 35.1846 86.6915C30.5076 84.0154 27.1685 79.2279 26.1128 73.974C23.8296 62.6804 32.3491 52.5653 41.433 47.115C50.6397 41.591 62.1664 39.7742 72.6006 42.3398C74.5156 42.8185 76.455 43.4323 78.2964 44.2548C79.3521 44.7335 80.3712 45.2491 81.341 45.8506C81.3533 44.7212 81.4391 43.5919 81.5619 42.4502C80.6044 41.9347 79.6222 41.4682 78.6156 41.0631C78.1982 40.8912 77.7808 40.7317 77.3634 40.5721C66.1681 36.5089 53.2544 37.5891 42.6729 42.929C32.0913 48.2689 22.0744 58.7891 22.6636 71.4084C22.9459 77.4357 25.8796 83.2666 30.4461 87.1948C35.1354 91.2335 41.6416 92.9889 47.7426 92.1787C48.9578 92.0191 50.1608 91.7368 51.3269 91.3808C53.3892 95.3949 55.4516 99.3967 57.5262 103.399C58.1645 104.638 60.2146 104.565 60.3619 102.993C60.6933 99.2862 61.0249 95.5913 61.3563 91.8718C71.8274 88.5942 82.8016 83.6226 88.8412 74.2195C89.4427 73.2865 89.9953 72.3045 90.4986 71.2733C89.7375 70.4263 89.0378 69.5548 88.3872 68.6464Z\"\n      fill=\"#FFD000\"\n    />\n    <path\n      d=\"M250.855 252.78C252.168 253.541 253.568 254.143 255.016 254.56C257.619 255.309 260.393 255.444 263.081 254.843C267.058 253.959 270.606 251.663 273.074 248.41C274.24 246.864 271.821 245.047 270.655 246.606C266.653 251.946 259.313 253.75 253.347 250.853C253.015 250.694 252.684 250.522 252.365 250.325C251.702 249.92 250.855 249.945 250.339 250.62C250.229 250.779 250.143 250.964 250.106 251.16L250.855 252.78Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M303.198 185.977C301.626 180.256 298.042 175.113 293.205 171.663C290.787 169.945 288.062 168.643 285.177 167.907C281.421 166.962 277.579 166.876 273.736 166.63C267.513 166.225 259.227 164.752 257.189 157.779C256.968 157.031 255.949 156.736 255.298 157.006C254.5 157.338 254.316 158.148 254.525 158.897C256.158 164.58 261.952 167.686 267.365 168.84C274.092 170.288 281.249 169.061 287.681 171.909C292.653 174.106 296.741 178.267 299.012 183.178C301.368 188.284 301.602 194.054 299.65 199.332C297.465 205.237 292.923 210.159 287.08 212.565C285.214 213.339 286.429 216.187 288.295 215.45C299.601 210.945 306.426 197.773 303.198 185.977Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M299.429 220.225C296.569 216.874 292.211 214.935 287.792 215.487C285.926 215.72 286.344 218.581 288.209 218.372C291.315 218.016 294.458 219.354 296.594 221.6C298.938 224.055 299.92 227.431 299.614 230.782C298.975 237.915 293.181 243.034 286.638 245.059C282.182 246.434 277.394 246.373 272.828 245.71C270.851 245.415 270.495 248.508 272.472 248.803C281.126 250.092 290.775 248.84 297.22 242.395C300.153 239.461 302.154 235.717 302.621 231.568C303.099 227.542 302.08 223.331 299.429 220.225Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M234.221 110.15C234.05 109.635 233.694 109.18 233.276 108.837C232.748 108.407 232.085 108.26 231.41 108.284C230.674 108.309 229.986 108.616 229.397 109.058C229.102 108.468 228.746 107.916 228.341 107.413C227.961 106.946 227.359 106.75 226.782 106.909C226.267 107.057 225.714 107.572 225.714 108.149C225.714 109.205 225.874 110.236 226.303 111.218C226.598 111.893 227.003 112.495 227.47 113.047C227.519 113.931 228.415 114.545 229.164 114.41C229.544 114.336 229.912 114.152 230.146 113.833C230.219 113.722 230.269 113.624 230.306 113.514C231.226 114.017 232.38 113.87 233.252 113.293C234.307 112.605 234.602 111.292 234.221 110.15Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M60.2515 185.719L68.5744 189.88L76.5413 183.546L74.9085 170.878C74.9085 170.878 61.516 166.176 68.9305 155.312C76.3449 144.448 84.4958 158.209 84.4958 158.209L87.9331 138.482L80.5186 131.964L82.5074 128.343L98.9811 118.755C98.9811 118.755 105.315 120.56 109.121 125.998C112.926 131.424 114.19 135.045 114.19 135.045C114.19 135.045 118.72 131.964 118.352 128.895C117.996 125.814 116.903 124.365 116.903 124.365C116.903 124.365 123.422 117.491 117.628 111.881C111.834 106.271 105.684 108.984 105.684 108.984C105.684 108.984 106.408 98.1201 101.154 97.7641C95.9 97.4081 86.6809 105.179 81.427 105.903C76.173 106.627 52.0394 109.549 45.4105 120.928C38.7817 132.295 33.8222 146.805 35.0989 154.416C36.3632 162.015 44.686 171.97 50.6642 174.867C56.6424 177.764 63.517 181.017 63.517 181.017L60.2515 185.719Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M194.19 153.864C194.19 153.864 179.705 147.959 178.539 136.248C177.361 124.537 179.472 119.516 179.472 119.516C179.472 119.516 169.406 124.709 165.416 132.136C161.439 139.55 158.898 147.701 158.898 147.701C158.898 147.701 148.587 135.217 171.567 117.835C194.547 100.465 219.171 105.706 233.644 116.202C248.117 126.698 250.474 145.516 252.291 150.954C254.095 156.38 256.821 166.151 265.868 168.152C274.915 170.141 292.838 172.854 297.539 189.328C302.241 205.802 289.032 217.377 289.032 217.377C289.032 217.377 296.999 219.906 296.274 228.597C295.55 237.289 285.411 245.967 281.789 246.52C278.168 247.06 272.202 247.244 272.202 247.244C272.202 247.244 267.857 253.578 260.798 254.302C253.74 255.027 250.487 249.957 250.487 249.957C250.487 249.957 227.506 205.802 214.47 199.639C201.433 193.489 195.823 197.466 195.823 197.466C195.823 197.466 201.617 180.637 199.985 176.475C198.352 172.314 196.179 171.774 196.179 171.774C196.179 171.774 207.939 169.785 205.226 159.289C202.514 148.794 194.19 153.864 194.19 153.864Z\"\n      fill=\"#00122B\"\n    />\n    <path\n      d=\"M200.5 52.6267C199.395 61.4529 194.903 69.4075 188.654 75.6435C187.402 76.8956 186.088 78.0618 184.701 79.1543C183.793 79.8785 182.86 80.566 181.903 81.2166C177.25 84.4082 172.045 86.7897 166.619 88.3242C168.178 93.3203 169.112 98.4761 169.345 103.705C169.394 104.835 168.056 106.038 167.013 105.093C161.759 100.354 157.045 95.0758 152.932 89.3308C150.158 90.2269 147.015 90.0059 144.167 89.8832C140.435 89.7236 136.729 89.3062 133.046 88.6679C127.215 92.9398 121.678 97.4327 116.388 102.208C115.234 103.251 113.699 101.778 114.117 100.514C115.516 96.1806 116.805 91.8104 117.984 87.4035C115.897 87.3667 113.81 87.1825 111.748 86.7897C103.02 85.1571 94.8931 80.7133 88.8412 74.2195C88.5343 73.9003 88.2521 73.5689 87.9575 73.2497C87.5647 72.7955 87.172 72.3413 86.816 71.8626C81.1815 64.755 78.309 55.8061 78.2599 46.7344C78.2477 45.8997 78.2842 45.0772 78.3334 44.2425C78.3947 43.1745 78.4929 42.1065 78.6402 41.0508C79.7082 33.3663 82.9614 26.0992 88.0435 20.1455C94.5496 12.4978 103.363 7.14564 112.864 4.05218C123.053 0.725497 134.004 -0.403854 144.683 0.123997C154.688 0.615021 164.778 2.80008 173.727 7.37888C182.209 11.6999 189.501 18.12 194.411 26.3201C195.332 27.8546 196.167 29.4381 196.916 31.083C197.345 32.016 197.751 32.9858 198.107 33.9433C200.329 39.8847 201.298 46.268 200.5 52.6267Z\"\n      fill=\"#6817FF\"\n    />\n    <path\n      d=\"M182.467 49.7788C182.025 49.2141 180.982 48.9563 180.405 49.521C177.643 52.2462 174.439 54.468 170.879 56.0393C167.786 57.4019 164.312 58.4945 160.887 58.4331C158.137 58.384 154.921 57.6474 153.472 55.045C153.263 54.6645 153.104 54.2716 152.994 53.8788C156.456 51.4605 159.61 48.6003 162.385 45.5069C163.551 44.2056 164.631 42.8553 165.662 41.4559C165.957 41.0508 166.067 40.4616 165.834 40.0074C164.938 38.1415 163.022 37.5891 161.095 38.0801C159.143 38.5712 157.597 39.7251 156.148 41.0877C153.043 43.997 149.863 47.9252 149.863 52.4058C147.494 53.9402 144.99 55.3396 142.314 56.248C139.785 57.1073 136.863 57.5247 134.359 56.383C132.874 55.7079 131.867 54.5908 131.241 53.2405C132.947 52.0498 134.629 50.8222 136.286 49.5578C139.294 47.2623 142.203 44.844 145.027 42.3152C146.978 40.5598 151.385 37.54 148.992 34.5079C147.469 32.5929 144.265 32.507 142.117 33.084C140.583 33.5013 139.11 34.3115 137.722 35.0972C136.213 35.9442 134.752 36.8771 133.426 37.9819C131.02 39.9951 128.909 42.6221 128.062 45.691C127.485 47.7656 127.362 49.9875 127.804 52.0866C126.061 53.265 124.293 54.4067 122.489 55.4869C120.144 56.8986 116.977 58.4699 114.301 56.9968C113.061 56.3094 112.189 55.1309 111.649 53.8297C114.694 51.9516 117.456 49.5824 119.776 46.8572C121.851 44.4266 123.876 41.5173 124.944 38.4852C125.484 36.9385 125.41 35.1217 124.122 33.9801C123.201 33.1576 121.887 32.998 120.709 33.2067C117.713 33.7346 115.663 35.7969 113.81 38.0433C111.575 40.7439 109.415 43.7146 108.507 47.1518C108.04 48.8827 107.942 50.7117 108.237 52.4671C107.647 52.774 107.058 53.0564 106.445 53.3264C105.205 53.8666 103.928 54.333 102.639 54.7136C101.89 54.9345 101.596 55.9411 101.866 56.604C102.197 57.3896 103.007 57.5983 103.756 57.3774C105.597 56.8373 107.39 56.113 109.096 55.2537C109.17 55.4255 109.243 55.5974 109.329 55.757C110.741 58.4331 113.257 60.4094 116.363 60.4954C120.279 60.6181 123.729 58.1998 126.884 56.1621C127.534 55.7447 128.184 55.3151 128.823 54.8854C130.222 57.4878 132.665 59.231 135.587 59.7957C138.913 60.434 142.449 59.4765 145.493 58.1385C147.212 57.3774 148.881 56.4935 150.502 55.5115C151.582 58.1507 154 60.078 156.897 60.8391C160.948 61.8948 165.122 61.1951 169.038 59.9062C173.96 58.2858 178.527 55.4992 182.209 51.8411C182.774 51.2764 182.995 50.4539 182.467 49.7788ZM112.901 44.2425C113.663 42.9535 114.559 41.7505 115.491 40.5844C116.302 39.5655 117.099 38.4484 118.106 37.6137C118.879 36.9753 119.776 36.4229 120.746 36.1529C121.102 36.0547 121.519 35.9933 121.826 36.0178C121.985 36.0301 122.01 36.0055 122.231 36.1283C122.145 36.0792 122.256 36.1529 122.305 36.2511C122.747 37.1104 121.605 38.878 121.15 39.7373C120.537 40.8912 119.825 42.0083 119.051 43.064C116.854 46.0961 114.104 48.7231 110.986 50.7854C110.888 48.4898 111.723 46.2188 112.901 44.2425ZM131.683 44.4757C133.009 42.0206 135.181 40.1179 137.489 38.608C138.692 37.8223 139.969 37.1472 141.27 36.5334C142.277 36.0547 143.222 35.6864 144.352 35.6741C144.757 35.6741 145.186 35.7109 145.591 35.7969C145.947 35.8705 146.352 36.0424 146.512 36.1406C146.586 36.1897 146.659 36.2511 146.721 36.3125C146.659 36.2756 146.61 36.2756 146.733 36.3615C146.733 36.4106 146.733 36.472 146.696 36.5702C146.561 36.9139 146.242 37.184 145.984 37.4418C143.59 39.7128 141.111 41.8978 138.57 43.9847C135.955 46.1329 133.267 48.2198 130.493 50.1961C130.345 48.2198 130.787 46.1329 131.683 44.4757ZM155.682 45.8629C156.885 44.353 158.321 42.794 159.954 41.726C160.58 41.3086 161.329 40.9649 162.078 40.8421C162.213 40.8176 162.348 40.8053 162.458 40.8053C159.794 44.2425 156.713 47.3114 153.276 49.9629C153.804 48.4653 154.737 47.0413 155.682 45.8629Z\"\n      fill=\"#FFD000\"\n    />\n    <path\n      d=\"M220.264 44.5863C216.827 49.4474 213.967 54.775 211.978 60.3973C211.364 62.1527 214.004 63.2084 214.679 61.453C216.717 56.1008 219.307 51.031 222.609 46.3294C223.689 44.8073 221.344 43.0518 220.264 44.5863Z\"\n      fill=\"#6817FF\"\n    />\n    <path\n      d=\"M209.916 68.2414C209.118 68.2414 208.381 68.6833 208.295 69.5303C208.209 70.2546 208.786 71.1507 209.584 71.1507C210.382 71.1507 211.119 70.7088 211.205 69.8617C211.291 69.1498 210.713 68.2414 209.916 68.2414Z\"\n      fill=\"#6817FF\"\n    />\n    <path\n      d=\"M61.3072 55.9411C60.8407 52.8599 56.9493 51.2641 54.2364 50.8713C51.3639 50.4539 48.3563 51.3009 46.4167 53.5105C44.4894 55.6956 43.7652 59.1328 45.2506 61.7475C45.6434 62.4349 46.38 62.8645 47.1657 62.5208C47.8285 62.2385 48.3317 61.2933 47.9389 60.6058C46.8832 58.7277 47.4849 56.3708 49.093 54.9836C51.1185 53.2282 54.1874 53.5228 56.4461 54.6399C56.9617 54.8977 57.514 55.2169 57.9314 55.622C58.4838 56.1621 58.4224 56.7759 58.2628 57.4756C57.9682 58.8013 57.3913 60.0657 56.7898 61.2687C55.5377 63.7852 53.9663 66.1913 53.242 68.941C52.8738 70.3527 52.3829 72.3536 53.3895 73.6057C54.6661 75.2015 57.0598 74.109 56.9616 72.1817C56.9247 71.5066 56.4338 71.126 55.8692 71.0033C55.8937 70.77 55.9303 70.5491 55.9672 70.3158C56.1022 69.6407 56.3231 68.9901 56.5687 68.3517C57.0965 67.0137 57.7717 65.7371 58.4469 64.4849C59.1588 63.1715 59.871 61.858 60.4234 60.4585C60.9635 59.0714 61.5281 57.4387 61.3072 55.9411Z\"\n      fill=\"#6817FF\"\n    />\n    <path\n      d=\"M57.3424 78.5651C56.5444 78.5651 55.8078 79.007 55.7219 79.854C55.636 80.5783 56.213 81.4744 57.0109 81.4744C57.8088 81.4744 58.5454 81.0325 58.6314 80.1855C58.7173 79.4612 58.1403 78.5651 57.3424 78.5651Z\"\n      fill=\"#6817FF\"\n    />\n  </svg>\n);\n\nexport const VideoIcon = () => (\n  <svg\n    css={sizeCss}\n    viewBox=\"0 0 264 253\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M25.8563 27.8784C19.6263 32.5384 7.52638 49.3283 6.47638 107.968C5.42638 166.608 25.4363 232.338 91.8863 240.968C163.286 250.248 239.116 181.768 252.546 131.888C272.016 59.5184 250.446 51.3684 156.046 22.1284C104.546 6.17838 64.1963 4.47837 59.3963 6.68837C54.6263 8.89837 32.0863 23.2284 25.8563 27.8784Z\"\n      fill=\"#FFCE1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M148.886 31.4184C147.966 27.3084 146.936 23.8884 146.136 19.2584C145.946 18.1884 145.686 15.8684 144.996 15.4584C143.786 14.7284 140.536 16.0684 139.486 16.4084C134.346 18.0884 128.776 19.5484 123.056 20.4984C126.896 23.0184 130.956 26.1484 135.406 28.3784C136.216 27.6584 136.506 26.5284 136.926 25.5284C137.856 23.3184 138.536 22.0984 140.056 19.9184C140.636 19.0984 141.196 17.7784 142.426 17.9284C144.896 18.2184 142.226 21.2284 141.756 21.9184C141.086 22.9084 140.596 23.8484 140.046 24.9584C139.146 26.7484 138.326 30.5484 136.056 30.9384C134.206 31.2684 132.516 29.9584 131.116 29.0384C128.246 27.1684 125.806 25.5784 122.946 23.7184C121.786 22.9584 119.716 21.8284 119.816 20.1084C119.926 18.1684 122.666 17.8884 124.946 17.4484C129.306 16.6084 133.646 15.5184 137.386 14.3184C139.466 13.6484 143.636 11.7984 146.216 13.0884C148.486 14.2184 148.756 19.3084 149.356 22.2084C149.716 23.9884 149.986 25.5084 150.496 27.2384C150.796 28.2584 151.866 30.5084 151.356 32.2684C150.566 34.9384 143.456 36.3184 140.816 37.0184C136.836 38.0784 132.666 39.8184 128.466 39.8684C123.096 39.9384 122.656 35.5084 121.626 31.1284C121.366 30.0384 120.927 28.5084 120.587 26.8584C120.287 25.3984 119.796 23.2084 121.436 23.1584C122.756 23.1184 122.896 24.9184 123.146 26.1084C123.756 28.9484 124.186 30.8584 124.956 33.6084C125.266 34.7384 125.576 36.3684 126.286 36.8384C127.596 37.7084 130.926 37.0284 132.556 36.6484C134.746 36.1484 136.596 35.4984 138.156 35.0384C141.826 33.9484 146.126 33.2684 148.886 31.4184Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M84.0163 40.0584C83.2163 39.3384 82.5163 38.6984 81.5463 37.8684C81.0063 37.4084 79.4263 36.6884 79.4563 35.3984C79.5163 33.1784 83.4163 34.5084 85.2463 34.7384C86.0763 34.8384 86.9563 34.8984 87.8063 35.0284C88.7363 35.1684 89.6863 35.5184 90.2763 35.4084C91.0663 35.2584 92.2764 33.5384 93.3164 32.7484C95.1764 31.3284 98.5463 29.8884 101.486 31.2284C104.646 33.2684 107.556 36.2784 109.366 39.2084C110.496 41.0284 111.726 44.2084 110.506 46.6184C109.396 48.8084 106.666 50.6484 104.526 52.0384C101.206 54.1784 97.8262 56.9984 94.6462 59.4484C92.4362 61.1484 89.3563 64.3484 85.5263 62.9684C84.7963 62.6984 83.7363 61.9484 83.0563 61.3484C81.8163 60.2584 80.5764 58.5584 79.3464 56.7884C77.7264 54.4584 75.3362 51.5284 76.4062 47.9584C77.5062 44.3084 81.0463 42.1384 84.0163 40.0584ZM87.5263 40.0584C87.6363 41.2884 86.3862 41.7484 85.4362 42.3384C82.9362 43.8984 79.6962 46.0384 78.8862 48.8884C78.3762 50.6884 79.7262 52.4984 80.4062 53.5384C80.9762 54.4184 81.6163 55.2784 82.2163 56.0984C83.2963 57.6084 84.7664 59.9584 86.5864 60.4684C89.0064 61.1384 91.9863 58.1384 93.2363 57.1484C96.6863 54.4084 100.046 51.7384 103.776 49.2684C105.226 48.3084 108.096 46.6684 108.436 44.7084C108.806 42.5584 106.836 40.2584 105.496 38.5384C104.016 36.6384 102.636 34.9584 100.936 33.9784C100.256 33.5884 99.6264 33.4384 98.8464 33.4084C96.1964 33.2884 94.9363 35.1884 92.9563 36.6384C92.9863 39.8784 87.1162 37.1584 85.1662 37.3984C85.5562 38.3884 87.4063 38.6684 87.5263 40.0584Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M177.486 39.2084C178.216 39.1984 179.226 39.4584 179.196 40.6384C179.166 42.1384 177.336 42.0484 175.966 42.2484C168.846 43.3284 162.506 44.2284 156.396 46.7084C154.686 47.4084 151.116 48.7684 150.696 50.6984C150.346 52.2784 151.066 53.7684 151.266 54.8784C151.496 56.1884 151.826 57.5484 152.026 58.8684C152.416 61.4684 152.726 64.7784 154.496 65.7984C155.946 66.6384 159.566 66.7584 161.716 66.7484C164.306 66.7284 167.116 66.1484 170.166 65.6084C172.986 65.1084 175.906 64.5884 178.236 63.8984C180.676 63.1784 184.296 61.7984 185.076 59.3384C185.536 57.8984 184.936 55.5084 184.606 54.1184C183.736 50.4484 183.207 48.4184 181.847 45.0984C181.307 43.7684 180.366 41.4784 182.416 41.3884C183.616 41.3384 184.107 42.9884 184.597 44.2384C185.867 47.4484 187.476 52.4884 187.916 55.9184C188.446 60.0084 187.156 62.3384 184.876 63.9884C181.556 66.3984 176.256 67.5884 170.726 68.4484C165.266 69.2984 158.756 70.4684 154.106 68.7384C149.926 67.1784 149.457 61.5984 148.597 56.1984C148.267 54.1584 147.316 52.3784 147.936 49.9284C148.556 47.4784 151.716 45.5484 154.106 44.5084C157.016 43.2484 160.916 41.9884 165.026 41.1884C169.086 40.3984 173.376 39.4284 177.276 39.1984C177.356 39.1984 177.416 39.2084 177.486 39.2084Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M36.6163 45.3784C39.1163 45.2984 41.8064 46.0184 44.3064 46.5184C51.1264 47.8684 59.3564 49.8084 63.7764 53.1684C65.1964 54.2484 66.6364 55.8284 66.7264 57.9184C66.7764 59.1884 66.2564 60.4784 65.9664 61.8084C64.9364 66.6284 64.6963 72.8284 61.1263 74.9184C57.1263 77.2584 48.2863 75.7785 43.6463 74.8185C37.9763 73.6485 32.3263 72.4684 28.9263 69.5984C27.2463 68.1784 26.0663 66.0684 26.3663 62.9484C26.7663 58.6284 28.4865 54.1584 30.0665 50.4084C30.6665 48.9784 31.0763 47.2584 32.4363 47.3684C34.6163 47.5384 33.1764 50.1984 32.7264 51.2584C31.3264 54.5584 30.6664 56.5484 29.7864 60.2784C29.4464 61.7184 28.8364 63.8984 29.3064 65.4084C29.9464 67.4484 32.7963 68.8084 34.9063 69.5884C37.3363 70.4884 39.9464 71.1484 42.5064 71.6784C46.4364 72.4884 50.4864 73.5884 55.5164 73.2884C56.9464 73.2084 58.6365 73.0484 59.5965 72.5284C62.0765 71.1984 62.4063 65.0884 63.1163 61.7984C63.3663 60.6184 64.0463 59.1584 63.8763 57.8084C63.5963 55.6684 60.0963 54.2284 58.3663 53.4384C52.4563 50.7484 46.2963 49.5184 38.8963 48.3084C37.6963 48.1084 35.6765 48.0484 35.5765 46.7884C35.5065 46.0484 36.0463 45.5384 36.6163 45.3784Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M208.066 46.9984C211.766 46.5784 214.646 47.7984 216.516 49.6584C217.296 50.4384 219.456 53.1084 217.276 53.3584C216.296 53.4684 215.756 52.3484 215.286 51.8384C214.596 51.1084 213.996 50.4484 213.486 50.1284C210.406 48.1984 204.906 49.3284 202.846 51.8384C200.106 55.1684 201.846 60.5284 203.896 62.4784C208.206 66.5784 219.286 64.1584 217.666 56.9684C217.396 55.7384 216.186 53.6484 217.856 53.4584C219.716 53.2384 220.306 57.4384 220.136 59.0584C219.656 63.7084 214.966 66.8184 209.876 66.8484C203.646 66.8784 199.196 62.6084 199.146 56.4984C199.096 50.9084 202.706 47.6084 208.066 46.9984Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M163.516 49.2784C164.066 46.9884 166.236 48.3084 167.696 48.9884C169.586 49.8684 173.306 51.0584 174.436 52.4984C176.326 54.8984 173.436 57.2984 171.776 58.6784C170.196 59.9884 168.966 61.0584 167.596 61.7184C162.616 64.0884 161.876 56.8684 161.616 52.6984C161.506 50.9484 161.256 48.5984 163.516 49.2784ZM165.796 59.2484C168.326 58.0084 170.396 56.3184 172.066 54.2184C169.646 52.8684 166.956 51.7884 164.376 50.6084C164.556 53.6784 164.786 56.7784 165.796 59.2484Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M210.826 55.2583C211.846 54.8183 212.516 54.0383 214.146 54.2083C216.266 55.1783 214.846 58.2583 213.576 59.5283C212.166 60.9383 209.796 61.8583 207.686 61.8983C207.406 61.6083 206.976 61.4783 207.016 60.8583C205.836 60.1883 205.126 58.5883 204.646 56.6783C204.366 55.5983 204.186 54.1383 204.736 53.2583C206.166 50.9783 210.276 52.9883 210.826 55.2583ZM208.166 59.6283C210.036 59.2583 211.966 58.4283 212.436 56.9683C211.636 57.3283 211.146 58.3283 210.156 58.1983C208.646 58.0083 208.896 54.3283 206.736 54.5883C206.716 56.7683 207.796 57.8383 208.166 59.6283Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M50.9564 55.8284C54.0364 54.6484 52.7564 60.0284 52.4764 61.7184C51.9764 64.7484 50.9864 70.2484 46.7764 68.1784C45.2264 67.4084 44.1664 66.3384 42.6964 65.0484C41.6764 64.1484 39.7664 62.7084 39.4664 61.1584C39.2664 60.1384 39.5563 59.2084 40.1363 58.5984C41.6463 56.9784 46.4364 55.7184 48.7764 54.6084C49.6264 54.1884 51.0064 54.4884 50.9564 55.8284ZM42.3165 60.5784C44.0965 62.5684 46.0264 64.3984 48.4864 65.7084C49.5064 63.3384 50.0563 59.9984 50.1063 56.9684C47.6663 58.3284 44.5765 59.0484 42.3165 60.5784Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M106.046 58.8684C111.286 58.2384 115.606 60.5784 117.156 63.9984C120.376 71.0984 114.976 78.7384 107.466 78.8184C104.516 78.8484 102.346 77.7983 100.626 76.5383C98.6862 75.1183 96.8363 73.1483 97.0163 69.7983C97.0963 68.2983 97.5862 65.2384 99.2062 65.3384C101.306 65.4584 99.2363 68.6984 99.2963 70.3684C99.5163 75.8984 108.696 78.4983 113.166 74.4483C115.326 72.4883 116.856 67.0584 114.306 63.8084C112.486 61.4884 107.216 59.8883 103.756 62.0083C103.236 62.3283 102.426 63.0184 101.856 63.6184C101.246 64.2684 100.936 65.2883 99.9562 65.2383C99.6662 65.2183 99.0062 64.8183 98.9162 64.4783C98.6262 63.4383 100.006 62.2383 100.716 61.5383C102.106 60.1783 103.736 59.1484 106.046 58.8684Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M237.226 67.0384C240.856 64.8184 250.046 64.6484 248.526 70.7384C250.276 72.0884 251.446 75.2284 249.566 77.4784C250.336 78.9384 251.976 79.8884 251.366 81.9384C250.356 85.3184 244.056 87.0384 240.156 88.1084C238.416 88.5884 234.706 89.9884 234.646 87.8184C234.606 86.5084 236.606 86.2584 237.966 85.9184C241.136 85.1184 243.066 84.6984 245.856 83.4484C246.746 83.0484 248.706 82.0884 248.796 81.2584C248.966 79.7284 246.526 79.3884 246.416 77.9384C246.316 76.5384 248.066 75.8284 247.936 74.4184C247.816 73.1184 245.826 72.6484 245.656 71.5684C245.506 70.6184 246.236 70.1784 246.126 69.4784C245.956 68.2984 244.086 68.0384 242.516 68.1484C241.296 68.2384 239.996 68.6784 238.816 69.1884C237.576 69.7284 236.026 70.9884 235.016 70.3284C234.426 69.9484 234.616 68.7684 234.636 67.8584C234.716 64.9584 234.186 63.8184 231.976 62.7284C233.006 65.9484 232.396 69.4184 231.126 72.0384C230.526 73.2584 229.617 75.7184 228.087 75.5584C227.697 75.5184 227.146 75.1584 227.046 74.6984C226.736 73.3584 228.166 72.3284 228.666 71.3684C229.416 69.9384 230.066 68.3384 229.896 66.0484C229.716 63.5884 228.236 59.6384 232.076 60.0684C235.016 60.4284 237.146 63.2884 237.226 67.0384Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M109.466 73.7784C107.346 73.7284 104.996 72.8184 103.576 71.3984C102.336 70.1684 100.856 67.1684 103.006 66.0784C104.586 65.9284 105.326 66.6084 106.236 67.1284C106.936 64.3984 112.636 62.4884 112.786 66.5584C112.846 68.0884 111.746 71.1684 111.176 71.9784C110.946 72.2884 110.646 72.4584 110.136 72.6484C110.216 73.3284 109.776 73.4884 109.466 73.7784ZM106.906 70.0784C105.876 70.1484 105.536 69.1184 104.626 68.8484C105.406 70.4084 107.066 71.0984 108.996 71.5084C109.356 69.7184 110.446 68.6484 110.416 66.4784C108.196 66.2584 108.526 69.9684 106.906 70.0784Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M232.956 89.9284C232.606 90.3284 232.276 90.7884 231.716 90.7884C230.466 90.7884 230.257 88.9584 229.817 87.6584C228.947 85.0584 228.076 82.7984 226.966 80.4384C226.526 79.5084 225.666 77.7084 224.876 77.5884C223.866 77.4284 222.646 78.4484 222.506 79.2984C222.326 80.2984 222.986 81.6984 223.356 82.6184C224.436 85.3184 225.466 89.1584 226.966 91.2684C228.036 90.7984 230.126 89.6384 230.386 91.4584C230.636 93.2384 227.536 94.1584 226.106 93.7384C224.056 93.1384 223.136 89.7284 222.406 87.5684C221.966 86.2684 221.626 85.0284 221.176 83.8584C220.576 82.3384 219.556 80.9084 219.946 78.7284C220.346 76.4384 223.686 73.9584 226.406 75.3084C228.346 76.2684 229.546 79.9384 230.396 81.9584C231.596 84.7984 232.446 86.7284 232.956 89.9284Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M48.5864 98.0084C50.1164 96.6784 53.5663 97.1984 54.7663 98.7684C56.5163 96.9984 59.6963 97.4584 61.6963 98.7684C62.4463 99.2584 63.7863 100.018 63.6863 101.138C63.5563 102.568 59.3264 103.458 58.0764 103.898C55.8364 104.688 53.9862 105.328 51.9062 105.988C52.7362 108.328 53.9263 110.298 54.9463 112.448C56.5363 110.148 58.1562 108.188 61.1162 107.218C63.6762 106.388 67.1562 106.638 68.9062 104.658C70.3962 102.968 71.1162 100.568 72.6062 98.7684C74.6362 96.3284 77.0663 95.2684 80.2063 94.1184C78.6763 90.1084 77.0964 86.1484 75.5564 82.1484C66.8064 85.5384 57.5562 89.0084 48.3862 92.4984C47.4362 92.8584 45.1163 93.8584 44.9663 92.1184C44.8463 90.7484 46.9763 90.2984 48.1963 89.8384C57.2663 86.4184 66.9164 82.3284 75.8364 79.2984C77.6164 78.6984 78.1263 81.6584 78.6863 83.0984C81.4163 90.1284 84.1063 96.9884 86.9463 104.088C87.7163 106.008 88.6463 107.668 87.5163 109.598C86.4763 111.378 83.9362 112.758 81.6262 113.868C77.3362 115.948 71.7862 118.118 67.3762 119.948C65.2062 120.848 62.5263 122.158 59.7763 122.418C56.0363 122.768 55.6562 120.868 54.6462 118.238C52.4862 112.588 49.5063 107.718 47.2363 101.808C46.7863 100.648 46.5363 99.7784 46.0063 98.2984C45.6263 97.2684 44.1162 94.2884 46.3862 94.3084C48.0562 94.3184 47.8264 96.6784 48.5864 98.0084ZM75.0864 99.9084C72.9164 102.128 71.9264 106.558 68.5364 108.168C66.3464 109.208 63.3062 108.888 61.1262 109.878C59.6062 110.568 58.6463 111.808 57.7063 113.108C57.3263 113.638 56.3862 114.688 56.3762 115.388C56.3662 115.988 56.9863 116.918 57.2363 117.568C57.5563 118.438 57.7663 119.258 58.1863 119.758C60.9763 119.898 63.5062 118.738 65.8862 117.768C70.5962 115.828 75.0363 114.078 79.7563 111.878C81.3263 111.148 85.2563 109.558 85.4563 107.698C85.5463 106.818 84.8663 105.718 84.5063 104.848C83.3163 101.958 82.3063 99.2084 81.1863 96.5884C79.3263 97.0184 76.6264 98.3284 75.0864 99.9084ZM54.6562 101.998C53.5162 101.968 52.9263 100.128 51.7163 99.8184C51.0263 99.6384 50.2262 99.8784 49.6262 100.768C50.0162 101.708 50.4263 102.628 50.7663 103.618C53.8063 102.698 56.6864 101.628 59.5964 100.578C57.4064 98.6784 56.1762 102.038 54.6562 101.998Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M62.0665 91.2583C63.5165 89.6383 65.0464 87.7683 67.7664 87.6483C71.0264 87.4983 73.5364 89.9383 73.5564 92.7783C73.5964 97.7883 66.5965 100.438 63.5765 96.7683C62.5565 95.5083 62.0065 93.8083 62.0665 91.2583ZM65.8663 95.4383C67.8963 97.0583 71.3863 94.7483 70.8963 92.2983C70.6563 91.0883 69.0064 90.0683 67.4764 90.3083C66.2464 90.4983 65.2464 91.6683 64.5364 92.2983C65.0464 93.6583 64.9363 94.6983 65.8663 95.4383Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M232.856 119.568C231.136 123.388 229.746 127.538 228.106 131.438C231.046 132.648 233.556 133.708 235.606 136.088C237.376 138.128 238.446 142.128 240.736 143.208C243.196 144.378 246.406 143.888 248.806 145.198C250.886 146.328 251.816 147.758 253.266 149.858C254.446 147.868 255.466 145.718 256.406 143.498C253.466 142.298 250.416 141.448 247.096 140.268C246.126 139.928 244.746 139.518 244.626 138.648C244.386 136.948 247.876 135.138 249.566 134.948C251.366 134.738 252.496 135.498 253.456 136.178C254.876 134.848 257.906 133.798 259.726 135.518C260.356 134.408 260.236 131.818 261.816 131.718C264.106 131.578 262.686 134.708 262.296 135.808C260.346 141.248 257.536 147.088 255.076 152.428C254.636 153.368 254.016 154.458 253.556 155.658C252.566 158.248 252.556 160.158 248.616 159.838C245.786 159.608 243.246 158.338 240.926 157.368C236.796 155.658 230.776 153.268 226.676 151.288C224.156 150.068 220.436 148.328 220.216 145.308C220.116 144.018 220.876 142.608 221.356 141.408C224.146 134.498 227.106 126.948 229.806 119.938C230.176 118.968 230.806 116.438 231.986 116.608C233.336 116.808 234.676 117.598 236.076 118.128C243.996 121.138 251.836 124.118 260.016 127.248C260.976 127.618 263.376 128.028 263.336 129.438C263.286 131.258 260.956 130.308 259.916 129.908C250.926 126.488 241.566 123.008 232.856 119.568ZM223.836 142.368C223.466 143.288 222.756 144.348 222.886 145.218C223.016 146.128 224.386 146.998 225.356 147.588C226.416 148.248 227.596 148.838 228.586 149.298C233.366 151.528 237.806 153.278 242.456 155.188C244.826 156.168 247.366 157.328 250.146 157.188C250.916 155.868 251.336 154.198 251.946 152.728C250.576 150.438 249.516 148.368 247.196 147.308C244.766 146.198 241.826 146.728 239.496 145.508C236.486 143.918 235.696 139.848 233.226 137.338C231.536 135.608 229.706 134.878 227.246 134.008C226.256 135.808 224.906 139.748 223.836 142.368ZM257.276 137.138C255.806 137.018 254.876 139.448 253.576 139.418C252.526 139.398 251.636 137.628 250.446 137.518C249.886 137.468 249.336 137.598 248.736 138.088C251.786 138.958 254.506 140.168 257.566 141.028C257.896 139.998 258.366 139.108 258.706 138.088C258.206 137.638 257.766 137.178 257.276 137.138Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M246.256 128.688C246.326 131.238 245.756 132.958 244.736 134.198C241.726 137.868 234.846 135.228 234.766 130.308C234.716 127.548 237.096 125.238 239.986 125.088C243.116 124.908 244.706 127.028 246.256 128.688ZM240.936 127.738C239.356 127.458 237.666 128.508 237.426 129.728C236.946 132.178 240.426 134.478 242.456 132.858C243.406 132.098 243.306 131.038 243.786 129.628C242.996 129.138 242.106 127.948 240.936 127.738Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M27.4964 149.678C28.2864 149.518 30.5764 150.018 32.0564 150.248C36.6064 150.968 40.6363 151.618 44.6863 152.718C47.1563 153.388 49.9063 154.168 52.1863 155.378C54.7563 156.748 57.9963 158.538 57.6063 162.878C57.5063 164.008 57.1463 165.178 56.9463 166.388C56.0863 171.488 55.7765 177.568 51.3465 179.208C46.4265 181.038 38.3963 179.768 33.3963 178.728C27.4363 177.498 21.7463 176.368 18.9563 173.028C17.7763 171.608 17.1664 169.398 17.5364 166.478C17.9664 163.028 19.5262 158.068 20.8562 154.698C21.2762 153.638 21.7163 151.858 22.9463 151.848C25.8663 151.828 22.9965 156.938 22.5665 158.118C21.5965 160.778 20.9865 163.128 20.5765 165.618C20.3565 166.958 20.1363 168.688 20.3863 169.698C20.7363 171.128 22.2764 172.268 23.5164 172.928C26.1464 174.328 29.2462 174.838 33.1062 175.688C36.9262 176.518 40.7464 177.188 43.7464 177.208C46.1864 177.228 49.2063 177.168 50.8663 176.258C52.8763 175.158 53.0363 171.958 53.4363 169.328C53.6363 168.028 53.9863 166.508 54.1963 165.338C54.4163 164.088 55.0264 162.618 54.7664 161.258C54.4164 159.388 50.9163 157.888 49.1563 157.178C42.9363 154.648 36.9463 153.838 29.6863 152.718C28.5463 152.538 26.4764 152.588 26.2664 151.388C26.0864 150.428 26.6764 149.848 27.4964 149.678Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M41.8364 159.748C45.0764 159.028 43.7863 164.428 43.4463 166.678C42.9863 169.778 41.7464 174.048 37.8464 172.188C36.4764 171.538 35.2463 170.458 33.6663 169.148C32.0863 167.828 29.0763 165.438 31.0063 162.968C31.7463 162.028 33.6164 161.328 35.2764 160.598C36.9964 159.838 38.3663 159.108 39.7363 158.508C40.6763 158.108 41.7464 158.588 41.8364 159.748ZM40.9863 161.078C38.4863 162.318 35.7662 163.328 33.3862 164.688C35.0562 166.788 37.1263 168.478 39.6562 169.718C40.6062 167.288 41.0363 163.978 40.9863 161.078Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M211.106 183.968C212.526 182.178 212.726 179.498 213.296 177.038C213.866 174.578 214.546 172.098 215.106 169.818C211.876 171.348 208.986 173.728 205.416 175.518C203.866 176.298 201.876 177.278 200.196 178.078C198.866 178.718 195.736 179.778 195.536 181.118C195.366 182.308 196.936 183.838 197.526 184.728C199.146 187.138 200.276 189.338 201.616 191.848C202.246 193.048 202.756 194.328 203.706 195.268C207.676 194.328 210.816 192.188 214.536 190.328C216.126 189.528 217.826 188.768 219.756 187.568C221.026 186.788 223.687 185.158 223.837 183.678C223.947 182.598 222.817 180.918 222.317 179.968C220.997 177.478 220.036 175.778 218.516 173.318C218.156 172.728 216.536 170.418 218.616 170.188C219.896 170.038 220.686 171.868 221.176 172.658C222.466 174.738 223.516 176.778 224.686 179.018C225.486 180.548 227.076 182.698 226.106 185.098C224.686 188.638 219.307 190.788 215.847 192.598C212.717 194.238 210.466 195.798 207.016 197.158C204.376 198.198 202.267 198.358 200.847 196.118C199.547 194.058 198.736 191.748 197.146 189.088C195.666 186.628 193.667 184.558 193.057 182.438C192.057 178.958 195.396 177.488 197.616 176.358C201.686 174.298 205.656 172.448 209.016 170.278C210.846 169.098 212.986 167.228 215.286 166.758C218.396 166.118 217.856 169.798 217.186 172.358C216.696 174.228 216.186 176.088 215.856 177.578C215.396 179.658 215.146 181.138 214.626 182.898C213.886 185.368 212.516 187.468 209.216 186.218C208.476 185.938 207.737 185.378 206.837 184.988C205.167 184.258 203.336 183.838 201.236 183.378C199.886 183.078 198.746 183.078 198.856 181.668C199.036 179.418 203.806 181.178 205.126 181.568C207.376 182.268 209.336 183.298 211.106 183.968Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M181.286 198.978C186.406 198.128 192.016 197.448 194.486 201.358C195.356 202.728 195.876 204.978 196.286 207.148C197.196 211.988 197.586 217.088 193.626 219.018C191.906 219.858 188.876 220.258 186.886 220.448C184.566 220.668 182.306 220.778 179.576 221.208C174.326 222.028 167.546 224.528 164.476 220.548C162.086 217.448 160.956 207.578 163.436 203.828C164.836 201.708 168.246 200.578 171.126 200.408C171.716 200.378 172.616 200.628 173.306 200.408C173.786 200.258 174.406 199.088 174.926 198.418C175.506 197.658 176.006 196.988 176.446 196.418C177.536 194.998 178.676 193.168 179.676 192.428C180.126 192.088 181.146 192.248 181.476 192.808C182.246 194.118 180.966 197.108 181.286 198.978ZM176.347 200.968C175.727 201.798 174.756 203.498 173.786 203.528C173.306 203.548 172.796 203.108 172.356 203.058C170.226 202.788 167.096 203.518 165.896 204.858C165.376 205.438 164.866 207.158 164.756 208.378C164.436 211.778 165.167 217.628 166.847 219.298C168.327 220.768 171.456 220.058 173.966 219.578C178.956 218.638 182.656 218.168 187.646 217.678C189.626 217.478 192.786 217.028 193.726 215.678C195.096 213.728 194.116 209.878 193.626 207.228C193.236 205.108 192.716 202.818 191.536 201.908C189.786 200.558 186.096 200.818 183.746 201.248C182.376 201.498 180.456 202.368 179.476 202.098C177.826 201.658 178.696 199.578 178.616 197.828C177.916 198.838 177.327 199.668 176.347 200.968Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M64.8962 125.448C64.8962 125.448 68.7864 106.868 77.8164 98.6584C86.8464 90.4484 103.086 82.8884 103.086 82.8884C103.086 82.8884 105.366 72.7484 111.066 68.2584C116.766 63.7684 124.086 60.3784 124.086 60.3784C124.086 60.3784 122.886 50.7184 125.416 50.2084C127.946 49.6984 133.016 58.3784 133.016 58.3784C133.016 58.3784 181.976 60.2984 204.836 73.4884C227.696 86.6684 237.656 100.598 239.706 100.848C241.756 101.098 247.216 97.8284 246.826 100.188C246.436 102.538 242.796 108.618 242.456 110.448C242.106 112.278 229.556 154.878 207.206 170.778C180.216 189.978 157.236 194.718 157.236 194.718L64.8962 125.448Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M65.8464 130.018C65.8464 130.018 69.7364 111.438 78.7664 103.228C87.7964 95.0184 104.036 87.4584 104.036 87.4584C104.036 87.4584 106.316 77.3184 112.016 72.8284C117.716 68.3384 125.026 64.9484 125.026 64.9484C125.026 64.9484 123.826 55.2883 126.356 54.7883C128.886 54.2783 133.956 62.9584 133.956 62.9584C133.956 62.9584 182.916 64.8784 205.776 78.0584C228.626 91.2384 238.586 105.168 240.636 105.418C242.686 105.668 248.146 102.398 247.756 104.748C247.366 107.098 243.726 113.178 243.386 115.008C243.046 116.838 230.486 159.438 208.146 175.328C181.156 194.518 158.186 199.268 158.186 199.268L65.8464 130.018Z\"\n      fill=\"#FFE380\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M80.6663 124.688C80.6663 124.688 67.1765 127.258 62.3265 135.618C57.4865 143.978 54.5365 150.628 54.5365 150.628C54.5365 150.628 11.1764 133.328 4.4664 100.748C-2.6436 66.2083 3.2465 39.4283 19.5765 25.5083C27.9565 18.3683 32.4063 17.9983 32.4063 17.9983C32.4063 17.9983 34.6664 14.8383 36.9664 13.7283C39.2564 12.6183 40.1964 11.7283 40.1964 11.7283C40.1964 11.7283 43.7665 6.93835 47.3165 5.93835C50.8765 4.93835 52.9464 5.13833 52.9464 5.13833C54.5064 4.24833 67.1064 -1.69168 67.2664 4.03832C67.4164 9.50832 59.8563 9.16833 59.8563 9.16833C59.8563 9.16833 60.8165 12.5583 58.5265 12.5883C56.2465 12.6183 54.3465 13.3484 54.3465 13.3484L59.4764 24.0883C59.4764 24.0883 44.5364 35.1083 36.2064 52.3083C28.8064 67.5683 38.9063 99.9383 51.1263 110.918C65.6363 123.948 80.6663 124.688 80.6663 124.688Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M128.166 95.5683C120.516 93.8183 111.626 97.5883 107.566 104.098C103.356 110.838 105.607 118.618 113.347 121.318C121.457 124.148 132.076 120.028 136.146 112.248C140.036 104.808 136.186 97.4083 128.166 95.5683Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M144.136 151.008C144.136 151.008 124.076 163.598 114.406 157.558C110.676 155.238 106.686 152.368 106.806 149.108C106.986 143.908 113.076 138.468 113.076 138.468L116.876 140.748L119.156 135.148C119.156 135.148 107.016 128.688 108.416 120.608C109.816 112.538 112.536 103.098 119.056 98.6583C125.576 94.2283 128.756 90.7383 129.316 89.5383C129.876 88.3383 132.066 85.5483 132.066 85.5483C132.066 85.5483 133.786 87.7783 139.956 89.7283C146.116 91.6783 162.916 96.1383 161.516 103.218C160.126 110.298 152.966 118.128 152.966 118.128L156.006 128.768C156.006 128.768 153.916 133.368 149.066 134.188C144.226 134.998 140.326 134.568 140.326 134.568C140.326 134.568 134.306 149.158 136.236 149.958C138.186 150.758 144.136 151.008 144.136 151.008Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M150.307 123.068C150.307 123.068 165.076 106.878 160.756 100.458C156.436 94.0284 147.646 91.5284 142.896 90.7684C138.146 90.0084 132.446 85.6384 132.446 85.6384L127.696 90.9584L122.756 95.7084C122.756 95.7084 121.707 93.7184 121.327 88.2984C120.957 82.8784 121.616 72.2484 121.616 72.2484L126.266 75.8584L127.406 74.4284L131.496 66.8284C131.496 66.8284 136.036 72.4384 144.606 75.8584C153.216 79.2884 167.576 84.0284 174.726 89.1684C181.206 93.8184 188.886 103.068 187.636 111.008C186.386 118.948 182.547 124.148 177.847 127.918C173.147 131.698 162.926 135.808 162.176 135.798C161.426 135.798 150.307 123.068 150.307 123.068Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M168.546 162.778C165.316 150.968 144.226 150.238 144.226 150.238C144.226 150.238 140.246 152.758 134.346 155.748C127.796 159.068 117.356 158.728 109.646 153.368C101.936 148.018 114.016 138.738 114.016 138.738C114.016 138.738 109.916 135.668 101.096 130.098C92.2764 124.528 79.1462 124.968 79.1462 124.968C79.1462 124.968 70.2262 126.748 64.6162 131.898C59.0062 137.058 54.7363 150.328 54.7363 150.328L59.2964 152.508C59.2964 152.508 50.6364 159.208 42.5764 166.858C36.2864 172.818 26.4463 183.068 22.4363 187.288C23.9863 191.078 25.2863 194.848 27.4263 198.398C29.6963 202.178 32.0864 205.538 34.8164 208.998C37.2364 212.058 39.4563 215.368 41.9563 218.388C43.0063 217.768 44.3763 217.648 45.4563 218.288C48.2863 219.968 51.5464 222.648 53.8164 225.788C58.3464 226.958 62.9963 228.518 66.7363 231.248C70.4863 232.208 74.0663 234.028 76.6763 236.418C76.8563 236.578 76.9962 236.758 77.1262 236.948C77.6962 237.018 78.2564 237.088 78.8264 237.148C79.0164 237.038 79.2163 236.948 79.4263 236.888C84.4963 235.418 90.1864 236.708 95.0364 238.448C95.4264 238.588 95.7564 238.788 96.0464 239.018C97.4364 239.218 98.3464 239.958 98.8064 240.878L114.326 213.598L125.816 196.398C125.816 196.398 133.006 192.428 143.386 194.408C153.776 196.378 154.886 215.498 154.886 215.498C154.886 215.498 175.056 186.598 168.546 162.778Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M20.6262 189.188C20.6262 189.188 34.5164 174.508 42.5764 166.868C50.6364 159.228 59.2964 152.528 59.2964 152.528L54.7363 150.338C54.7363 150.338 59.0062 137.068 64.6162 131.908C70.2262 126.748 74.3962 126.488 74.3962 126.488C74.3962 126.488 88.7564 127.088 97.5764 132.668C106.396 138.238 111.446 141.408 111.446 141.408C111.446 141.408 104.696 149.708 109.636 153.378C117.166 158.978 127.786 159.068 134.336 155.758C140.236 152.768 141.646 152.998 141.646 152.998C141.646 152.998 162.176 152.678 165.016 164.588C169.946 185.298 153.806 209.908 153.806 209.908C153.806 209.908 153.746 196.398 143.356 194.418C132.966 192.448 125.786 196.408 125.786 196.408L114.296 213.608L97.0063 244.008C97.0063 244.008 49.7062 240.388 39.6262 225.958C29.5462 211.528 20.6262 189.188 20.6262 189.188Z\"\n      fill=\"#FFCE1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M97.6762 241.918C97.6762 241.918 102.796 249.118 111.446 250.758C120.106 252.398 134.936 245.008 142.986 232.998C151.036 220.988 153.056 218.178 153.056 218.178C153.056 218.178 157.296 198.698 143.556 193.958C132.376 190.098 125.416 196.138 125.416 196.138L113.826 213.618C113.826 213.618 106.316 207.148 99.9562 201.078C93.5962 195.008 91.2462 190.888 88.1762 186.728C85.1062 182.578 81.6761 169.818 78.1061 166.868C74.5361 163.918 73.8863 162.758 72.0263 163.738C69.1363 165.258 74.4963 172.388 74.4963 172.388C74.4963 172.388 67.3264 168.008 62.3364 166.588C57.3464 165.168 54.5962 167.268 55.9662 168.398C57.3362 169.528 58.9863 169.288 61.4763 170.958C63.9663 172.628 66.3264 175.518 66.3264 175.518C66.3264 175.518 57.9963 172.928 55.4963 172.578C52.9963 172.218 49.2663 171.448 48.7463 172.768C48.2263 174.088 48.8464 175.528 48.8464 175.528C48.8464 175.528 45.1562 175.898 45.1462 177.998C45.1262 180.098 46.7663 180.948 46.7663 180.948C46.7663 180.948 44.4662 183.198 45.6262 184.648C46.7962 186.108 51.5662 187.948 55.4162 190.438C61.0662 194.108 65.0464 206.288 67.5764 208.298C70.4564 210.578 74.2263 212.188 74.2263 212.188L97.6762 241.918Z\"\n      fill=\"white\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M150.306 123.068C150.306 123.068 165.076 106.878 160.756 100.458C156.436 94.0283 147.646 91.5283 142.896 90.7683C138.146 90.0083 132.446 85.6383 132.446 85.6383L128.266 93.0483L122.756 95.7083C122.756 95.7083 121.706 93.7183 121.326 88.2983C120.956 82.8783 120.376 74.4283 120.376 74.4283L125.886 81.7483L125.796 76.6183L129.876 69.0183C129.876 69.0183 133.096 74.8683 141.656 78.3283C150.216 81.7883 165.176 85.4283 172.626 90.3983C179.256 94.8183 188.406 104.308 187.156 112.248C185.906 120.188 182.546 124.148 177.846 127.928C173.146 131.708 162.926 135.818 162.176 135.808C161.426 135.798 150.306 123.068 150.306 123.068Z\"\n      fill=\"#FFCE1E\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M128.326 99.1483C127.436 98.4983 126.156 98.6683 125.476 99.5183L123.176 102.408C122.496 103.258 122.666 104.478 123.566 105.128C124.466 105.778 125.736 105.608 126.416 104.758L128.716 101.868C129.386 101.018 129.216 99.7983 128.326 99.1483Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M144.466 106.728C143.576 106.078 142.296 106.248 141.616 107.098L139.316 109.988C138.636 110.838 138.806 112.058 139.706 112.708C140.596 113.358 141.876 113.188 142.556 112.338L144.856 109.448C145.536 108.588 145.366 107.368 144.466 106.728Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M163.056 117.358C155.406 115.608 146.516 119.378 142.456 125.878C138.246 132.608 140.496 140.368 148.226 143.068C156.336 145.898 166.956 141.778 171.036 134.018C174.936 126.578 171.086 119.198 163.056 117.358Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M168.926 119.368C168.926 119.368 176.616 107.828 174.916 100.658C170.956 84.0183 154.206 79.6583 154.206 79.6583C154.206 79.6583 172.556 82.9883 177.006 91.1583C181.456 99.3283 184.456 103.818 180.716 112.248C176.966 120.678 171.686 126.218 171.686 126.218L168.926 119.368Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M60.8761 10.4883C60.2561 13.2583 58.1062 14.4883 54.9862 14.7583C55.1662 20.5383 47.9163 18.8983 44.3463 20.9283C45.2063 26.5283 38.0462 25.8883 33.9962 27.1983C31.2162 28.0983 29.4162 29.3683 26.9662 30.8083C26.6062 31.0183 25.0062 31.6283 24.6862 30.5183C24.2562 29.0183 26.8363 27.8683 27.8163 27.2883C30.7763 25.5483 32.9761 24.6983 37.1261 23.8683C38.4661 23.5983 41.6562 23.2983 41.9662 22.3483C42.4662 20.8183 40.2162 19.3983 39.4062 19.1183C35.8262 17.9083 31.0061 19.8783 28.3861 21.2983C25.2761 22.9983 22.5861 24.5583 20.1261 26.7183C15.1161 31.0883 11.6662 36.6483 8.91616 42.8683C3.55616 54.9883 0.906242 72.9483 3.49624 90.0783C4.71624 98.1683 6.88626 104.988 9.76626 111.168C18.4363 129.778 34.8563 140.328 54.0363 148.978C57.4863 137.288 63.9663 128.638 75.3163 124.848C63.3963 121.988 55.4662 116.158 48.2462 108.798C41.3062 101.718 35.7562 92.1383 33.2362 80.6783C31.9262 74.7183 31.7663 67.1783 32.7663 61.1083C35.2363 46.0283 43.7563 36.1683 53.2863 27.7683C54.1763 26.9883 55.0562 26.2483 56.2262 25.2983C57.0962 24.5983 58.4561 22.9983 59.6461 23.5883C61.5061 24.5083 58.9963 26.1383 58.0363 26.9083C51.9763 31.7583 46.4162 37.6383 42.1762 44.0083C37.2762 51.3583 33.7062 61.1783 34.6762 73.9283C35.5162 85.0183 40.0061 93.9683 45.1261 101.098C50.4661 108.548 56.9063 114.248 65.2663 118.578C71.2863 99.9583 84.3563 88.4083 102.316 81.7183C105.736 70.9483 112.786 63.8083 122.836 59.6783C122.766 56.2883 122.236 49.6383 125.306 49.0383C127.556 48.5983 129.086 50.8883 130.146 52.1683C131.456 53.7383 132.546 55.1483 133.466 56.8283C156.516 58.9583 178.096 61.7683 196.066 68.6983C209.526 73.8883 219.986 81.8083 230.356 90.2583C232.076 91.6683 233.806 93.0283 235.296 94.6283C236.826 96.2883 237.786 98.2283 239.186 100.038C240.936 99.1083 243.626 97.5084 246.026 98.7084C247.106 99.2484 247.806 100.128 247.646 101.838C247.326 105.118 244.266 108.348 242.896 110.388C232.666 153.038 207.466 180.718 167.186 193.318C160.136 210.768 151.356 225.748 139.446 238.438C135.536 242.608 131.156 246.578 126.146 249.358C123.356 250.918 120.396 252.048 117.026 252.398C113.406 252.768 110.036 251.908 107.056 250.408C101.726 247.708 97.6162 243.458 93.9462 239.298C87.3962 231.868 81.3761 223.708 75.1361 215.648C74.2661 214.518 73.4163 212.928 72.5763 212.228C71.9263 211.688 70.9863 211.348 70.2963 210.898C68.2563 209.578 66.2462 207.928 64.6962 205.958C62.7262 203.448 61.6063 199.898 59.8463 196.648C57.3363 192.008 52.7663 190.138 47.7863 187.528C45.6663 186.418 42.5861 184.268 45.1261 181.828C42.6861 179.898 44.1461 175.378 47.1261 175.088C47.3961 167.768 58.2662 171.648 62.2262 173.188C60.1962 171.518 55.1463 171.508 55.0063 167.868C54.9263 165.928 56.2761 164.578 57.8561 164.258C60.4461 163.738 62.7561 164.928 64.8861 165.878C67.1061 166.858 69.1062 167.978 70.6762 168.918C68.6662 165.588 71.4662 160.918 75.4262 162.938C79.8562 165.198 82.4362 171.148 84.4462 175.948C86.6662 181.258 89.3662 185.938 92.4262 190.008C99.1862 198.978 106.806 205.628 113.896 212.618C119.646 204.308 126.096 194.198 131.276 184.408C131.936 183.168 132.786 180.368 134.406 180.988C135.736 181.498 134.616 183.338 134.216 184.118C132.666 187.178 130.896 190.258 129.276 193.138C135.506 189.788 143.776 192.258 147.796 195.698C152.166 199.438 154.466 205.488 155.016 212.698C158.066 207.898 160.776 202.408 163.186 196.548C165.546 190.798 167.696 184.428 168.506 177.358C170.376 161.008 163.156 153.098 148.846 151.618C147.886 151.518 146.746 151.228 145.996 151.428C145.576 151.538 144.256 152.538 143.716 152.858C138.526 155.898 132.236 158.748 125.006 159.598C120.326 160.148 115.806 159.558 112.566 157.888C109.916 156.528 106.356 153.888 105.916 150.008C105.326 144.698 109.306 141.358 111.426 138.608C104.056 133.458 95.9962 128.608 85.2062 126.548C83.7062 126.258 81.9961 125.638 80.6461 125.688C79.2861 125.738 77.4563 126.688 76.0863 127.208C71.5363 128.948 67.8561 131.168 64.8761 134.138C60.7261 138.288 58.3162 143.678 56.4262 149.808C57.1262 150.378 58.3862 150.388 58.9862 151.048C59.8462 150.348 61.1063 149.418 62.3063 148.488C62.8763 148.038 64.9762 145.808 65.9162 147.258C66.7762 148.578 64.6163 149.728 64.0163 150.198C49.5463 161.558 35.4263 174.458 23.2663 187.718C22.9663 186.908 22.6362 186.128 22.2262 185.438C32.8562 173.648 44.4163 162.788 56.8063 152.758C28.8463 141.288 6.75623 125.208 1.23623 91.7783C-1.76377 73.6283 0.936242 54.5383 6.74624 41.5283C10.5562 32.9983 15.6563 26.1983 23.0863 21.3883C24.5263 20.4583 26.1663 19.7383 27.5463 18.6383C29.5963 16.9983 31.5562 15.4583 33.9062 14.0783C34.6362 13.6483 35.5863 13.3383 36.2763 12.8483C36.8263 12.4583 37.2663 11.7883 37.7963 11.3283C39.4063 9.93832 41.1461 8.70833 43.1161 7.52833C45.5661 6.05833 48.3661 4.42832 51.8561 4.20832C52.4361 4.16832 53.2962 3.45831 53.9462 3.16831C56.9062 1.84831 63.2263 -0.0916698 66.7663 2.21833C67.4763 2.67833 68.0763 3.40833 68.2863 4.21833C69.3063 8.13833 65.1861 10.6783 60.8761 10.4883ZM56.9862 4.69831C58.5962 5.30831 59.6963 6.41833 60.3063 8.02833C63.1763 7.98833 65.8062 7.70832 65.9062 4.89832C64.2162 2.87832 59.1362 3.64831 56.9862 4.69831ZM58.3163 10.4883C58.6163 8.98832 57.3962 7.55834 56.4162 7.06834C52.3262 5.00834 46.2362 8.56831 43.9762 9.91831C47.8662 8.99831 53.3362 9.18832 54.4262 12.4883C55.9262 12.0283 58.0163 11.9483 58.3163 10.4883ZM47.4862 17.3283C48.8562 17.0283 51.2963 17.1083 52.0463 16.2883C52.6263 15.6483 52.5162 13.7883 51.9562 13.0583C51.1262 11.9683 49.1162 11.7783 47.2062 11.9183C42.4162 12.2683 37.9361 14.6783 34.8561 16.4783C38.4661 15.8783 41.5863 16.8983 43.3063 18.7583C44.5563 18.2383 45.8462 17.6883 47.4862 17.3283ZM238.506 102.538C236.876 102.208 235.566 98.9883 234.326 97.4083C232.856 95.5283 231.146 94.1283 229.576 92.8483C219.146 84.3583 208.736 76.3283 195.286 71.0983C178.266 64.4783 158.156 61.7983 136.776 59.6083C135.316 59.4583 133.466 59.6183 132.406 59.2283C131.816 59.0183 131.376 58.0683 130.886 57.3283C129.476 55.2183 127.886 52.8083 125.946 51.6283C124.796 53.9083 125.326 58.3183 125.186 61.0283C124.286 61.9483 123.056 62.3183 121.956 62.8283C116.026 65.5883 111.556 69.2483 108.276 74.6983C107.006 76.8083 105.546 79.1283 104.946 81.6283C104.856 82.0283 104.886 82.8583 104.666 83.2483C104.376 83.7283 102.526 84.2683 101.536 84.6783C93.8763 87.7683 86.9962 91.8283 81.4962 96.8383C74.7662 102.968 70.8161 110.558 67.6261 119.728C71.6761 121.528 76.4162 122.568 81.2062 123.338C86.1262 124.128 90.8663 125.138 95.0763 126.758C102.736 129.698 109.666 133.988 115.596 138.538C115.906 138.778 116.226 139.338 116.736 139.198C117.196 137.918 117.566 136.548 117.976 135.208C111.846 132.298 107.416 127.748 107.436 119.438C107.456 113.528 109.776 108.618 112.186 105.188C113.906 102.738 116.626 100.068 119.216 97.9683C120.096 97.2483 122.866 94.7884 123.116 97.2084C123.226 98.3584 121.846 98.9883 121.216 99.4883C116.026 103.628 110.526 109.448 110.006 118.008C109.556 125.418 112.776 129.448 117.226 132.068C120.386 133.928 125.126 134.858 130.526 134.348C132.266 134.188 134.376 133.628 134.416 135.208C134.446 136.358 133.126 136.558 131.756 136.728C127.886 137.218 123.086 137.028 120.266 136.158C119.256 139.798 117.976 143.538 116.846 147.268C116.536 148.288 116.296 150.378 114.946 150.308C113.086 150.198 114.216 147.608 114.566 146.508C115.086 144.858 115.426 143.488 115.896 142.048C115.236 141.278 114.366 140.728 113.526 140.148C112.346 141.288 111.186 142.508 110.206 144.038C109.306 145.428 108.246 147.288 108.406 149.448C108.646 152.688 111.916 154.988 114.676 156.098C123.686 159.728 134.976 154.708 140.796 151.638C138.356 151.888 136.096 151.888 135.386 150.208C134.846 148.928 135.376 146.968 135.766 145.748C136.756 142.658 137.576 140.968 138.616 137.668C138.976 136.518 139.536 133.998 140.136 133.678C140.716 133.378 142.356 133.738 143.556 133.778C146.416 133.868 148.316 133.308 150.296 132.548C151.296 132.168 154.106 130.428 154.096 132.738C154.086 133.758 152.836 134.168 151.906 134.548C148.956 135.768 145.586 136.558 141.646 136.168C140.676 140.858 138.376 144.238 137.656 149.178C140.846 149.248 143.916 148.808 146.866 148.988C156.066 149.548 163.336 152.518 167.386 158.108C173.206 166.148 171.556 181.078 168.146 190.408C187.836 183.868 203.346 174.088 215.456 160.488C226.136 148.488 233.596 133.498 238.826 116.218C239.556 113.798 239.976 111.008 241.106 108.808C242.356 106.378 245.076 104.478 245.096 101.018C242.396 99.9283 241.186 103.078 238.506 102.538ZM121.476 220.418C122.116 221.068 123.306 221.868 123.186 222.788C123.126 223.238 122.596 223.688 122.136 223.738C120.886 223.888 119.286 221.648 118.436 220.798C117.256 219.608 116.056 218.318 115.116 217.378C103.756 206.018 91.6863 196.368 84.0563 181.188C81.8763 176.848 80.2662 171.648 77.2162 167.888C76.4862 166.988 74.3261 164.148 73.1261 165.038C71.3861 166.328 73.3362 168.358 74.4562 169.788C75.2962 170.868 76.1162 172.248 76.7362 173.018C77.2462 173.648 78.7861 174.088 78.6361 175.388C78.3761 177.628 75.9863 175.518 75.3063 175.008C72.9463 173.228 70.7263 171.748 68.2763 170.358C66.4663 169.328 62.8661 167.428 60.1061 166.848C59.0561 166.628 57.3262 166.568 57.4462 167.798C57.5462 168.788 60.0162 169.428 60.6762 169.698C63.4762 170.858 65.1861 171.998 67.1361 173.688C68.1161 174.538 68.8963 175.698 69.7963 176.248C70.6663 176.778 73.4463 177.068 73.3063 178.718C73.2763 179.108 72.9062 179.658 72.4562 179.768C71.2762 180.038 69.4461 178.698 67.8961 178.058C66.4361 177.458 64.5263 176.698 63.3363 176.258C60.1663 175.068 56.6963 173.558 53.5563 173.308C52.0463 173.188 49.4862 173.058 49.6562 174.928C56.0262 175.878 60.4362 177.458 65.4262 179.778C66.3262 180.188 69.5962 181.138 69.4162 182.718C69.1862 184.708 66.9063 183.128 66.0963 182.718C61.5863 180.478 57.5463 178.928 52.0363 177.878C50.4063 177.568 46.3363 176.848 46.3363 179.018C46.3363 179.818 46.8362 180.108 47.4762 180.448C51.6962 180.038 54.8962 181.688 58.4962 183.108C59.7462 183.598 61.3562 184.288 62.6762 184.818C63.9462 185.328 66.3163 185.788 66.2863 187.098C66.2263 189.508 62.4063 187.338 61.3463 186.908C59.8463 186.298 58.6461 185.888 57.3561 185.388C53.9061 184.048 49.6562 181.558 46.7162 183.778C49.3362 185.988 52.5561 187.128 55.3561 188.808C58.2461 190.538 60.4363 192.498 62.0963 195.738C63.6963 198.848 64.7563 202.068 66.8463 204.668C68.3563 206.548 70.2861 208.168 72.3561 209.418C73.0561 209.838 74.1061 210.098 74.6361 210.648C74.9661 210.998 75.1362 211.688 75.4962 212.168C77.9362 215.468 80.5262 218.758 82.9962 221.948C88.8562 229.498 94.1161 236.908 101.136 243.228C104.406 246.168 108.656 249.678 114.056 250.068C119.666 250.478 124.156 247.908 127.546 245.608C131.416 242.978 134.176 240.458 137.136 237.248C142.016 231.958 146.826 225.928 150.906 219.578C151.436 218.748 152.456 217.528 152.616 216.728C152.956 215.018 152.496 212.568 152.236 210.748C151.946 208.738 151.596 206.958 151.096 205.428C149.036 199.138 144.436 194.348 136.846 194.028C132.856 193.858 130.226 195.648 126.966 196.978C124.296 201.458 121.486 205.928 118.606 210.088C117.626 211.498 116.766 213.038 115.466 214.178C117.426 216.218 119.416 218.308 121.476 220.418Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M131.356 68.5283C129.716 70.1483 128.396 72.9583 127.366 75.6483C127.006 76.5883 126.856 77.6983 125.936 77.8283C124.676 78.0083 124.026 76.6483 123.466 75.9283C122.746 74.9883 122.186 74.2383 121.666 73.3683C121.276 75.9183 121.426 78.6284 121.666 81.3484C121.786 82.7584 122.646 85.6283 120.526 85.3383C118.876 85.1083 118.896 78.9483 118.916 76.9783C118.936 74.3483 119.146 69.6184 121.386 69.5684C123.526 69.5184 123.926 73.2583 125.186 74.2283C125.956 72.6483 126.696 71.0183 127.656 69.3883C128.436 68.0583 129.536 65.8383 131.456 65.8683C133.186 65.8983 133.986 68.0883 134.976 69.0083C136.686 70.5783 138.946 71.8784 141.436 73.1884C143.846 74.4484 146.576 75.8483 148.746 76.4183C150.576 76.8983 152.436 76.9683 154.156 77.3683C166.146 80.1283 175.336 85.3784 180.376 95.3184C181.766 98.0684 182.886 101.238 183.036 105.288C183.406 115.178 177.986 121.668 173.156 126.948C172.556 127.608 170.606 129.758 169.546 129.608C169.226 129.568 168.696 129.188 168.596 128.748C168.376 127.808 169.436 126.978 170.306 126.188C172.486 124.178 174.526 121.788 176.196 119.348C178.426 116.088 180.356 111.918 180.566 106.718C180.786 101.278 178.726 97.0284 176.576 93.7084C174.246 90.0984 171.336 87.4484 167.646 85.1584C171.896 89.6584 176.736 94.9583 176.196 104.728C175.836 111.118 173.066 116.058 170.216 120.398C169.476 121.518 168.196 124.318 166.796 124.198C166.276 124.158 165.826 123.668 165.756 123.348C165.476 122.138 167.626 119.968 168.226 119.078C170.746 115.298 173.386 110.228 173.736 104.638C174.146 97.9784 171.386 93.0084 168.326 89.4384C162.626 82.8184 153.176 81.1384 144.576 77.3784C139.386 75.0984 134.496 72.6983 131.356 68.5283Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M132.216 86.7684C131.416 87.8084 130.756 88.9783 130.026 90.0883C133.446 92.8083 134.516 99.6583 132.306 104.148C130.426 107.978 126.586 110.328 120.716 110.038C119.936 111.118 121.746 114.378 119.386 114.308C116.906 114.238 118.337 108.628 119.097 108.038C119.917 107.398 121.416 107.658 122.806 107.568C127.746 107.238 131.027 103.798 131.067 99.0184C131.107 95.2484 129.666 91.1783 125.276 91.4183C124.266 91.4683 122.106 92.3483 122.046 90.5583C121.976 88.5083 125.916 88.8884 127.646 89.1384C128.766 88.1384 130.237 83.8783 131.827 83.7183C133.057 83.5983 134.656 85.5883 135.536 86.1883C139.176 88.6983 144.816 89.4583 149.216 90.9383C152.236 91.9483 155.006 93.3083 157.286 95.1183C159.636 96.9783 162.486 99.8383 162.706 103.568C162.926 107.548 160.966 110.538 159.186 113.068C157.966 114.808 156.507 116.698 154.817 118.388C154.237 118.968 153.447 119.688 152.827 119.618C152.407 119.578 151.856 119.158 151.776 118.568C151.656 117.598 153.476 116.118 154.246 115.248C155.306 114.058 156.066 113.168 156.806 112.118C158.456 109.768 160.866 106.288 160.036 102.808C159.416 100.208 157.236 98.1084 155.196 96.6384C153.096 95.1284 150.526 94.0083 147.786 93.1183C142.116 91.2983 136.136 90.5284 132.216 86.7684Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M142.286 97.0283C148.626 96.5083 152.007 99.7083 154.347 103.868C155.107 105.218 157.046 108.498 154.626 108.528C153.436 108.538 152.796 106.128 152.446 105.488C150.616 102.128 148.276 99.1483 142.946 99.4083C142.046 99.4583 139.867 100.068 139.817 98.4583C139.767 97.1483 140.926 97.1383 142.286 97.0283Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M130.597 120.488C131.507 120.298 132.297 120.538 132.307 121.538C132.327 123.218 128.477 124.158 126.327 124.008C124.897 123.908 121.377 123.198 121.297 121.728C121.187 119.738 123.506 120.848 124.526 121.158C126.596 121.788 128.626 121.438 130.416 120.588C130.476 120.558 130.487 120.508 130.597 120.488Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M66.1361 1.23839L94.8363 10.8384C95.9363 11.2084 96.1062 14.6384 95.1762 15.4084L52.9162 50.6384C51.9862 51.4184 50.3362 51.7484 49.2262 51.3784L20.5263 41.7684C19.4263 41.3984 19.2562 37.9484 20.1862 37.1684L62.4362 1.9684C63.3762 1.2084 65.0261 0.878391 66.1361 1.23839Z\"\n      fill=\"#353535\"\n    />\n    <path\n      d=\"M50.2564 52.6284C49.7764 52.6284 49.3062 52.5583 48.8762 52.4183L20.1763 42.8084C19.6163 42.6184 18.8965 42.0684 18.5965 40.4984C18.4065 39.4784 18.3463 37.2884 19.4863 36.3384L61.7464 1.13834C62.9764 0.118343 65.0063 -0.281649 66.4763 0.208351L95.1763 9.80836C95.7363 9.99836 96.4564 10.5484 96.7564 12.1184C96.9464 13.1384 97.0062 15.3083 95.8662 16.2583L53.6062 51.4883C52.7362 52.2183 51.4564 52.6284 50.2564 52.6284ZM20.9663 40.7784L49.5664 50.3583C50.3164 50.6083 51.5663 50.3484 52.2063 49.8184L94.4663 14.5884C94.7863 14.1884 94.7362 12.3383 94.3862 11.8583L65.7864 2.28834C65.0464 2.03834 63.7863 2.29835 63.1463 2.82835L20.8963 38.0284C20.5663 38.4284 20.6163 40.2884 20.9663 40.7784Z\"\n      fill=\"black\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M67.1363 12.4883C69.4163 12.4883 71.2664 13.5083 71.2664 14.7683C71.2664 16.0283 69.4163 17.0483 67.1363 17.0483C64.8563 17.0483 63.0064 16.0283 63.0064 14.7683C62.9964 13.5083 64.8463 12.4883 67.1363 12.4883Z\"\n      fill=\"#959595\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M60.5464 2.2583C61.0964 2.2583 67.1362 3.57831 67.1362 3.57831C67.1362 3.57831 67.3262 5.20833 67.1362 5.90833C66.9362 6.61833 66.4762 7.93832 65.8562 8.24832C65.2262 8.55832 63.1264 8.94831 62.2664 9.10831C61.4064 9.26831 59.9263 9.4183 59.9263 9.4183L58.8364 11.4483C58.8364 11.4483 58.5663 13.0883 57.6863 13.2383C56.8063 13.3983 55.6364 12.6183 55.0964 13.2383C54.5464 13.8583 53.7663 13.9383 53.6963 14.4083C53.6163 14.8783 53.6164 16.1183 53.3064 16.5183C52.9964 16.9083 49.0164 18.3883 48.5464 18.6283C48.0764 18.8583 46.2064 19.0183 45.5864 19.3283C44.9664 19.6383 43.5564 20.2683 43.5564 20.2683L42.6963 23.2283L40.4363 24.4783C40.4363 24.4783 37.2364 25.4183 36.3064 25.5683C35.3664 25.7283 32.0164 25.5683 32.0164 25.5683L31.0063 22.8383L41.0964 14.7683L46.4963 9.51831C46.4963 9.51831 55.4064 3.42831 56.3464 3.26831C57.2664 3.10831 60.5464 2.2583 60.5464 2.2583Z\"\n      fill=\"#F5F5F5\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M68.2864 4.21833C68.0764 3.41833 67.4764 2.68833 66.7664 2.21833C63.2264 -0.0916698 56.9063 1.84831 53.9463 3.16831C53.2963 3.45831 52.4362 4.17832 51.8562 4.20832C48.3762 4.43832 45.5762 6.06833 43.1162 7.52833C41.1462 8.70833 39.4064 9.93832 37.7964 11.3283C37.2664 11.7883 36.8264 12.4583 36.2764 12.8483C35.5764 13.3483 34.6363 13.6483 33.9062 14.0783C31.5563 15.4583 29.5964 16.9983 27.5464 18.6383C26.1664 19.7383 24.5264 20.4583 23.0864 21.3883C22.3264 21.8883 21.5862 22.3983 20.8662 22.9383C21.0362 24.1583 20.8562 25.3583 20.3962 26.4883C22.7962 24.4483 25.3963 22.9283 28.4062 21.2883C31.0262 19.8583 35.8463 17.8883 39.4263 19.1083C40.2463 19.3883 42.4963 20.8083 41.9863 22.3383C41.6763 23.2883 38.4862 23.5883 37.1462 23.8583C32.9962 24.6883 30.7964 25.5483 27.8364 27.2783C26.8464 27.8583 24.2663 29.0083 24.7063 30.5083C25.0263 31.6183 26.6263 31.0083 26.9863 30.7983C29.4263 29.3583 31.2264 28.0883 34.0164 27.1883C38.0664 25.8783 45.2362 26.5183 44.3662 20.9183C47.9362 18.8883 55.1763 20.5283 55.0063 14.7483C58.1163 14.4783 60.2762 13.2483 60.8962 10.4783C65.1862 10.6783 69.3064 8.13833 68.2864 4.21833ZM52.0464 16.2883C51.2964 17.1183 48.8563 17.0283 47.4863 17.3283C45.8563 17.6883 44.5564 18.2383 43.3064 18.7583C41.5864 16.8983 38.4562 15.8783 34.8562 16.4783C37.9362 14.6783 42.4163 12.2683 47.2063 11.9183C49.1063 11.7783 51.1163 11.9683 51.9563 13.0583C52.5063 13.7883 52.6264 15.6383 52.0464 16.2883ZM58.3164 10.4883C58.0164 11.9383 55.9263 12.0183 54.4163 12.4783C53.3263 9.17831 47.8663 8.99833 43.9663 9.90833C46.2263 8.55833 52.3263 4.99833 56.4062 7.05833C57.3863 7.55833 58.6164 8.99832 58.3164 10.4883ZM60.3064 8.01832C59.6964 6.40832 58.5863 5.30833 56.9863 4.68833C59.1463 3.63833 64.2163 2.86833 65.9163 4.87833C65.8163 7.69833 63.1864 7.98832 60.3064 8.01832Z\"\n      fill=\"black\"\n    />\n  </svg>\n);\n","import {\n  columnSystem,\n  COLUMN_UNIT,\n  GUTTER_UNIT,\n} from \"@charcoal-ui/foundation\";\nimport { Button } from \"@charcoal-ui/react\";\nimport { createTheme } from \"@charcoal-ui/styled\";\nimport { maxWidth } from \"@charcoal-ui/utils\";\nimport {\n  autoPlacement,\n  offset,\n  Strategy,\n  useFloating,\n} from \"@floating-ui/react-dom\";\nimport {\n  ComponentProps,\n  FC,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled, { css, keyframes } from \"styled-components\";\nimport { UserDocument } from \"./api/types\";\nimport { Twemoji } from \"./components/Emoji\";\nimport {\n  createFloatingEmoji,\n  FloatingEmojis,\n  MAX_LEVEL_SIZE,\n} from \"./components/FloatingEmojis\";\nimport { Spinner } from \"./components/Spinner\";\nimport { emojis } from \"./constants\";\nimport { ChatIcon, LetterIcon, TalkIcon, VideoIcon } from \"./Icons\";\nimport { Step } from \"./types\";\nimport { unreachable } from \"./utils/unreachable\";\n\nconst theme = createTheme(styled);\n\ntype MainStep = Extract<Step, 1 | 2 | 3 | 4>;\n\nconst MAX_WIDTH = columnSystem(10, COLUMN_UNIT, GUTTER_UNIT);\n\nconst TEXT_NEGATIVE_MARGIN_Y = {\n  desktop: 24,\n  mobile: 12,\n};\nconst TEXT_NEGATIVE_MARGIN_X = {\n  desktop: 60,\n  mobile: 32,\n};\n\nconst MAIN_TEXT: {\n  [key in MainStep]: {\n    main: string;\n    sub: string;\n    title: string;\n    description: string;\n    Icon: FC;\n  };\n} = {\n  1: {\n    main: \"\",\n    sub: \"\",\n    title: \"\",\n    description:\n      \"LINEInstagramDM\",\n    Icon: ChatIcon,\n  },\n  2: {\n    main: \"\",\n    sub: \"\",\n    title: \"\",\n    description:\n      \"\",\n    Icon: VideoIcon,\n  },\n  3: {\n    main: \"\",\n    sub: \"\",\n    title: \"\",\n    description:\n      \"\",\n    Icon: TalkIcon,\n  },\n  4: {\n    main: \"\",\n    sub: \"\",\n    title: \"\",\n    description:\n      \"...\",\n    Icon: LetterIcon,\n  },\n};\n\nexport const Main = ({\n  step,\n  group,\n  onNext,\n  onEnd,\n}: {\n  step: MainStep;\n  group: UserDocument[\"group\"];\n  onNext(step: Extract<Step, 2 | 3 | 4>): void;\n  onEnd(p: { step: \"epilogue\"; reactions: number[] }): Promise<void>;\n}) => {\n  const [reacted, setReacted] = useState(false);\n  const [endLoading, setEndLoading] = useState(false);\n  const reactionCountRef = useRef(0);\n  const [reactions, setReactions] = useState<number[]>([]);\n  const [tooltip, setTooltip] = useState(true);\n\n  const { x, y, strategy, reference, floating } = useFloating({\n    strategy: \"absolute\",\n    middleware: [autoPlacement({ alignment: \"start\" }), offset(24)],\n  });\n\n  useEffect(() => {\n    const handleBeforeUnload = (e: BeforeUnloadEvent) => {\n      e.returnValue = \"\";\n      return \"\";\n    };\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n  }, []);\n\n  return (\n    <div\n      css={css`\n        width: 100%;\n        box-sizing: border-box;\n        max-width: ${MAX_WIDTH}px;\n        margin: auto;\n        ${theme((o) => [o.padding.vertical(40)])}\n      `}\n    >\n      <div\n        css={css`\n          ${theme((o) => [\n            o.bg.background1,\n            o.borderRadius(24),\n            o.padding.top(8).bottom(24),\n          ])}\n        `}\n      >\n        <div\n          css={css`\n            width: 100%;\n            display: grid;\n            place-content: center;\n            box-sizing: border-box;\n            ${theme((o) => [o.font.text1, o.padding.all(24)])}\n            @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n              ${theme((o) => [o.padding.all(16)])}\n            }\n          `}\n        >\n          <Image step={step} />\n        </div>\n        <div\n          css={css`\n            ${theme((o) => [o.border.default.bottom, o.margin.bottom(24)])}\n          `}\n        />\n        <div\n          css={css`\n            display: grid;\n            gap: 16px;\n            ${theme((o) => [o.padding.horizontal(24)])}\n          `}\n        >\n          <div\n            css={css`\n              ${theme((o) => [o.typography(20).bold, o.font.text2])}\n              @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n                ${theme((o) => [o.typography(16).bold])}\n              }\n            `}\n          >\n            {MAIN_TEXT[step].title}\n          </div>\n          <div\n            css={css`\n              ${theme((o) => [o.typography(14), o.font.text3])}\n              @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n                ${theme((o) => [o.typography(12).bold])}\n              }\n            `}\n          >\n            {MAIN_TEXT[step].description}\n          </div>\n        </div>\n        <div\n          key={step}\n          css={css`\n            position: sticky;\n            bottom: 0;\n            ${theme((o) => [\n              o.padding.horizontal(24).vertical(16),\n              o.margin.top(24),\n              o.bg.background1,\n            ])}\n          `}\n        >\n          <div\n            ref={reference}\n            css={css`\n              display: flex;\n              gap: 8px;\n              flex-flow: row wrap;\n            `}\n          >\n            {emojis.map((v) => (\n              <EmojiButton\n                key={v}\n                withMotion={group === \"with-motion\"}\n                emoji={v}\n                step={step}\n                onClick={() => {\n                  setReacted(true);\n                  reactionCountRef.current += 1;\n                }}\n              />\n            ))}\n          </div>\n          {tooltip && (\n            <Tooltip\n              ref={floating}\n              strategy={strategy}\n              y={y}\n              x={x}\n              onConfirm={() => setTooltip(false)}\n            />\n          )}\n        </div>\n      </div>\n\n      <div\n        css={css`\n          display: grid;\n          place-content: end;\n          place-items: center;\n          grid-auto-flow: column;\n          gap: 16px;\n          max-width: ${MAX_WIDTH};\n          ${theme((o) => [o.margin.top(24)])}\n        `}\n      >\n        <div\n          css={css`\n            display: flex;\n          `}\n        >\n          {([1, 2, 3, 4] as const).map((n) => (\n            <div\n              key={n}\n              css={[\n                css`\n                  display: grid;\n                  place-content: center;\n                  ${theme((o) => [\n                    o.width.px(40),\n                    o.height.px(40),\n                    o.borderRadius(\"oval\"),\n                    o.typography(12).bold.preserveHalfLeading,\n                    o.font.text2,\n                  ])}\n                `,\n                n === step &&\n                  css`\n                    ${theme((o) => [o.bg.surface3])}\n                  `,\n                n < step &&\n                  css`\n                    ${theme((o) => [o.font.text4])}\n                  `,\n              ]}\n            >\n              {n}\n            </div>\n          ))}\n        </div>\n        {step === 1 || step === 2 || step === 3 ? (\n          <Button\n            // NOTE: stepkeyDOMfocus\n            key={step}\n            disabled={!reacted}\n            variant=\"Primary\"\n            size=\"M\"\n            onClick={() => {\n              onNext((step + 1) as 2 | 3 | 4);\n              setReactions((v) => [...v, reactionCountRef.current]);\n              reactionCountRef.current = 0;\n            }}\n          >\n            \n          </Button>\n        ) : step === 4 ? (\n          <Button\n            // NOTE: stepkeyDOMfocus\n            key={step}\n            disabled={endLoading}\n            variant=\"Primary\"\n            size=\"M\"\n            onClick={async () => {\n              try {\n                setEndLoading(true);\n                await onEnd({\n                  step: \"epilogue\",\n                  reactions: [...reactions, reactionCountRef.current],\n                });\n              } finally {\n                setEndLoading(false);\n              }\n            }}\n          >\n            {endLoading ? <Spinner /> : \"\"}\n          </Button>\n        ) : (\n          unreachable(step)\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst Image = ({ step }: { step: MainStep }) => {\n  const Icon = MAIN_TEXT[step].Icon;\n  return (\n    <div\n      css={css`\n        padding: ${TEXT_NEGATIVE_MARGIN_Y.desktop}px\n          ${TEXT_NEGATIVE_MARGIN_X.desktop}px;\n        @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n          padding: ${TEXT_NEGATIVE_MARGIN_Y.mobile}px\n            ${TEXT_NEGATIVE_MARGIN_X.mobile}px;\n        }\n      `}\n    >\n      <div\n        css={css`\n          display: grid;\n          place-items: center;\n          ${theme((o) => [o.bg.surface3, o.padding.all(24)])}\n          position: relative;\n        `}\n      >\n        <Icon />\n        <div\n          css={css`\n            overflow: hidden;\n            width: fit-content;\n            white-space: none;\n            position: relative;\n            ${theme((o) => [o.bg.surface1])}\n            ${theme((o) => [o.typography(20).bold])}\n                @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n              ${theme((o) => [o.typography(16).bold])}\n            }\n          `}\n        >\n          \n          <div\n            key={step}\n            css={[\n              css`\n                position: absolute;\n                inset: 0;\n                ${theme((o) => [o.bg.text1])};\n              `,\n              slideInAnimationCss({\n                to: step % 2 === 0 ? \"left\" : \"right\",\n                delay: \"0.4s\",\n              }),\n            ]}\n          />\n        </div>\n        <div\n          css={[\n            css`\n              display: grid;\n              position: absolute;\n              top: -${TEXT_NEGATIVE_MARGIN_Y.desktop}px;\n              @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n                top: -${TEXT_NEGATIVE_MARGIN_Y.mobile}px;\n              }\n            `,\n            step % 2 === 0 &&\n              css`\n                place-items: start;\n                left: -${TEXT_NEGATIVE_MARGIN_X.desktop}px;\n                @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n                  left: -${TEXT_NEGATIVE_MARGIN_X.mobile}px;\n                }\n              `,\n            step % 2 !== 0 &&\n              css`\n                place-items: end;\n                right: -${TEXT_NEGATIVE_MARGIN_X.desktop}px;\n                @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n                  right: -${TEXT_NEGATIVE_MARGIN_X.mobile}px;\n                }\n              `,\n          ]}\n        >\n          {[MAIN_TEXT[step].main, MAIN_TEXT[step].sub].map((v, i) => (\n            <div\n              key={v}\n              css={css`\n                overflow: hidden;\n                width: fit-content;\n                white-space: none;\n                position: relative;\n                ${theme((o) => [o.bg.surface1])}\n                ${theme((o) => [o.typography(32).bold])}\n                @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n                  ${theme((o) => [o.typography(20).bold])}\n                }\n              `}\n            >\n              {v}\n              <div\n                key={step}\n                css={[\n                  css`\n                    position: absolute;\n                    inset: 0;\n                    ${theme((o) => [o.bg.text1])};\n                  `,\n                  i === 0 &&\n                    slideInAnimationCss({\n                      to: step % 2 === 0 ? \"right\" : \"left\",\n                      delay: \"0.2s\",\n                    }),\n                  i === 1 &&\n                    slideInAnimationCss({\n                      to: step % 2 === 0 ? \"right\" : \"left\",\n                      delay: \"0.3s\",\n                    }),\n                ]}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst VARIANT: {\n  [key in MainStep]: {\n    [key in typeof emojis[number]]: {\n      initCount: number;\n      mockCounts: [number, number, number, number, number];\n    };\n  };\n} = {\n  1: {\n    \"\": {\n      initCount: 1,\n      mockCounts: [1, 1, 0, 1, 0],\n    },\n    \"\": {\n      initCount: 22,\n      mockCounts: [1, 0, 2, 1, 1],\n    },\n    \"\": {\n      initCount: 46,\n      mockCounts: [4, 8, 3, 2, 4],\n    },\n    \"\": {\n      initCount: 13,\n      mockCounts: [1, 3, 2, 2, 1],\n    },\n    \"\": {\n      initCount: 40,\n      mockCounts: [1, 2, 0, 1, 4],\n    },\n  },\n  2: {\n    \"\": {\n      initCount: 47,\n      mockCounts: [1, 1, 0, 2, 0],\n    },\n    \"\": {\n      initCount: 2,\n      mockCounts: [1, 0, 0, 1, 2],\n    },\n    \"\": {\n      initCount: 46,\n      mockCounts: [7, 3, 7, 7, 4],\n    },\n    \"\": {\n      initCount: 42,\n      mockCounts: [2, 3, 2, 6, 1],\n    },\n    \"\": {\n      initCount: 14,\n      mockCounts: [1, 1, 1, 1, 4],\n    },\n  },\n  3: {\n    \"\": {\n      initCount: 1,\n      mockCounts: [2, 1, 1, 1, 0],\n    },\n    \"\": {\n      initCount: 42,\n      mockCounts: [1, 0, 2, 2, 1],\n    },\n    \"\": {\n      initCount: 46,\n      mockCounts: [2, 3, 2, 1, 4],\n    },\n    \"\": {\n      initCount: 92,\n      mockCounts: [5, 3, 8, 2, 8],\n    },\n    \"\": {\n      initCount: 2,\n      mockCounts: [0, 0, 1, 4, 1],\n    },\n  },\n  4: {\n    \"\": {\n      initCount: 80,\n      mockCounts: [2, 2, 5, 1, 0],\n    },\n    \"\": {\n      initCount: 40,\n      mockCounts: [1, 0, 2, 2, 1],\n    },\n    \"\": {\n      initCount: 13,\n      mockCounts: [2, 3, 2, 1, 4],\n    },\n    \"\": {\n      initCount: 5,\n      mockCounts: [0, 0, 1, 2, 0],\n    },\n    \"\": {\n      initCount: 69,\n      mockCounts: [2, 0, 1, 4, 1],\n    },\n  },\n};\n\nconst LEVEL_THRESHOLD = [1, 2, 5, 10] as const;\n\nconst useLevel = () => {\n  const growingRef = useRef(false);\n  const [levelCount, setLevelCount] = useState<number>(0);\n  const level: 1 | 2 | 3 | 4 | 5 =\n    levelCount < LEVEL_THRESHOLD[0]\n      ? 1\n      : levelCount < LEVEL_THRESHOLD[1]\n      ? 2\n      : levelCount < LEVEL_THRESHOLD[2]\n      ? 3\n      : levelCount < LEVEL_THRESHOLD[3]\n      ? 4\n      : 5;\n\n  useEffect(() => {\n    if (levelCount > 0) {\n      const timeoutId = setTimeout(() => {\n        growingRef.current = false;\n        setLevelCount((v) =>\n          v >= LEVEL_THRESHOLD[3]\n            ? LEVEL_THRESHOLD[2]\n            : v >= LEVEL_THRESHOLD[2]\n            ? LEVEL_THRESHOLD[1]\n            : v >= LEVEL_THRESHOLD[1]\n            ? LEVEL_THRESHOLD[0]\n            : 0\n        );\n      }, 600);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [levelCount]);\n\n  const incrementLevelCount = useCallback(() => {\n    growingRef.current = true;\n    setLevelCount((v) => v + 1);\n  }, []);\n\n  return { level, incrementLevelCount, growing: growingRef.current };\n};\n\nconst EmojiButton = ({\n  emoji,\n  step,\n  withMotion,\n  onClick,\n}: {\n  emoji: typeof emojis[number];\n  step: MainStep;\n  withMotion?: boolean;\n  onClick(): void;\n}) => {\n  const [current, setCurrent] = useState<number>(0);\n  const [plusCount, setPlusCount] = useState<number>(0);\n  const [count, setCount] = useState(VARIANT[step][emoji].initCount);\n  const [floatingEmojis, setFloatingEmojis] = useState<\n    ComponentProps<typeof FloatingEmojis>[\"floatingEmojis\"]\n  >([]);\n\n  const { level, incrementLevelCount, growing } = useLevel();\n\n  useEffect(() => {\n    const lag = Math.floor(Math.random() * 100);\n    const count = VARIANT[step][emoji].mockCounts[current] ?? 1;\n    const timeoutId = setTimeout(() => {\n      setCount((v) => v + count);\n      setCurrent((v) => (v < 4 ? v + 1 : 0));\n    }, 4000 + lag);\n    return () => clearTimeout(timeoutId);\n  }, [current]);\n\n  const circleScale =\n    level === 1\n      ? 1.02\n      : level === 2\n      ? 1.06\n      : level === 3\n      ? 1.14\n      : level === 4\n      ? 1.22\n      : 1.4;\n  const twemojiScale =\n    level === 1\n      ? 1.0\n      : level === 2\n      ? 1.04\n      : level === 3\n      ? 1.1\n      : level === 4\n      ? 1.2\n      : 1.34;\n\n  return (\n    <Button\n      className=\"gtm-reaction\"\n      data-gtm\n      size=\"S\"\n      onClick={() => {\n        setPlusCount((v) => v + 1);\n\n        incrementLevelCount();\n        const maxDurationMs = 1500;\n        setFloatingEmojis((v) => [\n          ...v,\n          {\n            id: (v[v.length - 1]?.id ?? 0) + 1,\n            level,\n            emoji,\n            ...createFloatingEmoji({ maxDurationMs }),\n          },\n        ]);\n        setTimeout(() => {\n          setFloatingEmojis((v) => v.slice(1));\n        }, maxDurationMs);\n\n        onClick();\n      }}\n    >\n      <span\n        css={css`\n          position: relative;\n          z-index: 0;\n          pointer-events: none;\n          display: inline-flex;\n          align-items: center;\n        `}\n      >\n        <span\n          css={[\n            css`\n              display: inline-grid;\n              place-content: center;\n            `,\n            withMotion &&\n              css`\n                position: relative;\n                z-index: 0;\n              `,\n          ]}\n        >\n          <span\n            key={plusCount}\n            css={[\n              css`\n                display: inline-grid;\n                place-content: center;\n                transition: transform 0.2s ease-in;\n              `,\n              withMotion &&\n                growing &&\n                emojiPulseAnimationCss({\n                  initScale: twemojiScale,\n                }),\n            ]}\n          >\n            <Twemoji size={20} emoji={emoji} />\n          </span>\n          {withMotion &&\n            growing &&\n            floatingEmojis.map(({ id }) => (\n              <div\n                key={id}\n                css={[\n                  css`\n                    position: absolute;\n                    z-index: -1;\n                    border-radius: 50%;\n                    inset: 0;\n                  `,\n                  level < 3\n                    ? css`\n                        border: 1px solid ${(p) => p.theme.color.brand};\n                      `\n                    : level < 5\n                    ? css`\n                        border: 1px solid #b356de;\n                      `\n                    : css`\n                        border: 2px solid ${(p) => p.theme.color.assertive};\n                      `,\n                  circlePulseAnimationCss({ initScale: circleScale }),\n                ]}\n              />\n            ))}\n        </span>\n        <span\n          css={css`\n            margin-left: 4px;\n          `}\n        >\n          {count + plusCount}\n        </span>\n        {plusCount > 0 && (\n          <span\n            css={[\n              css`\n                position: absolute;\n                top: 0;\n                right: 0;\n                transform: translate(100%, -50%);\n                ${theme((o) => [o.typography(12).bold, o.font.assertive])}\n              `,\n              withMotion &&\n                css`\n                  transition: color 0.2s ease-in;\n                `,\n              withMotion &&\n                (level < 3\n                  ? css`\n                      ${theme((o) => [o.font.brand])}\n                    `\n                  : level < 5\n                  ? css`\n                      color: #b356de;\n                    `\n                  : css`\n                      ${theme((o) => [o.font.assertive])}\n                    `),\n            ]}\n          >\n            +{plusCount}\n          </span>\n        )}\n        {withMotion && (\n          <span\n            css={css`\n              position: absolute;\n              top: -${MAX_LEVEL_SIZE}px;\n              right: 0;\n            `}\n          >\n            <FloatingEmojis floatingEmojis={floatingEmojis} />\n          </span>\n        )}\n      </span>\n    </Button>\n  );\n};\n\nconst slideToRight = keyframes`\n  100% {\n    transform: translateX(101%);\n  }\n`;\nconst slideToLeft = keyframes`\n  100% {\n    transform: translateX(-101%);\n  }\n`;\nconst slideInAnimationCss = ({\n  to,\n  delay,\n}: {\n  to: \"right\" | \"left\";\n  delay: `${number}s`;\n}) => css`\n  transform: translateX(0);\n  animation: ${to === \"right\"\n      ? slideToRight\n      : to === \"left\"\n      ? slideToLeft\n      : unreachable(to)}\n    0.2s ${delay} cubic-bezier(0.9, 0.01, 0.6, 1.01) forwards;\n`;\n\nconst emojiPulse = ({ initScale }: { initScale: number }) => keyframes`\n  50% {\n    transform: scale(${initScale - 0.2})\n  }\n`;\nconst emojiPulseAnimationCss = ({ initScale }: { initScale: number }) => css`\n  transform: scale(${initScale});\n  animation: ${emojiPulse({ initScale })} 0.2s linear 1;\n`;\n\nconst circlePulse = ({ initScale }: { initScale: number }) => keyframes`\n  50% {\n    opacity: 0.8;\n  }\n  100%{\n    transform: scale(${initScale + 1});\n    opacity: 0;\n  }\n`;\nconst circlePulseAnimationCss = ({ initScale }: { initScale: number }) => css`\n  opacity: 0;\n  transform: scale(${initScale});\n  animation: ${circlePulse({ initScale })} 0.4s 0.1s forwards;\n`;\n\nconst Tooltip = forwardRef<\n  HTMLDivElement,\n  { strategy: Strategy; x: number | null; y: number | null; onConfirm(): void }\n>(({ strategy, y, x, onConfirm }, ref) => (\n  <div\n    ref={ref}\n    css={css`\n      ${theme((o) => [o.bg.brand, o.borderRadius(16)])}\n    `}\n    style={{\n      position: strategy,\n      top: y ?? 0,\n      left: x ?? 0,\n    }}\n  >\n    <div\n      css={css`\n        position: relative;\n        z-index: 0;\n        ${theme((o) => [o.padding.all(16)])}\n\n        ::after {\n          content: \"\";\n          position: absolute;\n          bottom: -6px;\n          left: 60%;\n          width: 12px;\n          height: 12px;\n          transform: rotate(45deg);\n          ${theme((o) => [o.bg.brand])}\n        }\n      `}\n    >\n      <div\n        css={css`\n          ${theme((o) => [o.typography(14).bold])}\n          white-space: pre-wrap;\n        `}\n      >\n        <span></span>\n        <span\n          css={css`\n            ${theme((o) => [o.bg.surface4])}\n          `}\n        >\n          {\" \"}\n          {\" \"}\n        </span>\n        <span>{\"\\n\"}</span>\n      </div>\n      <div\n        css={css`\n          display: grid;\n          place-content: center;\n          ${theme((o) => [o.margin.top(16)])}\n        `}\n      >\n        <Button variant=\"Overlay\" onClick={onConfirm}>\n          \n        </Button>\n      </div>\n    </div>\n  </div>\n));\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst stringToByteArray = function (str: string): number[] {\n  // TODO(user): Use native implementations if/when available\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (\n      (c & 0xfc00) === 0xd800 &&\n      i + 1 < str.length &&\n      (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n    ) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Turns an array of numbers into the string given by the concatenation of the\n * characters to which the numbers correspond.\n * @param bytes Array of numbers representing characters.\n * @return Stringification of the array.\n */\nconst byteArrayToString = function (bytes: number[]): string {\n  // TODO(user): Use native implementations if/when available\n  const out: string[] = [];\n  let pos = 0,\n    c = 0;\n  while (pos < bytes.length) {\n    const c1 = bytes[pos++];\n    if (c1 < 128) {\n      out[c++] = String.fromCharCode(c1);\n    } else if (c1 > 191 && c1 < 224) {\n      const c2 = bytes[pos++];\n      out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\n    } else if (c1 > 239 && c1 < 365) {\n      // Surrogate Pair\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      const c4 = bytes[pos++];\n      const u =\n        (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\n        0x10000;\n      out[c++] = String.fromCharCode(0xd800 + (u >> 10));\n      out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\n    } else {\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      out[c++] = String.fromCharCode(\n        ((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)\n      );\n    }\n  }\n  return out.join('');\n};\n\ninterface Base64 {\n  byteToCharMap_: { [key: number]: string } | null;\n  charToByteMap_: { [key: string]: number } | null;\n  byteToCharMapWebSafe_: { [key: number]: string } | null;\n  charToByteMapWebSafe_: { [key: string]: number } | null;\n  ENCODED_VALS_BASE: string;\n  readonly ENCODED_VALS: string;\n  readonly ENCODED_VALS_WEBSAFE: string;\n  HAS_NATIVE_SUPPORT: boolean;\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string;\n  encodeString(input: string, webSafe?: boolean): string;\n  decodeString(input: string, webSafe: boolean): string;\n  decodeStringToByteArray(input: string, webSafe: boolean): number[];\n  init_(): void;\n}\n\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\n// Static lookup maps, lazily populated by init_()\nexport const base64: Base64 = {\n  /**\n   * Maps bytes to characters.\n   */\n  byteToCharMap_: null,\n\n  /**\n   * Maps characters to bytes.\n   */\n  charToByteMap_: null,\n\n  /**\n   * Maps bytes to websafe characters.\n   * @private\n   */\n  byteToCharMapWebSafe_: null,\n\n  /**\n   * Maps websafe characters to bytes.\n   * @private\n   */\n  charToByteMapWebSafe_: null,\n\n  /**\n   * Our default alphabet, shared between\n   * ENCODED_VALS and ENCODED_VALS_WEBSAFE\n   */\n  ENCODED_VALS_BASE:\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\n\n  /**\n   * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\n   */\n  get ENCODED_VALS() {\n    return this.ENCODED_VALS_BASE + '+/=';\n  },\n\n  /**\n   * Our websafe alphabet.\n   */\n  get ENCODED_VALS_WEBSAFE() {\n    return this.ENCODED_VALS_BASE + '-_.';\n  },\n\n  /**\n   * Whether this browser supports the atob and btoa functions. This extension\n   * started at Mozilla but is now implemented by many browsers. We use the\n   * ASSUME_* variables to avoid pulling in the full useragent detection library\n   * but still allowing the standard per-browser compilations.\n   *\n   */\n  HAS_NATIVE_SUPPORT: typeof atob === 'function',\n\n  /**\n   * Base64-encode an array of bytes.\n   *\n   * @param input An array of bytes (numbers with\n   *     value in [0, 255]) to encode.\n   * @param webSafe Boolean indicating we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string {\n    if (!Array.isArray(input)) {\n      throw Error('encodeByteArray takes an array as a parameter');\n    }\n\n    this.init_();\n\n    const byteToCharMap = webSafe\n      ? this.byteToCharMapWebSafe_!\n      : this.byteToCharMap_!;\n\n    const output = [];\n\n    for (let i = 0; i < input.length; i += 3) {\n      const byte1 = input[i];\n      const haveByte2 = i + 1 < input.length;\n      const byte2 = haveByte2 ? input[i + 1] : 0;\n      const haveByte3 = i + 2 < input.length;\n      const byte3 = haveByte3 ? input[i + 2] : 0;\n\n      const outByte1 = byte1 >> 2;\n      const outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\n      let outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\n      let outByte4 = byte3 & 0x3f;\n\n      if (!haveByte3) {\n        outByte4 = 64;\n\n        if (!haveByte2) {\n          outByte3 = 64;\n        }\n      }\n\n      output.push(\n        byteToCharMap[outByte1],\n        byteToCharMap[outByte2],\n        byteToCharMap[outByte3],\n        byteToCharMap[outByte4]\n      );\n    }\n\n    return output.join('');\n  },\n\n  /**\n   * Base64-encode a string.\n   *\n   * @param input A string to encode.\n   * @param webSafe If true, we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeString(input: string, webSafe?: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return btoa(input);\n    }\n    return this.encodeByteArray(stringToByteArray(input), webSafe);\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * @param input to decode.\n   * @param webSafe True if we should use the\n   *     alternative alphabet.\n   * @return string representing the decoded value.\n   */\n  decodeString(input: string, webSafe: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return atob(input);\n    }\n    return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * In base-64 decoding, groups of four characters are converted into three\n   * bytes.  If the encoder did not apply padding, the input length may not\n   * be a multiple of 4.\n   *\n   * In this case, the last group will have fewer than 4 characters, and\n   * padding will be inferred.  If the group has one or two characters, it decodes\n   * to one byte.  If the group has three characters, it decodes to two bytes.\n   *\n   * @param input Input to decode.\n   * @param webSafe True if we should use the web-safe alphabet.\n   * @return bytes representing the decoded value.\n   */\n  decodeStringToByteArray(input: string, webSafe: boolean): number[] {\n    this.init_();\n\n    const charToByteMap = webSafe\n      ? this.charToByteMapWebSafe_!\n      : this.charToByteMap_!;\n\n    const output: number[] = [];\n\n    for (let i = 0; i < input.length; ) {\n      const byte1 = charToByteMap[input.charAt(i++)];\n\n      const haveByte2 = i < input.length;\n      const byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\n      ++i;\n\n      const haveByte3 = i < input.length;\n      const byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      const haveByte4 = i < input.length;\n      const byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\n        throw Error();\n      }\n\n      const outByte1 = (byte1 << 2) | (byte2 >> 4);\n      output.push(outByte1);\n\n      if (byte3 !== 64) {\n        const outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\n        output.push(outByte2);\n\n        if (byte4 !== 64) {\n          const outByte3 = ((byte3 << 6) & 0xc0) | byte4;\n          output.push(outByte3);\n        }\n      }\n    }\n\n    return output;\n  },\n\n  /**\n   * Lazy static initialization function. Called before\n   * accessing any of the static map variables.\n   * @private\n   */\n  init_() {\n    if (!this.byteToCharMap_) {\n      this.byteToCharMap_ = {};\n      this.charToByteMap_ = {};\n      this.byteToCharMapWebSafe_ = {};\n      this.charToByteMapWebSafe_ = {};\n\n      // We want quick mappings back and forth, so we precompute two maps.\n      for (let i = 0; i < this.ENCODED_VALS.length; i++) {\n        this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\n        this.charToByteMap_[this.byteToCharMap_[i]] = i;\n        this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\n        this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\n\n        // Be forgiving when decoding and correctly decode both encodings.\n        if (i >= this.ENCODED_VALS_BASE.length) {\n          this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\n          this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\n        }\n      }\n    }\n  }\n};\n\n/**\n * URL-safe base64 encoding\n */\nexport const base64Encode = function (str: string): string {\n  const utf8Bytes = stringToByteArray(str);\n  return base64.encodeByteArray(utf8Bytes, true);\n};\n\n/**\n * URL-safe base64 encoding (without \".\" padding in the end).\n * e.g. Used in JSON Web Token (JWT) parts.\n */\nexport const base64urlEncodeWithoutPadding = function (str: string): string {\n  // Use base64url encoding and remove padding in the end (dot characters).\n  return base64Encode(str).replace(/\\./g, '');\n};\n\n/**\n * URL-safe base64 decoding\n *\n * NOTE: DO NOT use the global atob() function - it does NOT support the\n * base64Url variant encoding.\n *\n * @param str To be decoded\n * @return Decoded result, if possible\n */\nexport const base64Decode = function (str: string): string | null {\n  try {\n    return base64.decodeString(str, true);\n  } catch (e) {\n    console.error('base64Decode failed: ', e);\n  }\n  return null;\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Do a deep-copy of basic JavaScript Objects or Arrays.\n */\nexport function deepCopy<T>(value: T): T {\n  return deepExtend(undefined, value) as T;\n}\n\n/**\n * Copy properties from source to target (recursively allows extension\n * of Objects and Arrays).  Scalar values in the target are over-written.\n * If target is undefined, an object of the appropriate type will be created\n * (and returned).\n *\n * We recursively copy all child properties of plain Objects in the source- so\n * that namespace- like dictionaries are merged.\n *\n * Note that the target can be a function, in which case the properties in\n * the source Object are copied onto it as static properties of the Function.\n *\n * Note: we don't merge __proto__ to prevent prototype pollution\n */\nexport function deepExtend(target: unknown, source: unknown): unknown {\n  if (!(source instanceof Object)) {\n    return source;\n  }\n\n  switch (source.constructor) {\n    case Date:\n      // Treat Dates like scalars; if the target date object had any child\n      // properties - they will be lost!\n      const dateValue = source as Date;\n      return new Date(dateValue.getTime());\n\n    case Object:\n      if (target === undefined) {\n        target = {};\n      }\n      break;\n    case Array:\n      // Always copy the array source and overwrite the target.\n      target = [];\n      break;\n\n    default:\n      // Not a plain Object - treat it as a scalar.\n      return source;\n  }\n\n  for (const prop in source) {\n    // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202\n    if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {\n      continue;\n    }\n    (target as Record<string, unknown>)[prop] = deepExtend(\n      (target as Record<string, unknown>)[prop],\n      (source as Record<string, unknown>)[prop]\n    );\n  }\n\n  return target;\n}\n\nfunction isValidKey(key: string): boolean {\n  return key !== '__proto__';\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class Deferred<R> {\n  promise: Promise<R>;\n  reject: (value?: unknown) => void = () => {};\n  resolve: (value?: unknown) => void = () => {};\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve as (value?: unknown) => void;\n      this.reject = reject as (value?: unknown) => void;\n    });\n  }\n\n  /**\n   * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\n   * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\n   * and returns a node-style callback which will resolve or reject the Deferred's promise.\n   */\n  wrapCallback(\n    callback?: (error?: unknown, value?: unknown) => void\n  ): (error: unknown, value?: unknown) => void {\n    return (error, value?) => {\n      if (error) {\n        this.reject(error);\n      } else {\n        this.resolve(value);\n      }\n      if (typeof callback === 'function') {\n        // Attaching noop handler just in case developer wasn't expecting\n        // promises\n        this.promise.catch(() => {});\n\n        // Some of our callbacks don't expect a value and our own tests\n        // assert that the parameter length is 1\n        if (callback.length === 1) {\n          callback(error);\n        } else {\n          callback(error, value);\n        }\n      }\n    };\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64urlEncodeWithoutPadding } from './crypt';\n\n// Firebase Auth tokens contain snake_case claims following the JWT standard / convention.\n/* eslint-disable camelcase */\n\nexport type FirebaseSignInProvider =\n  | 'custom'\n  | 'email'\n  | 'password'\n  | 'phone'\n  | 'anonymous'\n  | 'google.com'\n  | 'facebook.com'\n  | 'github.com'\n  | 'twitter.com'\n  | 'microsoft.com'\n  | 'apple.com';\n\ninterface FirebaseIdToken {\n  // Always set to https://securetoken.google.com/PROJECT_ID\n  iss: string;\n\n  // Always set to PROJECT_ID\n  aud: string;\n\n  // The user's unique ID\n  sub: string;\n\n  // The token issue time, in seconds since epoch\n  iat: number;\n\n  // The token expiry time, normally 'iat' + 3600\n  exp: number;\n\n  // The user's unique ID. Must be equal to 'sub'\n  user_id: string;\n\n  // The time the user authenticated, normally 'iat'\n  auth_time: number;\n\n  // The sign in provider, only set when the provider is 'anonymous'\n  provider_id?: 'anonymous';\n\n  // The user's primary email\n  email?: string;\n\n  // The user's email verification status\n  email_verified?: boolean;\n\n  // The user's primary phone number\n  phone_number?: string;\n\n  // The user's display name\n  name?: string;\n\n  // The user's profile photo URL\n  picture?: string;\n\n  // Information on all identities linked to this user\n  firebase: {\n    // The primary sign-in provider\n    sign_in_provider: FirebaseSignInProvider;\n\n    // A map of providers to the user's list of unique identifiers from\n    // each provider\n    identities?: { [provider in FirebaseSignInProvider]?: string[] };\n  };\n\n  // Custom claims set by the developer\n  [claim: string]: unknown;\n\n  uid?: never; // Try to catch a common mistake of \"uid\" (should be \"sub\" instead).\n}\n\nexport type EmulatorMockTokenOptions = ({ user_id: string } | { sub: string }) &\n  Partial<FirebaseIdToken>;\n\nexport function createMockUserToken(\n  token: EmulatorMockTokenOptions,\n  projectId?: string\n): string {\n  if (token.uid) {\n    throw new Error(\n      'The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.'\n    );\n  }\n  // Unsecured JWTs use \"none\" as the algorithm.\n  const header = {\n    alg: 'none',\n    type: 'JWT'\n  };\n\n  const project = projectId || 'demo-project';\n  const iat = token.iat || 0;\n  const sub = token.sub || token.user_id;\n  if (!sub) {\n    throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");\n  }\n\n  const payload: FirebaseIdToken = {\n    // Set all required fields to decent defaults\n    iss: `https://securetoken.google.com/${project}`,\n    aud: project,\n    iat,\n    exp: iat + 3600,\n    auth_time: iat,\n    sub,\n    user_id: sub,\n    firebase: {\n      sign_in_provider: 'custom',\n      identities: {}\n    },\n\n    // Override with user options\n    ...token\n  };\n\n  // Unsecured JWTs use the empty string as a signature.\n  const signature = '';\n  return [\n    base64urlEncodeWithoutPadding(JSON.stringify(header)),\n    base64urlEncodeWithoutPadding(JSON.stringify(payload)),\n    signature\n  ].join('.');\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSTANTS } from './constants';\n\n/**\n * Returns navigator.userAgent string or '' if it's not defined.\n * @return user agent string\n */\nexport function getUA(): string {\n  if (\n    typeof navigator !== 'undefined' &&\n    typeof navigator['userAgent'] === 'string'\n  ) {\n    return navigator['userAgent'];\n  } else {\n    return '';\n  }\n}\n\n/**\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\n *\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\n * wait for a callback.\n */\nexport function isMobileCordova(): boolean {\n  return (\n    typeof window !== 'undefined' &&\n    // @ts-ignore Setting up an broadly applicable index signature for Window\n    // just to deal with this case would probably be a bad idea.\n    !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\n    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())\n  );\n}\n\n/**\n * Detect Node.js.\n *\n * @return true if Node.js environment is detected.\n */\n// Node detection logic from: https://github.com/iliakan/detect-node/\nexport function isNode(): boolean {\n  try {\n    return (\n      Object.prototype.toString.call(global.process) === '[object process]'\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Detect Browser Environment\n */\nexport function isBrowser(): boolean {\n  return typeof self === 'object' && self.self === self;\n}\n\n/**\n * Detect browser extensions (Chrome and Firefox at least).\n */\ninterface BrowserRuntime {\n  id?: unknown;\n}\ndeclare const chrome: { runtime?: BrowserRuntime };\ndeclare const browser: { runtime?: BrowserRuntime };\nexport function isBrowserExtension(): boolean {\n  const runtime =\n    typeof chrome === 'object'\n      ? chrome.runtime\n      : typeof browser === 'object'\n      ? browser.runtime\n      : undefined;\n  return typeof runtime === 'object' && runtime.id !== undefined;\n}\n\n/**\n * Detect React Native.\n *\n * @return true if ReactNative environment is detected.\n */\nexport function isReactNative(): boolean {\n  return (\n    typeof navigator === 'object' && navigator['product'] === 'ReactNative'\n  );\n}\n\n/** Detects Electron apps. */\nexport function isElectron(): boolean {\n  return getUA().indexOf('Electron/') >= 0;\n}\n\n/** Detects Internet Explorer. */\nexport function isIE(): boolean {\n  const ua = getUA();\n  return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n}\n\n/** Detects Universal Windows Platform apps. */\nexport function isUWP(): boolean {\n  return getUA().indexOf('MSAppHost/') >= 0;\n}\n\n/**\n * Detect whether the current SDK build is the Node version.\n *\n * @return true if it's the Node SDK build.\n */\nexport function isNodeSdk(): boolean {\n  return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\n}\n\n/** Returns true if we are running in Safari. */\nexport function isSafari(): boolean {\n  return (\n    !isNode() &&\n    navigator.userAgent.includes('Safari') &&\n    !navigator.userAgent.includes('Chrome')\n  );\n}\n\n/**\n * This method checks if indexedDB is supported by current browser/service worker context\n * @return true if indexedDB is supported by current browser/service worker context\n */\nexport function isIndexedDBAvailable(): boolean {\n  return typeof indexedDB === 'object';\n}\n\n/**\n * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject\n * if errors occur during the database open operation.\n *\n * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox\n * private browsing)\n */\nexport function validateIndexedDBOpenable(): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    try {\n      let preExist: boolean = true;\n      const DB_CHECK_NAME =\n        'validate-browser-context-for-indexeddb-analytics-module';\n      const request = self.indexedDB.open(DB_CHECK_NAME);\n      request.onsuccess = () => {\n        request.result.close();\n        // delete database only when it doesn't pre-exist\n        if (!preExist) {\n          self.indexedDB.deleteDatabase(DB_CHECK_NAME);\n        }\n        resolve(true);\n      };\n      request.onupgradeneeded = () => {\n        preExist = false;\n      };\n\n      request.onerror = () => {\n        reject(request.error?.message || '');\n      };\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n\n/**\n *\n * This method checks whether cookie is enabled within current browser\n * @return true if cookie is enabled within current browser\n */\nexport function areCookiesEnabled(): boolean {\n  if (typeof navigator === 'undefined' || !navigator.cookieEnabled) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Polyfill for `globalThis` object.\n * @returns the `globalThis` object for the given environment.\n */\nexport function getGlobal(): typeof globalThis {\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('Unable to locate global object.');\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Evaluates a JSON string into a javascript object.\n *\n * @param {string} str A string containing JSON.\n * @return {*} The javascript object representing the specified JSON.\n */\nexport function jsonEval(str: string): unknown {\n  return JSON.parse(str);\n}\n\n/**\n * Returns JSON representing a javascript object.\n * @param {*} data Javascript object to be stringified.\n * @return {string} The JSON contents of the object.\n */\nexport function stringify(data: unknown): string {\n  return JSON.stringify(data);\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64Decode } from './crypt';\nimport { jsonEval } from './json';\n\ninterface Claims {\n  [key: string]: {};\n}\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token into constituent parts.\n *\n * Notes:\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const decode = function (token: string): DecodedToken {\n  let header = {},\n    claims: Claims = {},\n    data = {},\n    signature = '';\n\n  try {\n    const parts = token.split('.');\n    header = jsonEval(base64Decode(parts[0]) || '') as object;\n    claims = jsonEval(base64Decode(parts[1]) || '') as Claims;\n    signature = parts[2];\n    data = claims['d'] || {};\n    delete claims['d'];\n  } catch (e) {}\n\n  return {\n    header,\n    claims,\n    data,\n    signature\n  };\n};\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidTimestamp = function (token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  const now: number = Math.floor(new Date().getTime() / 1000);\n  let validSince: number = 0,\n    validUntil: number = 0;\n\n  if (typeof claims === 'object') {\n    if (claims.hasOwnProperty('nbf')) {\n      validSince = claims['nbf'] as number;\n    } else if (claims.hasOwnProperty('iat')) {\n      validSince = claims['iat'] as number;\n    }\n\n    if (claims.hasOwnProperty('exp')) {\n      validUntil = claims['exp'] as number;\n    } else {\n      // token will expire after 24h by default\n      validUntil = validSince + 86400;\n    }\n  }\n\n  return (\n    !!now &&\n    !!validSince &&\n    !!validUntil &&\n    now >= validSince &&\n    now <= validUntil\n  );\n};\n\n/**\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\n *\n * Notes:\n * - May return null if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const issuedAtTime = function (token: string): number | null {\n  const claims: Claims = decode(token).claims;\n  if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\n    return claims['iat'] as number;\n  }\n  return null;\n};\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidFormat = function (token: string): boolean {\n  const decoded = decode(token),\n    claims = decoded.claims;\n\n  return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\n};\n\n/**\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isAdmin = function (token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  return typeof claims === 'object' && claims['admin'] === true;\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview SHA-1 cryptographic hash.\n * Variable names follow the notation in FIPS PUB 180-3:\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\n *\n * Usage:\n *   var sha1 = new sha1();\n *   sha1.update(bytes);\n *   var hash = sha1.digest();\n *\n * Performance:\n *   Chrome 23:   ~400 Mbit/s\n *   Firefox 16:  ~250 Mbit/s\n *\n */\n\n/**\n * SHA-1 cryptographic hash constructor.\n *\n * The properties declared here are discussed in the above algorithm document.\n * @constructor\n * @final\n * @struct\n */\nexport class Sha1 {\n  /**\n   * Holds the previous values of accumulated variables a-e in the compress_\n   * function.\n   * @private\n   */\n  private chain_: number[] = [];\n\n  /**\n   * A buffer holding the partially computed hash result.\n   * @private\n   */\n  private buf_: number[] = [];\n\n  /**\n   * An array of 80 bytes, each a part of the message to be hashed.  Referred to\n   * as the message schedule in the docs.\n   * @private\n   */\n  private W_: number[] = [];\n\n  /**\n   * Contains data needed to pad messages less than 64 bytes.\n   * @private\n   */\n  private pad_: number[] = [];\n\n  /**\n   * @private {number}\n   */\n  private inbuf_: number = 0;\n\n  /**\n   * @private {number}\n   */\n  private total_: number = 0;\n\n  blockSize: number;\n\n  constructor() {\n    this.blockSize = 512 / 8;\n\n    this.pad_[0] = 128;\n    for (let i = 1; i < this.blockSize; ++i) {\n      this.pad_[i] = 0;\n    }\n\n    this.reset();\n  }\n\n  reset(): void {\n    this.chain_[0] = 0x67452301;\n    this.chain_[1] = 0xefcdab89;\n    this.chain_[2] = 0x98badcfe;\n    this.chain_[3] = 0x10325476;\n    this.chain_[4] = 0xc3d2e1f0;\n\n    this.inbuf_ = 0;\n    this.total_ = 0;\n  }\n\n  /**\n   * Internal compress helper function.\n   * @param buf Block to compress.\n   * @param offset Offset of the block in the buffer.\n   * @private\n   */\n  compress_(buf: number[] | Uint8Array | string, offset?: number): void {\n    if (!offset) {\n      offset = 0;\n    }\n\n    const W = this.W_;\n\n    // get 16 big endian words\n    if (typeof buf === 'string') {\n      for (let i = 0; i < 16; i++) {\n        // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\n        // have a bug that turns the post-increment ++ operator into pre-increment\n        // during JIT compilation.  We have code that depends heavily on SHA-1 for\n        // correctness and which is affected by this bug, so I've removed all uses\n        // of post-increment ++ in which the result value is used.  We can revert\n        // this change once the Safari bug\n        // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\n        // most clients have been updated.\n        W[i] =\n          (buf.charCodeAt(offset) << 24) |\n          (buf.charCodeAt(offset + 1) << 16) |\n          (buf.charCodeAt(offset + 2) << 8) |\n          buf.charCodeAt(offset + 3);\n        offset += 4;\n      }\n    } else {\n      for (let i = 0; i < 16; i++) {\n        W[i] =\n          (buf[offset] << 24) |\n          (buf[offset + 1] << 16) |\n          (buf[offset + 2] << 8) |\n          buf[offset + 3];\n        offset += 4;\n      }\n    }\n\n    // expand to 80 words\n    for (let i = 16; i < 80; i++) {\n      const t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n      W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\n    }\n\n    let a = this.chain_[0];\n    let b = this.chain_[1];\n    let c = this.chain_[2];\n    let d = this.chain_[3];\n    let e = this.chain_[4];\n    let f, k;\n\n    // TODO(user): Try to unroll this loop to speed up the computation.\n    for (let i = 0; i < 80; i++) {\n      if (i < 40) {\n        if (i < 20) {\n          f = d ^ (b & (c ^ d));\n          k = 0x5a827999;\n        } else {\n          f = b ^ c ^ d;\n          k = 0x6ed9eba1;\n        }\n      } else {\n        if (i < 60) {\n          f = (b & c) | (d & (b | c));\n          k = 0x8f1bbcdc;\n        } else {\n          f = b ^ c ^ d;\n          k = 0xca62c1d6;\n        }\n      }\n\n      const t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\n      e = d;\n      d = c;\n      c = ((b << 30) | (b >>> 2)) & 0xffffffff;\n      b = a;\n      a = t;\n    }\n\n    this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\n    this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\n    this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\n    this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\n    this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\n  }\n\n  update(bytes?: number[] | Uint8Array | string, length?: number): void {\n    // TODO(johnlenz): tighten the function signature and remove this check\n    if (bytes == null) {\n      return;\n    }\n\n    if (length === undefined) {\n      length = bytes.length;\n    }\n\n    const lengthMinusBlock = length - this.blockSize;\n    let n = 0;\n    // Using local instead of member variables gives ~5% speedup on Firefox 16.\n    const buf = this.buf_;\n    let inbuf = this.inbuf_;\n\n    // The outer while loop should execute at most twice.\n    while (n < length) {\n      // When we have no data in the block to top up, we can directly process the\n      // input buffer (assuming it contains sufficient data). This gives ~25%\n      // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\n      // the data is provided in large chunks (or in multiples of 64 bytes).\n      if (inbuf === 0) {\n        while (n <= lengthMinusBlock) {\n          this.compress_(bytes, n);\n          n += this.blockSize;\n        }\n      }\n\n      if (typeof bytes === 'string') {\n        while (n < length) {\n          buf[inbuf] = bytes.charCodeAt(n);\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      } else {\n        while (n < length) {\n          buf[inbuf] = bytes[n];\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      }\n    }\n\n    this.inbuf_ = inbuf;\n    this.total_ += length;\n  }\n\n  /** @override */\n  digest(): number[] {\n    const digest: number[] = [];\n    let totalBits = this.total_ * 8;\n\n    // Add pad 0x80 0x00*.\n    if (this.inbuf_ < 56) {\n      this.update(this.pad_, 56 - this.inbuf_);\n    } else {\n      this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\n    }\n\n    // Add # bits.\n    for (let i = this.blockSize - 1; i >= 56; i--) {\n      this.buf_[i] = totalBits & 255;\n      totalBits /= 256; // Don't use bit-shifting here!\n    }\n\n    this.compress_(this.buf_);\n\n    let n = 0;\n    for (let i = 0; i < 5; i++) {\n      for (let j = 24; j >= 0; j -= 8) {\n        digest[n] = (this.chain_[i] >> j) & 255;\n        ++n;\n      }\n    }\n    return digest;\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport type NextFn<T> = (value: T) => void;\nexport type ErrorFn = (error: Error) => void;\nexport type CompleteFn = () => void;\n\nexport interface Observer<T> {\n  // Called once for each value in a stream of values.\n  next: NextFn<T>;\n\n  // A stream terminates by a single call to EITHER error() or complete().\n  error: ErrorFn;\n\n  // No events will be sent to next() once complete() is called.\n  complete: CompleteFn;\n}\n\nexport type PartialObserver<T> = Partial<Observer<T>>;\n\n// TODO: Support also Unsubscribe.unsubscribe?\nexport type Unsubscribe = () => void;\n\n/**\n * The Subscribe interface has two forms - passing the inline function\n * callbacks, or a object interface with callback properties.\n */\nexport interface Subscribe<T> {\n  (next?: NextFn<T>, error?: ErrorFn, complete?: CompleteFn): Unsubscribe;\n  (observer: PartialObserver<T>): Unsubscribe;\n}\n\nexport interface Observable<T> {\n  // Subscribe method\n  subscribe: Subscribe<T>;\n}\n\nexport type Executor<T> = (observer: Observer<T>) => void;\n\n/**\n * Helper to make a Subscribe function (just like Promise helps make a\n * Thenable).\n *\n * @param executor Function which can make calls to a single Observer\n *     as a proxy.\n * @param onNoObservers Callback when count of Observers goes to zero.\n */\nexport function createSubscribe<T>(\n  executor: Executor<T>,\n  onNoObservers?: Executor<T>\n): Subscribe<T> {\n  const proxy = new ObserverProxy<T>(executor, onNoObservers);\n  return proxy.subscribe.bind(proxy);\n}\n\n/**\n * Implement fan-out for any number of Observers attached via a subscribe\n * function.\n */\nclass ObserverProxy<T> implements Observer<T> {\n  private observers: Array<Observer<T>> | undefined = [];\n  private unsubscribes: Unsubscribe[] = [];\n  private onNoObservers: Executor<T> | undefined;\n  private observerCount = 0;\n  // Micro-task scheduling by calling task.then().\n  private task = Promise.resolve();\n  private finalized = false;\n  private finalError?: Error;\n\n  /**\n   * @param executor Function which can make calls to a single Observer\n   *     as a proxy.\n   * @param onNoObservers Callback when count of Observers goes to zero.\n   */\n  constructor(executor: Executor<T>, onNoObservers?: Executor<T>) {\n    this.onNoObservers = onNoObservers;\n    // Call the executor asynchronously so subscribers that are called\n    // synchronously after the creation of the subscribe function\n    // can still receive the very first value generated in the executor.\n    this.task\n      .then(() => {\n        executor(this);\n      })\n      .catch(e => {\n        this.error(e);\n      });\n  }\n\n  next(value: T): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.next(value);\n    });\n  }\n\n  error(error: Error): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.error(error);\n    });\n    this.close(error);\n  }\n\n  complete(): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.complete();\n    });\n    this.close();\n  }\n\n  /**\n   * Subscribe function that can be used to add an Observer to the fan-out list.\n   *\n   * - We require that no event is sent to a subscriber sychronously to their\n   *   call to subscribe().\n   */\n  subscribe(\n    nextOrObserver?: NextFn<T> | PartialObserver<T>,\n    error?: ErrorFn,\n    complete?: CompleteFn\n  ): Unsubscribe {\n    let observer: Observer<T>;\n\n    if (\n      nextOrObserver === undefined &&\n      error === undefined &&\n      complete === undefined\n    ) {\n      throw new Error('Missing Observer.');\n    }\n\n    // Assemble an Observer object when passed as callback functions.\n    if (\n      implementsAnyMethods(nextOrObserver as { [key: string]: unknown }, [\n        'next',\n        'error',\n        'complete'\n      ])\n    ) {\n      observer = nextOrObserver as Observer<T>;\n    } else {\n      observer = {\n        next: nextOrObserver as NextFn<T>,\n        error,\n        complete\n      } as Observer<T>;\n    }\n\n    if (observer.next === undefined) {\n      observer.next = noop as NextFn<T>;\n    }\n    if (observer.error === undefined) {\n      observer.error = noop as ErrorFn;\n    }\n    if (observer.complete === undefined) {\n      observer.complete = noop as CompleteFn;\n    }\n\n    const unsub = this.unsubscribeOne.bind(this, this.observers!.length);\n\n    // Attempt to subscribe to a terminated Observable - we\n    // just respond to the Observer with the final error or complete\n    // event.\n    if (this.finalized) {\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.task.then(() => {\n        try {\n          if (this.finalError) {\n            observer.error(this.finalError);\n          } else {\n            observer.complete();\n          }\n        } catch (e) {\n          // nothing\n        }\n        return;\n      });\n    }\n\n    this.observers!.push(observer as Observer<T>);\n\n    return unsub;\n  }\n\n  // Unsubscribe is synchronous - we guarantee that no events are sent to\n  // any unsubscribed Observer.\n  private unsubscribeOne(i: number): void {\n    if (this.observers === undefined || this.observers[i] === undefined) {\n      return;\n    }\n\n    delete this.observers[i];\n\n    this.observerCount -= 1;\n    if (this.observerCount === 0 && this.onNoObservers !== undefined) {\n      this.onNoObservers(this);\n    }\n  }\n\n  private forEachObserver(fn: (observer: Observer<T>) => void): void {\n    if (this.finalized) {\n      // Already closed by previous event....just eat the additional values.\n      return;\n    }\n\n    // Since sendOne calls asynchronously - there is no chance that\n    // this.observers will become undefined.\n    for (let i = 0; i < this.observers!.length; i++) {\n      this.sendOne(i, fn);\n    }\n  }\n\n  // Call the Observer via one of it's callback function. We are careful to\n  // confirm that the observe has not been unsubscribed since this asynchronous\n  // function had been queued.\n  private sendOne(i: number, fn: (observer: Observer<T>) => void): void {\n    // Execute the callback asynchronously\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      if (this.observers !== undefined && this.observers[i] !== undefined) {\n        try {\n          fn(this.observers[i]);\n        } catch (e) {\n          // Ignore exceptions raised in Observers or missing methods of an\n          // Observer.\n          // Log error to console. b/31404806\n          if (typeof console !== 'undefined' && console.error) {\n            console.error(e);\n          }\n        }\n      }\n    });\n  }\n\n  private close(err?: Error): void {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    if (err !== undefined) {\n      this.finalError = err;\n    }\n    // Proxy is no longer needed - garbage collect references\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      this.observers = undefined;\n      this.onNoObservers = undefined;\n    });\n  }\n}\n\n/** Turn synchronous function into one called asynchronously. */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function async(fn: Function, onError?: ErrorFn): Function {\n  return (...args: unknown[]) => {\n    Promise.resolve(true)\n      .then(() => {\n        fn(...args);\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error);\n        }\n      });\n  };\n}\n\n/**\n * Return true if the object passed in implements any of the named methods.\n */\nfunction implementsAnyMethods(\n  obj: { [key: string]: unknown },\n  methods: string[]\n): boolean {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  for (const method of methods) {\n    if (method in obj && typeof obj[method] === 'function') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction noop(): void {\n  // do nothing\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from './assert';\n\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\n// so it's been modified.\n\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\n// pair).\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\n\n/**\n * @param {string} str\n * @return {Array}\n */\nexport const stringToByteArray = function (str: string): number[] {\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n\n    // Is this the lead surrogate in a surrogate pair?\n    if (c >= 0xd800 && c <= 0xdbff) {\n      const high = c - 0xd800; // the high 10 bits.\n      i++;\n      assert(i < str.length, 'Surrogate pair missing trail surrogate.');\n      const low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\n      c = 0x10000 + (high << 10) + low;\n    }\n\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (c < 65536) {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Calculate length without actually converting; useful for doing cheaper validation.\n * @param {string} str\n * @return {number}\n */\nexport const stringLength = function (str: string): number {\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    const c = str.charCodeAt(i);\n    if (c < 128) {\n      p++;\n    } else if (c < 2048) {\n      p += 2;\n    } else if (c >= 0xd800 && c <= 0xdbff) {\n      // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\n      p += 4;\n      i++; // skip trail surrogate.\n    } else {\n      p += 3;\n    }\n  }\n  return p;\n};\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Copied from https://stackoverflow.com/a/2117523\n * Generates a new uuid.\n * @public\n */\nexport const uuidv4 = function (): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  InstantiationMode,\n  InstanceFactory,\n  ComponentType,\n  Dictionary,\n  Name,\n  onInstanceCreatedCallback\n} from './types';\n\n/**\n * Component for service name T, e.g. `auth`, `auth-internal`\n */\nexport class Component<T extends Name = Name> {\n  multipleInstances = false;\n  /**\n   * Properties to be added to the service namespace\n   */\n  serviceProps: Dictionary = {};\n\n  instantiationMode = InstantiationMode.LAZY;\n\n  onInstanceCreated: onInstanceCreatedCallback<T> | null = null;\n\n  /**\n   *\n   * @param name The public service name, e.g. app, auth, firestore, database\n   * @param instanceFactory Service factory responsible for creating the public interface\n   * @param type whether the service provided by the component is public or private\n   */\n  constructor(\n    readonly name: T,\n    readonly instanceFactory: InstanceFactory<T>,\n    readonly type: ComponentType\n  ) {}\n\n  setInstantiationMode(mode: InstantiationMode): this {\n    this.instantiationMode = mode;\n    return this;\n  }\n\n  setMultipleInstances(multipleInstances: boolean): this {\n    this.multipleInstances = multipleInstances;\n    return this;\n  }\n\n  setServiceProps(props: Dictionary): this {\n    this.serviceProps = props;\n    return this;\n  }\n\n  setInstanceCreatedCallback(callback: onInstanceCreatedCallback<T>): this {\n    this.onInstanceCreated = callback;\n    return this;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DEFAULT_ENTRY_NAME = '[DEFAULT]';\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Deferred } from '@firebase/util';\nimport { ComponentContainer } from './component_container';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport {\n  InitializeOptions,\n  InstantiationMode,\n  Name,\n  NameServiceMapping,\n  OnInitCallBack\n} from './types';\nimport { Component } from './component';\n\n/**\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\n * NameServiceMapping[T] is an alias for the type of the instance\n */\nexport class Provider<T extends Name> {\n  private component: Component<T> | null = null;\n  private readonly instances: Map<string, NameServiceMapping[T]> = new Map();\n  private readonly instancesDeferred: Map<\n    string,\n    Deferred<NameServiceMapping[T]>\n  > = new Map();\n  private readonly instancesOptions: Map<string, Record<string, unknown>> =\n    new Map();\n  private onInitCallbacks: Map<string, Set<OnInitCallBack<T>>> = new Map();\n\n  constructor(\n    private readonly name: T,\n    private readonly container: ComponentContainer\n  ) {}\n\n  /**\n   * @param identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   */\n  get(identifier?: string): Promise<NameServiceMapping[T]> {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n\n    if (!this.instancesDeferred.has(normalizedIdentifier)) {\n      const deferred = new Deferred<NameServiceMapping[T]>();\n      this.instancesDeferred.set(normalizedIdentifier, deferred);\n\n      if (\n        this.isInitialized(normalizedIdentifier) ||\n        this.shouldAutoInitialize()\n      ) {\n        // initialize the service if it can be auto-initialized\n        try {\n          const instance = this.getOrInitializeService({\n            instanceIdentifier: normalizedIdentifier\n          });\n          if (instance) {\n            deferred.resolve(instance);\n          }\n        } catch (e) {\n          // when the instance factory throws an exception during get(), it should not cause\n          // a fatal error. We just return the unresolved promise in this case.\n        }\n      }\n    }\n\n    return this.instancesDeferred.get(normalizedIdentifier)!.promise;\n  }\n\n  /**\n   *\n   * @param options.identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   * @param options.optional If optional is false or not provided, the method throws an error when\n   * the service is not immediately available.\n   * If optional is true, the method returns null if the service is not immediately available.\n   */\n  getImmediate(options: {\n    identifier?: string;\n    optional: true;\n  }): NameServiceMapping[T] | null;\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: false;\n  }): NameServiceMapping[T];\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: boolean;\n  }): NameServiceMapping[T] | null {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(\n      options?.identifier\n    );\n    const optional = options?.optional ?? false;\n\n    if (\n      this.isInitialized(normalizedIdentifier) ||\n      this.shouldAutoInitialize()\n    ) {\n      try {\n        return this.getOrInitializeService({\n          instanceIdentifier: normalizedIdentifier\n        });\n      } catch (e) {\n        if (optional) {\n          return null;\n        } else {\n          throw e;\n        }\n      }\n    } else {\n      // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw\n      if (optional) {\n        return null;\n      } else {\n        throw Error(`Service ${this.name} is not available`);\n      }\n    }\n  }\n\n  getComponent(): Component<T> | null {\n    return this.component;\n  }\n\n  setComponent(component: Component<T>): void {\n    if (component.name !== this.name) {\n      throw Error(\n        `Mismatching Component ${component.name} for Provider ${this.name}.`\n      );\n    }\n\n    if (this.component) {\n      throw Error(`Component for ${this.name} has already been provided`);\n    }\n\n    this.component = component;\n\n    // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)\n    if (!this.shouldAutoInitialize()) {\n      return;\n    }\n\n    // if the service is eager, initialize the default instance\n    if (isComponentEager(component)) {\n      try {\n        this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });\n      } catch (e) {\n        // when the instance factory for an eager Component throws an exception during the eager\n        // initialization, it should not cause a fatal error.\n        // TODO: Investigate if we need to make it configurable, because some component may want to cause\n        // a fatal error in this case?\n      }\n    }\n\n    // Create service instances for the pending promises and resolve them\n    // NOTE: if this.multipleInstances is false, only the default instance will be created\n    // and all promises with resolve with it regardless of the identifier.\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedIdentifier =\n        this.normalizeInstanceIdentifier(instanceIdentifier);\n\n      try {\n        // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\n        const instance = this.getOrInitializeService({\n          instanceIdentifier: normalizedIdentifier\n        })!;\n        instanceDeferred.resolve(instance);\n      } catch (e) {\n        // when the instance factory throws an exception, it should not cause\n        // a fatal error. We just leave the promise unresolved.\n      }\n    }\n  }\n\n  clearInstance(identifier: string = DEFAULT_ENTRY_NAME): void {\n    this.instancesDeferred.delete(identifier);\n    this.instancesOptions.delete(identifier);\n    this.instances.delete(identifier);\n  }\n\n  // app.delete() will call this method on every provider to delete the services\n  // TODO: should we mark the provider as deleted?\n  async delete(): Promise<void> {\n    const services = Array.from(this.instances.values());\n\n    await Promise.all([\n      ...services\n        .filter(service => 'INTERNAL' in service) // legacy services\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any).INTERNAL!.delete()),\n      ...services\n        .filter(service => '_delete' in service) // modularized services\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any)._delete())\n    ]);\n  }\n\n  isComponentSet(): boolean {\n    return this.component != null;\n  }\n\n  isInitialized(identifier: string = DEFAULT_ENTRY_NAME): boolean {\n    return this.instances.has(identifier);\n  }\n\n  getOptions(identifier: string = DEFAULT_ENTRY_NAME): Record<string, unknown> {\n    return this.instancesOptions.get(identifier) || {};\n  }\n\n  initialize(opts: InitializeOptions = {}): NameServiceMapping[T] {\n    const { options = {} } = opts;\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(\n      opts.instanceIdentifier\n    );\n    if (this.isInitialized(normalizedIdentifier)) {\n      throw Error(\n        `${this.name}(${normalizedIdentifier}) has already been initialized`\n      );\n    }\n\n    if (!this.isComponentSet()) {\n      throw Error(`Component ${this.name} has not been registered yet`);\n    }\n\n    const instance = this.getOrInitializeService({\n      instanceIdentifier: normalizedIdentifier,\n      options\n    })!;\n\n    // resolve any pending promise waiting for the service instance\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedDeferredIdentifier =\n        this.normalizeInstanceIdentifier(instanceIdentifier);\n      if (normalizedIdentifier === normalizedDeferredIdentifier) {\n        instanceDeferred.resolve(instance);\n      }\n    }\n\n    return instance;\n  }\n\n  /**\n   *\n   * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().\n   * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.\n   *\n   * @param identifier An optional instance identifier\n   * @returns a function to unregister the callback\n   */\n  onInit(callback: OnInitCallBack<T>, identifier?: string): () => void {\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n    const existingCallbacks =\n      this.onInitCallbacks.get(normalizedIdentifier) ??\n      new Set<OnInitCallBack<T>>();\n    existingCallbacks.add(callback);\n    this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);\n\n    const existingInstance = this.instances.get(normalizedIdentifier);\n    if (existingInstance) {\n      callback(existingInstance, normalizedIdentifier);\n    }\n\n    return () => {\n      existingCallbacks.delete(callback);\n    };\n  }\n\n  /**\n   * Invoke onInit callbacks synchronously\n   * @param instance the service instance`\n   */\n  private invokeOnInitCallbacks(\n    instance: NameServiceMapping[T],\n    identifier: string\n  ): void {\n    const callbacks = this.onInitCallbacks.get(identifier);\n    if (!callbacks) {\n      return;\n    }\n    for (const callback of callbacks) {\n      try {\n        callback(instance, identifier);\n      } catch {\n        // ignore errors in the onInit callback\n      }\n    }\n  }\n\n  private getOrInitializeService({\n    instanceIdentifier,\n    options = {}\n  }: {\n    instanceIdentifier: string;\n    options?: Record<string, unknown>;\n  }): NameServiceMapping[T] | null {\n    let instance = this.instances.get(instanceIdentifier);\n    if (!instance && this.component) {\n      instance = this.component.instanceFactory(this.container, {\n        instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),\n        options\n      });\n      this.instances.set(instanceIdentifier, instance);\n      this.instancesOptions.set(instanceIdentifier, options);\n\n      /**\n       * Invoke onInit listeners.\n       * Note this.component.onInstanceCreated is different, which is used by the component creator,\n       * while onInit listeners are registered by consumers of the provider.\n       */\n      this.invokeOnInitCallbacks(instance, instanceIdentifier);\n\n      /**\n       * Order is important\n       * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which\n       * makes `isInitialized()` return true.\n       */\n      if (this.component.onInstanceCreated) {\n        try {\n          this.component.onInstanceCreated(\n            this.container,\n            instanceIdentifier,\n            instance\n          );\n        } catch {\n          // ignore errors in the onInstanceCreatedCallback\n        }\n      }\n    }\n\n    return instance || null;\n  }\n\n  private normalizeInstanceIdentifier(\n    identifier: string = DEFAULT_ENTRY_NAME\n  ): string {\n    if (this.component) {\n      return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\n    } else {\n      return identifier; // assume multiple instances are supported before the component is provided.\n    }\n  }\n\n  private shouldAutoInitialize(): boolean {\n    return (\n      !!this.component &&\n      this.component.instantiationMode !== InstantiationMode.EXPLICIT\n    );\n  }\n}\n\n// undefined should be passed to the service factory for the default instance\nfunction normalizeIdentifierForFactory(identifier: string): string | undefined {\n  return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\n}\n\nfunction isComponentEager<T extends Name>(component: Component<T>): boolean {\n  return component.instantiationMode === InstantiationMode.EAGER;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Provider } from './provider';\nimport { Component } from './component';\nimport { Name } from './types';\n\n/**\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\n */\nexport class ComponentContainer {\n  private readonly providers = new Map<string, Provider<Name>>();\n\n  constructor(private readonly name: string) {}\n\n  /**\n   *\n   * @param component Component being added\n   * @param overwrite When a component with the same name has already been registered,\n   * if overwrite is true: overwrite the existing component with the new component and create a new\n   * provider with the new component. It can be useful in tests where you want to use different mocks\n   * for different tests.\n   * if overwrite is false: throw an exception\n   */\n  addComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      throw new Error(\n        `Component ${component.name} has already been registered with ${this.name}`\n      );\n    }\n\n    provider.setComponent(component);\n  }\n\n  addOrOverwriteComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      // delete the existing provider from the container, so we can register the new component\n      this.providers.delete(component.name);\n    }\n\n    this.addComponent(component);\n  }\n\n  /**\n   * getProvider provides a type safe interface where it can only be called with a field name\n   * present in NameServiceMapping interface.\n   *\n   * Firebase SDKs providing services should extend NameServiceMapping interface to register\n   * themselves.\n   */\n  getProvider<T extends Name>(name: T): Provider<T> {\n    if (this.providers.has(name)) {\n      return this.providers.get(name) as unknown as Provider<T>;\n    }\n\n    // create a Provider for a service that hasn't registered with Firebase\n    const provider = new Provider<T>(name, this);\n    this.providers.set(name, provider as unknown as Provider<Name>);\n\n    return provider as Provider<T>;\n  }\n\n  getProviders(): Array<Provider<Name>> {\n    return Array.from(this.providers.values());\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type LogLevelString =\n  | 'debug'\n  | 'verbose'\n  | 'info'\n  | 'warn'\n  | 'error'\n  | 'silent';\n\nexport interface LogOptions {\n  level: LogLevelString;\n}\n\nexport type LogCallback = (callbackParams: LogCallbackParams) => void;\n\nexport interface LogCallbackParams {\n  level: LogLevelString;\n  message: string;\n  args: unknown[];\n  type: string;\n}\n\n/**\n * A container for all of the Logger instances\n */\nexport const instances: Logger[] = [];\n\n/**\n * The JS SDK supports 5 log levels and also allows a user the ability to\n * silence the logs altogether.\n *\n * The order is a follows:\n * DEBUG < VERBOSE < INFO < WARN < ERROR\n *\n * All of the log types above the current log level will be captured (i.e. if\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\n * `VERBOSE` logs will not)\n */\nexport enum LogLevel {\n  DEBUG,\n  VERBOSE,\n  INFO,\n  WARN,\n  ERROR,\n  SILENT\n}\n\nconst levelStringToEnum: { [key in LogLevelString]: LogLevel } = {\n  'debug': LogLevel.DEBUG,\n  'verbose': LogLevel.VERBOSE,\n  'info': LogLevel.INFO,\n  'warn': LogLevel.WARN,\n  'error': LogLevel.ERROR,\n  'silent': LogLevel.SILENT\n};\n\n/**\n * The default log level\n */\nconst defaultLogLevel: LogLevel = LogLevel.INFO;\n\n/**\n * We allow users the ability to pass their own log handler. We will pass the\n * type of log, the current log level, and any other arguments passed (i.e. the\n * messages that the user wants to log) to this function.\n */\nexport type LogHandler = (\n  loggerInstance: Logger,\n  logType: LogLevel,\n  ...args: unknown[]\n) => void;\n\n/**\n * By default, `console.debug` is not displayed in the developer console (in\n * chrome). To avoid forcing users to have to opt-in to these logs twice\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\n * logs to the `console.log` function.\n */\nconst ConsoleMethod = {\n  [LogLevel.DEBUG]: 'log',\n  [LogLevel.VERBOSE]: 'log',\n  [LogLevel.INFO]: 'info',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error'\n};\n\n/**\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\n * messages on to their corresponding console counterparts (if the log method\n * is supported by the current log level)\n */\nconst defaultLogHandler: LogHandler = (instance, logType, ...args): void => {\n  if (logType < instance.logLevel) {\n    return;\n  }\n  const now = new Date().toISOString();\n  const method = ConsoleMethod[logType as keyof typeof ConsoleMethod];\n  if (method) {\n    console[method as 'log' | 'info' | 'warn' | 'error'](\n      `[${now}]  ${instance.name}:`,\n      ...args\n    );\n  } else {\n    throw new Error(\n      `Attempted to log a message with an invalid logType (value: ${logType})`\n    );\n  }\n};\n\nexport class Logger {\n  /**\n   * Gives you an instance of a Logger to capture messages according to\n   * Firebase's logging scheme.\n   *\n   * @param name The name that the logs will be associated with\n   */\n  constructor(public name: string) {\n    /**\n     * Capture the current instance for later use\n     */\n    instances.push(this);\n  }\n\n  /**\n   * The log level of the given Logger instance.\n   */\n  private _logLevel = defaultLogLevel;\n\n  get logLevel(): LogLevel {\n    return this._logLevel;\n  }\n\n  set logLevel(val: LogLevel) {\n    if (!(val in LogLevel)) {\n      throw new TypeError(`Invalid value \"${val}\" assigned to \\`logLevel\\``);\n    }\n    this._logLevel = val;\n  }\n\n  // Workaround for setter/getter having to be the same type.\n  setLogLevel(val: LogLevel | LogLevelString): void {\n    this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;\n  }\n\n  /**\n   * The main (internal) log handler for the Logger instance.\n   * Can be set to a new function in internal package code but not by user.\n   */\n  private _logHandler: LogHandler = defaultLogHandler;\n  get logHandler(): LogHandler {\n    return this._logHandler;\n  }\n  set logHandler(val: LogHandler) {\n    if (typeof val !== 'function') {\n      throw new TypeError('Value assigned to `logHandler` must be a function');\n    }\n    this._logHandler = val;\n  }\n\n  /**\n   * The optional, additional, user-defined log handler for the Logger instance.\n   */\n  private _userLogHandler: LogHandler | null = null;\n  get userLogHandler(): LogHandler | null {\n    return this._userLogHandler;\n  }\n  set userLogHandler(val: LogHandler | null) {\n    this._userLogHandler = val;\n  }\n\n  /**\n   * The functions below are all based on the `console` interface\n   */\n\n  debug(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);\n    this._logHandler(this, LogLevel.DEBUG, ...args);\n  }\n  log(...args: unknown[]): void {\n    this._userLogHandler &&\n      this._userLogHandler(this, LogLevel.VERBOSE, ...args);\n    this._logHandler(this, LogLevel.VERBOSE, ...args);\n  }\n  info(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);\n    this._logHandler(this, LogLevel.INFO, ...args);\n  }\n  warn(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);\n    this._logHandler(this, LogLevel.WARN, ...args);\n  }\n  error(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);\n    this._logHandler(this, LogLevel.ERROR, ...args);\n  }\n}\n\nexport function setLogLevel(level: LogLevelString | LogLevel): void {\n  instances.forEach(inst => {\n    inst.setLogLevel(level);\n  });\n}\n\nexport function setUserLogHandler(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  for (const instance of instances) {\n    let customLogLevel: LogLevel | null = null;\n    if (options && options.level) {\n      customLogLevel = levelStringToEnum[options.level];\n    }\n    if (logCallback === null) {\n      instance.userLogHandler = null;\n    } else {\n      instance.userLogHandler = (\n        instance: Logger,\n        level: LogLevel,\n        ...args: unknown[]\n      ) => {\n        const message = args\n          .map(arg => {\n            if (arg == null) {\n              return null;\n            } else if (typeof arg === 'string') {\n              return arg;\n            } else if (typeof arg === 'number' || typeof arg === 'boolean') {\n              return arg.toString();\n            } else if (arg instanceof Error) {\n              return arg.message;\n            } else {\n              try {\n                return JSON.stringify(arg);\n              } catch (ignored) {\n                return null;\n              }\n            }\n          })\n          .filter(arg => arg)\n          .join(' ');\n        if (level >= (customLogLevel ?? instance.logLevel)) {\n          logCallback({\n            level: LogLevel[level].toLowerCase() as LogLevelString,\n            message,\n            args,\n            type: instance.name\n          });\n        }\n      };\n    }\n  }\n}\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ComponentContainer,\n  ComponentType,\n  Provider,\n  Name\n} from '@firebase/component';\nimport { PlatformLoggerService, VersionService } from './types';\n\nexport class PlatformLoggerServiceImpl implements PlatformLoggerService {\n  constructor(private readonly container: ComponentContainer) {}\n  // In initial implementation, this will be called by installations on\n  // auth token refresh, and installations will send this string.\n  getPlatformInfoString(): string {\n    const providers = this.container.getProviders();\n    // Loop through providers and get library/version pairs from any that are\n    // version components.\n    return providers\n      .map(provider => {\n        if (isVersionServiceProvider(provider)) {\n          const service = provider.getImmediate() as VersionService;\n          return `${service.library}/${service.version}`;\n        } else {\n          return null;\n        }\n      })\n      .filter(logString => logString)\n      .join(' ');\n  }\n}\n/**\n *\n * @param provider check if this provider provides a VersionService\n *\n * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider\n * provides VersionService. The provider is not necessarily a 'app-version'\n * provider.\n */\nfunction isVersionServiceProvider(provider: Provider<Name>): boolean {\n  const component = provider.getComponent();\n  return component?.type === ComponentType.VERSION;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { name as appName } from '../package.json';\nimport { name as appCompatName } from '../../app-compat/package.json';\nimport { name as analyticsCompatName } from '../../../packages/analytics-compat/package.json';\nimport { name as analyticsName } from '../../../packages/analytics/package.json';\nimport { name as appCheckCompatName } from '../../../packages/app-check-compat/package.json';\nimport { name as appCheckName } from '../../../packages/app-check/package.json';\nimport { name as authName } from '../../../packages/auth/package.json';\nimport { name as authCompatName } from '../../../packages/auth-compat/package.json';\nimport { name as databaseName } from '../../../packages/database/package.json';\nimport { name as databaseCompatName } from '../../../packages/database-compat/package.json';\nimport { name as functionsName } from '../../../packages/functions/package.json';\nimport { name as functionsCompatName } from '../../../packages/functions-compat/package.json';\nimport { name as installationsName } from '../../../packages/installations/package.json';\nimport { name as installationsCompatName } from '../../../packages/installations-compat/package.json';\nimport { name as messagingName } from '../../../packages/messaging/package.json';\nimport { name as messagingCompatName } from '../../../packages/messaging-compat/package.json';\nimport { name as performanceName } from '../../../packages/performance/package.json';\nimport { name as performanceCompatName } from '../../../packages/performance-compat/package.json';\nimport { name as remoteConfigName } from '../../../packages/remote-config/package.json';\nimport { name as remoteConfigCompatName } from '../../../packages/remote-config-compat/package.json';\nimport { name as storageName } from '../../../packages/storage/package.json';\nimport { name as storageCompatName } from '../../../packages/storage-compat/package.json';\nimport { name as firestoreName } from '../../../packages/firestore/package.json';\nimport { name as firestoreCompatName } from '../../../packages/firestore-compat/package.json';\nimport { name as packageName } from '../../../packages/firebase/package.json';\n\n/**\n * The default app name\n *\n * @internal\n */\nexport const DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\nexport const PLATFORM_LOG_STRING = {\n  [appName]: 'fire-core',\n  [appCompatName]: 'fire-core-compat',\n  [analyticsName]: 'fire-analytics',\n  [analyticsCompatName]: 'fire-analytics-compat',\n  [appCheckName]: 'fire-app-check',\n  [appCheckCompatName]: 'fire-app-check-compat',\n  [authName]: 'fire-auth',\n  [authCompatName]: 'fire-auth-compat',\n  [databaseName]: 'fire-rtdb',\n  [databaseCompatName]: 'fire-rtdb-compat',\n  [functionsName]: 'fire-fn',\n  [functionsCompatName]: 'fire-fn-compat',\n  [installationsName]: 'fire-iid',\n  [installationsCompatName]: 'fire-iid-compat',\n  [messagingName]: 'fire-fcm',\n  [messagingCompatName]: 'fire-fcm-compat',\n  [performanceName]: 'fire-perf',\n  [performanceCompatName]: 'fire-perf-compat',\n  [remoteConfigName]: 'fire-rc',\n  [remoteConfigCompatName]: 'fire-rc-compat',\n  [storageName]: 'fire-gcs',\n  [storageCompatName]: 'fire-gcs-compat',\n  [firestoreName]: 'fire-fst',\n  [firestoreCompatName]: 'fire-fst-compat',\n  'fire-js': 'fire-js', // Platform identifier for JS SDK.\n  [packageName]: 'fire-js-all'\n} as const;\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp } from './public-types';\nimport { Component, Provider, Name } from '@firebase/component';\nimport { logger } from './logger';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport { FirebaseAppImpl } from './firebaseApp';\n\n/**\n * @internal\n */\nexport const _apps = new Map<string, FirebaseApp>();\n\n/**\n * Registered components.\n *\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const _components = new Map<string, Component<any>>();\n\n/**\n * @param component - the component being added to this app's container\n *\n * @internal\n */\nexport function _addComponent<T extends Name>(\n  app: FirebaseApp,\n  component: Component<T>\n): void {\n  try {\n    (app as FirebaseAppImpl).container.addComponent(component);\n  } catch (e) {\n    logger.debug(\n      `Component ${component.name} failed to register with FirebaseApp ${app.name}`,\n      e\n    );\n  }\n}\n\n/**\n *\n * @internal\n */\nexport function _addOrOverwriteComponent(\n  app: FirebaseApp,\n  component: Component\n): void {\n  (app as FirebaseAppImpl).container.addOrOverwriteComponent(component);\n}\n\n/**\n *\n * @param component - the component to register\n * @returns whether or not the component is registered successfully\n *\n * @internal\n */\nexport function _registerComponent<T extends Name>(\n  component: Component<T>\n): boolean {\n  const componentName = component.name;\n  if (_components.has(componentName)) {\n    logger.debug(\n      `There were multiple attempts to register component ${componentName}.`\n    );\n\n    return false;\n  }\n\n  _components.set(componentName, component);\n\n  // add the component to existing app instances\n  for (const app of _apps.values()) {\n    _addComponent(app as FirebaseAppImpl, component);\n  }\n\n  return true;\n}\n\n/**\n *\n * @param app - FirebaseApp instance\n * @param name - service name\n *\n * @returns the provider for the service with the matching name\n *\n * @internal\n */\nexport function _getProvider<T extends Name>(\n  app: FirebaseApp,\n  name: T\n): Provider<T> {\n  const heartbeatController = (app as FirebaseAppImpl).container\n    .getProvider('heartbeat')\n    .getImmediate({ optional: true });\n  if (heartbeatController) {\n    void heartbeatController.triggerHeartbeat();\n  }\n  return (app as FirebaseAppImpl).container.getProvider(name);\n}\n\n/**\n *\n * @param app - FirebaseApp instance\n * @param name - service name\n * @param instanceIdentifier - service instance identifier in case the service supports multiple instances\n *\n * @internal\n */\nexport function _removeServiceInstance<T extends Name>(\n  app: FirebaseApp,\n  name: T,\n  instanceIdentifier: string = DEFAULT_ENTRY_NAME\n): void {\n  _getProvider(app, name).clearInstance(instanceIdentifier);\n}\n\n/**\n * Test only\n *\n * @internal\n */\nexport function _clearComponents(): void {\n  _components.clear();\n}\n\n/**\n * Exported in order to be used in app-compat package\n */\nexport { DEFAULT_ENTRY_NAME as _DEFAULT_ENTRY_NAME };\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, ErrorMap } from '@firebase/util';\n\nexport const enum AppError {\n  NO_APP = 'no-app',\n  BAD_APP_NAME = 'bad-app-name',\n  DUPLICATE_APP = 'duplicate-app',\n  APP_DELETED = 'app-deleted',\n  INVALID_APP_ARGUMENT = 'invalid-app-argument',\n  INVALID_LOG_ARGUMENT = 'invalid-log-argument',\n  IDB_OPEN = 'idb-open',\n  IDB_GET = 'idb-get',\n  IDB_WRITE = 'idb-set',\n  IDB_DELETE = 'idb-delete'\n}\n\nconst ERRORS: ErrorMap<AppError> = {\n  [AppError.NO_APP]:\n    \"No Firebase App '{$appName}' has been created - \" +\n    'call Firebase App.initializeApp()',\n  [AppError.BAD_APP_NAME]: \"Illegal App name: '{$appName}\",\n  [AppError.DUPLICATE_APP]:\n    \"Firebase App named '{$appName}' already exists with different options or config\",\n  [AppError.APP_DELETED]: \"Firebase App named '{$appName}' already deleted\",\n  [AppError.INVALID_APP_ARGUMENT]:\n    'firebase.{$appName}() takes either no argument or a ' +\n    'Firebase App instance.',\n  [AppError.INVALID_LOG_ARGUMENT]:\n    'First argument to `onLog` must be null or a function.',\n  [AppError.IDB_OPEN]:\n    'Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_GET]:\n    'Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_WRITE]:\n    'Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_DELETE]:\n    'Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.'\n};\n\ninterface ErrorParams {\n  [AppError.NO_APP]: { appName: string };\n  [AppError.BAD_APP_NAME]: { appName: string };\n  [AppError.DUPLICATE_APP]: { appName: string };\n  [AppError.APP_DELETED]: { appName: string };\n  [AppError.INVALID_APP_ARGUMENT]: { appName: string };\n  [AppError.IDB_OPEN]: { originalErrorMessage?: string };\n  [AppError.IDB_GET]: { originalErrorMessage?: string };\n  [AppError.IDB_WRITE]: { originalErrorMessage?: string };\n  [AppError.IDB_DELETE]: { originalErrorMessage?: string };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<AppError, ErrorParams>(\n  'app',\n  'Firebase',\n  ERRORS\n);\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseAppSettings\n} from './public-types';\nimport {\n  ComponentContainer,\n  Component,\n  ComponentType\n} from '@firebase/component';\nimport { ERROR_FACTORY, AppError } from './errors';\n\nexport class FirebaseAppImpl implements FirebaseApp {\n  private readonly _options: FirebaseOptions;\n  private readonly _name: string;\n  /**\n   * Original config values passed in as a constructor parameter.\n   * It is only used to compare with another config object to support idempotent initializeApp().\n   *\n   * Updating automaticDataCollectionEnabled on the App instance will not change its value in _config.\n   */\n  private readonly _config: Required<FirebaseAppSettings>;\n  private _automaticDataCollectionEnabled: boolean;\n  private _isDeleted = false;\n  private readonly _container: ComponentContainer;\n\n  constructor(\n    options: FirebaseOptions,\n    config: Required<FirebaseAppSettings>,\n    container: ComponentContainer\n  ) {\n    this._options = { ...options };\n    this._config = { ...config };\n    this._name = config.name;\n    this._automaticDataCollectionEnabled =\n      config.automaticDataCollectionEnabled;\n    this._container = container;\n    this.container.addComponent(\n      new Component('app', () => this, ComponentType.PUBLIC)\n    );\n  }\n\n  get automaticDataCollectionEnabled(): boolean {\n    this.checkDestroyed();\n    return this._automaticDataCollectionEnabled;\n  }\n\n  set automaticDataCollectionEnabled(val: boolean) {\n    this.checkDestroyed();\n    this._automaticDataCollectionEnabled = val;\n  }\n\n  get name(): string {\n    this.checkDestroyed();\n    return this._name;\n  }\n\n  get options(): FirebaseOptions {\n    this.checkDestroyed();\n    return this._options;\n  }\n\n  get config(): Required<FirebaseAppSettings> {\n    this.checkDestroyed();\n    return this._config;\n  }\n\n  get container(): ComponentContainer {\n    return this._container;\n  }\n\n  get isDeleted(): boolean {\n    return this._isDeleted;\n  }\n\n  set isDeleted(val: boolean) {\n    this._isDeleted = val;\n  }\n\n  /**\n   * This function will throw an Error if the App has already been deleted -\n   * use before performing API actions on the App.\n   */\n  private checkDestroyed(): void {\n    if (this.isDeleted) {\n      throw ERROR_FACTORY.create(AppError.APP_DELETED, { appName: this._name });\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseAppSettings\n} from './public-types';\nimport { DEFAULT_ENTRY_NAME, PLATFORM_LOG_STRING } from './constants';\nimport { ERROR_FACTORY, AppError } from './errors';\nimport {\n  ComponentContainer,\n  Component,\n  Name,\n  ComponentType\n} from '@firebase/component';\nimport { version } from '../../firebase/package.json';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { _apps, _components, _registerComponent } from './internal';\nimport { logger } from './logger';\nimport {\n  LogLevelString,\n  setLogLevel as setLogLevelImpl,\n  LogCallback,\n  LogOptions,\n  setUserLogHandler\n} from '@firebase/logger';\nimport { deepEqual } from '@firebase/util';\n\nexport { FirebaseError } from '@firebase/util';\n\n/**\n * The current SDK version.\n *\n * @public\n */\nexport const SDK_VERSION = version;\n\n/**\n * Creates and initializes a {@link @firebase/app#FirebaseApp} instance.\n *\n * See\n * {@link\n *   https://firebase.google.com/docs/web/setup#add_firebase_to_your_app\n *   | Add Firebase to your app} and\n * {@link\n *   https://firebase.google.com/docs/web/setup#multiple-projects\n *   | Initialize multiple projects} for detailed documentation.\n *\n * @example\n * ```javascript\n *\n * // Initialize default app\n * // Retrieve your own options values by adding a web app on\n * // https://console.firebase.google.com\n * initializeApp({\n *   apiKey: \"AIza....\",                             // Auth / General Use\n *   authDomain: \"YOUR_APP.firebaseapp.com\",         // Auth with popup/redirect\n *   databaseURL: \"https://YOUR_APP.firebaseio.com\", // Realtime Database\n *   storageBucket: \"YOUR_APP.appspot.com\",          // Storage\n *   messagingSenderId: \"123456789\"                  // Cloud Messaging\n * });\n * ```\n *\n * @example\n * ```javascript\n *\n * // Initialize another app\n * const otherApp = initializeApp({\n *   databaseURL: \"https://<OTHER_DATABASE_NAME>.firebaseio.com\",\n *   storageBucket: \"<OTHER_STORAGE_BUCKET>.appspot.com\"\n * }, \"otherApp\");\n * ```\n *\n * @param options - Options to configure the app's services.\n * @param name - Optional name of the app to initialize. If no name\n *   is provided, the default is `\"[DEFAULT]\"`.\n *\n * @returns The initialized app.\n *\n * @public\n */\nexport function initializeApp(\n  options: FirebaseOptions,\n  name?: string\n): FirebaseApp;\n/**\n * Creates and initializes a FirebaseApp instance.\n *\n * @param options - Options to configure the app's services.\n * @param config - FirebaseApp Configuration\n *\n * @public\n */\nexport function initializeApp(\n  options: FirebaseOptions,\n  config?: FirebaseAppSettings\n): FirebaseApp;\nexport function initializeApp(\n  options: FirebaseOptions,\n  rawConfig = {}\n): FirebaseApp {\n  if (typeof rawConfig !== 'object') {\n    const name = rawConfig;\n    rawConfig = { name };\n  }\n\n  const config: Required<FirebaseAppSettings> = {\n    name: DEFAULT_ENTRY_NAME,\n    automaticDataCollectionEnabled: false,\n    ...rawConfig\n  };\n  const name = config.name;\n\n  if (typeof name !== 'string' || !name) {\n    throw ERROR_FACTORY.create(AppError.BAD_APP_NAME, {\n      appName: String(name)\n    });\n  }\n\n  const existingApp = _apps.get(name) as FirebaseAppImpl;\n  if (existingApp) {\n    // return the existing app if options and config deep equal the ones in the existing app.\n    if (\n      deepEqual(options, existingApp.options) &&\n      deepEqual(config, existingApp.config)\n    ) {\n      return existingApp;\n    } else {\n      throw ERROR_FACTORY.create(AppError.DUPLICATE_APP, { appName: name });\n    }\n  }\n\n  const container = new ComponentContainer(name);\n  for (const component of _components.values()) {\n    container.addComponent(component);\n  }\n\n  const newApp = new FirebaseAppImpl(options, config, container);\n\n  _apps.set(name, newApp);\n\n  return newApp;\n}\n\n/**\n * Retrieves a {@link @firebase/app#FirebaseApp} instance.\n *\n * When called with no arguments, the default app is returned. When an app name\n * is provided, the app corresponding to that name is returned.\n *\n * An exception is thrown if the app being retrieved has not yet been\n * initialized.\n *\n * @example\n * ```javascript\n * // Return the default app\n * const app = getApp();\n * ```\n *\n * @example\n * ```javascript\n * // Return a named app\n * const otherApp = getApp(\"otherApp\");\n * ```\n *\n * @param name - Optional name of the app to return. If no name is\n *   provided, the default is `\"[DEFAULT]\"`.\n *\n * @returns The app corresponding to the provided app name.\n *   If no app name is provided, the default app is returned.\n *\n * @public\n */\nexport function getApp(name: string = DEFAULT_ENTRY_NAME): FirebaseApp {\n  const app = _apps.get(name);\n  if (!app) {\n    throw ERROR_FACTORY.create(AppError.NO_APP, { appName: name });\n  }\n\n  return app;\n}\n\n/**\n * A (read-only) array of all initialized apps.\n * @public\n */\nexport function getApps(): FirebaseApp[] {\n  return Array.from(_apps.values());\n}\n\n/**\n * Renders this app unusable and frees the resources of all associated\n * services.\n *\n * @example\n * ```javascript\n * deleteApp(app)\n *   .then(function() {\n *     console.log(\"App deleted successfully\");\n *   })\n *   .catch(function(error) {\n *     console.log(\"Error deleting app:\", error);\n *   });\n * ```\n *\n * @public\n */\nexport async function deleteApp(app: FirebaseApp): Promise<void> {\n  const name = app.name;\n  if (_apps.has(name)) {\n    _apps.delete(name);\n    await Promise.all(\n      (app as FirebaseAppImpl).container\n        .getProviders()\n        .map(provider => provider.delete())\n    );\n    (app as FirebaseAppImpl).isDeleted = true;\n  }\n}\n\n/**\n * Registers a library's name and version for platform logging purposes.\n * @param library - Name of 1p or 3p library (e.g. firestore, angularfire)\n * @param version - Current version of that library.\n * @param variant - Bundle variant, e.g., node, rn, etc.\n *\n * @public\n */\nexport function registerVersion(\n  libraryKeyOrName: string,\n  version: string,\n  variant?: string\n): void {\n  // TODO: We can use this check to whitelist strings when/if we set up\n  // a good whitelist system.\n  let library = PLATFORM_LOG_STRING[libraryKeyOrName] ?? libraryKeyOrName;\n  if (variant) {\n    library += `-${variant}`;\n  }\n  const libraryMismatch = library.match(/\\s|\\//);\n  const versionMismatch = version.match(/\\s|\\//);\n  if (libraryMismatch || versionMismatch) {\n    const warning = [\n      `Unable to register library \"${library}\" with version \"${version}\":`\n    ];\n    if (libraryMismatch) {\n      warning.push(\n        `library name \"${library}\" contains illegal characters (whitespace or \"/\")`\n      );\n    }\n    if (libraryMismatch && versionMismatch) {\n      warning.push('and');\n    }\n    if (versionMismatch) {\n      warning.push(\n        `version name \"${version}\" contains illegal characters (whitespace or \"/\")`\n      );\n    }\n    logger.warn(warning.join(' '));\n    return;\n  }\n  _registerComponent(\n    new Component(\n      `${library}-version` as Name,\n      () => ({ library, version }),\n      ComponentType.VERSION\n    )\n  );\n}\n\n/**\n * Sets log handler for all Firebase SDKs.\n * @param logCallback - An optional custom log handler that executes user code whenever\n * the Firebase SDK makes a logging call.\n *\n * @public\n */\nexport function onLog(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  if (logCallback !== null && typeof logCallback !== 'function') {\n    throw ERROR_FACTORY.create(AppError.INVALID_LOG_ARGUMENT);\n  }\n  setUserLogHandler(logCallback, options);\n}\n\n/**\n * Sets log level for all Firebase SDKs.\n *\n * All of the log types above the current log level are captured (i.e. if\n * you set the log level to `info`, errors are logged, but `debug` and\n * `verbose` logs are not).\n *\n * @public\n */\nexport function setLogLevel(logLevel: LogLevelString): void {\n  setLogLevelImpl(logLevel);\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { DBSchema, openDB, IDBPDatabase } from 'idb';\nimport { AppError, ERROR_FACTORY } from './errors';\nimport { FirebaseApp } from './public-types';\nimport { HeartbeatsInIndexedDB } from './types';\nimport { logger } from './logger';\n\nconst DB_NAME = 'firebase-heartbeat-database';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'firebase-heartbeat-store';\n\ninterface AppDB extends DBSchema {\n  'firebase-heartbeat-store': {\n    key: string;\n    value: HeartbeatsInIndexedDB;\n  };\n}\n\nlet dbPromise: Promise<IDBPDatabase<AppDB>> | null = null;\nfunction getDbPromise(): Promise<IDBPDatabase<AppDB>> {\n  if (!dbPromise) {\n    dbPromise = openDB<AppDB>(DB_NAME, DB_VERSION, {\n      upgrade: (db, oldVersion) => {\n        // We don't use 'break' in this switch statement, the fall-through\n        // behavior is what we want, because if there are multiple versions between\n        // the old version and the current version, we want ALL the migrations\n        // that correspond to those versions to run, not only the last one.\n        // eslint-disable-next-line default-case\n        switch (oldVersion) {\n          case 0:\n            db.createObjectStore(STORE_NAME);\n        }\n      }\n    }).catch(e => {\n      throw ERROR_FACTORY.create(AppError.IDB_OPEN, {\n        originalErrorMessage: e.message\n      });\n    });\n  }\n  return dbPromise;\n}\n\nexport async function readHeartbeatsFromIndexedDB(\n  app: FirebaseApp\n): Promise<HeartbeatsInIndexedDB | undefined> {\n  try {\n    const db = await getDbPromise();\n    return db\n      .transaction(STORE_NAME)\n      .objectStore(STORE_NAME)\n      .get(computeKey(app)) as Promise<HeartbeatsInIndexedDB | undefined>;\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      logger.warn(e.message);\n    } else {\n      const idbGetError = ERROR_FACTORY.create(AppError.IDB_GET, {\n        originalErrorMessage: (e as Error)?.message\n      });\n      logger.warn(idbGetError.message);\n    }\n  }\n}\n\nexport async function writeHeartbeatsToIndexedDB(\n  app: FirebaseApp,\n  heartbeatObject: HeartbeatsInIndexedDB\n): Promise<void> {\n  try {\n    const db = await getDbPromise();\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const objectStore = tx.objectStore(STORE_NAME);\n    await objectStore.put(heartbeatObject, computeKey(app));\n    return tx.done;\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      logger.warn(e.message);\n    } else {\n      const idbGetError = ERROR_FACTORY.create(AppError.IDB_WRITE, {\n        originalErrorMessage: (e as Error)?.message\n      });\n      logger.warn(idbGetError.message);\n    }\n  }\n}\n\nfunction computeKey(app: FirebaseApp): string {\n  return `${app.name}!${app.options.appId}`;\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ComponentContainer } from '@firebase/component';\nimport {\n  base64urlEncodeWithoutPadding,\n  isIndexedDBAvailable,\n  validateIndexedDBOpenable\n} from '@firebase/util';\nimport {\n  readHeartbeatsFromIndexedDB,\n  writeHeartbeatsToIndexedDB\n} from './indexeddb';\nimport { FirebaseApp } from './public-types';\nimport {\n  HeartbeatsByUserAgent,\n  HeartbeatService,\n  HeartbeatsInIndexedDB,\n  HeartbeatStorage,\n  SingleDateHeartbeat\n} from './types';\n\nconst MAX_HEADER_BYTES = 1024;\n// 30 days\nconst STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1000;\n\nexport class HeartbeatServiceImpl implements HeartbeatService {\n  /**\n   * The persistence layer for heartbeats\n   * Leave public for easier testing.\n   */\n  _storage: HeartbeatStorageImpl;\n\n  /**\n   * In-memory cache for heartbeats, used by getHeartbeatsHeader() to generate\n   * the header string.\n   * Stores one record per date. This will be consolidated into the standard\n   * format of one record per user agent string before being sent as a header.\n   * Populated from indexedDB when the controller is instantiated and should\n   * be kept in sync with indexedDB.\n   * Leave public for easier testing.\n   */\n  _heartbeatsCache: HeartbeatsInIndexedDB | null = null;\n\n  /**\n   * the initialization promise for populating heartbeatCache.\n   * If getHeartbeatsHeader() is called before the promise resolves\n   * (hearbeatsCache == null), it should wait for this promise\n   * Leave public for easier testing.\n   */\n  _heartbeatsCachePromise: Promise<HeartbeatsInIndexedDB>;\n  constructor(private readonly container: ComponentContainer) {\n    const app = this.container.getProvider('app').getImmediate();\n    this._storage = new HeartbeatStorageImpl(app);\n    this._heartbeatsCachePromise = this._storage.read().then(result => {\n      this._heartbeatsCache = result;\n      return result;\n    });\n  }\n\n  /**\n   * Called to report a heartbeat. The function will generate\n   * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it\n   * to IndexedDB.\n   * Note that we only store one heartbeat per day. So if a heartbeat for today is\n   * already logged, subsequent calls to this function in the same day will be ignored.\n   */\n  async triggerHeartbeat(): Promise<void> {\n    const platformLogger = this.container\n      .getProvider('platform-logger')\n      .getImmediate();\n\n    // This is the \"Firebase user agent\" string from the platform logger\n    // service, not the browser user agent.\n    const agent = platformLogger.getPlatformInfoString();\n    const date = getUTCDateString();\n    if (this._heartbeatsCache === null) {\n      this._heartbeatsCache = await this._heartbeatsCachePromise;\n    }\n    // Do not store a heartbeat if one is already stored for this day\n    // or if a header has already been sent today.\n    if (\n      this._heartbeatsCache.lastSentHeartbeatDate === date ||\n      this._heartbeatsCache.heartbeats.some(\n        singleDateHeartbeat => singleDateHeartbeat.date === date\n      )\n    ) {\n      return;\n    } else {\n      // There is no entry for this date. Create one.\n      this._heartbeatsCache.heartbeats.push({ date, agent });\n    }\n    // Remove entries older than 30 days.\n    this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter(\n      singleDateHeartbeat => {\n        const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();\n        const now = Date.now();\n        return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;\n      }\n    );\n    return this._storage.overwrite(this._heartbeatsCache);\n  }\n\n  /**\n   * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.\n   * It also clears all heartbeats from memory as well as in IndexedDB.\n   *\n   * NOTE: Consuming product SDKs should not send the header if this method\n   * returns an empty string.\n   */\n  async getHeartbeatsHeader(): Promise<string> {\n    if (this._heartbeatsCache === null) {\n      await this._heartbeatsCachePromise;\n    }\n    // If it's still null or the array is empty, there is no data to send.\n    if (\n      this._heartbeatsCache === null ||\n      this._heartbeatsCache.heartbeats.length === 0\n    ) {\n      return '';\n    }\n    const date = getUTCDateString();\n    // Extract as many heartbeats from the cache as will fit under the size limit.\n    const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(\n      this._heartbeatsCache.heartbeats\n    );\n    const headerString = base64urlEncodeWithoutPadding(\n      JSON.stringify({ version: 2, heartbeats: heartbeatsToSend })\n    );\n    // Store last sent date to prevent another being logged/sent for the same day.\n    this._heartbeatsCache.lastSentHeartbeatDate = date;\n    if (unsentEntries.length > 0) {\n      // Store any unsent entries if they exist.\n      this._heartbeatsCache.heartbeats = unsentEntries;\n      // This seems more likely than emptying the array (below) to lead to some odd state\n      // since the cache isn't empty and this will be called again on the next request,\n      // and is probably safest if we await it.\n      await this._storage.overwrite(this._heartbeatsCache);\n    } else {\n      this._heartbeatsCache.heartbeats = [];\n      // Do not wait for this, to reduce latency.\n      void this._storage.overwrite(this._heartbeatsCache);\n    }\n    return headerString;\n  }\n}\n\nfunction getUTCDateString(): string {\n  const today = new Date();\n  // Returns date format 'YYYY-MM-DD'\n  return today.toISOString().substring(0, 10);\n}\n\nexport function extractHeartbeatsForHeader(\n  heartbeatsCache: SingleDateHeartbeat[],\n  maxSize = MAX_HEADER_BYTES\n): {\n  heartbeatsToSend: HeartbeatsByUserAgent[];\n  unsentEntries: SingleDateHeartbeat[];\n} {\n  // Heartbeats grouped by user agent in the standard format to be sent in\n  // the header.\n  const heartbeatsToSend: HeartbeatsByUserAgent[] = [];\n  // Single date format heartbeats that are not sent.\n  let unsentEntries = heartbeatsCache.slice();\n  for (const singleDateHeartbeat of heartbeatsCache) {\n    // Look for an existing entry with the same user agent.\n    const heartbeatEntry = heartbeatsToSend.find(\n      hb => hb.agent === singleDateHeartbeat.agent\n    );\n    if (!heartbeatEntry) {\n      // If no entry for this user agent exists, create one.\n      heartbeatsToSend.push({\n        agent: singleDateHeartbeat.agent,\n        dates: [singleDateHeartbeat.date]\n      });\n      if (countBytes(heartbeatsToSend) > maxSize) {\n        // If the header would exceed max size, remove the added heartbeat\n        // entry and stop adding to the header.\n        heartbeatsToSend.pop();\n        break;\n      }\n    } else {\n      heartbeatEntry.dates.push(singleDateHeartbeat.date);\n      // If the header would exceed max size, remove the added date\n      // and stop adding to the header.\n      if (countBytes(heartbeatsToSend) > maxSize) {\n        heartbeatEntry.dates.pop();\n        break;\n      }\n    }\n    // Pop unsent entry from queue. (Skipped if adding the entry exceeded\n    // quota and the loop breaks early.)\n    unsentEntries = unsentEntries.slice(1);\n  }\n  return {\n    heartbeatsToSend,\n    unsentEntries\n  };\n}\n\nexport class HeartbeatStorageImpl implements HeartbeatStorage {\n  private _canUseIndexedDBPromise: Promise<boolean>;\n  constructor(public app: FirebaseApp) {\n    this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();\n  }\n  async runIndexedDBEnvironmentCheck(): Promise<boolean> {\n    if (!isIndexedDBAvailable()) {\n      return false;\n    } else {\n      return validateIndexedDBOpenable()\n        .then(() => true)\n        .catch(() => false);\n    }\n  }\n  /**\n   * Read all heartbeats.\n   */\n  async read(): Promise<HeartbeatsInIndexedDB> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return { heartbeats: [] };\n    } else {\n      const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);\n      return idbHeartbeatObject || { heartbeats: [] };\n    }\n  }\n  // overwrite the storage with the provided heartbeats\n  async overwrite(heartbeatsObject: HeartbeatsInIndexedDB): Promise<void> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return;\n    } else {\n      const existingHeartbeatsObject = await this.read();\n      return writeHeartbeatsToIndexedDB(this.app, {\n        lastSentHeartbeatDate:\n          heartbeatsObject.lastSentHeartbeatDate ??\n          existingHeartbeatsObject.lastSentHeartbeatDate,\n        heartbeats: heartbeatsObject.heartbeats\n      });\n    }\n  }\n  // add heartbeats\n  async add(heartbeatsObject: HeartbeatsInIndexedDB): Promise<void> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return;\n    } else {\n      const existingHeartbeatsObject = await this.read();\n      return writeHeartbeatsToIndexedDB(this.app, {\n        lastSentHeartbeatDate:\n          heartbeatsObject.lastSentHeartbeatDate ??\n          existingHeartbeatsObject.lastSentHeartbeatDate,\n        heartbeats: [\n          ...existingHeartbeatsObject.heartbeats,\n          ...heartbeatsObject.heartbeats\n        ]\n      });\n    }\n  }\n}\n\n/**\n * Calculate bytes of a HeartbeatsByUserAgent array after being wrapped\n * in a platform logging header JSON object, stringified, and converted\n * to base 64.\n */\nexport function countBytes(heartbeatsCache: HeartbeatsByUserAgent[]): number {\n  // base64 has a restricted set of characters, all of which should be 1 byte.\n  return base64urlEncodeWithoutPadding(\n    // heartbeatsCache wrapper properties\n    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })\n  ).length;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { GenerateAuthTokenResponse } from '../interfaces/api-response';\nimport {\n  CompletedAuthToken,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport {\n  INSTALLATIONS_API_URL,\n  INTERNAL_AUTH_VERSION\n} from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\nimport { AppConfig } from '../interfaces/installation-impl';\n\nexport function getInstallationsEndpoint({ projectId }: AppConfig): string {\n  return `${INSTALLATIONS_API_URL}/projects/${projectId}/installations`;\n}\n\nexport function extractAuthTokenInfoFromResponse(\n  response: GenerateAuthTokenResponse\n): CompletedAuthToken {\n  return {\n    token: response.token,\n    requestStatus: RequestStatus.COMPLETED,\n    expiresIn: getExpiresInFromResponseExpiresIn(response.expiresIn),\n    creationTime: Date.now()\n  };\n}\n\nexport async function getErrorFromResponse(\n  requestName: string,\n  response: Response\n): Promise<FirebaseError> {\n  const responseJson: ErrorResponse = await response.json();\n  const errorData = responseJson.error;\n  return ERROR_FACTORY.create(ErrorCode.REQUEST_FAILED, {\n    requestName,\n    serverCode: errorData.code,\n    serverMessage: errorData.message,\n    serverStatus: errorData.status\n  });\n}\n\nexport function getHeaders({ apiKey }: AppConfig): Headers {\n  return new Headers({\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n    'x-goog-api-key': apiKey\n  });\n}\n\nexport function getHeadersWithAuth(\n  appConfig: AppConfig,\n  { refreshToken }: RegisteredInstallationEntry\n): Headers {\n  const headers = getHeaders(appConfig);\n  headers.append('Authorization', getAuthorizationHeader(refreshToken));\n  return headers;\n}\n\nexport interface ErrorResponse {\n  error: {\n    code: number;\n    message: string;\n    status: string;\n  };\n}\n\n/**\n * Calls the passed in fetch wrapper and returns the response.\n * If the returned response has a status of 5xx, re-runs the function once and\n * returns the response.\n */\nexport async function retryIfServerError(\n  fn: () => Promise<Response>\n): Promise<Response> {\n  const result = await fn();\n\n  if (result.status >= 500 && result.status < 600) {\n    // Internal Server Error. Retry request.\n    return fn();\n  }\n\n  return result;\n}\n\nfunction getExpiresInFromResponseExpiresIn(responseExpiresIn: string): number {\n  // This works because the server will never respond with fractions of a second.\n  return Number(responseExpiresIn.replace('s', '000'));\n}\n\nfunction getAuthorizationHeader(refreshToken: string): string {\n  return `${INTERNAL_AUTH_VERSION} ${refreshToken}`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CreateInstallationResponse } from '../interfaces/api-response';\nimport {\n  InProgressInstallationEntry,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport { INTERNAL_AUTH_VERSION, PACKAGE_VERSION } from '../util/constants';\nimport {\n  extractAuthTokenInfoFromResponse,\n  getErrorFromResponse,\n  getHeaders,\n  getInstallationsEndpoint,\n  retryIfServerError\n} from './common';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\n\nexport async function createInstallationRequest(\n  { appConfig, heartbeatServiceProvider }: FirebaseInstallationsImpl,\n  { fid }: InProgressInstallationEntry\n): Promise<RegisteredInstallationEntry> {\n  const endpoint = getInstallationsEndpoint(appConfig);\n\n  const headers = getHeaders(appConfig);\n\n  // If heartbeat service exists, add the heartbeat string to the header.\n  const heartbeatService = heartbeatServiceProvider.getImmediate({\n    optional: true\n  });\n  if (heartbeatService) {\n    const heartbeatsHeader = await heartbeatService.getHeartbeatsHeader();\n    if (heartbeatsHeader) {\n      headers.append('x-firebase-client', heartbeatsHeader);\n    }\n  }\n\n  const body = {\n    fid,\n    authVersion: INTERNAL_AUTH_VERSION,\n    appId: appConfig.appId,\n    sdkVersion: PACKAGE_VERSION\n  };\n\n  const request: RequestInit = {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(body)\n  };\n\n  const response = await retryIfServerError(() => fetch(endpoint, request));\n  if (response.ok) {\n    const responseValue: CreateInstallationResponse = await response.json();\n    const registeredInstallationEntry: RegisteredInstallationEntry = {\n      fid: responseValue.fid || fid,\n      registrationStatus: RequestStatus.COMPLETED,\n      refreshToken: responseValue.refreshToken,\n      authToken: extractAuthTokenInfoFromResponse(responseValue.authToken)\n    };\n    return registeredInstallationEntry;\n  } else {\n    throw await getErrorFromResponse('Create Installation', response);\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function bufferToBase64UrlSafe(array: Uint8Array): string {\n  const b64 = btoa(String.fromCharCode(...array));\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bufferToBase64UrlSafe } from './buffer-to-base64-url-safe';\n\nexport const VALID_FID_PATTERN = /^[cdef][\\w-]{21}$/;\nexport const INVALID_FID = '';\n\n/**\n * Generates a new FID using random values from Web Crypto API.\n * Returns an empty string if FID generation fails for any reason.\n */\nexport function generateFid(): string {\n  try {\n    // A valid FID has exactly 22 base64 characters, which is 132 bits, or 16.5\n    // bytes. our implementation generates a 17 byte array instead.\n    const fidByteArray = new Uint8Array(17);\n    const crypto =\n      self.crypto || (self as unknown as { msCrypto: Crypto }).msCrypto;\n    crypto.getRandomValues(fidByteArray);\n\n    // Replace the first 4 random bits with the constant FID header of 0b0111.\n    fidByteArray[0] = 0b01110000 + (fidByteArray[0] % 0b00010000);\n\n    const fid = encode(fidByteArray);\n\n    return VALID_FID_PATTERN.test(fid) ? fid : INVALID_FID;\n  } catch {\n    // FID generation errored\n    return INVALID_FID;\n  }\n}\n\n/** Converts a FID Uint8Array to a base64 string representation. */\nfunction encode(fidByteArray: Uint8Array): string {\n  const b64String = bufferToBase64UrlSafe(fidByteArray);\n\n  // Remove the 23rd character that was added because of the extra 4 bits at the\n  // end of our 17 byte array, and the '=' padding.\n  return b64String.substr(0, 22);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Returns a promise that resolves after given time passes. */\nexport function sleep(ms: number): Promise<void> {\n  return new Promise<void>(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getKey } from '../util/get-key';\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { IdChangeCallbackFn } from '../api';\n\nconst fidChangeCallbacks: Map<string, Set<IdChangeCallbackFn>> = new Map();\n\n/**\n * Calls the onIdChange callbacks with the new FID value, and broadcasts the\n * change to other tabs.\n */\nexport function fidChanged(appConfig: AppConfig, fid: string): void {\n  const key = getKey(appConfig);\n\n  callFidChangeCallbacks(key, fid);\n  broadcastFidChange(key, fid);\n}\n\nexport function addCallback(\n  appConfig: AppConfig,\n  callback: IdChangeCallbackFn\n): void {\n  // Open the broadcast channel if it's not already open,\n  // to be able to listen to change events from other tabs.\n  getBroadcastChannel();\n\n  const key = getKey(appConfig);\n\n  let callbackSet = fidChangeCallbacks.get(key);\n  if (!callbackSet) {\n    callbackSet = new Set();\n    fidChangeCallbacks.set(key, callbackSet);\n  }\n  callbackSet.add(callback);\n}\n\nexport function removeCallback(\n  appConfig: AppConfig,\n  callback: IdChangeCallbackFn\n): void {\n  const key = getKey(appConfig);\n\n  const callbackSet = fidChangeCallbacks.get(key);\n\n  if (!callbackSet) {\n    return;\n  }\n\n  callbackSet.delete(callback);\n  if (callbackSet.size === 0) {\n    fidChangeCallbacks.delete(key);\n  }\n\n  // Close broadcast channel if there are no more callbacks.\n  closeBroadcastChannel();\n}\n\nfunction callFidChangeCallbacks(key: string, fid: string): void {\n  const callbacks = fidChangeCallbacks.get(key);\n  if (!callbacks) {\n    return;\n  }\n\n  for (const callback of callbacks) {\n    callback(fid);\n  }\n}\n\nfunction broadcastFidChange(key: string, fid: string): void {\n  const channel = getBroadcastChannel();\n  if (channel) {\n    channel.postMessage({ key, fid });\n  }\n  closeBroadcastChannel();\n}\n\nlet broadcastChannel: BroadcastChannel | null = null;\n/** Opens and returns a BroadcastChannel if it is supported by the browser. */\nfunction getBroadcastChannel(): BroadcastChannel | null {\n  if (!broadcastChannel && 'BroadcastChannel' in self) {\n    broadcastChannel = new BroadcastChannel('[Firebase] FID Change');\n    broadcastChannel.onmessage = e => {\n      callFidChangeCallbacks(e.data.key, e.data.fid);\n    };\n  }\n  return broadcastChannel;\n}\n\nfunction closeBroadcastChannel(): void {\n  if (fidChangeCallbacks.size === 0 && broadcastChannel) {\n    broadcastChannel.close();\n    broadcastChannel = null;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DBSchema, IDBPDatabase, openDB } from 'idb';\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { InstallationEntry } from '../interfaces/installation-entry';\nimport { getKey } from '../util/get-key';\nimport { fidChanged } from './fid-changed';\n\nconst DATABASE_NAME = 'firebase-installations-database';\nconst DATABASE_VERSION = 1;\nconst OBJECT_STORE_NAME = 'firebase-installations-store';\n\ninterface InstallationsDB extends DBSchema {\n  'firebase-installations-store': {\n    key: string;\n    value: InstallationEntry | undefined;\n  };\n}\n\nlet dbPromise: Promise<IDBPDatabase<InstallationsDB>> | null = null;\nfunction getDbPromise(): Promise<IDBPDatabase<InstallationsDB>> {\n  if (!dbPromise) {\n    dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\n      upgrade: (db, oldVersion) => {\n        // We don't use 'break' in this switch statement, the fall-through\n        // behavior is what we want, because if there are multiple versions between\n        // the old version and the current version, we want ALL the migrations\n        // that correspond to those versions to run, not only the last one.\n        // eslint-disable-next-line default-case\n        switch (oldVersion) {\n          case 0:\n            db.createObjectStore(OBJECT_STORE_NAME);\n        }\n      }\n    });\n  }\n  return dbPromise;\n}\n\n/** Gets record(s) from the objectStore that match the given key. */\nexport async function get(\n  appConfig: AppConfig\n): Promise<InstallationEntry | undefined> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  return db\n    .transaction(OBJECT_STORE_NAME)\n    .objectStore(OBJECT_STORE_NAME)\n    .get(key) as Promise<InstallationEntry>;\n}\n\n/** Assigns or overwrites the record for the given key with the given value. */\nexport async function set<ValueType extends InstallationEntry>(\n  appConfig: AppConfig,\n  value: ValueType\n): Promise<ValueType> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  const objectStore = tx.objectStore(OBJECT_STORE_NAME);\n  const oldValue = (await objectStore.get(key)) as InstallationEntry;\n  await objectStore.put(value, key);\n  await tx.done;\n\n  if (!oldValue || oldValue.fid !== value.fid) {\n    fidChanged(appConfig, value.fid);\n  }\n\n  return value;\n}\n\n/** Removes record(s) from the objectStore that match the given key. */\nexport async function remove(appConfig: AppConfig): Promise<void> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  await tx.objectStore(OBJECT_STORE_NAME).delete(key);\n  await tx.done;\n}\n\n/**\n * Atomically updates a record with the result of updateFn, which gets\n * called with the current value. If newValue is undefined, the record is\n * deleted instead.\n * @return Updated value\n */\nexport async function update<ValueType extends InstallationEntry | undefined>(\n  appConfig: AppConfig,\n  updateFn: (previousValue: InstallationEntry | undefined) => ValueType\n): Promise<ValueType> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  const store = tx.objectStore(OBJECT_STORE_NAME);\n  const oldValue: InstallationEntry | undefined = (await store.get(\n    key\n  )) as InstallationEntry;\n  const newValue = updateFn(oldValue);\n\n  if (newValue === undefined) {\n    await store.delete(key);\n  } else {\n    await store.put(newValue, key);\n  }\n  await tx.done;\n\n  if (newValue && (!oldValue || oldValue.fid !== newValue.fid)) {\n    fidChanged(appConfig, newValue.fid);\n  }\n\n  return newValue;\n}\n\nexport async function clear(): Promise<void> {\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  await tx.objectStore(OBJECT_STORE_NAME).clear();\n  await tx.done;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createInstallationRequest } from '../functions/create-installation-request';\nimport {\n  AppConfig,\n  FirebaseInstallationsImpl\n} from '../interfaces/installation-impl';\nimport {\n  InProgressInstallationEntry,\n  InstallationEntry,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport { PENDING_TIMEOUT_MS } from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode, isServerError } from '../util/errors';\nimport { sleep } from '../util/sleep';\nimport { generateFid, INVALID_FID } from './generate-fid';\nimport { remove, set, update } from './idb-manager';\n\nexport interface InstallationEntryWithRegistrationPromise {\n  installationEntry: InstallationEntry;\n  /** Exist iff the installationEntry is not registered. */\n  registrationPromise?: Promise<RegisteredInstallationEntry>;\n}\n\n/**\n * Updates and returns the InstallationEntry from the database.\n * Also triggers a registration request if it is necessary and possible.\n */\nexport async function getInstallationEntry(\n  installations: FirebaseInstallationsImpl\n): Promise<InstallationEntryWithRegistrationPromise> {\n  let registrationPromise: Promise<RegisteredInstallationEntry> | undefined;\n\n  const installationEntry = await update(installations.appConfig, oldEntry => {\n    const installationEntry = updateOrCreateInstallationEntry(oldEntry);\n    const entryWithPromise = triggerRegistrationIfNecessary(\n      installations,\n      installationEntry\n    );\n    registrationPromise = entryWithPromise.registrationPromise;\n    return entryWithPromise.installationEntry;\n  });\n\n  if (installationEntry.fid === INVALID_FID) {\n    // FID generation failed. Waiting for the FID from the server.\n    return { installationEntry: await registrationPromise! };\n  }\n\n  return {\n    installationEntry,\n    registrationPromise\n  };\n}\n\n/**\n * Creates a new Installation Entry if one does not exist.\n * Also clears timed out pending requests.\n */\nfunction updateOrCreateInstallationEntry(\n  oldEntry: InstallationEntry | undefined\n): InstallationEntry {\n  const entry: InstallationEntry = oldEntry || {\n    fid: generateFid(),\n    registrationStatus: RequestStatus.NOT_STARTED\n  };\n\n  return clearTimedOutRequest(entry);\n}\n\n/**\n * If the Firebase Installation is not registered yet, this will trigger the\n * registration and return an InProgressInstallationEntry.\n *\n * If registrationPromise does not exist, the installationEntry is guaranteed\n * to be registered.\n */\nfunction triggerRegistrationIfNecessary(\n  installations: FirebaseInstallationsImpl,\n  installationEntry: InstallationEntry\n): InstallationEntryWithRegistrationPromise {\n  if (installationEntry.registrationStatus === RequestStatus.NOT_STARTED) {\n    if (!navigator.onLine) {\n      // Registration required but app is offline.\n      const registrationPromiseWithError = Promise.reject(\n        ERROR_FACTORY.create(ErrorCode.APP_OFFLINE)\n      );\n      return {\n        installationEntry,\n        registrationPromise: registrationPromiseWithError\n      };\n    }\n\n    // Try registering. Change status to IN_PROGRESS.\n    const inProgressEntry: InProgressInstallationEntry = {\n      fid: installationEntry.fid,\n      registrationStatus: RequestStatus.IN_PROGRESS,\n      registrationTime: Date.now()\n    };\n    const registrationPromise = registerInstallation(\n      installations,\n      inProgressEntry\n    );\n    return { installationEntry: inProgressEntry, registrationPromise };\n  } else if (\n    installationEntry.registrationStatus === RequestStatus.IN_PROGRESS\n  ) {\n    return {\n      installationEntry,\n      registrationPromise: waitUntilFidRegistration(installations)\n    };\n  } else {\n    return { installationEntry };\n  }\n}\n\n/** This will be executed only once for each new Firebase Installation. */\nasync function registerInstallation(\n  installations: FirebaseInstallationsImpl,\n  installationEntry: InProgressInstallationEntry\n): Promise<RegisteredInstallationEntry> {\n  try {\n    const registeredInstallationEntry = await createInstallationRequest(\n      installations,\n      installationEntry\n    );\n    return set(installations.appConfig, registeredInstallationEntry);\n  } catch (e) {\n    if (isServerError(e) && e.customData.serverCode === 409) {\n      // Server returned a \"FID can not be used\" error.\n      // Generate a new ID next time.\n      await remove(installations.appConfig);\n    } else {\n      // Registration failed. Set FID as not registered.\n      await set(installations.appConfig, {\n        fid: installationEntry.fid,\n        registrationStatus: RequestStatus.NOT_STARTED\n      });\n    }\n    throw e;\n  }\n}\n\n/** Call if FID registration is pending in another request. */\nasync function waitUntilFidRegistration(\n  installations: FirebaseInstallationsImpl\n): Promise<RegisteredInstallationEntry> {\n  // Unfortunately, there is no way of reliably observing when a value in\n  // IndexedDB changes (yet, see https://github.com/WICG/indexed-db-observers),\n  // so we need to poll.\n\n  let entry: InstallationEntry = await updateInstallationRequest(\n    installations.appConfig\n  );\n  while (entry.registrationStatus === RequestStatus.IN_PROGRESS) {\n    // createInstallation request still in progress.\n    await sleep(100);\n\n    entry = await updateInstallationRequest(installations.appConfig);\n  }\n\n  if (entry.registrationStatus === RequestStatus.NOT_STARTED) {\n    // The request timed out or failed in a different call. Try again.\n    const { installationEntry, registrationPromise } =\n      await getInstallationEntry(installations);\n\n    if (registrationPromise) {\n      return registrationPromise;\n    } else {\n      // if there is no registrationPromise, entry is registered.\n      return installationEntry as RegisteredInstallationEntry;\n    }\n  }\n\n  return entry;\n}\n\n/**\n * Called only if there is a CreateInstallation request in progress.\n *\n * Updates the InstallationEntry in the DB based on the status of the\n * CreateInstallation request.\n *\n * Returns the updated InstallationEntry.\n */\nfunction updateInstallationRequest(\n  appConfig: AppConfig\n): Promise<InstallationEntry> {\n  return update(appConfig, oldEntry => {\n    if (!oldEntry) {\n      throw ERROR_FACTORY.create(ErrorCode.INSTALLATION_NOT_FOUND);\n    }\n    return clearTimedOutRequest(oldEntry);\n  });\n}\n\nfunction clearTimedOutRequest(entry: InstallationEntry): InstallationEntry {\n  if (hasInstallationRequestTimedOut(entry)) {\n    return {\n      fid: entry.fid,\n      registrationStatus: RequestStatus.NOT_STARTED\n    };\n  }\n\n  return entry;\n}\n\nfunction hasInstallationRequestTimedOut(\n  installationEntry: InstallationEntry\n): boolean {\n  return (\n    installationEntry.registrationStatus === RequestStatus.IN_PROGRESS &&\n    installationEntry.registrationTime + PENDING_TIMEOUT_MS < Date.now()\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { GenerateAuthTokenResponse } from '../interfaces/api-response';\nimport {\n  CompletedAuthToken,\n  RegisteredInstallationEntry\n} from '../interfaces/installation-entry';\nimport { PACKAGE_VERSION } from '../util/constants';\nimport {\n  extractAuthTokenInfoFromResponse,\n  getErrorFromResponse,\n  getHeadersWithAuth,\n  getInstallationsEndpoint,\n  retryIfServerError\n} from './common';\nimport {\n  FirebaseInstallationsImpl,\n  AppConfig\n} from '../interfaces/installation-impl';\n\nexport async function generateAuthTokenRequest(\n  { appConfig, heartbeatServiceProvider }: FirebaseInstallationsImpl,\n  installationEntry: RegisteredInstallationEntry\n): Promise<CompletedAuthToken> {\n  const endpoint = getGenerateAuthTokenEndpoint(appConfig, installationEntry);\n\n  const headers = getHeadersWithAuth(appConfig, installationEntry);\n\n  // If heartbeat service exists, add the heartbeat string to the header.\n  const heartbeatService = heartbeatServiceProvider.getImmediate({\n    optional: true\n  });\n  if (heartbeatService) {\n    const heartbeatsHeader = await heartbeatService.getHeartbeatsHeader();\n    if (heartbeatsHeader) {\n      headers.append('x-firebase-client', heartbeatsHeader);\n    }\n  }\n\n  const body = {\n    installation: {\n      sdkVersion: PACKAGE_VERSION,\n      appId: appConfig.appId\n    }\n  };\n\n  const request: RequestInit = {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(body)\n  };\n\n  const response = await retryIfServerError(() => fetch(endpoint, request));\n  if (response.ok) {\n    const responseValue: GenerateAuthTokenResponse = await response.json();\n    const completedAuthToken: CompletedAuthToken =\n      extractAuthTokenInfoFromResponse(responseValue);\n    return completedAuthToken;\n  } else {\n    throw await getErrorFromResponse('Generate Auth Token', response);\n  }\n}\n\nfunction getGenerateAuthTokenEndpoint(\n  appConfig: AppConfig,\n  { fid }: RegisteredInstallationEntry\n): string {\n  return `${getInstallationsEndpoint(appConfig)}/${fid}/authTokens:generate`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { generateAuthTokenRequest } from '../functions/generate-auth-token-request';\nimport {\n  AppConfig,\n  FirebaseInstallationsImpl\n} from '../interfaces/installation-impl';\nimport {\n  AuthToken,\n  CompletedAuthToken,\n  InProgressAuthToken,\n  InstallationEntry,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport { PENDING_TIMEOUT_MS, TOKEN_EXPIRATION_BUFFER } from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode, isServerError } from '../util/errors';\nimport { sleep } from '../util/sleep';\nimport { remove, set, update } from './idb-manager';\n\n/**\n * Returns a valid authentication token for the installation. Generates a new\n * token if one doesn't exist, is expired or about to expire.\n *\n * Should only be called if the Firebase Installation is registered.\n */\nexport async function refreshAuthToken(\n  installations: FirebaseInstallationsImpl,\n  forceRefresh = false\n): Promise<CompletedAuthToken> {\n  let tokenPromise: Promise<CompletedAuthToken> | undefined;\n  const entry = await update(installations.appConfig, oldEntry => {\n    if (!isEntryRegistered(oldEntry)) {\n      throw ERROR_FACTORY.create(ErrorCode.NOT_REGISTERED);\n    }\n\n    const oldAuthToken = oldEntry.authToken;\n    if (!forceRefresh && isAuthTokenValid(oldAuthToken)) {\n      // There is a valid token in the DB.\n      return oldEntry;\n    } else if (oldAuthToken.requestStatus === RequestStatus.IN_PROGRESS) {\n      // There already is a token request in progress.\n      tokenPromise = waitUntilAuthTokenRequest(installations, forceRefresh);\n      return oldEntry;\n    } else {\n      // No token or token expired.\n      if (!navigator.onLine) {\n        throw ERROR_FACTORY.create(ErrorCode.APP_OFFLINE);\n      }\n\n      const inProgressEntry = makeAuthTokenRequestInProgressEntry(oldEntry);\n      tokenPromise = fetchAuthTokenFromServer(installations, inProgressEntry);\n      return inProgressEntry;\n    }\n  });\n\n  const authToken = tokenPromise\n    ? await tokenPromise\n    : (entry.authToken as CompletedAuthToken);\n  return authToken;\n}\n\n/**\n * Call only if FID is registered and Auth Token request is in progress.\n *\n * Waits until the current pending request finishes. If the request times out,\n * tries once in this thread as well.\n */\nasync function waitUntilAuthTokenRequest(\n  installations: FirebaseInstallationsImpl,\n  forceRefresh: boolean\n): Promise<CompletedAuthToken> {\n  // Unfortunately, there is no way of reliably observing when a value in\n  // IndexedDB changes (yet, see https://github.com/WICG/indexed-db-observers),\n  // so we need to poll.\n\n  let entry = await updateAuthTokenRequest(installations.appConfig);\n  while (entry.authToken.requestStatus === RequestStatus.IN_PROGRESS) {\n    // generateAuthToken still in progress.\n    await sleep(100);\n\n    entry = await updateAuthTokenRequest(installations.appConfig);\n  }\n\n  const authToken = entry.authToken;\n  if (authToken.requestStatus === RequestStatus.NOT_STARTED) {\n    // The request timed out or failed in a different call. Try again.\n    return refreshAuthToken(installations, forceRefresh);\n  } else {\n    return authToken;\n  }\n}\n\n/**\n * Called only if there is a GenerateAuthToken request in progress.\n *\n * Updates the InstallationEntry in the DB based on the status of the\n * GenerateAuthToken request.\n *\n * Returns the updated InstallationEntry.\n */\nfunction updateAuthTokenRequest(\n  appConfig: AppConfig\n): Promise<RegisteredInstallationEntry> {\n  return update(appConfig, oldEntry => {\n    if (!isEntryRegistered(oldEntry)) {\n      throw ERROR_FACTORY.create(ErrorCode.NOT_REGISTERED);\n    }\n\n    const oldAuthToken = oldEntry.authToken;\n    if (hasAuthTokenRequestTimedOut(oldAuthToken)) {\n      return {\n        ...oldEntry,\n        authToken: { requestStatus: RequestStatus.NOT_STARTED }\n      };\n    }\n\n    return oldEntry;\n  });\n}\n\nasync function fetchAuthTokenFromServer(\n  installations: FirebaseInstallationsImpl,\n  installationEntry: RegisteredInstallationEntry\n): Promise<CompletedAuthToken> {\n  try {\n    const authToken = await generateAuthTokenRequest(\n      installations,\n      installationEntry\n    );\n    const updatedInstallationEntry: RegisteredInstallationEntry = {\n      ...installationEntry,\n      authToken\n    };\n    await set(installations.appConfig, updatedInstallationEntry);\n    return authToken;\n  } catch (e) {\n    if (\n      isServerError(e) &&\n      (e.customData.serverCode === 401 || e.customData.serverCode === 404)\n    ) {\n      // Server returned a \"FID not found\" or a \"Invalid authentication\" error.\n      // Generate a new ID next time.\n      await remove(installations.appConfig);\n    } else {\n      const updatedInstallationEntry: RegisteredInstallationEntry = {\n        ...installationEntry,\n        authToken: { requestStatus: RequestStatus.NOT_STARTED }\n      };\n      await set(installations.appConfig, updatedInstallationEntry);\n    }\n    throw e;\n  }\n}\n\nfunction isEntryRegistered(\n  installationEntry: InstallationEntry | undefined\n): installationEntry is RegisteredInstallationEntry {\n  return (\n    installationEntry !== undefined &&\n    installationEntry.registrationStatus === RequestStatus.COMPLETED\n  );\n}\n\nfunction isAuthTokenValid(authToken: AuthToken): boolean {\n  return (\n    authToken.requestStatus === RequestStatus.COMPLETED &&\n    !isAuthTokenExpired(authToken)\n  );\n}\n\nfunction isAuthTokenExpired(authToken: CompletedAuthToken): boolean {\n  const now = Date.now();\n  return (\n    now < authToken.creationTime ||\n    authToken.creationTime + authToken.expiresIn < now + TOKEN_EXPIRATION_BUFFER\n  );\n}\n\n/** Returns an updated InstallationEntry with an InProgressAuthToken. */\nfunction makeAuthTokenRequestInProgressEntry(\n  oldEntry: RegisteredInstallationEntry\n): RegisteredInstallationEntry {\n  const inProgressAuthToken: InProgressAuthToken = {\n    requestStatus: RequestStatus.IN_PROGRESS,\n    requestTime: Date.now()\n  };\n  return {\n    ...oldEntry,\n    authToken: inProgressAuthToken\n  };\n}\n\nfunction hasAuthTokenRequestTimedOut(authToken: AuthToken): boolean {\n  return (\n    authToken.requestStatus === RequestStatus.IN_PROGRESS &&\n    authToken.requestTime + PENDING_TIMEOUT_MS < Date.now()\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getInstallationEntry } from '../helpers/get-installation-entry';\nimport { refreshAuthToken } from '../helpers/refresh-auth-token';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Creates a Firebase Installation if there isn't one for the app and\n * returns the Installation ID.\n * @param installations - The `Installations` instance.\n *\n * @public\n */\nexport async function getId(installations: Installations): Promise<string> {\n  const installationsImpl = installations as FirebaseInstallationsImpl;\n  const { installationEntry, registrationPromise } = await getInstallationEntry(\n    installationsImpl\n  );\n\n  if (registrationPromise) {\n    registrationPromise.catch(console.error);\n  } else {\n    // If the installation is already registered, update the authentication\n    // token if needed.\n    refreshAuthToken(installationsImpl).catch(console.error);\n  }\n\n  return installationEntry.fid;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getInstallationEntry } from '../helpers/get-installation-entry';\nimport { refreshAuthToken } from '../helpers/refresh-auth-token';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Returns a Firebase Installations auth token, identifying the current\n * Firebase Installation.\n * @param installations - The `Installations` instance.\n * @param forceRefresh - Force refresh regardless of token expiration.\n *\n * @public\n */\nexport async function getToken(\n  installations: Installations,\n  forceRefresh = false\n): Promise<string> {\n  const installationsImpl = installations as FirebaseInstallationsImpl;\n  await completeInstallationRegistration(installationsImpl);\n\n  // At this point we either have a Registered Installation in the DB, or we've\n  // already thrown an error.\n  const authToken = await refreshAuthToken(installationsImpl, forceRefresh);\n  return authToken.token;\n}\n\nasync function completeInstallationRegistration(\n  installations: FirebaseInstallationsImpl\n): Promise<void> {\n  const { registrationPromise } = await getInstallationEntry(installations);\n\n  if (registrationPromise) {\n    // A createInstallation request is in progress. Wait until it finishes.\n    await registrationPromise;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AppConfig } from '../interfaces/installation-impl';\n\n/** Returns a string key that can be used to identify the app. */\nexport function getKey(appConfig: AppConfig): string {\n  return `${appConfig.appName}!${appConfig.appId}`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, FirebaseError } from '@firebase/util';\nimport { SERVICE, SERVICE_NAME } from './constants';\n\nexport const enum ErrorCode {\n  MISSING_APP_CONFIG_VALUES = 'missing-app-config-values',\n  NOT_REGISTERED = 'not-registered',\n  INSTALLATION_NOT_FOUND = 'installation-not-found',\n  REQUEST_FAILED = 'request-failed',\n  APP_OFFLINE = 'app-offline',\n  DELETE_PENDING_REGISTRATION = 'delete-pending-registration'\n}\n\nconst ERROR_DESCRIPTION_MAP: { readonly [key in ErrorCode]: string } = {\n  [ErrorCode.MISSING_APP_CONFIG_VALUES]:\n    'Missing App configuration value: \"{$valueName}\"',\n  [ErrorCode.NOT_REGISTERED]: 'Firebase Installation is not registered.',\n  [ErrorCode.INSTALLATION_NOT_FOUND]: 'Firebase Installation not found.',\n  [ErrorCode.REQUEST_FAILED]:\n    '{$requestName} request failed with error \"{$serverCode} {$serverStatus}: {$serverMessage}\"',\n  [ErrorCode.APP_OFFLINE]: 'Could not process request. Application offline.',\n  [ErrorCode.DELETE_PENDING_REGISTRATION]:\n    \"Can't delete installation while there is a pending registration request.\"\n};\n\ninterface ErrorParams {\n  [ErrorCode.MISSING_APP_CONFIG_VALUES]: {\n    valueName: string;\n  };\n  [ErrorCode.REQUEST_FAILED]: {\n    requestName: string;\n    [index: string]: string | number; // to make Typescript 3.8 happy\n  } & ServerErrorData;\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<ErrorCode, ErrorParams>(\n  SERVICE,\n  SERVICE_NAME,\n  ERROR_DESCRIPTION_MAP\n);\n\nexport interface ServerErrorData {\n  serverCode: number;\n  serverMessage: string;\n  serverStatus: string;\n}\n\nexport type ServerError = FirebaseError & { customData: ServerErrorData };\n\n/** Returns true if error is a FirebaseError that is based on an error from the server. */\nexport function isServerError(error: unknown): error is ServerError {\n  return (\n    error instanceof FirebaseError &&\n    error.code.includes(ErrorCode.REQUEST_FAILED)\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { RegisteredInstallationEntry } from '../interfaces/installation-entry';\nimport {\n  getErrorFromResponse,\n  getHeadersWithAuth,\n  getInstallationsEndpoint,\n  retryIfServerError\n} from './common';\n\nexport async function deleteInstallationRequest(\n  appConfig: AppConfig,\n  installationEntry: RegisteredInstallationEntry\n): Promise<void> {\n  const endpoint = getDeleteEndpoint(appConfig, installationEntry);\n\n  const headers = getHeadersWithAuth(appConfig, installationEntry);\n  const request: RequestInit = {\n    method: 'DELETE',\n    headers\n  };\n\n  const response = await retryIfServerError(() => fetch(endpoint, request));\n  if (!response.ok) {\n    throw await getErrorFromResponse('Delete Installation', response);\n  }\n}\n\nfunction getDeleteEndpoint(\n  appConfig: AppConfig,\n  { fid }: RegisteredInstallationEntry\n): string {\n  return `${getInstallationsEndpoint(appConfig)}/${fid}`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { deleteInstallationRequest } from '../functions/delete-installation-request';\nimport { remove, update } from '../helpers/idb-manager';\nimport { RequestStatus } from '../interfaces/installation-entry';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Deletes the Firebase Installation and all associated data.\n * @param installations - The `Installations` instance.\n *\n * @public\n */\nexport async function deleteInstallations(\n  installations: Installations\n): Promise<void> {\n  const { appConfig } = installations as FirebaseInstallationsImpl;\n\n  const entry = await update(appConfig, oldEntry => {\n    if (oldEntry && oldEntry.registrationStatus === RequestStatus.NOT_STARTED) {\n      // Delete the unregistered entry without sending a deleteInstallation request.\n      return undefined;\n    }\n    return oldEntry;\n  });\n\n  if (entry) {\n    if (entry.registrationStatus === RequestStatus.IN_PROGRESS) {\n      // Can't delete while trying to register.\n      throw ERROR_FACTORY.create(ErrorCode.DELETE_PENDING_REGISTRATION);\n    } else if (entry.registrationStatus === RequestStatus.COMPLETED) {\n      if (!navigator.onLine) {\n        throw ERROR_FACTORY.create(ErrorCode.APP_OFFLINE);\n      } else {\n        await deleteInstallationRequest(appConfig, entry);\n        await remove(appConfig);\n      }\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { addCallback, removeCallback } from '../helpers/fid-changed';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * An user defined callback function that gets called when Installations ID changes.\n *\n * @public\n */\nexport type IdChangeCallbackFn = (installationId: string) => void;\n/**\n * Unsubscribe a callback function previously added via {@link IdChangeCallbackFn}.\n *\n * @public\n */\nexport type IdChangeUnsubscribeFn = () => void;\n\n/**\n * Sets a new callback that will get called when Installation ID changes.\n * Returns an unsubscribe function that will remove the callback when called.\n * @param installations - The `Installations` instance.\n * @param callback - The callback function that is invoked when FID changes.\n * @returns A function that can be called to unsubscribe.\n *\n * @public\n */\nexport function onIdChange(\n  installations: Installations,\n  callback: IdChangeCallbackFn\n): IdChangeUnsubscribeFn {\n  const { appConfig } = installations as FirebaseInstallationsImpl;\n\n  addCallback(appConfig, callback);\n  return () => {\n    removeCallback(appConfig, callback);\n  };\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp, getApp, _getProvider } from '@firebase/app';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Returns an instance of {@link Installations} associated with the given\n * {@link @firebase/app#FirebaseApp} instance.\n * @param app - The {@link @firebase/app#FirebaseApp} instance.\n *\n * @public\n */\nexport function getInstallations(app: FirebaseApp = getApp()): Installations {\n  const installationsImpl = _getProvider(app, 'installations').getImmediate();\n  return installationsImpl;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp, FirebaseOptions } from '@firebase/app';\nimport { FirebaseError } from '@firebase/util';\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nexport function extractAppConfig(app: FirebaseApp): AppConfig {\n  if (!app || !app.options) {\n    throw getMissingValueError('App Configuration');\n  }\n\n  if (!app.name) {\n    throw getMissingValueError('App Name');\n  }\n\n  // Required app config keys\n  const configKeys: Array<keyof FirebaseOptions> = [\n    'projectId',\n    'apiKey',\n    'appId'\n  ];\n\n  for (const keyName of configKeys) {\n    if (!app.options[keyName]) {\n      throw getMissingValueError(keyName);\n    }\n  }\n\n  return {\n    appName: app.name,\n    projectId: app.options.projectId!,\n    apiKey: app.options.apiKey!,\n    appId: app.options.appId!\n  };\n}\n\nfunction getMissingValueError(valueName: string): FirebaseError {\n  return ERROR_FACTORY.create(ErrorCode.MISSING_APP_CONFIG_VALUES, {\n    valueName\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _registerComponent, _getProvider } from '@firebase/app';\nimport {\n  Component,\n  ComponentType,\n  InstanceFactory,\n  ComponentContainer\n} from '@firebase/component';\nimport { getId, getToken } from '../api/index';\nimport { _FirebaseInstallationsInternal } from '../interfaces/public-types';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { extractAppConfig } from '../helpers/extract-app-config';\n\nconst INSTALLATIONS_NAME = 'installations';\nconst INSTALLATIONS_NAME_INTERNAL = 'installations-internal';\n\nconst publicFactory: InstanceFactory<'installations'> = (\n  container: ComponentContainer\n) => {\n  const app = container.getProvider('app').getImmediate();\n  // Throws if app isn't configured properly.\n  const appConfig = extractAppConfig(app);\n  const heartbeatServiceProvider = _getProvider(app, 'heartbeat');\n\n  const installationsImpl: FirebaseInstallationsImpl = {\n    app,\n    appConfig,\n    heartbeatServiceProvider,\n    _delete: () => Promise.resolve()\n  };\n  return installationsImpl;\n};\n\nconst internalFactory: InstanceFactory<'installations-internal'> = (\n  container: ComponentContainer\n) => {\n  const app = container.getProvider('app').getImmediate();\n  // Internal FIS instance relies on public FIS instance.\n  const installations = _getProvider(app, INSTALLATIONS_NAME).getImmediate();\n\n  const installationsInternal: _FirebaseInstallationsInternal = {\n    getId: () => getId(installations),\n    getToken: (forceRefresh?: boolean) => getToken(installations, forceRefresh)\n  };\n  return installationsInternal;\n};\n\nexport function registerInstallations(): void {\n  _registerComponent(\n    new Component(INSTALLATIONS_NAME, publicFactory, ComponentType.PUBLIC)\n  );\n  _registerComponent(\n    new Component(\n      INSTALLATIONS_NAME_INTERNAL,\n      internalFactory,\n      ComponentType.PRIVATE\n    )\n  );\n}\n","/**\n * Firebase Installations\n *\n * @packageDocumentation\n */\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { registerInstallations } from './functions/config';\nimport { registerVersion } from '@firebase/app';\nimport { name, version } from '../package.json';\n\nexport * from './api';\nexport * from './interfaces/public-types';\n\nregisterInstallations();\nregisterVersion(name, version);\n// BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\nregisterVersion(name, version, '__BUILD_TARGET__');\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  CustomParams,\n  ControlParams,\n  EventParams,\n  ConsentSettings\n} from './public-types';\nimport { DynamicConfig, DataLayer, Gtag, MinimalDynamicConfig } from './types';\nimport { GtagCommand, GTAG_URL } from './constants';\nimport { logger } from './logger';\n\n// Possible parameter types for gtag 'event' and 'config' commands\ntype GtagConfigOrEventParams = ControlParams & EventParams & CustomParams;\n\n/**\n * Makeshift polyfill for Promise.allSettled(). Resolves when all promises\n * have either resolved or rejected.\n *\n * @param promises Array of promises to wait for.\n */\nexport function promiseAllSettled<T>(\n  promises: Array<Promise<T>>\n): Promise<T[]> {\n  return Promise.all(promises.map(promise => promise.catch(e => e)));\n}\n\n/**\n * Inserts gtag script tag into the page to asynchronously download gtag.\n * @param dataLayerName Name of datalayer (most often the default, \"_dataLayer\").\n */\nexport function insertScriptTag(\n  dataLayerName: string,\n  measurementId: string\n): void {\n  const script = document.createElement('script');\n  // We are not providing an analyticsId in the URL because it would trigger a `page_view`\n  // without fid. We will initialize ga-id using gtag (config) command together with fid.\n  script.src = `${GTAG_URL}?l=${dataLayerName}&id=${measurementId}`;\n  script.async = true;\n  document.head.appendChild(script);\n}\n\n/**\n * Get reference to, or create, global datalayer.\n * @param dataLayerName Name of datalayer (most often the default, \"_dataLayer\").\n */\nexport function getOrCreateDataLayer(dataLayerName: string): DataLayer {\n  // Check for existing dataLayer and create if needed.\n  let dataLayer: DataLayer = [];\n  if (Array.isArray(window[dataLayerName])) {\n    dataLayer = window[dataLayerName] as DataLayer;\n  } else {\n    window[dataLayerName] = dataLayer;\n  }\n  return dataLayer;\n}\n\n/**\n * Wrapped gtag logic when gtag is called with 'config' command.\n *\n * @param gtagCore Basic gtag function that just appends to dataLayer.\n * @param initializationPromisesMap Map of appIds to their initialization promises.\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\n * @param measurementIdToAppId Map of GA measurementIDs to corresponding Firebase appId.\n * @param measurementId GA Measurement ID to set config for.\n * @param gtagParams Gtag config params to set.\n */\nasync function gtagOnConfig(\n  gtagCore: Gtag,\n  initializationPromisesMap: { [appId: string]: Promise<string> },\n  dynamicConfigPromisesList: Array<\n    Promise<DynamicConfig | MinimalDynamicConfig>\n  >,\n  measurementIdToAppId: { [measurementId: string]: string },\n  measurementId: string,\n  gtagParams?: ControlParams & EventParams & CustomParams\n): Promise<void> {\n  // If config is already fetched, we know the appId and can use it to look up what FID promise we\n  /// are waiting for, and wait only on that one.\n  const correspondingAppId = measurementIdToAppId[measurementId as string];\n  try {\n    if (correspondingAppId) {\n      await initializationPromisesMap[correspondingAppId];\n    } else {\n      // If config is not fetched yet, wait for all configs (we don't know which one we need) and\n      // find the appId (if any) corresponding to this measurementId. If there is one, wait on\n      // that appId's initialization promise. If there is none, promise resolves and gtag\n      // call goes through.\n      const dynamicConfigResults = await promiseAllSettled(\n        dynamicConfigPromisesList\n      );\n      const foundConfig = dynamicConfigResults.find(\n        config => config.measurementId === measurementId\n      );\n      if (foundConfig) {\n        await initializationPromisesMap[foundConfig.appId];\n      }\n    }\n  } catch (e) {\n    logger.error(e);\n  }\n  gtagCore(GtagCommand.CONFIG, measurementId, gtagParams);\n}\n\n/**\n * Wrapped gtag logic when gtag is called with 'event' command.\n *\n * @param gtagCore Basic gtag function that just appends to dataLayer.\n * @param initializationPromisesMap Map of appIds to their initialization promises.\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\n * @param measurementId GA Measurement ID to log event to.\n * @param gtagParams Params to log with this event.\n */\nasync function gtagOnEvent(\n  gtagCore: Gtag,\n  initializationPromisesMap: { [appId: string]: Promise<string> },\n  dynamicConfigPromisesList: Array<\n    Promise<DynamicConfig | MinimalDynamicConfig>\n  >,\n  measurementId: string,\n  gtagParams?: ControlParams & EventParams & CustomParams\n): Promise<void> {\n  try {\n    let initializationPromisesToWaitFor: Array<Promise<string>> = [];\n\n    // If there's a 'send_to' param, check if any ID specified matches\n    // an initializeIds() promise we are waiting for.\n    if (gtagParams && gtagParams['send_to']) {\n      let gaSendToList: string | string[] = gtagParams['send_to'];\n      // Make it an array if is isn't, so it can be dealt with the same way.\n      if (!Array.isArray(gaSendToList)) {\n        gaSendToList = [gaSendToList];\n      }\n      // Checking 'send_to' fields requires having all measurement ID results back from\n      // the dynamic config fetch.\n      const dynamicConfigResults = await promiseAllSettled(\n        dynamicConfigPromisesList\n      );\n      for (const sendToId of gaSendToList) {\n        // Any fetched dynamic measurement ID that matches this 'send_to' ID\n        const foundConfig = dynamicConfigResults.find(\n          config => config.measurementId === sendToId\n        );\n        const initializationPromise =\n          foundConfig && initializationPromisesMap[foundConfig.appId];\n        if (initializationPromise) {\n          initializationPromisesToWaitFor.push(initializationPromise);\n        } else {\n          // Found an item in 'send_to' that is not associated\n          // directly with an FID, possibly a group.  Empty this array,\n          // exit the loop early, and let it get populated below.\n          initializationPromisesToWaitFor = [];\n          break;\n        }\n      }\n    }\n\n    // This will be unpopulated if there was no 'send_to' field , or\n    // if not all entries in the 'send_to' field could be mapped to\n    // a FID. In these cases, wait on all pending initialization promises.\n    if (initializationPromisesToWaitFor.length === 0) {\n      initializationPromisesToWaitFor = Object.values(\n        initializationPromisesMap\n      );\n    }\n\n    // Run core gtag function with args after all relevant initialization\n    // promises have been resolved.\n    await Promise.all(initializationPromisesToWaitFor);\n    // Workaround for http://b/141370449 - third argument cannot be undefined.\n    gtagCore(GtagCommand.EVENT, measurementId, gtagParams || {});\n  } catch (e) {\n    logger.error(e);\n  }\n}\n\n/**\n * Wraps a standard gtag function with extra code to wait for completion of\n * relevant initialization promises before sending requests.\n *\n * @param gtagCore Basic gtag function that just appends to dataLayer.\n * @param initializationPromisesMap Map of appIds to their initialization promises.\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\n * @param measurementIdToAppId Map of GA measurementIDs to corresponding Firebase appId.\n */\nfunction wrapGtag(\n  gtagCore: Gtag,\n  /**\n   * Allows wrapped gtag calls to wait on whichever intialization promises are required,\n   * depending on the contents of the gtag params' `send_to` field, if any.\n   */\n  initializationPromisesMap: { [appId: string]: Promise<string> },\n  /**\n   * Wrapped gtag calls sometimes require all dynamic config fetches to have returned\n   * before determining what initialization promises (which include FIDs) to wait for.\n   */\n  dynamicConfigPromisesList: Array<\n    Promise<DynamicConfig | MinimalDynamicConfig>\n  >,\n  /**\n   * Wrapped gtag config calls can narrow down which initialization promise (with FID)\n   * to wait for if the measurementId is already fetched, by getting the corresponding appId,\n   * which is the key for the initialization promises map.\n   */\n  measurementIdToAppId: { [measurementId: string]: string }\n): Gtag {\n  /**\n   * Wrapper around gtag that ensures FID is sent with gtag calls.\n   * @param command Gtag command type.\n   * @param idOrNameOrParams Measurement ID if command is EVENT/CONFIG, params if command is SET.\n   * @param gtagParams Params if event is EVENT/CONFIG.\n   */\n  async function gtagWrapper(\n    command: 'config' | 'set' | 'event' | 'consent',\n    idOrNameOrParams: string | ControlParams,\n    gtagParams?: GtagConfigOrEventParams | ConsentSettings\n  ): Promise<void> {\n    try {\n      // If event, check that relevant initialization promises have completed.\n      if (command === GtagCommand.EVENT) {\n        // If EVENT, second arg must be measurementId.\n        await gtagOnEvent(\n          gtagCore,\n          initializationPromisesMap,\n          dynamicConfigPromisesList,\n          idOrNameOrParams as string,\n          gtagParams as GtagConfigOrEventParams\n        );\n      } else if (command === GtagCommand.CONFIG) {\n        // If CONFIG, second arg must be measurementId.\n        await gtagOnConfig(\n          gtagCore,\n          initializationPromisesMap,\n          dynamicConfigPromisesList,\n          measurementIdToAppId,\n          idOrNameOrParams as string,\n          gtagParams as GtagConfigOrEventParams\n        );\n      } else if (command === GtagCommand.CONSENT) {\n        // If CONFIG, second arg must be measurementId.\n        gtagCore(GtagCommand.CONSENT, 'update', gtagParams as ConsentSettings);\n      } else {\n        // If SET, second arg must be params.\n        gtagCore(GtagCommand.SET, idOrNameOrParams as CustomParams);\n      }\n    } catch (e) {\n      logger.error(e);\n    }\n  }\n  return gtagWrapper as Gtag;\n}\n\n/**\n * Creates global gtag function or wraps existing one if found.\n * This wrapped function attaches Firebase instance ID (FID) to gtag 'config' and\n * 'event' calls that belong to the GAID associated with this Firebase instance.\n *\n * @param initializationPromisesMap Map of appIds to their initialization promises.\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\n * @param measurementIdToAppId Map of GA measurementIDs to corresponding Firebase appId.\n * @param dataLayerName Name of global GA datalayer array.\n * @param gtagFunctionName Name of global gtag function (\"gtag\" if not user-specified).\n */\nexport function wrapOrCreateGtag(\n  initializationPromisesMap: { [appId: string]: Promise<string> },\n  dynamicConfigPromisesList: Array<\n    Promise<DynamicConfig | MinimalDynamicConfig>\n  >,\n  measurementIdToAppId: { [measurementId: string]: string },\n  dataLayerName: string,\n  gtagFunctionName: string\n): {\n  gtagCore: Gtag;\n  wrappedGtag: Gtag;\n} {\n  // Create a basic core gtag function\n  let gtagCore: Gtag = function (..._args: unknown[]) {\n    // Must push IArguments object, not an array.\n    (window[dataLayerName] as DataLayer).push(arguments);\n  };\n\n  // Replace it with existing one if found\n  if (\n    window[gtagFunctionName] &&\n    typeof window[gtagFunctionName] === 'function'\n  ) {\n    // @ts-ignore\n    gtagCore = window[gtagFunctionName];\n  }\n\n  window[gtagFunctionName] = wrapGtag(\n    gtagCore,\n    initializationPromisesMap,\n    dynamicConfigPromisesList,\n    measurementIdToAppId\n  );\n\n  return {\n    gtagCore,\n    wrappedGtag: window[gtagFunctionName] as Gtag\n  };\n}\n\n/**\n * Returns first script tag in DOM matching our gtag url pattern.\n */\nexport function findGtagScriptOnPage(): HTMLScriptElement | null {\n  const scriptTags = window.document.getElementsByTagName('script');\n  for (const tag of Object.values(scriptTags)) {\n    if (tag.src && tag.src.includes(GTAG_URL)) {\n      return tag;\n    }\n  }\n  return null;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Most logic is copied from packages/remote-config/src/client/retrying_client.ts\n */\n\nimport { FirebaseApp } from '@firebase/app';\nimport { DynamicConfig, ThrottleMetadata, MinimalDynamicConfig } from './types';\nimport { FirebaseError, calculateBackoffMillis } from '@firebase/util';\nimport { AnalyticsError, ERROR_FACTORY } from './errors';\nimport { DYNAMIC_CONFIG_URL, FETCH_TIMEOUT_MILLIS } from './constants';\nimport { logger } from './logger';\n\n// App config fields needed by analytics.\nexport interface AppFields {\n  appId: string;\n  apiKey: string;\n  measurementId?: string;\n}\n\n/**\n * Backoff factor for 503 errors, which we want to be conservative about\n * to avoid overloading servers. Each retry interval will be\n * BASE_INTERVAL_MILLIS * LONG_RETRY_FACTOR ^ retryCount, so the second one\n * will be ~30 seconds (with fuzzing).\n */\nexport const LONG_RETRY_FACTOR = 30;\n\n/**\n * Base wait interval to multiplied by backoffFactor^backoffCount.\n */\nconst BASE_INTERVAL_MILLIS = 1000;\n\n/**\n * Stubbable retry data storage class.\n */\nclass RetryData {\n  constructor(\n    public throttleMetadata: { [appId: string]: ThrottleMetadata } = {},\n    public intervalMillis: number = BASE_INTERVAL_MILLIS\n  ) {}\n\n  getThrottleMetadata(appId: string): ThrottleMetadata {\n    return this.throttleMetadata[appId];\n  }\n\n  setThrottleMetadata(appId: string, metadata: ThrottleMetadata): void {\n    this.throttleMetadata[appId] = metadata;\n  }\n\n  deleteThrottleMetadata(appId: string): void {\n    delete this.throttleMetadata[appId];\n  }\n}\n\nconst defaultRetryData = new RetryData();\n\n/**\n * Set GET request headers.\n * @param apiKey App API key.\n */\nfunction getHeaders(apiKey: string): Headers {\n  return new Headers({\n    Accept: 'application/json',\n    'x-goog-api-key': apiKey\n  });\n}\n\n/**\n * Fetches dynamic config from backend.\n * @param app Firebase app to fetch config for.\n */\nexport async function fetchDynamicConfig(\n  appFields: AppFields\n): Promise<DynamicConfig> {\n  const { appId, apiKey } = appFields;\n  const request: RequestInit = {\n    method: 'GET',\n    headers: getHeaders(apiKey)\n  };\n  const appUrl = DYNAMIC_CONFIG_URL.replace('{app-id}', appId);\n  const response = await fetch(appUrl, request);\n  if (response.status !== 200 && response.status !== 304) {\n    let errorMessage = '';\n    try {\n      // Try to get any error message text from server response.\n      const jsonResponse = (await response.json()) as {\n        error?: { message?: string };\n      };\n      if (jsonResponse.error?.message) {\n        errorMessage = jsonResponse.error.message;\n      }\n    } catch (_ignored) {}\n    throw ERROR_FACTORY.create(AnalyticsError.CONFIG_FETCH_FAILED, {\n      httpStatus: response.status,\n      responseMessage: errorMessage\n    });\n  }\n  return response.json();\n}\n\n/**\n * Fetches dynamic config from backend, retrying if failed.\n * @param app Firebase app to fetch config for.\n */\nexport async function fetchDynamicConfigWithRetry(\n  app: FirebaseApp,\n  // retryData and timeoutMillis are parameterized to allow passing a different value for testing.\n  retryData: RetryData = defaultRetryData,\n  timeoutMillis?: number\n): Promise<DynamicConfig | MinimalDynamicConfig> {\n  const { appId, apiKey, measurementId } = app.options;\n\n  if (!appId) {\n    throw ERROR_FACTORY.create(AnalyticsError.NO_APP_ID);\n  }\n\n  if (!apiKey) {\n    if (measurementId) {\n      return {\n        measurementId,\n        appId\n      };\n    }\n    throw ERROR_FACTORY.create(AnalyticsError.NO_API_KEY);\n  }\n\n  const throttleMetadata: ThrottleMetadata = retryData.getThrottleMetadata(\n    appId\n  ) || {\n    backoffCount: 0,\n    throttleEndTimeMillis: Date.now()\n  };\n\n  const signal = new AnalyticsAbortSignal();\n\n  setTimeout(\n    async () => {\n      // Note a very low delay, eg < 10ms, can elapse before listeners are initialized.\n      signal.abort();\n    },\n    timeoutMillis !== undefined ? timeoutMillis : FETCH_TIMEOUT_MILLIS\n  );\n\n  return attemptFetchDynamicConfigWithRetry(\n    { appId, apiKey, measurementId },\n    throttleMetadata,\n    signal,\n    retryData\n  );\n}\n\n/**\n * Runs one retry attempt.\n * @param appFields Necessary app config fields.\n * @param throttleMetadata Ongoing metadata to determine throttling times.\n * @param signal Abort signal.\n */\nasync function attemptFetchDynamicConfigWithRetry(\n  appFields: AppFields,\n  { throttleEndTimeMillis, backoffCount }: ThrottleMetadata,\n  signal: AnalyticsAbortSignal,\n  retryData: RetryData = defaultRetryData // for testing\n): Promise<DynamicConfig | MinimalDynamicConfig> {\n  const { appId, measurementId } = appFields;\n  // Starts with a (potentially zero) timeout to support resumption from stored state.\n  // Ensures the throttle end time is honored if the last attempt timed out.\n  // Note the SDK will never make a request if the fetch timeout expires at this point.\n  try {\n    await setAbortableTimeout(signal, throttleEndTimeMillis);\n  } catch (e) {\n    if (measurementId) {\n      logger.warn(\n        `Timed out fetching this Firebase app's measurement ID from the server.` +\n          ` Falling back to the measurement ID ${measurementId}` +\n          ` provided in the \"measurementId\" field in the local Firebase config. [${\n            (e as Error)?.message\n          }]`\n      );\n      return { appId, measurementId };\n    }\n    throw e;\n  }\n\n  try {\n    const response = await fetchDynamicConfig(appFields);\n\n    // Note the SDK only clears throttle state if response is success or non-retriable.\n    retryData.deleteThrottleMetadata(appId);\n\n    return response;\n  } catch (e) {\n    const error = e as Error;\n    if (!isRetriableError(error)) {\n      retryData.deleteThrottleMetadata(appId);\n      if (measurementId) {\n        logger.warn(\n          `Failed to fetch this Firebase app's measurement ID from the server.` +\n            ` Falling back to the measurement ID ${measurementId}` +\n            ` provided in the \"measurementId\" field in the local Firebase config. [${error?.message}]`\n        );\n        return { appId, measurementId };\n      } else {\n        throw e;\n      }\n    }\n\n    const backoffMillis =\n      Number(error?.customData?.httpStatus) === 503\n        ? calculateBackoffMillis(\n            backoffCount,\n            retryData.intervalMillis,\n            LONG_RETRY_FACTOR\n          )\n        : calculateBackoffMillis(backoffCount, retryData.intervalMillis);\n\n    // Increments backoff state.\n    const throttleMetadata = {\n      throttleEndTimeMillis: Date.now() + backoffMillis,\n      backoffCount: backoffCount + 1\n    };\n\n    // Persists state.\n    retryData.setThrottleMetadata(appId, throttleMetadata);\n    logger.debug(`Calling attemptFetch again in ${backoffMillis} millis`);\n\n    return attemptFetchDynamicConfigWithRetry(\n      appFields,\n      throttleMetadata,\n      signal,\n      retryData\n    );\n  }\n}\n\n/**\n * Supports waiting on a backoff by:\n *\n * <ul>\n *   <li>Promisifying setTimeout, so we can set a timeout in our Promise chain</li>\n *   <li>Listening on a signal bus for abort events, just like the Fetch API</li>\n *   <li>Failing in the same way the Fetch API fails, so timing out a live request and a throttled\n *       request appear the same.</li>\n * </ul>\n *\n * <p>Visible for testing.\n */\nfunction setAbortableTimeout(\n  signal: AnalyticsAbortSignal,\n  throttleEndTimeMillis: number\n): Promise<void> {\n  return new Promise((resolve, reject) => {\n    // Derives backoff from given end time, normalizing negative numbers to zero.\n    const backoffMillis = Math.max(throttleEndTimeMillis - Date.now(), 0);\n\n    const timeout = setTimeout(resolve, backoffMillis);\n\n    // Adds listener, rather than sets onabort, because signal is a shared object.\n    signal.addEventListener(() => {\n      clearTimeout(timeout);\n      // If the request completes before this timeout, the rejection has no effect.\n      reject(\n        ERROR_FACTORY.create(AnalyticsError.FETCH_THROTTLE, {\n          throttleEndTimeMillis\n        })\n      );\n    });\n  });\n}\n\ntype RetriableError = FirebaseError & { customData: { httpStatus: string } };\n\n/**\n * Returns true if the {@link Error} indicates a fetch request may succeed later.\n */\nfunction isRetriableError(e: Error): e is RetriableError {\n  if (!(e instanceof FirebaseError) || !e.customData) {\n    return false;\n  }\n\n  // Uses string index defined by ErrorData, which FirebaseError implements.\n  const httpStatus = Number(e.customData['httpStatus']);\n\n  return (\n    httpStatus === 429 ||\n    httpStatus === 500 ||\n    httpStatus === 503 ||\n    httpStatus === 504\n  );\n}\n\n/**\n * Shims a minimal AbortSignal (copied from Remote Config).\n *\n * <p>AbortController's AbortSignal conveniently decouples fetch timeout logic from other aspects\n * of networking, such as retries. Firebase doesn't use AbortController enough to justify a\n * polyfill recommendation, like we do with the Fetch API, but this minimal shim can easily be\n * swapped out if/when we do.\n */\nexport class AnalyticsAbortSignal {\n  listeners: Array<() => void> = [];\n  addEventListener(listener: () => void): void {\n    this.listeners.push(listener);\n  }\n  abort(): void {\n    this.listeners.forEach(listener => listener());\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, ErrorMap } from '@firebase/util';\n\nexport const enum AnalyticsError {\n  ALREADY_EXISTS = 'already-exists',\n  ALREADY_INITIALIZED = 'already-initialized',\n  ALREADY_INITIALIZED_SETTINGS = 'already-initialized-settings',\n  INTEROP_COMPONENT_REG_FAILED = 'interop-component-reg-failed',\n  INVALID_ANALYTICS_CONTEXT = 'invalid-analytics-context',\n  INDEXEDDB_UNAVAILABLE = 'indexeddb-unavailable',\n  FETCH_THROTTLE = 'fetch-throttle',\n  CONFIG_FETCH_FAILED = 'config-fetch-failed',\n  NO_API_KEY = 'no-api-key',\n  NO_APP_ID = 'no-app-id'\n}\n\nconst ERRORS: ErrorMap<AnalyticsError> = {\n  [AnalyticsError.ALREADY_EXISTS]:\n    'A Firebase Analytics instance with the appId {$id} ' +\n    ' already exists. ' +\n    'Only one Firebase Analytics instance can be created for each appId.',\n  [AnalyticsError.ALREADY_INITIALIZED]:\n    'initializeAnalytics() cannot be called again with different options than those ' +\n    'it was initially called with. It can be called again with the same options to ' +\n    'return the existing instance, or getAnalytics() can be used ' +\n    'to get a reference to the already-intialized instance.',\n  [AnalyticsError.ALREADY_INITIALIZED_SETTINGS]:\n    'Firebase Analytics has already been initialized.' +\n    'settings() must be called before initializing any Analytics instance' +\n    'or it will have no effect.',\n  [AnalyticsError.INTEROP_COMPONENT_REG_FAILED]:\n    'Firebase Analytics Interop Component failed to instantiate: {$reason}',\n  [AnalyticsError.INVALID_ANALYTICS_CONTEXT]:\n    'Firebase Analytics is not supported in this environment. ' +\n    'Wrap initialization of analytics in analytics.isSupported() ' +\n    'to prevent initialization in unsupported environments. Details: {$errorInfo}',\n  [AnalyticsError.INDEXEDDB_UNAVAILABLE]:\n    'IndexedDB unavailable or restricted in this environment. ' +\n    'Wrap initialization of analytics in analytics.isSupported() ' +\n    'to prevent initialization in unsupported environments. Details: {$errorInfo}',\n  [AnalyticsError.FETCH_THROTTLE]:\n    'The config fetch request timed out while in an exponential backoff state.' +\n    ' Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',\n  [AnalyticsError.CONFIG_FETCH_FAILED]:\n    'Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}',\n  [AnalyticsError.NO_API_KEY]:\n    'The \"apiKey\" field is empty in the local Firebase config. Firebase Analytics requires this field to' +\n    'contain a valid API key.',\n  [AnalyticsError.NO_APP_ID]:\n    'The \"appId\" field is empty in the local Firebase config. Firebase Analytics requires this field to' +\n    'contain a valid app ID.'\n};\n\ninterface ErrorParams {\n  [AnalyticsError.ALREADY_EXISTS]: { id: string };\n  [AnalyticsError.INTEROP_COMPONENT_REG_FAILED]: { reason: Error };\n  [AnalyticsError.FETCH_THROTTLE]: { throttleEndTimeMillis: number };\n  [AnalyticsError.CONFIG_FETCH_FAILED]: {\n    httpStatus: number;\n    responseMessage: string;\n  };\n  [AnalyticsError.INVALID_ANALYTICS_CONTEXT]: { errorInfo: string };\n  [AnalyticsError.INDEXEDDB_UNAVAILABLE]: { errorInfo: string };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<AnalyticsError, ErrorParams>(\n  'analytics',\n  'Analytics',\n  ERRORS\n);\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnalyticsCallOptions,\n  CustomParams,\n  ControlParams,\n  EventParams,\n  ConsentSettings\n} from './public-types';\nimport { Gtag } from './types';\nimport { GtagCommand } from './constants';\n\n/**\n * Event parameters to set on 'gtag' during initialization.\n */\nexport let defaultEventParametersForInit: CustomParams | undefined;\n\n/**\n * Logs an analytics event through the Firebase SDK.\n *\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\n * @param eventName Google Analytics event name, choose from standard list or use a custom string.\n * @param eventParams Analytics event parameters.\n */\nexport async function logEvent(\n  gtagFunction: Gtag,\n  initializationPromise: Promise<string>,\n  eventName: string,\n  eventParams?: EventParams,\n  options?: AnalyticsCallOptions\n): Promise<void> {\n  if (options && options.global) {\n    gtagFunction(GtagCommand.EVENT, eventName, eventParams);\n    return;\n  } else {\n    const measurementId = await initializationPromise;\n    const params: EventParams | ControlParams = {\n      ...eventParams,\n      'send_to': measurementId\n    };\n    gtagFunction(GtagCommand.EVENT, eventName, params);\n  }\n}\n\n/**\n * Set screen_name parameter for this Google Analytics ID.\n *\n * @deprecated Use {@link logEvent} with `eventName` as 'screen_view' and add relevant `eventParams`.\n * See {@link https://firebase.google.com/docs/analytics/screenviews | Track Screenviews}.\n *\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\n * @param screenName Screen name string to set.\n */\nexport async function setCurrentScreen(\n  gtagFunction: Gtag,\n  initializationPromise: Promise<string>,\n  screenName: string | null,\n  options?: AnalyticsCallOptions\n): Promise<void> {\n  if (options && options.global) {\n    gtagFunction(GtagCommand.SET, { 'screen_name': screenName });\n    return Promise.resolve();\n  } else {\n    const measurementId = await initializationPromise;\n    gtagFunction(GtagCommand.CONFIG, measurementId, {\n      update: true,\n      'screen_name': screenName\n    });\n  }\n}\n\n/**\n * Set user_id parameter for this Google Analytics ID.\n *\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\n * @param id User ID string to set\n */\nexport async function setUserId(\n  gtagFunction: Gtag,\n  initializationPromise: Promise<string>,\n  id: string | null,\n  options?: AnalyticsCallOptions\n): Promise<void> {\n  if (options && options.global) {\n    gtagFunction(GtagCommand.SET, { 'user_id': id });\n    return Promise.resolve();\n  } else {\n    const measurementId = await initializationPromise;\n    gtagFunction(GtagCommand.CONFIG, measurementId, {\n      update: true,\n      'user_id': id\n    });\n  }\n}\n\n/**\n * Set all other user properties other than user_id and screen_name.\n *\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\n * @param properties Map of user properties to set\n */\nexport async function setUserProperties(\n  gtagFunction: Gtag,\n  initializationPromise: Promise<string>,\n  properties: CustomParams,\n  options?: AnalyticsCallOptions\n): Promise<void> {\n  if (options && options.global) {\n    const flatProperties: { [key: string]: unknown } = {};\n    for (const key of Object.keys(properties)) {\n      // use dot notation for merge behavior in gtag.js\n      flatProperties[`user_properties.${key}`] = properties[key];\n    }\n    gtagFunction(GtagCommand.SET, flatProperties);\n    return Promise.resolve();\n  } else {\n    const measurementId = await initializationPromise;\n    gtagFunction(GtagCommand.CONFIG, measurementId, {\n      update: true,\n      'user_properties': properties\n    });\n  }\n}\n\n/**\n * Set whether collection is enabled for this ID.\n *\n * @param enabled If true, collection is enabled for this ID.\n */\nexport async function setAnalyticsCollectionEnabled(\n  initializationPromise: Promise<string>,\n  enabled: boolean\n): Promise<void> {\n  const measurementId = await initializationPromise;\n  window[`ga-disable-${measurementId}`] = !enabled;\n}\n\n/**\n * Consent parameters to default to during 'gtag' initialization.\n */\nexport let defaultConsentSettingsForInit: ConsentSettings | undefined;\n\n/**\n * Sets the variable {@link defaultConsentSettingsForInit} for use in the initialization of\n * analytics.\n *\n * @param consentSettings Maps the applicable end user consent state for gtag.js.\n */\nexport function _setConsentDefaultForInit(\n  consentSettings?: ConsentSettings\n): void {\n  defaultConsentSettingsForInit = consentSettings;\n}\n\n/**\n * Sets the variable `defaultEventParametersForInit` for use in the initialization of\n * analytics.\n *\n * @param customParams Any custom params the user may pass to gtag.js.\n */\nexport function _setDefaultEventParametersForInit(\n  customParams?: CustomParams\n): void {\n  defaultEventParametersForInit = customParams;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DynamicConfig, Gtag, MinimalDynamicConfig } from './types';\nimport { GtagCommand, GA_FID_KEY, ORIGIN_KEY } from './constants';\nimport { _FirebaseInstallationsInternal } from '@firebase/installations';\nimport { fetchDynamicConfigWithRetry } from './get-config';\nimport { logger } from './logger';\nimport { FirebaseApp } from '@firebase/app';\nimport {\n  isIndexedDBAvailable,\n  validateIndexedDBOpenable\n} from '@firebase/util';\nimport { ERROR_FACTORY, AnalyticsError } from './errors';\nimport { findGtagScriptOnPage, insertScriptTag } from './helpers';\nimport { AnalyticsSettings } from './public-types';\nimport {\n  defaultConsentSettingsForInit,\n  _setConsentDefaultForInit,\n  defaultEventParametersForInit,\n  _setDefaultEventParametersForInit\n} from './functions';\n\nasync function validateIndexedDB(): Promise<boolean> {\n  if (!isIndexedDBAvailable()) {\n    logger.warn(\n      ERROR_FACTORY.create(AnalyticsError.INDEXEDDB_UNAVAILABLE, {\n        errorInfo: 'IndexedDB is not available in this environment.'\n      }).message\n    );\n    return false;\n  } else {\n    try {\n      await validateIndexedDBOpenable();\n    } catch (e) {\n      logger.warn(\n        ERROR_FACTORY.create(AnalyticsError.INDEXEDDB_UNAVAILABLE, {\n          errorInfo: (e as Error)?.toString()\n        }).message\n      );\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Initialize the analytics instance in gtag.js by calling config command with fid.\n *\n * NOTE: We combine analytics initialization and setting fid together because we want fid to be\n * part of the `page_view` event that's sent during the initialization\n * @param app Firebase app\n * @param gtagCore The gtag function that's not wrapped.\n * @param dynamicConfigPromisesList Array of all dynamic config promises.\n * @param measurementIdToAppId Maps measurementID to appID.\n * @param installations _FirebaseInstallationsInternal instance.\n *\n * @returns Measurement ID.\n */\nexport async function _initializeAnalytics(\n  app: FirebaseApp,\n  dynamicConfigPromisesList: Array<\n    Promise<DynamicConfig | MinimalDynamicConfig>\n  >,\n  measurementIdToAppId: { [key: string]: string },\n  installations: _FirebaseInstallationsInternal,\n  gtagCore: Gtag,\n  dataLayerName: string,\n  options?: AnalyticsSettings\n): Promise<string> {\n  const dynamicConfigPromise = fetchDynamicConfigWithRetry(app);\n  // Once fetched, map measurementIds to appId, for ease of lookup in wrapped gtag function.\n  dynamicConfigPromise\n    .then(config => {\n      measurementIdToAppId[config.measurementId] = config.appId;\n      if (\n        app.options.measurementId &&\n        config.measurementId !== app.options.measurementId\n      ) {\n        logger.warn(\n          `The measurement ID in the local Firebase config (${app.options.measurementId})` +\n            ` does not match the measurement ID fetched from the server (${config.measurementId}).` +\n            ` To ensure analytics events are always sent to the correct Analytics property,` +\n            ` update the` +\n            ` measurement ID field in the local config or remove it from the local config.`\n        );\n      }\n    })\n    .catch(e => logger.error(e));\n  // Add to list to track state of all dynamic config promises.\n  dynamicConfigPromisesList.push(dynamicConfigPromise);\n\n  const fidPromise: Promise<string | undefined> = validateIndexedDB().then(\n    envIsValid => {\n      if (envIsValid) {\n        return installations.getId();\n      } else {\n        return undefined;\n      }\n    }\n  );\n\n  const [dynamicConfig, fid] = await Promise.all([\n    dynamicConfigPromise,\n    fidPromise\n  ]);\n\n  // Detect if user has already put the gtag <script> tag on this page.\n  if (!findGtagScriptOnPage()) {\n    insertScriptTag(dataLayerName, dynamicConfig.measurementId);\n  }\n\n  // Detects if there are consent settings that need to be configured.\n  if (defaultConsentSettingsForInit) {\n    gtagCore(GtagCommand.CONSENT, 'default', defaultConsentSettingsForInit);\n    _setConsentDefaultForInit(undefined);\n  }\n\n  // This command initializes gtag.js and only needs to be called once for the entire web app,\n  // but since it is idempotent, we can call it multiple times.\n  // We keep it together with other initialization logic for better code structure.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (gtagCore as any)('js', new Date());\n  // User config added first. We don't want users to accidentally overwrite\n  // base Firebase config properties.\n  const configProperties: Record<string, unknown> = options?.config ?? {};\n\n  // guard against developers accidentally setting properties with prefix `firebase_`\n  configProperties[ORIGIN_KEY] = 'firebase';\n  configProperties.update = true;\n\n  if (fid != null) {\n    configProperties[GA_FID_KEY] = fid;\n  }\n\n  // It should be the first config command called on this GA-ID\n  // Initialize this GA-ID and set FID on it using the gtag config API.\n  // Note: This will trigger a page_view event unless 'send_page_view' is set to false in\n  // `configProperties`.\n  gtagCore(GtagCommand.CONFIG, dynamicConfig.measurementId, configProperties);\n\n  // Detects if there is data that will be set on every event logged from the SDK.\n  if (defaultEventParametersForInit) {\n    gtagCore(GtagCommand.SET, defaultEventParametersForInit);\n    _setDefaultEventParametersForInit(undefined);\n  }\n\n  return dynamicConfig.measurementId;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SettingsOptions, Analytics, AnalyticsSettings } from './public-types';\nimport { Gtag, DynamicConfig, MinimalDynamicConfig } from './types';\nimport { getOrCreateDataLayer, wrapOrCreateGtag } from './helpers';\nimport { AnalyticsError, ERROR_FACTORY } from './errors';\nimport { _FirebaseInstallationsInternal } from '@firebase/installations';\nimport { areCookiesEnabled, isBrowserExtension } from '@firebase/util';\nimport { _initializeAnalytics } from './initialize-analytics';\nimport { logger } from './logger';\nimport { FirebaseApp, _FirebaseService } from '@firebase/app';\n\n/**\n * Analytics Service class.\n */\nexport class AnalyticsService implements Analytics, _FirebaseService {\n  constructor(public app: FirebaseApp) {}\n  _delete(): Promise<void> {\n    delete initializationPromisesMap[this.app.options.appId!];\n    return Promise.resolve();\n  }\n}\n\n/**\n * Maps appId to full initialization promise. Wrapped gtag calls must wait on\n * all or some of these, depending on the call's `send_to` param and the status\n * of the dynamic config fetches (see below).\n */\nexport let initializationPromisesMap: {\n  [appId: string]: Promise<string>; // Promise contains measurement ID string.\n} = {};\n\n/**\n * List of dynamic config fetch promises. In certain cases, wrapped gtag calls\n * wait on all these to be complete in order to determine if it can selectively\n * wait for only certain initialization (FID) promises or if it must wait for all.\n */\nlet dynamicConfigPromisesList: Array<\n  Promise<DynamicConfig | MinimalDynamicConfig>\n> = [];\n\n/**\n * Maps fetched measurementIds to appId. Populated when the app's dynamic config\n * fetch completes. If already populated, gtag config calls can use this to\n * selectively wait for only this app's initialization promise (FID) instead of all\n * initialization promises.\n */\nconst measurementIdToAppId: { [measurementId: string]: string } = {};\n\n/**\n * Name for window global data layer array used by GA: defaults to 'dataLayer'.\n */\nlet dataLayerName: string = 'dataLayer';\n\n/**\n * Name for window global gtag function used by GA: defaults to 'gtag'.\n */\nlet gtagName: string = 'gtag';\n\n/**\n * Reproduction of standard gtag function or reference to existing\n * gtag function on window object.\n */\nlet gtagCoreFunction: Gtag;\n\n/**\n * Wrapper around gtag function that ensures FID is sent with all\n * relevant event and config calls.\n */\nexport let wrappedGtagFunction: Gtag;\n\n/**\n * Flag to ensure page initialization steps (creation or wrapping of\n * dataLayer and gtag script) are only run once per page load.\n */\nlet globalInitDone: boolean = false;\n\n/**\n * For testing\n * @internal\n */\nexport function resetGlobalVars(\n  newGlobalInitDone = false,\n  newInitializationPromisesMap = {},\n  newDynamicPromises = []\n): void {\n  globalInitDone = newGlobalInitDone;\n  initializationPromisesMap = newInitializationPromisesMap;\n  dynamicConfigPromisesList = newDynamicPromises;\n  dataLayerName = 'dataLayer';\n  gtagName = 'gtag';\n}\n\n/**\n * For testing\n * @internal\n */\nexport function getGlobalVars(): {\n  initializationPromisesMap: { [appId: string]: Promise<string> };\n  dynamicConfigPromisesList: Array<\n    Promise<DynamicConfig | MinimalDynamicConfig>\n  >;\n} {\n  return {\n    initializationPromisesMap,\n    dynamicConfigPromisesList\n  };\n}\n\n/**\n * Configures Firebase Analytics to use custom `gtag` or `dataLayer` names.\n * Intended to be used if `gtag.js` script has been installed on\n * this page independently of Firebase Analytics, and is using non-default\n * names for either the `gtag` function or for `dataLayer`.\n * Must be called before calling `getAnalytics()` or it won't\n * have any effect.\n *\n * @public\n *\n * @param options - Custom gtag and dataLayer names.\n */\nexport function settings(options: SettingsOptions): void {\n  if (globalInitDone) {\n    throw ERROR_FACTORY.create(AnalyticsError.ALREADY_INITIALIZED);\n  }\n  if (options.dataLayerName) {\n    dataLayerName = options.dataLayerName;\n  }\n  if (options.gtagName) {\n    gtagName = options.gtagName;\n  }\n}\n\n/**\n * Returns true if no environment mismatch is found.\n * If environment mismatches are found, throws an INVALID_ANALYTICS_CONTEXT\n * error that also lists details for each mismatch found.\n */\nfunction warnOnBrowserContextMismatch(): void {\n  const mismatchedEnvMessages = [];\n  if (isBrowserExtension()) {\n    mismatchedEnvMessages.push('This is a browser extension environment.');\n  }\n  if (!areCookiesEnabled()) {\n    mismatchedEnvMessages.push('Cookies are not available.');\n  }\n  if (mismatchedEnvMessages.length > 0) {\n    const details = mismatchedEnvMessages\n      .map((message, index) => `(${index + 1}) ${message}`)\n      .join(' ');\n    const err = ERROR_FACTORY.create(AnalyticsError.INVALID_ANALYTICS_CONTEXT, {\n      errorInfo: details\n    });\n    logger.warn(err.message);\n  }\n}\n\n/**\n * Analytics instance factory.\n * @internal\n */\nexport function factory(\n  app: FirebaseApp,\n  installations: _FirebaseInstallationsInternal,\n  options?: AnalyticsSettings\n): AnalyticsService {\n  warnOnBrowserContextMismatch();\n  const appId = app.options.appId;\n  if (!appId) {\n    throw ERROR_FACTORY.create(AnalyticsError.NO_APP_ID);\n  }\n  if (!app.options.apiKey) {\n    if (app.options.measurementId) {\n      logger.warn(\n        `The \"apiKey\" field is empty in the local Firebase config. This is needed to fetch the latest` +\n          ` measurement ID for this Firebase app. Falling back to the measurement ID ${app.options.measurementId}` +\n          ` provided in the \"measurementId\" field in the local Firebase config.`\n      );\n    } else {\n      throw ERROR_FACTORY.create(AnalyticsError.NO_API_KEY);\n    }\n  }\n  if (initializationPromisesMap[appId] != null) {\n    throw ERROR_FACTORY.create(AnalyticsError.ALREADY_EXISTS, {\n      id: appId\n    });\n  }\n\n  if (!globalInitDone) {\n    // Steps here should only be done once per page: creation or wrapping\n    // of dataLayer and global gtag function.\n\n    getOrCreateDataLayer(dataLayerName);\n\n    const { wrappedGtag, gtagCore } = wrapOrCreateGtag(\n      initializationPromisesMap,\n      dynamicConfigPromisesList,\n      measurementIdToAppId,\n      dataLayerName,\n      gtagName\n    );\n    wrappedGtagFunction = wrappedGtag;\n    gtagCoreFunction = gtagCore;\n\n    globalInitDone = true;\n  }\n  // Async but non-blocking.\n  // This map reflects the completion state of all promises for each appId.\n  initializationPromisesMap[appId] = _initializeAnalytics(\n    app,\n    dynamicConfigPromisesList,\n    measurementIdToAppId,\n    installations,\n    gtagCoreFunction,\n    dataLayerName,\n    options\n  );\n\n  const analyticsInstance: AnalyticsService = new AnalyticsService(app);\n\n  return analyticsInstance;\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable camelcase */\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _getProvider, FirebaseApp, getApp } from '@firebase/app';\nimport {\n  Analytics,\n  AnalyticsCallOptions,\n  AnalyticsSettings,\n  ConsentSettings,\n  CustomParams,\n  EventNameString,\n  EventParams\n} from './public-types';\nimport { Provider } from '@firebase/component';\nimport {\n  isIndexedDBAvailable,\n  validateIndexedDBOpenable,\n  areCookiesEnabled,\n  isBrowserExtension,\n  getModularInstance,\n  deepEqual\n} from '@firebase/util';\nimport { ANALYTICS_TYPE, GtagCommand } from './constants';\nimport {\n  AnalyticsService,\n  initializationPromisesMap,\n  wrappedGtagFunction\n} from './factory';\nimport { logger } from './logger';\nimport {\n  logEvent as internalLogEvent,\n  setCurrentScreen as internalSetCurrentScreen,\n  setUserId as internalSetUserId,\n  setUserProperties as internalSetUserProperties,\n  setAnalyticsCollectionEnabled as internalSetAnalyticsCollectionEnabled,\n  _setConsentDefaultForInit,\n  _setDefaultEventParametersForInit\n} from './functions';\nimport { ERROR_FACTORY, AnalyticsError } from './errors';\n\nexport { settings } from './factory';\n\ndeclare module '@firebase/component' {\n  interface NameServiceMapping {\n    [ANALYTICS_TYPE]: AnalyticsService;\n  }\n}\n\n/**\n * Returns an {@link Analytics} instance for the given app.\n *\n * @public\n *\n * @param app - The {@link @firebase/app#FirebaseApp} to use.\n */\nexport function getAnalytics(app: FirebaseApp = getApp()): Analytics {\n  app = getModularInstance(app);\n  // Dependencies\n  const analyticsProvider: Provider<'analytics'> = _getProvider(\n    app,\n    ANALYTICS_TYPE\n  );\n\n  if (analyticsProvider.isInitialized()) {\n    return analyticsProvider.getImmediate();\n  }\n\n  return initializeAnalytics(app);\n}\n\n/**\n * Returns an {@link Analytics} instance for the given app.\n *\n * @public\n *\n * @param app - The {@link @firebase/app#FirebaseApp} to use.\n */\nexport function initializeAnalytics(\n  app: FirebaseApp,\n  options: AnalyticsSettings = {}\n): Analytics {\n  // Dependencies\n  const analyticsProvider: Provider<'analytics'> = _getProvider(\n    app,\n    ANALYTICS_TYPE\n  );\n  if (analyticsProvider.isInitialized()) {\n    const existingInstance = analyticsProvider.getImmediate();\n    if (deepEqual(options, analyticsProvider.getOptions())) {\n      return existingInstance;\n    } else {\n      throw ERROR_FACTORY.create(AnalyticsError.ALREADY_INITIALIZED);\n    }\n  }\n  const analyticsInstance = analyticsProvider.initialize({ options });\n  return analyticsInstance;\n}\n\n/**\n * This is a public static method provided to users that wraps four different checks:\n *\n * 1. Check if it's not a browser extension environment.\n * 2. Check if cookies are enabled in current browser.\n * 3. Check if IndexedDB is supported by the browser environment.\n * 4. Check if the current browser context is valid for using `IndexedDB.open()`.\n *\n * @public\n *\n */\nexport async function isSupported(): Promise<boolean> {\n  if (isBrowserExtension()) {\n    return false;\n  }\n  if (!areCookiesEnabled()) {\n    return false;\n  }\n  if (!isIndexedDBAvailable()) {\n    return false;\n  }\n\n  try {\n    const isDBOpenable: boolean = await validateIndexedDBOpenable();\n    return isDBOpenable;\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Use gtag `config` command to set `screen_name`.\n *\n * @public\n *\n * @deprecated Use {@link logEvent} with `eventName` as 'screen_view' and add relevant `eventParams`.\n * See {@link https://firebase.google.com/docs/analytics/screenviews | Track Screenviews}.\n *\n * @param analyticsInstance - The {@link Analytics} instance.\n * @param screenName - Screen name to set.\n */\nexport function setCurrentScreen(\n  analyticsInstance: Analytics,\n  screenName: string,\n  options?: AnalyticsCallOptions\n): void {\n  analyticsInstance = getModularInstance(analyticsInstance);\n  internalSetCurrentScreen(\n    wrappedGtagFunction,\n    initializationPromisesMap[analyticsInstance.app.options.appId!],\n    screenName,\n    options\n  ).catch(e => logger.error(e));\n}\n\n/**\n * Use gtag `config` command to set `user_id`.\n *\n * @public\n *\n * @param analyticsInstance - The {@link Analytics} instance.\n * @param id - User ID to set.\n */\nexport function setUserId(\n  analyticsInstance: Analytics,\n  id: string,\n  options?: AnalyticsCallOptions\n): void {\n  analyticsInstance = getModularInstance(analyticsInstance);\n  internalSetUserId(\n    wrappedGtagFunction,\n    initializationPromisesMap[analyticsInstance.app.options.appId!],\n    id,\n    options\n  ).catch(e => logger.error(e));\n}\n\n/**\n * Use gtag `config` command to set all params specified.\n *\n * @public\n */\nexport function setUserProperties(\n  analyticsInstance: Analytics,\n  properties: CustomParams,\n  options?: AnalyticsCallOptions\n): void {\n  analyticsInstance = getModularInstance(analyticsInstance);\n  internalSetUserProperties(\n    wrappedGtagFunction,\n    initializationPromisesMap[analyticsInstance.app.options.appId!],\n    properties,\n    options\n  ).catch(e => logger.error(e));\n}\n\n/**\n * Sets whether Google Analytics collection is enabled for this app on this device.\n * Sets global `window['ga-disable-analyticsId'] = true;`\n *\n * @public\n *\n * @param analyticsInstance - The {@link Analytics} instance.\n * @param enabled - If true, enables collection, if false, disables it.\n */\nexport function setAnalyticsCollectionEnabled(\n  analyticsInstance: Analytics,\n  enabled: boolean\n): void {\n  analyticsInstance = getModularInstance(analyticsInstance);\n  internalSetAnalyticsCollectionEnabled(\n    initializationPromisesMap[analyticsInstance.app.options.appId!],\n    enabled\n  ).catch(e => logger.error(e));\n}\n\n/**\n * Adds data that will be set on every event logged from the SDK, including automatic ones.\n * With gtag's \"set\" command, the values passed persist on the current page and are passed with\n * all subsequent events.\n * @public\n * @param customParams - Any custom params the user may pass to gtag.js.\n */\nexport function setDefaultEventParameters(customParams: CustomParams): void {\n  // Check if reference to existing gtag function on window object exists\n  if (wrappedGtagFunction) {\n    wrappedGtagFunction(GtagCommand.SET, customParams);\n  } else {\n    _setDefaultEventParametersForInit(customParams);\n  }\n}\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'add_payment_info',\n  eventParams?: {\n    coupon?: EventParams['coupon'];\n    currency?: EventParams['currency'];\n    items?: EventParams['items'];\n    payment_type?: EventParams['payment_type'];\n    value?: EventParams['value'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'add_shipping_info',\n  eventParams?: {\n    coupon?: EventParams['coupon'];\n    currency?: EventParams['currency'];\n    items?: EventParams['items'];\n    shipping_tier?: EventParams['shipping_tier'];\n    value?: EventParams['value'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'add_to_cart' | 'add_to_wishlist' | 'remove_from_cart',\n  eventParams?: {\n    currency?: EventParams['currency'];\n    value?: EventParams['value'];\n    items?: EventParams['items'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'begin_checkout',\n  eventParams?: {\n    currency?: EventParams['currency'];\n    coupon?: EventParams['coupon'];\n    value?: EventParams['value'];\n    items?: EventParams['items'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'checkout_progress',\n  eventParams?: {\n    currency?: EventParams['currency'];\n    coupon?: EventParams['coupon'];\n    value?: EventParams['value'];\n    items?: EventParams['items'];\n    checkout_step?: EventParams['checkout_step'];\n    checkout_option?: EventParams['checkout_option'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * See\n * {@link https://developers.google.com/analytics/devguides/collection/ga4/exceptions\n * | Measure exceptions}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'exception',\n  eventParams?: {\n    description?: EventParams['description'];\n    fatal?: EventParams['fatal'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'generate_lead',\n  eventParams?: {\n    value?: EventParams['value'];\n    currency?: EventParams['currency'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'login',\n  eventParams?: {\n    method?: EventParams['method'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * See\n * {@link https://developers.google.com/analytics/devguides/collection/ga4/page-view\n * | Page views}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'page_view',\n  eventParams?: {\n    page_title?: string;\n    page_location?: string;\n    page_path?: string;\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'purchase' | 'refund',\n  eventParams?: {\n    value?: EventParams['value'];\n    currency?: EventParams['currency'];\n    transaction_id: EventParams['transaction_id'];\n    tax?: EventParams['tax'];\n    shipping?: EventParams['shipping'];\n    items?: EventParams['items'];\n    coupon?: EventParams['coupon'];\n    affiliation?: EventParams['affiliation'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * See {@link https://firebase.google.com/docs/analytics/screenviews\n * | Track Screenviews}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'screen_view',\n  eventParams?: {\n    firebase_screen: EventParams['firebase_screen'];\n    firebase_screen_class: EventParams['firebase_screen_class'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'search' | 'view_search_results',\n  eventParams?: {\n    search_term?: EventParams['search_term'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'select_content',\n  eventParams?: {\n    content_type?: EventParams['content_type'];\n    item_id?: EventParams['item_id'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'select_item',\n  eventParams?: {\n    items?: EventParams['items'];\n    item_list_name?: EventParams['item_list_name'];\n    item_list_id?: EventParams['item_list_id'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'select_promotion' | 'view_promotion',\n  eventParams?: {\n    items?: EventParams['items'];\n    promotion_id?: EventParams['promotion_id'];\n    promotion_name?: EventParams['promotion_name'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'set_checkout_option',\n  eventParams?: {\n    checkout_step?: EventParams['checkout_step'];\n    checkout_option?: EventParams['checkout_option'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'share',\n  eventParams?: {\n    method?: EventParams['method'];\n    content_type?: EventParams['content_type'];\n    item_id?: EventParams['item_id'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'sign_up',\n  eventParams?: {\n    method?: EventParams['method'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'timing_complete',\n  eventParams?: {\n    name: string;\n    value: number;\n    event_category?: string;\n    event_label?: string;\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'view_cart' | 'view_item',\n  eventParams?: {\n    currency?: EventParams['currency'];\n    items?: EventParams['items'];\n    value?: EventParams['value'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: 'view_item_list',\n  eventParams?: {\n    items?: EventParams['items'];\n    item_list_name?: EventParams['item_list_name'];\n    item_list_id?: EventParams['item_list_id'];\n    [key: string]: any;\n  },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * @public\n * List of recommended event parameters can be found in\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n */\nexport function logEvent<T extends string>(\n  analyticsInstance: Analytics,\n  eventName: CustomEventName<T>,\n  eventParams?: { [key: string]: any },\n  options?: AnalyticsCallOptions\n): void;\n\n/**\n * Sends a Google Analytics event with given `eventParams`. This method\n * automatically associates this logged event with this Firebase web\n * app instance on this device.\n * List of official event parameters can be found in the gtag.js\n * reference documentation:\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\n * | the GA4 reference documentation}.\n *\n * @public\n */\nexport function logEvent(\n  analyticsInstance: Analytics,\n  eventName: string,\n  eventParams?: EventParams,\n  options?: AnalyticsCallOptions\n): void {\n  analyticsInstance = getModularInstance(analyticsInstance);\n  internalLogEvent(\n    wrappedGtagFunction,\n    initializationPromisesMap[analyticsInstance.app.options.appId!],\n    eventName,\n    eventParams,\n    options\n  ).catch(e => logger.error(e));\n}\n\n/**\n * Any custom event name string not in the standard list of recommended\n * event names.\n * @public\n */\nexport type CustomEventName<T> = T extends EventNameString ? never : T;\n\n/**\n * Sets the applicable end user consent state for this web app across all gtag references once\n * Firebase Analytics is initialized.\n *\n * Use the {@link ConsentSettings} to specify individual consent type values. By default consent\n * types are set to \"granted\".\n * @public\n * @param consentSettings - Maps the applicable end user consent state for gtag.js.\n */\nexport function setConsent(consentSettings: ConsentSettings): void {\n  // Check if reference to existing gtag function on window object exists\n  if (wrappedGtagFunction) {\n    wrappedGtagFunction(GtagCommand.CONSENT, 'update', consentSettings);\n  } else {\n    _setConsentDefaultForInit(consentSettings);\n  }\n}\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will attempt to load Closure's deps file, unless\n * the global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects\n * to include their own deps file(s) from different locations.\n *\n * Avoid including base.js more than once. This is strictly discouraged and not\n * supported. goog.require(...) won't work properly in that case.\n *\n * @provideGoog\n */\n\n\n/**\n * @define {boolean} Overridden to true by the compiler.\n */\nvar COMPILED = false;\n\n\n/**\n * Base namespace for the Closure library.  Checks to see goog is already\n * defined in the current scope before assigning to prevent clobbering if\n * base.js is loaded more than once.\n *\n * @const\n */\nvar goog = goog || {};\n\n/**\n * Reference to the global object.\n * https://www.ecma-international.org/ecma-262/9.0/index.html#sec-global-object\n *\n * More info on this implementation here:\n * https://docs.google.com/document/d/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI/edit\n *\n * @const\n * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.\n * @type {!Global}\n */\ngoog.global =\n    // Check `this` first for backwards compatibility.\n    // Valid unless running as an ES module or in a function wrapper called\n    //   without setting `this` properly.\n    // Note that base.js can't usefully be imported as an ES module, but it may\n    // be compiled into bundles that are loadable as ES modules.\n    this ||\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/self\n    // For in-page browser environments and workers.\n    self;\n\n\n/**\n * A hook for overriding the define values in uncompiled mode.\n *\n * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before\n * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,\n * `goog.define` will use the value instead of the default value.  This\n * allows flags to be overwritten without compilation (this is normally\n * accomplished with the compiler's \"define\" flag).\n *\n * Example:\n * <pre>\n *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};\n * </pre>\n *\n * @type {Object<string, (string|number|boolean)>|undefined}\n */\ngoog.global.CLOSURE_UNCOMPILED_DEFINES;\n\n\n/**\n * A hook for overriding the define values in uncompiled or compiled mode,\n * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In\n * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.\n *\n * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or\n * string literals or the compiler will emit an error.\n *\n * While any @define value may be set, only those set with goog.define will be\n * effective for uncompiled code.\n *\n * Example:\n * <pre>\n *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;\n * </pre>\n *\n * Currently the Closure Compiler will only recognize very simple definitions of\n * this value when looking for values to apply to compiled code and ignore all\n * other references.  Specifically, it looks the value defined at the variable\n * declaration, as with the example above.\n *\n * TODO(user): Improve the recognized definitions.\n *\n * @type {!Object<string, (string|number|boolean)>|null|undefined}\n */\ngoog.global.CLOSURE_DEFINES;\n\n\n/**\n * Builds an object structure for the provided namespace path, ensuring that\n * names that already exist are not overwritten. For example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name The name of the object that this file defines.\n * @param {*=} object The object to expose at the end of the path.\n * @param {boolean=} overwriteImplicit If object is set and a previous call\n *     implicitly constructed the namespace given by name, this parameter\n *     controls whether object should overwrite the implicitly constructed\n *     namespace or be merged into it. Defaults to false.\n * @param {?Object=} objectToExportTo The object to add the path to; if this\n *     field is not specified, its value defaults to `goog.global`.\n * @private\n */\ngoog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {\n  var parts = name.split('.');\n  var cur = objectToExportTo || goog.global;\n\n  // Internet Explorer exhibits strange behavior when throwing errors from\n  // methods externed in this manner.  See the testExportSymbolExceptions in\n  // base_test.html for an example.\n  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {\n    cur.execScript('var ' + parts[0]);\n  }\n\n  for (var part; parts.length && (part = parts.shift());) {\n    if (!parts.length && object !== undefined) {\n      if (!overwriteImplicit && goog.isObject(object) &&\n          goog.isObject(cur[part])) {\n        // Merge properties on object (the input parameter) with the existing\n        // implicitly defined namespace, so as to not clobber previously\n        // defined child namespaces.\n        for (var prop in object) {\n          if (object.hasOwnProperty(prop)) {\n            cur[part][prop] = object[prop];\n          }\n        }\n      } else {\n        // Either there is no existing implicit namespace, or overwriteImplicit\n        // is set to true, so directly assign object (the input parameter) to\n        // the namespace.\n        cur[part] = object;\n      }\n    } else if (cur[part] && cur[part] !== Object.prototype[part]) {\n      cur = cur[part];\n    } else {\n      cur = cur[part] = {};\n    }\n  }\n};\n\n\n/**\n * Defines a named value. In uncompiled mode, the value is retrieved from\n * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and\n * has the property specified, and otherwise used the defined defaultValue.\n * When compiled the default can be overridden using the compiler options or the\n * value set in the CLOSURE_DEFINES object. Returns the defined value so that it\n * can be used safely in modules. Note that the value type MUST be either\n * boolean, number, or string.\n *\n * @param {string} name The distinguished name to provide.\n * @param {T} defaultValue\n * @return {T} The defined value.\n * @template T\n */\ngoog.define = function(name, defaultValue) {\n  var value = defaultValue;\n  if (!COMPILED) {\n    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;\n    var defines = goog.global.CLOSURE_DEFINES;\n    if (uncompiledDefines &&\n        // Anti DOM-clobbering runtime check (b/37736576).\n        /** @type {?} */ (uncompiledDefines).nodeType === undefined &&\n        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {\n      value = uncompiledDefines[name];\n    } else if (\n        defines &&\n        // Anti DOM-clobbering runtime check (b/37736576).\n        /** @type {?} */ (defines).nodeType === undefined &&\n        Object.prototype.hasOwnProperty.call(defines, name)) {\n      value = defines[name];\n    }\n  }\n  return value;\n};\n\n\n/**\n * @define {number} Integer year indicating the set of browser features that are\n * guaranteed to be present.  This is defined to include exactly features that\n * work correctly on all \"modern\" browsers that are stable on January 1 of the\n * specified year.  For example,\n * ```js\n * if (goog.FEATURESET_YEAR >= 2019) {\n *   // use APIs known to be available on all major stable browsers Jan 1, 2019\n * } else {\n *   // polyfill for older browsers\n * }\n * ```\n * This is intended to be the primary define for removing\n * unnecessary browser compatibility code (such as ponyfills and workarounds),\n * and should inform the default value for most other defines:\n * ```js\n * const ASSUME_NATIVE_PROMISE =\n *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);\n * ```\n *\n * The default assumption is that IE9 is the lowest supported browser, which was\n * first available Jan 1, 2012.\n *\n * TODO(user): Reference more thorough documentation when it's available.\n */\ngoog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);\n\n\n/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production. It can be easily stripped\n * by specifying --define goog.DEBUG=false to the Closure Compiler aka\n * JSCompiler. For example, most toString() methods should be declared inside an\n * \"if (goog.DEBUG)\" conditional because they are generally used for debugging\n * purposes and it is difficult for the JSCompiler to statically determine\n * whether they are used.\n */\ngoog.DEBUG = goog.define('goog.DEBUG', true);\n\n\n/**\n * @define {string} LOCALE defines the locale being used for compilation. It is\n * used to select locale specific data to be compiled in js binary. BUILD rule\n * can specify this value by \"--define goog.LOCALE=<locale_name>\" as a compiler\n * option.\n *\n * Take into account that the locale code format is important. You should use\n * the canonical Unicode format with hyphen as a delimiter. Language must be\n * lowercase, Language Script - Capitalized, Region - UPPERCASE.\n * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.\n *\n * See more info about locale codes here:\n * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers\n *\n * For language codes you should use values defined by ISO 693-1. See it here\n * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from\n * this rule: the Hebrew language. For legacy reasons the old code (iw) should\n * be used instead of the new code (he).\n *\n */\ngoog.LOCALE = goog.define('goog.LOCALE', 'en');  // default to en\n\n\n/**\n * This method is intended to be used for bookkeeping purposes.  We would\n * like to distinguish uses of goog.LOCALE used for code stripping purposes\n * and uses of goog.LOCALE for other uses (such as URL parameters).\n *\n * This allows us to ban direct uses of goog.LOCALE and to ensure that all\n * code has been transformed to our new localization build scheme.\n *\n * @return {string}\n *\n */\ngoog.getLocale = function() {\n  return goog.LOCALE;\n};\n\n\n/**\n * @define {boolean} Whether this code is running on trusted sites.\n *\n * On untrusted sites, several native functions can be defined or overridden by\n * external libraries like Prototype, Datejs, and JQuery and setting this flag\n * to false forces closure to use its own implementations when possible.\n *\n * If your JavaScript can be loaded by a third party site and you are wary about\n * relying on non-standard implementations, specify\n * \"--define goog.TRUSTED_SITE=false\" to the compiler.\n */\ngoog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);\n\n\n/**\n * @define {boolean} Whether code that calls {@link goog.setTestOnly} should\n *     be disallowed in the compilation unit.\n */\ngoog.DISALLOW_TEST_ONLY_CODE =\n    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);\n\n\n/**\n * @define {boolean} Whether to use a Chrome app CSP-compliant method for\n *     loading scripts via goog.require. @see appendScriptSrcNode_.\n */\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =\n    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);\n\n\n/**\n * Defines a namespace in Closure.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * The presence of one or more goog.provide() calls in a file indicates\n * that the file defines the given objects/namespaces.\n * Provided symbols must not be null or undefined.\n *\n * In addition, goog.provide() creates the object stubs for a namespace\n * (for example, goog.provide(\"goog.foo.bar\") will create the object\n * goog.foo.bar if it does not already exist).\n *\n * Build tools also scan for provide/require/module statements\n * to discern dependencies, build dependency files (see deps.js), etc.\n *\n * @see goog.require\n * @see goog.module\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * deprecated Use goog.module (see b/159289405)\n */\ngoog.provide = function(name) {\n  if (goog.isInModuleLoader_()) {\n    throw new Error('goog.provide cannot be used within a module.');\n  }\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice.\n    // A goog.module/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw new Error('Namespace \"' + name + '\" already declared.');\n    }\n  }\n\n  goog.constructNamespace_(name);\n};\n\n\n/**\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * @param {?Object=} object The object to embed in the namespace.\n * @param {boolean=} overwriteImplicit If object is set and a previous call\n *     implicitly constructed the namespace given by name, this parameter\n *     controls whether opt_obj should overwrite the implicitly constructed\n *     namespace or be merged into it. Defaults to false.\n * @private\n */\ngoog.constructNamespace_ = function(name, object, overwriteImplicit) {\n  if (!COMPILED) {\n    delete goog.implicitNamespaces_[name];\n\n    var namespace = name;\n    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {\n      if (goog.getObjectByName(namespace)) {\n        break;\n      }\n      goog.implicitNamespaces_[namespace] = true;\n    }\n  }\n\n  goog.exportPath_(name, object, overwriteImplicit);\n};\n\n\n/**\n * According to the CSP3 spec a nonce must be a valid base64 string.\n * @see https://www.w3.org/TR/CSP3/#grammardef-base64-value\n * @private @const\n */\ngoog.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\n\n\n/**\n * Returns CSP nonce, if set for any script tag.\n * @param {?Window=} opt_window The window context used to retrieve the nonce.\n *     Defaults to global context.\n * @return {string} CSP nonce or empty string if no nonce is present.\n * @private\n */\ngoog.getScriptNonce_ = function(opt_window) {\n  var doc = (opt_window || goog.global).document;\n  var script = doc.querySelector && doc.querySelector('script[nonce]');\n  if (script) {\n    // Try to get the nonce from the IDL property first, because browsers that\n    // implement additional nonce protection features (currently only Chrome) to\n    // prevent nonce stealing via CSS do not expose the nonce via attributes.\n    // See https://github.com/whatwg/html/issues/2369\n    var nonce = script['nonce'] || script.getAttribute('nonce');\n    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return '';\n};\n\n\n/**\n * Module identifier validation regexp.\n * Note: This is a conservative check, it is very possible to be more lenient,\n *   the primary exclusion here is \"/\" and \"\\\" and a leading \".\", these\n *   restrictions are intended to leave the door open for using goog.require\n *   with relative file paths rather than module identifiers.\n * @private\n */\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\n\n\n/**\n * Defines a module in Closure.\n *\n * Marks that this file must be loaded as a module and claims the namespace.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * goog.module() has three requirements:\n * - goog.module may not be used in the same file as goog.provide.\n * - goog.module must be the first statement in the file.\n * - only one goog.module is allowed per file.\n *\n * When a goog.module annotated file is loaded, it is enclosed in\n * a strict function closure. This means that:\n * - any variables declared in a goog.module file are private to the file\n * (not global), though the compiler is expected to inline the module.\n * - The code must obey all the rules of \"strict\" JavaScript.\n * - the file will be marked as \"use strict\"\n *\n * NOTE: unlike goog.provide, goog.module does not declare any symbols by\n * itself. If declared symbols are desired, use\n * goog.module.declareLegacyNamespace().\n *\n *\n * See the public goog.module proposal: http://goo.gl/Va1hin\n *\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\", is expected but not required.\n * @return {void}\n */\ngoog.module = function(name) {\n  if (typeof name !== 'string' || !name ||\n      name.search(goog.VALID_MODULE_RE_) == -1) {\n    throw new Error('Invalid module identifier');\n  }\n  if (!goog.isInGoogModuleLoader_()) {\n    throw new Error(\n        'Module ' + name + ' has been loaded incorrectly. Note, ' +\n        'modules cannot be loaded as normal scripts. They require some kind of ' +\n        'pre-processing step. You\\'re likely trying to load a module via a ' +\n        'script tag or as a part of a concatenated bundle without rewriting the ' +\n        'module. For more info see: ' +\n        'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw new Error('goog.module may only be called once per module.');\n  }\n\n  // Store the module name for the loader.\n  goog.moduleLoaderState_.moduleName = name;\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice.\n    // A goog.module/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw new Error('Namespace \"' + name + '\" already declared.');\n    }\n    delete goog.implicitNamespaces_[name];\n  }\n};\n\n\n/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n *\n * Note: This is not an alternative to goog.require, it does not\n * indicate a hard dependency, instead it is used to indicate\n * an optional dependency or to access the exports of a module\n * that has already been loaded.\n * @suppress {missingProvide}\n */\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\n\n\n/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n * @private\n */\ngoog.module.getInternal_ = function(name) {\n  if (!COMPILED) {\n    if (name in goog.loadedModules_) {\n      return goog.loadedModules_[name].exports;\n    } else if (!goog.implicitNamespaces_[name]) {\n      var ns = goog.getObjectByName(name);\n      return ns != null ? ns : null;\n    }\n  }\n  return null;\n};\n\n\n/**\n * Types of modules the debug loader can load.\n * @enum {string}\n */\ngoog.ModuleType = {\n  ES6: 'es6',\n  GOOG: 'goog'\n};\n\n\n/**\n * @private {?{\n *   moduleName: (string|undefined),\n *   declareLegacyNamespace:boolean,\n *   type: ?goog.ModuleType\n * }}\n */\ngoog.moduleLoaderState_ = null;\n\n\n/**\n * @private\n * @return {boolean} Whether a goog.module or an es6 module is currently being\n *     initialized.\n */\ngoog.isInModuleLoader_ = function() {\n  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n};\n\n\n/**\n * @private\n * @return {boolean} Whether a goog.module is currently being initialized.\n */\ngoog.isInGoogModuleLoader_ = function() {\n  return !!goog.moduleLoaderState_ &&\n      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n};\n\n\n/**\n * @private\n * @return {boolean} Whether an es6 module is currently being initialized.\n */\ngoog.isInEs6ModuleLoader_ = function() {\n  var inLoader = !!goog.moduleLoaderState_ &&\n      goog.moduleLoaderState_.type == goog.ModuleType.ES6;\n\n  if (inLoader) {\n    return true;\n  }\n\n  var jscomp = goog.global['$jscomp'];\n\n  if (jscomp) {\n    // jscomp may not have getCurrentModulePath if this is a compiled bundle\n    // that has some of the runtime, but not all of it. This can happen if\n    // optimizations are turned on so the unused runtime is removed but renaming\n    // and Closure pass are off (so $jscomp is still named $jscomp and the\n    // goog.provide/require calls still exist).\n    if (typeof jscomp.getCurrentModulePath != 'function') {\n      return false;\n    }\n\n    // Bundled ES6 module.\n    return !!jscomp.getCurrentModulePath();\n  }\n\n  return false;\n};\n\n\n/**\n * Provide the module's exports as a globally accessible object under the\n * module's declared name.  This is intended to ease migration to goog.module\n * for files that have existing usages.\n * @suppress {missingProvide}\n */\ngoog.module.declareLegacyNamespace = function() {\n  if (!COMPILED && !goog.isInGoogModuleLoader_()) {\n    throw new Error(\n        'goog.module.declareLegacyNamespace must be called from ' +\n        'within a goog.module');\n  }\n  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {\n    throw new Error(\n        'goog.module must be called prior to ' +\n        'goog.module.declareLegacyNamespace.');\n  }\n  goog.moduleLoaderState_.declareLegacyNamespace = true;\n};\n\n\n/**\n * Associates an ES6 module with a Closure module ID so that is available via\n * goog.require. The associated ID  acts like a goog.module ID - it does not\n * create any global names, it is merely available via goog.require /\n * goog.module.get / goog.forwardDeclare / goog.requireType. goog.require and\n * goog.module.get will return the entire module as if it was import *'d. This\n * allows Closure files to reference ES6 modules for the sake of migration.\n *\n * @param {string} namespace\n * @suppress {missingProvide}\n */\ngoog.declareModuleId = function(namespace) {\n  if (!COMPILED) {\n    if (!goog.isInEs6ModuleLoader_()) {\n      throw new Error(\n          'goog.declareModuleId may only be called from ' +\n          'within an ES6 module');\n    }\n    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {\n      throw new Error(\n          'goog.declareModuleId may only be called once per module.');\n    }\n    if (namespace in goog.loadedModules_) {\n      throw new Error(\n          'Module with namespace \"' + namespace + '\" already exists.');\n    }\n  }\n  if (goog.moduleLoaderState_) {\n    // Not bundled - debug loading.\n    goog.moduleLoaderState_.moduleName = namespace;\n  } else {\n    // Bundled - not debug loading, no module loader state.\n    var jscomp = goog.global['$jscomp'];\n    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {\n      throw new Error(\n          'Module with namespace \"' + namespace +\n          '\" has been loaded incorrectly.');\n    }\n    var exports = jscomp.require(jscomp.getCurrentModulePath());\n    goog.loadedModules_[namespace] = {\n      exports: exports,\n      type: goog.ModuleType.ES6,\n      moduleId: namespace\n    };\n  }\n};\n\n\n/**\n * Marks that the current file should only be used for testing, and never for\n * live code in production.\n *\n * In the case of unit tests, the message may optionally be an exact namespace\n * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra\n * provide (if not explicitly defined in the code).\n *\n * @param {string=} opt_message Optional message to add to the error that's\n *     raised when used in production code.\n */\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    opt_message = opt_message || '';\n    throw new Error(\n        'Importing test-only code into non-debug environment' +\n        (opt_message ? ': ' + opt_message : '.'));\n  }\n};\n\n\n/**\n * Forward declares a symbol. This is an indication to the compiler that the\n * symbol may be used in the source yet is not required and may not be provided\n * in compilation.\n *\n * The most common usage of forward declaration is code that takes a type as a\n * function parameter but does not need to require it. By forward declaring\n * instead of requiring, no hard dependency is made, and (if not required\n * elsewhere) the namespace may never be required and thus, not be pulled\n * into the JavaScript binary. If it is required elsewhere, it will be type\n * checked as normal.\n *\n * Before using goog.forwardDeclare, please read the documentation at\n * https://github.com/google/closure-compiler/wiki/Bad-Type-Annotation to\n * understand the options and tradeoffs when working with forward declarations.\n *\n * @param {string} name The namespace to forward declare in the form of\n *     \"goog.package.part\".\n * @deprecated See go/noforwarddeclaration, Use `goog.requireType` instead.\n */\ngoog.forwardDeclare = function(name) {};\n\n\n/**\n * Forward declare type information. Used to assign types to goog.global\n * referenced object that would otherwise result in unknown type references\n * and thus block property disambiguation.\n */\ngoog.forwardDeclare('Document');\ngoog.forwardDeclare('HTMLScriptElement');\ngoog.forwardDeclare('XMLHttpRequest');\n\n\nif (!COMPILED) {\n  /**\n   * Check if the given name has been goog.provided. This will return false for\n   * names that are available only as implicit namespaces.\n   * @param {string} name name of the object to look for.\n   * @return {boolean} Whether the name has been provided.\n   * @private\n   */\n  goog.isProvided_ = function(name) {\n    return (name in goog.loadedModules_) ||\n        (!goog.implicitNamespaces_[name] && goog.getObjectByName(name) != null);\n  };\n\n  /**\n   * Namespaces implicitly defined by goog.provide. For example,\n   * goog.provide('goog.events.Event') implicitly declares that 'goog' and\n   * 'goog.events' must be namespaces.\n   *\n   * @type {!Object<string, (boolean|undefined)>}\n   * @private\n   */\n  goog.implicitNamespaces_ = {'goog.module': true};\n\n  // NOTE: We add goog.module as an implicit namespace as goog.module is defined\n  // here and because the existing module package has not been moved yet out of\n  // the goog.module namespace. This satisifies both the debug loader and\n  // ahead-of-time dependency management.\n}\n\n\n/**\n * Returns an object based on its fully qualified external name.  The object\n * is not found if null or undefined.  If you are using a compilation pass that\n * renames property names beware that using this function will not find renamed\n * properties.\n *\n * @param {string} name The fully qualified name.\n * @param {Object=} opt_obj The object within which to look; default is\n *     |goog.global|.\n * @return {?} The value (object or primitive) or, if not found, null.\n */\ngoog.getObjectByName = function(name, opt_obj) {\n  var parts = name.split('.');\n  var cur = opt_obj || goog.global;\n  for (var i = 0; i < parts.length; i++) {\n    cur = cur[parts[i]];\n    if (cur == null) {\n      return null;\n    }\n  }\n  return cur;\n};\n\n\n/**\n * Adds a dependency from a file to the files it requires.\n * @param {string} relPath The path to the js file.\n * @param {!Array<string>} provides An array of strings with\n *     the names of the objects this file provides.\n * @param {!Array<string>} requires An array of strings with\n *     the names of the objects this file requires.\n * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating\n *     how the file must be loaded.  The boolean 'true' is equivalent\n *     to {'module': 'goog'} for backwards-compatibility.  Valid properties\n *     and values include {'module': 'goog'} and {'lang': 'es6'}.\n */\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {\n    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);\n  }\n};\n\n\n// NOTE(nnaze): The debug DOM loader was included in base.js as an original way\n// to do \"debug-mode\" development.  The dependency system can sometimes be\n// confusing, as can the debug DOM loader's asynchronous nature.\n//\n// With the DOM loader, a call to goog.require() is not blocking -- the script\n// will not load until some point after the current script.  If a namespace is\n// needed at runtime, it needs to be defined in a previous script, or loaded via\n// require() with its registered dependencies.\n//\n// User-defined namespaces may need their own deps file. For a reference on\n// creating a deps file, see:\n// Externally: https://developers.google.com/closure/library/docs/depswriter\n//\n// Because of legacy clients, the DOM loader can't be easily removed from\n// base.js.  Work was done to make it disableable or replaceable for\n// different environments (DOM-less JavaScript interpreters like Rhino or V8,\n// for example). See bootstrap/ for more information.\n\n\n/**\n * @define {boolean} Whether to enable the debug loader.\n *\n * If enabled, a call to goog.require() will attempt to load the namespace by\n * appending a script tag to the DOM (if the namespace has been registered).\n *\n * If disabled, goog.require() will simply assert that the namespace has been\n * provided (and depend on the fact that some outside tool correctly ordered\n * the script).\n */\ngoog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', true);\n\n\n/**\n * @param {string} msg\n * @private\n */\ngoog.logToConsole_ = function(msg) {\n  if (goog.global.console) {\n    goog.global.console['error'](msg);\n  }\n};\n\n\n/**\n * Implements a system for the dynamic resolution of dependencies that works in\n * parallel with the BUILD system.\n *\n * Note that all calls to goog.require will be stripped by the compiler.\n *\n * @see goog.provide\n * @param {string} namespace Namespace (as was given in goog.provide,\n *     goog.module, or goog.declareModuleId) in the form\n *     \"goog.package.part\".\n * @return {?} If called within a goog.module or ES6 module file, the associated\n *     namespace or module otherwise null.\n */\ngoog.require = function(namespace) {\n  if (!COMPILED) {\n    // Might need to lazy load on old IE.\n    if (goog.ENABLE_DEBUG_LOADER) {\n      goog.debugLoader_.requested(namespace);\n    }\n\n    // If the object already exists we do not need to do anything.\n    if (goog.isProvided_(namespace)) {\n      if (goog.isInModuleLoader_()) {\n        return goog.module.getInternal_(namespace);\n      }\n    } else if (goog.ENABLE_DEBUG_LOADER) {\n      var moduleLoaderState = goog.moduleLoaderState_;\n      goog.moduleLoaderState_ = null;\n      try {\n        goog.debugLoader_.load_(namespace);\n      } finally {\n        goog.moduleLoaderState_ = moduleLoaderState;\n      }\n    }\n\n    return null;\n  }\n};\n\n\n/**\n * Requires a symbol for its type information. This is an indication to the\n * compiler that the symbol may appear in type annotations, yet it is not\n * referenced at runtime.\n *\n * When called within a goog.module or ES6 module file, the return value may be\n * assigned to or destructured into a variable, but it may not be otherwise used\n * in code outside of a type annotation.\n *\n * Note that all calls to goog.requireType will be stripped by the compiler.\n *\n * @param {string} namespace Namespace (as was given in goog.provide,\n *     goog.module, or goog.declareModuleId) in the form\n *     \"goog.package.part\".\n * @return {?}\n */\ngoog.requireType = function(namespace) {\n  // Return an empty object so that single-level destructuring of the return\n  // value doesn't crash at runtime when using the debug loader. Multi-level\n  // destructuring isn't supported.\n  return {};\n};\n\n\n/**\n * Path for included scripts.\n * @type {string}\n */\ngoog.basePath = '';\n\n\n/**\n * A hook for overriding the base path.\n * @type {string|undefined}\n */\ngoog.global.CLOSURE_BASE_PATH;\n\n\n/**\n * Whether to attempt to load Closure's deps file. By default, when uncompiled,\n * deps files will attempt to be loaded.\n * @type {boolean|undefined}\n */\ngoog.global.CLOSURE_NO_DEPS;\n\n\n/**\n * A function to import a single script. This is meant to be overridden when\n * Closure is being run in non-HTML contexts, such as web workers. It's defined\n * in the global scope so that it can be set before base.js is loaded, which\n * allows deps.js to be imported properly.\n *\n * The first parameter the script source, which is a relative URI. The second,\n * optional parameter is the script contents, in the event the script needed\n * transformation. It should return true if the script was imported, false\n * otherwise.\n * @type {(function(string, string=): boolean)|undefined}\n */\ngoog.global.CLOSURE_IMPORT_SCRIPT;\n\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n * @deprecated use '()=>{}' or 'function(){}' instead.\n */\ngoog.nullFunction = function() {};\n\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n * @deprecated Use \"@abstract\" annotation instead of goog.abstractMethod in new\n *     code. See\n *     https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods\n */\ngoog.abstractMethod = function() {\n  throw new Error('unimplemented abstract method');\n};\n\n\n/**\n * Adds a `getInstance` static method that always returns the same\n * instance object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n * @suppress {missingProperties} 'instance_' isn't a property on 'Function'\n *     but we don't have a better type to use here.\n */\ngoog.addSingletonGetter = function(ctor) {\n  // instance_ is immediately set to prevent issues with sealed constructors\n  // such as are encountered when a constructor is returned as the export object\n  // of a goog.module in unoptimized code.\n  // Delcare type to avoid conformance violations that ctor.instance_ is unknown\n  /** @type {undefined|!Object} @suppress {underscore} */\n  ctor.instance_ = undefined;\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    if (goog.DEBUG) {\n      // NOTE: JSCompiler can't optimize away Array#push.\n      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n    }\n    // Cast to avoid conformance violations that ctor.instance_ is unknown\n    return /** @type {!Object|undefined} */ (ctor.instance_) = new ctor;\n  };\n};\n\n\n/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the `goog.testing.singleton` module. The compiler\n * removes this variable if unused.\n * @type {!Array<!Function>}\n * @private\n */\ngoog.instantiatedSingletons_ = [];\n\n\n/**\n * @define {boolean} Whether to load goog.modules using `eval` when using\n * the debug loader.  This provides a better debugging experience as the\n * source is unmodified and can be edited using Chrome Workspaces or similar.\n * However in some environments the use of `eval` is banned\n * so we provide an alternative.\n */\ngoog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);\n\n\n/**\n * @define {boolean} Whether the exports of goog.modules should be sealed when\n * possible.\n */\ngoog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);\n\n\n/**\n * The registry of initialized modules:\n * The module identifier or path to module exports map.\n * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}\n */\ngoog.loadedModules_ = {};\n\n\n/**\n * True if the debug loader enabled and used.\n * @const {boolean}\n */\ngoog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;\n\n\n/**\n * @define {string} How to decide whether to transpile.  Valid values\n * are 'always', 'never', and 'detect'.  The default ('detect') is to\n * use feature detection to determine which language levels need\n * transpilation.\n */\n// NOTE(sdh): we could expand this to accept a language level to bypass\n// detection: e.g. goog.TRANSPILE == 'es5' would transpile ES6 files but\n// would leave ES3 and ES5 files alone.\ngoog.TRANSPILE = goog.define('goog.TRANSPILE', 'detect');\n\n/**\n * @define {boolean} If true assume that ES modules have already been\n * transpiled by the jscompiler (in the same way that transpile.js would\n * transpile them - to jscomp modules). Useful only for servers that wish to use\n * the debug loader and transpile server side. Thus this is only respected if\n * goog.TRANSPILE is \"never\".\n */\ngoog.ASSUME_ES_MODULES_TRANSPILED =\n    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);\n\n\n/**\n * @define {string} If a file needs to be transpiled what the output language\n * should be. By default this is the highest language level this file detects\n * the current environment supports. Generally this flag should not be set, but\n * it could be useful to override. Example: If the current environment supports\n * ES6 then by default ES7+ files will be transpiled to ES6, unless this is\n * overridden.\n *\n * Valid values include: es3, es5, es6, es7, and es8. Anything not recognized\n * is treated as es3.\n *\n * Note that setting this value does not force transpilation. Just if\n * transpilation occurs this will be the output. So this is most useful when\n * goog.TRANSPILE is set to 'always' and then forcing the language level to be\n * something lower than what the environment detects.\n */\ngoog.TRANSPILE_TO_LANGUAGE = goog.define('goog.TRANSPILE_TO_LANGUAGE', '');\n\n\n/**\n * @define {string} Path to the transpiler.  Executing the script at this\n * path (relative to base.js) should define a function $jscomp.transpile.\n */\ngoog.TRANSPILER = goog.define('goog.TRANSPILER', 'transpile.js');\n\n\n/**\n * @define {string} Trusted Types policy name. If non-empty then Closure will\n * use Trusted Types.\n */\ngoog.TRUSTED_TYPES_POLICY_NAME =\n    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');\n\n\n/**\n * @package {?boolean}\n * Visible for testing.\n */\ngoog.hasBadLetScoping = null;\n\n\n/**\n * @param {function(?):?|string} moduleDef The module definition.\n */\ngoog.loadModule = function(moduleDef) {\n  // NOTE: we allow function definitions to be either in the from\n  // of a string to eval (which keeps the original source intact) or\n  // in a eval forbidden environment (CSP) we allow a function definition\n  // which in its body must call `goog.module`, and return the exports\n  // of the module.\n  var previousState = goog.moduleLoaderState_;\n  try {\n    goog.moduleLoaderState_ = {\n      moduleName: '',\n      declareLegacyNamespace: false,\n      type: goog.ModuleType.GOOG\n    };\n    var origExports = {};\n    var exports = origExports;\n    if (typeof moduleDef === 'function') {\n      exports = moduleDef.call(undefined, exports);\n    } else if (typeof moduleDef === 'string') {\n      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);\n    } else {\n      throw new Error('Invalid module definition');\n    }\n\n    var moduleName = goog.moduleLoaderState_.moduleName;\n    if (typeof moduleName === 'string' && moduleName) {\n      // Don't seal legacy namespaces as they may be used as a parent of\n      // another namespace\n      if (goog.moduleLoaderState_.declareLegacyNamespace) {\n        // Whether exports was overwritten via default export assignment.\n        // This is important for legacy namespaces as it dictates whether\n        // previously a previously loaded implicit namespace should be clobbered\n        // or not.\n        var isDefaultExport = origExports !== exports;\n        goog.constructNamespace_(moduleName, exports, isDefaultExport);\n      } else if (\n          goog.SEAL_MODULE_EXPORTS && Object.seal &&\n          typeof exports == 'object' && exports != null) {\n        Object.seal(exports);\n      }\n\n      var data = {\n        exports: exports,\n        type: goog.ModuleType.GOOG,\n        moduleId: goog.moduleLoaderState_.moduleName\n      };\n      goog.loadedModules_[moduleName] = data;\n    } else {\n      throw new Error('Invalid module name \\\"' + moduleName + '\\\"');\n    }\n  } finally {\n    goog.moduleLoaderState_ = previousState;\n  }\n};\n\n\n/**\n * @private @const\n */\ngoog.loadModuleFromSource_ =\n    /** @type {function(!Object, string):?} */ (function(exports) {\n      // NOTE: we avoid declaring parameters or local variables here to avoid\n      // masking globals or leaking values into the module definition.\n      'use strict';\n      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));\n      return exports;\n    });\n\n\n/**\n * Normalize a file path by removing redundant \"..\" and extraneous \".\" file\n * path components.\n * @param {string} path\n * @return {string}\n * @private\n */\ngoog.normalizePath_ = function(path) {\n  var components = path.split('/');\n  var i = 0;\n  while (i < components.length) {\n    if (components[i] == '.') {\n      components.splice(i, 1);\n    } else if (\n        i && components[i] == '..' && components[i - 1] &&\n        components[i - 1] != '..') {\n      components.splice(--i, 2);\n    } else {\n      i++;\n    }\n  }\n  return components.join('/');\n};\n\n\n/**\n * Provides a hook for loading a file when using Closure's goog.require() API\n * with goog.modules.  In particular this hook is provided to support Node.js.\n *\n * @type {(function(string):string)|undefined}\n */\ngoog.global.CLOSURE_LOAD_FILE_SYNC;\n\n\n/**\n * Loads file by synchronous XHR. Should not be used in production environments.\n * @param {string} src Source URL.\n * @return {?string} File contents, or null if load failed.\n * @private\n */\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  } else {\n    try {\n      /** @type {XMLHttpRequest} */\n      var xhr = new goog.global['XMLHttpRequest']();\n      xhr.open('get', src, false);\n      xhr.send();\n      // NOTE: Successful http: requests have a status of 200, but successful\n      // file: requests may have a status of zero.  Any other status, or a\n      // thrown exception (particularly in case of file: requests) indicates\n      // some sort of error, which we treat as a missing or unavailable file.\n      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;\n    } catch (err) {\n      // No need to rethrow or log, since errors should show up on their own.\n      return null;\n    }\n  }\n};\n\n\n/**\n * Lazily retrieves the transpiler and applies it to the source.\n * @param {string} code JS code.\n * @param {string} path Path to the code.\n * @param {string} target Language level output.\n * @return {string} The transpiled code.\n * @private\n */\ngoog.transpile_ = function(code, path, target) {\n  var jscomp = goog.global['$jscomp'];\n  if (!jscomp) {\n    goog.global['$jscomp'] = jscomp = {};\n  }\n  var transpile = jscomp.transpile;\n  if (!transpile) {\n    var transpilerPath = goog.basePath + goog.TRANSPILER;\n    var transpilerCode = goog.loadFileSync_(transpilerPath);\n    if (transpilerCode) {\n      // This must be executed synchronously, since by the time we know we\n      // need it, we're about to load and write the ES6 code synchronously,\n      // so a normal script-tag load will be too slow. Wrapped in a function\n      // so that code is eval'd in the global scope.\n      (function() {\n        (0, eval)(transpilerCode + '\\n//# sourceURL=' + transpilerPath);\n      }).call(goog.global);\n      // Even though the transpiler is optional, if $gwtExport is found, it's\n      // a sign the transpiler was loaded and the $jscomp.transpile *should*\n      // be there.\n      if (goog.global['$gwtExport'] && goog.global['$gwtExport']['$jscomp'] &&\n          !goog.global['$gwtExport']['$jscomp']['transpile']) {\n        throw new Error(\n            'The transpiler did not properly export the \"transpile\" ' +\n            'method. $gwtExport: ' + JSON.stringify(goog.global['$gwtExport']));\n      }\n      // transpile.js only exports a single $jscomp function, transpile. We\n      // grab just that and add it to the existing definition of $jscomp which\n      // contains the polyfills.\n      goog.global['$jscomp'].transpile =\n          goog.global['$gwtExport']['$jscomp']['transpile'];\n      jscomp = goog.global['$jscomp'];\n      transpile = jscomp.transpile;\n    }\n  }\n  if (!transpile) {\n    // The transpiler is an optional component.  If it's not available then\n    // replace it with a pass-through function that simply logs.\n    var suffix = ' requires transpilation but no transpiler was found.';\n    transpile = jscomp.transpile = function(code, path) {\n      // TODO(sdh): figure out some way to get this error to show up\n      // in test results, noting that the failure may occur in many\n      // different ways, including in loadModule() before the test\n      // runner even comes up.\n      goog.logToConsole_(path + suffix);\n      return code;\n    };\n  }\n  // Note: any transpilation errors/warnings will be logged to the console.\n  return transpile(code, path, target);\n};\n\n//==============================================================================\n// Language Enhancements\n//==============================================================================\n\n\n/**\n * This is a \"fixed\" version of the typeof operator.  It differs from the typeof\n * operator in such a way that null returns 'null' and arrays return 'array'.\n * @param {?} value The value to get the type of.\n * @return {string} The name of the type.\n */\ngoog.typeOf = function(value) {\n  var s = typeof value;\n\n  if (s != 'object') {\n    return s;\n  }\n\n  if (!value) {\n    return 'null';\n  }\n\n  if (Array.isArray(value)) {\n    return 'array';\n  }\n  return s;\n};\n\n\n/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property. Note that for this function neither strings nor functions are\n * considered \"array-like\".\n *\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  // We do not use goog.isObject here in order to exclude function values.\n  return type == 'array' || type == 'object' && typeof val.length == 'number';\n};\n\n\n/**\n * Returns true if the object looks like a Date. To qualify as Date-like the\n * value needs to be an object and have a getFullYear() function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a like a Date.\n */\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && typeof val.getFullYear == 'function';\n};\n\n\n/**\n * Returns true if the specified value is an object.  This includes arrays and\n * functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return type == 'object' && val != null || type == 'function';\n  // return Object(val) === val also works, but is slower, especially if val is\n  // not an object.\n};\n\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. The unique ID is\n * guaranteed to be unique across the current session amongst objects that are\n * passed into `getUid`. There is no guarantee that the ID is unique or\n * consistent across sessions. It is unsafe to generate unique ID for function\n * prototypes.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n */\ngoog.getUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&\n      obj[goog.UID_PROPERTY_] ||\n      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n/**\n * Whether the given object is already assigned a unique ID.\n *\n * This does not modify the object.\n *\n * @param {!Object} obj The object to check.\n * @return {boolean} Whether there is an assigned unique id for the object.\n */\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\n\n\n/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using `goog.getUid` in which case the mutation is\n * undone.\n * @param {Object} obj The object to remove the unique ID field from.\n */\ngoog.removeUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // In IE, DOM nodes are not instances of Object and throw an exception if we\n  // try to delete.  Instead we try to use removeAttribute.\n  if (obj !== null && 'removeAttribute' in obj) {\n    obj.removeAttribute(goog.UID_PROPERTY_);\n  }\n\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\n\n\n/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure JavaScript on the same page.\n * @type {string}\n * @private\n */\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * Counter for UID.\n * @type {number}\n * @private\n */\ngoog.uidCounter_ = 0;\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.cloneObject</code> does not detect reference loops. Objects that\n * refer to themselves will cause infinite recursion.\n *\n * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies\n * UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.\n */\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (typeof obj.clone === 'function') {\n      return obj.clone();\n    }\n    if (typeof Map !== 'undefined' && obj instanceof Map) {\n      return new Map(obj);\n    } else if (typeof Set !== 'undefined' && obj instanceof Set) {\n      return new Set(obj);\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * A native implementation of goog.bind.\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @private\n */\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));\n};\n\n\n/**\n * A pure-JS implementation of goog.bind.\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @private\n */\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw new Error();\n  }\n\n  if (arguments.length > 2) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      // Prepend the bound arguments to the current arguments.\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n\n  } else {\n    return function() {\n      return fn.apply(selfObj, arguments);\n    };\n  }\n};\n\n\n/**\n * Partially applies this function to a particular 'this object' and zero or\n * more arguments. The result is a new function with some arguments of the first\n * function pre-filled and the value of this 'pre-specified'.\n *\n * Remaining arguments specified at call-time are appended to the pre-specified\n * ones.\n *\n * Also see: {@link #partial}.\n *\n * Usage:\n * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');\n * barMethBound('arg3', 'arg4');</pre>\n *\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @suppress {deprecated} See above.\n * @deprecated use `=> {}` or Function.prototype.bind instead.\n */\ngoog.bind = function(fn, selfObj, var_args) {\n  // TODO(nicksantos): narrow the type signature.\n  if (Function.prototype.bind &&\n      // NOTE(nicksantos): Somebody pulled base.js into the default Chrome\n      // extension environment. This means that for Chrome extensions, they get\n      // the implementation of Function.prototype.bind that calls goog.bind\n      // instead of the native one. Even worse, we don't want to introduce a\n      // circular dependency between goog.bind and Function.prototype.bind, so\n      // we have to hack this to make sure it works correctly.\n      Function.prototype.bind.toString().indexOf('native code') != -1) {\n    goog.bind = goog.bindNative_;\n  } else {\n    goog.bind = goog.bindJs_;\n  }\n  return goog.bind.apply(null, arguments);\n};\n\n\n/**\n * Like goog.bind(), except that a 'this object' is not required. Useful when\n * the target function is already bound.\n *\n * Usage:\n * var g = goog.partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function goog.partial()\n *     was invoked as a method of.\n */\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Clone the array (with slice()) and append additional arguments\n    // to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(/** @type {?} */ (this), newArgs);\n  };\n};\n\n\n/**\n * Copies all the members of a source object to a target object. This method\n * does not work on all browsers for all objects that contain keys such as\n * toString or hasOwnProperty. Use goog.object.extend for this purpose.\n *\n * NOTE: Some have advocated for the use of goog.mixin to setup classes\n * with multiple inheritence (traits, mixins, etc).  However, as it simply\n * uses \"for in\", this is not compatible with ES6 classes whose methods are\n * non-enumerable.  Changing this, would break cases where non-enumerable\n * properties are not expected.\n *\n * @param {Object} target Target.\n * @param {Object} source Source.\n * @deprecated Prefer Object.assign\n */\ngoog.mixin = function(target, source) {\n  for (var x in source) {\n    target[x] = source[x];\n  }\n\n  // For IE7 or lower, the for-in-loop does not contain any properties that are\n  // not enumerable on the prototype object (for example, isPrototypeOf from\n  // Object.prototype) but also it will not include 'replace' on objects that\n  // extend String and change 'replace' (not that it is common for anyone to\n  // extend anything except Object).\n};\n\n\n/**\n * @return {number} An integer value representing the number of milliseconds\n *     between midnight, January 1, 1970 and the current time.\n * @deprecated Use Date.now\n */\ngoog.now = function() {\n  return Date.now();\n};\n\n\n/**\n * Evals JavaScript in the global scope.\n *\n * Throws an exception if neither execScript or eval is defined.\n * @param {string|!TrustedScript} script JavaScript string.\n */\ngoog.globalEval = function(script) {\n  (0, eval)(script);\n};\n\n\n/**\n * Optional map of CSS class names to obfuscated names used with\n * goog.getCssName().\n * @private {!Object<string, string>|undefined}\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMapping_;\n\n\n/**\n * Optional obfuscation style for CSS class names. Should be set to either\n * 'BY_WHOLE' or 'BY_PART' if defined.\n * @type {string|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMappingStyle_;\n\n\n\n/**\n * A hook for modifying the default behavior goog.getCssName. The function\n * if present, will receive the standard output of the goog.getCssName as\n * its input.\n *\n * @type {(function(string):string)|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAP_FN;\n\n\n/**\n * Handles strings that are intended to be used as CSS class names.\n *\n * This function works in tandem with @see goog.setCssNameMapping.\n *\n * Without any mapping set, the arguments are simple joined with a hyphen and\n * passed through unaltered.\n *\n * When there is a mapping, there are two possible styles in which these\n * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)\n * of the passed in css name is rewritten according to the map. In the BY_WHOLE\n * style, the full css name is looked up in the map directly. If a rewrite is\n * not specified by the map, the compiler will output a warning.\n *\n * When the mapping is passed to the compiler, it will replace calls to\n * goog.getCssName with the strings from the mapping, e.g.\n *     var x = goog.getCssName('foo');\n *     var y = goog.getCssName(this.baseClass, 'active');\n *  becomes:\n *     var x = 'foo';\n *     var y = this.baseClass + '-active';\n *\n * If one argument is passed it will be processed, if two are passed only the\n * modifier will be processed, as it is assumed the first argument was generated\n * as a result of calling goog.getCssName.\n *\n * @param {string} className The class name.\n * @param {string=} opt_modifier A modifier to be appended to the class name.\n * @return {string} The class name or the concatenation of the class name and\n *     the modifier.\n */\ngoog.getCssName = function(className, opt_modifier) {\n  // String() is used for compatibility with compiled soy where the passed\n  // className can be non-string objects.\n  if (String(className).charAt(0) == '.') {\n    throw new Error(\n        'className passed in goog.getCssName must not start with \".\".' +\n        ' You passed: ' + className);\n  }\n\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  };\n\n  var renameByParts = function(cssName) {\n    // Remap all the parts individually.\n    var parts = cssName.split('-');\n    var mapped = [];\n    for (var i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join('-');\n  };\n\n  var rename;\n  if (goog.cssNameMapping_) {\n    rename =\n        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;\n  } else {\n    rename = function(a) {\n      return a;\n    };\n  }\n\n  var result =\n      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);\n\n  // The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further\n  // processing of the class name.\n  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {\n    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);\n  }\n\n  return result;\n};\n\n\n/**\n * Sets the map to check when returning a value from goog.getCssName(). Example:\n * <pre>\n * goog.setCssNameMapping({\n *   \"goog\": \"a\",\n *   \"disabled\": \"b\",\n * });\n *\n * var x = goog.getCssName('goog');\n * // The following evaluates to: \"a a-b\".\n * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')\n * </pre>\n * When declared as a map of string literals to string literals, the JSCompiler\n * will replace all calls to goog.getCssName() using the supplied map if the\n * --process_closure_primitives flag is set.\n *\n * @param {!Object} mapping A map of strings to strings where keys are possible\n *     arguments to goog.getCssName() and values are the corresponding values\n *     that should be returned.\n * @param {string=} opt_style The style of css name mapping. There are two valid\n *     options: 'BY_PART', and 'BY_WHOLE'.\n * @see goog.getCssName for a description.\n */\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\n\n\n/**\n * To use CSS renaming in compiled mode, one of the input files should have a\n * call to goog.setCssNameMapping() with an object literal that the JSCompiler\n * can extract and use to replace all calls to goog.getCssName(). In uncompiled\n * mode, JavaScript code should be loaded before this base.js file that declares\n * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is\n * to ensure that the mapping is loaded before any calls to goog.getCssName()\n * are made in uncompiled mode.\n *\n * A hook for overriding the CSS name mapping.\n * @type {!Object<string, string>|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAPPING;\n\n\nif (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {\n  // This does not call goog.setCssNameMapping() because the JSCompiler\n  // requires that goog.setCssNameMapping() be called with an object literal.\n  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;\n}\n\n\n/**\n * Gets a localized message.\n *\n * This function is a compiler primitive. If you give the compiler a localized\n * message bundle, it will replace the string at compile-time with a localized\n * version, and expand goog.getMsg call to a concatenated string.\n *\n * Messages must be initialized in the form:\n * <code>\n * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});\n * </code>\n *\n * This function produces a string which should be treated as plain text. Use\n * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to\n * produce SafeHtml.\n *\n * @param {string} str Translatable string, places holders in the form {$foo}.\n * @param {Object<string, string>=} opt_values Maps place holder name to value.\n * @param {{html: (boolean|undefined),\n *         unescapeHtmlEntities: (boolean|undefined)}=} opt_options Options:\n *     html: Escape '<' in str to '&lt;'. Used by Closure Templates where the\n *     generated code size and performance is critical which is why {@link\n *     goog.html.SafeHtmlFormatter} is not used. The value must be literal true\n *     or false.\n *     unescapeHtmlEntities: Unescape common html entities: &gt;, &lt;, &apos;,\n *     &quot; and &amp;. Used for messages not in HTML context, such as with\n *     `textContent` property.\n * @return {string} message with placeholders filled.\n */\ngoog.getMsg = function(str, opt_values, opt_options) {\n  if (opt_options && opt_options.html) {\n    // Note that '&' is not replaced because the translation can contain HTML\n    // entities.\n    str = str.replace(/</g, '&lt;');\n  }\n  if (opt_options && opt_options.unescapeHtmlEntities) {\n    // Note that \"&amp;\" must be the last to avoid \"creating\" new entities.\n    str = str.replace(/&lt;/g, '<')\n              .replace(/&gt;/g, '>')\n              .replace(/&apos;/g, '\\'')\n              .replace(/&quot;/g, '\"')\n              .replace(/&amp;/g, '&');\n  }\n  if (opt_values) {\n    str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n      return (opt_values != null && key in opt_values) ? opt_values[key] :\n                                                         match;\n    });\n  }\n  return str;\n};\n\n\n/**\n * Gets a localized message. If the message does not have a translation, gives a\n * fallback message.\n *\n * This is useful when introducing a new message that has not yet been\n * translated into all languages.\n *\n * This function is a compiler primitive. Must be used in the form:\n * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>\n * where MSG_A and MSG_B were initialized with goog.getMsg.\n *\n * @param {string} a The preferred message.\n * @param {string} b The fallback message.\n * @return {string} The best translated message.\n */\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\n\n\n/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated, unless they are\n * exported in turn via this function or goog.exportProperty.\n *\n * Also handy for making public items that are defined in anonymous closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {?Object=} objectToExportTo The object to add the path to; default\n *     is goog.global.\n */\ngoog.exportSymbol = function(publicPath, object, objectToExportTo) {\n  goog.exportPath_(\n      publicPath, object, /* overwriteImplicit= */ true, objectToExportTo);\n};\n\n\n/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n */\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * Usage:\n * <pre>\n * function ParentClass(a, b) { }\n * ParentClass.prototype.foo = function(a) { };\n *\n * function ChildClass(a, b, c) {\n *   ChildClass.base(this, 'constructor', a, b);\n * }\n * goog.inherits(ChildClass, ParentClass);\n *\n * var child = new ChildClass('a', 'b', 'see');\n * child.foo(); // This works.\n * </pre>\n *\n * @param {!Function} childCtor Child class.\n * @param {!Function} parentCtor Parent class.\n * @suppress {strictMissingProperties} superClass_ and base is not defined on\n *    Function.\n * @deprecated Use ECMAScript class syntax instead.\n */\ngoog.inherits = function(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {}\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n\n  /**\n   * Calls superclass constructor/method.\n   *\n   * This function is only available if you use goog.inherits to\n   * express inheritance relationships between classes.\n   *\n   * NOTE: This is a replacement for goog.base and for superClass_\n   * property defined in childCtor.\n   *\n   * @param {!Object} me Should always be \"this\".\n   * @param {string} methodName The method name to call. Calling\n   *     superclass constructor can be done with the special string\n   *     'constructor'.\n   * @param {...*} var_args The arguments to pass to superclass\n   *     method/constructor.\n   * @return {*} The return value of the superclass method/constructor.\n   */\n  childCtor.base = function(me, methodName, var_args) {\n    // Copying using loop to avoid deop due to passing arguments object to\n    // function. This is faster in many JS engines as of late 2014.\n    var args = new Array(arguments.length - 2);\n    for (var i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\n\n\n/**\n * Allow for aliasing within scope functions.  This function exists for\n * uncompiled code - in compiled code the calls will be inlined and the aliases\n * applied.  In uncompiled code the function is simply run since the aliases as\n * written are valid JavaScript.\n *\n *\n * @param {function()} fn Function to call.  This function can contain aliases\n *     to namespaces (e.g. \"var dom = goog.dom\") or classes\n *     (e.g. \"var Timer = goog.Timer\").\n * @deprecated Use goog.module instead.\n */\ngoog.scope = function(fn) {\n  if (goog.isInModuleLoader_()) {\n    throw new Error('goog.scope is not supported within a module.');\n  }\n  fn.call(goog.global);\n};\n\n\n/*\n * To support uncompiled, strict mode bundles that use eval to divide source\n * like so:\n *    eval('someSource;//# sourceUrl sourcefile.js');\n * We need to export the globally defined symbols \"goog\" and \"COMPILED\".\n * Exporting \"goog\" breaks the compiler optimizations, so we required that\n * be defined externally.\n * NOTE: We don't use goog.exportSymbol here because we don't want to trigger\n * extern generation when that compiler option is enabled.\n */\nif (!COMPILED) {\n  goog.global['COMPILED'] = COMPILED;\n}\n\n\n//==============================================================================\n// goog.defineClass implementation\n//==============================================================================\n\n\n/**\n * Creates a restricted form of a Closure \"class\":\n *   - from the compiler's perspective, the instance returned from the\n *     constructor is sealed (no new properties may be added).  This enables\n *     better checks.\n *   - the compiler will rewrite this definition to a form that is optimal\n *     for type checking and optimization (initially this will be a more\n *     traditional form).\n *\n * @param {Function} superClass The superclass, Object or null.\n * @param {goog.defineClass.ClassDescriptor} def\n *     An object literal describing\n *     the class.  It may have the following properties:\n *     \"constructor\": the constructor function\n *     \"statics\": an object literal containing methods to add to the constructor\n *        as \"static\" methods or a function that will receive the constructor\n *        function as its only parameter to which static properties can\n *        be added.\n *     all other properties are added to the prototype.\n * @return {!Function} The class constructor.\n * @deprecated Use ECMAScript class syntax instead.\n */\ngoog.defineClass = function(superClass, def) {\n  // TODO(johnlenz): consider making the superClass an optional parameter.\n  var constructor = def.constructor;\n  var statics = def.statics;\n  // Wrap the constructor prior to setting up the prototype and static methods.\n  if (!constructor || constructor == Object.prototype.constructor) {\n    constructor = function() {\n      throw new Error(\n          'cannot instantiate an interface (no constructor defined).');\n    };\n  }\n\n  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n  if (superClass) {\n    goog.inherits(cls, superClass);\n  }\n\n  // Remove all the properties that should not be copied to the prototype.\n  delete def.constructor;\n  delete def.statics;\n\n  goog.defineClass.applyProperties_(cls.prototype, def);\n  if (statics != null) {\n    if (statics instanceof Function) {\n      statics(cls);\n    } else {\n      goog.defineClass.applyProperties_(cls, statics);\n    }\n  }\n\n  return cls;\n};\n\n\n/**\n * @typedef {{\n *   constructor: (!Function|undefined),\n *   statics: (Object|undefined|function(Function):void)\n * }}\n */\ngoog.defineClass.ClassDescriptor;\n\n\n/**\n * @define {boolean} Whether the instances returned by goog.defineClass should\n *     be sealed when possible.\n *\n * When sealing is disabled the constructor function will not be wrapped by\n * goog.defineClass, making it incompatible with ES6 class methods.\n */\ngoog.defineClass.SEAL_CLASS_INSTANCES =\n    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);\n\n\n/**\n * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is\n * defined, this function will wrap the constructor in a function that seals the\n * results of the provided constructor function.\n *\n * @param {!Function} ctr The constructor whose results maybe be sealed.\n * @param {Function} superClass The superclass constructor.\n * @return {!Function} The replacement constructor.\n * @private\n */\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {\n    // Do now wrap the constructor when sealing is disabled. Angular code\n    // depends on this for injection to work properly.\n    return ctr;\n  }\n\n  // NOTE: The sealing behavior has been removed\n\n  /**\n   * @this {Object}\n   * @return {?}\n   */\n  var wrappedCtr = function() {\n    // Don't seal an instance of a subclass when it calls the constructor of\n    // its super class as there is most likely still setup to do.\n    var instance = ctr.apply(this, arguments) || this;\n    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n\n    return instance;\n  };\n\n  return wrappedCtr;\n};\n\n\n\n// TODO(johnlenz): share these values with the goog.object\n/**\n * The names of the fields that are defined on Object.prototype.\n * @type {!Array<string>}\n * @private\n * @const\n */\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [\n  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n  'toLocaleString', 'toString', 'valueOf'\n];\n\n\n// TODO(johnlenz): share this function with the goog.object\n/**\n * @param {!Object} target The object to add properties to.\n * @param {!Object} source The object to copy properties from.\n * @private\n */\ngoog.defineClass.applyProperties_ = function(target, source) {\n  // TODO(johnlenz): update this to support ES5 getters/setters\n\n  var key;\n  for (key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n\n  // For IE the for-in-loop does not contain any properties that are not\n  // enumerable on the prototype object (for example isPrototypeOf from\n  // Object.prototype) and it will also not include 'replace' on objects that\n  // extend String and change 'replace' (not that it is common for anyone to\n  // extend anything except Object).\n  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {\n    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n};\n\n/**\n * Returns the parameter.\n * @param {string} s\n * @return {string}\n * @private\n */\ngoog.identity_ = function(s) {\n  return s;\n};\n\n\n/**\n * Creates Trusted Types policy if Trusted Types are supported by the browser.\n * The policy just blesses any string as a Trusted Type. It is not visibility\n * restricted because anyone can also call trustedTypes.createPolicy directly.\n * However, the allowed names should be restricted by a HTTP header and the\n * reference to the created policy should be visibility restricted.\n * @param {string} name\n * @return {?TrustedTypePolicy}\n */\ngoog.createTrustedTypesPolicy = function(name) {\n  var policy = null;\n  var policyFactory = goog.global.trustedTypes;\n  if (!policyFactory || !policyFactory.createPolicy) {\n    return policy;\n  }\n  // trustedTypes.createPolicy throws if called with a name that is already\n  // registered, even in report-only mode. Until the API changes, catch the\n  // error not to break the applications functionally. In such case, the code\n  // will fall back to using regular Safe Types.\n  // TODO(koto): Remove catching once createPolicy API stops throwing.\n  try {\n    policy = policyFactory.createPolicy(name, {\n      createHTML: goog.identity_,\n      createScript: goog.identity_,\n      createScriptURL: goog.identity_\n    });\n  } catch (e) {\n    goog.logToConsole_(e.message);\n  }\n  return policy;\n};\n\n// There's a bug in the compiler where without collapse properties the\n// Closure namespace defines do not guard code correctly. To help reduce code\n// size also check for !COMPILED even though it redundant until this is fixed.\nif (!COMPILED && goog.DEPENDENCIES_ENABLED) {\n\n\n  /**\n   * Tries to detect whether the current browser is Edge, based on the user\n   * agent. This matches only pre-Chromium Edge.\n   * @see https://docs.microsoft.com/en-us/microsoft-edge/web-platform/user-agent-string\n   * @return {boolean} True if the current browser is Edge.\n   * @private\n   */\n  goog.isEdge_ = function() {\n    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?\n        goog.global.navigator.userAgent :\n        '';\n    var edgeRe = /Edge\\/(\\d+)(\\.\\d)*/i;\n    return !!userAgent.match(edgeRe);\n  };\n\n\n  /**\n   * Tries to detect whether is in the context of an HTML document.\n   * @return {boolean} True if it looks like HTML document.\n   * @private\n   */\n  goog.inHtmlDocument_ = function() {\n    /** @type {!Document} */\n    var doc = goog.global.document;\n    return doc != null && 'write' in doc;  // XULDocument misses write.\n  };\n\n\n  /**\n   * We'd like to check for if the document readyState is 'loading'; however\n   * there are bugs on IE 10 and below where the readyState being anything other\n   * than 'complete' is not reliable.\n   * @return {boolean}\n   * @private\n   */\n  goog.isDocumentLoading_ = function() {\n    // attachEvent is available on IE 6 thru 10 only, and thus can be used to\n    // detect those browsers.\n    /** @type {!HTMLDocument} */\n    var doc = goog.global.document;\n    return doc.attachEvent ? doc.readyState != 'complete' :\n                             doc.readyState == 'loading';\n  };\n\n\n  /**\n   * Tries to detect the base path of base.js script that bootstraps Closure.\n   * @private\n   */\n  goog.findBasePath_ = function() {\n    if (goog.global.CLOSURE_BASE_PATH != undefined &&\n        // Anti DOM-clobbering runtime check (b/37736576).\n        typeof goog.global.CLOSURE_BASE_PATH === 'string') {\n      goog.basePath = goog.global.CLOSURE_BASE_PATH;\n      return;\n    } else if (!goog.inHtmlDocument_()) {\n      return;\n    }\n    /** @type {!Document} */\n    var doc = goog.global.document;\n    // If we have a currentScript available, use it exclusively.\n    var currentScript = doc.currentScript;\n    if (currentScript) {\n      var scripts = [currentScript];\n    } else {\n      var scripts = doc.getElementsByTagName('SCRIPT');\n    }\n    // Search backwards since the current script is in almost all cases the one\n    // that has base.js.\n    for (var i = scripts.length - 1; i >= 0; --i) {\n      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);\n      var src = script.src;\n      var qmark = src.lastIndexOf('?');\n      var l = qmark == -1 ? src.length : qmark;\n      if (src.substr(l - 7, 7) == 'base.js') {\n        goog.basePath = src.substr(0, l - 7);\n        return;\n      }\n    }\n  };\n\n  goog.findBasePath_();\n\n  /** @struct @constructor @final */\n  goog.Transpiler = function() {\n    /** @private {?Object<string, boolean>} */\n    this.requiresTranspilation_ = null;\n    /** @private {string} */\n    this.transpilationTarget_ = goog.TRANSPILE_TO_LANGUAGE;\n  };\n  /**\n   * Returns a newly created map from language mode string to a boolean\n   * indicating whether transpilation should be done for that mode as well as\n   * the highest level language that this environment supports.\n   *\n   * Guaranteed invariant:\n   * For any two modes, l1 and l2 where l2 is a newer mode than l1,\n   * `map[l1] == true` implies that `map[l2] == true`.\n   *\n   * Note this method is extracted and used elsewhere, so it cannot rely on\n   * anything external (it should easily be able to be transformed into a\n   * standalone, top level function).\n   *\n   * @private\n   * @return {{\n   *   target: string,\n   *   map: !Object<string, boolean>\n   * }}\n   */\n  goog.Transpiler.prototype.createRequiresTranspilation_ = function() {\n    var transpilationTarget = 'es3';\n    var /** !Object<string, boolean> */ requiresTranspilation = {'es3': false};\n    var transpilationRequiredForAllLaterModes = false;\n\n    /**\n     * Adds an entry to requiresTranspliation for the given language mode.\n     *\n     * IMPORTANT: Calls must be made in order from oldest to newest language\n     * mode.\n     * @param {string} modeName\n     * @param {function(): boolean} isSupported Returns true if the JS engine\n     *     supports the given mode.\n     */\n    function addNewerLanguageTranspilationCheck(modeName, isSupported) {\n      if (transpilationRequiredForAllLaterModes) {\n        requiresTranspilation[modeName] = true;\n      } else if (isSupported()) {\n        transpilationTarget = modeName;\n        requiresTranspilation[modeName] = false;\n      } else {\n        requiresTranspilation[modeName] = true;\n        transpilationRequiredForAllLaterModes = true;\n      }\n    }\n\n    /**\n     * Does the given code evaluate without syntax errors and return a truthy\n     * result?\n     */\n    function /** boolean */ evalCheck(/** string */ code) {\n      try {\n        return !!eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(code));\n      } catch (ignored) {\n        return false;\n      }\n    }\n\n    // Identify ES3-only browsers by their incorrect treatment of commas.\n    addNewerLanguageTranspilationCheck('es5', function() {\n      return evalCheck('[1,].length==1');\n    });\n    addNewerLanguageTranspilationCheck('es6', function() {\n      // Edge has a non-deterministic (i.e., not reproducible) bug with ES6:\n      // https://github.com/Microsoft/ChakraCore/issues/1496.\n      if (goog.isEdge_()) {\n        // The Reflect.construct test below is flaky on Edge. It can sometimes\n        // pass or fail on 40 15.15063, so just exit early for Edge and treat\n        // it as ES5. Until we're on a more up to date version just always use\n        // ES5. See https://github.com/Microsoft/ChakraCore/issues/3217.\n        return false;\n      }\n      // Test es6: [FF50 (?), Edge 14 (?), Chrome 50]\n      //   (a) default params (specifically shadowing locals),\n      //   (b) destructuring, (c) block-scoped functions,\n      //   (d) for-of (const), (e) new.target/Reflect.construct\n      var es6fullTest =\n          'class X{constructor(){if(new.target!=String)throw 1;this.x=42}}' +\n          'let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof ' +\n          'String))throw 1;for(const a of[2,3]){if(a==2)continue;function ' +\n          'f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()' +\n          '==3}';\n\n      return evalCheck('(()=>{\"use strict\";' + es6fullTest + '})()');\n    });\n    // ** and **= are the only new features in 'es7'\n    addNewerLanguageTranspilationCheck('es7', function() {\n      return evalCheck('2**3==8');\n    });\n    // async functions are the only new features in 'es8'\n    addNewerLanguageTranspilationCheck('es8', function() {\n      return evalCheck('async()=>1,1');\n    });\n    addNewerLanguageTranspilationCheck('es9', function() {\n      return evalCheck('({...rest}={}),1');\n    });\n    // optional catch binding, unescaped unicode paragraph separator in strings\n    addNewerLanguageTranspilationCheck('es_2019', function() {\n      return evalCheck('let r;try{r=\"\\u2029\"}catch{};r');\n    });\n    // optional chaining, nullish coalescing\n    // untested/unsupported: bigint, import meta\n    addNewerLanguageTranspilationCheck('es_2020', function() {\n      return evalCheck('null?.x??1');\n    });\n    addNewerLanguageTranspilationCheck('es_next', function() {\n      return false;  // assume it always need to transpile\n    });\n    return {target: transpilationTarget, map: requiresTranspilation};\n  };\n\n\n  /**\n   * Determines whether the given language needs to be transpiled.\n   * @param {string} lang\n   * @param {string|undefined} module\n   * @return {boolean}\n   */\n  goog.Transpiler.prototype.needsTranspile = function(lang, module) {\n    if (goog.TRANSPILE == 'always') {\n      return true;\n    } else if (goog.TRANSPILE == 'never') {\n      return false;\n    } else if (!this.requiresTranspilation_) {\n      var obj = this.createRequiresTranspilation_();\n      this.requiresTranspilation_ = obj.map;\n      this.transpilationTarget_ = this.transpilationTarget_ || obj.target;\n    }\n    if (lang in this.requiresTranspilation_) {\n      if (this.requiresTranspilation_[lang]) {\n        return true;\n      } else if (\n          goog.inHtmlDocument_() && module == 'es6' &&\n          !('noModule' in goog.global.document.createElement('script'))) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      throw new Error('Unknown language mode: ' + lang);\n    }\n  };\n\n\n  /**\n   * Lazily retrieves the transpiler and applies it to the source.\n   * @param {string} code JS code.\n   * @param {string} path Path to the code.\n   * @return {string} The transpiled code.\n   */\n  goog.Transpiler.prototype.transpile = function(code, path) {\n    // TODO(johnplaisted): We should delete goog.transpile_ and just have this\n    // function. But there's some compile error atm where goog.global is being\n    // stripped incorrectly without this.\n    return goog.transpile_(code, path, this.transpilationTarget_);\n  };\n\n\n  /** @private @final {!goog.Transpiler} */\n  goog.transpiler_ = new goog.Transpiler();\n\n  /**\n   * Rewrites closing script tags in input to avoid ending an enclosing script\n   * tag.\n   *\n   * @param {string} str\n   * @return {string}\n   * @private\n   */\n  goog.protectScriptTag_ = function(str) {\n    return str.replace(/<\\/(SCRIPT)/ig, '\\\\x3c/$1');\n  };\n\n\n  /**\n   * A debug loader is responsible for downloading and executing javascript\n   * files in an unbundled, uncompiled environment.\n   *\n   * This can be custimized via the setDependencyFactory method, or by\n   * CLOSURE_IMPORT_SCRIPT/CLOSURE_LOAD_FILE_SYNC.\n   *\n   * @struct @constructor @final @private\n   */\n  goog.DebugLoader_ = function() {\n    /** @private @const {!Object<string, !goog.Dependency>} */\n    this.dependencies_ = {};\n    /** @private @const {!Object<string, string>} */\n    this.idToPath_ = {};\n    /** @private @const {!Object<string, boolean>} */\n    this.written_ = {};\n    /** @private @const {!Array<!goog.Dependency>} */\n    this.loadingDeps_ = [];\n    /** @private {!Array<!goog.Dependency>} */\n    this.depsToLoad_ = [];\n    /** @private {boolean} */\n    this.paused_ = false;\n    /** @private {!goog.DependencyFactory} */\n    this.factory_ = new goog.DependencyFactory(goog.transpiler_);\n    /** @private @const {!Object<string, !Function>} */\n    this.deferredCallbacks_ = {};\n    /** @private @const {!Array<string>} */\n    this.deferredQueue_ = [];\n  };\n\n  /**\n   * @param {!Array<string>} namespaces\n   * @param {function(): undefined} callback Function to call once all the\n   *     namespaces have loaded.\n   */\n  goog.DebugLoader_.prototype.bootstrap = function(namespaces, callback) {\n    var cb = callback;\n    function resolve() {\n      if (cb) {\n        goog.global.setTimeout(cb, 0);\n        cb = null;\n      }\n    }\n\n    if (!namespaces.length) {\n      resolve();\n      return;\n    }\n\n    var deps = [];\n    for (var i = 0; i < namespaces.length; i++) {\n      var path = this.getPathFromDeps_(namespaces[i]);\n      if (!path) {\n        throw new Error('Unregonized namespace: ' + namespaces[i]);\n      }\n      deps.push(this.dependencies_[path]);\n    }\n\n    var require = goog.require;\n    var loaded = 0;\n    for (var i = 0; i < namespaces.length; i++) {\n      require(namespaces[i]);\n      deps[i].onLoad(function() {\n        if (++loaded == namespaces.length) {\n          resolve();\n        }\n      });\n    }\n  };\n\n\n  /**\n   * Loads the Closure Dependency file.\n   *\n   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base\n   * loaded, setDependencyFactory called, and then this called. i.e. allows\n   * custom loading of the deps file.\n   */\n  goog.DebugLoader_.prototype.loadClosureDeps = function() {\n    // Circumvent addDependency, which would try to transpile deps.js if\n    // transpile is set to always.\n    var relPath = 'deps.js';\n    this.depsToLoad_.push(this.factory_.createDependency(\n        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {},\n        false));\n    this.loadDeps_();\n  };\n\n\n  /**\n   * Notifies the debug loader when a dependency has been requested.\n   *\n   * @param {string} absPathOrId Path of the dependency or goog id.\n   * @param {boolean=} opt_force\n   */\n  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {\n    var path = this.getPathFromDeps_(absPathOrId);\n    if (path &&\n        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {\n      var callback = this.deferredCallbacks_[path];\n      if (callback) {\n        delete this.deferredCallbacks_[path];\n        callback();\n      }\n    }\n  };\n\n\n  /**\n   * Sets the dependency factory, which can be used to create custom\n   * goog.Dependency implementations to control how dependencies are loaded.\n   *\n   * @param {!goog.DependencyFactory} factory\n   */\n  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {\n    this.factory_ = factory;\n  };\n\n\n  /**\n   * Travserses the dependency graph and queues the given dependency, and all of\n   * its transitive dependencies, for loading and then starts loading if not\n   * paused.\n   *\n   * @param {string} namespace\n   * @private\n   */\n  goog.DebugLoader_.prototype.load_ = function(namespace) {\n    if (!this.getPathFromDeps_(namespace)) {\n      var errorMessage = 'goog.require could not find: ' + namespace;\n      goog.logToConsole_(errorMessage);\n    } else {\n      var loader = this;\n\n      var deps = [];\n\n      /** @param {string} namespace */\n      var visit = function(namespace) {\n        var path = loader.getPathFromDeps_(namespace);\n\n        if (!path) {\n          throw new Error('Bad dependency path or symbol: ' + namespace);\n        }\n\n        if (loader.written_[path]) {\n          return;\n        }\n\n        loader.written_[path] = true;\n\n        var dep = loader.dependencies_[path];\n        for (var i = 0; i < dep.requires.length; i++) {\n          if (!goog.isProvided_(dep.requires[i])) {\n            visit(dep.requires[i]);\n          }\n        }\n\n        deps.push(dep);\n      };\n\n      visit(namespace);\n\n      var wasLoading = !!this.depsToLoad_.length;\n      this.depsToLoad_ = this.depsToLoad_.concat(deps);\n\n      if (!this.paused_ && !wasLoading) {\n        this.loadDeps_();\n      }\n    }\n  };\n\n\n  /**\n   * Loads any queued dependencies until they are all loaded or paused.\n   *\n   * @private\n   */\n  goog.DebugLoader_.prototype.loadDeps_ = function() {\n    var loader = this;\n    var paused = this.paused_;\n\n    while (this.depsToLoad_.length && !paused) {\n      (function() {\n        var loadCallDone = false;\n        var dep = loader.depsToLoad_.shift();\n\n        var loaded = false;\n        loader.loading_(dep);\n\n        var controller = {\n          pause: function() {\n            if (loadCallDone) {\n              throw new Error('Cannot call pause after the call to load.');\n            } else {\n              paused = true;\n            }\n          },\n          resume: function() {\n            if (loadCallDone) {\n              loader.resume_();\n            } else {\n              // Some dep called pause and then resume in the same load call.\n              // Just keep running this same loop.\n              paused = false;\n            }\n          },\n          loaded: function() {\n            if (loaded) {\n              throw new Error('Double call to loaded.');\n            }\n\n            loaded = true;\n            loader.loaded_(dep);\n          },\n          pending: function() {\n            // Defensive copy.\n            var pending = [];\n            for (var i = 0; i < loader.loadingDeps_.length; i++) {\n              pending.push(loader.loadingDeps_[i]);\n            }\n            return pending;\n          },\n          /**\n           * @param {goog.ModuleType} type\n           */\n          setModuleState: function(type) {\n            goog.moduleLoaderState_ = {\n              type: type,\n              moduleName: '',\n              declareLegacyNamespace: false\n            };\n          },\n          /** @type {function(string, string, string=)} */\n          registerEs6ModuleExports: function(\n              path, exports, opt_closureNamespace) {\n            if (opt_closureNamespace) {\n              goog.loadedModules_[opt_closureNamespace] = {\n                exports: exports,\n                type: goog.ModuleType.ES6,\n                moduleId: opt_closureNamespace || ''\n              };\n            }\n          },\n          /** @type {function(string, ?)} */\n          registerGoogModuleExports: function(moduleId, exports) {\n            goog.loadedModules_[moduleId] = {\n              exports: exports,\n              type: goog.ModuleType.GOOG,\n              moduleId: moduleId\n            };\n          },\n          clearModuleState: function() {\n            goog.moduleLoaderState_ = null;\n          },\n          defer: function(callback) {\n            if (loadCallDone) {\n              throw new Error(\n                  'Cannot register with defer after the call to load.');\n            }\n            loader.defer_(dep, callback);\n          },\n          areDepsLoaded: function() {\n            return loader.areDepsLoaded_(dep.requires);\n          }\n        };\n\n        try {\n          dep.load(controller);\n        } finally {\n          loadCallDone = true;\n        }\n      })();\n    }\n\n    if (paused) {\n      this.pause_();\n    }\n  };\n\n\n  /** @private */\n  goog.DebugLoader_.prototype.pause_ = function() {\n    this.paused_ = true;\n  };\n\n\n  /** @private */\n  goog.DebugLoader_.prototype.resume_ = function() {\n    if (this.paused_) {\n      this.paused_ = false;\n      this.loadDeps_();\n    }\n  };\n\n\n  /**\n   * Marks the given dependency as loading (load has been called but it has not\n   * yet marked itself as finished). Useful for dependencies that want to know\n   * what else is loading. Example: goog.modules cannot eval if there are\n   * loading dependencies.\n   *\n   * @param {!goog.Dependency} dep\n   * @private\n   */\n  goog.DebugLoader_.prototype.loading_ = function(dep) {\n    this.loadingDeps_.push(dep);\n  };\n\n\n  /**\n   * Marks the given dependency as having finished loading and being available\n   * for require.\n   *\n   * @param {!goog.Dependency} dep\n   * @private\n   */\n  goog.DebugLoader_.prototype.loaded_ = function(dep) {\n    for (var i = 0; i < this.loadingDeps_.length; i++) {\n      if (this.loadingDeps_[i] == dep) {\n        this.loadingDeps_.splice(i, 1);\n        break;\n      }\n    }\n\n    for (var i = 0; i < this.deferredQueue_.length; i++) {\n      if (this.deferredQueue_[i] == dep.path) {\n        this.deferredQueue_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (this.loadingDeps_.length == this.deferredQueue_.length &&\n        !this.depsToLoad_.length) {\n      // Something has asked to load these, but they may not be directly\n      // required again later, so load them now that we know we're done loading\n      // everything else. e.g. a goog module entry point.\n      while (this.deferredQueue_.length) {\n        this.requested(this.deferredQueue_.shift(), true);\n      }\n    }\n\n    dep.loaded();\n  };\n\n\n  /**\n   * @param {!Array<string>} pathsOrIds\n   * @return {boolean}\n   * @private\n   */\n  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {\n    for (var i = 0; i < pathsOrIds.length; i++) {\n      var path = this.getPathFromDeps_(pathsOrIds[i]);\n      if (!path ||\n          (!(path in this.deferredCallbacks_) &&\n           !goog.isProvided_(pathsOrIds[i]))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * @param {string} absPathOrId\n   * @return {?string}\n   * @private\n   */\n  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {\n    if (absPathOrId in this.idToPath_) {\n      return this.idToPath_[absPathOrId];\n    } else if (absPathOrId in this.dependencies_) {\n      return absPathOrId;\n    } else {\n      return null;\n    }\n  };\n\n\n  /**\n   * @param {!goog.Dependency} dependency\n   * @param {!Function} callback\n   * @private\n   */\n  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {\n    this.deferredCallbacks_[dependency.path] = callback;\n    this.deferredQueue_.push(dependency.path);\n  };\n\n\n  /**\n   * Interface for goog.Dependency implementations to have some control over\n   * loading of dependencies.\n   *\n   * @record\n   */\n  goog.LoadController = function() {};\n\n\n  /**\n   * Tells the controller to halt loading of more dependencies.\n   */\n  goog.LoadController.prototype.pause = function() {};\n\n\n  /**\n   * Tells the controller to resume loading of more dependencies if paused.\n   */\n  goog.LoadController.prototype.resume = function() {};\n\n\n  /**\n   * Tells the controller that this dependency has finished loading.\n   *\n   * This causes this to be removed from pending() and any load callbacks to\n   * fire.\n   */\n  goog.LoadController.prototype.loaded = function() {};\n\n\n  /**\n   * List of dependencies on which load has been called but which have not\n   * called loaded on their controller. This includes the current dependency.\n   *\n   * @return {!Array<!goog.Dependency>}\n   */\n  goog.LoadController.prototype.pending = function() {};\n\n\n  /**\n   * Registers an object as an ES6 module's exports so that goog.modules may\n   * require it by path.\n   *\n   * @param {string} path Full path of the module.\n   * @param {?} exports\n   * @param {string=} opt_closureNamespace Closure namespace to associate with\n   *     this module.\n   */\n  goog.LoadController.prototype.registerEs6ModuleExports = function(\n      path, exports, opt_closureNamespace) {};\n\n\n  /**\n   * Sets the current module state.\n   *\n   * @param {goog.ModuleType} type Type of module.\n   */\n  goog.LoadController.prototype.setModuleState = function(type) {};\n\n\n  /**\n   * Clears the current module state.\n   */\n  goog.LoadController.prototype.clearModuleState = function() {};\n\n\n  /**\n   * Registers a callback to call once the dependency is actually requested\n   * via goog.require + all of the immediate dependencies have been loaded or\n   * all other files have been loaded. Allows for lazy loading until\n   * require'd without pausing dependency loading, which is needed on old IE.\n   *\n   * @param {!Function} callback\n   */\n  goog.LoadController.prototype.defer = function(callback) {};\n\n\n  /**\n   * @return {boolean}\n   */\n  goog.LoadController.prototype.areDepsLoaded = function() {};\n\n\n  /**\n   * Basic super class for all dependencies Closure Library can load.\n   *\n   * This default implementation is designed to load untranspiled, non-module\n   * scripts in a web broswer.\n   *\n   * For transpiled non-goog.module files {@see goog.TranspiledDependency}.\n   * For goog.modules see {@see goog.GoogModuleDependency}.\n   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   */\n  goog.Dependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    /** @const */\n    this.path = path;\n    /** @const */\n    this.relativePath = relativePath;\n    /** @const */\n    this.provides = provides;\n    /** @const */\n    this.requires = requires;\n    /** @const */\n    this.loadFlags = loadFlags;\n    /** @private {boolean} */\n    this.loaded_ = false;\n    /** @private {!Array<function()>} */\n    this.loadCallbacks_ = [];\n  };\n\n\n  /**\n   * @return {string} The pathname part of this dependency's path if it is a\n   *     URI.\n   */\n  goog.Dependency.prototype.getPathName = function() {\n    var pathName = this.path;\n    var protocolIndex = pathName.indexOf('://');\n    if (protocolIndex >= 0) {\n      pathName = pathName.substring(protocolIndex + 3);\n      var slashIndex = pathName.indexOf('/');\n      if (slashIndex >= 0) {\n        pathName = pathName.substring(slashIndex + 1);\n      }\n    }\n    return pathName;\n  };\n\n\n  /**\n   * @param {function()} callback Callback to fire as soon as this has loaded.\n   * @final\n   */\n  goog.Dependency.prototype.onLoad = function(callback) {\n    if (this.loaded_) {\n      callback();\n    } else {\n      this.loadCallbacks_.push(callback);\n    }\n  };\n\n\n  /**\n   * Marks this dependency as loaded and fires any callbacks registered with\n   * onLoad.\n   * @final\n   */\n  goog.Dependency.prototype.loaded = function() {\n    this.loaded_ = true;\n    var callbacks = this.loadCallbacks_;\n    this.loadCallbacks_ = [];\n    for (var i = 0; i < callbacks.length; i++) {\n      callbacks[i]();\n    }\n  };\n\n\n  /**\n   * Whether or not document.written / appended script tags should be deferred.\n   *\n   * @private {boolean}\n   */\n  goog.Dependency.defer_ = false;\n\n\n  /**\n   * Map of script ready / state change callbacks. Old IE cannot handle putting\n   * these properties on goog.global.\n   *\n   * @private @const {!Object<string, function(?):undefined>}\n   */\n  goog.Dependency.callbackMap_ = {};\n\n\n  /**\n   * @param {function(...?):?} callback\n   * @return {string}\n   * @private\n   */\n  goog.Dependency.registerCallback_ = function(callback) {\n    var key = Math.random().toString(32);\n    goog.Dependency.callbackMap_[key] = callback;\n    return key;\n  };\n\n\n  /**\n   * @param {string} key\n   * @private\n   */\n  goog.Dependency.unregisterCallback_ = function(key) {\n    delete goog.Dependency.callbackMap_[key];\n  };\n\n\n  /**\n   * @param {string} key\n   * @param {...?} var_args\n   * @private\n   * @suppress {unusedPrivateMembers}\n   */\n  goog.Dependency.callback_ = function(key, var_args) {\n    if (key in goog.Dependency.callbackMap_) {\n      var callback = goog.Dependency.callbackMap_[key];\n      var args = [];\n      for (var i = 1; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n      callback.apply(undefined, args);\n    } else {\n      var errorMessage = 'Callback key ' + key +\n          ' does not exist (was base.js loaded more than once?).';\n      throw Error(errorMessage);\n    }\n  };\n\n\n  /**\n   * Starts loading this dependency. This dependency can pause loading if it\n   * needs to and resume it later via the controller interface.\n   *\n   * When this is loaded it should call controller.loaded(). Note that this will\n   * end up calling the loaded method of this dependency; there is no need to\n   * call it explicitly.\n   *\n   * @param {!goog.LoadController} controller\n   */\n  goog.Dependency.prototype.load = function(controller) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    if (!goog.inHtmlDocument_()) {\n      goog.logToConsole_(\n          'Cannot use default debug loader outside of HTML documents.');\n      if (this.relativePath == 'deps.js') {\n        // Some old code is relying on base.js auto loading deps.js failing with\n        // no error before later setting CLOSURE_IMPORT_SCRIPT.\n        // CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded, or\n        // CLOSURE_NO_DEPS set to true.\n        goog.logToConsole_(\n            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, ' +\n            'or setting CLOSURE_NO_DEPS to true.');\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    /** @type {!HTMLDocument} */\n    var doc = goog.global.document;\n\n    // If the user tries to require a new symbol after document load,\n    // something has gone terribly wrong. Doing a document.write would\n    // wipe out the page. This does not apply to the CSP-compliant method\n    // of writing script tags.\n    if (doc.readyState == 'complete' &&\n        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {\n      // Certain test frameworks load base.js multiple times, which tries\n      // to write deps.js each time. If that happens, just fail silently.\n      // These frameworks wipe the page between each load of base.js, so this\n      // is OK.\n      var isDeps = /\\bdeps.js$/.test(this.path);\n      if (isDeps) {\n        controller.loaded();\n        return;\n      } else {\n        throw Error('Cannot write \"' + this.path + '\" after document load');\n      }\n    }\n\n    var nonce = goog.getScriptNonce_();\n    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&\n        goog.isDocumentLoading_()) {\n      var key;\n      var callback = function(script) {\n        if (script.readyState && script.readyState != 'complete') {\n          script.onload = callback;\n          return;\n        }\n        goog.Dependency.unregisterCallback_(key);\n        controller.loaded();\n      };\n      key = goog.Dependency.registerCallback_(callback);\n\n      var defer = goog.Dependency.defer_ ? ' defer' : '';\n      var nonceAttr = nonce ? ' nonce=\"' + nonce + '\"' : '';\n      var script = '<script src=\"' + this.path + '\"' + nonceAttr + defer +\n          ' id=\"script-' + key + '\"><\\/script>';\n\n      script += '<script' + nonceAttr + '>';\n\n      if (goog.Dependency.defer_) {\n        script += 'document.getElementById(\\'script-' + key +\n            '\\').onload = function() {\\n' +\n            '  goog.Dependency.callback_(\\'' + key + '\\', this);\\n' +\n            '};\\n';\n      } else {\n        script += 'goog.Dependency.callback_(\\'' + key +\n            '\\', document.getElementById(\\'script-' + key + '\\'));';\n      }\n\n      script += '<\\/script>';\n\n      doc.write(\n          goog.TRUSTED_TYPES_POLICY_ ?\n              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n              script);\n    } else {\n      var scriptEl =\n          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));\n      scriptEl.defer = goog.Dependency.defer_;\n      scriptEl.async = false;\n\n      // If CSP nonces are used, propagate them to dynamically created scripts.\n      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n      if (nonce) {\n        scriptEl.nonce = nonce;\n      }\n\n      scriptEl.onload = function() {\n        scriptEl.onload = null;\n        controller.loaded();\n      };\n\n      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?\n          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :\n          this.path;\n      doc.head.appendChild(scriptEl);\n    }\n  };\n\n\n  /**\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides Should be an empty array.\n   *     TODO(johnplaisted) add support for adding closure namespaces to ES6\n   *     modules for interop purposes.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.Dependency}\n   */\n  goog.Es6ModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.Es6ModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);\n\n\n  /**\n   * @override\n   * @param {!goog.LoadController} controller\n   */\n  goog.Es6ModuleDependency.prototype.load = function(controller) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    if (!goog.inHtmlDocument_()) {\n      goog.logToConsole_(\n          'Cannot use default debug loader outside of HTML documents.');\n      controller.pause();\n      return;\n    }\n\n    /** @type {!HTMLDocument} */\n    var doc = goog.global.document;\n\n    var dep = this;\n\n    // TODO(johnplaisted): Does document.writing really speed up anything? Any\n    // difference between this and just waiting for interactive mode and then\n    // appending?\n    function write(src, contents) {\n      var nonceAttr = '';\n      var nonce = goog.getScriptNonce_();\n      if (nonce) {\n        nonceAttr = ' nonce=\"' + nonce + '\"';\n      }\n\n      if (contents) {\n        var script = '<script type=\"module\" crossorigin' + nonceAttr + '>' +\n            contents + '</' +\n            'script>';\n        doc.write(\n            goog.TRUSTED_TYPES_POLICY_ ?\n                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n                script);\n      } else {\n        var script = '<script type=\"module\" crossorigin src=\"' + src + '\"' +\n            nonceAttr + '></' +\n            'script>';\n        doc.write(\n            goog.TRUSTED_TYPES_POLICY_ ?\n                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n                script);\n      }\n    }\n\n    function append(src, contents) {\n      var scriptEl =\n          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));\n      scriptEl.defer = true;\n      scriptEl.async = false;\n      scriptEl.type = 'module';\n      scriptEl.setAttribute('crossorigin', true);\n\n      // If CSP nonces are used, propagate them to dynamically created scripts.\n      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n      var nonce = goog.getScriptNonce_();\n      if (nonce) {\n        scriptEl.nonce = nonce;\n      }\n\n      if (contents) {\n        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?\n            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :\n            contents;\n      } else {\n        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?\n            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :\n            src;\n      }\n\n      doc.head.appendChild(scriptEl);\n    }\n\n    var create;\n\n    if (goog.isDocumentLoading_()) {\n      create = write;\n      // We can ONLY call document.write if we are guaranteed that any\n      // non-module script tags document.written after this are deferred.\n      // Small optimization, in theory document.writing is faster.\n      goog.Dependency.defer_ = true;\n    } else {\n      create = append;\n    }\n\n    // Write 4 separate tags here:\n    // 1) Sets the module state at the correct time (just before execution).\n    // 2) A src node for this, which just hopefully lets the browser load it a\n    //    little early (no need to parse #3).\n    // 3) Import the module and register it.\n    // 4) Clear the module state at the correct time. Guaranteed to run even\n    //    if there is an error in the module (#3 will not run if there is an\n    //    error in the module).\n    var beforeKey = goog.Dependency.registerCallback_(function() {\n      goog.Dependency.unregisterCallback_(beforeKey);\n      controller.setModuleState(goog.ModuleType.ES6);\n    });\n    create(undefined, 'goog.Dependency.callback_(\"' + beforeKey + '\")');\n\n    // TODO(johnplaisted): Does this really speed up anything?\n    create(this.path, undefined);\n\n    var registerKey = goog.Dependency.registerCallback_(function(exports) {\n      goog.Dependency.unregisterCallback_(registerKey);\n      controller.registerEs6ModuleExports(\n          dep.path, exports, goog.moduleLoaderState_.moduleName);\n    });\n    create(\n        undefined,\n        'import * as m from \"' + this.path + '\"; goog.Dependency.callback_(\"' +\n            registerKey + '\", m)');\n\n    var afterKey = goog.Dependency.registerCallback_(function() {\n      goog.Dependency.unregisterCallback_(afterKey);\n      controller.clearModuleState();\n      controller.loaded();\n    });\n    create(undefined, 'goog.Dependency.callback_(\"' + afterKey + '\")');\n  };\n\n\n  /**\n   * Superclass of any dependency that needs to be loaded into memory,\n   * transformed, and then eval'd (goog.modules and transpiled files).\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor @abstract\n   * @extends {goog.Dependency}\n   */\n  goog.TransformedDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.TransformedDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n    /** @private {?string} */\n    this.contents_ = null;\n\n    /**\n     * Whether to lazily make the synchronous XHR (when goog.require'd) or make\n     * the synchronous XHR when initially loading. On FireFox 61 there is a bug\n     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if\n     * it does then no other ES6 modules will load after).\n     *\n     * tl;dr we lazy load due to bugs on older browsers and eager load due to\n     * bugs on newer ones.\n     *\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=1477090\n     *\n     * @private @const {boolean}\n     */\n    this.lazyFetch_ = !goog.inHtmlDocument_() ||\n        !('noModule' in goog.global.document.createElement('script'));\n  };\n  goog.inherits(goog.TransformedDependency, goog.Dependency);\n\n\n  /**\n   * @override\n   * @param {!goog.LoadController} controller\n   */\n  goog.TransformedDependency.prototype.load = function(controller) {\n    var dep = this;\n\n    function fetch() {\n      dep.contents_ = goog.loadFileSync_(dep.path);\n\n      if (dep.contents_) {\n        dep.contents_ = dep.transform(dep.contents_);\n        if (dep.contents_) {\n          dep.contents_ += '\\n//# sourceURL=' + dep.path;\n        }\n      }\n    }\n\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      fetch();\n      if (this.contents_ &&\n          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {\n        this.contents_ = null;\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n\n    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;\n\n    if (!this.lazyFetch_) {\n      fetch();\n    }\n\n    function load() {\n      if (dep.lazyFetch_) {\n        fetch();\n      }\n\n      if (!dep.contents_) {\n        // loadFileSync_ or transform are responsible. Assume they logged an\n        // error.\n        return;\n      }\n\n      if (isEs6) {\n        controller.setModuleState(goog.ModuleType.ES6);\n      }\n\n      var namespace;\n\n      try {\n        var contents = dep.contents_;\n        dep.contents_ = null;\n        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));\n        if (isEs6) {\n          namespace = goog.moduleLoaderState_.moduleName;\n        }\n      } finally {\n        if (isEs6) {\n          controller.clearModuleState();\n        }\n      }\n\n      if (isEs6) {\n        // Due to circular dependencies this may not be available for require\n        // right now.\n        goog.global['$jscomp']['require']['ensure'](\n            [dep.getPathName()], function() {\n              controller.registerEs6ModuleExports(\n                  dep.path,\n                  goog.global['$jscomp']['require'](dep.getPathName()),\n                  namespace);\n            });\n      }\n\n      controller.loaded();\n    }\n\n    // Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all\n    // events. If we fetched now and then document.write'd the contents the\n    // document.write would be an eval and would execute too soon! Instead write\n    // a script tag to fetch and eval synchronously at the correct time.\n    function fetchInOwnScriptThenLoad() {\n      /** @type {!HTMLDocument} */\n      var doc = goog.global.document;\n\n      var key = goog.Dependency.registerCallback_(function() {\n        goog.Dependency.unregisterCallback_(key);\n        load();\n      });\n\n      var nonce = goog.getScriptNonce_();\n      var nonceAttr = nonce ? ' nonce=\"' + nonce + '\"' : '';\n      var script = '<script' + nonceAttr + '>' +\n          goog.protectScriptTag_('goog.Dependency.callback_(\"' + key + '\");') +\n          '</' +\n          'script>';\n      doc.write(\n          goog.TRUSTED_TYPES_POLICY_ ?\n              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n              script);\n    }\n\n    // If one thing is pending it is this.\n    var anythingElsePending = controller.pending().length > 1;\n\n    // Additionally if we are meant to defer scripts but the page is still\n    // loading (e.g. an ES6 module is loading) then also defer. Or if we are\n    // meant to defer and anything else is pending then defer (those may be\n    // scripts that did not need transformation and are just script tags with\n    // defer set to true, and we need to evaluate after that deferred script).\n    var needsAsyncLoading = goog.Dependency.defer_ &&\n        (anythingElsePending || goog.isDocumentLoading_());\n\n    if (needsAsyncLoading) {\n      // Note that we only defer when we have to rather than 100% of the time.\n      // Always defering would work, but then in theory the order of\n      // goog.require calls would then matter. We want to enforce that most of\n      // the time the order of the require calls does not matter.\n      controller.defer(function() {\n        load();\n      });\n      return;\n    }\n    // TODO(johnplaisted): Externs are missing onreadystatechange for\n    // HTMLDocument.\n    /** @type {?} */\n    var doc = goog.global.document;\n\n    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&\n        ('ActiveXObject' in goog.global || goog.isEdge_());\n\n    // Don't delay in any version of IE or pre-Chromium Edge. There's a bug\n    // around this that will cause out of order script execution. This means\n    // that on older IE ES6 modules will load too early (while the document is\n    // still loading + the dom is not available). The other option is to load\n    // too late (when the document is complete and the onload even will never\n    // fire). This seems to be the lesser of two evils as scripts already act\n    // like the former.\n    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&\n        !isInternetExplorerOrEdge) {\n      goog.Dependency.defer_ = true;\n      // Transpiled ES6 modules still need to load like regular ES6 modules,\n      // aka only after the document is interactive.\n      controller.pause();\n      var oldCallback = doc.onreadystatechange;\n      doc.onreadystatechange = function() {\n        if (doc.readyState == 'interactive') {\n          doc.onreadystatechange = oldCallback;\n          load();\n          controller.resume();\n        }\n        if (typeof oldCallback === 'function') {\n          oldCallback.apply(undefined, arguments);\n        }\n      };\n    } else {\n      // Always eval on old IE.\n      if (!goog.inHtmlDocument_() || !goog.isDocumentLoading_()) {\n        load();\n      } else {\n        fetchInOwnScriptThenLoad();\n      }\n    }\n  };\n\n\n  /**\n   * @param {string} contents\n   * @return {string}\n   * @abstract\n   */\n  goog.TransformedDependency.prototype.transform = function(contents) {};\n\n\n  /**\n   * Any non-goog.module dependency which needs to be transpiled before eval.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @param {!goog.Transpiler} transpiler\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   */\n  goog.TranspiledDependency = function(\n      path, relativePath, provides, requires, loadFlags, transpiler) {\n    goog.TranspiledDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n    /** @protected @const*/\n    this.transpiler = transpiler;\n  };\n  goog.inherits(goog.TranspiledDependency, goog.TransformedDependency);\n\n\n  /**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   */\n  goog.TranspiledDependency.prototype.transform = function(contents) {\n    // Transpile with the pathname so that ES6 modules are domain agnostic.\n    return this.transpiler.transpile(contents, this.getPathName());\n  };\n\n\n  /**\n   * An ES6 module dependency that was transpiled to a jscomp module outside\n   * of the debug loader, e.g. server side.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   */\n  goog.PreTranspiledEs6ModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.PreTranspiledEs6ModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(\n      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);\n\n\n  /**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   */\n  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(\n      contents) {\n    return contents;\n  };\n\n\n  /**\n   * A goog.module, transpiled or not. Will always perform some minimal\n   * transformation even when not transpiled to wrap in a goog.loadModule\n   * statement.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @param {boolean} needsTranspile\n   * @param {!goog.Transpiler} transpiler\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   */\n  goog.GoogModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags, needsTranspile,\n      transpiler) {\n    goog.GoogModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n    /** @private @const */\n    this.needsTranspile_ = needsTranspile;\n    /** @private @const */\n    this.transpiler_ = transpiler;\n  };\n  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);\n\n\n  /**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   */\n  goog.GoogModuleDependency.prototype.transform = function(contents) {\n    if (this.needsTranspile_) {\n      contents = this.transpiler_.transpile(contents, this.getPathName());\n    }\n\n    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {\n      return '' +\n          'goog.loadModule(function(exports) {' +\n          '\"use strict\";' + contents +\n          '\\n' +  // terminate any trailing single line comment.\n          ';return exports' +\n          '});' +\n          '\\n//# sourceURL=' + this.path + '\\n';\n    } else {\n      return '' +\n          'goog.loadModule(' +\n          goog.global.JSON.stringify(\n              contents + '\\n//# sourceURL=' + this.path + '\\n') +\n          ');';\n    }\n  };\n\n\n  /**\n   * @param {string} relPath\n   * @param {!Array<string>|undefined} provides\n   * @param {!Array<string>} requires\n   * @param {boolean|!Object<string>=} opt_loadFlags\n   * @see goog.addDependency\n   */\n  goog.DebugLoader_.prototype.addDependency = function(\n      relPath, provides, requires, opt_loadFlags) {\n    provides = provides || [];\n    relPath = relPath.replace(/\\\\/g, '/');\n    var path = goog.normalizePath_(goog.basePath + relPath);\n    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {\n      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};\n    }\n    var dep = this.factory_.createDependency(\n        path, relPath, provides, requires, opt_loadFlags,\n        goog.transpiler_.needsTranspile(\n            opt_loadFlags['lang'] || 'es3', opt_loadFlags['module']));\n    this.dependencies_[path] = dep;\n    for (var i = 0; i < provides.length; i++) {\n      this.idToPath_[provides[i]] = path;\n    }\n    this.idToPath_[relPath] = path;\n  };\n\n\n  /**\n   * Creates goog.Dependency instances for the debug loader to load.\n   *\n   * Should be overridden to have the debug loader use custom subclasses of\n   * goog.Dependency.\n   *\n   * @param {!goog.Transpiler} transpiler\n   * @struct @constructor\n   */\n  goog.DependencyFactory = function(transpiler) {\n    /** @protected @const */\n    this.transpiler = transpiler;\n  };\n\n\n  /**\n   * @param {string} path Absolute path of the file.\n   * @param {string} relativePath Path relative to closures base.js.\n   * @param {!Array<string>} provides Array of provided goog.provide/module ids.\n   * @param {!Array<string>} requires Array of required goog.provide/module /\n   *     relative ES6 module paths.\n   * @param {!Object<string, string>} loadFlags\n   * @param {boolean} needsTranspile True if the file needs to be transpiled\n   *     per the goog.Transpiler.\n   * @return {!goog.Dependency}\n   */\n  goog.DependencyFactory.prototype.createDependency = function(\n      path, relativePath, provides, requires, loadFlags, needsTranspile) {\n\n    if (loadFlags['module'] == goog.ModuleType.GOOG) {\n      return new goog.GoogModuleDependency(\n          path, relativePath, provides, requires, loadFlags, needsTranspile,\n          this.transpiler);\n    } else if (needsTranspile) {\n      return new goog.TranspiledDependency(\n          path, relativePath, provides, requires, loadFlags, this.transpiler);\n    } else {\n      if (loadFlags['module'] == goog.ModuleType.ES6) {\n        if (goog.TRANSPILE == 'never' && goog.ASSUME_ES_MODULES_TRANSPILED) {\n          return new goog.PreTranspiledEs6ModuleDependency(\n              path, relativePath, provides, requires, loadFlags);\n        } else {\n          return new goog.Es6ModuleDependency(\n              path, relativePath, provides, requires, loadFlags);\n        }\n      } else {\n        return new goog.Dependency(\n            path, relativePath, provides, requires, loadFlags);\n      }\n    }\n  };\n\n\n  /** @private @const */\n  goog.debugLoader_ = new goog.DebugLoader_();\n\n\n  /**\n   * Loads the Closure Dependency file.\n   *\n   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base\n   * loaded, setDependencyFactory called, and then this called. i.e. allows\n   * custom loading of the deps file.\n   */\n  goog.loadClosureDeps = function() {\n    goog.debugLoader_.loadClosureDeps();\n  };\n\n\n  /**\n   * Sets the dependency factory, which can be used to create custom\n   * goog.Dependency implementations to control how dependencies are loaded.\n   *\n   * Note: if you wish to call this function and provide your own implemnetation\n   * it is a wise idea to set CLOSURE_NO_DEPS to true, otherwise the dependency\n   * file and all of its goog.addDependency calls will use the default factory.\n   * You can call goog.loadClosureDeps to load the Closure dependency file\n   * later, after your factory is injected.\n   *\n   * @param {!goog.DependencyFactory} factory\n   */\n  goog.setDependencyFactory = function(factory) {\n    goog.debugLoader_.setDependencyFactory(factory);\n  };\n\n\n  /**\n   * Trusted Types policy for the debug loader.\n   * @private @const {?TrustedTypePolicy}\n   */\n  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?\n      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :\n      null;\n\n  if (!goog.global.CLOSURE_NO_DEPS) {\n    goog.debugLoader_.loadClosureDeps();\n  }\n\n\n  /**\n   * Bootstraps the given namespaces and calls the callback once they are\n   * available either via goog.require. This is a replacement for using\n   * `goog.require` to bootstrap Closure JavaScript. Previously a `goog.require`\n   * in an HTML file would guarantee that the require'd namespace was available\n   * in the next immediate script tag. With ES6 modules this no longer a\n   * guarantee.\n   *\n   * @param {!Array<string>} namespaces\n   * @param {function(): ?} callback Function to call once all the namespaces\n   *     have loaded. Always called asynchronously.\n   */\n  goog.bootstrap = function(namespaces, callback) {\n    goog.debugLoader_.bootstrap(namespaces, callback);\n  };\n}\n\n\nif (!COMPILED) {\n  var isChrome87 = false;\n  // Cannot run check for Chrome <87 bug in case of strict CSP environments.\n  // TODO(user): Remove once Chrome <87 bug is no longer a problem.\n  try {\n    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==\n        goog.global.trustedTypes.emptyScript;\n  } catch (err) {\n  }\n\n  /**\n   * Trusted Types for running dev servers.\n   *\n   * @private @const\n   */\n  goog.CLOSURE_EVAL_PREFILTER_ =\n      // Detect Chrome <87 bug with TT and eval.\n      goog.global.trustedTypes && isChrome87 &&\n          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||\n      {createScript: goog.identity_};\n}\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Implements the disposable interface.\n */\n\ngoog.provide('goog.Disposable');\n\ngoog.require('goog.disposable.IDisposable');\ngoog.require('goog.dispose');\n/**\n * TODO(user): Remove this require.\n * @suppress {extraRequire}\n */\ngoog.require('goog.disposeAll');\n\n/**\n * Class that provides the basic implementation for disposable objects. If your\n * class holds references or resources that can't be collected by standard GC,\n * it should extend this class or implement the disposable interface (defined\n * in goog.disposable.IDisposable). See description of\n * goog.disposable.IDisposable for examples of cleanup.\n * @constructor\n * @implements {goog.disposable.IDisposable}\n */\ngoog.Disposable = function() {\n  'use strict';\n  /**\n   * If monitoring the goog.Disposable instances is enabled, stores the creation\n   * stack trace of the Disposable instance.\n   * @type {string|undefined}\n   */\n  this.creationStack;\n\n  if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {\n    if (goog.Disposable.INCLUDE_STACK_ON_CREATION) {\n      this.creationStack = new Error().stack;\n    }\n    goog.Disposable.instances_[goog.getUid(this)] = this;\n  }\n  // Support sealing\n  this.disposed_ = this.disposed_;\n  this.onDisposeCallbacks_ = this.onDisposeCallbacks_;\n};\n\n\n/**\n * @enum {number} Different monitoring modes for Disposable.\n */\ngoog.Disposable.MonitoringMode = {\n  /**\n   * No monitoring.\n   */\n  OFF: 0,\n  /**\n   * Creating and disposing the goog.Disposable instances is monitored. All\n   * disposable objects need to call the `goog.Disposable` base\n   * constructor. The PERMANENT mode must be switched on before creating any\n   * goog.Disposable instances.\n   */\n  PERMANENT: 1,\n  /**\n   * INTERACTIVE mode can be switched on and off on the fly without producing\n   * errors. It also doesn't warn if the disposable objects don't call the\n   * `goog.Disposable` base constructor.\n   */\n  INTERACTIVE: 2\n};\n\n\n/**\n * @define {number} The monitoring mode of the goog.Disposable\n *     instances. Default is OFF. Switching on the monitoring is only\n *     recommended for debugging because it has a significant impact on\n *     performance and memory usage. If switched off, the monitoring code\n *     compiles down to 0 bytes.\n */\ngoog.Disposable.MONITORING_MODE =\n    goog.define('goog.Disposable.MONITORING_MODE', 0);\n\n\n/**\n * @define {boolean} Whether to attach creation stack to each created disposable\n *     instance; This is only relevant for when MonitoringMode != OFF.\n */\ngoog.Disposable.INCLUDE_STACK_ON_CREATION =\n    goog.define('goog.Disposable.INCLUDE_STACK_ON_CREATION', true);\n\n\n/**\n * Maps the unique ID of every undisposed `goog.Disposable` object to\n * the object itself.\n * @type {!Object<number, !goog.Disposable>}\n * @private\n */\ngoog.Disposable.instances_ = {};\n\n\n/**\n * @return {!Array<!goog.Disposable>} All `goog.Disposable` objects that\n *     haven't been disposed of.\n */\ngoog.Disposable.getUndisposedObjects = function() {\n  'use strict';\n  var ret = [];\n  for (var id in goog.Disposable.instances_) {\n    if (goog.Disposable.instances_.hasOwnProperty(id)) {\n      ret.push(goog.Disposable.instances_[Number(id)]);\n    }\n  }\n  return ret;\n};\n\n\n/**\n * Clears the registry of undisposed objects but doesn't dispose of them.\n */\ngoog.Disposable.clearUndisposedObjects = function() {\n  'use strict';\n  goog.Disposable.instances_ = {};\n};\n\n\n/**\n * Whether the object has been disposed of.\n * @type {boolean}\n * @private\n */\ngoog.Disposable.prototype.disposed_ = false;\n\n\n/**\n * Callbacks to invoke when this object is disposed.\n * @type {Array<!Function>}\n * @private\n */\ngoog.Disposable.prototype.onDisposeCallbacks_;\n\n\n/**\n * @return {boolean} Whether the object has been disposed of.\n * @override\n */\ngoog.Disposable.prototype.isDisposed = function() {\n  'use strict';\n  return this.disposed_;\n};\n\n\n/**\n * @return {boolean} Whether the object has been disposed of.\n * @deprecated Use {@link #isDisposed} instead.\n */\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\n\n\n/**\n * Disposes of the object. If the object hasn't already been disposed of, calls\n * {@link #disposeInternal}. Classes that extend `goog.Disposable` should\n * override {@link #disposeInternal} in order to cleanup references, resources\n * and other disposable objects. Reentrant.\n *\n * @return {void} Nothing.\n * @override\n */\ngoog.Disposable.prototype.dispose = function() {\n  'use strict';\n  if (!this.disposed_) {\n    // Set disposed_ to true first, in case during the chain of disposal this\n    // gets disposed recursively.\n    this.disposed_ = true;\n    this.disposeInternal();\n    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {\n      var uid = goog.getUid(this);\n      if (goog.Disposable.MONITORING_MODE ==\n              goog.Disposable.MonitoringMode.PERMANENT &&\n          !goog.Disposable.instances_.hasOwnProperty(uid)) {\n        throw new Error(\n            this + ' did not call the goog.Disposable base ' +\n            'constructor or was disposed of after a clearUndisposedObjects ' +\n            'call');\n      }\n      if (goog.Disposable.MONITORING_MODE !=\n              goog.Disposable.MonitoringMode.OFF &&\n          this.onDisposeCallbacks_ && this.onDisposeCallbacks_.length > 0) {\n        throw new Error(\n            this + ' did not empty its onDisposeCallbacks queue. This ' +\n            'probably means it overrode dispose() or disposeInternal() ' +\n            'without calling the superclass\\' method.');\n      }\n      delete goog.Disposable.instances_[uid];\n    }\n  }\n};\n\n\n/**\n * Associates a disposable object with this object so that they will be disposed\n * together.\n * @param {goog.disposable.IDisposable} disposable that will be disposed when\n *     this object is disposed.\n */\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n  'use strict';\n  this.addOnDisposeCallback(goog.partial(goog.dispose, disposable));\n};\n\n\n/**\n * Invokes a callback function when this object is disposed. Callbacks are\n * invoked in the order in which they were added. If a callback is added to\n * an already disposed Disposable, it will be called immediately.\n * @param {function(this:T):?} callback The callback function.\n * @param {T=} opt_scope An optional scope to call the callback in.\n * @template T\n */\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n  'use strict';\n  if (this.disposed_) {\n    opt_scope !== undefined ? callback.call(opt_scope) : callback();\n    return;\n  }\n  if (!this.onDisposeCallbacks_) {\n    this.onDisposeCallbacks_ = [];\n  }\n\n  this.onDisposeCallbacks_.push(\n      opt_scope !== undefined ? goog.bind(callback, opt_scope) : callback);\n};\n\n\n/**\n * Performs appropriate cleanup. See description of goog.disposable.IDisposable\n * for examples. Classes that extend `goog.Disposable` should override this\n * method. Not reentrant. To avoid calling it twice, it must only be called from\n * the subclass' `disposeInternal` method. Everywhere else the public `dispose`\n * method must be used. For example:\n *\n * <pre>\n * mypackage.MyClass = function() {\n * mypackage.MyClass.base(this, 'constructor');\n *     // Constructor logic specific to MyClass.\n *     ...\n *   };\n *   goog.inherits(mypackage.MyClass, goog.Disposable);\n *\n *   mypackage.MyClass.prototype.disposeInternal = function() {\n *     // Dispose logic specific to MyClass.\n *     ...\n *     // Call superclass's disposeInternal at the end of the subclass's, like\n *     // in C++, to avoid hard-to-catch issues.\n *     mypackage.MyClass.base(this, 'disposeInternal');\n *   };\n * </pre>\n *\n * @protected\n */\ngoog.Disposable.prototype.disposeInternal = function() {\n  'use strict';\n  if (this.onDisposeCallbacks_) {\n    while (this.onDisposeCallbacks_.length) {\n      this.onDisposeCallbacks_.shift()();\n    }\n  }\n};\n\n\n/**\n * Returns True if we can verify the object is disposed.\n * Calls `isDisposed` on the argument if it supports it.  If obj\n * is not an object with an isDisposed() method, return false.\n * @param {*} obj The object to investigate.\n * @return {boolean} True if we can verify the object is disposed.\n */\ngoog.Disposable.isDisposed = function(obj) {\n  'use strict';\n  if (obj && typeof obj.isDisposed == 'function') {\n    return obj.isDisposed();\n  }\n  return false;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utilities for manipulating arrays.\n */\n\n\ngoog.module('goog.array');\ngoog.module.declareLegacyNamespace();\n\nconst asserts = goog.require('goog.asserts');\n\n\n/**\n * @define {boolean} NATIVE_ARRAY_PROTOTYPES indicates whether the code should\n * rely on Array.prototype functions, if available.\n *\n * The Array.prototype functions can be defined by external libraries like\n * Prototype and setting this flag to false forces closure to use its own\n * goog.array implementation.\n *\n * If your javascript can be loaded by a third party site and you are wary about\n * relying on the prototype functions, specify\n * \"--define goog.NATIVE_ARRAY_PROTOTYPES=false\" to the JSCompiler.\n *\n * Setting goog.TRUSTED_SITE to false will automatically set\n * NATIVE_ARRAY_PROTOTYPES to false.\n */\ngoog.NATIVE_ARRAY_PROTOTYPES =\n    goog.define('goog.NATIVE_ARRAY_PROTOTYPES', goog.TRUSTED_SITE);\n\n\n/**\n * @define {boolean} If true, JSCompiler will use the native implementation of\n * array functions where appropriate (e.g., `Array#filter`) and remove the\n * unused pure JS implementation.\n */\nconst ASSUME_NATIVE_FUNCTIONS = goog.define(\n    'goog.array.ASSUME_NATIVE_FUNCTIONS', goog.FEATURESET_YEAR > 2012);\nexports.ASSUME_NATIVE_FUNCTIONS = ASSUME_NATIVE_FUNCTIONS;\n\n\n/**\n * Returns the last element in an array without removing it.\n * Same as {@link goog.array.last}.\n * @param {IArrayLike<T>|string} array The array.\n * @return {T} Last item in array.\n * @template T\n */\nfunction peek(array) {\n  return array[array.length - 1];\n}\nexports.peek = peek;\n\n\n/**\n * Returns the last element in an array without removing it.\n * Same as {@link goog.array.peek}.\n * @param {IArrayLike<T>|string} array The array.\n * @return {T} Last item in array.\n * @template T\n */\nexports.last = peek;\n\n// NOTE(arv): Since most of the array functions are generic it allows you to\n// pass an array-like object. Strings have a length and are considered array-\n// like. However, the 'in' operator does not work on strings so we cannot just\n// use the array path even if the browser supports indexing into strings. We\n// therefore end up splitting the string.\n\n\n/**\n * Returns the index of the first element of an array with a specified value, or\n * -1 if the element is not present in the array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-indexof}\n *\n * @param {IArrayLike<T>|string} arr The array to be searched.\n * @param {T} obj The object for which we are searching.\n * @param {number=} opt_fromIndex The index at which to start the search. If\n *     omitted the search starts at index 0.\n * @return {number} The index of the first matching array element.\n * @template T\n */\nconst indexOf = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ?\n    function(arr, obj, opt_fromIndex) {\n      asserts.assert(arr.length != null);\n\n      return Array.prototype.indexOf.call(arr, obj, opt_fromIndex);\n    } :\n    function(arr, obj, opt_fromIndex) {\n      const fromIndex = opt_fromIndex == null ?\n          0 :\n          (opt_fromIndex < 0 ? Math.max(0, arr.length + opt_fromIndex) :\n                               opt_fromIndex);\n\n      if (typeof arr === 'string') {\n        // Array.prototype.indexOf uses === so only strings should be found.\n        if (typeof obj !== 'string' || obj.length != 1) {\n          return -1;\n        }\n        return arr.indexOf(obj, fromIndex);\n      }\n\n      for (let i = fromIndex; i < arr.length; i++) {\n        if (i in arr && arr[i] === obj) return i;\n      }\n      return -1;\n    };\nexports.indexOf = indexOf;\n\n\n/**\n * Returns the index of the last element of an array with a specified value, or\n * -1 if the element is not present in the array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-lastindexof}\n *\n * @param {!IArrayLike<T>|string} arr The array to be searched.\n * @param {T} obj The object for which we are searching.\n * @param {?number=} opt_fromIndex The index at which to start the search. If\n *     omitted the search starts at the end of the array.\n * @return {number} The index of the last matching array element.\n * @template T\n */\nconst lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ?\n    function(arr, obj, opt_fromIndex) {\n      asserts.assert(arr.length != null);\n\n      // Firefox treats undefined and null as 0 in the fromIndex argument which\n      // leads it to always return -1\n      const fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;\n      return Array.prototype.lastIndexOf.call(arr, obj, fromIndex);\n    } :\n    function(arr, obj, opt_fromIndex) {\n      let fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;\n\n      if (fromIndex < 0) {\n        fromIndex = Math.max(0, arr.length + fromIndex);\n      }\n\n      if (typeof arr === 'string') {\n        // Array.prototype.lastIndexOf uses === so only strings should be found.\n        if (typeof obj !== 'string' || obj.length != 1) {\n          return -1;\n        }\n        return arr.lastIndexOf(obj, fromIndex);\n      }\n\n      for (let i = fromIndex; i >= 0; i--) {\n        if (i in arr && arr[i] === obj) return i;\n      }\n      return -1;\n    };\nexports.lastIndexOf = lastIndexOf;\n\n\n/**\n * Calls a function for each element in an array. Skips holes in the array.\n * See {@link http://tinyurl.com/developer-mozilla-org-array-foreach}\n *\n * @param {IArrayLike<T>|string} arr Array or array like object over\n *     which to iterate.\n * @param {?function(this: S, T, number, ?): ?} f The function to call for every\n *     element. This function takes 3 arguments (the element, the index and the\n *     array). The return value is ignored.\n * @param {S=} opt_obj The object to be used as the value of 'this' within f.\n * @template T,S\n */\nconst forEach = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ?\n    function(arr, f, opt_obj) {\n      asserts.assert(arr.length != null);\n\n      Array.prototype.forEach.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      const l = arr.length;  // must be fixed during loop... see docs\n      const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n      for (let i = 0; i < l; i++) {\n        if (i in arr2) {\n          f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr);\n        }\n      }\n    };\nexports.forEach = forEach;\n\n\n/**\n * Calls a function for each element in an array, starting from the last\n * element rather than the first.\n *\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this: S, T, number, ?): ?} f The function to call for every\n *     element. This function\n *     takes 3 arguments (the element, the index and the array). The return\n *     value is ignored.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @template T,S\n */\nfunction forEachRight(arr, f, opt_obj) {\n  const l = arr.length;  // must be fixed during loop... see docs\n  const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n  for (let i = l - 1; i >= 0; --i) {\n    if (i in arr2) {\n      f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr);\n    }\n  }\n}\nexports.forEachRight = forEachRight;\n\n\n/**\n * Calls a function for each element in an array, and if the function returns\n * true adds the element to a new array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-filter}\n *\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?):boolean} f The function to call for\n *     every element. This function\n *     takes 3 arguments (the element, the index and the array) and must\n *     return a Boolean. If the return value is true the element is added to the\n *     result array. If it is false the element is not included.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {!Array<T>} a new array in which only elements that passed the test\n *     are present.\n * @template T,S\n */\nconst filter = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ?\n    function(arr, f, opt_obj) {\n      asserts.assert(arr.length != null);\n\n      return Array.prototype.filter.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      const l = arr.length;  // must be fixed during loop... see docs\n      const res = [];\n      let resLength = 0;\n      const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n      for (let i = 0; i < l; i++) {\n        if (i in arr2) {\n          const val = arr2[i];  // in case f mutates arr2\n          if (f.call(/** @type {?} */ (opt_obj), val, i, arr)) {\n            res[resLength++] = val;\n          }\n        }\n      }\n      return res;\n    };\nexports.filter = filter;\n\n\n/**\n * Calls a function for each element in an array and inserts the result into a\n * new array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-map}\n *\n * @param {IArrayLike<VALUE>|string} arr Array or array like object\n *     over which to iterate.\n * @param {function(this:THIS, VALUE, number, ?): RESULT} f The function to call\n *     for every element. This function takes 3 arguments (the element,\n *     the index and the array) and should return something. The result will be\n *     inserted into a new array.\n * @param {THIS=} opt_obj The object to be used as the value of 'this' within f.\n * @return {!Array<RESULT>} a new array with the results from f.\n * @template THIS, VALUE, RESULT\n */\nconst map = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ?\n    function(arr, f, opt_obj) {\n      asserts.assert(arr.length != null);\n\n      return Array.prototype.map.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      const l = arr.length;  // must be fixed during loop... see docs\n      const res = new Array(l);\n      const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n      for (let i = 0; i < l; i++) {\n        if (i in arr2) {\n          res[i] = f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr);\n        }\n      }\n      return res;\n    };\nexports.map = map;\n\n\n/**\n * Passes every element of an array into a function and accumulates the result.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-reduce}\n * Note that this implementation differs from the native Array.prototype.reduce\n * in that the initial value is assumed to be defined (the MDN docs linked above\n * recommend not omitting this parameter, although it is technically optional).\n *\n * For example:\n * var a = [1, 2, 3, 4];\n * reduce(a, function(r, v, i, arr) {return r + v;}, 0);\n * returns 10\n *\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {function(this:S, R, T, number, ?) : R} f The function to call for\n *     every element. This function\n *     takes 4 arguments (the function's previous result or the initial value,\n *     the value of the current array element, the current array index, and the\n *     array itself)\n *     function(previousValue, currentValue, index, array).\n * @param {?} val The initial value to pass into the function on the first call.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within f.\n * @return {R} Result of evaluating f repeatedly across the values of the array.\n * @template T,S,R\n */\nconst reduce = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ?\n    function(arr, f, val, opt_obj) {\n      asserts.assert(arr.length != null);\n      if (opt_obj) {\n        f = goog.bind(f, opt_obj);\n      }\n      return Array.prototype.reduce.call(arr, f, val);\n    } :\n    function(arr, f, val, opt_obj) {\n      let rval = val;\n      forEach(arr, function(val, index) {\n        rval = f.call(/** @type {?} */ (opt_obj), rval, val, index, arr);\n      });\n      return rval;\n    };\nexports.reduce = reduce;\n\n\n/**\n * Passes every element of an array into a function and accumulates the result,\n * starting from the last element and working towards the first.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-reduceright}\n *\n * For example:\n * var a = ['a', 'b', 'c'];\n * reduceRight(a, function(r, v, i, arr) {return r + v;}, '');\n * returns 'cba'\n *\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, R, T, number, ?) : R} f The function to call for\n *     every element. This function\n *     takes 4 arguments (the function's previous result or the initial value,\n *     the value of the current array element, the current array index, and the\n *     array itself)\n *     function(previousValue, currentValue, index, array).\n * @param {?} val The initial value to pass into the function on the first call.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {R} Object returned as a result of evaluating f repeatedly across the\n *     values of the array.\n * @template T,S,R\n */\nconst reduceRight = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ?\n    function(arr, f, val, opt_obj) {\n      asserts.assert(arr.length != null);\n      asserts.assert(f != null);\n      if (opt_obj) {\n        f = goog.bind(f, opt_obj);\n      }\n      return Array.prototype.reduceRight.call(arr, f, val);\n    } :\n    function(arr, f, val, opt_obj) {\n      let rval = val;\n      forEachRight(arr, function(val, index) {\n        rval = f.call(/** @type {?} */ (opt_obj), rval, val, index, arr);\n      });\n      return rval;\n    };\nexports.reduceRight = reduceRight;\n\n\n/**\n * Calls f for each element of an array. If any call returns true, some()\n * returns true (without checking the remaining elements). If all calls\n * return false, some() returns false.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-some}\n *\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within f.\n * @return {boolean} true if any element passes the test.\n * @template T,S\n */\nconst some = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ?\n    function(arr, f, opt_obj) {\n      asserts.assert(arr.length != null);\n\n      return Array.prototype.some.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      const l = arr.length;  // must be fixed during loop... see docs\n      const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n      for (let i = 0; i < l; i++) {\n        if (i in arr2 && f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr)) {\n          return true;\n        }\n      }\n      return false;\n    };\nexports.some = some;\n\n\n/**\n * Call f for each element of an array. If all calls return true, every()\n * returns true. If any call returns false, every() returns false and\n * does not continue to check the remaining elements.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-every}\n *\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {boolean} false if any element fails the test.\n * @template T,S\n */\nconst every = goog.NATIVE_ARRAY_PROTOTYPES &&\n        (ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ?\n    function(arr, f, opt_obj) {\n      asserts.assert(arr.length != null);\n\n      return Array.prototype.every.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      const l = arr.length;  // must be fixed during loop... see docs\n      const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n      for (let i = 0; i < l; i++) {\n        if (i in arr2 && !f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr)) {\n          return false;\n        }\n      }\n      return true;\n    };\nexports.every = every;\n\n\n/**\n * Counts the array elements that fulfill the predicate, i.e. for which the\n * callback function returns true. Skips holes in the array.\n *\n * @param {!IArrayLike<T>|string} arr Array or array like object\n *     over which to iterate.\n * @param {function(this: S, T, number, ?): boolean} f The function to call for\n *     every element. Takes 3 arguments (the element, the index and the array).\n * @param {S=} opt_obj The object to be used as the value of 'this' within f.\n * @return {number} The number of the matching elements.\n * @template T,S\n */\nfunction count(arr, f, opt_obj) {\n  let count = 0;\n  forEach(arr, function(element, index, arr) {\n    if (f.call(/** @type {?} */ (opt_obj), element, index, arr)) {\n      ++count;\n    }\n  }, opt_obj);\n  return count;\n}\nexports.count = count;\n\n\n/**\n * Search an array for the first element that satisfies a given condition and\n * return that element.\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {T|null} The first array element that passes the test, or null if no\n *     element is found.\n * @template T,S\n */\nfunction find(arr, f, opt_obj) {\n  const i = findIndex(arr, f, opt_obj);\n  return i < 0 ? null : typeof arr === 'string' ? arr.charAt(i) : arr[i];\n}\nexports.find = find;\n\n\n/**\n * Search an array for the first element that satisfies a given condition and\n * return its index.\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {number} The index of the first array element that passes the test,\n *     or -1 if no element is found.\n * @template T,S\n */\nfunction findIndex(arr, f, opt_obj) {\n  const l = arr.length;  // must be fixed during loop... see docs\n  const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n  for (let i = 0; i < l; i++) {\n    if (i in arr2 && f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\nexports.findIndex = findIndex;\n\n\n/**\n * Search an array (in reverse order) for the last element that satisfies a\n * given condition and return that element.\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {T|null} The last array element that passes the test, or null if no\n *     element is found.\n * @template T,S\n */\nfunction findRight(arr, f, opt_obj) {\n  const i = findIndexRight(arr, f, opt_obj);\n  return i < 0 ? null : typeof arr === 'string' ? arr.charAt(i) : arr[i];\n}\nexports.findRight = findRight;\n\n\n/**\n * Search an array (in reverse order) for the last element that satisfies a\n * given condition and return its index.\n * @param {IArrayLike<T>|string} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {number} The index of the last array element that passes the test,\n *     or -1 if no element is found.\n * @template T,S\n */\nfunction findIndexRight(arr, f, opt_obj) {\n  const l = arr.length;  // must be fixed during loop... see docs\n  const arr2 = (typeof arr === 'string') ? arr.split('') : arr;\n  for (let i = l - 1; i >= 0; i--) {\n    if (i in arr2 && f.call(/** @type {?} */ (opt_obj), arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\nexports.findIndexRight = findIndexRight;\n\n\n/**\n * Whether the array contains the given object.\n * @param {IArrayLike<?>|string} arr The array to test for the presence of the\n *     element.\n * @param {*} obj The object for which to test.\n * @return {boolean} true if obj is present.\n */\nfunction contains(arr, obj) {\n  return indexOf(arr, obj) >= 0;\n}\nexports.contains = contains;\n\n\n/**\n * Whether the array is empty.\n * @param {IArrayLike<?>|string} arr The array to test.\n * @return {boolean} true if empty.\n */\nfunction isEmpty(arr) {\n  return arr.length == 0;\n}\nexports.isEmpty = isEmpty;\n\n\n/**\n * Clears the array.\n * @param {IArrayLike<?>} arr Array or array like object to clear.\n */\nfunction clear(arr) {\n  // For non real arrays we don't have the magic length so we delete the\n  // indices.\n  if (!Array.isArray(arr)) {\n    for (let i = arr.length - 1; i >= 0; i--) {\n      delete arr[i];\n    }\n  }\n  arr.length = 0;\n}\nexports.clear = clear;\n\n\n/**\n * Pushes an item into an array, if it's not already in the array.\n * @param {Array<T>} arr Array into which to insert the item.\n * @param {T} obj Value to add.\n * @template T\n */\nfunction insert(arr, obj) {\n  if (!contains(arr, obj)) {\n    arr.push(obj);\n  }\n}\nexports.insert = insert;\n\n\n/**\n * Inserts an object at the given index of the array.\n * @param {IArrayLike<?>} arr The array to modify.\n * @param {*} obj The object to insert.\n * @param {number=} opt_i The index at which to insert the object. If omitted,\n *      treated as 0. A negative index is counted from the end of the array.\n */\nfunction insertAt(arr, obj, opt_i) {\n  splice(arr, opt_i, 0, obj);\n}\nexports.insertAt = insertAt;\n\n\n/**\n * Inserts at the given index of the array, all elements of another array.\n * @param {IArrayLike<?>} arr The array to modify.\n * @param {IArrayLike<?>} elementsToAdd The array of elements to add.\n * @param {number=} opt_i The index at which to insert the object. If omitted,\n *      treated as 0. A negative index is counted from the end of the array.\n */\nfunction insertArrayAt(arr, elementsToAdd, opt_i) {\n  goog.partial(splice, arr, opt_i, 0).apply(null, elementsToAdd);\n}\nexports.insertArrayAt = insertArrayAt;\n\n\n/**\n * Inserts an object into an array before a specified object.\n * @param {Array<T>} arr The array to modify.\n * @param {T} obj The object to insert.\n * @param {T=} opt_obj2 The object before which obj should be inserted. If obj2\n *     is omitted or not found, obj is inserted at the end of the array.\n * @template T\n */\nfunction insertBefore(arr, obj, opt_obj2) {\n  let i;\n  if (arguments.length == 2 || (i = indexOf(arr, opt_obj2)) < 0) {\n    arr.push(obj);\n  } else {\n    insertAt(arr, obj, i);\n  }\n}\nexports.insertBefore = insertBefore;\n\n\n/**\n * Removes the first occurrence of a particular value from an array.\n * @param {IArrayLike<T>} arr Array from which to remove\n *     value.\n * @param {T} obj Object to remove.\n * @return {boolean} True if an element was removed.\n * @template T\n */\nfunction remove(arr, obj) {\n  const i = indexOf(arr, obj);\n  let rv;\n  if ((rv = i >= 0)) {\n    removeAt(arr, i);\n  }\n  return rv;\n}\nexports.remove = remove;\n\n\n/**\n * Removes the last occurrence of a particular value from an array.\n * @param {!IArrayLike<T>} arr Array from which to remove value.\n * @param {T} obj Object to remove.\n * @return {boolean} True if an element was removed.\n * @template T\n */\nfunction removeLast(arr, obj) {\n  const i = lastIndexOf(arr, obj);\n  if (i >= 0) {\n    removeAt(arr, i);\n    return true;\n  }\n  return false;\n}\nexports.removeLast = removeLast;\n\n\n/**\n * Removes from an array the element at index i\n * @param {IArrayLike<?>} arr Array or array like object from which to\n *     remove value.\n * @param {number} i The index to remove.\n * @return {boolean} True if an element was removed.\n */\nfunction removeAt(arr, i) {\n  asserts.assert(arr.length != null);\n\n  // use generic form of splice\n  // splice returns the removed items and if successful the length of that\n  // will be 1\n  return Array.prototype.splice.call(arr, i, 1).length == 1;\n}\nexports.removeAt = removeAt;\n\n\n/**\n * Removes the first value that satisfies the given condition.\n * @param {IArrayLike<T>} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {boolean} True if an element was removed.\n * @template T,S\n */\nfunction removeIf(arr, f, opt_obj) {\n  const i = findIndex(arr, f, opt_obj);\n  if (i >= 0) {\n    removeAt(arr, i);\n    return true;\n  }\n  return false;\n}\nexports.removeIf = removeIf;\n\n\n/**\n * Removes all values that satisfy the given condition.\n * @param {IArrayLike<T>} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {number} The number of items removed\n * @template T,S\n */\nfunction removeAllIf(arr, f, opt_obj) {\n  let removedCount = 0;\n  forEachRight(arr, function(val, index) {\n    if (f.call(/** @type {?} */ (opt_obj), val, index, arr)) {\n      if (removeAt(arr, index)) {\n        removedCount++;\n      }\n    }\n  });\n  return removedCount;\n}\nexports.removeAllIf = removeAllIf;\n\n\n/**\n * Returns a new array that is the result of joining the arguments.  If arrays\n * are passed then their items are added, however, if non-arrays are passed they\n * will be added to the return array as is.\n *\n * Note that ArrayLike objects will be added as is, rather than having their\n * items added.\n *\n * concat([1, 2], [3, 4]) -> [1, 2, 3, 4]\n * concat(0, [1, 2]) -> [0, 1, 2]\n * concat([1, 2], null) -> [1, 2, null]\n *\n * There is bug in all current versions of IE (6, 7 and 8) where arrays created\n * in an iframe become corrupted soon (not immediately) after the iframe is\n * destroyed. This is common if loading data via goog.net.IframeIo, for example.\n * This corruption only affects the concat method which will start throwing\n * Catastrophic Errors (#-2147418113).\n *\n * See http://endoflow.com/scratch/corrupted-arrays.html for a test case.\n *\n * Internally goog.array should use this, so that all methods will continue to\n * work on these broken array objects.\n *\n * @param {...*} var_args Items to concatenate.  Arrays will have each item\n *     added, while primitives and objects will be added as is.\n * @return {!Array<?>} The new resultant array.\n */\nfunction concat(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n}\nexports.concat = concat;\n\n\n/**\n * Returns a new array that contains the contents of all the arrays passed.\n * @param {...!Array<T>} var_args\n * @return {!Array<T>}\n * @template T\n */\nfunction join(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n}\nexports.join = join;\n\n\n/**\n * Converts an object to an array.\n * @param {IArrayLike<T>|string} object  The object to convert to an\n *     array.\n * @return {!Array<T>} The object converted into an array. If object has a\n *     length property, every property indexed with a non-negative number\n *     less than length will be included in the result. If object does not\n *     have a length property, an empty array will be returned.\n * @template T\n */\nfunction toArray(object) {\n  const length = object.length;\n\n  // If length is not a number the following is false. This case is kept for\n  // backwards compatibility since there are callers that pass objects that are\n  // not array like.\n  if (length > 0) {\n    const rv = new Array(length);\n    for (let i = 0; i < length; i++) {\n      rv[i] = object[i];\n    }\n    return rv;\n  }\n  return [];\n}\nexports.toArray = toArray;\n\n\n/**\n * Does a shallow copy of an array.\n * @param {IArrayLike<T>|string} arr  Array or array-like object to\n *     clone.\n * @return {!Array<T>} Clone of the input array.\n * @template T\n */\nconst clone = toArray;\nexports.clone = clone;\n\n\n/**\n * Extends an array with another array, element, or \"array like\" object.\n * This function operates 'in-place', it does not create a new Array.\n *\n * Example:\n * var a = [];\n * extend(a, [0, 1]);\n * a; // [0, 1]\n * extend(a, 2);\n * a; // [0, 1, 2]\n *\n * @param {Array<VALUE>} arr1  The array to modify.\n * @param {...(IArrayLike<VALUE>|VALUE)} var_args The elements or arrays of\n *     elements to add to arr1.\n * @template VALUE\n */\nfunction extend(arr1, var_args) {\n  for (let i = 1; i < arguments.length; i++) {\n    const arr2 = arguments[i];\n    if (goog.isArrayLike(arr2)) {\n      const len1 = arr1.length || 0;\n      const len2 = arr2.length || 0;\n      arr1.length = len1 + len2;\n      for (let j = 0; j < len2; j++) {\n        arr1[len1 + j] = arr2[j];\n      }\n    } else {\n      arr1.push(arr2);\n    }\n  }\n}\nexports.extend = extend;\n\n\n/**\n * Adds or removes elements from an array. This is a generic version of Array\n * splice. This means that it might work on other objects similar to arrays,\n * such as the arguments object.\n *\n * @param {IArrayLike<T>} arr The array to modify.\n * @param {number|undefined} index The index at which to start changing the\n *     array. If not defined, treated as 0.\n * @param {number} howMany How many elements to remove (0 means no removal. A\n *     value below 0 is treated as zero and so is any other non number. Numbers\n *     are floored).\n * @param {...T} var_args Optional, additional elements to insert into the\n *     array.\n * @return {!Array<T>} the removed elements.\n * @template T\n */\nfunction splice(arr, index, howMany, var_args) {\n  asserts.assert(arr.length != null);\n\n  return Array.prototype.splice.apply(arr, slice(arguments, 1));\n}\nexports.splice = splice;\n\n\n/**\n * Returns a new array from a segment of an array. This is a generic version of\n * Array slice. This means that it might work on other objects similar to\n * arrays, such as the arguments object.\n *\n * @param {IArrayLike<T>|string} arr The array from\n * which to copy a segment.\n * @param {number} start The index of the first element to copy.\n * @param {number=} opt_end The index after the last element to copy.\n * @return {!Array<T>} A new array containing the specified segment of the\n *     original array.\n * @template T\n */\nfunction slice(arr, start, opt_end) {\n  asserts.assert(arr.length != null);\n\n  // passing 1 arg to slice is not the same as passing 2 where the second is\n  // null or undefined (in that case the second argument is treated as 0).\n  // we could use slice on the arguments object and then use apply instead of\n  // testing the length\n  if (arguments.length <= 2) {\n    return Array.prototype.slice.call(arr, start);\n  } else {\n    return Array.prototype.slice.call(arr, start, opt_end);\n  }\n}\nexports.slice = slice;\n\n\n/**\n * Removes all duplicates from an array (retaining only the first\n * occurrence of each array element).  This function modifies the\n * array in place and doesn't change the order of the non-duplicate items.\n *\n * For objects, duplicates are identified as having the same unique ID as\n * defined by {@link goog.getUid}.\n *\n * Alternatively you can specify a custom hash function that returns a unique\n * value for each item in the array it should consider unique.\n *\n * Runtime: N,\n * Worstcase space: 2N (no dupes)\n *\n * @param {IArrayLike<T>} arr The array from which to remove\n *     duplicates.\n * @param {Array=} opt_rv An optional array in which to return the results,\n *     instead of performing the removal inplace.  If specified, the original\n *     array will remain unchanged.\n * @param {function(T):string=} opt_hashFn An optional function to use to\n *     apply to every item in the array. This function should return a unique\n *     value for each item in the array it should consider unique.\n * @template T\n */\nfunction removeDuplicates(arr, opt_rv, opt_hashFn) {\n  const returnArray = opt_rv || arr;\n  const defaultHashFn = function(item) {\n    // Prefix each type with a single character representing the type to\n    // prevent conflicting keys (e.g. true and 'true').\n    return goog.isObject(item) ? 'o' + goog.getUid(item) :\n                                 (typeof item).charAt(0) + item;\n  };\n  const hashFn = opt_hashFn || defaultHashFn;\n\n  let cursorInsert = 0;\n  let cursorRead = 0;\n  const seen = {};\n\n  while (cursorRead < arr.length) {\n    const current = arr[cursorRead++];\n    const key = hashFn(current);\n    if (!Object.prototype.hasOwnProperty.call(seen, key)) {\n      seen[key] = true;\n      returnArray[cursorInsert++] = current;\n    }\n  }\n  returnArray.length = cursorInsert;\n}\nexports.removeDuplicates = removeDuplicates;\n\n\n/**\n * Searches the specified array for the specified target using the binary\n * search algorithm.  If no opt_compareFn is specified, elements are compared\n * using <code>defaultCompare</code>, which compares the elements\n * using the built in < and > operators.  This will produce the expected\n * behavior for homogeneous arrays of String(s) and Number(s). The array\n * specified <b>must</b> be sorted in ascending order (as defined by the\n * comparison function).  If the array is not sorted, results are undefined.\n * If the array contains multiple instances of the specified target value, the\n * left-most instance will be found.\n *\n * Runtime: O(log n)\n *\n * @param {IArrayLike<VALUE>} arr The array to be searched.\n * @param {TARGET} target The sought value.\n * @param {function(TARGET, VALUE): number=} opt_compareFn Optional comparison\n *     function by which the array is ordered. Should take 2 arguments to\n *     compare, the target value and an element from your array, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {number} Lowest index of the target value if found, otherwise\n *     (-(insertion point) - 1). The insertion point is where the value should\n *     be inserted into arr to preserve the sorted property.  Return value >= 0\n *     iff target is found.\n * @template TARGET, VALUE\n */\nfunction binarySearch(arr, target, opt_compareFn) {\n  return binarySearch_(\n      arr, opt_compareFn || defaultCompare, false /* isEvaluator */, target);\n}\nexports.binarySearch = binarySearch;\n\n\n/**\n * Selects an index in the specified array using the binary search algorithm.\n * The evaluator receives an element and determines whether the desired index\n * is before, at, or after it.  The evaluator must be consistent (formally,\n * map(map(arr, evaluator, opt_obj), goog.math.sign)\n * must be monotonically non-increasing).\n *\n * Runtime: O(log n)\n *\n * @param {IArrayLike<VALUE>} arr The array to be searched.\n * @param {function(this:THIS, VALUE, number, ?): number} evaluator\n *     Evaluator function that receives 3 arguments (the element, the index and\n *     the array). Should return a negative number, zero, or a positive number\n *     depending on whether the desired index is before, at, or after the\n *     element passed to it.\n * @param {THIS=} opt_obj The object to be used as the value of 'this'\n *     within evaluator.\n * @return {number} Index of the leftmost element matched by the evaluator, if\n *     such exists; otherwise (-(insertion point) - 1). The insertion point is\n *     the index of the first element for which the evaluator returns negative,\n *     or arr.length if no such element exists. The return value is non-negative\n *     iff a match is found.\n * @template THIS, VALUE\n */\nfunction binarySelect(arr, evaluator, opt_obj) {\n  return binarySearch_(\n      arr, evaluator, true /* isEvaluator */, undefined /* opt_target */,\n      opt_obj);\n}\nexports.binarySelect = binarySelect;\n\n\n/**\n * Implementation of a binary search algorithm which knows how to use both\n * comparison functions and evaluators. If an evaluator is provided, will call\n * the evaluator with the given optional data object, conforming to the\n * interface defined in binarySelect. Otherwise, if a comparison function is\n * provided, will call the comparison function against the given data object.\n *\n * This implementation purposefully does not use goog.bind or goog.partial for\n * performance reasons.\n *\n * Runtime: O(log n)\n *\n * @param {IArrayLike<?>} arr The array to be searched.\n * @param {function(?, ?, ?): number | function(?, ?): number} compareFn\n *     Either an evaluator or a comparison function, as defined by binarySearch\n *     and binarySelect above.\n * @param {boolean} isEvaluator Whether the function is an evaluator or a\n *     comparison function.\n * @param {?=} opt_target If the function is a comparison function, then\n *     this is the target to binary search for.\n * @param {Object=} opt_selfObj If the function is an evaluator, this is an\n *     optional this object for the evaluator.\n * @return {number} Lowest index of the target value if found, otherwise\n *     (-(insertion point) - 1). The insertion point is where the value should\n *     be inserted into arr to preserve the sorted property.  Return value >= 0\n *     iff target is found.\n * @private\n */\nfunction binarySearch_(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {\n  let left = 0;            // inclusive\n  let right = arr.length;  // exclusive\n  let found;\n  while (left < right) {\n    const middle = left + ((right - left) >>> 1);\n    let compareResult;\n    if (isEvaluator) {\n      compareResult = compareFn.call(opt_selfObj, arr[middle], middle, arr);\n    } else {\n      // NOTE(dimvar): To avoid this cast, we'd have to use function overloading\n      // for the type of binarySearch_, which the type system can't express yet.\n      compareResult = /** @type {function(?, ?): number} */ (compareFn)(\n          opt_target, arr[middle]);\n    }\n    if (compareResult > 0) {\n      left = middle + 1;\n    } else {\n      right = middle;\n      // We are looking for the lowest index so we can't return immediately.\n      found = !compareResult;\n    }\n  }\n  // left is the index if found, or the insertion point otherwise.\n  // Avoiding bitwise not operator, as that causes a loss in precision for array\n  // indexes outside the bounds of a 32-bit signed integer.  Array indexes have\n  // a maximum value of 2^32-2 https://tc39.es/ecma262/#array-index\n  return found ? left : -left - 1;\n}\n\n\n/**\n * Sorts the specified array into ascending order.  If no opt_compareFn is\n * specified, elements are compared using\n * <code>defaultCompare</code>, which compares the elements using\n * the built in < and > operators.  This will produce the expected behavior\n * for homogeneous arrays of String(s) and Number(s), unlike the native sort,\n * but will give unpredictable results for heterogeneous lists of strings and\n * numbers with different numbers of digits.\n *\n * This sort is not guaranteed to be stable.\n *\n * Runtime: Same as `Array.prototype.sort`\n *\n * @param {Array<T>} arr The array to be sorted.\n * @param {?function(T,T):number=} opt_compareFn Optional comparison\n *     function by which the\n *     array is to be ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @template T\n */\nfunction sort(arr, opt_compareFn) {\n  // TODO(arv): Update type annotation since null is not accepted.\n  arr.sort(opt_compareFn || defaultCompare);\n}\nexports.sort = sort;\n\n\n/**\n * Sorts the specified array into ascending order in a stable way.  If no\n * opt_compareFn is specified, elements are compared using\n * <code>defaultCompare</code>, which compares the elements using\n * the built in < and > operators.  This will produce the expected behavior\n * for homogeneous arrays of String(s) and Number(s).\n *\n * Runtime: Same as `Array.prototype.sort`, plus an additional\n * O(n) overhead of copying the array twice.\n *\n * @param {Array<T>} arr The array to be sorted.\n * @param {?function(T, T): number=} opt_compareFn Optional comparison function\n *     by which the array is to be ordered. Should take 2 arguments to compare,\n *     and return a negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @template T\n */\nfunction stableSort(arr, opt_compareFn) {\n  const compArr = new Array(arr.length);\n  for (let i = 0; i < arr.length; i++) {\n    compArr[i] = {index: i, value: arr[i]};\n  }\n  const valueCompareFn = opt_compareFn || defaultCompare;\n  function stableCompareFn(obj1, obj2) {\n    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n  }\n  sort(compArr, stableCompareFn);\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = compArr[i].value;\n  }\n}\nexports.stableSort = stableSort;\n\n\n/**\n * Sort the specified array into ascending order based on item keys\n * returned by the specified key function.\n * If no opt_compareFn is specified, the keys are compared in ascending order\n * using <code>defaultCompare</code>.\n *\n * Runtime: O(S(f(n)), where S is runtime of <code>sort</code>\n * and f(n) is runtime of the key function.\n *\n * @param {Array<T>} arr The array to be sorted.\n * @param {function(T): K} keyFn Function taking array element and returning\n *     a key used for sorting this element.\n * @param {?function(K, K): number=} opt_compareFn Optional comparison function\n *     by which the keys are to be ordered. Should take 2 arguments to compare,\n *     and return a negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @template T,K\n */\nfunction sortByKey(arr, keyFn, opt_compareFn) {\n  const keyCompareFn = opt_compareFn || defaultCompare;\n  sort(arr, function(a, b) {\n    return keyCompareFn(keyFn(a), keyFn(b));\n  });\n}\nexports.sortByKey = sortByKey;\n\n\n/**\n * Sorts an array of objects by the specified object key and compare\n * function. If no compare function is provided, the key values are\n * compared in ascending order using <code>defaultCompare</code>.\n * This won't work for keys that get renamed by the compiler. So use\n * {'foo': 1, 'bar': 2} rather than {foo: 1, bar: 2}.\n * @param {Array<Object>} arr An array of objects to sort.\n * @param {string} key The object key to sort by.\n * @param {Function=} opt_compareFn The function to use to compare key\n *     values.\n */\nfunction sortObjectsByKey(arr, key, opt_compareFn) {\n  sortByKey(arr, function(obj) {\n    return obj[key];\n  }, opt_compareFn);\n}\nexports.sortObjectsByKey = sortObjectsByKey;\n\n\n/**\n * Tells if the array is sorted.\n * @param {!IArrayLike<T>} arr The array.\n * @param {?function(T,T):number=} opt_compareFn Function to compare the\n *     array elements.\n *     Should take 2 arguments to compare, and return a negative number, zero,\n *     or a positive number depending on whether the first argument is less\n *     than, equal to, or greater than the second.\n * @param {boolean=} opt_strict If true no equal elements are allowed.\n * @return {boolean} Whether the array is sorted.\n * @template T\n */\nfunction isSorted(arr, opt_compareFn, opt_strict) {\n  const compare = opt_compareFn || defaultCompare;\n  for (let i = 1; i < arr.length; i++) {\n    const compareResult = compare(arr[i - 1], arr[i]);\n    if (compareResult > 0 || compareResult == 0 && opt_strict) {\n      return false;\n    }\n  }\n  return true;\n}\nexports.isSorted = isSorted;\n\n\n/**\n * Compares two arrays for equality. Two arrays are considered equal if they\n * have the same length and their corresponding elements are equal according to\n * the comparison function.\n *\n * @param {IArrayLike<A>} arr1 The first array to compare.\n * @param {IArrayLike<B>} arr2 The second array to compare.\n * @param {?function(A,B):boolean=} opt_equalsFn Optional comparison function.\n *     Should take 2 arguments to compare, and return true if the arguments\n *     are equal. Defaults to {@link goog.array.defaultCompareEquality} which\n *     compares the elements using the built-in '===' operator.\n * @return {boolean} Whether the two arrays are equal.\n * @template A\n * @template B\n */\nfunction equals(arr1, arr2, opt_equalsFn) {\n  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) ||\n      arr1.length != arr2.length) {\n    return false;\n  }\n  const l = arr1.length;\n  const equalsFn = opt_equalsFn || defaultCompareEquality;\n  for (let i = 0; i < l; i++) {\n    if (!equalsFn(arr1[i], arr2[i])) {\n      return false;\n    }\n  }\n  return true;\n}\nexports.equals = equals;\n\n\n/**\n * 3-way array compare function.\n * @param {!IArrayLike<VALUE>} arr1 The first array to\n *     compare.\n * @param {!IArrayLike<VALUE>} arr2 The second array to\n *     compare.\n * @param {function(VALUE, VALUE): number=} opt_compareFn Optional comparison\n *     function by which the array is to be ordered. Should take 2 arguments to\n *     compare, and return a negative number, zero, or a positive number\n *     depending on whether the first argument is less than, equal to, or\n *     greater than the second.\n * @return {number} Negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @template VALUE\n */\nfunction compare3(arr1, arr2, opt_compareFn) {\n  const compare = opt_compareFn || defaultCompare;\n  const l = Math.min(arr1.length, arr2.length);\n  for (let i = 0; i < l; i++) {\n    const result = compare(arr1[i], arr2[i]);\n    if (result != 0) {\n      return result;\n    }\n  }\n  return defaultCompare(arr1.length, arr2.length);\n}\nexports.compare3 = compare3;\n\n\n/**\n * Compares its two arguments for order, using the built in < and >\n * operators.\n * @param {VALUE} a The first object to be compared.\n * @param {VALUE} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second,\n *     respectively.\n * @template VALUE\n */\nfunction defaultCompare(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\nexports.defaultCompare = defaultCompare;\n\n\n/**\n * Compares its two arguments for inverse order, using the built in < and >\n * operators.\n * @param {VALUE} a The first object to be compared.\n * @param {VALUE} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is greater than, equal to, or less than the second,\n *     respectively.\n * @template VALUE\n */\nfunction inverseDefaultCompare(a, b) {\n  return -defaultCompare(a, b);\n}\nexports.inverseDefaultCompare = inverseDefaultCompare;\n\n\n/**\n * Compares its two arguments for equality, using the built in === operator.\n * @param {*} a The first object to compare.\n * @param {*} b The second object to compare.\n * @return {boolean} True if the two arguments are equal, false otherwise.\n */\nfunction defaultCompareEquality(a, b) {\n  return a === b;\n}\nexports.defaultCompareEquality = defaultCompareEquality;\n\n\n/**\n * Inserts a value into a sorted array. The array is not modified if the\n * value is already present.\n * @param {IArrayLike<VALUE>} array The array to modify.\n * @param {VALUE} value The object to insert.\n * @param {function(VALUE, VALUE): number=} opt_compareFn Optional comparison\n *     function by which the array is ordered. Should take 2 arguments to\n *     compare, and return a negative number, zero, or a positive number\n *     depending on whether the first argument is less than, equal to, or\n *     greater than the second.\n * @return {boolean} True if an element was inserted.\n * @template VALUE\n */\nfunction binaryInsert(array, value, opt_compareFn) {\n  const index = binarySearch(array, value, opt_compareFn);\n  if (index < 0) {\n    insertAt(array, value, -(index + 1));\n    return true;\n  }\n  return false;\n}\nexports.binaryInsert = binaryInsert;\n\n\n/**\n * Removes a value from a sorted array.\n * @param {!IArrayLike<VALUE>} array The array to modify.\n * @param {VALUE} value The object to remove.\n * @param {function(VALUE, VALUE): number=} opt_compareFn Optional comparison\n *     function by which the array is ordered. Should take 2 arguments to\n *     compare, and return a negative number, zero, or a positive number\n *     depending on whether the first argument is less than, equal to, or\n *     greater than the second.\n * @return {boolean} True if an element was removed.\n * @template VALUE\n */\nfunction binaryRemove(array, value, opt_compareFn) {\n  const index = binarySearch(array, value, opt_compareFn);\n  return (index >= 0) ? removeAt(array, index) : false;\n}\nexports.binaryRemove = binaryRemove;\n\n\n/**\n * Splits an array into disjoint buckets according to a splitting function.\n * @param {IArrayLike<T>} array The array.\n * @param {function(this:S, T, number, !IArrayLike<T>):?} sorter Function to\n *     call for every element.  This takes 3 arguments (the element, the index\n *     and the array) and must return a valid object key (a string, number,\n *     etc), or undefined, if that object should not be placed in a bucket.\n * @param {S=} opt_obj The object to be used as the value of 'this' within\n *     sorter.\n * @return {!Object<!Array<T>>} An object, with keys being all of the unique\n *     return values of sorter, and values being arrays containing the items for\n *     which the splitter returned that key.\n * @template T,S\n */\nfunction bucket(array, sorter, opt_obj) {\n  const buckets = {};\n\n  for (let i = 0; i < array.length; i++) {\n    const value = array[i];\n    const key = sorter.call(/** @type {?} */ (opt_obj), value, i, array);\n    if (key !== undefined) {\n      // Push the value to the right bucket, creating it if necessary.\n      const bucket = buckets[key] || (buckets[key] = []);\n      bucket.push(value);\n    }\n  }\n\n  return buckets;\n}\nexports.bucket = bucket;\n\n\n/**\n * Splits an array into disjoint buckets according to a splitting function.\n * @param {!IArrayLike<V>} array The array.\n * @param {function(V, number, !IArrayLike<V>):(K|undefined)} sorter Function to\n *     call for every element.  This takes 3 arguments (the element, the index,\n *     and the array) and must return a value to use as a key, or undefined, if\n *     that object should not be placed in a bucket.\n * @return {!Map<K, !Array<V>>} A map, with keys being all of the unique\n *     return values of sorter, and values being arrays containing the items for\n *     which the splitter returned that key.\n * @template K,V\n */\nfunction bucketToMap(array, sorter) {\n  const /** !Map<K, !Array<V>> */ buckets = new Map();\n\n  for (let i = 0; i < array.length; i++) {\n    const value = array[i];\n    const key = sorter(value, i, array);\n    if (key !== undefined) {\n      // Push the value to the right bucket, creating it if necessary.\n      let bucket = buckets.get(key);\n      if (!bucket) {\n        bucket = [];\n        buckets.set(key, bucket);\n      }\n      bucket.push(value);\n    }\n  }\n\n  return buckets;\n}\nexports.bucketToMap = bucketToMap;\n\n\n/**\n * Creates a new object built from the provided array and the key-generation\n * function.\n * @param {IArrayLike<T>} arr Array or array like object over\n *     which to iterate whose elements will be the values in the new object.\n * @param {?function(this:S, T, number, ?) : string} keyFunc The function to\n *     call for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a string that will be used as the\n *     key for the element in the new object. If the function returns the same\n *     key for more than one element, the value for that key is\n *     implementation-defined.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within keyFunc.\n * @return {!Object<T>} The new object.\n * @template T,S\n */\nfunction toObject(arr, keyFunc, opt_obj) {\n  const ret = {};\n  forEach(arr, function(element, index) {\n    ret[keyFunc.call(/** @type {?} */ (opt_obj), element, index, arr)] =\n        element;\n  });\n  return ret;\n}\nexports.toObject = toObject;\n\n\n/**\n * Creates a new ES6 Map built from the provided array and the key-generation\n * function.\n * @param {!IArrayLike<V>} arr Array or array like object over which to iterate\n *     whose elements will be the values in the new object.\n * @param {?function(V, number, ?) : K} keyFunc The function to call for every\n *     element. This function takes 3 arguments (the element, the index, and the\n *     array) and should return a value that will be used as the key for the\n *     element in the new object. If the function returns the same key for more\n *     than one element, the value for that key is implementation-defined.\n * @return {!Map<K, V>} The new map.\n * @template K,V\n */\nfunction toMap(arr, keyFunc) {\n  const /** !Map<K, V> */ map = new Map();\n\n  for (let i = 0; i < arr.length; i++) {\n    const element = arr[i];\n    map.set(keyFunc(element, i, arr), element);\n  }\n\n  return map;\n}\nexports.toMap = toMap;\n\n\n/**\n * Creates a range of numbers in an arithmetic progression.\n *\n * Range takes 1, 2, or 3 arguments:\n * <pre>\n * range(5) is the same as range(0, 5, 1) and produces [0, 1, 2, 3, 4]\n * range(2, 5) is the same as range(2, 5, 1) and produces [2, 3, 4]\n * range(-2, -5, -1) produces [-2, -3, -4]\n * range(-2, -5, 1) produces [], since stepping by 1 wouldn't ever reach -5.\n * </pre>\n *\n * @param {number} startOrEnd The starting value of the range if an end argument\n *     is provided. Otherwise, the start value is 0, and this is the end value.\n * @param {number=} opt_end The optional end value of the range.\n * @param {number=} opt_step The step size between range values. Defaults to 1\n *     if opt_step is undefined or 0.\n * @return {!Array<number>} An array of numbers for the requested range. May be\n *     an empty array if adding the step would not converge toward the end\n *     value.\n */\nfunction range(startOrEnd, opt_end, opt_step) {\n  const array = [];\n  let start = 0;\n  let end = startOrEnd;\n  const step = opt_step || 1;\n  if (opt_end !== undefined) {\n    start = startOrEnd;\n    end = opt_end;\n  }\n\n  if (step * (end - start) < 0) {\n    // Sign mismatch: start + step will never reach the end value.\n    return [];\n  }\n\n  if (step > 0) {\n    for (let i = start; i < end; i += step) {\n      array.push(i);\n    }\n  } else {\n    for (let i = start; i > end; i += step) {\n      array.push(i);\n    }\n  }\n  return array;\n}\nexports.range = range;\n\n\n/**\n * Returns an array consisting of the given value repeated N times.\n *\n * @param {VALUE} value The value to repeat.\n * @param {number} n The repeat count.\n * @return {!Array<VALUE>} An array with the repeated value.\n * @template VALUE\n */\nfunction repeat(value, n) {\n  const array = [];\n  for (let i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\nexports.repeat = repeat;\n\n\n/**\n * Returns an array consisting of every argument with all arrays\n * expanded in-place recursively.\n *\n * @param {...*} var_args The values to flatten.\n * @return {!Array<?>} An array containing the flattened values.\n */\nfunction flatten(var_args) {\n  const CHUNK_SIZE = 8192;\n\n  const result = [];\n  for (let i = 0; i < arguments.length; i++) {\n    const element = arguments[i];\n    if (Array.isArray(element)) {\n      for (let c = 0; c < element.length; c += CHUNK_SIZE) {\n        const chunk = slice(element, c, c + CHUNK_SIZE);\n        const recurseResult = flatten.apply(null, chunk);\n        for (let r = 0; r < recurseResult.length; r++) {\n          result.push(recurseResult[r]);\n        }\n      }\n    } else {\n      result.push(element);\n    }\n  }\n  return result;\n}\nexports.flatten = flatten;\n\n\n/**\n * Rotates an array in-place. After calling this method, the element at\n * index i will be the element previously at index (i - n) %\n * array.length, for all values of i between 0 and array.length - 1,\n * inclusive.\n *\n * For example, suppose list comprises [t, a, n, k, s]. After invoking\n * rotate(array, 1) (or rotate(array, -4)), array will comprise [s, t, a, n, k].\n *\n * @param {!Array<T>} array The array to rotate.\n * @param {number} n The amount to rotate.\n * @return {!Array<T>} The array.\n * @template T\n */\nfunction rotate(array, n) {\n  asserts.assert(array.length != null);\n\n  if (array.length) {\n    n %= array.length;\n    if (n > 0) {\n      Array.prototype.unshift.apply(array, array.splice(-n, n));\n    } else if (n < 0) {\n      Array.prototype.push.apply(array, array.splice(0, -n));\n    }\n  }\n  return array;\n}\nexports.rotate = rotate;\n\n\n/**\n * Moves one item of an array to a new position keeping the order of the rest\n * of the items. Example use case: keeping a list of JavaScript objects\n * synchronized with the corresponding list of DOM elements after one of the\n * elements has been dragged to a new position.\n * @param {!IArrayLike<?>} arr The array to modify.\n * @param {number} fromIndex Index of the item to move between 0 and\n *     `arr.length - 1`.\n * @param {number} toIndex Target index between 0 and `arr.length - 1`.\n */\nfunction moveItem(arr, fromIndex, toIndex) {\n  asserts.assert(fromIndex >= 0 && fromIndex < arr.length);\n  asserts.assert(toIndex >= 0 && toIndex < arr.length);\n  // Remove 1 item at fromIndex.\n  const removedItems = Array.prototype.splice.call(arr, fromIndex, 1);\n  // Insert the removed item at toIndex.\n  Array.prototype.splice.call(arr, toIndex, 0, removedItems[0]);\n  // We don't use goog.array.insertAt and goog.array.removeAt, because they're\n  // significantly slower than splice.\n}\nexports.moveItem = moveItem;\n\n\n/**\n * Creates a new array for which the element at position i is an array of the\n * ith element of the provided arrays.  The returned array will only be as long\n * as the shortest array provided; additional values are ignored.  For example,\n * the result of zipping [1, 2] and [3, 4, 5] is [[1,3], [2, 4]].\n *\n * This is similar to the zip() function in Python.  See {@link\n * http://docs.python.org/library/functions.html#zip}\n *\n * @param {...!IArrayLike<?>} var_args Arrays to be combined.\n * @return {!Array<!Array<?>>} A new array of arrays created from\n *     provided arrays.\n */\nfunction zip(var_args) {\n  if (!arguments.length) {\n    return [];\n  }\n  const result = [];\n  let minLen = arguments[0].length;\n  for (let i = 1; i < arguments.length; i++) {\n    if (arguments[i].length < minLen) {\n      minLen = arguments[i].length;\n    }\n  }\n  for (let i = 0; i < minLen; i++) {\n    const value = [];\n    for (let j = 0; j < arguments.length; j++) {\n      value.push(arguments[j][i]);\n    }\n    result.push(value);\n  }\n  return result;\n}\nexports.zip = zip;\n\n\n/**\n * Shuffles the values in the specified array using the Fisher-Yates in-place\n * shuffle (also known as the Knuth Shuffle). By default, calls Math.random()\n * and so resets the state of that random number generator. Similarly, may reset\n * the state of any other specified random number generator.\n *\n * Runtime: O(n)\n *\n * @param {!Array<?>} arr The array to be shuffled.\n * @param {function():number=} opt_randFn Optional random function to use for\n *     shuffling.\n *     Takes no arguments, and returns a random number on the interval [0, 1).\n *     Defaults to Math.random() using JavaScript's built-in Math library.\n */\nfunction shuffle(arr, opt_randFn) {\n  const randFn = opt_randFn || Math.random;\n\n  for (let i = arr.length - 1; i > 0; i--) {\n    // Choose a random array index in [0, i] (inclusive with i).\n    const j = Math.floor(randFn() * (i + 1));\n\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n  }\n}\nexports.shuffle = shuffle;\n\n\n/**\n * Returns a new array of elements from arr, based on the indexes of elements\n * provided by index_arr. For example, the result of index copying\n * ['a', 'b', 'c'] with index_arr [1,0,0,2] is ['b', 'a', 'a', 'c'].\n *\n * @param {!IArrayLike<T>} arr The array to get a indexed copy from.\n * @param {!IArrayLike<number>} index_arr An array of indexes to get from arr.\n * @return {!Array<T>} A new array of elements from arr in index_arr order.\n * @template T\n */\nfunction copyByIndex(arr, index_arr) {\n  const result = [];\n  forEach(index_arr, function(index) {\n    result.push(arr[index]);\n  });\n  return result;\n}\nexports.copyByIndex = copyByIndex;\n\n\n/**\n * Maps each element of the input array into zero or more elements of the output\n * array.\n *\n * @param {!IArrayLike<VALUE>|string} arr Array or array like object\n *     over which to iterate.\n * @param {function(this:THIS, VALUE, number, ?): !Array<RESULT>} f The function\n *     to call for every element. This function takes 3 arguments (the element,\n *     the index and the array) and should return an array. The result will be\n *     used to extend a new array.\n * @param {THIS=} opt_obj The object to be used as the value of 'this' within f.\n * @return {!Array<RESULT>} a new array with the concatenation of all arrays\n *     returned from f.\n * @template THIS, VALUE, RESULT\n */\nfunction concatMap(arr, f, opt_obj) {\n  return concat.apply([], map(arr, f, opt_obj));\n}\nexports.concatMap = concatMap;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A base class for event objects.\n */\n\n\ngoog.provide('goog.events.Event');\n\n/**\n * goog.events.Event no longer depends on goog.Disposable. Keep requiring\n * goog.Disposable here to not break projects which assume this dependency.\n * @suppress {extraRequire}\n */\ngoog.require('goog.Disposable');\ngoog.require('goog.events.EventId');\n\n\n/**\n * A base class for event objects, so that they can support preventDefault and\n * stopPropagation.\n *\n * @param {string|!goog.events.EventId} type Event Type.\n * @param {Object=} opt_target Reference to the object that is the target of\n *     this event. It has to implement the `EventTarget` interface\n *     declared at {@link http://developer.mozilla.org/en/DOM/EventTarget}.\n * @constructor\n */\ngoog.events.Event = function(type, opt_target) {\n  'use strict';\n  /**\n   * Event type.\n   * @type {string}\n   */\n  this.type = type instanceof goog.events.EventId ? String(type) : type;\n\n  /**\n   * TODO(tbreisacher): The type should probably be\n   * EventTarget|goog.events.EventTarget.\n   *\n   * Target of the event.\n   * @type {Object|undefined}\n   */\n  this.target = opt_target;\n\n  /**\n   * Object that had the listener attached.\n   * @type {Object|undefined}\n   */\n  this.currentTarget = this.target;\n\n  /**\n   * Whether to cancel the event in internal capture/bubble processing for IE.\n   * @type {boolean}\n   * @private\n   */\n  this.propagationStopped_ = false;\n\n  /**\n   * Whether the default action has been prevented.\n   * This is a property to match the W3C specification at\n   * {@link http://www.w3.org/TR/DOM-Level-3-Events/\n   * #events-event-type-defaultPrevented}.\n   * Must be treated as read-only outside the class.\n   * @type {boolean}\n   */\n  this.defaultPrevented = false;\n};\n\n/**\n * @return {boolean} true iff internal propagation has been stopped.\n */\ngoog.events.Event.prototype.hasPropagationStopped = function() {\n  'use strict';\n  return this.propagationStopped_;\n};\n\n/**\n * Stops event propagation.\n * @return {void}\n */\ngoog.events.Event.prototype.stopPropagation = function() {\n  'use strict';\n  this.propagationStopped_ = true;\n};\n\n\n/**\n * Prevents the default action, for example a link redirecting to a url.\n * @return {void}\n */\ngoog.events.Event.prototype.preventDefault = function() {\n  'use strict';\n  this.defaultPrevented = true;\n};\n\n\n/**\n * Stops the propagation of the event. It is equivalent to\n * `e.stopPropagation()`, but can be used as the callback argument of\n * {@link goog.events.listen} without declaring another function.\n * @param {!goog.events.Event} e An event.\n * @return {void}\n */\ngoog.events.Event.stopPropagation = function(e) {\n  'use strict';\n  e.stopPropagation();\n};\n\n\n/**\n * Prevents the default action. It is equivalent to\n * `e.preventDefault()`, but can be used as the callback argument of\n * {@link goog.events.listen} without declaring another function.\n * @param {!goog.events.Event} e An event.\n * @return {void}\n */\ngoog.events.Event.preventDefault = function(e) {\n  'use strict';\n  e.preventDefault();\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Browser capability checks for the events package.\n */\n\ngoog.module('goog.events.BrowserFeature');\ngoog.module.declareLegacyNamespace();\n\n\n/**\n * Tricks Closure Compiler into believing that a function is pure.  The compiler\n * assumes that any `valueOf` function is pure, without analyzing its contents.\n *\n * @param {function(): T} fn\n * @return {T}\n * @template T\n */\nconst purify = (fn) => {\n  return ({valueOf: fn}).valueOf();\n};\n\n\n/**\n * Enum of browser capabilities.\n * @enum {boolean}\n */\nexports = {\n  /**\n   * Whether touch is enabled in the browser.\n   */\n  TOUCH_ENABLED:\n      ('ontouchstart' in goog.global ||\n       !!(goog.global['document'] && document.documentElement &&\n          'ontouchstart' in document.documentElement) ||\n       // IE10 uses non-standard touch events, so it has a different check.\n       !!(goog.global['navigator'] &&\n          (goog.global['navigator']['maxTouchPoints'] ||\n           goog.global['navigator']['msMaxTouchPoints']))),\n\n  /**\n   * Whether addEventListener supports W3C standard pointer events.\n   * http://www.w3.org/TR/pointerevents/\n   */\n  POINTER_EVENTS: ('PointerEvent' in goog.global),\n\n  /**\n   * Whether addEventListener supports MSPointer events (only used in IE10).\n   * http://msdn.microsoft.com/en-us/library/ie/hh772103(v=vs.85).aspx\n   * http://msdn.microsoft.com/library/hh673557(v=vs.85).aspx\n   */\n  MSPOINTER_EVENTS:\n      ('MSPointerEvent' in goog.global &&\n       !!(goog.global['navigator'] &&\n          goog.global['navigator']['msPointerEnabled'])),\n\n  /**\n   * Whether addEventListener supports {passive: true}.\n   * https://developers.google.com/web/updates/2016/06/passive-event-listeners\n   */\n  PASSIVE_EVENTS: purify(function() {\n    // If we're in a web worker or other custom environment, we can't tell.\n    if (!goog.global.addEventListener || !Object.defineProperty) {  // IE 8\n      return false;\n    }\n\n    var passive = false;\n    var options = Object.defineProperty({}, 'passive', {\n      get: function() {\n        passive = true;\n      }\n    });\n    try {\n      goog.global.addEventListener('test', goog.nullFunction, options);\n      goog.global.removeEventListener('test', goog.nullFunction, options);\n    } catch (e) {\n    }\n\n    return passive;\n  })\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview String functions called from Closure packages that couldn't\n * depend on each other. Outside Closure, use goog.string function which\n * delegate to these.\n */\n\n\ngoog.provide('goog.string.internal');\n\n\n/**\n * Fast prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix A string to look for at the start of `str`.\n * @return {boolean} True if `str` begins with `prefix`.\n * @see goog.string.startsWith\n */\ngoog.string.internal.startsWith = function(str, prefix) {\n  'use strict';\n  return str.lastIndexOf(prefix, 0) == 0;\n};\n\n\n/**\n * Fast suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix`.\n * @see goog.string.endsWith\n */\ngoog.string.internal.endsWith = function(str, suffix) {\n  'use strict';\n  const l = str.length - suffix.length;\n  return l >= 0 && str.indexOf(suffix, l) == l;\n};\n\n\n/**\n * Case-insensitive prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix  A string to look for at the end of `str`.\n * @return {boolean} True if `str` begins with `prefix` (ignoring\n *     case).\n * @see goog.string.caseInsensitiveStartsWith\n */\ngoog.string.internal.caseInsensitiveStartsWith = function(str, prefix) {\n  'use strict';\n  return goog.string.internal.caseInsensitiveCompare(\n             prefix, str.substr(0, prefix.length)) == 0;\n};\n\n\n/**\n * Case-insensitive suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix` (ignoring\n *     case).\n * @see goog.string.caseInsensitiveEndsWith\n */\ngoog.string.internal.caseInsensitiveEndsWith = function(str, suffix) {\n  'use strict';\n  return (\n      goog.string.internal.caseInsensitiveCompare(\n          suffix, str.substr(str.length - suffix.length, suffix.length)) == 0);\n};\n\n\n/**\n * Case-insensitive equality checker.\n * @param {string} str1 First string to check.\n * @param {string} str2 Second string to check.\n * @return {boolean} True if `str1` and `str2` are the same string,\n *     ignoring case.\n * @see goog.string.caseInsensitiveEquals\n */\ngoog.string.internal.caseInsensitiveEquals = function(str1, str2) {\n  'use strict';\n  return str1.toLowerCase() == str2.toLowerCase();\n};\n\n\n/**\n * Checks if a string is empty or contains only whitespaces.\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty or whitespace only.\n * @see goog.string.isEmptyOrWhitespace\n */\ngoog.string.internal.isEmptyOrWhitespace = function(str) {\n  'use strict';\n  // testing length == 0 first is actually slower in all browsers (about the\n  // same in Opera).\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return /^[\\s\\xa0]*$/.test(str);\n};\n\n\n/**\n * Trims white spaces to the left and right of a string.\n * @param {string} str The string to trim.\n * @return {string} A trimmed copy of `str`.\n */\ngoog.string.internal.trim =\n    (goog.TRUSTED_SITE && String.prototype.trim) ? function(str) {\n      'use strict';\n      return str.trim();\n    } : function(str) {\n      'use strict';\n      // Since IE doesn't include non-breaking-space (0xa0) in their \\s\n      // character class (as required by section 7.2 of the ECMAScript spec),\n      // we explicitly include it in the regexp to enforce consistent\n      // cross-browser behavior.\n      // NOTE: We don't use String#replace because it might have side effects\n      // causing this function to not compile to 0 bytes.\n      return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(str)[1];\n    };\n\n\n/**\n * A string comparator that ignores case.\n * -1 = str1 less than str2\n *  0 = str1 equals str2\n *  1 = str1 greater than str2\n *\n * @param {string} str1 The string to compare.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} The comparator result, as described above.\n * @see goog.string.caseInsensitiveCompare\n */\ngoog.string.internal.caseInsensitiveCompare = function(str1, str2) {\n  'use strict';\n  const test1 = String(str1).toLowerCase();\n  const test2 = String(str2).toLowerCase();\n\n  if (test1 < test2) {\n    return -1;\n  } else if (test1 == test2) {\n    return 0;\n  } else {\n    return 1;\n  }\n};\n\n\n/**\n * Converts \\n to <br>s or <br />s.\n * @param {string} str The string in which to convert newlines.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} A copy of `str` with converted newlines.\n * @see goog.string.newLineToBr\n */\ngoog.string.internal.newLineToBr = function(str, opt_xml) {\n  'use strict';\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? '<br />' : '<br>');\n};\n\n\n/**\n * Escapes double quote '\"' and single quote '\\'' characters in addition to\n * '&', '<', and '>' so that a string can be included in an HTML tag attribute\n * value within double or single quotes.\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars\n * @return {string} An escaped copy of `str`.\n * @see goog.string.htmlEscape\n */\ngoog.string.internal.htmlEscape = function(\n    str, opt_isLikelyToContainHtmlChars) {\n  'use strict';\n  if (opt_isLikelyToContainHtmlChars) {\n    str = str.replace(goog.string.internal.AMP_RE_, '&amp;')\n              .replace(goog.string.internal.LT_RE_, '&lt;')\n              .replace(goog.string.internal.GT_RE_, '&gt;')\n              .replace(goog.string.internal.QUOT_RE_, '&quot;')\n              .replace(goog.string.internal.SINGLE_QUOTE_RE_, '&#39;')\n              .replace(goog.string.internal.NULL_RE_, '&#0;');\n    return str;\n\n  } else {\n    // quick test helps in the case when there are no chars to replace, in\n    // worst case this makes barely a difference to the time taken\n    if (!goog.string.internal.ALL_RE_.test(str)) return str;\n\n    // str.indexOf is faster than regex.test in this case\n    if (str.indexOf('&') != -1) {\n      str = str.replace(goog.string.internal.AMP_RE_, '&amp;');\n    }\n    if (str.indexOf('<') != -1) {\n      str = str.replace(goog.string.internal.LT_RE_, '&lt;');\n    }\n    if (str.indexOf('>') != -1) {\n      str = str.replace(goog.string.internal.GT_RE_, '&gt;');\n    }\n    if (str.indexOf('\"') != -1) {\n      str = str.replace(goog.string.internal.QUOT_RE_, '&quot;');\n    }\n    if (str.indexOf('\\'') != -1) {\n      str = str.replace(goog.string.internal.SINGLE_QUOTE_RE_, '&#39;');\n    }\n    if (str.indexOf('\\x00') != -1) {\n      str = str.replace(goog.string.internal.NULL_RE_, '&#0;');\n    }\n    return str;\n  }\n};\n\n\n/**\n * Regular expression that matches an ampersand, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.AMP_RE_ = /&/g;\n\n\n/**\n * Regular expression that matches a less than sign, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.LT_RE_ = /</g;\n\n\n/**\n * Regular expression that matches a greater than sign, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.GT_RE_ = />/g;\n\n\n/**\n * Regular expression that matches a double quote, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.QUOT_RE_ = /\"/g;\n\n\n/**\n * Regular expression that matches a single quote, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.SINGLE_QUOTE_RE_ = /'/g;\n\n\n/**\n * Regular expression that matches null character, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.NULL_RE_ = /\\x00/g;\n\n\n/**\n * Regular expression that matches any character that needs to be escaped.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.ALL_RE_ = /[\\x00&<>\"']/;\n\n\n/**\n * Do escaping of whitespace to preserve spatial formatting. We use character\n * entity #160 to make it safer for xml.\n * @param {string} str The string in which to escape whitespace.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} An escaped copy of `str`.\n * @see goog.string.whitespaceEscape\n */\ngoog.string.internal.whitespaceEscape = function(str, opt_xml) {\n  'use strict';\n  // This doesn't use goog.string.preserveSpaces for backwards compatibility.\n  return goog.string.internal.newLineToBr(\n      str.replace(/  /g, ' &#160;'), opt_xml);\n};\n\n\n/**\n * Determines whether a string contains a substring.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n * @see goog.string.contains\n */\ngoog.string.internal.contains = function(str, subString) {\n  'use strict';\n  return str.indexOf(subString) != -1;\n};\n\n\n/**\n * Determines whether a string contains a substring, ignoring case.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n * @see goog.string.caseInsensitiveContains\n */\ngoog.string.internal.caseInsensitiveContains = function(str, subString) {\n  'use strict';\n  return goog.string.internal.contains(\n      str.toLowerCase(), subString.toLowerCase());\n};\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string|number} version1 Version of first item.\n * @param {string|number} version2 Version of second item.\n *\n * @return {number}  1 if `version1` is higher.\n *                   0 if arguments are equal.\n *                  -1 if `version2` is higher.\n * @see goog.string.compareVersions\n */\ngoog.string.internal.compareVersions = function(version1, version2) {\n  'use strict';\n  let order = 0;\n  // Trim leading and trailing whitespace and split the versions into\n  // subversions.\n  const v1Subs = goog.string.internal.trim(String(version1)).split('.');\n  const v2Subs = goog.string.internal.trim(String(version2)).split('.');\n  const subCount = Math.max(v1Subs.length, v2Subs.length);\n\n  // Iterate over the subversions, as long as they appear to be equivalent.\n  for (let subIdx = 0; order == 0 && subIdx < subCount; subIdx++) {\n    let v1Sub = v1Subs[subIdx] || '';\n    let v2Sub = v2Subs[subIdx] || '';\n\n    do {\n      // Split the subversions into pairs of numbers and qualifiers (like 'b').\n      // Two different RegExp objects are use to make it clear the code\n      // is side-effect free\n      const v1Comp = /(\\d*)(\\D*)(.*)/.exec(v1Sub) || ['', '', '', ''];\n      const v2Comp = /(\\d*)(\\D*)(.*)/.exec(v2Sub) || ['', '', '', ''];\n      // Break if there are no more matches.\n      if (v1Comp[0].length == 0 && v2Comp[0].length == 0) {\n        break;\n      }\n\n      // Parse the numeric part of the subversion. A missing number is\n      // equivalent to 0.\n      const v1CompNum = v1Comp[1].length == 0 ? 0 : parseInt(v1Comp[1], 10);\n      const v2CompNum = v2Comp[1].length == 0 ? 0 : parseInt(v2Comp[1], 10);\n\n      // Compare the subversion components. The number has the highest\n      // precedence. Next, if the numbers are equal, a subversion without any\n      // qualifier is always higher than a subversion with any qualifier. Next,\n      // the qualifiers are compared as strings.\n      order = goog.string.internal.compareElements_(v1CompNum, v2CompNum) ||\n          goog.string.internal.compareElements_(\n              v1Comp[2].length == 0, v2Comp[2].length == 0) ||\n          goog.string.internal.compareElements_(v1Comp[2], v2Comp[2]);\n      // Stop as soon as an inequality is discovered.\n\n      v1Sub = v1Comp[3];\n      v2Sub = v2Comp[3];\n    } while (order == 0);\n  }\n\n  return order;\n};\n\n\n/**\n * Compares elements of a version number.\n *\n * @param {string|number|boolean} left An element from a version number.\n * @param {string|number|boolean} right An element from a version number.\n *\n * @return {number}  1 if `left` is higher.\n *                   0 if arguments are equal.\n *                  -1 if `right` is higher.\n * @private\n */\ngoog.string.internal.compareElements_ = function(left, right) {\n  'use strict';\n  if (left < right) {\n    return -1;\n  } else if (left > right) {\n    return 1;\n  }\n  return 0;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utilities used by goog.labs.userAgent tools. These functions\n * should not be used outside of goog.labs.userAgent.*.\n *\n */\n\ngoog.module('goog.labs.userAgent.util');\ngoog.module.declareLegacyNamespace();\n\nconst {USE_CLIENT_HINTS} = goog.require('goog.labs.userAgent');\nconst {caseInsensitiveContains, contains} = goog.require('goog.string.internal');\n\n/**\n * @const {boolean} If true, use navigator.userAgentData without check.\n * TODO(user): FEATURESET_YEAR >= 2023 if it supports mobile and all the\n * brands we need.  See https://caniuse.com/mdn-api_navigator_useragentdata.\n */\nconst ASSUME_CLIENT_HINTS_SUPPORT = false;\n\n/**\n * Gets the native userAgent string from navigator if it exists.\n * If navigator or navigator.userAgent string is missing, returns an empty\n * string.\n * @return {string}\n */\nfunction getNativeUserAgentString() {\n  const navigator = getNavigator();\n  if (navigator) {\n    const userAgent = navigator.userAgent;\n    if (userAgent) {\n      return userAgent;\n    }\n  }\n  return '';\n}\n\n/**\n * Gets the native userAgentData object from navigator if it exists.\n * If navigator.userAgentData object is missing or USE_CLIENT_HINTS is set to\n * false, returns null.\n * @return {?NavigatorUAData}\n */\nfunction getNativeUserAgentData() {\n  if (!USE_CLIENT_HINTS) {\n    return null;\n  }\n  const navigator = getNavigator();\n  // TODO(user): Use navigator?.userAgent ?? null once it's supported.\n  if (navigator) {\n    return navigator.userAgentData || null;\n  }\n  return null;\n}\n\n/**\n * Getter for the native navigator.\n * @return {!Navigator}\n */\nfunction getNavigator() {\n  return goog.global.navigator;\n}\n\n/**\n * A possible override for applications which wish to not check\n * navigator.userAgent but use a specified value for detection instead.\n * @type {?string}\n */\nlet userAgentInternal = null;\n\n/**\n * A possible override for applications which wish to not check\n * navigator.userAgentData but use a specified value for detection instead.\n * @type {?NavigatorUAData}\n */\nlet userAgentDataInternal = getNativeUserAgentData();\n\n/**\n * Override the user agent string with the given value.\n * This should only be used for testing within the goog.labs.userAgent\n * namespace.\n * Pass `null` to use the native browser object instead.\n * @param {?string=} userAgent The userAgent override.\n * @return {void}\n */\nfunction setUserAgent(userAgent = undefined) {\n  userAgentInternal =\n      typeof userAgent === 'string' ? userAgent : getNativeUserAgentString();\n}\n\n/** @return {string} The user agent string. */\nfunction getUserAgent() {\n  return userAgentInternal == null ? getNativeUserAgentString() :\n                                     userAgentInternal;\n}\n\n/**\n * Override the user agent data object with the given value.\n * This should only be used for testing within the goog.labs.userAgent\n * namespace.\n * Pass `null` to specify the absence of userAgentData. Note that this behavior\n * is different from setUserAgent.\n * @param {?NavigatorUAData} userAgentData The userAgentData override.\n */\nfunction setUserAgentData(userAgentData) {\n  userAgentDataInternal = userAgentData;\n}\n\n/**\n * If the user agent data object was overridden using setUserAgentData,\n * reset it so that it uses the native browser object instead, if it exists.\n */\nfunction resetUserAgentData() {\n  userAgentDataInternal = getNativeUserAgentData();\n}\n\n/** @return {?NavigatorUAData} Navigator.userAgentData if exist */\nfunction getUserAgentData() {\n  return userAgentDataInternal;\n}\n\n/**\n * Checks if any string in userAgentData.brands matches str.\n * Returns false if userAgentData is not supported.\n * @param {string} str\n * @return {boolean} Whether any brand string from userAgentData contains the\n *     given string.\n */\nfunction matchUserAgentDataBrand(str) {\n  const data = getUserAgentData();\n  if (!data) return false;\n  return data.brands.some(({brand}) => brand && contains(brand, str));\n}\n\n/**\n * @param {string} str\n * @return {boolean} Whether the user agent contains the given string.\n */\nfunction matchUserAgent(str) {\n  const userAgent = getUserAgent();\n  return contains(userAgent, str);\n}\n\n/**\n * @param {string} str\n * @return {boolean} Whether the user agent contains the given string, ignoring\n *     case.\n */\nfunction matchUserAgentIgnoreCase(str) {\n  const userAgent = getUserAgent();\n  return caseInsensitiveContains(userAgent, str);\n}\n\n/**\n * Parses the user agent into tuples for each section.\n * @param {string} userAgent\n * @return {!Array<!Array<string>>} Tuples of key, version, and the contents of\n *     the parenthetical.\n */\nfunction extractVersionTuples(userAgent) {\n  // Matches each section of a user agent string.\n  // Example UA:\n  // Mozilla/5.0 (iPad; U; CPU OS 3_2_1 like Mac OS X; en-us)\n  // AppleWebKit/531.21.10 (KHTML, like Gecko) Mobile/7B405\n  // This has three version tuples: Mozilla, AppleWebKit, and Mobile.\n\n  const versionRegExp = new RegExp(\n      // Key. Note that a key may have a space.\n      // (i.e. 'Mobile Safari' in 'Mobile Safari/5.0')\n      '([A-Z][\\\\w ]+)' +\n\n          '/' +                // slash\n          '([^\\\\s]+)' +        // version (i.e. '5.0b')\n          '\\\\s*' +             // whitespace\n          '(?:\\\\((.*?)\\\\))?',  // parenthetical info. parentheses not matched.\n      'g');\n\n  const data = [];\n  let match;\n\n  // Iterate and collect the version tuples.  Each iteration will be the\n  // next regex match.\n  while (match = versionRegExp.exec(userAgent)) {\n    data.push([\n      match[1],  // key\n      match[2],  // value\n      // || undefined as this is not undefined in IE7 and IE8\n      match[3] || undefined  // info\n    ]);\n  }\n\n  return data;\n}\n\nexports = {\n  ASSUME_CLIENT_HINTS_SUPPORT,\n  extractVersionTuples,\n  getNativeUserAgentString,\n  getUserAgent,\n  getUserAgentData,\n  matchUserAgent,\n  matchUserAgentDataBrand,\n  matchUserAgentIgnoreCase,\n  resetUserAgentData,\n  setUserAgent,\n  setUserAgentData,\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Useful compiler idioms.\n */\n\ngoog.provide('goog.reflect');\n\n\n/**\n * Syntax for object literal casts.\n * @see http://go/jscompiler-renaming\n * @see https://goo.gl/CRs09P\n *\n * Use this if you have an object literal whose keys need to have the same names\n * as the properties of some class even after they are renamed by the compiler.\n *\n * @param {!Function} type Type to cast to.\n * @param {Object} object Object literal to cast.\n * @return {Object} The object literal.\n */\ngoog.reflect.object = function(type, object) {\n  'use strict';\n  return object;\n};\n\n/**\n * Syntax for renaming property strings.\n * @see http://go/jscompiler-renaming\n * @see https://goo.gl/CRs09P\n *\n * Use this if you have an need to access a property as a string, but want\n * to also have the property renamed by the compiler. In contrast to\n * goog.reflect.object, this method takes an instance of an object.\n *\n * Properties must be simple names (not qualified names).\n *\n * @param {string} prop Name of the property\n * @param {!Object} object Instance of the object whose type will be used\n *     for renaming\n * @return {string} The renamed property.\n */\ngoog.reflect.objectProperty = function(prop, object) {\n  'use strict';\n  return prop;\n};\n\n/**\n * To assert to the compiler that an operation is needed when it would\n * otherwise be stripped. For example:\n * <code>\n *     // Force a layout\n *     goog.reflect.sinkValue(dialog.offsetHeight);\n * </code>\n * @param {T} x\n * @return {T}\n * @template T\n */\ngoog.reflect.sinkValue = function(x) {\n  'use strict';\n  goog.reflect.sinkValue[' '](x);\n  return x;\n};\n\n\n/**\n * The compiler should optimize this function away iff no one ever uses\n * goog.reflect.sinkValue.\n */\ngoog.reflect.sinkValue[' '] = goog.nullFunction;\n\n\n/**\n * Check if a property can be accessed without throwing an exception.\n * @param {Object} obj The owner of the property.\n * @param {string} prop The property name.\n * @return {boolean} Whether the property is accessible. Will also return true\n *     if obj is null.\n */\ngoog.reflect.canAccessProperty = function(obj, prop) {\n  'use strict';\n  try {\n    goog.reflect.sinkValue(obj[prop]);\n    return true;\n  } catch (e) {\n  }\n  return false;\n};\n\n\n/**\n * Retrieves a value from a cache given a key. The compiler provides special\n * consideration for this call such that it is generally considered side-effect\n * free. However, if the `opt_keyFn` or `valueFn` have side-effects\n * then the entire call is considered to have side-effects.\n *\n * Conventionally storing the value on the cache would be considered a\n * side-effect and preclude unused calls from being pruned, ie. even if\n * the value was never used, it would still always be stored in the cache.\n *\n * Providing a side-effect free `valueFn` and `opt_keyFn`\n * allows unused calls to `goog.reflect.cache` to be pruned.\n *\n * @param {!Object<K, V>} cacheObj The object that contains the cached values.\n * @param {?} key The key to lookup in the cache. If it is not string or number\n *     then a `opt_keyFn` should be provided. The key is also used as the\n *     parameter to the `valueFn`.\n * @param {function(?):V} valueFn The value provider to use to calculate the\n *     value to store in the cache. This function should be side-effect free\n *     to take advantage of the optimization.\n * @param {function(?):K=} opt_keyFn The key provider to determine the cache\n *     map key. This should be used if the given key is not a string or number.\n *     If not provided then the given key is used. This function should be\n *     side-effect free to take advantage of the optimization.\n * @return {V} The cached or calculated value.\n * @template K\n * @template V\n */\ngoog.reflect.cache = function(cacheObj, key, valueFn, opt_keyFn) {\n  'use strict';\n  const storedKey = opt_keyFn ? opt_keyFn(key) : key;\n\n  if (Object.prototype.hasOwnProperty.call(cacheObj, storedKey)) {\n    return cacheObj[storedKey];\n  }\n\n  return (cacheObj[storedKey] = valueFn(key));\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Rendering engine detection.\n * @see <a href=\"http://www.useragentstring.com/\">User agent strings</a>\n * For information on the browser brand (such as Safari versus Chrome), see\n * goog.userAgent.product.\n * @see ../demos/useragent.html\n */\n\ngoog.provide('goog.userAgent');\n\ngoog.require('goog.labs.userAgent.browser');\ngoog.require('goog.labs.userAgent.engine');\ngoog.require('goog.labs.userAgent.platform');\ngoog.require('goog.labs.userAgent.util');\ngoog.require('goog.reflect');\ngoog.require('goog.string.internal');\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is IE.\n */\ngoog.userAgent.ASSUME_IE = goog.define('goog.userAgent.ASSUME_IE', false);\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is EDGE,\n * referring to EdgeHTML based Edge.\n */\ngoog.userAgent.ASSUME_EDGE = goog.define('goog.userAgent.ASSUME_EDGE', false);\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is GECKO.\n */\ngoog.userAgent.ASSUME_GECKO = goog.define('goog.userAgent.ASSUME_GECKO', false);\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is WEBKIT.\n */\ngoog.userAgent.ASSUME_WEBKIT =\n    goog.define('goog.userAgent.ASSUME_WEBKIT', false);\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is a\n *     mobile device running WebKit e.g. iPhone or Android.\n */\ngoog.userAgent.ASSUME_MOBILE_WEBKIT =\n    goog.define('goog.userAgent.ASSUME_MOBILE_WEBKIT', false);\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is OPERA,\n * referring to Presto-based Opera.\n */\ngoog.userAgent.ASSUME_OPERA = goog.define('goog.userAgent.ASSUME_OPERA', false);\n\n\n/**\n * @define {boolean} Whether the\n *     `goog.userAgent.isVersionOrHigher`\n *     function will return true for any version.\n */\ngoog.userAgent.ASSUME_ANY_VERSION =\n    goog.define('goog.userAgent.ASSUME_ANY_VERSION', false);\n\n\n/**\n * Whether we know the browser engine at compile-time.\n * @type {boolean}\n * @private\n */\ngoog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE ||\n    goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO ||\n    goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT ||\n    goog.userAgent.ASSUME_OPERA;\n\n\n/**\n * Returns the userAgent string for the current browser.\n *\n * @return {string} The userAgent string.\n */\ngoog.userAgent.getUserAgentString = function() {\n  'use strict';\n  return goog.labs.userAgent.util.getUserAgent();\n};\n\n\n/**\n * @return {?Navigator} The native navigator object.\n */\ngoog.userAgent.getNavigatorTyped = function() {\n  'use strict';\n  // Need a local navigator reference instead of using the global one,\n  // to avoid the rare case where they reference different objects.\n  // (in a WorkerPool, for example).\n  return goog.global['navigator'] || null;\n};\n\n\n/**\n * TODO(nnaze): Change type to \"Navigator\" and update compilation targets.\n * @return {?Object} The native navigator object.\n */\ngoog.userAgent.getNavigator = function() {\n  'use strict';\n  return goog.userAgent.getNavigatorTyped();\n};\n\n\n/**\n * Whether the user agent is Presto-based Opera.\n * @type {boolean}\n */\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_OPERA :\n    goog.labs.userAgent.browser.isOpera();\n\n\n/**\n * Whether the user agent is Internet Explorer.\n * @type {boolean}\n */\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_IE :\n    goog.labs.userAgent.browser.isIE();\n\n\n/**\n * Whether the user agent is Microsoft Edge (EdgeHTML based).\n * @type {boolean}\n */\ngoog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_EDGE :\n    goog.labs.userAgent.engine.isEdge();\n\n\n/**\n * Whether the user agent is MS Internet Explorer or MS Edge (EdgeHTML based).\n * @type {boolean}\n */\ngoog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;\n\n\n/**\n * Whether the user agent is Gecko. Gecko is the rendering engine used by\n * Mozilla, Firefox, and others.\n * @type {boolean}\n */\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_GECKO :\n    goog.labs.userAgent.engine.isGecko();\n\n\n/**\n * Whether the user agent is WebKit. WebKit is the rendering engine that\n * Safari, Edge Chromium, Opera Chromium, Android and others use.\n * @type {boolean}\n */\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT :\n    goog.labs.userAgent.engine.isWebKit();\n\n\n/**\n * Whether the user agent is running on a mobile device.\n *\n * This is a separate function so that the logic can be tested.\n *\n * TODO(nnaze): Investigate swapping in goog.labs.userAgent.device.isMobile().\n *\n * @return {boolean} Whether the user agent is running on a mobile device.\n * @private\n */\ngoog.userAgent.isMobile_ = function() {\n  'use strict';\n  return goog.userAgent.WEBKIT &&\n      goog.labs.userAgent.util.matchUserAgent('Mobile');\n};\n\n\n/**\n * Whether the user agent is running on a mobile device.\n *\n * TODO(nnaze): Consider deprecating MOBILE when labs.userAgent\n *   is promoted as the gecko/webkit logic is likely inaccurate.\n *\n * @type {boolean}\n */\ngoog.userAgent.MOBILE =\n    goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();\n\n\n/**\n * Used while transitioning code to use WEBKIT instead.\n * @type {boolean}\n * @deprecated Use {@link goog.userAgent.product.SAFARI} instead.\n * TODO(nicksantos): Delete this from goog.userAgent.\n */\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\n\n\n/**\n * @return {string} the platform (operating system) the user agent is running\n *     on. Default to empty string because navigator.platform may not be defined\n *     (on Rhino, for example).\n * @private\n */\ngoog.userAgent.determinePlatform_ = function() {\n  'use strict';\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return navigator && navigator.platform || '';\n};\n\n\n/**\n * The platform (operating system) the user agent is running on. Default to\n * empty string because navigator.platform may not be defined (on Rhino, for\n * example).\n * @type {string}\n */\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Macintosh operating\n *     system.\n */\ngoog.userAgent.ASSUME_MAC = goog.define('goog.userAgent.ASSUME_MAC', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Windows operating\n *     system.\n */\ngoog.userAgent.ASSUME_WINDOWS =\n    goog.define('goog.userAgent.ASSUME_WINDOWS', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Linux operating\n *     system.\n */\ngoog.userAgent.ASSUME_LINUX = goog.define('goog.userAgent.ASSUME_LINUX', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on a X11 windowing\n *     system.\n */\ngoog.userAgent.ASSUME_X11 = goog.define('goog.userAgent.ASSUME_X11', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on Android.\n */\ngoog.userAgent.ASSUME_ANDROID =\n    goog.define('goog.userAgent.ASSUME_ANDROID', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPhone.\n */\ngoog.userAgent.ASSUME_IPHONE =\n    goog.define('goog.userAgent.ASSUME_IPHONE', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPad.\n */\ngoog.userAgent.ASSUME_IPAD = goog.define('goog.userAgent.ASSUME_IPAD', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPod.\n */\ngoog.userAgent.ASSUME_IPOD = goog.define('goog.userAgent.ASSUME_IPOD', false);\n\n\n/**\n * @define {boolean} Whether the user agent is running on KaiOS.\n */\ngoog.userAgent.ASSUME_KAIOS = goog.define('goog.userAgent.ASSUME_KAIOS', false);\n\n\n/**\n * @type {boolean}\n * @private\n */\ngoog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC ||\n    goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX ||\n    goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID ||\n    goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD ||\n    goog.userAgent.ASSUME_IPOD;\n\n\n/**\n * Whether the user agent is running on a Macintosh operating system.\n * @type {boolean}\n */\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_MAC :\n    goog.labs.userAgent.platform.isMacintosh();\n\n\n/**\n * Whether the user agent is running on a Windows operating system.\n * @type {boolean}\n */\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_WINDOWS :\n    goog.labs.userAgent.platform.isWindows();\n\n\n/**\n * Whether the user agent is Linux per the legacy behavior of\n * goog.userAgent.LINUX, which considered ChromeOS to also be\n * Linux.\n * @return {boolean}\n * @private\n */\ngoog.userAgent.isLegacyLinux_ = function() {\n  'use strict';\n  return goog.labs.userAgent.platform.isLinux() ||\n      goog.labs.userAgent.platform.isChromeOS();\n};\n\n\n/**\n * Whether the user agent is running on a Linux operating system.\n *\n * Note that goog.userAgent.LINUX considers ChromeOS to be Linux,\n * while goog.labs.userAgent.platform considers ChromeOS and\n * Linux to be different OSes.\n *\n * @type {boolean}\n */\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_LINUX :\n    goog.userAgent.isLegacyLinux_();\n\n\n/**\n * @return {boolean} Whether the user agent is an X11 windowing system.\n * @private\n */\ngoog.userAgent.isX11_ = function() {\n  'use strict';\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return !!navigator &&\n      goog.string.internal.contains(navigator['appVersion'] || '', 'X11');\n};\n\n\n/**\n * Whether the user agent is running on a X11 windowing system.\n * @type {boolean}\n */\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_X11 :\n    goog.userAgent.isX11_();\n\n\n/**\n * Whether the user agent is running on Android.\n * @type {boolean}\n */\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_ANDROID :\n    goog.labs.userAgent.platform.isAndroid();\n\n\n/**\n * Whether the user agent is running on an iPhone.\n * @type {boolean}\n */\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPHONE :\n    goog.labs.userAgent.platform.isIphone();\n\n\n/**\n * Whether the user agent is running on an iPad.\n * @type {boolean}\n */\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPAD :\n    goog.labs.userAgent.platform.isIpad();\n\n\n/**\n * Whether the user agent is running on an iPod.\n * @type {boolean}\n */\ngoog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPOD :\n    goog.labs.userAgent.platform.isIpod();\n\n\n/**\n * Whether the user agent is running on iOS.\n * @type {boolean}\n */\ngoog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ?\n    (goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD ||\n     goog.userAgent.ASSUME_IPOD) :\n    goog.labs.userAgent.platform.isIos();\n\n/**\n * Whether the user agent is running on KaiOS.\n * @type {boolean}\n */\ngoog.userAgent.KAIOS = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_KAIOS :\n    goog.labs.userAgent.platform.isKaiOS();\n\n\n/**\n * @return {string} The string that describes the version number of the user\n *     agent.\n * @private\n */\ngoog.userAgent.determineVersion_ = function() {\n  'use strict';\n  // All browsers have different ways to detect the version and they all have\n  // different naming schemes.\n  // version is a string rather than a number because it may contain 'b', 'a',\n  // and so on.\n  var version = '';\n  var arr = goog.userAgent.getVersionRegexResult_();\n  if (arr) {\n    version = arr ? arr[1] : '';\n  }\n\n  if (goog.userAgent.IE) {\n    // IE9 can be in document mode 9 but be reporting an inconsistent user agent\n    // version.  If it is identifying as a version lower than 9 we take the\n    // documentMode as the version instead.  IE8 has similar behavior.\n    // It is recommended to set the X-UA-Compatible header to ensure that IE9\n    // uses documentMode 9.\n    var docMode = goog.userAgent.getDocumentMode_();\n    if (docMode != null && docMode > parseFloat(version)) {\n      return String(docMode);\n    }\n  }\n\n  return version;\n};\n\n\n/**\n * @return {?IArrayLike<string>|undefined} The version regex matches from\n *     parsing the user\n *     agent string. These regex statements must be executed inline so they can\n *     be compiled out by the closure compiler with the rest of the useragent\n *     detection logic when ASSUME_* is specified.\n * @private\n */\ngoog.userAgent.getVersionRegexResult_ = function() {\n  'use strict';\n  var userAgent = goog.userAgent.getUserAgentString();\n  if (goog.userAgent.GECKO) {\n    return /rv\\:([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.EDGE) {\n    return /Edge\\/([\\d\\.]+)/.exec(userAgent);\n  }\n  if (goog.userAgent.IE) {\n    return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.WEBKIT) {\n    // WebKit/125.4\n    return /WebKit\\/(\\S+)/.exec(userAgent);\n  }\n  if (goog.userAgent.OPERA) {\n    // If none of the above browsers were detected but the browser is Opera, the\n    // only string that is of interest is 'Version/<number>'.\n    return /(?:Version)[ \\/]?(\\S+)/.exec(userAgent);\n  }\n  return undefined;\n};\n\n\n/**\n * @return {number|undefined} Returns the document mode (for testing).\n * @private\n */\ngoog.userAgent.getDocumentMode_ = function() {\n  'use strict';\n  // NOTE(user): goog.userAgent may be used in context where there is no DOM.\n  var doc = goog.global['document'];\n  return doc ? doc['documentMode'] : undefined;\n};\n\n\n/**\n * The version of the user agent. This is a string because it might contain\n * 'b' (as in beta) as well as multiple dots.\n * @type {string}\n */\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string} v1 Version of first item.\n * @param {string} v2 Version of second item.\n *\n * @return {number}  1 if first argument is higher\n *                   0 if arguments are equal\n *                  -1 if second argument is higher.\n * @deprecated Use goog.string.compareVersions.\n */\ngoog.userAgent.compare = function(v1, v2) {\n  'use strict';\n  return goog.string.internal.compareVersions(v1, v2);\n};\n\n\n/**\n * Cache for {@link goog.userAgent.isVersionOrHigher}.\n * Calls to compareVersions are surprisingly expensive and, as a browser's\n * version number is unlikely to change during a session, we cache the results.\n * @const\n * @private\n */\ngoog.userAgent.isVersionOrHigherCache_ = {};\n\n\n/**\n * Whether the user agent version is higher or the same as the given version.\n * NOTE: When checking the version numbers for Firefox and Safari, be sure to\n * use the engine's version, not the browser's version number.  For example,\n * Firefox 3.0 corresponds to Gecko 1.9 and Safari 3.0 to Webkit 522.11.\n * Opera and Internet Explorer versions match the product release number.<br>\n * @see <a href=\"http://en.wikipedia.org/wiki/Safari_version_history\">\n *     Webkit</a>\n * @see <a href=\"http://en.wikipedia.org/wiki/Gecko_engine\">Gecko</a>\n *\n * @param {string|number} version The version to check.\n * @return {boolean} Whether the user agent version is higher or the same as\n *     the given version.\n */\ngoog.userAgent.isVersionOrHigher = function(version) {\n  'use strict';\n  return goog.userAgent.ASSUME_ANY_VERSION ||\n      goog.reflect.cache(\n          goog.userAgent.isVersionOrHigherCache_, version, function() {\n            'use strict';\n            return goog.string.internal.compareVersions(\n                       goog.userAgent.VERSION, version) >= 0;\n          });\n};\n\n\n/**\n * Whether the IE effective document mode is higher or the same as the given\n * document mode version.\n * NOTE: Only for IE, return false for another browser.\n *\n * @param {number} documentMode The document mode version to check.\n * @return {boolean} Whether the IE effective document mode is higher or the\n *     same as the given version.\n */\ngoog.userAgent.isDocumentModeOrHigher = function(documentMode) {\n  'use strict';\n  return Number(goog.userAgent.DOCUMENT_MODE) >= documentMode;\n};\n\n\n/**\n * Deprecated alias to `goog.userAgent.isDocumentModeOrHigher`.\n * @param {number} version The version to check.\n * @return {boolean} Whether the IE effective document mode is higher or the\n *      same as the given version.\n * @deprecated Use goog.userAgent.isDocumentModeOrHigher().\n */\ngoog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;\n\n\n/**\n * For IE version < 7, documentMode is undefined, so attempt to use the\n * CSS1Compat property to see if we are in standards mode. If we are in\n * standards mode, treat the browser version as the document mode. Otherwise,\n * IE is emulating version 5.\n *\n * NOTE(user): Support for IE < 7 is long gone, so this is now simplified.\n * It returns document.documentMode for IE and undefined for everything else.\n *\n * @type {number|undefined}\n * @const\n */\ngoog.userAgent.DOCUMENT_MODE = (function() {\n  'use strict';\n  var doc = goog.global['document'];\n  if (!doc || !goog.userAgent.IE) return undefined;\n  // This must be an IE user agent.\n  var documentMode = goog.userAgent.getDocumentMode_();\n  if (documentMode) return documentMode;\n  // The user agent version string begins with the major version.\n  // Parse the major version and truncate anything following.\n  var ieVersion = parseInt(goog.userAgent.VERSION, 10);\n  return ieVersion || undefined;\n})();\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Closure user agent detection (Browser).\n * @see <a href=\"http://www.useragentstring.com/\">User agent strings</a>\n * For more information on rendering engine, platform, or device see the other\n * sub-namespaces in goog.labs.userAgent, goog.labs.userAgent.platform,\n * goog.labs.userAgent.device respectively.)\n */\n\ngoog.module('goog.labs.userAgent.browser');\ngoog.module.declareLegacyNamespace();\n\nconst googAsserts = goog.require('goog.asserts');\nconst util = goog.require('goog.labs.userAgent.util');\nconst {AsyncValue, Version} = goog.require('goog.labs.userAgent.highEntropy.highEntropyValue');\nconst {compareVersions} = goog.require('goog.string.internal');\nconst {fullVersionList, hasFullVersionList} = goog.require('goog.labs.userAgent.highEntropy.highEntropyData');\n\n// TODO(nnaze): Refactor to remove excessive exclusion logic in matching\n// functions.\n\n/**\n * A browser brand represents an opaque string that is used for making\n * brand-specific version checks in userAgentData.\n * @enum {string}\n */\nconst Brand = {\n  /**\n   * The browser brand for Android Browser.\n   * Do not depend on the value of this string. Because Android Browser has not\n   * implemented userAgentData yet, the value of this string is not guaranteed\n   * to stay the same in future revisions.\n   */\n  ANDROID_BROWSER: 'Android Browser',\n  /**\n   * The browser brand for Chromium, including Chromium-based Edge and Opera.\n   */\n  CHROMIUM: 'Chromium',\n  /**\n   * The browser brand for Edge.\n   * This brand can be used to get the version of both EdgeHTML and\n   * Chromium-based Edge.\n   */\n  EDGE: 'Microsoft Edge',\n  /**\n   * The browser brand for Firefox.\n   * Do not depend on the value of this string. Because Firefox has not\n   * implemented userAgentData yet, the value of this string is not guaranteed\n   * to stay the same in future revisions.\n   */\n  FIREFOX: 'Firefox',\n  /**\n   * The browser brand for Internet Explorer.\n   * Do not depend on the value of this string. Because IE will never support\n   * userAgentData, the value of this string should be treated as opaque (it's\n   * used internally for legacy-userAgent fallback).\n   */\n  IE: 'Internet Explorer',\n  /**\n   * The browser brand for Opera.\n   * This brand can be used to get the version of both Presto- and\n   * Chromium-based Opera.\n   */\n  OPERA: 'Opera',\n  /**\n   * The browser brand for Safari.\n   * Do not depend on the value of this string. Because Safari has not\n   * implemented userAgentData yet, the value of this string is not guaranteed\n   * to stay the same in future revisions.\n   */\n  SAFARI: 'Safari',\n  /**\n   * The browser brand for Silk.\n   * See\n   * https://docs.aws.amazon.com/silk/latest/developerguide/what-is-silk.html\n   * Do not depend on the value of this string. Because Silk does not\n   * identify itself in userAgentData yet, the value of this string is not\n   * guaranteed to stay the same in future revisions.\n   */\n  SILK: 'Silk',\n};\nexports.Brand = Brand;\n\n/**\n * @return {boolean} Whether to use navigator.userAgentData to determine\n * browser's brand.\n */\nfunction useUserAgentDataBrand() {\n  if (util.ASSUME_CLIENT_HINTS_SUPPORT) return true;\n  const userAgentData = util.getUserAgentData();\n  return !!userAgentData && userAgentData.brands.length > 0;\n}\n\n/**\n * @return {boolean} Whether the user's browser is Opera. Note: Chromium based\n *     Opera (Opera 15+) is detected as Chrome to avoid unnecessary special\n *     casing.\n */\nfunction matchOpera() {\n  if (useUserAgentDataBrand()) {\n    // Pre-Chromium Edge doesn't support navigator.userAgentData.\n    return false;\n  }\n  return util.matchUserAgent('Opera');\n}\n\n/** @return {boolean} Whether the user's browser is IE. */\nfunction matchIE() {\n  if (useUserAgentDataBrand()) {\n    // IE doesn't support navigator.userAgentData.\n    return false;\n  }\n  return util.matchUserAgent('Trident') || util.matchUserAgent('MSIE');\n}\n\n/**\n * @return {boolean} Whether the user's browser is Edge. This refers to\n *     EdgeHTML based Edge.\n */\nfunction matchEdgeHtml() {\n  if (useUserAgentDataBrand()) {\n    // Pre-Chromium Edge doesn't support navigator.userAgentData.\n    return false;\n  }\n  return util.matchUserAgent('Edge');\n}\n\n/** @return {boolean} Whether the user's browser is Chromium based Edge. */\nfunction matchEdgeChromium() {\n  if (useUserAgentDataBrand()) {\n    return util.matchUserAgentDataBrand(Brand.EDGE);\n  }\n  return util.matchUserAgent('Edg/');\n}\n\n/** @return {boolean} Whether the user's browser is Chromium based Opera. */\nfunction matchOperaChromium() {\n  if (useUserAgentDataBrand()) {\n    return util.matchUserAgentDataBrand(Brand.OPERA);\n  }\n  return util.matchUserAgent('OPR');\n}\n\n/** @return {boolean} Whether the user's browser is Firefox. */\nfunction matchFirefox() {\n  // Firefox doesn't support navigator.userAgentData yet, so use\n  // navigator.userAgent.\n  return util.matchUserAgent('Firefox') || util.matchUserAgent('FxiOS');\n}\n\n/** @return {boolean} Whether the user's browser is Safari. */\nfunction matchSafari() {\n  // Apple-based browsers don't support navigator.userAgentData yet, so use\n  // navigator.userAgent.\n  return util.matchUserAgent('Safari') &&\n      !(matchChrome() || matchCoast() || matchOpera() || matchEdgeHtml() ||\n        matchEdgeChromium() || matchOperaChromium() || matchFirefox() ||\n        isSilk() || util.matchUserAgent('Android'));\n}\n\n/**\n * @return {boolean} Whether the user's browser is Coast (Opera's Webkit-based\n *     iOS browser).\n */\nfunction matchCoast() {\n  if (useUserAgentDataBrand()) {\n    // Coast doesn't support navigator.userAgentData.\n    return false;\n  }\n  return util.matchUserAgent('Coast');\n}\n\n/** @return {boolean} Whether the user's browser is iOS Webview. */\nfunction matchIosWebview() {\n  // Apple-based browsers don't support navigator.userAgentData yet, so use\n  // navigator.userAgent.\n  // iOS Webview does not show up as Chrome or Safari.\n  return (util.matchUserAgent('iPad') || util.matchUserAgent('iPhone')) &&\n      !matchSafari() && !matchChrome() && !matchCoast() && !matchFirefox() &&\n      util.matchUserAgent('AppleWebKit');\n}\n\n/**\n * @return {boolean} Whether the user's browser is any Chromium browser. This\n *     returns true for Chrome, Opera 15+, and Edge Chromium.\n */\nfunction matchChrome() {\n  if (useUserAgentDataBrand()) {\n    return util.matchUserAgentDataBrand(Brand.CHROMIUM);\n  }\n  return ((util.matchUserAgent('Chrome') || util.matchUserAgent('CriOS')) &&\n          !matchEdgeHtml()) ||\n      isSilk();\n}\n\n/** @return {boolean} Whether the user's browser is the Android browser. */\nfunction matchAndroidBrowser() {\n  // Android can appear in the user agent string for Chrome on Android.\n  // This is not the Android standalone browser if it does.\n  return util.matchUserAgent('Android') &&\n      !(isChrome() || isFirefox() || isOpera() || isSilk());\n}\n\n/** @return {boolean} Whether the user's browser is Opera. */\nconst isOpera = matchOpera;\nexports.isOpera = isOpera;\n\n/** @return {boolean} Whether the user's browser is IE. */\nconst isIE = matchIE;\nexports.isIE = isIE;\n\n/** @return {boolean} Whether the user's browser is EdgeHTML based Edge. */\nconst isEdge = matchEdgeHtml;\nexports.isEdge = isEdge;\n\n/** @return {boolean} Whether the user's browser is Chromium based Edge. */\nconst isEdgeChromium = matchEdgeChromium;\nexports.isEdgeChromium = isEdgeChromium;\n\n/** @return {boolean} Whether the user's browser is Chromium based Opera. */\nconst isOperaChromium = matchOperaChromium;\nexports.isOperaChromium = isOperaChromium;\n\n/** @return {boolean} Whether the user's browser is Firefox. */\nconst isFirefox = matchFirefox;\nexports.isFirefox = isFirefox;\n\n/** @return {boolean} Whether the user's browser is Safari. */\nconst isSafari = matchSafari;\nexports.isSafari = isSafari;\n\n/**\n * @return {boolean} Whether the user's browser is Coast (Opera's Webkit-based\n *     iOS browser).\n */\nconst isCoast = matchCoast;\nexports.isCoast = isCoast;\n\n/** @return {boolean} Whether the user's browser is iOS Webview. */\nconst isIosWebview = matchIosWebview;\nexports.isIosWebview = isIosWebview;\n\n/**\n * @return {boolean} Whether the user's browser is any Chromium based browser (\n *     Chrome, Blink-based Opera (15+) and Edge Chromium).\n */\nconst isChrome = matchChrome;\nexports.isChrome = isChrome;\n\n/** @return {boolean} Whether the user's browser is the Android browser. */\nconst isAndroidBrowser = matchAndroidBrowser;\nexports.isAndroidBrowser = isAndroidBrowser;\n\n/**\n * For more information, see:\n * http://docs.aws.amazon.com/silk/latest/developerguide/user-agent.html\n * @return {boolean} Whether the user's browser is Silk.\n */\nfunction isSilk() {\n  // As of Silk 93, Silk does not identify itself in userAgentData.brands.\n  // When Silk changes this behavior, update this method to call\n  // matchUserAgentDataBrand (akin to isChrome, etc.)\n  return util.matchUserAgent('Silk');\n}\nexports.isSilk = isSilk;\n\n/**\n * A helper function that returns a function mapping a list of candidate\n * version tuple keys to the first version string present under a key.\n * Ex:\n * <code>\n * // Arg extracted from \"Foo/1.2.3 Bar/0.2021\"\n * const mapVersion = createVersionMap([[\"Foo\", \"1.2.3\"], [\"Bar\", \"0.2021\"]]);\n * mapVersion([\"Bar\", \"Foo\"]); // returns \"0.2021\"\n * mapVersion([\"Baz\", \"Foo\"]); // returns \"1.2.3\"\n * mapVersion([\"Baz\", \"???\"]); // returns \"\"\n * </code>\n * @param {!Array<!Array<string>>} versionTuples Version tuples pre-extracted\n *     from a user agent string.\n * @return {function(!Array<string>): string} The version string, or empty\n * string if it doesn't exist under the given key.\n */\nfunction createVersionMap(versionTuples) {\n  // Construct a map for easy lookup.\n  const versionMap = {};\n  versionTuples.forEach((tuple) => {\n    // Note that the tuple is of length three, but we only care about the\n    // first two.\n    const key = tuple[0];\n    const value = tuple[1];\n    versionMap[key] = value;\n  });\n\n  // Gives the value with the first key it finds, otherwise empty string.\n  return (keys) => versionMap[keys.find((key) => key in versionMap)] || '';\n}\n\n/**\n * Returns the browser version.\n *\n * Note that for browsers with multiple brands, this function assumes a primary\n * brand and returns the version for that brand.\n *\n * Additionally, this function is not userAgentData-aware and will return\n * incorrect values when the User Agent string is frozen. The current status of\n * User Agent string freezing is available here:\n * https://www.chromestatus.com/feature/5704553745874944\n *\n * To mitigate both of these potential issues, use\n * getVersionStringForLogging() or fullVersionOf() instead.\n *\n * @return {string} The browser version or empty string if version cannot be\n *     determined. Note that for Internet Explorer, this returns the version of\n *     the browser, not the version of the rendering engine. (IE 8 in\n *     compatibility mode will return 8.0 rather than 7.0. To determine the\n *     rendering engine version, look at document.documentMode instead. See\n *     http://msdn.microsoft.com/en-us/library/cc196988(v=vs.85).aspx for more\n *     details.)\n */\nfunction getVersion() {\n  const userAgentString = util.getUserAgent();\n\n  // Special case IE since IE's version is inside the parenthesis and\n  // without the '/'.\n  if (isIE()) {\n    return getIEVersion(userAgentString);\n  }\n\n  const versionTuples = util.extractVersionTuples(userAgentString);\n  const lookUpValueWithKeys = createVersionMap(versionTuples);\n\n  // Check Opera before Chrome since Opera 15+ has \"Chrome\" in the string.\n  // See\n  // http://my.opera.com/ODIN/blog/2013/07/15/opera-user-agent-strings-opera-15-and-beyond\n  if (isOpera()) {\n    // Opera 10 has Version/10.0 but Opera/9.8, so look for \"Version\" first.\n    // Opera uses 'OPR' for more recent UAs.\n    return lookUpValueWithKeys(['Version', 'Opera']);\n  }\n\n  // Check Edge before Chrome since it has Chrome in the string.\n  if (isEdge()) {\n    return lookUpValueWithKeys(['Edge']);\n  }\n\n  // Check Chromium Edge before Chrome since it has Chrome in the string.\n  if (isEdgeChromium()) {\n    return lookUpValueWithKeys(['Edg']);\n  }\n\n  // Check Silk before Chrome since it may have Chrome in its string and be\n  // treated as Chrome.\n  if (isSilk()) {\n    return lookUpValueWithKeys(['Silk']);\n  }\n\n  if (isChrome()) {\n    return lookUpValueWithKeys(['Chrome', 'CriOS', 'HeadlessChrome']);\n  }\n\n  // Usually products browser versions are in the third tuple after \"Mozilla\"\n  // and the engine.\n  const tuple = versionTuples[2];\n  return tuple && tuple[1] || '';\n}\nexports.getVersion = getVersion;\n\n/**\n * Returns whether the current browser's version is at least as high as the\n * given one.\n *\n * Note that for browsers with multiple brands, this function assumes a primary\n * brand and checks the version for that brand.\n *\n * Additionally, this function is not userAgentData-aware and will return\n * incorrect values when the User Agent string is frozen. The current status of\n * User Agent string freezing is available here:\n * https://www.chromestatus.com/feature/5704553745874944\n *\n * To mitigate both of these potential issues, use isAtLeast()/isAtMost() or\n * fullVersionOf() instead.\n *\n * @param {string|number} version The version to check.\n * @return {boolean} Whether the browser version is higher or the same as the\n *     given version.\n * @deprecated Use isAtLeast()/isAtMost() instead.\n */\nfunction isVersionOrHigher(version) {\n  return compareVersions(getVersion(), version) >= 0;\n}\nexports.isVersionOrHigher = isVersionOrHigher;\n\n/**\n * A helper function to determine IE version. More information:\n * http://msdn.microsoft.com/en-us/library/ie/bg182625(v=vs.85).aspx#uaString\n * http://msdn.microsoft.com/en-us/library/hh869301(v=vs.85).aspx\n * http://blogs.msdn.com/b/ie/archive/2010/03/23/introducing-ie9-s-user-agent-string.aspx\n * http://blogs.msdn.com/b/ie/archive/2009/01/09/the-internet-explorer-8-user-agent-string-updated-edition.aspx\n * @param {string} userAgent the User-Agent.\n * @return {string}\n */\nfunction getIEVersion(userAgent) {\n  // IE11 may identify itself as MSIE 9.0 or MSIE 10.0 due to an IE 11 upgrade\n  // bug. Example UA:\n  // Mozilla/5.0 (MSIE 9.0; Windows NT 6.1; WOW64; Trident/7.0; rv:11.0)\n  // like Gecko.\n  // See http://www.whatismybrowser.com/developers/unknown-user-agent-fragments.\n  const rv = /rv: *([\\d\\.]*)/.exec(userAgent);\n  if (rv && rv[1]) {\n    return rv[1];\n  }\n\n  let version = '';\n  const msie = /MSIE +([\\d\\.]+)/.exec(userAgent);\n  if (msie && msie[1]) {\n    // IE in compatibility mode usually identifies itself as MSIE 7.0; in this\n    // case, use the Trident version to determine the version of IE. For more\n    // details, see the links above.\n    const tridentVersion = /Trident\\/(\\d.\\d)/.exec(userAgent);\n    if (msie[1] == '7.0') {\n      if (tridentVersion && tridentVersion[1]) {\n        switch (tridentVersion[1]) {\n          case '4.0':\n            version = '8.0';\n            break;\n          case '5.0':\n            version = '9.0';\n            break;\n          case '6.0':\n            version = '10.0';\n            break;\n          case '7.0':\n            version = '11.0';\n            break;\n        }\n      } else {\n        version = '7.0';\n      }\n    } else {\n      version = msie[1];\n    }\n  }\n  return version;\n}\n\n/**\n * A helper function to return the navigator.userAgent-supplied full version\n * number of the current browser or an empty string, based on whether the\n * current browser is the one specified.\n * @param {string} browser The brand whose version should be returned.\n * @return {string}\n */\nfunction getFullVersionFromUserAgentString(browser) {\n  const userAgentString = util.getUserAgent();\n  // Special case IE since IE's version is inside the parenthesis and\n  // without the '/'.\n  if (browser === Brand.IE) {\n    return isIE() ? getIEVersion(userAgentString) : '';\n  }\n\n  const versionTuples = util.extractVersionTuples(userAgentString);\n  const lookUpValueWithKeys = createVersionMap(versionTuples);\n  switch (browser) {\n    case Brand.OPERA:\n      // Opera 10 has Version/10.0 but Opera/9.8, so look for \"Version\"\n      // first. Opera uses 'OPR' for more recent UAs.\n      if (isOpera()) {\n        return lookUpValueWithKeys(['Version', 'Opera']);\n      } else if (isOperaChromium()) {\n        return lookUpValueWithKeys(['OPR']);\n      }\n      break;\n    case Brand.EDGE:\n      if (isEdge()) {\n        return lookUpValueWithKeys(['Edge']);\n      } else if (isEdgeChromium()) {\n        return lookUpValueWithKeys(['Edg']);\n      }\n      break;\n    case Brand.CHROMIUM:\n      if (isChrome()) {\n        return lookUpValueWithKeys(['Chrome', 'CriOS', 'HeadlessChrome']);\n      }\n      break;\n  }\n\n  // For the following browsers, the browser version is in the third tuple after\n  // \"Mozilla\" and the engine.\n  if ((browser === Brand.FIREFOX && isFirefox()) ||\n      (browser === Brand.SAFARI && isSafari()) ||\n      (browser === Brand.ANDROID_BROWSER && isAndroidBrowser()) ||\n      (browser === Brand.SILK && isSilk())) {\n    const tuple = versionTuples[2];\n    return tuple && tuple[1] || '';\n  }\n\n  return '';\n}\n\n/**\n * Returns the major version of the given browser brand, or NaN if the current\n * browser is not the given brand.\n * Note that the major version number may be different depending on which\n * browser is specified. The returned value can be used to make browser version\n * comparisons using comparison operators.\n * @deprecated Use isAtLeast or isAtMost instead.\n * @param {!Brand} browser The brand whose version should be returned.\n * @return {number} The major version number associated with the current\n * browser under the given brand, or NaN if the current browser doesn't match\n * the given brand.\n */\nfunction versionOf(browser) {\n  let versionParts;\n  // Silk currently does not identify itself in its userAgentData.brands array,\n  // so if checking its version, always fall back to the user agent string.\n  if (useUserAgentDataBrand() && browser !== Brand.SILK) {\n    const data = util.getUserAgentData();\n    const matchingBrand = data.brands.find(({brand}) => brand === browser);\n    if (!matchingBrand || !matchingBrand.version) {\n      return NaN;\n    }\n    versionParts = matchingBrand.version.split('.');\n  } else {\n    const fullVersion = getFullVersionFromUserAgentString(browser);\n    if (fullVersion === '') {\n      return NaN;\n    }\n    versionParts = fullVersion.split('.');\n  }\n  if (versionParts.length === 0) {\n    return NaN;\n  }\n  const majorVersion = versionParts[0];\n  return Number(majorVersion);  // Returns NaN if it is not parseable.\n}\nexports.versionOf = versionOf;\n\n/**\n * Returns true if the current browser matches the given brand and is at least\n * the given major version. The major version must be a whole number (i.e.\n * decimals should not be used to represent a minor version).\n * @param {!Brand} brand The brand whose version should be returned.\n * @param {number} majorVersion The major version number to compare against.\n *     This must be a whole number.\n * @return {boolean} Whether the current browser both matches the given brand\n *     and is at least the given version.\n */\nfunction isAtLeast(brand, majorVersion) {\n  googAsserts.assert(\n      Math.floor(majorVersion) === majorVersion,\n      'Major version must be an integer');\n  return versionOf(brand) >= majorVersion;\n}\nexports.isAtLeast = isAtLeast;\n\n/**\n * Returns true if the current browser matches the given brand and is at most\n * the given version. The major version must be a whole number (i.e. decimals\n * should not be used to represent a minor version).\n * @param {!Brand} brand The brand whose version should be returned.\n * @param {number} majorVersion The major version number to compare against.\n *     This must be a whole number.\n * @return {boolean} Whether the current browser both matches the given brand\n *     and is at most the given version.\n */\nfunction isAtMost(brand, majorVersion) {\n  googAsserts.assert(\n      Math.floor(majorVersion) === majorVersion,\n      'Major version must be an integer');\n  return versionOf(brand) <= majorVersion;\n}\nexports.isAtMost = isAtMost;\n\n/**\n * Loads the high-entropy browser brand/version data and wraps the correct\n * version string in a Version object.\n * @implements {AsyncValue<!Version>}\n */\nclass HighEntropyBrandVersion {\n  /**\n   * @param {string} brand The brand whose version is retrieved in this\n   *     container.\n   */\n  constructor(brand) {\n    /**\n     * @const {string}\n     * @private\n     */\n    this.brand_ = brand;\n  }\n\n  /**\n   * @return {!Version|undefined}\n   * @override\n   */\n  getIfLoaded() {\n    const loadedVersionList = fullVersionList.getIfLoaded();\n    if (loadedVersionList !== undefined) {\n      const matchingBrand =\n          loadedVersionList.find(({brand}) => this.brand_ === brand);\n      googAsserts.assertExists(matchingBrand);\n      return new Version(matchingBrand.version);\n    }\n    return;\n  }\n\n  /**\n   * @return {!Promise<!Version>}\n   * @override\n   */\n  async load() {\n    const loadedVersionList = await fullVersionList.load();\n    const matchingBrand =\n        loadedVersionList.find(({brand}) => this.brand_ === brand);\n    googAsserts.assertExists(matchingBrand);\n    return new Version(matchingBrand.version);\n  }\n}\n\n/**\n * Wraps a version string in a Version object.\n * @implements {AsyncValue<!Version>}\n */\nclass UserAgentStringFallbackBrandVersion {\n  /**\n   * @param {string} versionString\n   */\n  constructor(versionString) {\n    /**\n     * @const {!Version}\n     * @private\n     */\n    this.version_ = new Version(versionString);\n  }\n\n  /**\n   * @return {!Version|undefined}\n   * @override\n   */\n  getIfLoaded() {\n    return this.version_;\n  }\n\n  /**\n   * @return {!Promise<!Version>}\n   * @override\n   */\n  async load() {\n    return this.version_;\n  }\n}\n\n/**\n * Requests all full browser versions to be cached.  When the returned promise\n * resolves, subsequent calls to `fullVersionOf(...).getIfLoaded()` will return\n * a value.\n *\n * This method should be avoided in favor of directly awaiting\n * `fullVersionOf(...).load()` where it is used.\n *\n * @return {!Promise<void>}\n */\nasync function loadFullVersions() {\n  if (useUserAgentDataBrand() && hasFullVersionList()) {\n    await fullVersionList.load();\n  }\n}\nexports.loadFullVersions = loadFullVersions;\n\n/**\n * Returns an object that provides access to the full version string of the\n * current browser -- or undefined, based on whether the current browser matches\n * the requested browser brand. Note that the full version string is a\n * high-entropy value, and must be asynchronously loaded before it can be\n * accessed synchronously.\n * @param {!Brand} browser The brand whose version should be returned.\n * @return {!AsyncValue<!Version>|undefined} An object that can be used\n *     to get or load the full version string as a high-entropy value, or\n * undefined if the current browser doesn't match the given brand.\n */\nfunction fullVersionOf(browser) {\n  // Silk currently does not identify itself in its userAgentData.brands array,\n  // so if checking its version, always fall back to the user agent string.\n  if (useUserAgentDataBrand() && hasFullVersionList()) {\n    const data = util.getUserAgentData();\n    // Operate under the assumption that the low-entropy and high-entropy lists\n    // of brand/version pairs contain an identical set of brands. Therefore, if\n    // the low-entropy list doesn't contain the given brand, return undefined.\n    if (!data.brands.find(({brand}) => brand === browser)) {\n      return undefined;\n    }\n    return new HighEntropyBrandVersion(browser);\n  } else {\n    const fullVersionFromUserAgentString =\n        getFullVersionFromUserAgentString(browser);\n    if (fullVersionFromUserAgentString === '') {\n      return undefined;\n    }\n    return new UserAgentStringFallbackBrandVersion(\n        fullVersionFromUserAgentString);\n  }\n}\nexports.fullVersionOf = fullVersionOf;\n\n/**\n * Returns a version string for the current browser or undefined, based on\n * whether the current browser is the one specified.\n * This value should ONLY be used for logging/debugging purposes. Do not use it\n * to branch code paths. For comparing versions, use isAtLeast()/isAtMost() or\n * fullVersionOf() instead.\n * @param {!Brand} browser The brand whose version should be returned.\n * @return {string} The version as a string.\n */\nfunction getVersionStringForLogging(browser) {\n  if (useUserAgentDataBrand()) {\n    const fullVersionObj = fullVersionOf(browser);\n    if (fullVersionObj) {\n      const fullVersion = fullVersionObj.getIfLoaded();\n      if (fullVersion) {\n        return fullVersion.toVersionStringForLogging();\n      }\n      // No full version, return the major version instead.\n      const data = util.getUserAgentData();\n      const matchingBrand = data.brands.find(({brand}) => brand === browser);\n      // Checking for the existence of matchingBrand is not necessary because\n      // the existence of fullVersionObj implies that there is already a\n      // matching brand.\n      googAsserts.assertExists(matchingBrand);\n      return matchingBrand.version;\n    }\n    // If fullVersionObj is undefined, this doesn't mean that the full version\n    // is unavailable, but rather that the current browser doesn't match the\n    // input `browser` argument.\n    return '';\n  } else {\n    return getFullVersionFromUserAgentString(browser);\n  }\n}\nexports.getVersionStringForLogging = getVersionStringForLogging;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Closure user agent detection.\n * @see http://en.wikipedia.org/wiki/User_agent\n * For more information on browser brand, platform, or device see the other\n * sub-namespaces in goog.labs.userAgent (browser, platform, and device).\n */\n\ngoog.module('goog.labs.userAgent.engine');\ngoog.module.declareLegacyNamespace();\n\nconst googArray = goog.require('goog.array');\nconst googString = goog.require('goog.string.internal');\nconst util = goog.require('goog.labs.userAgent.util');\n\n/**\n * @return {boolean} Whether the rendering engine is Presto.\n */\nfunction isPresto() {\n  return util.matchUserAgent('Presto');\n}\n\n/**\n * @return {boolean} Whether the rendering engine is Trident.\n */\nfunction isTrident() {\n  // IE only started including the Trident token in IE8.\n  return util.matchUserAgent('Trident') || util.matchUserAgent('MSIE');\n}\n\n/**\n * @return {boolean} Whether the rendering engine is EdgeHTML.\n */\nfunction isEdge() {\n  return util.matchUserAgent('Edge');\n}\n\n/**\n * @return {boolean} Whether the rendering engine is WebKit. This will return\n * true for Chrome, Blink-based Opera (15+), Edge Chromium and Safari.\n */\nfunction isWebKit() {\n  return util.matchUserAgentIgnoreCase('WebKit') && !isEdge();\n}\n\n/**\n * @return {boolean} Whether the rendering engine is Gecko.\n */\nfunction isGecko() {\n  return util.matchUserAgent('Gecko') && !isWebKit() && !isTrident() &&\n      !isEdge();\n}\n\n/**\n * @return {string} The rendering engine's version or empty string if version\n *     can't be determined.\n */\nfunction getVersion() {\n  const userAgentString = util.getUserAgent();\n  if (userAgentString) {\n    const tuples = util.extractVersionTuples(userAgentString);\n\n    const engineTuple = getEngineTuple(tuples);\n    if (engineTuple) {\n      // In Gecko, the version string is either in the browser info or the\n      // Firefox version.  See Gecko user agent string reference:\n      // http://goo.gl/mULqa\n      if (engineTuple[0] == 'Gecko') {\n        return getVersionForKey(tuples, 'Firefox');\n      }\n\n      return engineTuple[1];\n    }\n\n    // MSIE has only one version identifier, and the Trident version is\n    // specified in the parenthetical. IE Edge is covered in the engine tuple\n    // detection.\n    const browserTuple = tuples[0];\n    let info;\n    if (browserTuple && (info = browserTuple[2])) {\n      const match = /Trident\\/([^\\s;]+)/.exec(info);\n      if (match) {\n        return match[1];\n      }\n    }\n  }\n  return '';\n}\n\n/**\n * @param {!Array<!Array<string>>} tuples Extracted version tuples.\n * @return {!Array<string>|undefined} The engine tuple or undefined if not\n *     found.\n */\nfunction getEngineTuple(tuples) {\n  if (!isEdge()) {\n    return tuples[1];\n  }\n  for (let i = 0; i < tuples.length; i++) {\n    const tuple = tuples[i];\n    if (tuple[0] == 'Edge') {\n      return tuple;\n    }\n  }\n}\n\n/**\n * @param {string|number} version The version to check.\n * @return {boolean} Whether the rendering engine version is higher or the same\n *     as the given version.\n */\nfunction isVersionOrHigher(version) {\n  return googString.compareVersions(getVersion(), version) >= 0;\n}\n\n/**\n * @param {!Array<!Array<string>>} tuples Version tuples.\n * @param {string} key The key to look for.\n * @return {string} The version string of the given key, if present.\n *     Otherwise, the empty string.\n */\nfunction getVersionForKey(tuples, key) {\n  // TODO(nnaze): Move to util if useful elsewhere.\n\n  const pair = googArray.find(tuples, function(pair) {\n    return key == pair[0];\n  });\n\n  return pair && pair[1] || '';\n}\n\nexports = {\n  getVersion,\n  isEdge,\n  isGecko,\n  isPresto,\n  isTrident,\n  isVersionOrHigher,\n  isWebKit,\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Wrapper class for handling XmlHttpRequests.\n *\n * One off requests can be sent through goog.net.XhrIo.send() or an\n * instance can be created to send multiple requests.  Each request uses its\n * own XmlHttpRequest object and handles clearing of the event callback to\n * ensure no leaks.\n *\n * XhrIo is event based, it dispatches events on success, failure, finishing,\n * ready-state change, or progress (download and upload).\n *\n * The ready-state or timeout event fires first, followed by\n * a generic completed event. Then the abort, error, or success event\n * is fired as appropriate. Progress events are fired as they are\n * received. Lastly, the ready event will fire to indicate that the\n * object may be used to make another request.\n *\n * The error event may also be called before completed and\n * ready-state-change if the XmlHttpRequest.open() or .send() methods throw.\n *\n * This class does not support multiple requests, queuing, or prioritization.\n *\n * When progress events are supported by the browser, and progress is\n * enabled via .setProgressEventsEnabled(true), the\n * goog.net.EventType.PROGRESS event will be the re-dispatched browser\n * progress event. Additionally, a DOWNLOAD_PROGRESS or UPLOAD_PROGRESS event\n * will be fired for download and upload progress respectively.\n */\n\n\ngoog.provide('goog.net.XhrIo');\ngoog.provide('goog.net.XhrIo.ResponseType');\n\ngoog.require('goog.Timer');\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.collections.maps');\ngoog.require('goog.debug.entryPointRegistry');\ngoog.require('goog.events.EventTarget');\ngoog.require('goog.json.hybrid');\ngoog.require('goog.log');\ngoog.require('goog.net.ErrorCode');\ngoog.require('goog.net.EventType');\ngoog.require('goog.net.HttpStatus');\ngoog.require('goog.net.XmlHttp');\ngoog.require('goog.object');\ngoog.require('goog.string');\ngoog.require('goog.uri.utils');\ngoog.require('goog.userAgent');\ngoog.requireType('goog.Uri');\ngoog.requireType('goog.debug.ErrorHandler');\ngoog.requireType('goog.net.XhrLike');\ngoog.requireType('goog.net.XmlHttpFactory');\n\ngoog.scope(function() {\n\n'use strict';\n/**\n * Basic class for handling XMLHttpRequests.\n * @param {goog.net.XmlHttpFactory=} opt_xmlHttpFactory Factory to use when\n *     creating XMLHttpRequest objects.\n * @constructor\n * @extends {goog.events.EventTarget}\n */\ngoog.net.XhrIo = function(opt_xmlHttpFactory) {\n  'use strict';\n  XhrIo.base(this, 'constructor');\n\n  /**\n   * Map of default headers to add to every request, use:\n   * XhrIo.headers.set(name, value)\n   * @type {!Map<string,string>}\n   */\n  this.headers = new Map();\n\n  /**\n   * Optional XmlHttpFactory\n   * @private {goog.net.XmlHttpFactory}\n   */\n  this.xmlHttpFactory_ = opt_xmlHttpFactory || null;\n\n  /**\n   * Whether XMLHttpRequest is active.  A request is active from the time send()\n   * is called until onReadyStateChange() is complete, or error() or abort()\n   * is called.\n   * @private {boolean}\n   */\n  this.active_ = false;\n\n  /**\n   * The XMLHttpRequest object that is being used for the transfer.\n   * @private {?goog.net.XhrLike.OrNative}\n   */\n  this.xhr_ = null;\n\n  /**\n   * The options to use with the current XMLHttpRequest object.\n   * @private {?Object}\n   */\n  this.xhrOptions_ = null;\n\n  /**\n   * Last URL that was requested.\n   * @private {string|goog.Uri}\n   */\n  this.lastUri_ = '';\n\n  /**\n   * Method for the last request.\n   * @private {string}\n   */\n  this.lastMethod_ = '';\n\n  /**\n   * Last error code.\n   * @private {!goog.net.ErrorCode}\n   */\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n\n  /**\n   * Last error message.\n   * @private {Error|string}\n   */\n  this.lastError_ = '';\n\n  /**\n   * Used to ensure that we don't dispatch an multiple ERROR events. This can\n   * happen in IE when it does a synchronous load and one error is handled in\n   * the ready state change and one is handled due to send() throwing an\n   * exception.\n   * @private {boolean}\n   */\n  this.errorDispatched_ = false;\n\n  /**\n   * Used to make sure we don't fire the complete event from inside a send call.\n   * @private {boolean}\n   */\n  this.inSend_ = false;\n\n  /**\n   * Used in determining if a call to {@link #onReadyStateChange_} is from\n   * within a call to this.xhr_.open.\n   * @private {boolean}\n   */\n  this.inOpen_ = false;\n\n  /**\n   * Used in determining if a call to {@link #onReadyStateChange_} is from\n   * within a call to this.xhr_.abort.\n   * @private {boolean}\n   */\n  this.inAbort_ = false;\n\n  /**\n   * Number of milliseconds after which an incomplete request will be aborted\n   * and a {@link goog.net.EventType.TIMEOUT} event raised; 0 means no timeout\n   * is set.\n   * @private {number}\n   */\n  this.timeoutInterval_ = 0;\n\n  /**\n   * Timer to track request timeout.\n   * @private {?number}\n   */\n  this.timeoutId_ = null;\n\n  /**\n   * The requested type for the response. The empty string means use the default\n   * XHR behavior.\n   * @private {goog.net.XhrIo.ResponseType}\n   */\n  this.responseType_ = ResponseType.DEFAULT;\n\n  /**\n   * Whether a \"credentialed\" request is to be sent (one that is aware of\n   * cookies and authentication). This is applicable only for cross-domain\n   * requests and more recent browsers that support this part of the HTTP Access\n   * Control standard.\n   *\n   * @see http://www.w3.org/TR/XMLHttpRequest/#the-withcredentials-attribute\n   *\n   * @private {boolean}\n   */\n  this.withCredentials_ = false;\n\n  /**\n   * Whether progress events are enabled for this request. This is\n   * disabled by default because setting a progress event handler\n   * causes pre-flight OPTIONS requests to be sent for CORS requests,\n   * even in cases where a pre-flight request would not otherwise be\n   * sent.\n   *\n   * @see http://xhr.spec.whatwg.org/#security-considerations\n   *\n   * Note that this can cause problems for Firefox 22 and below, as an\n   * older \"LSProgressEvent\" will be dispatched by the browser. That\n   * progress event is no longer supported, and can lead to failures,\n   * including throwing exceptions.\n   *\n   * @see http://bugzilla.mozilla.org/show_bug.cgi?id=845631\n   * @see b/23469793\n   *\n   * @private {boolean}\n   */\n  this.progressEventsEnabled_ = false;\n\n  /**\n   * True if we can use XMLHttpRequest's timeout directly.\n   * @private {boolean}\n   */\n  this.useXhr2Timeout_ = false;\n\n  /**\n   * Specification for Trust Token operations (issuance, signing, and\n   * redemption).\n   * @private {?TrustTokenAttributeType}\n   */\n  this.trustToken_ = null;\n};\ngoog.inherits(goog.net.XhrIo, goog.events.EventTarget);\n\nconst XhrIo = goog.net.XhrIo;\n\n/**\n * Response types that may be requested for XMLHttpRequests.\n * @enum {string}\n * @see http://www.w3.org/TR/XMLHttpRequest/#the-responsetype-attribute\n */\ngoog.net.XhrIo.ResponseType = {\n  DEFAULT: '',\n  TEXT: 'text',\n  DOCUMENT: 'document',\n  // Not supported as of Chrome 10.0.612.1 dev\n  BLOB: 'blob',\n  ARRAY_BUFFER: 'arraybuffer',\n};\n\nconst ResponseType = goog.net.XhrIo.ResponseType;\n\n\n/**\n * A reference to the XhrIo logger\n * @private {?goog.log.Logger}\n * @const\n */\ngoog.net.XhrIo.prototype.logger_ = goog.log.getLogger('goog.net.XhrIo');\n\n\n/**\n * The Content-Type HTTP header name\n * @type {string}\n */\ngoog.net.XhrIo.CONTENT_TYPE_HEADER = 'Content-Type';\n\n\n/**\n * The Content-Transfer-Encoding HTTP header name\n * @type {string}\n */\ngoog.net.XhrIo.CONTENT_TRANSFER_ENCODING = 'Content-Transfer-Encoding';\n\n\n/**\n * The pattern matching the 'http' and 'https' URI schemes\n * @type {!RegExp}\n */\ngoog.net.XhrIo.HTTP_SCHEME_PATTERN = /^https?$/i;\n\nconst HTTP_SCHEME_PATTERN = goog.net.XhrIo.HTTP_SCHEME_PATTERN;\n\n\n/**\n * The methods that typically come along with form data.  We set different\n * headers depending on whether the HTTP action is one of these.\n * @type {!Array<string>}\n */\ngoog.net.XhrIo.METHODS_WITH_FORM_DATA = ['POST', 'PUT'];\n\n\n/**\n * The Content-Type HTTP header value for a url-encoded form\n * @type {string}\n */\ngoog.net.XhrIo.FORM_CONTENT_TYPE =\n    'application/x-www-form-urlencoded;charset=utf-8';\n\n\n/**\n * The XMLHttpRequest Level two timeout delay ms property name.\n *\n * @see http://www.w3.org/TR/XMLHttpRequest/#the-timeout-attribute\n *\n * @private {string}\n * @const\n */\ngoog.net.XhrIo.XHR2_TIMEOUT_ = 'timeout';\n\n\n/**\n * The XMLHttpRequest Level two ontimeout handler property name.\n *\n * @see http://www.w3.org/TR/XMLHttpRequest/#the-timeout-attribute\n *\n * @private {string}\n * @const\n */\ngoog.net.XhrIo.XHR2_ON_TIMEOUT_ = 'ontimeout';\n\n\n/**\n * All non-disposed instances of goog.net.XhrIo created\n * by {@link goog.net.XhrIo.send} are in this Array.\n * @see goog.net.XhrIo.cleanup\n * @private {!Array<!goog.net.XhrIo>}\n */\ngoog.net.XhrIo.sendInstances_ = [];\n\n\n/**\n * Static send that creates a short lived instance of XhrIo to send the\n * request.\n * @see goog.net.XhrIo.cleanup\n * @param {string|goog.Uri} url Uri to make request to.\n * @param {?function(this:goog.net.XhrIo, ?)=} opt_callback Callback function\n *     for when request is complete.\n * @param {string=} opt_method Send method, default: GET.\n * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=}\n *     opt_content Body data.\n * @param {(?Object|?goog.collections.maps.MapLike<string, string>)=}\n *     opt_headers Map of headers to add to the request.\n * @param {number=} opt_timeoutInterval Number of milliseconds after which an\n *     incomplete request will be aborted; 0 means no timeout is set.\n * @param {boolean=} opt_withCredentials Whether to send credentials with the\n *     request. Default to false. See {@link goog.net.XhrIo#setWithCredentials}.\n * @return {!goog.net.XhrIo} The sent XhrIo.\n */\ngoog.net.XhrIo.send = function(\n    url, opt_callback, opt_method, opt_content, opt_headers,\n    opt_timeoutInterval, opt_withCredentials) {\n  'use strict';\n  const x = new goog.net.XhrIo();\n  goog.net.XhrIo.sendInstances_.push(x);\n  if (opt_callback) {\n    x.listen(goog.net.EventType.COMPLETE, opt_callback);\n  }\n  x.listenOnce(goog.net.EventType.READY, x.cleanupSend_);\n  if (opt_timeoutInterval) {\n    x.setTimeoutInterval(opt_timeoutInterval);\n  }\n  if (opt_withCredentials) {\n    x.setWithCredentials(opt_withCredentials);\n  }\n  x.send(url, opt_method, opt_content, opt_headers);\n  return x;\n};\n\n\n/**\n * Disposes all non-disposed instances of goog.net.XhrIo created by\n * {@link goog.net.XhrIo.send}.\n * {@link goog.net.XhrIo.send} cleans up the goog.net.XhrIo instance\n * it creates when the request completes or fails.  However, if\n * the request never completes, then the goog.net.XhrIo is not disposed.\n * This can occur if the window is unloaded before the request completes.\n * We could have {@link goog.net.XhrIo.send} return the goog.net.XhrIo\n * it creates and make the client of {@link goog.net.XhrIo.send} be\n * responsible for disposing it in this case.  However, this makes things\n * significantly more complicated for the client, and the whole point\n * of {@link goog.net.XhrIo.send} is that it's simple and easy to use.\n * Clients of {@link goog.net.XhrIo.send} should call\n * {@link goog.net.XhrIo.cleanup} when doing final\n * cleanup on window unload.\n */\ngoog.net.XhrIo.cleanup = function() {\n  'use strict';\n  const instances = goog.net.XhrIo.sendInstances_;\n  while (instances.length) {\n    instances.pop().dispose();\n  }\n};\n\n\n/**\n * Installs exception protection for all entry point introduced by\n * goog.net.XhrIo instances which are not protected by\n * {@link goog.debug.ErrorHandler#protectWindowSetTimeout},\n * {@link goog.debug.ErrorHandler#protectWindowSetInterval}, or\n * {@link goog.events.protectBrowserEventEntryPoint}.\n *\n * @param {goog.debug.ErrorHandler} errorHandler Error handler with which to\n *     protect the entry point(s).\n */\ngoog.net.XhrIo.protectEntryPoints = function(errorHandler) {\n  'use strict';\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ =\n      errorHandler.protectEntryPoint(\n          goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n};\n\n\n/**\n * Disposes of the specified goog.net.XhrIo created by\n * {@link goog.net.XhrIo.send} and removes it from\n * {@link goog.net.XhrIo.pendingStaticSendInstances_}.\n * @private\n */\ngoog.net.XhrIo.prototype.cleanupSend_ = function() {\n  'use strict';\n  this.dispose();\n  goog.array.remove(goog.net.XhrIo.sendInstances_, this);\n};\n\n\n/**\n * Returns the number of milliseconds after which an incomplete request will be\n * aborted, or 0 if no timeout is set.\n * @return {number} Timeout interval in milliseconds.\n */\ngoog.net.XhrIo.prototype.getTimeoutInterval = function() {\n  'use strict';\n  return this.timeoutInterval_;\n};\n\n\n/**\n * Sets the number of milliseconds after which an incomplete request will be\n * aborted and a {@link goog.net.EventType.TIMEOUT} event raised; 0 means no\n * timeout is set.\n * @param {number} ms Timeout interval in milliseconds; 0 means none.\n */\ngoog.net.XhrIo.prototype.setTimeoutInterval = function(ms) {\n  'use strict';\n  this.timeoutInterval_ = Math.max(0, ms);\n};\n\n\n/**\n * Sets the desired type for the response. At time of writing, this is only\n * supported in very recent versions of WebKit (10.0.612.1 dev and later).\n *\n * If this is used, the response may only be accessed via {@link #getResponse}.\n *\n * @param {goog.net.XhrIo.ResponseType} type The desired type for the response.\n */\ngoog.net.XhrIo.prototype.setResponseType = function(type) {\n  'use strict';\n  this.responseType_ = type;\n};\n\n\n/**\n * Gets the desired type for the response.\n * @return {goog.net.XhrIo.ResponseType} The desired type for the response.\n */\ngoog.net.XhrIo.prototype.getResponseType = function() {\n  'use strict';\n  return this.responseType_;\n};\n\n\n/**\n * Sets whether a \"credentialed\" request that is aware of cookie and\n * authentication information should be made. This option is only supported by\n * browsers that support HTTP Access Control. As of this writing, this option\n * is not supported in IE.\n *\n * @param {boolean} withCredentials Whether this should be a \"credentialed\"\n *     request.\n */\ngoog.net.XhrIo.prototype.setWithCredentials = function(withCredentials) {\n  'use strict';\n  this.withCredentials_ = withCredentials;\n};\n\n\n/**\n * Gets whether a \"credentialed\" request is to be sent.\n * @return {boolean} The desired type for the response.\n */\ngoog.net.XhrIo.prototype.getWithCredentials = function() {\n  'use strict';\n  return this.withCredentials_;\n};\n\n\n/**\n * Sets whether progress events are enabled for this request. Note\n * that progress events require pre-flight OPTIONS request handling\n * for CORS requests, and may cause trouble with older browsers. See\n * progressEventsEnabled_ for details.\n * @param {boolean} enabled Whether progress events should be enabled.\n */\ngoog.net.XhrIo.prototype.setProgressEventsEnabled = function(enabled) {\n  'use strict';\n  this.progressEventsEnabled_ = enabled;\n};\n\n\n/**\n * Gets whether progress events are enabled.\n * @return {boolean} Whether progress events are enabled for this request.\n */\ngoog.net.XhrIo.prototype.getProgressEventsEnabled = function() {\n  'use strict';\n  return this.progressEventsEnabled_;\n};\n\n/**\n * Specify a Trust Tokens operation to execute alongside the request.\n * @param {!TrustTokenAttributeType} trustToken a Trust Tokens operation to\n *     execute.\n */\ngoog.net.XhrIo.prototype.setTrustToken = function(trustToken) {\n  'use strict';\n  this.trustToken_ = trustToken;\n};\n\n/**\n * Instance send that actually uses XMLHttpRequest to make a server call.\n * @param {string|goog.Uri} url Uri to make request to.\n * @param {string=} opt_method Send method, default: GET.\n * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=}\n *     opt_content Body data.\n * @param {(?Object|?goog.collections.maps.MapLike<string, string>)=}\n *     opt_headers Map of headers to add to the request.\n * @suppress {deprecated} Use deprecated goog.structs.forEach to allow different\n * types of parameters for opt_headers.\n */\ngoog.net.XhrIo.prototype.send = function(\n    url, opt_method, opt_content, opt_headers) {\n  'use strict';\n  if (this.xhr_) {\n    throw new Error(\n        '[goog.net.XhrIo] Object is active with another request=' +\n        this.lastUri_ + '; newUri=' + url);\n  }\n\n  const method = opt_method ? opt_method.toUpperCase() : 'GET';\n\n  this.lastUri_ = url;\n  this.lastError_ = '';\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastMethod_ = method;\n  this.errorDispatched_ = false;\n  this.active_ = true;\n\n  // Use the factory to create the XHR object and options\n  this.xhr_ = this.createXhr();\n  this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() :\n                                            goog.net.XmlHttp.getOptions();\n\n  // Set up the onreadystatechange callback\n  this.xhr_.onreadystatechange = goog.bind(this.onReadyStateChange_, this);\n\n  // Set up upload/download progress events, if progress events are supported.\n  if (this.getProgressEventsEnabled() && 'onprogress' in this.xhr_) {\n    this.xhr_.onprogress = goog.bind(function(e) {\n      'use strict';\n      this.onProgressHandler_(e, true);\n    }, this);\n    if (this.xhr_.upload) {\n      this.xhr_.upload.onprogress = goog.bind(this.onProgressHandler_, this);\n    }\n  }\n\n  /**\n   * Try to open the XMLHttpRequest (always async), if an error occurs here it\n   * is generally permission denied\n   */\n  try {\n    goog.log.fine(this.logger_, this.formatMsg_('Opening Xhr'));\n    this.inOpen_ = true;\n    this.xhr_.open(method, String(url), true);  // Always async!\n    this.inOpen_ = false;\n  } catch (err) {\n    goog.log.fine(\n        this.logger_, this.formatMsg_('Error opening Xhr: ' + err.message));\n    this.error_(goog.net.ErrorCode.EXCEPTION, err);\n    return;\n  }\n\n  // We can't use null since this won't allow requests with form data to have a\n  // content length specified which will cause some proxies to return a 411\n  // error.\n  const content = opt_content || '';\n\n  const headers = new Map(this.headers);\n\n  // Add headers specific to this request\n  if (opt_headers) {\n    if (Object.getPrototypeOf(opt_headers) === Object.prototype) {\n      for (let key in opt_headers) {\n        headers.set(key, opt_headers[key]);\n      }\n    } else if (\n        typeof opt_headers.keys === 'function' &&\n        typeof opt_headers.get === 'function') {\n      for (const key of opt_headers.keys()) {\n        headers.set(key, opt_headers.get(key));\n      }\n    } else {\n      throw new Error(\n          'Unknown input type for opt_headers: ' + String(opt_headers));\n    }\n  }\n\n  // Find whether a content type header is set, ignoring case.\n  // HTTP header names are case-insensitive.  See:\n  // http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2\n  const contentTypeKey =\n      Array.from(headers.keys())\n          .find(\n              header => goog.string.caseInsensitiveEquals(\n                  goog.net.XhrIo.CONTENT_TYPE_HEADER, header));\n\n  const contentIsFormData =\n      (goog.global['FormData'] && (content instanceof goog.global['FormData']));\n  if (goog.array.contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA, method) &&\n      !contentTypeKey && !contentIsFormData) {\n    // For requests typically with form data, default to the url-encoded form\n    // content type unless this is a FormData request.  For FormData,\n    // the browser will automatically add a multipart/form-data content type\n    // with an appropriate multipart boundary.\n    headers.set(\n        goog.net.XhrIo.CONTENT_TYPE_HEADER, goog.net.XhrIo.FORM_CONTENT_TYPE);\n  }\n\n  // Add the headers to the Xhr object\n  for (const [key, value] of headers) {\n    this.xhr_.setRequestHeader(key, value);\n  }\n\n  if (this.responseType_) {\n    this.xhr_.responseType = this.responseType_;\n  }\n  // Set xhr_.withCredentials only when the value is different, or else in\n  // synchronous XMLHtppRequest.open Firefox will throw an exception.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=736340\n  if ('withCredentials' in this.xhr_ &&\n      this.xhr_.withCredentials !== this.withCredentials_) {\n    this.xhr_.withCredentials = this.withCredentials_;\n  }\n\n  if ('setTrustToken' in this.xhr_ && this.trustToken_) {\n    try {\n      this.xhr_.setTrustToken(this.trustToken_);\n    } catch (err) {\n      goog.log.fine(\n          this.logger_, this.formatMsg_('Error SetTrustToken: ' + err.message));\n    }\n  }\n  /**\n   * Try to send the request, or other wise report an error (404 not found).\n   */\n  try {\n    this.cleanUpTimeoutTimer_();  // Paranoid, should never be running.\n    if (this.timeoutInterval_ > 0) {\n      this.useXhr2Timeout_ = goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_);\n      goog.log.fine(\n          this.logger_,\n          this.formatMsg_(\n              'Will abort after ' + this.timeoutInterval_ +\n              'ms if incomplete, xhr2 ' + this.useXhr2Timeout_));\n      if (this.useXhr2Timeout_) {\n        this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_] = this.timeoutInterval_;\n        this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] =\n            goog.bind(this.timeout_, this);\n      } else {\n        this.timeoutId_ =\n            goog.Timer.callOnce(this.timeout_, this.timeoutInterval_, this);\n      }\n    }\n    goog.log.fine(this.logger_, this.formatMsg_('Sending request'));\n    this.inSend_ = true;\n    this.xhr_.send(content);\n    this.inSend_ = false;\n\n  } catch (err) {\n    goog.log.fine(this.logger_, this.formatMsg_('Send error: ' + err.message));\n    this.error_(goog.net.ErrorCode.EXCEPTION, err);\n  }\n};\n\n\n/**\n * Determines if the argument is an XMLHttpRequest that supports the level 2\n * timeout value and event.\n *\n * Currently, FF 21.0 OS X has the fields but won't actually call the timeout\n * handler.  Perhaps the confusion in the bug referenced below hasn't\n * entirely been resolved.\n *\n * @see http://www.w3.org/TR/XMLHttpRequest/#the-timeout-attribute\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=525816\n *\n * @param {!goog.net.XhrLike.OrNative} xhr The request.\n * @return {boolean} True if the request supports level 2 timeout.\n * @private\n */\ngoog.net.XhrIo.shouldUseXhr2Timeout_ = function(xhr) {\n  'use strict';\n  return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(9) &&\n      typeof xhr[goog.net.XhrIo.XHR2_TIMEOUT_] === 'number' &&\n      xhr[goog.net.XhrIo.XHR2_ON_TIMEOUT_] !== undefined;\n};\n\n\n/**\n * Creates a new XHR object.\n * @return {!goog.net.XhrLike.OrNative} The newly created XHR object.\n * @protected\n */\ngoog.net.XhrIo.prototype.createXhr = function() {\n  'use strict';\n  return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() :\n                                goog.net.XmlHttp();\n};\n\n\n/**\n * The request didn't complete after {@link goog.net.XhrIo#timeoutInterval_}\n * milliseconds; raises a {@link goog.net.EventType.TIMEOUT} event and aborts\n * the request.\n * @private\n */\ngoog.net.XhrIo.prototype.timeout_ = function() {\n  'use strict';\n  if (typeof goog == 'undefined') {\n    // If goog is undefined then the callback has occurred as the application\n    // is unloading and will error.  Thus we let it silently fail.\n  } else if (this.xhr_) {\n    this.lastError_ =\n        'Timed out after ' + this.timeoutInterval_ + 'ms, aborting';\n    this.lastErrorCode_ = goog.net.ErrorCode.TIMEOUT;\n    goog.log.fine(this.logger_, this.formatMsg_(this.lastError_));\n    this.dispatchEvent(goog.net.EventType.TIMEOUT);\n    this.abort(goog.net.ErrorCode.TIMEOUT);\n  }\n};\n\n\n/**\n * Something errorred, so inactivate, fire error callback and clean up\n * @param {goog.net.ErrorCode} errorCode The error code.\n * @param {Error} err The error object.\n * @private\n */\ngoog.net.XhrIo.prototype.error_ = function(errorCode, err) {\n  'use strict';\n  this.active_ = false;\n  if (this.xhr_) {\n    this.inAbort_ = true;\n    this.xhr_.abort();  // Ensures XHR isn't hung (FF)\n    this.inAbort_ = false;\n  }\n  this.lastError_ = err;\n  this.lastErrorCode_ = errorCode;\n  this.dispatchErrors_();\n  this.cleanUpXhr_();\n};\n\n\n/**\n * Dispatches COMPLETE and ERROR in case of an error. This ensures that we do\n * not dispatch multiple error events.\n * @private\n */\ngoog.net.XhrIo.prototype.dispatchErrors_ = function() {\n  'use strict';\n  if (!this.errorDispatched_) {\n    this.errorDispatched_ = true;\n    this.dispatchEvent(goog.net.EventType.COMPLETE);\n    this.dispatchEvent(goog.net.EventType.ERROR);\n  }\n};\n\n\n/**\n * Abort the current XMLHttpRequest\n * @param {goog.net.ErrorCode=} opt_failureCode Optional error code to use -\n *     defaults to ABORT.\n */\ngoog.net.XhrIo.prototype.abort = function(opt_failureCode) {\n  'use strict';\n  if (this.xhr_ && this.active_) {\n    goog.log.fine(this.logger_, this.formatMsg_('Aborting'));\n    this.active_ = false;\n    this.inAbort_ = true;\n    this.xhr_.abort();\n    this.inAbort_ = false;\n    this.lastErrorCode_ = opt_failureCode || goog.net.ErrorCode.ABORT;\n    this.dispatchEvent(goog.net.EventType.COMPLETE);\n    this.dispatchEvent(goog.net.EventType.ABORT);\n    this.cleanUpXhr_();\n  }\n};\n\n\n/**\n * Nullifies all callbacks to reduce risks of leaks.\n * @override\n * @protected\n */\ngoog.net.XhrIo.prototype.disposeInternal = function() {\n  'use strict';\n  if (this.xhr_) {\n    // We explicitly do not call xhr_.abort() unless active_ is still true.\n    // This is to avoid unnecessarily aborting a successful request when\n    // dispose() is called in a callback triggered by a complete response, but\n    // in which browser cleanup has not yet finished.\n    // (See http://b/issue?id=1684217.)\n    if (this.active_) {\n      this.active_ = false;\n      this.inAbort_ = true;\n      this.xhr_.abort();\n      this.inAbort_ = false;\n    }\n    this.cleanUpXhr_(true);\n  }\n\n  XhrIo.base(this, 'disposeInternal');\n};\n\n\n/**\n * Internal handler for the XHR object's readystatechange event.  This method\n * checks the status and the readystate and fires the correct callbacks.\n * If the request has ended, the handlers are cleaned up and the XHR object is\n * nullified.\n * @private\n */\ngoog.net.XhrIo.prototype.onReadyStateChange_ = function() {\n  'use strict';\n  if (this.isDisposed()) {\n    // This method is the target of an untracked goog.Timer.callOnce().\n    return;\n  }\n  if (!this.inOpen_ && !this.inSend_ && !this.inAbort_) {\n    // Were not being called from within a call to this.xhr_.send\n    // this.xhr_.abort, or this.xhr_.open, so this is an entry point\n    this.onReadyStateChangeEntryPoint_();\n  } else {\n    this.onReadyStateChangeHelper_();\n  }\n};\n\n\n/**\n * Used to protect the onreadystatechange handler entry point.  Necessary\n * as {#onReadyStateChange_} maybe called from within send or abort, this\n * method is only called when {#onReadyStateChange_} is called as an\n * entry point.\n * {@see #protectEntryPoints}\n * @private\n */\ngoog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = function() {\n  'use strict';\n  this.onReadyStateChangeHelper_();\n};\n\n\n/**\n * Helper for {@link #onReadyStateChange_}.  This is used so that\n * entry point calls to {@link #onReadyStateChange_} can be routed through\n * {@link #onReadyStateChangeEntryPoint_}.\n * @private\n */\ngoog.net.XhrIo.prototype.onReadyStateChangeHelper_ = function() {\n  'use strict';\n  if (!this.active_) {\n    // can get called inside abort call\n    return;\n  }\n\n  if (typeof goog == 'undefined') {\n    // NOTE(user): If goog is undefined then the callback has occurred as the\n    // application is unloading and will error.  Thus we let it silently fail.\n\n  } else if (\n      this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] &&\n      this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE &&\n      this.getStatus() == 2) {\n    // NOTE(user): In IE if send() errors on a *local* request the readystate\n    // is still changed to COMPLETE.  We need to ignore it and allow the\n    // try/catch around send() to pick up the error.\n    goog.log.fine(\n        this.logger_,\n        this.formatMsg_('Local request error detected and ignored'));\n\n  } else {\n    // In IE when the response has been cached we sometimes get the callback\n    // from inside the send call and this usually breaks code that assumes that\n    // XhrIo is asynchronous.  If that is the case we delay the callback\n    // using a timer.\n    if (this.inSend_ &&\n        this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE) {\n      goog.Timer.callOnce(this.onReadyStateChange_, 0, this);\n      return;\n    }\n\n    this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE);\n\n    // readyState indicates the transfer has finished\n    if (this.isComplete()) {\n      goog.log.fine(this.logger_, this.formatMsg_('Request complete'));\n\n      this.active_ = false;\n\n      try {\n        // Call the specific callbacks for success or failure. Only call the\n        // success if the status is 200 (HTTP_OK) or 304 (HTTP_CACHED)\n        if (this.isSuccess()) {\n          this.dispatchEvent(goog.net.EventType.COMPLETE);\n          this.dispatchEvent(goog.net.EventType.SUCCESS);\n        } else {\n          this.lastErrorCode_ = goog.net.ErrorCode.HTTP_ERROR;\n          this.lastError_ =\n              this.getStatusText() + ' [' + this.getStatus() + ']';\n          this.dispatchErrors_();\n        }\n      } finally {\n        this.cleanUpXhr_();\n      }\n    }\n  }\n};\n\n\n/**\n * Internal handler for the XHR object's onprogress event. Fires both a generic\n * PROGRESS event and either a DOWNLOAD_PROGRESS or UPLOAD_PROGRESS event to\n * allow specific binding for each XHR progress event.\n * @param {!ProgressEvent} e XHR progress event.\n * @param {boolean=} opt_isDownload Whether the current progress event is from a\n *     download. Used to determine whether DOWNLOAD_PROGRESS or UPLOAD_PROGRESS\n *     event should be dispatched.\n * @private\n */\ngoog.net.XhrIo.prototype.onProgressHandler_ = function(e, opt_isDownload) {\n  'use strict';\n  goog.asserts.assert(\n      e.type === goog.net.EventType.PROGRESS,\n      'goog.net.EventType.PROGRESS is of the same type as raw XHR progress.');\n  this.dispatchEvent(\n      goog.net.XhrIo.buildProgressEvent_(e, goog.net.EventType.PROGRESS));\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(\n      e,\n      opt_isDownload ? goog.net.EventType.DOWNLOAD_PROGRESS :\n                       goog.net.EventType.UPLOAD_PROGRESS));\n};\n\n\n/**\n * Creates a representation of the native ProgressEvent. IE doesn't support\n * constructing ProgressEvent via \"new\", and the alternatives (e.g.,\n * ProgressEvent.initProgressEvent) are non-standard or deprecated.\n * @param {!ProgressEvent} e XHR progress event.\n * @param {!goog.net.EventType} eventType The type of the event.\n * @return {!ProgressEvent} The progress event.\n * @private\n */\ngoog.net.XhrIo.buildProgressEvent_ = function(e, eventType) {\n  'use strict';\n  return /** @type {!ProgressEvent} */ ({\n    type: eventType,\n    lengthComputable: e.lengthComputable,\n    loaded: e.loaded,\n    total: e.total,\n  });\n};\n\n\n/**\n * Remove the listener to protect against leaks, and nullify the XMLHttpRequest\n * object.\n * @param {boolean=} opt_fromDispose If this is from the dispose (don't want to\n *     fire any events).\n * @private\n */\ngoog.net.XhrIo.prototype.cleanUpXhr_ = function(opt_fromDispose) {\n  'use strict';\n  if (this.xhr_) {\n    // Cancel any pending timeout event handler.\n    this.cleanUpTimeoutTimer_();\n\n    // Save reference so we can mark it as closed after the READY event.  The\n    // READY event may trigger another request, thus we must nullify this.xhr_\n    const xhr = this.xhr_;\n    const clearedOnReadyStateChange =\n        this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] ?\n        goog.nullFunction :\n        null;\n    this.xhr_ = null;\n    this.xhrOptions_ = null;\n\n    if (!opt_fromDispose) {\n      this.dispatchEvent(goog.net.EventType.READY);\n    }\n\n    try {\n      // NOTE(user): Not nullifying in FireFox can still leak if the callbacks\n      // are defined in the same scope as the instance of XhrIo. But, IE doesn't\n      // allow you to set the onreadystatechange to NULL so nullFunction is\n      // used.\n      xhr.onreadystatechange = clearedOnReadyStateChange;\n    } catch (e) {\n      // This seems to occur with a Gears HTTP request. Delayed the setting of\n      // this onreadystatechange until after READY is sent out and catching the\n      // error to see if we can track down the problem.\n      goog.log.error(\n          this.logger_,\n          'Problem encountered resetting onreadystatechange: ' + e.message);\n    }\n  }\n};\n\n\n/**\n * Make sure the timeout timer isn't running.\n * @private\n */\ngoog.net.XhrIo.prototype.cleanUpTimeoutTimer_ = function() {\n  'use strict';\n  if (this.xhr_ && this.useXhr2Timeout_) {\n    this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = null;\n  }\n  if (this.timeoutId_) {\n    goog.Timer.clear(this.timeoutId_);\n    this.timeoutId_ = null;\n  }\n};\n\n\n/**\n * @return {boolean} Whether there is an active request.\n */\ngoog.net.XhrIo.prototype.isActive = function() {\n  'use strict';\n  return !!this.xhr_;\n};\n\n\n/**\n * @return {boolean} Whether the request has completed.\n */\ngoog.net.XhrIo.prototype.isComplete = function() {\n  'use strict';\n  return this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;\n};\n\n\n/**\n * @return {boolean} Whether the request completed with a success.\n */\ngoog.net.XhrIo.prototype.isSuccess = function() {\n  'use strict';\n  const status = this.getStatus();\n  // A zero status code is considered successful for local files.\n  return goog.net.HttpStatus.isSuccess(status) ||\n      status === 0 && !this.isLastUriEffectiveSchemeHttp_();\n};\n\n\n/**\n * @return {boolean} whether the effective scheme of the last URI that was\n *     fetched was 'http' or 'https'.\n * @private\n */\ngoog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_ = function() {\n  'use strict';\n  const scheme = goog.uri.utils.getEffectiveScheme(String(this.lastUri_));\n  return HTTP_SCHEME_PATTERN.test(scheme);\n};\n\n\n/**\n * Get the readystate from the Xhr object\n * Will only return correct result when called from the context of a callback\n * @return {goog.net.XmlHttp.ReadyState} goog.net.XmlHttp.ReadyState.*.\n */\ngoog.net.XhrIo.prototype.getReadyState = function() {\n  'use strict';\n  return this.xhr_ ?\n      /** @type {goog.net.XmlHttp.ReadyState} */ (this.xhr_.readyState) :\n      goog.net.XmlHttp.ReadyState.UNINITIALIZED;\n};\n\n\n/**\n * Get the status from the Xhr object\n * Will only return correct result when called from the context of a callback\n * @return {number} Http status.\n */\ngoog.net.XhrIo.prototype.getStatus = function() {\n  'use strict';\n  /**\n   * IE doesn't like you checking status until the readystate is greater than 2\n   * (i.e. it is receiving or complete).  The try/catch is used for when the\n   * page is unloading and an ERROR_NOT_AVAILABLE may occur when accessing xhr_.\n   */\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ?\n        this.xhr_.status :\n        -1;\n  } catch (e) {\n    return -1;\n  }\n};\n\n\n/**\n * Get the status text from the Xhr object\n * Will only return correct result when called from the context of a callback\n * @return {string} Status text.\n */\ngoog.net.XhrIo.prototype.getStatusText = function() {\n  'use strict';\n  /**\n   * IE doesn't like you checking status until the readystate is greater than 2\n   * (i.e. it is receiving or complete).  The try/catch is used for when the\n   * page is unloading and an ERROR_NOT_AVAILABLE may occur when accessing xhr_.\n   */\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ?\n        this.xhr_.statusText :\n        '';\n  } catch (e) {\n    goog.log.fine(this.logger_, 'Can not get status: ' + e.message);\n    return '';\n  }\n};\n\n\n/**\n * Get the last Uri that was requested\n * @return {string} Last Uri.\n */\ngoog.net.XhrIo.prototype.getLastUri = function() {\n  'use strict';\n  return String(this.lastUri_);\n};\n\n\n/**\n * Get the response text from the Xhr object\n * Will only return correct result when called from the context of a callback.\n * @return {string} Result from the server, or '' if no result available.\n */\ngoog.net.XhrIo.prototype.getResponseText = function() {\n  'use strict';\n  try {\n    return this.xhr_ ? this.xhr_.responseText : '';\n  } catch (e) {\n    // http://www.w3.org/TR/XMLHttpRequest/#the-responsetext-attribute\n    // states that responseText should return '' (and responseXML null)\n    // when the state is not LOADING or DONE. Instead, IE can\n    // throw unexpected exceptions, for example when a request is aborted\n    // or no data is available yet.\n    goog.log.fine(this.logger_, 'Can not get responseText: ' + e.message);\n    return '';\n  }\n};\n\n\n/**\n * Get the response body from the Xhr object. This property is only available\n * in IE since version 7 according to MSDN:\n * http://msdn.microsoft.com/en-us/library/ie/ms534368(v=vs.85).aspx\n * Will only return correct result when called from the context of a callback.\n *\n * One option is to construct a VBArray from the returned object and convert\n * it to a JavaScript array using the toArray method:\n * `(new window['VBArray'](xhrIo.getResponseBody())).toArray()`\n * This will result in an array of numbers in the range of [0..255]\n *\n * Another option is to use the VBScript CStr method to convert it into a\n * string as outlined in http://stackoverflow.com/questions/1919972\n *\n * @return {Object} Binary result from the server or null if not available.\n */\ngoog.net.XhrIo.prototype.getResponseBody = function() {\n  'use strict';\n  try {\n    if (this.xhr_ && 'responseBody' in this.xhr_) {\n      return this.xhr_['responseBody'];\n    }\n  } catch (e) {\n    // IE can throw unexpected exceptions, for example when a request is aborted\n    // or no data is yet available.\n    goog.log.fine(this.logger_, 'Can not get responseBody: ' + e.message);\n  }\n  return null;\n};\n\n\n/**\n * Get the response XML from the Xhr object\n * Will only return correct result when called from the context of a callback.\n * @return {Document} The DOM Document representing the XML file, or null\n * if no result available.\n */\ngoog.net.XhrIo.prototype.getResponseXml = function() {\n  'use strict';\n  try {\n    return this.xhr_ ? this.xhr_.responseXML : null;\n  } catch (e) {\n    goog.log.fine(this.logger_, 'Can not get responseXML: ' + e.message);\n    return null;\n  }\n};\n\n\n/**\n * Get the response and evaluates it as JSON from the Xhr object\n * Will only return correct result when called from the context of a callback\n * @param {string=} opt_xssiPrefix Optional XSSI prefix string to use for\n *     stripping of the response before parsing. This needs to be set only if\n *     your backend server prepends the same prefix string to the JSON response.\n * @throws Error if the response text is invalid JSON.\n * @return {Object|undefined} JavaScript object.\n */\ngoog.net.XhrIo.prototype.getResponseJson = function(opt_xssiPrefix) {\n  'use strict';\n  if (!this.xhr_) {\n    return undefined;\n  }\n\n  let responseText = this.xhr_.responseText;\n  if (opt_xssiPrefix && responseText.indexOf(opt_xssiPrefix) == 0) {\n    responseText = responseText.substring(opt_xssiPrefix.length);\n  }\n\n  return goog.json.hybrid.parse(responseText);\n};\n\n\n/**\n * Get the response as the type specificed by {@link #setResponseType}. At time\n * of writing, this is only directly supported in very recent versions of WebKit\n * (10.0.612.1 dev and later). If the field is not supported directly, we will\n * try to emulate it.\n *\n * Emulating the response means following the rules laid out at\n * http://www.w3.org/TR/XMLHttpRequest/#the-response-attribute\n *\n * On browsers with no support for this (Chrome < 10, Firefox < 4, etc), only\n * response types of DEFAULT or TEXT may be used, and the response returned will\n * be the text response.\n *\n * On browsers with Mozilla's draft support for array buffers (Firefox 4, 5),\n * only response types of DEFAULT, TEXT, and ARRAY_BUFFER may be used, and the\n * response returned will be either the text response or the Mozilla\n * implementation of the array buffer response.\n *\n * On browsers will full support, any valid response type supported by the\n * browser may be used, and the response provided by the browser will be\n * returned.\n *\n * @return {*} The response.\n */\ngoog.net.XhrIo.prototype.getResponse = function() {\n  'use strict';\n  try {\n    if (!this.xhr_) {\n      return null;\n    }\n    if ('response' in this.xhr_) {\n      return this.xhr_.response;\n    }\n    switch (this.responseType_) {\n      case ResponseType.DEFAULT:\n      case ResponseType.TEXT:\n        return this.xhr_.responseText;\n      // DOCUMENT and BLOB don't need to be handled here because they are\n      // introduced in the same spec that adds the .response field, and would\n      // have been caught above.\n      // ARRAY_BUFFER needs an implementation for Firefox 4, where it was\n      // implemented using a draft spec rather than the final spec.\n      case ResponseType.ARRAY_BUFFER:\n        if ('mozResponseArrayBuffer' in this.xhr_) {\n          return this.xhr_.mozResponseArrayBuffer;\n        }\n    }\n    // Fell through to a response type that is not supported on this browser.\n    goog.log.error(\n        this.logger_,\n        'Response type ' + this.responseType_ + ' is not ' +\n            'supported on this browser');\n    return null;\n  } catch (e) {\n    goog.log.fine(this.logger_, 'Can not get response: ' + e.message);\n    return null;\n  }\n};\n\n\n/**\n * Get the value of the response-header with the given name from the Xhr object\n * Will only return correct result when called from the context of a callback\n * and the request has completed\n * @param {string} key The name of the response-header to retrieve.\n * @return {string|undefined} The value of the response-header named key.\n */\ngoog.net.XhrIo.prototype.getResponseHeader = function(key) {\n  'use strict';\n  if (!this.xhr_ || !this.isComplete()) {\n    return undefined;\n  }\n\n  const value = this.xhr_.getResponseHeader(key);\n  return value === null ? undefined : value;\n};\n\n\n/**\n * Gets the text of all the headers in the response.\n * Will only return correct result when called from the context of a callback\n * and the request has completed.\n * @return {string} The value of the response headers or empty string.\n */\ngoog.net.XhrIo.prototype.getAllResponseHeaders = function() {\n  'use strict';\n  // getAllResponseHeaders can return null if no response has been received,\n  // ensure we always return an empty string.\n  return this.xhr_ && this.isComplete() ?\n      (this.xhr_.getAllResponseHeaders() || '') :\n      '';\n};\n\n\n/**\n * Returns all response headers as a key-value map.\n * Multiple values for the same header key can be combined into one,\n * separated by a comma and a space.\n * Note that the native getResponseHeader method for retrieving a single header\n * does a case insensitive match on the header name. This method does not\n * include any case normalization logic, it will just return a key-value\n * representation of the headers.\n * See: http://www.w3.org/TR/XMLHttpRequest/#the-getresponseheader()-method\n * @return {!Object<string, string>} An object with the header keys as keys\n *     and header values as values.\n */\ngoog.net.XhrIo.prototype.getResponseHeaders = function() {\n  'use strict';\n  // TODO(user): Make this function parse headers as per the spec\n  // (https://tools.ietf.org/html/rfc2616#section-4.2).\n\n  const headersObject = {};\n  const headersArray = this.getAllResponseHeaders().split('\\r\\n');\n  for (let i = 0; i < headersArray.length; i++) {\n    if (goog.string.isEmptyOrWhitespace(headersArray[i])) {\n      continue;\n    }\n    const keyValue =\n        goog.string.splitLimit(headersArray[i], ':', /* maxSplitCount= */ 1);\n    const key = keyValue[0];\n    let value = keyValue[1];\n\n    if (typeof value !== 'string') {\n      // There must be a value but it can be the empty string.\n      continue;\n    }\n\n    // Whitespace at the start and end of the value is meaningless.\n    value = value.trim();\n    // The key should not contain whitespace but we currently ignore that.\n\n    const values = headersObject[key] || [];\n    headersObject[key] = values;\n    values.push(value);\n  }\n\n  return goog.object.map(headersObject, function(values) {\n    'use strict';\n    return values.join(', ');\n  });\n};\n\n\n/**\n * Get the value of the response-header with the given name from the Xhr object.\n * As opposed to {@link #getResponseHeader}, this method does not require that\n * the request has completed.\n * @param {string} key The name of the response-header to retrieve.\n * @return {?string} The value of the response-header, or null if it is\n *     unavailable.\n */\ngoog.net.XhrIo.prototype.getStreamingResponseHeader = function(key) {\n  'use strict';\n  return this.xhr_ ? this.xhr_.getResponseHeader(key) : null;\n};\n\n\n/**\n * Gets the text of all the headers in the response. As opposed to\n * {@link #getAllResponseHeaders}, this method does not require that the request\n * has completed.\n * @return {string} The value of the response headers or empty string.\n */\ngoog.net.XhrIo.prototype.getAllStreamingResponseHeaders = function() {\n  'use strict';\n  return this.xhr_ ? this.xhr_.getAllResponseHeaders() : '';\n};\n\n\n/**\n * Get the last error message\n * @return {!goog.net.ErrorCode} Last error code.\n */\ngoog.net.XhrIo.prototype.getLastErrorCode = function() {\n  'use strict';\n  return this.lastErrorCode_;\n};\n\n\n/**\n * Get the last error message\n * @return {string} Last error message.\n */\ngoog.net.XhrIo.prototype.getLastError = function() {\n  'use strict';\n  return typeof this.lastError_ === 'string' ? this.lastError_ :\n                                               String(this.lastError_);\n};\n\n\n/**\n * Adds the last method, status and URI to the message.  This is used to add\n * this information to the logging calls.\n * @param {string} msg The message text that we want to add the extra text to.\n * @return {string} The message with the extra text appended.\n * @private\n */\ngoog.net.XhrIo.prototype.formatMsg_ = function(msg) {\n  'use strict';\n  return msg + ' [' + this.lastMethod_ + ' ' + this.lastUri_ + ' ' +\n      this.getStatus() + ']';\n};\n\n\n// Register the xhr handler as an entry point, so that\n// it can be monitored for exception handling, etc.\ngoog.debug.entryPointRegistry.register(\n    /**\n     * @param {function(!Function): !Function} transformer The transforming\n     *     function.\n     */\n    function(transformer) {\n      'use strict';\n      goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ =\n          transformer(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n    });\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A patched, standardized event object for browser events.\n *\n * <pre>\n * The patched event object contains the following members:\n * - type           {string}    Event type, e.g. 'click'\n * - target         {Object}    The element that actually triggered the event\n * - currentTarget  {Object}    The element the listener is attached to\n * - relatedTarget  {Object}    For mouseover and mouseout, the previous object\n * - offsetX        {number}    X-coordinate relative to target\n * - offsetY        {number}    Y-coordinate relative to target\n * - clientX        {number}    X-coordinate relative to viewport\n * - clientY        {number}    Y-coordinate relative to viewport\n * - screenX        {number}    X-coordinate relative to the edge of the screen\n * - screenY        {number}    Y-coordinate relative to the edge of the screen\n * - button         {number}    Mouse button. Use isButton() to test.\n * - keyCode        {number}    Key-code\n * - ctrlKey        {boolean}   Was ctrl key depressed\n * - altKey         {boolean}   Was alt key depressed\n * - shiftKey       {boolean}   Was shift key depressed\n * - metaKey        {boolean}   Was meta key depressed\n * - pointerId      {number}    Pointer ID\n * - pointerType    {string}    Pointer type, e.g. 'mouse', 'pen', or 'touch'\n * - defaultPrevented {boolean} Whether the default action has been prevented\n * - state          {Object}    History state object\n *\n * NOTE: The keyCode member contains the raw browser keyCode. For normalized\n * key and character code use {@link goog.events.KeyHandler}.\n * </pre>\n */\n\ngoog.provide('goog.events.BrowserEvent');\ngoog.provide('goog.events.BrowserEvent.MouseButton');\ngoog.provide('goog.events.BrowserEvent.PointerType');\n\ngoog.require('goog.debug');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.EventType');\ngoog.require('goog.reflect');\ngoog.require('goog.userAgent');\n\n/**\n * Accepts a browser event object and creates a patched, cross browser event\n * object.\n * The content of this object will not be initialized if no event object is\n * provided. If this is the case, init() needs to be invoked separately.\n * @param {Event=} opt_e Browser event object.\n * @param {EventTarget=} opt_currentTarget Current target for event.\n * @constructor\n * @extends {goog.events.Event}\n */\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n  'use strict';\n  goog.events.BrowserEvent.base(this, 'constructor', opt_e ? opt_e.type : '');\n\n  /**\n   * Target that fired the event.\n   * @override\n   * @type {?Node}\n   */\n  this.target = null;\n\n  /**\n   * Node that had the listener attached.\n   * @override\n   * @type {?Node|undefined}\n   */\n  this.currentTarget = null;\n\n  /**\n   * For mouseover and mouseout events, the related object for the event.\n   * @type {?Node}\n   */\n  this.relatedTarget = null;\n\n  /**\n   * X-coordinate relative to target.\n   * @type {number}\n   */\n  this.offsetX = 0;\n\n  /**\n   * Y-coordinate relative to target.\n   * @type {number}\n   */\n  this.offsetY = 0;\n\n  /**\n   * X-coordinate relative to the window.\n   * @type {number}\n   */\n  this.clientX = 0;\n\n  /**\n   * Y-coordinate relative to the window.\n   * @type {number}\n   */\n  this.clientY = 0;\n\n  /**\n   * X-coordinate relative to the monitor.\n   * @type {number}\n   */\n  this.screenX = 0;\n\n  /**\n   * Y-coordinate relative to the monitor.\n   * @type {number}\n   */\n  this.screenY = 0;\n\n  /**\n   * Which mouse button was pressed.\n   * @type {number}\n   */\n  this.button = 0;\n\n  /**\n   * Key of key press.\n   * @type {string}\n   */\n  this.key = '';\n\n  /**\n   * Keycode of key press.\n   * @type {number}\n   */\n  this.keyCode = 0;\n\n  /**\n   * Keycode of key press.\n   * @type {number}\n   */\n  this.charCode = 0;\n\n  /**\n   * Whether control was pressed at time of event.\n   * @type {boolean}\n   */\n  this.ctrlKey = false;\n\n  /**\n   * Whether alt was pressed at time of event.\n   * @type {boolean}\n   */\n  this.altKey = false;\n\n  /**\n   * Whether shift was pressed at time of event.\n   * @type {boolean}\n   */\n  this.shiftKey = false;\n\n  /**\n   * Whether the meta key was pressed at time of event.\n   * @type {boolean}\n   */\n  this.metaKey = false;\n\n  /**\n   * History state object, only set for PopState events where it's a copy of the\n   * state object provided to pushState or replaceState.\n   * @type {?Object}\n   */\n  this.state = null;\n\n  /**\n   * Whether the default platform modifier key was pressed at time of event.\n   * (This is control for all platforms except Mac, where it's Meta.)\n   * @type {boolean}\n   */\n  this.platformModifierKey = false;\n\n  /**\n   * @type {number}\n   */\n  this.pointerId = 0;\n\n  /**\n   * @type {string}\n   */\n  this.pointerType = '';\n\n  /**\n   * The browser event object.\n   * @private {?Event}\n   */\n  this.event_ = null;\n\n  if (opt_e) {\n    this.init(opt_e, opt_currentTarget);\n  }\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\n\n/**\n * @define {boolean} If true, use the layerX and layerY properties of a native\n * browser event over the offsetX and offsetY properties, which cause expensive\n * reflow. If layerX or layerY is not defined, offsetX and offsetY will be used\n * as usual.\n */\ngoog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY =\n    goog.define('goog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY', false);\n\n\n/**\n * Normalized button constants for the mouse.\n * @enum {number}\n */\ngoog.events.BrowserEvent.MouseButton = {\n  LEFT: 0,\n  MIDDLE: 1,\n  RIGHT: 2\n};\n\n\n/**\n * Normalized pointer type constants for pointer events.\n * @enum {string}\n */\ngoog.events.BrowserEvent.PointerType = {\n  MOUSE: 'mouse',\n  PEN: 'pen',\n  TOUCH: 'touch'\n};\n\n\n/**\n * Static data for mapping mouse buttons.\n * @type {!Array<number>}\n * @deprecated Use `goog.events.BrowserEvent.IE_BUTTON_MAP` instead.\n */\ngoog.events.BrowserEvent.IEButtonMap = goog.debug.freeze([\n  1,  // LEFT\n  4,  // MIDDLE\n  2   // RIGHT\n]);\n\n\n/**\n * Static data for mapping mouse buttons.\n * @const {!Array<number>}\n */\ngoog.events.BrowserEvent.IE_BUTTON_MAP = goog.events.BrowserEvent.IEButtonMap;\n\n\n/**\n * Static data for mapping MSPointerEvent types to PointerEvent types.\n * @const {!Object<number, goog.events.BrowserEvent.PointerType>}\n */\ngoog.events.BrowserEvent.IE_POINTER_TYPE_MAP = goog.debug.freeze({\n  2: goog.events.BrowserEvent.PointerType.TOUCH,\n  3: goog.events.BrowserEvent.PointerType.PEN,\n  4: goog.events.BrowserEvent.PointerType.MOUSE\n});\n\n\n/**\n * Accepts a browser event object and creates a patched, cross browser event\n * object.\n * @param {Event} e Browser event object.\n * @param {EventTarget=} opt_currentTarget Current target for event.\n */\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n  'use strict';\n  var type = this.type = e.type;\n\n  /**\n   * On touch devices use the first \"changed touch\" as the relevant touch.\n   * @type {?Touch}\n   */\n  var relevantTouch =\n      e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : null;\n\n  // TODO(nicksantos): Change this.target to type EventTarget.\n  this.target = /** @type {Node} */ (e.target) || e.srcElement;\n\n  // TODO(nicksantos): Change this.currentTarget to type EventTarget.\n  this.currentTarget = /** @type {Node} */ (opt_currentTarget);\n\n  var relatedTarget = /** @type {Node} */ (e.relatedTarget);\n  if (relatedTarget) {\n    // There's a bug in FireFox where sometimes, relatedTarget will be a\n    // chrome element, and accessing any property of it will get a permission\n    // denied exception. See:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=497780\n    if (goog.userAgent.GECKO) {\n      if (!goog.reflect.canAccessProperty(relatedTarget, 'nodeName')) {\n        relatedTarget = null;\n      }\n    }\n  } else if (type == goog.events.EventType.MOUSEOVER) {\n    relatedTarget = e.fromElement;\n  } else if (type == goog.events.EventType.MOUSEOUT) {\n    relatedTarget = e.toElement;\n  }\n\n  this.relatedTarget = relatedTarget;\n\n  if (relevantTouch) {\n    this.clientX = relevantTouch.clientX !== undefined ? relevantTouch.clientX :\n                                                         relevantTouch.pageX;\n    this.clientY = relevantTouch.clientY !== undefined ? relevantTouch.clientY :\n                                                         relevantTouch.pageY;\n    this.screenX = relevantTouch.screenX || 0;\n    this.screenY = relevantTouch.screenY || 0;\n  } else {\n    if (goog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY) {\n      this.offsetX = (e.layerX !== undefined) ? e.layerX : e.offsetX;\n      this.offsetY = (e.layerY !== undefined) ? e.layerY : e.offsetY;\n    } else {\n      // Webkit emits a lame warning whenever layerX/layerY is accessed.\n      // http://code.google.com/p/chromium/issues/detail?id=101733\n      this.offsetX = (goog.userAgent.WEBKIT || e.offsetX !== undefined) ?\n          e.offsetX :\n          e.layerX;\n      this.offsetY = (goog.userAgent.WEBKIT || e.offsetY !== undefined) ?\n          e.offsetY :\n          e.layerY;\n    }\n    this.clientX = e.clientX !== undefined ? e.clientX : e.pageX;\n    this.clientY = e.clientY !== undefined ? e.clientY : e.pageY;\n    this.screenX = e.screenX || 0;\n    this.screenY = e.screenY || 0;\n  }\n\n  this.button = e.button;\n\n  this.keyCode = e.keyCode || 0;\n  this.key = e.key || '';\n  this.charCode = e.charCode || (type == 'keypress' ? e.keyCode : 0);\n  this.ctrlKey = e.ctrlKey;\n  this.altKey = e.altKey;\n  this.shiftKey = e.shiftKey;\n  this.metaKey = e.metaKey;\n  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n  this.pointerId = e.pointerId || 0;\n  this.pointerType = goog.events.BrowserEvent.getPointerType_(e);\n  this.state = e.state;\n  this.event_ = e;\n  if (e.defaultPrevented) {\n    // Sync native event state to internal state via super class, where default\n    // prevention is implemented and managed.\n    goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  }\n};\n\n\n/**\n * Tests to see which button was pressed during the event. This is really only\n * useful in IE and Gecko browsers. And in IE, it's only useful for\n * mousedown/mouseup events, because click only fires for the left mouse button.\n *\n * Safari 2 only reports the left button being clicked, and uses the value '1'\n * instead of 0. Opera only reports a mousedown event for the middle button, and\n * no mouse events for the right button. Opera has default behavior for left and\n * middle click that can only be overridden via a configuration setting.\n *\n * There's a nice table of this mess at http://www.unixpapa.com/js/mouse.html.\n *\n * @param {goog.events.BrowserEvent.MouseButton} button The button\n *     to test for.\n * @return {boolean} True if button was pressed.\n */\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n  'use strict';\n  return this.event_.button == button;\n};\n\n\n/**\n * Whether this has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @return {boolean} The result.\n */\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n  'use strict';\n  // Ctrl+click should never behave like a left-click on mac, regardless of\n  // whether or not the browser will actually ever emit such an event.  If\n  // we see it, treat it like right-click always.\n  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) &&\n      !(goog.userAgent.MAC && this.ctrlKey);\n};\n\n\n/**\n * @override\n */\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n  'use strict';\n  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n  if (this.event_.stopPropagation) {\n    this.event_.stopPropagation();\n  } else {\n    this.event_.cancelBubble = true;\n  }\n};\n\n\n/**\n * @override\n */\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n  'use strict';\n  goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  var be = this.event_;\n  if (!be.preventDefault) {\n    be.returnValue = false;\n  } else {\n    be.preventDefault();\n  }\n};\n\n\n/**\n * @return {Event} The underlying browser event object.\n */\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n  'use strict';\n  return this.event_;\n};\n\n\n/**\n * Extracts the pointer type from the given event.\n * @param {!Event} e\n * @return {string} The pointer type, e.g. 'mouse', 'pen', or 'touch'.\n * @private\n */\ngoog.events.BrowserEvent.getPointerType_ = function(e) {\n  'use strict';\n  if (typeof (e.pointerType) === 'string') {\n    return e.pointerType;\n  }\n  // IE10 uses integer codes for pointer type.\n  // https://msdn.microsoft.com/en-us/library/hh772359(v=vs.85).aspx\n  return goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType] || '';\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Event Types.\n */\n\n\ngoog.provide('goog.events.EventType');\ngoog.provide('goog.events.EventTypeHelpers');\ngoog.provide('goog.events.MouseAsMouseEventType');\ngoog.provide('goog.events.MouseEvents');\ngoog.provide('goog.events.PointerAsMouseEventType');\ngoog.provide('goog.events.PointerAsTouchEventType');\ngoog.provide('goog.events.PointerFallbackEventType');\ngoog.provide('goog.events.PointerTouchFallbackEventType');\n\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.userAgent');\n\n\n/**\n * Returns a prefixed event name for the current browser.\n * @param {string} eventName The name of the event.\n * @return {string} The prefixed event name.\n * @private\n */\ngoog.events.EventTypeHelpers.getVendorPrefixedName_ = function(eventName) {\n  'use strict';\n  return goog.userAgent.WEBKIT ? 'webkit' + eventName : eventName.toLowerCase();\n};\n\n\n/**\n * Constants for event names.\n * @enum {string}\n */\ngoog.events.EventType = {\n  // Mouse events\n  CLICK: 'click',\n  RIGHTCLICK: 'rightclick',\n  DBLCLICK: 'dblclick',\n  AUXCLICK: 'auxclick',\n  MOUSEDOWN: 'mousedown',\n  MOUSEUP: 'mouseup',\n  MOUSEOVER: 'mouseover',\n  MOUSEOUT: 'mouseout',\n  MOUSEMOVE: 'mousemove',\n  MOUSEENTER: 'mouseenter',\n  MOUSELEAVE: 'mouseleave',\n\n  // Non-existent event; will never fire. This exists as a mouse counterpart to\n  // POINTERCANCEL.\n  MOUSECANCEL: 'mousecancel',\n\n  // Selection events.\n  // https://www.w3.org/TR/selection-api/\n  SELECTIONCHANGE: 'selectionchange',\n  SELECTSTART: 'selectstart',  // IE, Safari, Chrome\n\n  // Wheel events\n  // http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n  WHEEL: 'wheel',\n\n  // Key events\n  KEYPRESS: 'keypress',\n  KEYDOWN: 'keydown',\n  KEYUP: 'keyup',\n\n  // Focus\n  BLUR: 'blur',\n  FOCUS: 'focus',\n  DEACTIVATE: 'deactivate',  // IE only\n  FOCUSIN: 'focusin',\n  FOCUSOUT: 'focusout',\n\n  // Forms\n  CHANGE: 'change',\n  RESET: 'reset',\n  SELECT: 'select',\n  SUBMIT: 'submit',\n  INPUT: 'input',\n  PROPERTYCHANGE: 'propertychange',  // IE only\n\n  // Drag and drop\n  DRAGSTART: 'dragstart',\n  DRAG: 'drag',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DRAGLEAVE: 'dragleave',\n  DROP: 'drop',\n  DRAGEND: 'dragend',\n\n  // Touch events\n  // Note that other touch events exist, but we should follow the W3C list here.\n  // http://www.w3.org/TR/touch-events/#list-of-touchevent-types\n  TOUCHSTART: 'touchstart',\n  TOUCHMOVE: 'touchmove',\n  TOUCHEND: 'touchend',\n  TOUCHCANCEL: 'touchcancel',\n\n  // Misc\n  BEFOREUNLOAD: 'beforeunload',\n  CONSOLEMESSAGE: 'consolemessage',\n  CONTEXTMENU: 'contextmenu',\n  DEVICECHANGE: 'devicechange',\n  DEVICEMOTION: 'devicemotion',\n  DEVICEORIENTATION: 'deviceorientation',\n  DOMCONTENTLOADED: 'DOMContentLoaded',\n  ERROR: 'error',\n  HELP: 'help',\n  LOAD: 'load',\n  LOSECAPTURE: 'losecapture',\n  ORIENTATIONCHANGE: 'orientationchange',\n  READYSTATECHANGE: 'readystatechange',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  UNLOAD: 'unload',\n\n  // Media events\n  CANPLAY: 'canplay',\n  CANPLAYTHROUGH: 'canplaythrough',\n  DURATIONCHANGE: 'durationchange',\n  EMPTIED: 'emptied',\n  ENDED: 'ended',\n  LOADEDDATA: 'loadeddata',\n  LOADEDMETADATA: 'loadedmetadata',\n  PAUSE: 'pause',\n  PLAY: 'play',\n  PLAYING: 'playing',\n  PROGRESS: 'progress',\n  RATECHANGE: 'ratechange',\n  SEEKED: 'seeked',\n  SEEKING: 'seeking',\n  STALLED: 'stalled',\n  SUSPEND: 'suspend',\n  TIMEUPDATE: 'timeupdate',\n  VOLUMECHANGE: 'volumechange',\n  WAITING: 'waiting',\n\n  // Media Source Extensions events\n  // https://www.w3.org/TR/media-source/#mediasource-events\n  SOURCEOPEN: 'sourceopen',\n  SOURCEENDED: 'sourceended',\n  SOURCECLOSED: 'sourceclosed',\n  // https://www.w3.org/TR/media-source/#sourcebuffer-events\n  ABORT: 'abort',\n  UPDATE: 'update',\n  UPDATESTART: 'updatestart',\n  UPDATEEND: 'updateend',\n\n  // HTML 5 History events\n  // See http://www.w3.org/TR/html5/browsers.html#event-definitions-0\n  HASHCHANGE: 'hashchange',\n  PAGEHIDE: 'pagehide',\n  PAGESHOW: 'pageshow',\n  POPSTATE: 'popstate',\n\n  // Copy and Paste\n  // Support is limited. Make sure it works on your favorite browser\n  // before using.\n  // http://www.quirksmode.org/dom/events/cutcopypaste.html\n  COPY: 'copy',\n  PASTE: 'paste',\n  CUT: 'cut',\n  BEFORECOPY: 'beforecopy',\n  BEFORECUT: 'beforecut',\n  BEFOREPASTE: 'beforepaste',\n\n  // HTML5 online/offline events.\n  // http://www.w3.org/TR/offline-webapps/#related\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n\n  // HTML 5 worker events\n  MESSAGE: 'message',\n  CONNECT: 'connect',\n\n  // Service Worker Events - ServiceWorkerGlobalScope context\n  // See https://w3c.github.io/ServiceWorker/#execution-context-events\n  // Note: message event defined in worker events section\n  INSTALL: 'install',\n  ACTIVATE: 'activate',\n  FETCH: 'fetch',\n  FOREIGNFETCH: 'foreignfetch',\n  MESSAGEERROR: 'messageerror',\n\n  // Service Worker Events - Document context\n  // See https://w3c.github.io/ServiceWorker/#document-context-events\n  STATECHANGE: 'statechange',\n  UPDATEFOUND: 'updatefound',\n  CONTROLLERCHANGE: 'controllerchange',\n\n  // CSS animation events.\n  ANIMATIONSTART:\n      goog.events.EventTypeHelpers.getVendorPrefixedName_('AnimationStart'),\n  ANIMATIONEND:\n      goog.events.EventTypeHelpers.getVendorPrefixedName_('AnimationEnd'),\n  ANIMATIONITERATION:\n      goog.events.EventTypeHelpers.getVendorPrefixedName_('AnimationIteration'),\n\n  // CSS transition events. Based on the browser support described at:\n  // https://developer.mozilla.org/en/css/css_transitions#Browser_compatibility\n  TRANSITIONEND:\n      goog.events.EventTypeHelpers.getVendorPrefixedName_('TransitionEnd'),\n\n  // W3C Pointer Events\n  // http://www.w3.org/TR/pointerevents/\n  POINTERDOWN: 'pointerdown',\n  POINTERUP: 'pointerup',\n  POINTERCANCEL: 'pointercancel',\n  POINTERMOVE: 'pointermove',\n  POINTEROVER: 'pointerover',\n  POINTEROUT: 'pointerout',\n  POINTERENTER: 'pointerenter',\n  POINTERLEAVE: 'pointerleave',\n  GOTPOINTERCAPTURE: 'gotpointercapture',\n  LOSTPOINTERCAPTURE: 'lostpointercapture',\n\n  // IE specific events.\n  // See http://msdn.microsoft.com/en-us/library/ie/hh772103(v=vs.85).aspx\n  // Note: these events will be supplanted in IE11.\n  MSGESTURECHANGE: 'MSGestureChange',\n  MSGESTUREEND: 'MSGestureEnd',\n  MSGESTUREHOLD: 'MSGestureHold',\n  MSGESTURESTART: 'MSGestureStart',\n  MSGESTURETAP: 'MSGestureTap',\n  MSGOTPOINTERCAPTURE: 'MSGotPointerCapture',\n  MSINERTIASTART: 'MSInertiaStart',\n  MSLOSTPOINTERCAPTURE: 'MSLostPointerCapture',\n  MSPOINTERCANCEL: 'MSPointerCancel',\n  MSPOINTERDOWN: 'MSPointerDown',\n  MSPOINTERENTER: 'MSPointerEnter',\n  MSPOINTERHOVER: 'MSPointerHover',\n  MSPOINTERLEAVE: 'MSPointerLeave',\n  MSPOINTERMOVE: 'MSPointerMove',\n  MSPOINTEROUT: 'MSPointerOut',\n  MSPOINTEROVER: 'MSPointerOver',\n  MSPOINTERUP: 'MSPointerUp',\n\n  // Native IMEs/input tools events.\n  TEXT: 'text',\n  // The textInput event is supported in IE9+, but only in lower case. All other\n  // browsers use the camel-case event name.\n  TEXTINPUT: goog.userAgent.IE ? 'textinput' : 'textInput',\n  COMPOSITIONSTART: 'compositionstart',\n  COMPOSITIONUPDATE: 'compositionupdate',\n  COMPOSITIONEND: 'compositionend',\n\n  // The beforeinput event is initially only supported in Safari. See\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=342670 for Chrome\n  // implementation tracking.\n  BEFOREINPUT: 'beforeinput',\n\n  // Webview tag events\n  // See https://developer.chrome.com/apps/tags/webview\n  EXIT: 'exit',\n  LOADABORT: 'loadabort',\n  LOADCOMMIT: 'loadcommit',\n  LOADREDIRECT: 'loadredirect',\n  LOADSTART: 'loadstart',\n  LOADSTOP: 'loadstop',\n  RESPONSIVE: 'responsive',\n  SIZECHANGED: 'sizechanged',\n  UNRESPONSIVE: 'unresponsive',\n\n  // HTML5 Page Visibility API.  See details at\n  // `goog.labs.dom.PageVisibilityMonitor`.\n  VISIBILITYCHANGE: 'visibilitychange',\n\n  // LocalStorage event.\n  STORAGE: 'storage',\n\n  // DOM Level 2 mutation events (deprecated).\n  DOMSUBTREEMODIFIED: 'DOMSubtreeModified',\n  DOMNODEINSERTED: 'DOMNodeInserted',\n  DOMNODEREMOVED: 'DOMNodeRemoved',\n  DOMNODEREMOVEDFROMDOCUMENT: 'DOMNodeRemovedFromDocument',\n  DOMNODEINSERTEDINTODOCUMENT: 'DOMNodeInsertedIntoDocument',\n  DOMATTRMODIFIED: 'DOMAttrModified',\n  DOMCHARACTERDATAMODIFIED: 'DOMCharacterDataModified',\n\n  // Print events.\n  BEFOREPRINT: 'beforeprint',\n  AFTERPRINT: 'afterprint',\n\n  // Web app manifest events.\n  BEFOREINSTALLPROMPT: 'beforeinstallprompt',\n  APPINSTALLED: 'appinstalled'\n};\n\n\n/**\n * Returns one of the given pointer fallback event names in order of preference:\n *   1. pointerEventName\n *   2. msPointerEventName\n *   3. fallbackEventName\n * @param {string} pointerEventName\n * @param {string} msPointerEventName\n * @param {string} fallbackEventName\n * @return {string} The supported pointer or fallback (mouse or touch) event\n *     name.\n * @private\n */\ngoog.events.EventTypeHelpers.getPointerFallbackEventName_ = function(\n    pointerEventName, msPointerEventName, fallbackEventName) {\n  'use strict';\n  if (goog.events.BrowserFeature.POINTER_EVENTS) {\n    return pointerEventName;\n  }\n  if (goog.events.BrowserFeature.MSPOINTER_EVENTS) {\n    return msPointerEventName;\n  }\n  return fallbackEventName;\n};\n\n\n/**\n * Constants for pointer event names that fall back to corresponding mouse event\n * names on unsupported platforms. These are intended to be drop-in replacements\n * for corresponding values in `goog.events.EventType`.\n * @enum {string}\n */\ngoog.events.PointerFallbackEventType = {\n  POINTERDOWN: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN,\n      goog.events.EventType.MOUSEDOWN),\n  POINTERUP: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP,\n      goog.events.EventType.MOUSEUP),\n  POINTERCANCEL: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERCANCEL,\n      goog.events.EventType.MSPOINTERCANCEL,\n      // When falling back to mouse events, there is no MOUSECANCEL equivalent\n      // of POINTERCANCEL. In this case POINTERUP already falls back to MOUSEUP\n      // which represents both UP and CANCEL. POINTERCANCEL does not fall back\n      // to MOUSEUP to prevent listening twice on the same event.\n      goog.events.EventType.MOUSECANCEL),\n  POINTERMOVE: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE,\n      goog.events.EventType.MOUSEMOVE),\n  POINTEROVER: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTEROVER, goog.events.EventType.MSPOINTEROVER,\n      goog.events.EventType.MOUSEOVER),\n  POINTEROUT: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTEROUT, goog.events.EventType.MSPOINTEROUT,\n      goog.events.EventType.MOUSEOUT),\n  POINTERENTER: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERENTER, goog.events.EventType.MSPOINTERENTER,\n      goog.events.EventType.MOUSEENTER),\n  POINTERLEAVE: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERLEAVE, goog.events.EventType.MSPOINTERLEAVE,\n      goog.events.EventType.MOUSELEAVE)\n};\n\n\n/**\n * Constants for pointer event names that fall back to corresponding touch event\n * names on unsupported platforms. These are intended to be drop-in replacements\n * for corresponding values in `goog.events.EventType`.\n * @enum {string}\n */\ngoog.events.PointerTouchFallbackEventType = {\n  POINTERDOWN: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN,\n      goog.events.EventType.TOUCHSTART),\n  POINTERUP: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP,\n      goog.events.EventType.TOUCHEND),\n  POINTERCANCEL: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERCANCEL,\n      goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.TOUCHCANCEL),\n  POINTERMOVE: goog.events.EventTypeHelpers.getPointerFallbackEventName_(\n      goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE,\n      goog.events.EventType.TOUCHMOVE)\n};\n\n\n/**\n * Mapping of mouse event names to underlying browser event names.\n * @typedef {{\n *     MOUSEDOWN: string,\n *     MOUSEUP: string,\n *     MOUSECANCEL:string,\n *     MOUSEMOVE:string,\n *     MOUSEOVER:string,\n *     MOUSEOUT:string,\n *     MOUSEENTER:string,\n *     MOUSELEAVE: string,\n * }}\n */\ngoog.events.MouseEvents;\n\n\n/**\n * An alias for `goog.events.EventType.MOUSE*` event types that is overridden by\n * corresponding `POINTER*` event types.\n * @const {!goog.events.MouseEvents}\n */\ngoog.events.PointerAsMouseEventType = {\n  MOUSEDOWN: goog.events.PointerFallbackEventType.POINTERDOWN,\n  MOUSEUP: goog.events.PointerFallbackEventType.POINTERUP,\n  MOUSECANCEL: goog.events.PointerFallbackEventType.POINTERCANCEL,\n  MOUSEMOVE: goog.events.PointerFallbackEventType.POINTERMOVE,\n  MOUSEOVER: goog.events.PointerFallbackEventType.POINTEROVER,\n  MOUSEOUT: goog.events.PointerFallbackEventType.POINTEROUT,\n  MOUSEENTER: goog.events.PointerFallbackEventType.POINTERENTER,\n  MOUSELEAVE: goog.events.PointerFallbackEventType.POINTERLEAVE\n};\n\n\n/**\n * An alias for `goog.events.EventType.MOUSE*` event types that continue to use\n * mouse events.\n * @const {!goog.events.MouseEvents}\n */\ngoog.events.MouseAsMouseEventType = {\n  MOUSEDOWN: goog.events.EventType.MOUSEDOWN,\n  MOUSEUP: goog.events.EventType.MOUSEUP,\n  MOUSECANCEL: goog.events.EventType.MOUSECANCEL,\n  MOUSEMOVE: goog.events.EventType.MOUSEMOVE,\n  MOUSEOVER: goog.events.EventType.MOUSEOVER,\n  MOUSEOUT: goog.events.EventType.MOUSEOUT,\n  MOUSEENTER: goog.events.EventType.MOUSEENTER,\n  MOUSELEAVE: goog.events.EventType.MOUSELEAVE\n};\n\n\n/**\n * An alias for `goog.events.EventType.TOUCH*` event types that is overridden by\n * corresponding `POINTER*` event types.\n * @enum {string}\n */\ngoog.events.PointerAsTouchEventType = {\n  TOUCHCANCEL: goog.events.PointerTouchFallbackEventType.POINTERCANCEL,\n  TOUCHEND: goog.events.PointerTouchFallbackEventType.POINTERUP,\n  TOUCHMOVE: goog.events.PointerTouchFallbackEventType.POINTERMOVE,\n  TOUCHSTART: goog.events.PointerTouchFallbackEventType.POINTERDOWN\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview An interface for a listenable JavaScript object.\n */\n\ngoog.provide('goog.events.Listenable');\n\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.EventLike');\ngoog.requireType('goog.events.ListenableKey');\n\n\n/**\n * A listenable interface. A listenable is an object with the ability\n * to dispatch/broadcast events to \"event listeners\" registered via\n * listen/listenOnce.\n *\n * The interface allows for an event propagation mechanism similar\n * to one offered by native browser event targets, such as\n * capture/bubble mechanism, stopping propagation, and preventing\n * default actions. Capture/bubble mechanism depends on the ancestor\n * tree constructed via `#getParentEventTarget`; this tree\n * must be directed acyclic graph. The meaning of default action(s)\n * in preventDefault is specific to a particular use case.\n *\n * Implementations that do not support capture/bubble or can not have\n * a parent listenable can simply not implement any ability to set the\n * parent listenable (and have `#getParentEventTarget` return\n * null).\n *\n * Implementation of this class can be used with or independently from\n * goog.events.\n *\n * Implementation must call `#addImplementation(implClass)`.\n *\n * @interface\n * @see goog.events\n * @see http://www.w3.org/TR/DOM-Level-2-Events/events.html\n */\ngoog.events.Listenable = function() {};\n\n\n/**\n * An expando property to indicate that an object implements\n * goog.events.Listenable.\n *\n * See addImplementation/isImplementedBy.\n *\n * @type {string}\n * @const\n */\ngoog.events.Listenable.IMPLEMENTED_BY_PROP =\n    'closure_listenable_' + ((Math.random() * 1e6) | 0);\n\n\n/**\n * Marks a given class (constructor) as an implementation of\n * Listenable, so that we can query that fact at runtime. The class\n * must have already implemented the interface.\n * @param {function(new:goog.events.Listenable,...)} cls The class constructor.\n *     The corresponding class must have already implemented the interface.\n */\ngoog.events.Listenable.addImplementation = function(cls) {\n  'use strict';\n  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = true;\n};\n\n\n/**\n * @param {?Object} obj The object to check.\n * @return {boolean} Whether a given instance implements Listenable. The\n *     class/superclass of the instance must call addImplementation.\n */\ngoog.events.Listenable.isImplementedBy = function(obj) {\n  'use strict';\n  return !!(obj && obj[goog.events.Listenable.IMPLEMENTED_BY_PROP]);\n};\n\n\n/**\n * Adds an event listener. A listener can only be added once to an\n * object and if it is added again the key for the listener is\n * returned. Note that if the existing listener is a one-off listener\n * (registered via listenOnce), it will no longer be a one-off\n * listener after a call to listen().\n *\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The event type id.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener Callback\n *     method.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {!goog.events.ListenableKey} Unique key for the listener.\n * @template SCOPE,EVENTOBJ\n */\ngoog.events.Listenable.prototype.listen = function(\n    type, listener, opt_useCapture, opt_listenerScope) {};\n\n\n/**\n * Adds an event listener that is removed automatically after the\n * listener fired once.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The event type id.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener Callback\n *     method.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {!goog.events.ListenableKey} Unique key for the listener.\n * @template SCOPE,EVENTOBJ\n */\ngoog.events.Listenable.prototype.listenOnce = function(\n    type, listener, opt_useCapture, opt_listenerScope) {};\n\n\n/**\n * Removes an event listener which was added with listen() or listenOnce().\n *\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The event type id.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener Callback\n *     method.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call\n *     the listener.\n * @return {boolean} Whether any listener was removed.\n * @template SCOPE,EVENTOBJ\n */\ngoog.events.Listenable.prototype.unlisten = function(\n    type, listener, opt_useCapture, opt_listenerScope) {};\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * @param {!goog.events.ListenableKey} key The key returned by\n *     listen() or listenOnce().\n * @return {boolean} Whether any listener was removed.\n */\ngoog.events.Listenable.prototype.unlistenByKey = function(key) {};\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {?goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false) this will also return false.\n */\ngoog.events.Listenable.prototype.dispatchEvent = function(e) {};\n\n\n/**\n * Removes all listeners from this listenable. If type is specified,\n * it will only remove listeners of the particular type. otherwise all\n * registered listeners will be removed.\n *\n * @param {string|!goog.events.EventId=} opt_type Type of event to remove,\n *     default is to remove all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.Listenable.prototype.removeAllListeners = function(opt_type) {};\n\n\n/**\n * Returns the parent of this event target to use for capture/bubble\n * mechanism.\n *\n * NOTE(chrishenry): The name reflects the original implementation of\n * custom event target (`goog.events.EventTarget`). We decided\n * that changing the name is not worth it.\n *\n * @return {?goog.events.Listenable} The parent EventTarget or null if\n *     there is no parent.\n */\ngoog.events.Listenable.prototype.getParentEventTarget = function() {};\n\n\n/**\n * Fires all registered listeners in this listenable for the given\n * type and capture mode, passing them the given eventObject. This\n * does not perform actual capture/bubble. Only implementors of the\n * interface should be using this.\n *\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The type of the\n *     listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @param {EVENTOBJ} eventObject The event object to fire.\n * @return {boolean} Whether all listeners succeeded without\n *     attempting to prevent default behavior. If any listener returns\n *     false or called goog.events.Event#preventDefault, this returns\n *     false.\n * @template EVENTOBJ\n */\ngoog.events.Listenable.prototype.fireListeners = function(\n    type, capture, eventObject) {};\n\n\n/**\n * Gets all listeners in this listenable for the given type and\n * capture mode.\n *\n * @param {string|!goog.events.EventId} type The type of the listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @return {!Array<!goog.events.ListenableKey>} An array of registered\n *     listeners.\n * @template EVENTOBJ\n */\ngoog.events.Listenable.prototype.getListeners = function(type, capture) {};\n\n\n/**\n * Gets the goog.events.ListenableKey for the event or null if no such\n * listener is in use.\n *\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The name of the event\n *     without the 'on' prefix.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener The\n *     listener function to get.\n * @param {boolean} capture Whether the listener is a capturing listener.\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {?goog.events.ListenableKey} the found listener or null if not found.\n * @template SCOPE,EVENTOBJ\n */\ngoog.events.Listenable.prototype.getListener = function(\n    type, listener, capture, opt_listenerScope) {};\n\n\n/**\n * Whether there is any active listeners matching the specified\n * signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {string|!goog.events.EventId<EVENTOBJ>=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble\n *     listeners.\n * @return {boolean} Whether there is any active listeners matching\n *     the requested type and/or capture phase.\n * @template EVENTOBJ\n */\ngoog.events.Listenable.prototype.hasListener = function(\n    opt_type, opt_capture) {};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview An interface that describes a single registered listener.\n */\ngoog.provide('goog.events.ListenableKey');\n\ngoog.requireType('goog.events.Listenable');\n\n\n/**\n * An interface that describes a single registered listener.\n * @interface\n */\ngoog.events.ListenableKey = function() {};\n\n\n/**\n * Counter used to create a unique key\n * @type {number}\n * @private\n */\ngoog.events.ListenableKey.counter_ = 0;\n\n\n/**\n * Reserves a key to be used for ListenableKey#key field.\n * @return {number} A number to be used to fill ListenableKey#key\n *     field.\n */\ngoog.events.ListenableKey.reserveKey = function() {\n  'use strict';\n  return ++goog.events.ListenableKey.counter_;\n};\n\n\n/**\n * The source event target.\n * @type {?Object|?goog.events.Listenable}\n */\ngoog.events.ListenableKey.prototype.src;\n\n\n/**\n * The event type the listener is listening to.\n * @type {string}\n */\ngoog.events.ListenableKey.prototype.type;\n\n\n/**\n * The listener function.\n * @type {function(?):?|{handleEvent:function(?):?}|null}\n */\ngoog.events.ListenableKey.prototype.listener;\n\n\n/**\n * Whether the listener works on capture phase.\n * @type {boolean}\n */\ngoog.events.ListenableKey.prototype.capture;\n\n\n/**\n * The 'this' object for the listener function's scope.\n * @type {?Object|undefined}\n */\ngoog.events.ListenableKey.prototype.handler;\n\n\n/**\n * A globally unique number to identify the key.\n * @type {number}\n */\ngoog.events.ListenableKey.prototype.key;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Listener object.\n * @see ../demos/events.html\n */\n\ngoog.provide('goog.events.Listener');\n\ngoog.require('goog.events.ListenableKey');\ngoog.requireType('goog.events.Listenable');\n\n\n\n/**\n * Simple class that stores information about a listener\n * @param {function(?):?} listener Callback function.\n * @param {Function} proxy Wrapper for the listener that patches the event.\n * @param {EventTarget|goog.events.Listenable} src Source object for\n *     the event.\n * @param {string} type Event type.\n * @param {boolean} capture Whether in capture or bubble phase.\n * @param {Object=} opt_handler Object in whose context to execute the callback.\n * @implements {goog.events.ListenableKey}\n * @constructor\n */\ngoog.events.Listener = function(\n    listener, proxy, src, type, capture, opt_handler) {\n  'use strict';\n  if (goog.events.Listener.ENABLE_MONITORING) {\n    this.creationStack = new Error().stack;\n  }\n\n  /** @override */\n  this.listener = listener;\n\n  /**\n   * A wrapper over the original listener. This is used solely to\n   * handle native browser events (it is used to simulate the capture\n   * phase and to patch the event object).\n   * @type {Function}\n   */\n  this.proxy = proxy;\n\n  /**\n   * Object or node that callback is listening to\n   * @type {EventTarget|goog.events.Listenable}\n   */\n  this.src = src;\n\n  /**\n   * The event type.\n   * @const {string}\n   */\n  this.type = type;\n\n  /**\n   * Whether the listener is being called in the capture or bubble phase\n   * @const {boolean}\n   */\n  this.capture = !!capture;\n\n  /**\n   * Optional object whose context to execute the listener in\n   * @type {Object|undefined}\n   */\n  this.handler = opt_handler;\n\n  /**\n   * The key of the listener.\n   * @const {number}\n   * @override\n   */\n  this.key = goog.events.ListenableKey.reserveKey();\n\n  /**\n   * Whether to remove the listener after it has been called.\n   * @type {boolean}\n   */\n  this.callOnce = false;\n\n  /**\n   * Whether the listener has been removed.\n   * @type {boolean}\n   */\n  this.removed = false;\n};\n\n\n/**\n * @define {boolean} Whether to enable the monitoring of the\n *     goog.events.Listener instances. Switching on the monitoring is only\n *     recommended for debugging because it has a significant impact on\n *     performance and memory usage. If switched off, the monitoring code\n *     compiles down to 0 bytes.\n */\ngoog.events.Listener.ENABLE_MONITORING =\n    goog.define('goog.events.Listener.ENABLE_MONITORING', false);\n\n\n/**\n * If monitoring the goog.events.Listener instances is enabled, stores the\n * creation stack trace of the Disposable instance.\n * @type {string}\n */\ngoog.events.Listener.prototype.creationStack;\n\n\n/**\n * Marks this listener as removed. This also remove references held by\n * this listener object (such as listener and event source).\n */\ngoog.events.Listener.prototype.markAsRemoved = function() {\n  'use strict';\n  this.removed = true;\n  this.listener = null;\n  this.proxy = null;\n  this.src = null;\n  this.handler = null;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A map of listeners that provides utility functions to\n * deal with listeners on an event target. Used by\n * `goog.events.EventTarget`.\n *\n * WARNING: Do not use this class from outside goog.events package.\n *\n */\n\ngoog.provide('goog.events.ListenerMap');\n\ngoog.require('goog.array');\ngoog.require('goog.events.Listener');\ngoog.require('goog.object');\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.Listenable');\ngoog.requireType('goog.events.ListenableKey');\n\n\n\n/**\n * Creates a new listener map.\n * @param {EventTarget|goog.events.Listenable} src The src object.\n * @constructor\n * @final\n */\ngoog.events.ListenerMap = function(src) {\n  'use strict';\n  /** @type {EventTarget|goog.events.Listenable} */\n  this.src = src;\n\n  /**\n   * Maps of event type to an array of listeners.\n   * @type {!Object<string, !Array<!goog.events.Listener>>}\n   */\n  this.listeners = {};\n\n  /**\n   * The count of types in this map that have registered listeners.\n   * @private {number}\n   */\n  this.typeCount_ = 0;\n};\n\n\n/**\n * @return {number} The count of event types in this map that actually\n *     have registered listeners.\n */\ngoog.events.ListenerMap.prototype.getTypeCount = function() {\n  'use strict';\n  return this.typeCount_;\n};\n\n\n/**\n * @return {number} Total number of registered listeners.\n */\ngoog.events.ListenerMap.prototype.getListenerCount = function() {\n  'use strict';\n  var count = 0;\n  for (var type in this.listeners) {\n    count += this.listeners[type].length;\n  }\n  return count;\n};\n\n\n/**\n * Adds an event listener. A listener can only be added once to an\n * object and if it is added again the key for the listener is\n * returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {string|!goog.events.EventId} type The listener event type.\n * @param {!Function} listener This listener callback method.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener.\n * @param {boolean=} opt_useCapture The capture mode of the listener.\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {!goog.events.ListenableKey} Unique key for the listener.\n */\ngoog.events.ListenerMap.prototype.add = function(\n    type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n  'use strict';\n  var typeStr = type.toString();\n  var listenerArray = this.listeners[typeStr];\n  if (!listenerArray) {\n    listenerArray = this.listeners[typeStr] = [];\n    this.typeCount_++;\n  }\n\n  var listenerObj;\n  var index = goog.events.ListenerMap.findListenerIndex_(\n      listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (index > -1) {\n    listenerObj = listenerArray[index];\n    if (!callOnce) {\n      // Ensure that, if there is an existing callOnce listener, it is no\n      // longer a callOnce listener.\n      listenerObj.callOnce = false;\n    }\n  } else {\n    listenerObj = new goog.events.Listener(\n        listener, null, this.src, typeStr, !!opt_useCapture, opt_listenerScope);\n    listenerObj.callOnce = callOnce;\n    listenerArray.push(listenerObj);\n  }\n  return listenerObj;\n};\n\n\n/**\n * Removes a matching listener.\n * @param {string|!goog.events.EventId} type The listener event type.\n * @param {!Function} listener This listener callback method.\n * @param {boolean=} opt_useCapture The capture mode of the listener.\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {boolean} Whether any listener was removed.\n */\ngoog.events.ListenerMap.prototype.remove = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  'use strict';\n  var typeStr = type.toString();\n  if (!(typeStr in this.listeners)) {\n    return false;\n  }\n\n  var listenerArray = this.listeners[typeStr];\n  var index = goog.events.ListenerMap.findListenerIndex_(\n      listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (index > -1) {\n    var listenerObj = listenerArray[index];\n    listenerObj.markAsRemoved();\n    goog.array.removeAt(listenerArray, index);\n    if (listenerArray.length == 0) {\n      delete this.listeners[typeStr];\n      this.typeCount_--;\n    }\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * Removes the given listener object.\n * @param {!goog.events.ListenableKey} listener The listener to remove.\n * @return {boolean} Whether the listener is removed.\n */\ngoog.events.ListenerMap.prototype.removeByKey = function(listener) {\n  'use strict';\n  var type = listener.type;\n  if (!(type in this.listeners)) {\n    return false;\n  }\n\n  var removed = goog.array.remove(this.listeners[type], listener);\n  if (removed) {\n    /** @type {!goog.events.Listener} */ (listener).markAsRemoved();\n    if (this.listeners[type].length == 0) {\n      delete this.listeners[type];\n      this.typeCount_--;\n    }\n  }\n  return removed;\n};\n\n\n/**\n * Removes all listeners from this map. If opt_type is provided, only\n * listeners that match the given type are removed.\n * @param {string|!goog.events.EventId=} opt_type Type of event to remove.\n * @return {number} Number of listeners removed.\n */\ngoog.events.ListenerMap.prototype.removeAll = function(opt_type) {\n  'use strict';\n  var typeStr = opt_type && opt_type.toString();\n  var count = 0;\n  for (var type in this.listeners) {\n    if (!typeStr || type == typeStr) {\n      var listenerArray = this.listeners[type];\n      for (var i = 0; i < listenerArray.length; i++) {\n        ++count;\n        listenerArray[i].markAsRemoved();\n      }\n      delete this.listeners[type];\n      this.typeCount_--;\n    }\n  }\n  return count;\n};\n\n\n/**\n * Gets all listeners that match the given type and capture mode. The\n * returned array is a copy (but the listener objects are not).\n * @param {string|!goog.events.EventId} type The type of the listeners\n *     to retrieve.\n * @param {boolean} capture The capture mode of the listeners to retrieve.\n * @return {!Array<!goog.events.ListenableKey>} An array of matching\n *     listeners.\n */\ngoog.events.ListenerMap.prototype.getListeners = function(type, capture) {\n  'use strict';\n  var listenerArray = this.listeners[type.toString()];\n  var rv = [];\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      var listenerObj = listenerArray[i];\n      if (listenerObj.capture == capture) {\n        rv.push(listenerObj);\n      }\n    }\n  }\n  return rv;\n};\n\n\n/**\n * Gets the goog.events.ListenableKey for the event or null if no such\n * listener is in use.\n *\n * @param {string|!goog.events.EventId} type The type of the listener\n *     to retrieve.\n * @param {!Function} listener The listener function to get.\n * @param {boolean} capture Whether the listener is a capturing listener.\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n */\ngoog.events.ListenerMap.prototype.getListener = function(\n    type, listener, capture, opt_listenerScope) {\n  'use strict';\n  var listenerArray = this.listeners[type.toString()];\n  var i = -1;\n  if (listenerArray) {\n    i = goog.events.ListenerMap.findListenerIndex_(\n        listenerArray, listener, capture, opt_listenerScope);\n  }\n  return i > -1 ? listenerArray[i] : null;\n};\n\n\n/**\n * Whether there is a matching listener. If either the type or capture\n * parameters are unspecified, the function will match on the\n * remaining criteria.\n *\n * @param {string|!goog.events.EventId=} opt_type The type of the listener.\n * @param {boolean=} opt_capture The capture mode of the listener.\n * @return {boolean} Whether there is an active listener matching\n *     the requested type and/or capture phase.\n */\ngoog.events.ListenerMap.prototype.hasListener = function(\n    opt_type, opt_capture) {\n  'use strict';\n  var hasType = (opt_type !== undefined);\n  var typeStr = hasType ? opt_type.toString() : '';\n  var hasCapture = (opt_capture !== undefined);\n\n  return goog.object.some(this.listeners, function(listenerArray, type) {\n    'use strict';\n    for (var i = 0; i < listenerArray.length; ++i) {\n      if ((!hasType || listenerArray[i].type == typeStr) &&\n          (!hasCapture || listenerArray[i].capture == opt_capture)) {\n        return true;\n      }\n    }\n\n    return false;\n  });\n};\n\n\n/**\n * Finds the index of a matching goog.events.Listener in the given\n * listenerArray.\n * @param {!Array<!goog.events.Listener>} listenerArray Array of listener.\n * @param {!Function} listener The listener function.\n * @param {boolean=} opt_useCapture The capture flag for the listener.\n * @param {Object=} opt_listenerScope The listener scope.\n * @return {number} The index of the matching listener within the\n *     listenerArray.\n * @private\n */\ngoog.events.ListenerMap.findListenerIndex_ = function(\n    listenerArray, listener, opt_useCapture, opt_listenerScope) {\n  'use strict';\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listenerObj = listenerArray[i];\n    if (!listenerObj.removed && listenerObj.listener == listener &&\n        listenerObj.capture == !!opt_useCapture &&\n        listenerObj.handler == opt_listenerScope) {\n      return i;\n    }\n  }\n  return -1;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utilities for manipulating objects/maps/hashes.\n */\ngoog.module('goog.object');\ngoog.module.declareLegacyNamespace();\n\n/**\n * Calls a function for each element in an object/map/hash.\n * @param {?Object<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,?Object<K,V>):?} f The function to call for every\n *     element. This function takes 3 arguments (the value, the key and the\n *     object) and the return value is ignored.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {void}\n * @template T,K,V\n */\nfunction forEach(obj, f, opt_obj) {\n  for (const key in obj) {\n    f.call(/** @type {?} */ (opt_obj), obj[key], key, obj);\n  }\n}\n\n/**\n * Calls a function for each element in an object/map/hash. If that call returns\n * true, adds the element to a new object.\n * @param {?Object<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,?Object<K,V>):boolean} f The function to call for\n *     every element. This function takes 3 arguments (the value, the key and\n *     the object) and should return a boolean. If the return value is true the\n *     element is added to the result object. If it is false the element is not\n *     included.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object<K,V>} a new object in which only elements that passed the\n *     test are present.\n * @template T,K,V\n */\nfunction filter(obj, f, opt_obj) {\n  const res = {};\n  for (const key in obj) {\n    if (f.call(/** @type {?} */ (opt_obj), obj[key], key, obj)) {\n      res[key] = obj[key];\n    }\n  }\n  return res;\n}\n\n/**\n * For every element in an object/map/hash calls a function and inserts the\n * result into a new object.\n * @param {?Object<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,?Object<K,V>):R} f The function to call for every\n *     element. This function takes 3 arguments (the value, the key and the\n *     object) and should return something. The result will be inserted into a\n *     new object.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object<K,R>} a new object with the results from f.\n * @template T,K,V,R\n */\nfunction map(obj, f, opt_obj) {\n  const res = {};\n  for (const key in obj) {\n    res[key] = f.call(/** @type {?} */ (opt_obj), obj[key], key, obj);\n  }\n  return res;\n}\n\n/**\n * Calls a function for each element in an object/map/hash. If any\n * call returns true, returns true (without checking the rest). If\n * all calls return false, returns false.\n * @param {?Object<K,V>} obj The object to check.\n * @param {function(this:T,V,?,?Object<K,V>):boolean} f The function to call for\n *     every element. This function takes 3 arguments (the value, the key and\n *     the object) and should return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} true if any element passes the test.\n * @template T,K,V\n */\nfunction some(obj, f, opt_obj) {\n  for (const key in obj) {\n    if (f.call(/** @type {?} */ (opt_obj), obj[key], key, obj)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Calls a function for each element in an object/map/hash. If\n * all calls return true, returns true. If any call returns false, returns\n * false at this point and does not continue to check the remaining elements.\n * @param {?Object<K,V>} obj The object to check.\n * @param {?function(this:T,V,?,?Object<K,V>):boolean} f The function to call\n *     for every element. This function takes 3 arguments (the value, the key\n *     and the object) and should return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} false if any element fails the test.\n * @template T,K,V\n */\nfunction every(obj, f, opt_obj) {\n  for (const key in obj) {\n    if (!f.call(/** @type {?} */ (opt_obj), obj[key], key, obj)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Returns the number of key-value pairs in the object map.\n * @param {?Object} obj The object for which to get the number of key-value\n *     pairs.\n * @return {number} The number of key-value pairs in the object map.\n */\nfunction getCount(obj) {\n  let rv = 0;\n  for (const key in obj) {\n    rv++;\n  }\n  return rv;\n}\n\n/**\n * Returns one key from the object map, if any exists.\n * For map literals the returned key will be the first one in most of the\n * browsers (a know exception is Konqueror).\n * @param {?Object} obj The object to pick a key from.\n * @return {string|undefined} The key or undefined if the object is empty.\n */\nfunction getAnyKey(obj) {\n  for (const key in obj) {\n    return key;\n  }\n}\n\n/**\n * Returns one value from the object map, if any exists.\n * For map literals the returned value will be the first one in most of the\n * browsers (a know exception is Konqueror).\n * @param {?Object<K,V>} obj The object to pick a value from.\n * @return {V|undefined} The value or undefined if the object is empty.\n * @template K,V\n */\nfunction getAnyValue(obj) {\n  for (const key in obj) {\n    return obj[key];\n  }\n}\n\n/**\n * Whether the object/hash/map contains the given object as a value.\n * An alias for containsValue(obj, val).\n * @param {?Object<K,V>} obj The object in which to look for val.\n * @param {V} val The object for which to check.\n * @return {boolean} true if val is present.\n * @template K,V\n */\nfunction contains(obj, val) {\n  return containsValue(obj, val);\n}\n\n/**\n * Returns the values of the object/map/hash.\n * @param {?Object<K,V>} obj The object from which to get the values.\n * @return {!Array<V>} The values in the object/map/hash.\n * @template K,V\n */\nfunction getValues(obj) {\n  const res = [];\n  let i = 0;\n  for (const key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n}\n\n/**\n * Returns the keys of the object/map/hash.\n * @param {?Object} obj The object from which to get the keys.\n * @return {!Array<string>} Array of property keys.\n */\nfunction getKeys(obj) {\n  const res = [];\n  let i = 0;\n  for (const key in obj) {\n    res[i++] = key;\n  }\n  return res;\n}\n\n/**\n * Get a value from an object multiple levels deep.  This is useful for\n * pulling values from deeply nested objects, such as JSON responses.\n * Example usage: getValueByKeys(jsonObj, 'foo', 'entries', 3)\n * @param {?Object} obj An object to get the value from. Can be array-like.\n * @param {...(string|number|!IArrayLike<number|string>)} var_args A number of\n *     keys (as strings, or numbers, for array-like objects). Can also be\n *     specified as a single array of keys.\n * @return {*} The resulting value. If, at any point, the value for a key in the\n *     current object is null or undefined, returns undefined.\n */\nfunction getValueByKeys(obj, var_args) {\n  const isArrayLike = goog.isArrayLike(var_args);\n  const keys = isArrayLike ?\n      /** @type {!IArrayLike<number|string>} */ (var_args) :\n      arguments;\n\n  // Start with the 2nd parameter for the variable parameters syntax.\n  for (let i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    if (obj == null) return undefined;\n    obj = obj[keys[i]];\n  }\n\n  return obj;\n}\n\n/**\n * Whether the object/map/hash contains the given key.\n * @param {?Object} obj The object in which to look for key.\n * @param {?} key The key for which to check.\n * @return {boolean} true If the map contains the key.\n */\nfunction containsKey(obj, key) {\n  return obj !== null && key in obj;\n}\n\n/**\n * Whether the object/map/hash contains the given value. This is O(n).\n * @param {?Object<K,V>} obj The object in which to look for val.\n * @param {V} val The value for which to check.\n * @return {boolean} true If the map contains the value.\n * @template K,V\n */\nfunction containsValue(obj, val) {\n  for (const key in obj) {\n    if (obj[key] == val) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Searches an object for an element that satisfies the given condition and\n * returns its key.\n * @param {?Object<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,?Object<K,V>):boolean} f The function to\n *     call for every element. Takes 3 arguments (the value, the key and the\n *     object) and should return a boolean.\n * @param {T=} thisObj An optional \"this\" context for the function.\n * @return {string|undefined} The key of an element for which the function\n *     returns true or undefined if no such element is found.\n * @template T,K,V\n */\nfunction findKey(obj, f, thisObj = undefined) {\n  for (const key in obj) {\n    if (f.call(/** @type {?} */ (thisObj), obj[key], key, obj)) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\n/**\n * Searches an object for an element that satisfies the given condition and\n * returns its value.\n * @param {?Object<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,?Object<K,V>):boolean} f The function to\n *     call for every element. Takes 3 arguments (the value, the key and the\n *     object) and should return a boolean.\n * @param {T=} thisObj An optional \"this\" context for the function.\n * @return {V} The value of an element for which the function returns true or\n *     undefined if no such element is found.\n * @template T,K,V\n */\nfunction findValue(obj, f, thisObj = undefined) {\n  const key = findKey(obj, f, thisObj);\n  return key && obj[key];\n}\n\n/**\n * Whether the object/map/hash is empty.\n * @param {?Object} obj The object to test.\n * @return {boolean} true if obj is empty.\n */\nfunction isEmpty(obj) {\n  for (const key in obj) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Removes all key value pairs from the object/map/hash.\n * @param {?Object} obj The object to clear.\n * @return {void}\n */\nfunction clear(obj) {\n  for (const i in obj) {\n    delete obj[i];\n  }\n}\n\n/**\n * Removes a key-value pair based on the key.\n * @param {?Object} obj The object from which to remove the key.\n * @param {?} key The key to remove.\n * @return {boolean} Whether an element was removed.\n */\nfunction remove(obj, key) {\n  let rv;\n  if (rv = key in /** @type {!Object} */ (obj)) {\n    delete obj[key];\n  }\n  return rv;\n}\n\n/**\n * Adds a key-value pair to the object. Throws an exception if the key is\n * already in use. Use set if you want to change an existing pair.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} val The value to add.\n * @return {void}\n * @template K,V\n */\nfunction add(obj, key, val) {\n  if (obj !== null && key in obj) {\n    throw new Error(`The object already contains the key \"${key}\"`);\n  }\n  set(obj, key, val);\n}\n\n/**\n * Returns the value for the given key.\n * @param {?Object<K,V>} obj The object from which to get the value.\n * @param {string} key The key for which to get the value.\n * @param {R=} val The value to return if no item is found for the given key\n *     (default is undefined).\n * @return {V|R|undefined} The value for the given key.\n * @template K,V,R\n */\nfunction get(obj, key, val = undefined) {\n  if (obj !== null && key in obj) {\n    return obj[key];\n  }\n  return val;\n}\n\n/**\n * Adds a key-value pair to the object/map/hash.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} value The value to add.\n * @template K,V\n * @return {void}\n */\nfunction set(obj, key, value) {\n  obj[key] = value;\n}\n\n/**\n * Adds a key-value pair to the object/map/hash if it doesn't exist yet.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} value The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n */\nfunction setIfUndefined(obj, key, value) {\n  return key in /** @type {!Object} */ (obj) ? obj[key] : (obj[key] = value);\n}\n\n/**\n * Sets a key and value to an object if the key is not set. The value will be\n * the return value of the given function. If the key already exists, the\n * object will not be changed and the function will not be called (the function\n * will be lazily evaluated -- only called if necessary).\n * This function is particularly useful when used with an `Object` which is\n * acting as a cache.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {function():V} f The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n */\nfunction setWithReturnValueIfNotSet(obj, key, f) {\n  if (key in obj) {\n    return obj[key];\n  }\n\n  const val = f();\n  obj[key] = val;\n  return val;\n}\n\n/**\n * Compares two objects for equality using === on the values.\n * @param {!Object<K,V>} a\n * @param {!Object<K,V>} b\n * @return {boolean}\n * @template K,V\n */\nfunction equals(a, b) {\n  for (const k in a) {\n    if (!(k in b) || a[k] !== b[k]) {\n      return false;\n    }\n  }\n  for (const k in b) {\n    if (!(k in a)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Returns a shallow clone of the object.\n * @param {?Object<K,V>} obj Object to clone.\n * @return {!Object<K,V>} Clone of the input object.\n * @template K,V\n */\nfunction clone(obj) {\n  const res = {};\n  for (const key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n}\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n * WARNINGS:\n * <code>unsafeClone</code> does not detect reference loops. Objects\n * that refer to themselves will cause infinite recursion.\n * <code>unsafeClone</code> is unaware of unique identifiers, and\n * copies UIDs created by <code>getUid</code> into cloned results.\n * @param {T} obj The value to clone.\n * @return {T} A clone of the input value.\n * @template T\n */\nfunction unsafeClone(obj) {\n  if (!obj || typeof obj !== 'object') return obj;\n  if (typeof obj.clone === 'function') return obj.clone();\n  if (typeof Map !== 'undefined' && obj instanceof Map) {\n    return new Map(obj);\n  } else if (typeof Set !== 'undefined' && obj instanceof Set) {\n    return new Set(obj);\n  }\n  const clone = Array.isArray(obj) ? [] :\n      typeof ArrayBuffer === 'function' &&\n          typeof ArrayBuffer.isView === 'function' && ArrayBuffer.isView(obj) &&\n          !(obj instanceof DataView) ?\n                                     new obj.constructor(obj.length) :\n                                     {};\n  for (const key in obj) {\n    clone[key] = unsafeClone(obj[key]);\n  }\n  return clone;\n}\n\n/**\n * Returns a new object in which all the keys and values are interchanged\n * (keys become values and values become keys). If multiple keys map to the\n * same value, the chosen transposed value is implementation-dependent.\n * @param {?Object} obj The object to transpose.\n * @return {!Object} The transposed object.\n */\nfunction transpose(obj) {\n  const transposed = {};\n  for (const key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n}\n\n/**\n * The names of the fields that are defined on Object.prototype.\n * @type {!Array<string>}\n */\nconst PROTOTYPE_FIELDS = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf',\n];\n\n/**\n * Extends an object with another object.\n * This operates 'in-place'; it does not create a new Object.\n * Example:\n * var o = {};\n * extend(o, {a: 0, b: 1});\n * o; // {a: 0, b: 1}\n * extend(o, {b: 2, c: 3});\n * o; // {a: 0, b: 2, c: 3}\n * @param {?Object} target The object to modify. Existing properties will be\n *     overwritten if they are also present in one of the objects in `var_args`.\n * @param {...(?Object|undefined)} var_args The objects from which values\n *     will be copied.\n * @return {void}\n * @deprecated Prefer Object.assign\n */\nfunction extend(target, var_args) {\n  let key;\n  let source;\n  for (let i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n\n    // For IE the for-in-loop does not contain any properties that are not\n    // enumerable on the prototype object (for example isPrototypeOf from\n    // Object.prototype) and it will also not include 'replace' on objects that\n    // extend String and change 'replace' (not that it is common for anyone to\n    // extend anything except Object).\n\n    for (let j = 0; j < PROTOTYPE_FIELDS.length; j++) {\n      key = PROTOTYPE_FIELDS[j];\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n}\n\n/**\n * Creates a new object built from the key-value pairs provided as arguments.\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments, otherwise even arguments are used as\n *     the property names and odd arguments are used as the property values.\n * @return {!Object} The new object.\n * @throws {!Error} If there are uneven number of arguments or there is only one\n *     non array argument.\n */\nfunction create(var_args) {\n  const argLength = arguments.length;\n  if (argLength == 1 && Array.isArray(arguments[0])) {\n    return create.apply(null, arguments[0]);\n  }\n\n  if (argLength % 2) {\n    throw new Error('Uneven number of arguments');\n  }\n\n  const rv = {};\n  for (let i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n}\n\n/**\n * Creates a new object where the property names come from the arguments but\n * the value is always set to true\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments, otherwise the arguments are used as\n *     the property names.\n * @return {!Object} The new object.\n */\nfunction createSet(var_args) {\n  const argLength = arguments.length;\n  if (argLength == 1 && Array.isArray(arguments[0])) {\n    return createSet.apply(null, arguments[0]);\n  }\n\n  const rv = {};\n  for (let i = 0; i < argLength; i++) {\n    rv[arguments[i]] = true;\n  }\n  return rv;\n}\n\n/**\n * Creates an immutable view of the underlying object, if the browser\n * supports immutable objects.\n * In default mode, writes to this view will fail silently. In strict mode,\n * they will throw an error.\n * @param {!Object<K,V>} obj An object.\n * @return {!Object<K,V>} An immutable view of that object, or the original\n *     object if this browser does not support immutables.\n * @template K,V\n */\nfunction createImmutableView(obj) {\n  let result = obj;\n  if (Object.isFrozen && !Object.isFrozen(obj)) {\n    result = Object.create(obj);\n    Object.freeze(result);\n  }\n  return result;\n}\n\n/**\n * @param {!Object} obj An object.\n * @return {boolean} Whether this is an immutable view of the object.\n */\nfunction isImmutableView(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n}\n\n/**\n * Get all properties names on a given Object regardless of enumerability.\n * <p> If the browser does not support `Object.getOwnPropertyNames` nor\n * `Object.getPrototypeOf` then this is equivalent to using\n * `getKeys`\n * @param {?Object} obj The object to get the properties of.\n * @param {boolean=} includeObjectPrototype Whether properties defined on\n *     `Object.prototype` should be included in the result.\n * @param {boolean=} includeFunctionPrototype Whether properties defined on\n *     `Function.prototype` should be included in the result.\n * @return {!Array<string>}\n * @public\n */\nfunction getAllPropertyNames(\n    obj, includeObjectPrototype = undefined,\n    includeFunctionPrototype = undefined) {\n  if (!obj) {\n    return [];\n  }\n\n  // Naively use a for..in loop to get the property names if the browser doesn't\n  // support any other APIs for getting it.\n  if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n    return getKeys(obj);\n  }\n\n  const visitedSet = {};\n\n  // Traverse the prototype chain and add all properties to the visited set.\n  let proto = obj;\n  while (proto && (proto !== Object.prototype || !!includeObjectPrototype) &&\n         (proto !== Function.prototype || !!includeFunctionPrototype)) {\n    const names = Object.getOwnPropertyNames(proto);\n    for (let i = 0; i < names.length; i++) {\n      visitedSet[names[i]] = true;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return getKeys(visitedSet);\n}\n\n/**\n * Given a ES5 or ES6 class reference, return its super class / super\n * constructor.\n * This should be used in rare cases where you need to walk up the inheritance\n * tree (this is generally a bad idea). But this work with ES5 and ES6 classes,\n * unlike relying on the superClass_ property.\n * Note: To start walking up the hierarchy from an instance call this with its\n * `constructor` property; e.g. `getSuperClass(instance.constructor)`.\n * @param {function(new: ?)} constructor\n * @return {?Object}\n */\nfunction getSuperClass(constructor) {\n  const proto = Object.getPrototypeOf(constructor.prototype);\n  return proto && proto.constructor;\n}\n\nexports = {\n  add,\n  clear,\n  clone,\n  contains,\n  containsKey,\n  containsValue,\n  create,\n  createImmutableView,\n  createSet,\n  equals,\n  every,\n  extend,\n  filter,\n  findKey,\n  findValue,\n  forEach,\n  get,\n  getAllPropertyNames,\n  getAnyKey,\n  getAnyValue,\n  getCount,\n  getKeys,\n  getSuperClass,\n  getValueByKeys,\n  getValues,\n  isEmpty,\n  isImmutableView,\n  map,\n  remove,\n  set,\n  setIfUndefined,\n  setWithReturnValueIfNotSet,\n  some,\n  transpose,\n  unsafeClone,\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview An event manager for both native browser event\n * targets and custom JavaScript event targets\n * (`goog.events.Listenable`). This provides an abstraction\n * over browsers' event systems.\n *\n * It also provides a simulation of W3C event model's capture phase in\n * Internet Explorer (IE 8 and below). Caveat: the simulation does not\n * interact well with listeners registered directly on the elements\n * (bypassing goog.events) or even with listeners registered via\n * goog.events in a separate JS binary. In these cases, we provide\n * no ordering guarantees.\n *\n * The listeners will receive a \"patched\" event object. Such event object\n * contains normalized values for certain event properties that differs in\n * different browsers.\n *\n * Example usage:\n * <pre>\n * goog.events.listen(myNode, 'click', function(e) { alert('woo') });\n * goog.events.listen(myNode, 'mouseover', mouseHandler, true);\n * goog.events.unlisten(myNode, 'mouseover', mouseHandler, true);\n * goog.events.removeAll(myNode);\n * </pre>\n *\n *                                            in IE and event object patching]\n *\n * @see ../demos/events.html\n * @see ../demos/event-propagation.html\n * @see ../demos/stopevent.html\n */\n\n// IMPLEMENTATION NOTES:\n// goog.events stores an auxiliary data structure on each EventTarget\n// source being listened on. This allows us to take advantage of GC,\n// having the data structure GC'd when the EventTarget is GC'd. This\n// GC behavior is equivalent to using W3C DOM Events directly.\n\ngoog.provide('goog.events');\ngoog.provide('goog.events.CaptureSimulationMode');\ngoog.provide('goog.events.Key');\ngoog.provide('goog.events.ListenableType');\n\ngoog.require('goog.asserts');\ngoog.require('goog.debug.entryPointRegistry');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.ListenerMap');\ngoog.requireType('goog.debug.ErrorHandler');\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.EventLike');\ngoog.requireType('goog.events.EventWrapper');\ngoog.requireType('goog.events.ListenableKey');\ngoog.requireType('goog.events.Listener');\n\n\n/**\n * @typedef {number|goog.events.ListenableKey}\n */\ngoog.events.Key;\n\n\n/**\n * @typedef {EventTarget|goog.events.Listenable}\n */\ngoog.events.ListenableType;\n\n\n/**\n * Property name on a native event target for the listener map\n * associated with the event target.\n * @private @const {string}\n */\ngoog.events.LISTENER_MAP_PROP_ = 'closure_lm_' + ((Math.random() * 1e6) | 0);\n\n\n/**\n * String used to prepend to IE event types.\n * @const\n * @private\n */\ngoog.events.onString_ = 'on';\n\n\n/**\n * Map of computed \"on<eventname>\" strings for IE event types. Caching\n * this removes an extra object allocation in goog.events.listen which\n * improves IE6 performance.\n * @const\n * @dict\n * @private\n */\ngoog.events.onStringMap_ = {};\n\n\n/**\n * @enum {number} Different capture simulation mode for IE8-.\n */\ngoog.events.CaptureSimulationMode = {\n  /**\n   * Does not perform capture simulation. Will asserts in IE8- when you\n   * add capture listeners.\n   */\n  OFF_AND_FAIL: 0,\n\n  /**\n   * Does not perform capture simulation, silently ignore capture\n   * listeners.\n   */\n  OFF_AND_SILENT: 1,\n\n  /**\n   * Performs capture simulation.\n   */\n  ON: 2\n};\n\n\n/**\n * @define {number} The capture simulation mode for IE8-. By default,\n *     this is ON.\n */\ngoog.events.CAPTURE_SIMULATION_MODE =\n    goog.define('goog.events.CAPTURE_SIMULATION_MODE', 2);\n\n\n/**\n * Estimated count of total native listeners.\n * @private {number}\n */\ngoog.events.listenerCountEstimate_ = 0;\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target (such as a DOM element) or an object that has implemented\n * {@link goog.events.Listenable}. A listener can only be added once\n * to an object and if it is added again the key for the listener is\n * returned. Note that if the existing listener is a one-off listener\n * (registered via listenOnce), it will no longer be a one-off\n * listener after a call to listen().\n *\n * @param {EventTarget|goog.events.Listenable} src The node to listen\n *     to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(?):?}|null}\n *     listener Callback method, or an object with a handleEvent function.\n *     WARNING: passing an Object is now softly deprecated.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n * @template T,EVENTOBJ\n */\ngoog.events.listen = function(src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (opt_options && opt_options.once) {\n    return goog.events.listenOnce(\n        src, type, listener, opt_options, opt_handler);\n  }\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    return src.listen(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  } else {\n    return goog.events.listen_(\n        /** @type {!EventTarget} */ (src), type, listener,\n        /* callOnce */ false, opt_options, opt_handler);\n  }\n};\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target. A listener can only be added once to an object and if it\n * is added again the key for the listener is returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {EventTarget} src The node to listen to events on.\n * @param {string|?goog.events.EventId<EVENTOBJ>} type Event type.\n * @param {!Function} listener Callback function.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @template EVENTOBJ\n * @private\n */\ngoog.events.listen_ = function(\n    src, type, listener, callOnce, opt_options, opt_handler) {\n  'use strict';\n  if (!type) {\n    throw new Error('Invalid event type');\n  }\n\n  var capture =\n      goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n\n  var listenerMap = goog.events.getListenerMap_(src);\n  if (!listenerMap) {\n    src[goog.events.LISTENER_MAP_PROP_] = listenerMap =\n        new goog.events.ListenerMap(src);\n  }\n\n  var listenerObj = /** @type {goog.events.Listener} */ (\n      listenerMap.add(type, listener, callOnce, capture, opt_handler));\n\n  // If the listenerObj already has a proxy, it has been set up\n  // previously. We simply return.\n  if (listenerObj.proxy) {\n    return listenerObj;\n  }\n\n  var proxy = goog.events.getProxy();\n  listenerObj.proxy = proxy;\n\n  proxy.src = src;\n  proxy.listener = listenerObj;\n\n  // Attach the proxy through the browser's API\n  if (src.addEventListener) {\n    // Don't pass an object as `capture` if the browser doesn't support that.\n    if (!goog.events.BrowserFeature.PASSIVE_EVENTS) {\n      opt_options = capture;\n    }\n    // Don't break tests that expect a boolean.\n    if (opt_options === undefined) opt_options = false;\n    src.addEventListener(type.toString(), proxy, opt_options);\n  } else if (src.attachEvent) {\n    // The else if above used to be an unconditional else. It would call\n    // attachEvent come gws or high water. This would sometimes throw an\n    // exception on IE11, spoiling the day of some callers. The previous\n    // incarnation of this code, from 2007, indicates that it replaced an\n    // earlier still version that caused excess allocations on IE6.\n    src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n  } else if (src.addListener && src.removeListener) {\n    // In IE, MediaQueryList uses addListener() insteadd of addEventListener. In\n    // Safari, there is no global for the MediaQueryList constructor, so we just\n    // check whether the object \"looks like\" MediaQueryList.\n    goog.asserts.assert(\n        type === 'change', 'MediaQueryList only has a change event');\n    src.addListener(proxy);\n  } else {\n    throw new Error('addEventListener and attachEvent are unavailable.');\n  }\n\n  goog.events.listenerCountEstimate_++;\n  return listenerObj;\n};\n\n\n/**\n * Helper function for returning a proxy function.\n * @return {!Function} A new or reused function object.\n */\ngoog.events.getProxy = function() {\n  'use strict';\n  const proxyCallbackFunction = goog.events.handleBrowserEvent_;\n  const f = function(eventObject) {\n    return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n  };\n  return f;\n};\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target (such as a DOM element) or an object that has implemented\n * {@link goog.events.Listenable}. After the event has fired the event\n * listener is removed from the target.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {EventTarget|goog.events.Listenable} src The node to listen\n *     to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(?):?}|null}\n *     listener Callback method.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n * @template T,EVENTOBJ\n */\ngoog.events.listenOnce = function(\n    src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    return src.listenOnce(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  } else {\n    return goog.events.listen_(\n        /** @type {!EventTarget} */ (src), type, listener,\n        /* callOnce */ true, opt_options, opt_handler);\n  }\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.Listenable}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.Listenable} src The target to\n *     listen to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(this:T, ?):?|{handleEvent:function(?):?}|null} listener\n *     Callback method, or an object with a handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @template T\n */\ngoog.events.listenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_handler) {\n  'use strict';\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes an event listener which was added with listen().\n *\n * @param {EventTarget|goog.events.Listenable} src The target to stop\n *     listening to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types to unlisten to.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {(boolean|!EventListenerOptions)=} opt_options\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {?boolean} indicating whether the listener was there to remove.\n * @template EVENTOBJ\n */\ngoog.events.unlisten = function(src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  var capture =\n      goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  }\n\n  if (!src) {\n    // TODO(chrishenry): We should tighten the API to only accept\n    // non-null objects, or add an assertion here.\n    return false;\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  if (listenerMap) {\n    var listenerObj = listenerMap.getListener(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n    if (listenerObj) {\n      return goog.events.unlistenByKey(listenerObj);\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * @param {goog.events.Key} key The key returned by listen() for this\n *     event listener.\n * @return {boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlistenByKey = function(key) {\n  'use strict';\n  // TODO(chrishenry): Remove this check when tests that rely on this\n  // are fixed.\n  if (typeof key === 'number') {\n    return false;\n  }\n\n  var listener = key;\n  if (!listener || listener.removed) {\n    return false;\n  }\n\n  var src = listener.src;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return /** @type {!goog.events.Listenable} */ (src).unlistenByKey(listener);\n  }\n\n  var type = listener.type;\n  var proxy = listener.proxy;\n  if (src.removeEventListener) {\n    src.removeEventListener(type, proxy, listener.capture);\n  } else if (src.detachEvent) {\n    src.detachEvent(goog.events.getOnString_(type), proxy);\n  } else if (src.addListener && src.removeListener) {\n    src.removeListener(proxy);\n  }\n  goog.events.listenerCountEstimate_--;\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  // TODO(chrishenry): Try to remove this conditional and execute the\n  // first branch always. This should be safe.\n  if (listenerMap) {\n    listenerMap.removeByKey(listener);\n    if (listenerMap.getTypeCount() == 0) {\n      // Null the src, just because this is simple to do (and useful\n      // for IE <= 7).\n      listenerMap.src = null;\n      // We don't use delete here because IE does not allow delete\n      // on a window object.\n      src[goog.events.LISTENER_MAP_PROP_] = null;\n    }\n  } else {\n    /** @type {!goog.events.Listener} */ (listener).markAsRemoved();\n  }\n\n  return true;\n};\n\n\n/**\n * Removes an event listener which was added with listenWithWrapper().\n *\n * @param {EventTarget|goog.events.Listenable} src The target to stop\n *     listening to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.unlistenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_handler) {\n  'use strict';\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes all listeners from an object. You can also optionally\n * remove listeners of a particular type.\n *\n * @param {Object|undefined} obj Object to remove listeners from. Must be an\n *     EventTarget or a goog.events.Listenable.\n * @param {string|!goog.events.EventId=} opt_type Type of event to remove.\n *     Default is all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAll = function(obj, opt_type) {\n  'use strict';\n  // TODO(chrishenry): Change the type of obj to\n  // (!EventTarget|!goog.events.Listenable).\n\n  if (!obj) {\n    return 0;\n  }\n\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {?} */ (obj).removeAllListeners(opt_type);\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (obj));\n  if (!listenerMap) {\n    return 0;\n  }\n\n  var count = 0;\n  var typeStr = opt_type && opt_type.toString();\n  for (var type in listenerMap.listeners) {\n    if (!typeStr || type == typeStr) {\n      // Clone so that we don't need to worry about unlistenByKey\n      // changing the content of the ListenerMap.\n      var listeners = listenerMap.listeners[type].concat();\n      for (var i = 0; i < listeners.length; ++i) {\n        if (goog.events.unlistenByKey(listeners[i])) {\n          ++count;\n        }\n      }\n    }\n  }\n  return count;\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {!Array<!goog.events.Listener>} Array of listener objects.\n */\ngoog.events.getListeners = function(obj, type, capture) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {!goog.events.Listenable} */ (obj).getListeners(\n        type, capture);\n  } else {\n    if (!obj) {\n      // TODO(chrishenry): We should tighten the API to accept\n      // !EventTarget|goog.events.Listenable, and add an assertion here.\n      return [];\n    }\n\n    var listenerMap = goog.events.getListenerMap_(\n        /** @type {!EventTarget} */ (obj));\n    return listenerMap ? listenerMap.getListeners(type, capture) : [];\n  }\n};\n\n\n/**\n * Gets the goog.events.Listener for the event or null if no such listener is\n * in use.\n *\n * @param {EventTarget|goog.events.Listenable} src The target from\n *     which to get listeners.\n * @param {?string|!goog.events.EventId<EVENTOBJ>} type The type of the event.\n * @param {function(EVENTOBJ):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to get.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *                            whether the listener is fired during the\n *                            capture or bubble phase of the event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n * @template EVENTOBJ\n */\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  'use strict';\n  // TODO(chrishenry): Change type from ?string to string, or add assertion.\n  type = /** @type {string} */ (type);\n  listener = goog.events.wrapListener(listener);\n  var capture = !!opt_capt;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(type, listener, capture, opt_handler);\n  }\n\n  if (!src) {\n    // TODO(chrishenry): We should tighten the API to only accept\n    // non-null objects, or add an assertion here.\n    return null;\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  if (listenerMap) {\n    return listenerMap.getListener(type, listener, capture, opt_handler);\n  }\n  return null;\n};\n\n\n/**\n * Returns whether an event target has any active listeners matching the\n * specified signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {EventTarget|goog.events.Listenable} obj Target to get\n *     listeners for.\n * @param {string|!goog.events.EventId=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble-phase\n *     listeners.\n * @return {boolean} Whether an event target has one or more listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (obj));\n  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\n\n\n/**\n * Provides a nice string showing the normalized event objects public members\n * @param {Object} e Event Object.\n * @return {string} String of the public members of the normalized event object.\n */\ngoog.events.expose = function(e) {\n  'use strict';\n  var str = [];\n  for (var key in e) {\n    if (e[key] && e[key].id) {\n      str.push(key + ' = ' + e[key] + ' (' + e[key].id + ')');\n    } else {\n      str.push(key + ' = ' + e[key]);\n    }\n  }\n  return str.join('\\n');\n};\n\n\n/**\n * Returns a string with on prepended to the specified type. This is used for IE\n * which expects \"on\" to be prepended. This function caches the string in order\n * to avoid extra allocations in steady state.\n * @param {string} type Event type.\n * @return {string} The type string with 'on' prepended.\n * @private\n */\ngoog.events.getOnString_ = function(type) {\n  'use strict';\n  if (type in goog.events.onStringMap_) {\n    return goog.events.onStringMap_[type];\n  }\n  return goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase\n *\n * @param {Object} obj Object whose listeners to call.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n */\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {!goog.events.Listenable} */ (obj).fireListeners(\n        type, capture, eventObject);\n  }\n\n  return goog.events.fireListeners_(obj, type, capture, eventObject);\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase.\n * @param {Object} obj Object whose listeners to call.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n * @private\n */\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n  'use strict';\n  /** @type {boolean} */\n  var retval = true;\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {EventTarget} */ (obj));\n  if (listenerMap) {\n    // TODO(chrishenry): Original code avoids array creation when there\n    // is no listener, so we do the same. If this optimization turns\n    // out to be not required, we can replace this with\n    // listenerMap.getListeners(type, capture) instead, which is simpler.\n    var listenerArray = listenerMap.listeners[type.toString()];\n    if (listenerArray) {\n      listenerArray = listenerArray.concat();\n      for (var i = 0; i < listenerArray.length; i++) {\n        var listener = listenerArray[i];\n        // We might not have a listener if the listener was removed.\n        if (listener && listener.capture == capture && !listener.removed) {\n          var result = goog.events.fireListener(listener, eventObject);\n          retval = retval && (result !== false);\n        }\n      }\n    }\n  }\n  return retval;\n};\n\n\n/**\n * Fires a listener with a set of arguments\n *\n * @param {goog.events.Listener} listener The listener object to call.\n * @param {Object} eventObject The event object to pass to the listener.\n * @return {*} Result of listener.\n */\ngoog.events.fireListener = function(listener, eventObject) {\n  'use strict';\n  var listenerFn = listener.listener;\n  var listenerHandler = listener.handler || listener.src;\n\n  if (listener.callOnce) {\n    goog.events.unlistenByKey(listener);\n  }\n  return listenerFn.call(listenerHandler, eventObject);\n};\n\n\n/**\n * Gets the total number of listeners currently in the system.\n * @return {number} Number of listeners.\n * @deprecated This returns estimated count, now that Closure no longer\n * stores a central listener registry. We still return an estimation\n * to keep existing listener-related tests passing. In the near future,\n * this function will be removed.\n */\ngoog.events.getTotalListenerCount = function() {\n  'use strict';\n  return goog.events.listenerCountEstimate_;\n};\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.Listenable} src The event target.\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the handlers returns false) this will also return false.\n *     If there are no handlers, or if all handlers return true, this returns\n *     true.\n */\ngoog.events.dispatchEvent = function(src, e) {\n  'use strict';\n  goog.asserts.assert(\n      goog.events.Listenable.isImplementedBy(src),\n      'Can not use goog.events.dispatchEvent with ' +\n          'non-goog.events.Listenable instance.');\n  return src.dispatchEvent(e);\n};\n\n\n/**\n * Installs exception protection for the browser event entry point using the\n * given error handler.\n *\n * @param {goog.debug.ErrorHandler} errorHandler Error handler with which to\n *     protect the entry point.\n */\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  'use strict';\n  goog.events.handleBrowserEvent_ =\n      errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\n\n\n/**\n * Handles an event and dispatches it to the correct listeners. This\n * function is a proxy for the real listener the user specified.\n *\n * @param {goog.events.Listener} listener The listener object.\n * @param {Event=} opt_evt Optional event object that gets passed in via the\n *     native event handlers.\n * @return {*} Result of the event handler.\n * @this {EventTarget} The object or Element that fired the event.\n * @private\n */\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  'use strict';\n  if (listener.removed) {\n    return true;\n  }\n\n  // Otherwise, simply fire the listener.\n  return goog.events.fireListener(\n      listener, new goog.events.BrowserEvent(opt_evt, this));\n};\n\n\n/**\n * This is used to mark the IE event object so we do not do the Closure pass\n * twice for a bubbling event.\n * @param {Event} e The IE browser event.\n * @private\n */\ngoog.events.markIeEvent_ = function(e) {\n  'use strict';\n  // Only the keyCode and the returnValue can be changed. We use keyCode for\n  // non keyboard events.\n  // event.returnValue is a bit more tricky. It is undefined by default. A\n  // boolean false prevents the default action. In a window.onbeforeunload and\n  // the returnValue is non undefined it will be alerted. However, we will only\n  // modify the returnValue for keyboard events. We can get a problem if non\n  // closure events sets the keyCode or the returnValue\n\n  var useReturnValue = false;\n\n  if (e.keyCode == 0) {\n    // We cannot change the keyCode in case that srcElement is input[type=file].\n    // We could test that that is the case but that would allocate 3 objects.\n    // If we use try/catch we will only allocate extra objects in the case of a\n    // failure.\n\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = true;\n    }\n  }\n\n  if (useReturnValue ||\n      /** @type {boolean|undefined} */ (e.returnValue) == undefined) {\n    e.returnValue = true;\n  }\n};\n\n\n/**\n * This is used to check if an IE event has already been handled by the Closure\n * system so we do not do the Closure pass twice for a bubbling event.\n * @param {Event} e  The IE browser event.\n * @return {boolean} True if the event object has been marked.\n * @private\n */\ngoog.events.isMarkedIeEvent_ = function(e) {\n  'use strict';\n  return e.keyCode < 0 || e.returnValue != undefined;\n};\n\n\n/**\n * Counter to create unique event ids.\n * @private {number}\n */\ngoog.events.uniqueIdCounter_ = 0;\n\n\n/**\n * Creates a unique event id.\n *\n * @param {string} identifier The identifier.\n * @return {string} A unique identifier.\n * @idGenerator {unique}\n */\ngoog.events.getUniqueId = function(identifier) {\n  'use strict';\n  return identifier + '_' + goog.events.uniqueIdCounter_++;\n};\n\n\n/**\n * @param {EventTarget} src The source object.\n * @return {goog.events.ListenerMap} A listener map for the given\n *     source object, or null if none exists.\n * @private\n */\ngoog.events.getListenerMap_ = function(src) {\n  'use strict';\n  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n  // IE serializes the property as well (e.g. when serializing outer\n  // HTML). So we must check that the value is of the correct type.\n  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\n\n\n/**\n * Expando property for listener function wrapper for Object with\n * handleEvent.\n * @private @const {string}\n */\ngoog.events.LISTENER_WRAPPER_PROP_ =\n    '__closure_events_fn_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * @param {Object|Function} listener The listener function or an\n *     object that contains handleEvent method.\n * @return {!Function} Either the original function or a function that\n *     calls obj.handleEvent. If the same listener is passed to this\n *     function more than once, the same function is guaranteed to be\n *     returned.\n */\ngoog.events.wrapListener = function(listener) {\n  'use strict';\n  goog.asserts.assert(listener, 'Listener can not be null.');\n\n  if (typeof listener === 'function') {\n    return listener;\n  }\n\n  goog.asserts.assert(\n      listener.handleEvent, 'An object listener must have handleEvent method.');\n  if (!listener[goog.events.LISTENER_WRAPPER_PROP_]) {\n    listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n      'use strict';\n      return /** @type {?} */ (listener).handleEvent(e);\n    };\n  }\n  return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\n\n\n// Register the browser event handler as an entry point, so that\n// it can be monitored for exception handling, etc.\ngoog.debug.entryPointRegistry.register(\n    /**\n     * @param {function(!Function): !Function} transformer The transforming\n     *     function.\n     */\n    function(transformer) {\n      'use strict';\n      goog.events.handleBrowserEvent_ =\n          transformer(goog.events.handleBrowserEvent_);\n    });\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A disposable implementation of a custom\n * listenable/event target. See also: documentation for\n * `goog.events.Listenable`.\n *\n * @see ../demos/eventtarget.html\n * @see goog.events.Listenable\n */\n\ngoog.provide('goog.events.EventTarget');\n\ngoog.require('goog.Disposable');\ngoog.require('goog.asserts');\ngoog.require('goog.events');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.ListenerMap');\ngoog.require('goog.object');\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.EventLike');\ngoog.requireType('goog.events.ListenableKey');\n\n\n\n/**\n * An implementation of `goog.events.Listenable` with full W3C\n * EventTarget-like support (capture/bubble mechanism, stopping event\n * propagation, preventing default actions).\n *\n * You may subclass this class to turn your class into a Listenable.\n *\n * Unless propagation is stopped, an event dispatched by an\n * EventTarget will bubble to the parent returned by\n * `getParentEventTarget`. To set the parent, call\n * `setParentEventTarget`. Subclasses that don't support\n * changing the parent can override the setter to throw an error.\n *\n * Example usage:\n * <pre>\n *   var source = new goog.events.EventTarget();\n *   function handleEvent(e) {\n *     alert('Type: ' + e.type + '; Target: ' + e.target);\n *   }\n *   source.listen('foo', handleEvent);\n *   // Or: goog.events.listen(source, 'foo', handleEvent);\n *   ...\n *   source.dispatchEvent('foo');  // will call handleEvent\n *   ...\n *   source.unlisten('foo', handleEvent);\n *   // Or: goog.events.unlisten(source, 'foo', handleEvent);\n * </pre>\n *\n * @constructor\n * @extends {goog.Disposable}\n * @implements {goog.events.Listenable}\n */\ngoog.events.EventTarget = function() {\n  'use strict';\n  goog.Disposable.call(this);\n\n  /**\n   * Maps of event type to an array of listeners.\n   * @private {!goog.events.ListenerMap}\n   */\n  this.eventTargetListeners_ = new goog.events.ListenerMap(this);\n\n  /**\n   * The object to use for event.target. Useful when mixing in an\n   * EventTarget to another object.\n   * @private {!Object}\n   */\n  this.actualEventTarget_ = this;\n\n  /**\n   * Parent event target, used during event bubbling.\n   *\n   * TODO(chrishenry): Change this to goog.events.Listenable. This\n   * currently breaks people who expect getParentEventTarget to return\n   * goog.events.EventTarget.\n   *\n   * @private {?goog.events.EventTarget}\n   */\n  this.parentEventTarget_ = null;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\ngoog.events.Listenable.addImplementation(goog.events.EventTarget);\n\n\n/**\n * An artificial cap on the number of ancestors you can have. This is mainly\n * for loop detection.\n * @const {number}\n * @private\n */\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1000;\n\n\n/**\n * Returns the parent of this event target to use for bubbling.\n *\n * @return {goog.events.EventTarget} The parent EventTarget or null if\n *     there is no parent.\n * @override\n */\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n  'use strict';\n  return this.parentEventTarget_;\n};\n\n\n/**\n * Sets the parent of this event target to use for capture/bubble\n * mechanism.\n * @param {goog.events.EventTarget} parent Parent listenable (null if none).\n */\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n  'use strict';\n  this.parentEventTarget_ = parent;\n};\n\n\n/**\n * Adds an event listener to the event target. The same handler can only be\n * added once per the type. Even if you add the same handler multiple times\n * using the same type then it will only be called once when the event is\n * dispatched.\n *\n * @param {string|!goog.events.EventId} type The type of the event to listen for\n * @param {function(?):?|{handleEvent:function(?):?}|null} handler The function\n *     to handle the event. The handler can also be an object that implements\n *     the handleEvent method which takes the event object as argument.\n * @param {boolean=} opt_capture In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase\n *     of the event.\n * @param {Object=} opt_handlerScope Object in whose scope to call\n *     the listener.\n * @deprecated Use `#listen` instead, when possible. Otherwise, use\n *     `goog.events.listen` if you are passing Object\n *     (instead of Function) as handler.\n */\ngoog.events.EventTarget.prototype.addEventListener = function(\n    type, handler, opt_capture, opt_handlerScope) {\n  'use strict';\n  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\n\n\n/**\n * Removes an event listener from the event target. The handler must be the\n * same object as the one added. If the handler has not been added then\n * nothing is done.\n *\n * @param {string|!goog.events.EventId} type The type of the event to listen for\n * @param {function(?):?|{handleEvent:function(?):?}|null} handler The function\n *     to handle the event. The handler can also be an object that implements\n *     the handleEvent method which takes the event object as argument.\n * @param {boolean=} opt_capture In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase\n *     of the event.\n * @param {Object=} opt_handlerScope Object in whose scope to call\n *     the listener.\n * @deprecated Use `#unlisten` instead, when possible. Otherwise, use\n *     `goog.events.unlisten` if you are passing Object\n *     (instead of Function) as handler.\n */\ngoog.events.EventTarget.prototype.removeEventListener = function(\n    type, handler, opt_capture, opt_handlerScope) {\n  'use strict';\n  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\n\n\n/**\n * @param {?goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false) this will also return false.\n * @override\n */\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n  'use strict';\n  this.assertInitialized_();\n\n  var ancestorsTree, ancestor = this.getParentEventTarget();\n  if (ancestor) {\n    ancestorsTree = [];\n    var ancestorCount = 1;\n    for (; ancestor; ancestor = ancestor.getParentEventTarget()) {\n      ancestorsTree.push(ancestor);\n      goog.asserts.assert(\n          (++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_),\n          'infinite loop');\n    }\n  }\n\n  return goog.events.EventTarget.dispatchEventInternal_(\n      this.actualEventTarget_, e, ancestorsTree);\n};\n\n\n/**\n * Removes listeners from this object.  Classes that extend EventTarget may\n * need to override this method in order to remove references to DOM Elements\n * and additional listeners.\n * @override\n * @protected\n */\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n  'use strict';\n  goog.events.EventTarget.superClass_.disposeInternal.call(this);\n\n  this.removeAllListeners();\n  this.parentEventTarget_ = null;\n};\n\n\n/**\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The event type id.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener Callback\n *     method.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {!goog.events.ListenableKey} Unique key for the listener.\n * @template SCOPE,EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.listen = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  'use strict';\n  this.assertInitialized_();\n  return this.eventTargetListeners_.add(\n      String(type), listener, false /* callOnce */, opt_useCapture,\n      opt_listenerScope);\n};\n\n\n/**\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The event type id.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener Callback\n *     method.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {!goog.events.ListenableKey} Unique key for the listener.\n * @template SCOPE,EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.listenOnce = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  'use strict';\n  return this.eventTargetListeners_.add(\n      String(type), listener, true /* callOnce */, opt_useCapture,\n      opt_listenerScope);\n};\n\n\n/**\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The event type id.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener Callback\n *     method.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call\n *     the listener.\n * @return {boolean} Whether any listener was removed.\n * @template SCOPE,EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.unlisten = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  'use strict';\n  return this.eventTargetListeners_.remove(\n      String(type), listener, opt_useCapture, opt_listenerScope);\n};\n\n\n/**\n * @param {!goog.events.ListenableKey} key The key returned by\n *     listen() or listenOnce().\n * @return {boolean} Whether any listener was removed.\n * @override\n */\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n  'use strict';\n  return this.eventTargetListeners_.removeByKey(key);\n};\n\n\n/**\n * @param {string|!goog.events.EventId=} opt_type Type of event to remove,\n *     default is to remove all types.\n * @return {number} Number of listeners removed.\n * @override\n */\ngoog.events.EventTarget.prototype.removeAllListeners = function(opt_type) {\n  'use strict';\n  // TODO(chrishenry): Previously, removeAllListeners can be called on\n  // uninitialized EventTarget, so we preserve that behavior. We\n  // should remove this when usages that rely on that fact are purged.\n  if (!this.eventTargetListeners_) {\n    return 0;\n  }\n  return this.eventTargetListeners_.removeAll(opt_type);\n};\n\n\n/**\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The type of the\n *     listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @param {EVENTOBJ} eventObject The event object to fire.\n * @return {boolean} Whether all listeners succeeded without\n *     attempting to prevent default behavior. If any listener returns\n *     false or called goog.events.Event#preventDefault, this returns\n *     false.\n * @template EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.fireListeners = function(\n    type, capture, eventObject) {\n  'use strict';\n  // TODO(chrishenry): Original code avoids array creation when there\n  // is no listener, so we do the same. If this optimization turns\n  // out to be not required, we can replace this with\n  // getListeners(type, capture) instead, which is simpler.\n  var listenerArray = this.eventTargetListeners_.listeners[String(type)];\n  if (!listenerArray) {\n    return true;\n  }\n  listenerArray = listenerArray.concat();\n\n  var rv = true;\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listener = listenerArray[i];\n    // We might not have a listener if the listener was removed.\n    if (listener && !listener.removed && listener.capture == capture) {\n      var listenerFn = listener.listener;\n      var listenerHandler = listener.handler || listener.src;\n\n      if (listener.callOnce) {\n        this.unlistenByKey(listener);\n      }\n      rv = listenerFn.call(listenerHandler, eventObject) !== false && rv;\n    }\n  }\n\n  return rv && !eventObject.defaultPrevented;\n};\n\n\n/**\n * @param {string|!goog.events.EventId} type The type of the listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @return {!Array<!goog.events.ListenableKey>} An array of registered\n *     listeners.\n * @template EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n  'use strict';\n  return this.eventTargetListeners_.getListeners(String(type), capture);\n};\n\n\n/**\n * @param {string|!goog.events.EventId<EVENTOBJ>} type The name of the event\n *     without the 'on' prefix.\n * @param {function(this:SCOPE, EVENTOBJ):(boolean|undefined)} listener The\n *     listener function to get.\n * @param {boolean} capture Whether the listener is a capturing listener.\n * @param {SCOPE=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {?goog.events.ListenableKey} the found listener or null if not found.\n * @template SCOPE,EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.getListener = function(\n    type, listener, capture, opt_listenerScope) {\n  'use strict';\n  return this.eventTargetListeners_.getListener(\n      String(type), listener, capture, opt_listenerScope);\n};\n\n\n/**\n * @param {string|!goog.events.EventId<EVENTOBJ>=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble\n *     listeners.\n * @return {boolean} Whether there is any active listeners matching\n *     the requested type and/or capture phase.\n * @template EVENTOBJ\n * @override\n */\ngoog.events.EventTarget.prototype.hasListener = function(\n    opt_type, opt_capture) {\n  'use strict';\n  var id = (opt_type !== undefined) ? String(opt_type) : undefined;\n  return this.eventTargetListeners_.hasListener(id, opt_capture);\n};\n\n\n/**\n * Sets the target to be used for `event.target` when firing\n * event. Mainly used for testing. For example, see\n * `goog.testing.events.mixinListenable`.\n * @param {!Object} target The target.\n */\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n  'use strict';\n  this.actualEventTarget_ = target;\n};\n\n\n/**\n * Asserts that the event target instance is initialized properly.\n * @private\n */\ngoog.events.EventTarget.prototype.assertInitialized_ = function() {\n  'use strict';\n  goog.asserts.assert(\n      this.eventTargetListeners_,\n      'Event target is not initialized. Did you call the superclass ' +\n          '(goog.events.EventTarget) constructor?');\n};\n\n\n/**\n * Dispatches the given event on the ancestorsTree.\n *\n * @param {!Object} target The target to dispatch on.\n * @param {goog.events.Event|Object|string} e The event object.\n * @param {Array<goog.events.Listenable>=} opt_ancestorsTree The ancestors\n *     tree of the target, in reverse order from the closest ancestor\n *     to the root event target. May be null if the target has no ancestor.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false) this will also return false.\n * @private\n */\ngoog.events.EventTarget.dispatchEventInternal_ = function(\n    target, e, opt_ancestorsTree) {\n  'use strict';\n  /** @suppress {missingProperties} */\n  var type = e.type || /** @type {string} */ (e);\n\n  // If accepting a string or object, create a custom event object so that\n  // preventDefault and stopPropagation work with the event.\n  if (typeof e === 'string') {\n    e = new goog.events.Event(e, target);\n  } else if (!(e instanceof goog.events.Event)) {\n    var oldEvent = e;\n    e = new goog.events.Event(type, target);\n    goog.object.extend(e, oldEvent);\n  } else {\n    e.target = e.target || target;\n  }\n\n  var rv = true, currentTarget;\n\n  // Executes all capture listeners on the ancestors, if any.\n  if (opt_ancestorsTree) {\n    for (var i = opt_ancestorsTree.length - 1;\n         !e.hasPropagationStopped() && i >= 0; i--) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, true, e) && rv;\n    }\n  }\n\n  // Executes capture and bubble listeners on the target.\n  if (!e.hasPropagationStopped()) {\n    currentTarget = /** @type {?} */ (e.currentTarget = target);\n    rv = currentTarget.fireListeners(type, true, e) && rv;\n    if (!e.hasPropagationStopped()) {\n      rv = currentTarget.fireListeners(type, false, e) && rv;\n    }\n  }\n\n  // Executes all bubble listeners on the ancestors, if any.\n  if (opt_ancestorsTree) {\n    for (i = 0; !e.hasPropagationStopped() && i < opt_ancestorsTree.length;\n         i++) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, false, e) && rv;\n    }\n  }\n\n  return rv;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview JSON utility functions.\n */\n\n\ngoog.provide('goog.json');\ngoog.provide('goog.json.Replacer');\ngoog.provide('goog.json.Reviver');\ngoog.provide('goog.json.Serializer');\n\n\n/**\n * @define {boolean} If true, use the native JSON parsing API.\n * NOTE: The default `goog.json.parse` implementation is able to handle\n * invalid JSON. JSPB used to produce invalid JSON which is not the case\n * anymore so this is safe to enable for parsing JSPB. Using native JSON is\n * faster and safer than the default implementation using `eval`.\n */\ngoog.json.USE_NATIVE_JSON = goog.define('goog.json.USE_NATIVE_JSON', false);\n\n/**\n * @define {boolean} If true, try the native JSON parsing API first. If it\n * fails, log an error and use `eval` instead. This is useful when\n * transitioning to `goog.json.USE_NATIVE_JSON`. The error logger needs to\n * be set by `goog.json.setErrorLogger`. If it is not set then the error\n * is ignored.\n */\ngoog.json.TRY_NATIVE_JSON = goog.define('goog.json.TRY_NATIVE_JSON', true);\n\n\n/**\n * Tests if a string is an invalid JSON string. This only ensures that we are\n * not using any invalid characters\n * @param {string} s The string to test.\n * @return {boolean} True if the input is a valid JSON string.\n */\ngoog.json.isValid = function(s) {\n  'use strict';\n  // All empty whitespace is not valid.\n  if (/^\\s*$/.test(s)) {\n    return false;\n  }\n\n  // This is taken from http://www.json.org/json2.js which is released to the\n  // public domain.\n  // Changes: We dissallow \\u2028 Line separator and \\u2029 Paragraph separator\n  // inside strings.  We also treat \\u2028 and \\u2029 as whitespace which they\n  // are in the RFC but IE and Safari does not match \\s to these so we need to\n  // include them in the reg exps in all places where whitespace is allowed.\n  // We allowed \\x7f inside strings because some tools don't escape it,\n  // e.g. http://www.json.org/java/org/json/JSONObject.java\n\n  // Parsing happens in three stages. In the first stage, we run the text\n  // against regular expressions that look for non-JSON patterns. We are\n  // especially concerned with '()' and 'new' because they can cause invocation,\n  // and '=' because it can cause mutation. But just to be safe, we want to\n  // reject all unexpected forms.\n\n  // We split the first stage into 4 regexp operations in order to work around\n  // crippling inefficiencies in IE's and Safari's regexp engines. First we\n  // replace all backslash pairs with '@' (a non-JSON character). Second, we\n  // replace all simple value tokens with ']' characters, but only when followed\n  // by a colon, comma, closing bracket or end of string. Third, we delete all\n  // open brackets that follow a colon or comma or that begin the text. Finally,\n  // we look to see that the remaining characters are only whitespace or ']' or\n  // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n  // Don't make these static since they have the global flag.\n  const backslashesRe = /\\\\[\"\\\\\\/bfnrtu]/g;\n  const simpleValuesRe =\n      /(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g;\n  const openBracketsRe = /(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g;\n  const remainderRe = /^[\\],:{}\\s\\u2028\\u2029]*$/;\n\n  return remainderRe.test(\n      s.replace(backslashesRe, '@')\n          .replace(simpleValuesRe, ']')\n          .replace(openBracketsRe, ''));\n};\n\n/**\n * Logs a parsing error in `JSON.parse` solvable by using `eval`\n * if `goog.json.TRY_NATIVE_JSON` is enabled.\n * @private {function(string, !Error)} The first parameter is the error message,\n *     the second is the exception thrown by `JSON.parse`.\n */\ngoog.json.errorLogger_ = goog.nullFunction;\n\n\n/**\n * Sets an error logger to use if there's a recoverable parsing error and\n * `goog.json.TRY_NATIVE_JSON` is enabled.\n * @param {function(string, !Error)} errorLogger The first parameter is the\n *     error message, the second is the exception thrown by `JSON.parse`.\n */\ngoog.json.setErrorLogger = function(errorLogger) {\n  'use strict';\n  goog.json.errorLogger_ = errorLogger;\n};\n\n\n/**\n * Parses a JSON string and returns the result. This throws an exception if\n * the string is an invalid JSON string.\n *\n * Note that this is very slow on large strings. Use JSON.parse if possible.\n *\n * @param {*} s The JSON string to parse.\n * @throws Error if s is invalid JSON.\n * @return {Object} The object generated from the JSON string, or null.\n * @deprecated Use JSON.parse.\n */\ngoog.json.parse = goog.json.USE_NATIVE_JSON ?\n    /** @type {function(*):Object} */ (goog.global['JSON']['parse']) :\n    function(s) {\n      'use strict';\n      let error;\n      if (goog.json.TRY_NATIVE_JSON) {\n        try {\n          return goog.global['JSON']['parse'](s);\n        } catch (ex) {\n          error = ex;\n        }\n      }\n      const o = String(s);\n      if (goog.json.isValid(o)) {\n\n        try {\n          const result = /** @type {?Object} */ (eval('(' + o + ')'));\n          if (error) {\n            goog.json.errorLogger_('Invalid JSON: ' + o, error);\n          }\n          return result;\n        } catch (ex) {\n        }\n      }\n      throw new Error('Invalid JSON string: ' + o);\n    };\n\n\n/**\n * JSON replacer, as defined in Section 15.12.3 of the ES5 spec.\n * @see http://ecma-international.org/ecma-262/5.1/#sec-15.12.3\n *\n * TODO(nicksantos): Array should also be a valid replacer.\n *\n * @typedef {function(this:Object, string, *): *}\n */\ngoog.json.Replacer;\n\n\n/**\n * JSON reviver, as defined in Section 15.12.2 of the ES5 spec.\n * @see http://ecma-international.org/ecma-262/5.1/#sec-15.12.3\n *\n * @typedef {function(this:Object, string, *): *}\n */\ngoog.json.Reviver;\n\n\n/**\n * Serializes an object or a value to a JSON string.\n *\n * @param {*} object The object to serialize.\n * @param {?goog.json.Replacer=} opt_replacer A replacer function\n *     called for each (key, value) pair that determines how the value\n *     should be serialized. By defult, this just returns the value\n *     and allows default serialization to kick in.\n * @throws Error if there are loops in the object graph.\n * @return {string} A JSON string representation of the input.\n */\ngoog.json.serialize = goog.json.USE_NATIVE_JSON ?\n    /** @type {function(*, ?goog.json.Replacer=):string} */\n    (goog.global['JSON']['stringify']) :\n    function(object, opt_replacer) {\n      'use strict';\n      // NOTE(nicksantos): Currently, we never use JSON.stringify.\n      //\n      // The last time I evaluated this, JSON.stringify had subtle bugs and\n      // behavior differences on all browsers, and the performance win was not\n      // large enough to justify all the issues. This may change in the future\n      // as browser implementations get better.\n      //\n      // assertSerialize in json_test contains if branches for the cases\n      // that fail.\n      return new goog.json.Serializer(opt_replacer).serialize(object);\n    };\n\n\n\n/**\n * Class that is used to serialize JSON objects to a string.\n * @param {?goog.json.Replacer=} opt_replacer Replacer.\n * @constructor\n */\ngoog.json.Serializer = function(opt_replacer) {\n  'use strict';\n  /**\n   * @type {goog.json.Replacer|null|undefined}\n   * @private\n   */\n  this.replacer_ = opt_replacer;\n};\n\n\n/**\n * Serializes an object or a value to a JSON string.\n *\n * @param {*} object The object to serialize.\n * @throws Error if there are loops in the object graph.\n * @return {string} A JSON string representation of the input.\n */\ngoog.json.Serializer.prototype.serialize = function(object) {\n  'use strict';\n  const sb = [];\n  this.serializeInternal(object, sb);\n  return sb.join('');\n};\n\n\n/**\n * Serializes a generic value to a JSON string\n * @protected\n * @param {*} object The object to serialize.\n * @param {Array<string>} sb Array used as a string builder.\n * @throws Error if there are loops in the object graph.\n */\ngoog.json.Serializer.prototype.serializeInternal = function(object, sb) {\n  'use strict';\n  if (object == null) {\n    // undefined == null so this branch covers undefined as well as null\n    sb.push('null');\n    return;\n  }\n\n  if (typeof object == 'object') {\n    if (Array.isArray(object)) {\n      this.serializeArray(object, sb);\n      return;\n    } else if (\n        object instanceof String || object instanceof Number ||\n        object instanceof Boolean) {\n      object = object.valueOf();\n      // Fall through to switch below.\n    } else {\n      this.serializeObject_(/** @type {!Object} */ (object), sb);\n      return;\n    }\n  }\n\n  switch (typeof object) {\n    case 'string':\n      this.serializeString_(object, sb);\n      break;\n    case 'number':\n      this.serializeNumber_(object, sb);\n      break;\n    case 'boolean':\n      sb.push(String(object));\n      break;\n    case 'function':\n      sb.push('null');\n      break;\n    default:\n      throw new Error('Unknown type: ' + typeof object);\n  }\n};\n\n\n/**\n * Character mappings used internally for goog.string.quote\n * @private\n * @type {!Object}\n */\ngoog.json.Serializer.charToJsonCharCache_ = {\n  '\\\"': '\\\\\"',\n  '\\\\': '\\\\\\\\',\n  '/': '\\\\/',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n\n  '\\x0B': '\\\\u000b'  // '\\v' is not supported in JScript\n};\n\n\n/**\n * Regular expression used to match characters that need to be replaced.\n * The S60 browser has a bug where unicode characters are not matched by\n * regular expressions. The condition below detects such behaviour and\n * adjusts the regular expression accordingly.\n * @private\n * @type {!RegExp}\n */\ngoog.json.Serializer.charsToReplace_ = /\\uffff/.test('\\uffff') ?\n    /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g :\n    /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\n\n\n/**\n * Serializes a string to a JSON string\n * @private\n * @param {string} s The string to serialize.\n * @param {Array<string>} sb Array used as a string builder.\n */\ngoog.json.Serializer.prototype.serializeString_ = function(s, sb) {\n  'use strict';\n  // The official JSON implementation does not work with international\n  // characters.\n  sb.push('\"', s.replace(goog.json.Serializer.charsToReplace_, function(c) {\n    'use strict';\n    // caching the result improves performance by a factor 2-3\n    let rv = goog.json.Serializer.charToJsonCharCache_[c];\n    if (!rv) {\n      rv = '\\\\u' + (c.charCodeAt(0) | 0x10000).toString(16).substr(1);\n      goog.json.Serializer.charToJsonCharCache_[c] = rv;\n    }\n    return rv;\n  }), '\"');\n};\n\n\n/**\n * Serializes a number to a JSON string\n * @private\n * @param {number} n The number to serialize.\n * @param {Array<string>} sb Array used as a string builder.\n */\ngoog.json.Serializer.prototype.serializeNumber_ = function(n, sb) {\n  'use strict';\n  sb.push(isFinite(n) && !isNaN(n) ? String(n) : 'null');\n};\n\n\n/**\n * Serializes an array to a JSON string\n * @param {Array<string>} arr The array to serialize.\n * @param {Array<string>} sb Array used as a string builder.\n * @protected\n */\ngoog.json.Serializer.prototype.serializeArray = function(arr, sb) {\n  'use strict';\n  const l = arr.length;\n  sb.push('[');\n  let sep = '';\n  for (let i = 0; i < l; i++) {\n    sb.push(sep);\n\n    const value = arr[i];\n    this.serializeInternal(\n        this.replacer_ ? this.replacer_.call(arr, String(i), value) : value,\n        sb);\n\n    sep = ',';\n  }\n  sb.push(']');\n};\n\n\n/**\n * Serializes an object to a JSON string\n * @private\n * @param {!Object} obj The object to serialize.\n * @param {Array<string>} sb Array used as a string builder.\n */\ngoog.json.Serializer.prototype.serializeObject_ = function(obj, sb) {\n  'use strict';\n  sb.push('{');\n  let sep = '';\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      const value = obj[key];\n      // Skip functions.\n      if (typeof value != 'function') {\n        sb.push(sep);\n        this.serializeString_(key, sb);\n        sb.push(':');\n\n        this.serializeInternal(\n            this.replacer_ ? this.replacer_.call(obj, key, value) : value, sb);\n\n        sep = ',';\n      }\n    }\n  }\n  sb.push('}');\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\ngoog.module('goog.async.WorkQueue');\ngoog.module.declareLegacyNamespace();\n\nconst FreeList = goog.require('goog.async.FreeList');\nconst {assert} = goog.require('goog.asserts');\n\n// TODO(johnlenz): generalize the WorkQueue if this is used by more\n// than goog.async.run.\n\n\n/**\n * A low GC workqueue. The key elements of this design:\n *   - avoids the need for goog.bind or equivalent by carrying scope\n *   - avoids the need for array reallocation by using a linked list\n *   - minimizes work entry objects allocation by recycling objects\n * @final\n * @struct\n */\nclass WorkQueue {\n  constructor() {\n    this.workHead_ = null;\n    this.workTail_ = null;\n  }\n\n  /**\n   * @param {function()} fn\n   * @param {Object|null|undefined} scope\n   */\n  add(fn, scope) {\n    const item = this.getUnusedItem_();\n    item.set(fn, scope);\n\n    if (this.workTail_) {\n      this.workTail_.next = item;\n      this.workTail_ = item;\n    } else {\n      assert(!this.workHead_);\n      this.workHead_ = item;\n      this.workTail_ = item;\n    }\n  }\n\n  /**\n   * @return {?WorkItem}\n   */\n  remove() {\n    let item = null;\n\n    if (this.workHead_) {\n      item = this.workHead_;\n      this.workHead_ = this.workHead_.next;\n      if (!this.workHead_) {\n        this.workTail_ = null;\n      }\n      item.next = null;\n    }\n    return item;\n  }\n\n  /**\n   * @param {!WorkItem} item\n   */\n  returnUnused(item) {\n    WorkQueue.freelist_.put(item);\n  }\n\n  /**\n   * @return {!WorkItem}\n   * @private\n   */\n  getUnusedItem_() {\n    return WorkQueue.freelist_.get();\n  }\n}\n\n/** @define {number} The maximum number of entries to keep for recycling. */\nWorkQueue.DEFAULT_MAX_UNUSED =\n    goog.define('goog.async.WorkQueue.DEFAULT_MAX_UNUSED', 100);\n\n/** @const @private {!FreeList<!WorkItem>} */\nWorkQueue.freelist_ = new FreeList(\n    () => new WorkItem(), item => item.reset(), WorkQueue.DEFAULT_MAX_UNUSED);\n\n/**\n * @final\n * @struct\n */\nclass WorkItem {\n  constructor() {\n    /** @type {?function()} */\n    this.fn = null;\n    /** @type {?Object|null|undefined} */\n    this.scope = null;\n    /** @type {?WorkItem} */\n    this.next = null;\n  }\n\n  /**\n   * @param {function()} fn\n   * @param {Object|null|undefined} scope\n   */\n  set(fn, scope) {\n    'use strict';\n    this.fn = fn;\n    this.scope = scope;\n    this.next = null;\n  }\n\n  /** Reset the work item so they don't prevent GC before reuse */\n  reset() {\n    this.fn = null;\n    this.scope = null;\n    this.next = null;\n  }\n}\n\nexports = WorkQueue;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\ngoog.provide('goog.async.run');\n\ngoog.require('goog.async.WorkQueue');\ngoog.require('goog.async.nextTick');\ngoog.require('goog.async.throwException');\n\n/**\n * @define {boolean} If true, use the global Promise to implement goog.async.run\n * assuming either the native, or polyfill version will be used. Does still\n * permit tests to use forceNextTick.\n */\ngoog.ASSUME_NATIVE_PROMISE = goog.define('goog.ASSUME_NATIVE_PROMISE', false);\n\n/**\n * Fires the provided callback just before the current callstack unwinds, or as\n * soon as possible after the current JS execution context.\n * @param {function(this:THIS)} callback\n * @param {THIS=} opt_context Object to use as the \"this value\" when calling\n *     the provided function.\n * @template THIS\n */\ngoog.async.run = function(callback, opt_context) {\n  'use strict';\n  if (!goog.async.run.schedule_) {\n    goog.async.run.initializeRunner_();\n  }\n  if (!goog.async.run.workQueueScheduled_) {\n    // Nothing is currently scheduled, schedule it now.\n    goog.async.run.schedule_();\n    goog.async.run.workQueueScheduled_ = true;\n  }\n\n  goog.async.run.workQueue_.add(callback, opt_context);\n};\n\n\n/**\n * Initializes the function to use to process the work queue.\n * @private\n */\ngoog.async.run.initializeRunner_ = function() {\n  'use strict';\n  if (goog.ASSUME_NATIVE_PROMISE ||\n      (goog.global.Promise && goog.global.Promise.resolve)) {\n    // Use goog.global.Promise instead of just Promise because the relevant\n    // externs may be missing, and don't alias it because this could confuse the\n    // compiler into thinking the polyfill is required when it should be treated\n    // as optional.\n    var promise = goog.global.Promise.resolve(undefined);\n    goog.async.run.schedule_ = function() {\n      'use strict';\n      promise.then(goog.async.run.processWorkQueue);\n    };\n  } else {\n    goog.async.run.schedule_ = function() {\n      'use strict';\n      goog.async.nextTick(goog.async.run.processWorkQueue);\n    };\n  }\n};\n\n\n/**\n * Forces goog.async.run to use nextTick instead of Promise.\n *\n * This should only be done in unit tests. It's useful because MockClock\n * replaces nextTick, but not the browser Promise implementation, so it allows\n * Promise-based code to be tested with MockClock.\n *\n * However, we also want to run promises if the MockClock is no longer in\n * control so we schedule a backup \"setTimeout\" to the unmocked timeout if\n * provided.\n *\n * @param {function(function())=} opt_realSetTimeout\n */\ngoog.async.run.forceNextTick = function(opt_realSetTimeout) {\n  'use strict';\n  goog.async.run.schedule_ = function() {\n    'use strict';\n    goog.async.nextTick(goog.async.run.processWorkQueue);\n    if (opt_realSetTimeout) {\n      opt_realSetTimeout(goog.async.run.processWorkQueue);\n    }\n  };\n};\n\n\n/**\n * The function used to schedule work asynchronousely.\n * @private {function()}\n */\ngoog.async.run.schedule_;\n\n\n/** @private {boolean} */\ngoog.async.run.workQueueScheduled_ = false;\n\n\n/** @private {!goog.async.WorkQueue} */\ngoog.async.run.workQueue_ = new goog.async.WorkQueue();\n\n\nif (goog.DEBUG) {\n  /**\n   * Reset the work queue. Only available for tests in debug mode.\n   */\n  goog.async.run.resetQueue = function() {\n    'use strict';\n    goog.async.run.workQueueScheduled_ = false;\n    goog.async.run.workQueue_ = new goog.async.WorkQueue();\n  };\n\n\n  /**\n   * Resets the scheduler. Only available for tests in debug mode.\n   */\n  goog.async.run.resetSchedulerForTest = function() {\n    goog.async.run.initializeRunner_();\n  };\n}\n\n\n/**\n * Run any pending goog.async.run work items. This function is not intended\n * for general use, but for use by entry point handlers to run items ahead of\n * goog.async.nextTick.\n */\ngoog.async.run.processWorkQueue = function() {\n  'use strict';\n  // NOTE: additional work queue items may be added while processing.\n  var item = null;\n  while (item = goog.async.run.workQueue_.remove()) {\n    try {\n      item.fn.call(item.scope);\n    } catch (e) {\n      goog.async.throwException(e);\n    }\n    goog.async.run.workQueue_.returnUnused(item);\n  }\n\n  // There are no more work items, allow processing to be scheduled again.\n  goog.async.run.workQueueScheduled_ = false;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Simple freelist.\n *\n * An anterative to goog.structs.SimplePool, it imposes the requirement that the\n * objects in the list contain a \"next\" property that can be used to maintain\n * the pool.\n */\n\ngoog.provide('goog.async.FreeList');\n\n\n/**\n * @template ITEM\n */\ngoog.async.FreeList = class {\n  /**\n   * @param {function():ITEM} create\n   * @param {function(ITEM):void} reset\n   * @param {number} limit\n   */\n  constructor(create, reset, limit) {\n    /** @private @const {number} */\n    this.limit_ = limit;\n    /** @private @const {function()} */\n    this.create_ = create;\n    /** @private @const {function(ITEM):void} */\n    this.reset_ = reset;\n\n    /** @private {number} */\n    this.occupants_ = 0;\n    /** @private {ITEM} */\n    this.head_ = null;\n  }\n\n  /**\n   * @return {ITEM}\n   */\n  get() {\n    let item;\n    if (this.occupants_ > 0) {\n      this.occupants_--;\n      item = this.head_;\n      this.head_ = item.next;\n      item.next = null;\n    } else {\n      item = this.create_();\n    }\n    return item;\n  }\n\n  /**\n   * @param {ITEM} item An item available for possible future reuse.\n   */\n  put(item) {\n    this.reset_(item);\n    if (this.occupants_ < this.limit_) {\n      this.occupants_++;\n      item.next = this.head_;\n      this.head_ = item;\n    }\n  }\n\n  /**\n   * Visible for testing.\n   * @package\n   * @return {number}\n   */\n  occupants() {\n    return this.occupants_;\n  }\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Provides a function to throw an error without interrupting\n * the current execution context.\n */\n\ngoog.module('goog.async.throwException');\ngoog.module.declareLegacyNamespace();\n\n/**\n * Throw an item without interrupting the current execution context.  For\n * example, if processing a group of items in a loop, sometimes it is useful\n * to report an error while still allowing the rest of the batch to be\n * processed.\n * @param {*} exception\n */\nfunction throwException(exception) {\n  // Each throw needs to be in its own context.\n  goog.global.setTimeout(() => {\n    throw exception;\n  }, 0);\n}\nexports = throwException;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A timer class to which other classes and objects can listen on.\n * This is only an abstraction above `setInterval`.\n *\n * @see ../demos/timers.html\n */\n\ngoog.provide('goog.Timer');\n\ngoog.require('goog.Promise');\ngoog.require('goog.events.EventTarget');\ngoog.requireType('goog.Thenable');\n\n\n\n/**\n * Class for handling timing events.\n *\n * @param {number=} opt_interval Number of ms between ticks (default: 1ms).\n * @param {Object=} opt_timerObject  An object that has `setTimeout`,\n *     `setInterval`, `clearTimeout` and `clearInterval`\n *     (e.g., `window`).\n * @constructor\n * @extends {goog.events.EventTarget}\n */\ngoog.Timer = function(opt_interval, opt_timerObject) {\n  'use strict';\n  goog.events.EventTarget.call(this);\n\n  /**\n   * Number of ms between ticks\n   * @private {number}\n   */\n  this.interval_ = opt_interval || 1;\n\n  /**\n   * An object that implements `setTimeout`, `setInterval`,\n   * `clearTimeout` and `clearInterval`. We default to the window\n   * object. Changing this on {@link goog.Timer.prototype} changes the object\n   * for all timer instances which can be useful if your environment has some\n   * other implementation of timers than the `window` object.\n   * @private {{setTimeout:!Function, clearTimeout:!Function}}\n   */\n  this.timerObject_ = /** @type {{setTimeout, clearTimeout}} */ (\n      opt_timerObject || goog.Timer.defaultTimerObject);\n\n  /**\n   * Cached `tick_` bound to the object for later use in the timer.\n   * @private {Function}\n   * @const\n   */\n  this.boundTick_ = goog.bind(this.tick_, this);\n\n  /**\n   * Firefox browser often fires the timer event sooner (sometimes MUCH sooner)\n   * than the requested timeout. So we compare the time to when the event was\n   * last fired, and reschedule if appropriate. See also\n   * {@link goog.Timer.intervalScale}.\n   * @private {number}\n   */\n  this.last_ = goog.now();\n};\ngoog.inherits(goog.Timer, goog.events.EventTarget);\n\n\n/**\n * Maximum timeout value.\n *\n * Timeout values too big to fit into a signed 32-bit integer may cause overflow\n * in FF, Safari, and Chrome, resulting in the timeout being scheduled\n * immediately. It makes more sense simply not to schedule these timeouts, since\n * 24.8 days is beyond a reasonable expectation for the browser to stay open.\n *\n * @private {number}\n * @const\n */\ngoog.Timer.MAX_TIMEOUT_ = 2147483647;\n\n\n/**\n * A timer ID that cannot be returned by any known implementation of\n * `window.setTimeout`. Passing this value to `window.clearTimeout`\n * should therefore be a no-op.\n *\n * @private {number}\n * @const\n */\ngoog.Timer.INVALID_TIMEOUT_ID_ = -1;\n\n\n/**\n * Whether this timer is enabled\n * @type {boolean}\n */\ngoog.Timer.prototype.enabled = false;\n\n\n/**\n * An object that implements `setTimeout`, `setInterval`,\n * `clearTimeout` and `clearInterval`. We default to the global\n * object. Changing `goog.Timer.defaultTimerObject` changes the object for\n * all timer instances which can be useful if your environment has some other\n * implementation of timers you'd like to use.\n * @type {{setTimeout, clearTimeout}}\n */\ngoog.Timer.defaultTimerObject = goog.global;\n\n\n/**\n * Variable that controls the timer error correction. If the timer is called\n * before the requested interval times `intervalScale`, which often\n * happens on Mozilla, the timer is rescheduled.\n * @see {@link #last_}\n * @type {number}\n */\ngoog.Timer.intervalScale = 0.8;\n\n\n/**\n * Variable for storing the result of `setInterval`.\n * @private {?number}\n */\ngoog.Timer.prototype.timer_ = null;\n\n\n/**\n * Gets the interval of the timer.\n * @return {number} interval Number of ms between ticks.\n */\ngoog.Timer.prototype.getInterval = function() {\n  'use strict';\n  return this.interval_;\n};\n\n\n/**\n * Sets the interval of the timer.\n * @param {number} interval Number of ms between ticks.\n */\ngoog.Timer.prototype.setInterval = function(interval) {\n  'use strict';\n  this.interval_ = interval;\n  if (this.timer_ && this.enabled) {\n    // Stop and then start the timer to reset the interval.\n    this.stop();\n    this.start();\n  } else if (this.timer_) {\n    this.stop();\n  }\n};\n\n\n/**\n * Callback for the `setTimeout` used by the timer.\n * @private\n */\ngoog.Timer.prototype.tick_ = function() {\n  'use strict';\n  if (this.enabled) {\n    var elapsed = goog.now() - this.last_;\n    if (elapsed > 0 && elapsed < this.interval_ * goog.Timer.intervalScale) {\n      this.timer_ = this.timerObject_.setTimeout(\n          this.boundTick_, this.interval_ - elapsed);\n      return;\n    }\n\n    // Prevents setInterval from registering a duplicate timeout when called\n    // in the timer event handler.\n    if (this.timer_) {\n      this.timerObject_.clearTimeout(this.timer_);\n      this.timer_ = null;\n    }\n\n    this.dispatchTick();\n    // The timer could be stopped in the timer event handler.\n    if (this.enabled) {\n      // Stop and start to ensure there is always only one timeout even if\n      // start is called in the timer event handler.\n      this.stop();\n      this.start();\n    }\n  }\n};\n\n\n/**\n * Dispatches the TICK event. This is its own method so subclasses can override.\n */\ngoog.Timer.prototype.dispatchTick = function() {\n  'use strict';\n  this.dispatchEvent(goog.Timer.TICK);\n};\n\n\n/**\n * Starts the timer.\n */\ngoog.Timer.prototype.start = function() {\n  'use strict';\n  this.enabled = true;\n\n  // If there is no interval already registered, start it now\n  if (!this.timer_) {\n    // IMPORTANT!\n    // window.setInterval in FireFox has a bug - it fires based on\n    // absolute time, rather than on relative time. What this means\n    // is that if a computer is sleeping/hibernating for 24 hours\n    // and the timer interval was configured to fire every 1000ms,\n    // then after the PC wakes up the timer will fire, in rapid\n    // succession, 3600*24 times.\n    // This bug is described here and is already fixed, but it will\n    // take time to propagate, so for now I am switching this over\n    // to setTimeout logic.\n    //     https://bugzilla.mozilla.org/show_bug.cgi?id=376643\n    //\n    this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_);\n    this.last_ = goog.now();\n  }\n};\n\n\n/**\n * Stops the timer.\n */\ngoog.Timer.prototype.stop = function() {\n  'use strict';\n  this.enabled = false;\n  if (this.timer_) {\n    this.timerObject_.clearTimeout(this.timer_);\n    this.timer_ = null;\n  }\n};\n\n\n/** @override */\ngoog.Timer.prototype.disposeInternal = function() {\n  'use strict';\n  goog.Timer.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.timerObject_;\n};\n\n\n/**\n * Constant for the timer's event type.\n * @const\n */\ngoog.Timer.TICK = 'tick';\n\n\n/**\n * Calls the given function once, after the optional pause.\n * <p>\n * The function is always called asynchronously, even if the delay is 0. This\n * is a common trick to schedule a function to run after a batch of browser\n * event processing.\n *\n * @param {function(this:SCOPE)|{handleEvent:function()}|null} listener Function\n *     or object that has a handleEvent method.\n * @param {number=} opt_delay Milliseconds to wait; default is 0.\n * @param {SCOPE=} opt_handler Object in whose scope to call the listener.\n * @return {number} A handle to the timer ID.\n * @template SCOPE\n */\ngoog.Timer.callOnce = function(listener, opt_delay, opt_handler) {\n  'use strict';\n  if (typeof listener === 'function') {\n    if (opt_handler) {\n      listener = goog.bind(listener, opt_handler);\n    }\n  } else if (listener && typeof listener.handleEvent == 'function') {\n    // using typeof to prevent strict js warning\n    listener = goog.bind(listener.handleEvent, listener);\n  } else {\n    throw new Error('Invalid listener argument');\n  }\n\n  if (Number(opt_delay) > goog.Timer.MAX_TIMEOUT_) {\n    // Timeouts greater than MAX_INT return immediately due to integer\n    // overflow in many browsers.  Since MAX_INT is 24.8 days, just don't\n    // schedule anything at all.\n    return goog.Timer.INVALID_TIMEOUT_ID_;\n  } else {\n    return goog.Timer.defaultTimerObject.setTimeout(listener, opt_delay || 0);\n  }\n};\n\n\n/**\n * Clears a timeout initiated by {@link #callOnce}.\n * @param {?number} timerId A timer ID.\n */\ngoog.Timer.clear = function(timerId) {\n  'use strict';\n  goog.Timer.defaultTimerObject.clearTimeout(timerId);\n};\n\n\n/**\n * @param {number} delay Milliseconds to wait.\n * @param {(RESULT|goog.Thenable<RESULT>|Thenable)=} opt_result The value\n *     with which the promise will be resolved.\n * @return {!goog.Promise<RESULT>} A promise that will be resolved after\n *     the specified delay, unless it is canceled first.\n * @template RESULT\n */\ngoog.Timer.promise = function(delay, opt_result) {\n  'use strict';\n  var timerKey = null;\n  return new goog\n      .Promise(function(resolve, reject) {\n        'use strict';\n        timerKey = goog.Timer.callOnce(function() {\n          'use strict';\n          resolve(opt_result);\n        }, delay);\n        if (timerKey == goog.Timer.INVALID_TIMEOUT_ID_) {\n          reject(new Error('Failed to schedule timer.'));\n        }\n      })\n      .thenCatch(function(error) {\n        'use strict';\n        // Clear the timer. The most likely reason is \"cancel\" signal.\n        goog.Timer.clear(timerKey);\n        throw error;\n      });\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Definition of the goog.async.Throttle class.\n *\n * @see ../demos/timers.html\n */\n\ngoog.module('goog.async.Throttle');\ngoog.module.declareLegacyNamespace();\n\nconst Disposable = goog.require('goog.Disposable');\nconst Timer = goog.require('goog.Timer');\n\n\n/**\n * Throttle will perform an action that is passed in no more than once\n * per interval (specified in milliseconds). If it gets multiple signals\n * to perform the action while it is waiting, it will only perform the action\n * once at the end of the interval.\n * @final\n * @template T\n */\nclass Throttle extends Disposable {\n  /**\n   * @param {function(this: T, ...?)} listener Function to callback when the\n   *     action is triggered.\n   * @param {number} interval Interval over which to throttle. The listener can\n   *     only be called once per interval.\n   * @param {T=} handler Object in whose scope to call the listener.\n   */\n  constructor(listener, interval, handler) {\n    super();\n    /**\n     * Function to callback\n     * @type {function(this: T, ...?)}\n     * @private\n     */\n    this.listener_ = handler != null ? listener.bind(handler) : listener;\n\n    /**\n     * Interval for the throttle time\n     * @type {number}\n     * @private\n     */\n    this.interval_ = interval;\n\n    /**\n     * The last arguments passed into `fire`, or null if there is no pending\n     * call.\n     * @private {?IArrayLike}\n     */\n    this.args_ = null;\n\n    /**\n     * Indicates that the action is pending and needs to be fired.\n     * @type {boolean}\n     * @private\n     */\n    this.shouldFire_ = false;\n\n    /**\n     * Indicates the count of nested pauses currently in effect on the throttle.\n     * When this count is not zero, fired actions will be postponed until the\n     * throttle is resumed enough times to drop the pause count to zero.\n     * @type {number}\n     * @private\n     */\n    this.pauseCount_ = 0;\n\n    /**\n     * Timer for scheduling the next callback\n     * @type {?number}\n     * @private\n     */\n    this.timer_ = null;\n  }\n\n  /**\n   * Notifies the throttle that the action has happened. It will throttle\n   * the call so that the callback is not called too often according to the\n   * interval parameter passed to the constructor, passing the arguments\n   * from the last call of this function into the throttled function.\n   * @param {...?} var_args Arguments to pass on to the throttled function.\n   */\n  fire(var_args) {\n    this.args_ = arguments;\n    if (!this.timer_ && !this.pauseCount_) {\n      this.doAction_();\n    } else {\n      this.shouldFire_ = true;\n    }\n  }\n\n  /**\n   * Cancels any pending action callback. The throttle can be restarted by\n   * calling {@link #fire}.\n   */\n  stop() {\n    if (this.timer_) {\n      Timer.clear(this.timer_);\n      this.timer_ = null;\n      this.shouldFire_ = false;\n      this.args_ = null;\n    }\n  }\n\n  /**\n   * Pauses the throttle.  All pending and future action callbacks will be\n   * delayed until the throttle is resumed.  Pauses can be nested.\n   */\n  pause() {\n    this.pauseCount_++;\n  }\n\n  /**\n   * Resumes the throttle.  If doing so drops the pausing count to zero,\n   * pending action callbacks will be executed as soon as possible, but\n   * still no sooner than an interval's delay after the previous call.\n   * Future action callbacks will be executed as normal.\n   */\n  resume() {\n    this.pauseCount_--;\n    if (!this.pauseCount_ && this.shouldFire_ && !this.timer_) {\n      this.shouldFire_ = false;\n      this.doAction_();\n    }\n  }\n\n  /** @override */\n  disposeInternal() {\n    super.disposeInternal();\n    this.stop();\n  }\n\n  /**\n   * Handler for the timer to fire the throttle\n   * @private\n   */\n  onTimer_() {\n    this.timer_ = null;\n\n    if (this.shouldFire_ && !this.pauseCount_) {\n      this.shouldFire_ = false;\n      this.doAction_();\n    }\n  }\n\n  /**\n   * Calls the callback\n   * @private\n   */\n  doAction_() {\n    this.timer_ = Timer.callOnce(() => this.onTimer_(), this.interval_);\n    const args = this.args_;\n    // release memory first so it always happens even if listener throws\n    this.args_ = null;\n    this.listener_.apply(null, args);\n  }\n}\n\nexports = Throttle;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Class to create objects which want to handle multiple events\n * and have their listeners easily cleaned up via a dispose method.\n *\n * Example:\n * <pre>\n * function Something() {\n *   Something.base(this);\n *\n *   ... set up object ...\n *\n *   // Add event listeners\n *   this.listen(this.starEl, goog.events.EventType.CLICK, this.handleStar);\n *   this.listen(this.headerEl, goog.events.EventType.CLICK, this.expand);\n *   this.listen(this.collapseEl, goog.events.EventType.CLICK, this.collapse);\n *   this.listen(this.infoEl, goog.events.EventType.MOUSEOVER, this.showHover);\n *   this.listen(this.infoEl, goog.events.EventType.MOUSEOUT, this.hideHover);\n * }\n * goog.inherits(Something, goog.events.EventHandler);\n *\n * Something.prototype.disposeInternal = function() {\n *   Something.base(this, 'disposeInternal');\n *   goog.dom.removeNode(this.container);\n * };\n *\n *\n * // Then elsewhere:\n *\n * var activeSomething = null;\n * function openSomething() {\n *   activeSomething = new Something();\n * }\n *\n * function closeSomething() {\n *   if (activeSomething) {\n *     activeSomething.dispose();  // Remove event listeners\n *     activeSomething = null;\n *   }\n * }\n * </pre>\n */\n\ngoog.provide('goog.events.EventHandler');\n\ngoog.require('goog.Disposable');\ngoog.require('goog.events');\ngoog.require('goog.object');\ngoog.requireType('goog.events.Event');\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.EventTarget');\ngoog.requireType('goog.events.EventWrapper');\n\n\n\n/**\n * Super class for objects that want to easily manage a number of event\n * listeners.  It allows a short cut to listen and also provides a quick way\n * to remove all events listeners belonging to this object.\n * @param {SCOPE=} opt_scope Object in whose scope to call the listeners.\n * @constructor\n * @extends {goog.Disposable}\n * @template SCOPE\n */\ngoog.events.EventHandler = function(opt_scope) {\n  'use strict';\n  goog.Disposable.call(this);\n  // TODO(mknichel): Rename this to this.scope_ and fix the classes in google3\n  // that access this private variable. :(\n  this.handler_ = opt_scope;\n\n  /**\n   * Keys for events that are being listened to.\n   * @type {!Object<!goog.events.Key>}\n   * @private\n   */\n  this.keys_ = {};\n};\ngoog.inherits(goog.events.EventHandler, goog.Disposable);\n\n\n/**\n * Utility array used to unify the cases of listening for an array of types\n * and listening for a single event, without using recursion or allocating\n * an array each time.\n * @type {!Array<string>}\n * @const\n * @private\n */\ngoog.events.EventHandler.typeArray_ = [];\n\n\n/**\n * Listen to an event on a Listenable.  If the function is omitted then the\n * EventHandler's handleEvent method will be used.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type to listen for or array of event types.\n * @param {function(this:SCOPE, EVENTOBJ):?|{handleEvent:function(?):?}|null=}\n *     opt_fn Optional callback function to be used as the listener or an object\n *     with handleEvent function.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template EVENTOBJ, THIS\n */\ngoog.events.EventHandler.prototype.listen = function(\n    src, type, opt_fn, opt_options) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  return self.listen_(src, type, opt_fn, opt_options);\n};\n\n\n/**\n * Listen to an event on a Listenable.  If the function is omitted then the\n * EventHandler's handleEvent method will be used.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type to listen for or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(this:T, ?):?}|\n *     null|undefined} fn Optional callback function to be used as the\n *     listener or an object with handleEvent function.\n * @param {boolean|!AddEventListenerOptions|undefined} options\n * @param {T} scope Object in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template T, EVENTOBJ, THIS\n */\ngoog.events.EventHandler.prototype.listenWithScope = function(\n    src, type, fn, options, scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  // TODO(mknichel): Deprecate this function.\n  return self.listen_(src, type, fn, options, scope);\n};\n\n\n/**\n * Listen to an event on a Listenable.  If the function is omitted then the\n * EventHandler's handleEvent method will be used.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type to listen for or array of event types.\n * @param {function(EVENTOBJ):?|{handleEvent:function(?):?}|null=} opt_fn\n *     Optional callback function to be used as the listener or an object with\n *     handleEvent function.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {Object=} opt_scope Object in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template EVENTOBJ, THIS\n * @private\n */\ngoog.events.EventHandler.prototype.listen_ = function(\n    src, type, opt_fn, opt_options, opt_scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  if (!Array.isArray(type)) {\n    if (type) {\n      goog.events.EventHandler.typeArray_[0] = type.toString();\n    }\n    type = goog.events.EventHandler.typeArray_;\n  }\n  for (var i = 0; i < type.length; i++) {\n    var listenerObj = goog.events.listen(\n        src, type[i], opt_fn || self.handleEvent, opt_options || false,\n        opt_scope || self.handler_ || self);\n\n    if (!listenerObj) {\n      // When goog.events.listen run on OFF_AND_FAIL or OFF_AND_SILENT\n      // (goog.events.CaptureSimulationMode) in IE8-, it will return null\n      // value.\n      return self;\n    }\n\n    var key = listenerObj.key;\n    self.keys_[key] = listenerObj;\n  }\n\n  return self;\n};\n\n\n/**\n * Listen to an event on a Listenable.  If the function is omitted, then the\n * EventHandler's handleEvent method will be used. After the event has fired the\n * event listener is removed from the target. If an array of event types is\n * provided, each event type will be listened to once.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type to listen for or array of event types.\n * @param {function(this:SCOPE, EVENTOBJ):?|{handleEvent:function(?):?}|null=}\n * opt_fn\n *    Optional callback function to be used as the listener or an object with\n *    handleEvent function.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template EVENTOBJ, THIS\n */\ngoog.events.EventHandler.prototype.listenOnce = function(\n    src, type, opt_fn, opt_options) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  return self.listenOnce_(src, type, opt_fn, opt_options);\n};\n\n\n/**\n * Listen to an event on a Listenable.  If the function is omitted, then the\n * EventHandler's handleEvent method will be used. After the event has fired the\n * event listener is removed from the target. If an array of event types is\n * provided, each event type will be listened to once.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type to listen for or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(this:T, ?):?}|\n *     null|undefined} fn Optional callback function to be used as the\n *     listener or an object with handleEvent function.\n * @param {boolean|undefined} capture Optional whether to use capture phase.\n * @param {T} scope Object in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template T, EVENTOBJ, THIS\n */\ngoog.events.EventHandler.prototype.listenOnceWithScope = function(\n    src, type, fn, capture, scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  // TODO(mknichel): Deprecate this function.\n  return self.listenOnce_(src, type, fn, capture, scope);\n};\n\n\n/**\n * Listen to an event on a Listenable.  If the function is omitted, then the\n * EventHandler's handleEvent method will be used. After the event has fired\n * the event listener is removed from the target. If an array of event types is\n * provided, each event type will be listened to once.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type to listen for or array of event types.\n * @param {function(EVENTOBJ):?|{handleEvent:function(?):?}|null=} opt_fn\n *    Optional callback function to be used as the listener or an object with\n *    handleEvent function.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {Object=} opt_scope Object in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template EVENTOBJ, THIS\n * @private\n */\ngoog.events.EventHandler.prototype.listenOnce_ = function(\n    src, type, opt_fn, opt_options, opt_scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      self.listenOnce_(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listenerObj = goog.events.listenOnce(\n        src, type, opt_fn || self.handleEvent, opt_options,\n        opt_scope || self.handler_ || self);\n    if (!listenerObj) {\n      // When goog.events.listen run on OFF_AND_FAIL or OFF_AND_SILENT\n      // (goog.events.CaptureSimulationMode) in IE8-, it will return null\n      // value.\n      return self;\n    }\n\n    var key = listenerObj.key;\n    self.keys_[key] = listenerObj;\n  }\n\n  return self;\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(this:SCOPE, ?):?|{handleEvent:function(?):?}|null} listener\n *     Callback method, or an object with a handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template THIS\n */\ngoog.events.EventHandler.prototype.listenWithWrapper = function(\n    src, wrapper, listener, opt_capt) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  // TODO(mknichel): Remove the opt_scope from this function and then\n  // templatize it.\n  return self.listenWithWrapper_(src, wrapper, listener, opt_capt);\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(this:T, ?):?|{handleEvent:function(this:T, ?):?}|null}\n *     listener Optional callback function to be used as the\n *     listener or an object with handleEvent function.\n * @param {boolean|undefined} capture Optional whether to use capture phase.\n * @param {T} scope Object in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template T, THIS\n */\ngoog.events.EventHandler.prototype.listenWithWrapperAndScope = function(\n    src, wrapper, listener, capture, scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  // TODO(mknichel): Deprecate this function.\n  return self.listenWithWrapper_(src, wrapper, listener, capture, scope);\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener Callback\n *     method, or an object with a handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_scope Element in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template THIS\n * @private\n */\ngoog.events.EventHandler.prototype.listenWithWrapper_ = function(\n    src, wrapper, listener, opt_capt, opt_scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  wrapper.listen(\n      src, listener, opt_capt, opt_scope || self.handler_ || self, self);\n  return self;\n};\n\n\n/**\n * @return {number} Number of listeners registered by this handler.\n */\ngoog.events.EventHandler.prototype.getListenerCount = function() {\n  'use strict';\n  var count = 0;\n  for (var key in this.keys_) {\n    if (Object.prototype.hasOwnProperty.call(this.keys_, key)) {\n      count++;\n    }\n  }\n  return count;\n};\n\n\n/**\n * Unlistens on an event.\n * @param {goog.events.ListenableType} src Event source.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types to unlisten to.\n * @param {function(this:?, EVENTOBJ):?|{handleEvent:function(?):?}|null=}\n *     opt_fn Optional callback function to be used as the listener or an object\n *     with handleEvent function.\n * @param {(boolean|!EventListenerOptions)=} opt_options\n * @param {Object=} opt_scope Object in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template EVENTOBJ, THIS\n */\ngoog.events.EventHandler.prototype.unlisten = function(\n    src, type, opt_fn, opt_options, opt_scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      self.unlisten(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    var listener = goog.events.getListener(\n        src, type, opt_fn || self.handleEvent, capture,\n        opt_scope || self.handler_ || self);\n\n    if (listener) {\n      goog.events.unlistenByKey(listener);\n      delete self.keys_[listener.key];\n    }\n  }\n\n  return self;\n};\n\n\n/**\n * Removes an event listener which was added with listenWithWrapper().\n *\n * @param {EventTarget|goog.events.EventTarget} src The target to stop\n *     listening to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_scope Element in whose scope to call the listener.\n * @return {THIS} This object, allowing for chaining of calls.\n * @this {THIS}\n * @template THIS\n */\ngoog.events.EventHandler.prototype.unlistenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_scope) {\n  'use strict';\n  var self = /** @type {!goog.events.EventHandler} */ (this);\n  wrapper.unlisten(\n      src, listener, opt_capt, opt_scope || self.handler_ || self, self);\n  return self;\n};\n\n\n/**\n * Unlistens to all events.\n */\ngoog.events.EventHandler.prototype.removeAll = function() {\n  'use strict';\n  goog.object.forEach(this.keys_, function(listenerObj, key) {\n    'use strict';\n    if (this.keys_.hasOwnProperty(key)) {\n      goog.events.unlistenByKey(listenerObj);\n    }\n  }, this);\n\n  this.keys_ = {};\n};\n\n\n/**\n * Disposes of this EventHandler and removes all listeners that it registered.\n * @override\n * @protected\n */\ngoog.events.EventHandler.prototype.disposeInternal = function() {\n  'use strict';\n  goog.events.EventHandler.superClass_.disposeInternal.call(this);\n  this.removeAll();\n};\n\n\n/**\n * Default event handler\n * @param {goog.events.Event} e Event object.\n */\ngoog.events.EventHandler.prototype.handleEvent = function(e) {\n  'use strict';\n  throw new Error('EventHandler.handleEvent not implemented');\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Provides a utility for tracing and debugging WebChannel\n *     requests.\n *\n */\n\n\ngoog.provide('goog.labs.net.webChannel.WebChannelDebug');\n\ngoog.require('goog.json');\ngoog.require('goog.log');\ngoog.requireType('goog.Uri');\ngoog.requireType('goog.net.XmlHttp.ReadyState');\n\n\n\n/**\n * Logs and keeps a buffer of debugging info for the Channel.\n *\n * @constructor\n * @struct\n * @final\n */\ngoog.labs.net.webChannel.WebChannelDebug = function() {\n  'use strict';\n  /**\n   * The logger instance.\n   * @const\n   * @private {?goog.log.Logger}\n   */\n  this.logger_ = goog.log.getLogger('goog.labs.net.webChannel.WebChannelDebug');\n\n  /**\n   * Whether to enable redact. Defaults to true.\n   * @private {boolean}\n   */\n  this.redactEnabled_ = true;\n};\n\n\ngoog.scope(function() {\n'use strict';\nvar WebChannelDebug = goog.labs.net.webChannel.WebChannelDebug;\n\n\n/**\n * Turns off redact.\n */\nWebChannelDebug.prototype.disableRedact = function() {\n  'use strict';\n  this.redactEnabled_ = false;\n};\n\n\n/**\n * Logs that the browser went offline during the lifetime of a request.\n * @param {goog.Uri} url The URL being requested.\n */\nWebChannelDebug.prototype.browserOfflineResponse = function(url) {\n  'use strict';\n  this.info(function() {\n    'use strict';\n    return 'BROWSER_OFFLINE: ' + url;\n  });\n};\n\n\n/**\n * Logs an XmlHttp request..\n * @param {string} verb The request type (GET/POST).\n * @param {goog.Uri} uri The request destination.\n * @param {string|number|undefined} id The request id.\n * @param {number} attempt Which attempt # the request was.\n * @param {?string} postData The data posted in the request.\n */\nWebChannelDebug.prototype.xmlHttpChannelRequest = function(\n    verb, uri, id, attempt, postData) {\n  'use strict';\n  var self = this;\n  this.info(function() {\n    'use strict';\n    return 'XMLHTTP REQ (' + id + ') [attempt ' + attempt + ']: ' + verb +\n        '\\n' + uri + '\\n' + self.maybeRedactPostData_(postData);\n  });\n};\n\n\n/**\n * Logs the meta data received from an XmlHttp request.\n * @param {string} verb The request type (GET/POST).\n * @param {goog.Uri} uri The request destination.\n * @param {string|number|undefined} id The request id.\n * @param {number} attempt Which attempt # the request was.\n * @param {goog.net.XmlHttp.ReadyState} readyState The ready state.\n * @param {number} statusCode The HTTP status code.\n */\nWebChannelDebug.prototype.xmlHttpChannelResponseMetaData = function(\n    verb, uri, id, attempt, readyState, statusCode) {\n  'use strict';\n  this.info(function() {\n    'use strict';\n    return 'XMLHTTP RESP (' + id + ') [ attempt ' + attempt + ']: ' + verb +\n        '\\n' + uri + '\\n' + readyState + ' ' + statusCode;\n  });\n};\n\n\n/**\n * Logs the response data received from an XmlHttp request.\n * @param {string|number|undefined} id The request id.\n * @param {?string} responseText The response text.\n * @param {?string=} opt_desc Optional request description.\n */\nWebChannelDebug.prototype.xmlHttpChannelResponseText = function(\n    id, responseText, opt_desc) {\n  'use strict';\n  var self = this;\n  this.info(function() {\n    'use strict';\n    return 'XMLHTTP TEXT (' + id + '): ' + self.redactResponse_(responseText) +\n        (opt_desc ? ' ' + opt_desc : '');\n  });\n};\n\n\n/**\n * Logs a request timeout.\n * @param {goog.Uri} uri The uri that timed out.\n */\nWebChannelDebug.prototype.timeoutResponse = function(uri) {\n  'use strict';\n  this.info(function() {\n    'use strict';\n    return 'TIMEOUT: ' + uri;\n  });\n};\n\n\n/**\n * Logs a debug message.\n * @param {!goog.log.Loggable} text The message.\n */\nWebChannelDebug.prototype.debug = function(text) {\n  'use strict';\n  goog.log.fine(this.logger_, text);\n};\n\n\n/**\n * Logs an exception\n * @param {Error} e The error or error event.\n * @param {goog.log.Loggable=} opt_msg The optional message,\n *     defaults to 'Exception'.\n */\nWebChannelDebug.prototype.dumpException = function(e, opt_msg) {\n  'use strict';\n  goog.log.error(this.logger_, opt_msg || 'Exception', e);\n};\n\n\n/**\n * Logs an info message.\n * @param {!goog.log.Loggable} text The message.\n */\nWebChannelDebug.prototype.info = function(text) {\n  'use strict';\n  goog.log.info(this.logger_, text);\n};\n\n\n/**\n * Logs a warning message.\n * @param {!goog.log.Loggable} text The message.\n */\nWebChannelDebug.prototype.warning = function(text) {\n  'use strict';\n  goog.log.warning(this.logger_, text);\n};\n\n\n/**\n * Logs a severe message.\n * @param {!goog.log.Loggable} text The message.\n */\nWebChannelDebug.prototype.severe = function(text) {\n  'use strict';\n  goog.log.error(this.logger_, text);\n};\n\n\n/**\n * Removes potentially private data from a response so that we don't\n * accidentally save private and personal data to the server logs.\n * @param {?string} responseText A JSON response to clean.\n * @return {?string} The cleaned response.\n * @private\n */\nWebChannelDebug.prototype.redactResponse_ = function(responseText) {\n  'use strict';\n  if (!this.redactEnabled_) {\n    return responseText;\n  }\n\n  if (!responseText) {\n    return null;\n  }\n\n  try {\n    var responseArray = JSON.parse(responseText);\n    if (responseArray) {\n      for (var i = 0; i < responseArray.length; i++) {\n        if (Array.isArray(responseArray[i])) {\n          this.maybeRedactArray_(responseArray[i]);\n        }\n      }\n    }\n\n    return goog.json.serialize(responseArray);\n  } catch (e) {\n    this.debug('Exception parsing expected JS array - probably was not JS');\n    return responseText;\n  }\n};\n\n\n/**\n * Removes data from a response array that may be sensitive.\n * @param {!Array<?>} array The array to clean.\n * @private\n */\nWebChannelDebug.prototype.maybeRedactArray_ = function(array) {\n  'use strict';\n  if (array.length < 2) {\n    return;\n  }\n  var dataPart = array[1];\n  if (!Array.isArray(dataPart)) {\n    return;\n  }\n  if (dataPart.length < 1) {\n    return;\n  }\n\n  var type = dataPart[0];\n  if (type != 'noop' && type != 'stop' && type != 'close') {\n    // redact all fields in the array\n    for (var i = 1; i < dataPart.length; i++) {\n      dataPart[i] = '';\n    }\n  }\n};\n\n\n/**\n * Removes potentially private data from a request POST body so that we don't\n * accidentally save private and personal data to the server logs.\n * @param {?string} data The data string to clean.\n * @return {?string} The data string with sensitive data replaced by 'redacted'.\n * @private\n */\nWebChannelDebug.prototype.maybeRedactPostData_ = function(data) {\n  'use strict';\n  if (!this.redactEnabled_) {\n    return data;\n  }\n\n  if (!data) {\n    return null;\n  }\n  var out = '';\n  var params = data.split('&');\n  for (var i = 0; i < params.length; i++) {\n    var param = params[i];\n    var keyValue = param.split('=');\n    if (keyValue.length > 1) {\n      var key = keyValue[0];\n      var value = keyValue[1];\n\n      var keyParts = key.split('_');\n      if (keyParts.length >= 2 && keyParts[1] == 'type') {\n        out += key + '=' + value + '&';\n      } else {\n        out += key + '=' +\n            'redacted' +\n            '&';\n      }\n    }\n  }\n  return out;\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Static utilities for collecting stats associated with\n * ChannelRequest.\n *\n */\n\n\ngoog.provide('goog.labs.net.webChannel.requestStats');\ngoog.provide('goog.labs.net.webChannel.requestStats.Event');\ngoog.provide('goog.labs.net.webChannel.requestStats.ServerReachability');\ngoog.provide('goog.labs.net.webChannel.requestStats.ServerReachabilityEvent');\ngoog.provide('goog.labs.net.webChannel.requestStats.Stat');\ngoog.provide('goog.labs.net.webChannel.requestStats.StatEvent');\ngoog.provide('goog.labs.net.webChannel.requestStats.TimingEvent');\n\ngoog.require('goog.events.Event');\ngoog.require('goog.events.EventTarget');\n\n\ngoog.scope(function() {\n'use strict';\nconst requestStats = goog.labs.net.webChannel.requestStats;\n\n\n/**\n * Events fired.\n * @const\n */\nrequestStats.Event = {};\n\n\n/**\n * Singleton event target for firing stat events\n * @type {?goog.events.EventTarget}\n * @private\n */\nrequestStats.eventTarget_ = null;\n\n/**\n * Singleton event target for firing stat events\n * @return {!goog.events.EventTarget}\n * @private\n */\nrequestStats.getStatEventTarget_ = function() {\n  'use strict';\n  requestStats.eventTarget_ =\n      requestStats.eventTarget_ || new goog.events.EventTarget();\n  return requestStats.eventTarget_;\n};\n\n/**\n * The type of event that occurs every time some information about how reachable\n * the server is is discovered.\n */\nrequestStats.Event.SERVER_REACHABILITY_EVENT = 'serverreachability';\n\n\n/**\n * Types of events which reveal information about the reachability of the\n * server.\n * @enum {number}\n */\nrequestStats.ServerReachability = {\n  REQUEST_MADE: 1,\n  REQUEST_SUCCEEDED: 2,\n  REQUEST_FAILED: 3,\n  BACK_CHANNEL_ACTIVITY: 4  // any response data received\n};\n\n\n\n/**\n * Event class for SERVER_REACHABILITY_EVENT.\n *\n * @param {goog.events.EventTarget} target The stat event target for\n       the channel.\n * @param {requestStats.ServerReachability} reachabilityType\n *     The reachability event type.\n * @constructor\n * @extends {goog.events.Event}\n */\nrequestStats.ServerReachabilityEvent = function(target, reachabilityType) {\n  'use strict';\n  goog.events.Event.call(\n      this, requestStats.Event.SERVER_REACHABILITY_EVENT, target);\n\n  /**\n   * @type {requestStats.ServerReachability}\n   */\n  this.reachabilityType = reachabilityType;\n};\ngoog.inherits(requestStats.ServerReachabilityEvent, goog.events.Event);\n\n\n/**\n * Notify the channel that a particular fine grained network event has occurred.\n * Should be considered package-private.\n * @param {requestStats.ServerReachability} reachabilityType\n *     The reachability event type.\n */\nrequestStats.notifyServerReachabilityEvent = function(reachabilityType) {\n  'use strict';\n  const target = requestStats.getStatEventTarget_();\n  target.dispatchEvent(\n      new requestStats.ServerReachabilityEvent(target, reachabilityType));\n};\n\n\n/**\n * Stat Event that fires when things of interest happen that may be useful for\n * applications to know about for stats or debugging purposes.\n */\nrequestStats.Event.STAT_EVENT = 'statevent';\n\n\n/**\n * Enum that identifies events for statistics that are interesting to track.\n * @enum {number}\n */\nrequestStats.Stat = {\n  /** Event indicating a new connection attempt. */\n  CONNECT_ATTEMPT: 0,\n\n  /** Event indicating a connection error due to a general network problem. */\n  ERROR_NETWORK: 1,\n\n  /**\n   * Event indicating a connection error that isn't due to a general network\n   * problem.\n   */\n  ERROR_OTHER: 2,\n\n  /** Event indicating the start of test stage one. */\n  TEST_STAGE_ONE_START: 3,\n\n  /** Event indicating the start of test stage two. */\n  TEST_STAGE_TWO_START: 4,\n\n  /** Event indicating the first piece of test data was received. */\n  TEST_STAGE_TWO_DATA_ONE: 5,\n\n  /**\n   * Event indicating that the second piece of test data was received and it was\n   * received separately from the first.\n   */\n  TEST_STAGE_TWO_DATA_TWO: 6,\n\n  /** Event indicating both pieces of test data were received simultaneously. */\n  TEST_STAGE_TWO_DATA_BOTH: 7,\n\n  /** Event indicating stage one of the test request failed. */\n  TEST_STAGE_ONE_FAILED: 8,\n\n  /** Event indicating stage two of the test request failed. */\n  TEST_STAGE_TWO_FAILED: 9,\n\n  /**\n   * Event indicating that a buffering proxy is likely between the client and\n   * the server.\n   */\n  PROXY: 10,\n\n  /**\n   * Event indicating that no buffering proxy is likely between the client and\n   * the server.\n   */\n  NOPROXY: 11,\n\n  /** Event indicating an unknown SID error. */\n  REQUEST_UNKNOWN_SESSION_ID: 12,\n\n  /** Event indicating a bad status code was received. */\n  REQUEST_BAD_STATUS: 13,\n\n  /** Event indicating incomplete data was received */\n  REQUEST_INCOMPLETE_DATA: 14,\n\n  /** Event indicating bad data was received */\n  REQUEST_BAD_DATA: 15,\n\n  /** Event indicating no data was received when data was expected. */\n  REQUEST_NO_DATA: 16,\n\n  /** Event indicating a request timeout. */\n  REQUEST_TIMEOUT: 17,\n\n  /**\n   * Event indicating that the server never received our hanging GET and so it\n   * is being retried.\n   */\n  BACKCHANNEL_MISSING: 18,\n\n  /**\n   * Event indicating that we have determined that our hanging GET is not\n   * receiving data when it should be. Thus it is dead dead and will be retried.\n   */\n  BACKCHANNEL_DEAD: 19,\n\n  /**\n   * The browser declared itself offline during the lifetime of a request, or\n   * was offline when a request was initially made.\n   */\n  BROWSER_OFFLINE: 20\n};\n\n\n\n/**\n * Event class for STAT_EVENT.\n *\n * @param {goog.events.EventTarget} eventTarget The stat event target for\n       the channel.\n * @param {requestStats.Stat} stat The stat.\n * @constructor\n * @extends {goog.events.Event}\n */\nrequestStats.StatEvent = function(eventTarget, stat) {\n  'use strict';\n  goog.events.Event.call(this, requestStats.Event.STAT_EVENT, eventTarget);\n\n  /**\n   * The stat\n   * @type {requestStats.Stat}\n   */\n  this.stat = stat;\n};\ngoog.inherits(requestStats.StatEvent, goog.events.Event);\n\n\n/**\n * Returns the singleton event target for stat events.\n * @return {!goog.events.EventTarget} The event target for stat events.\n */\nrequestStats.getStatEventTarget = function() {\n  'use strict';\n  return requestStats.getStatEventTarget_();\n};\n\n\n/**\n * Helper function to call the stat event callback.\n * @param {requestStats.Stat} stat The stat.\n */\nrequestStats.notifyStatEvent = function(stat) {\n  'use strict';\n  const target = requestStats.getStatEventTarget_();\n  target.dispatchEvent(new requestStats.StatEvent(target, stat));\n};\n\n\n/**\n * An event that fires when POST requests complete successfully, indicating\n * the size of the POST and the round trip time.\n */\nrequestStats.Event.TIMING_EVENT = 'timingevent';\n\n\n\n/**\n * Event class for requestStats.Event.TIMING_EVENT\n *\n * @param {goog.events.EventTarget} target The stat event target for\n       the channel.\n * @param {number} size The number of characters in the POST data.\n * @param {number} rtt The total round trip time from POST to response in MS.\n * @param {number} retries The number of times the POST had to be retried.\n * @constructor\n * @extends {goog.events.Event}\n */\nrequestStats.TimingEvent = function(target, size, rtt, retries) {\n  'use strict';\n  goog.events.Event.call(this, requestStats.Event.TIMING_EVENT, target);\n\n  /**\n   * @type {number}\n   */\n  this.size = size;\n\n  /**\n   * @type {number}\n   */\n  this.rtt = rtt;\n\n  /**\n   * @type {number}\n   */\n  this.retries = retries;\n};\ngoog.inherits(requestStats.TimingEvent, goog.events.Event);\n\n\n/**\n * Helper function to notify listeners about POST request performance.\n *\n * @param {number} size Number of characters in the POST data.\n * @param {number} rtt The amount of time from POST start to response.\n * @param {number} retries The number of times the POST had to be retried.\n */\nrequestStats.notifyTimingEvent = function(size, rtt, retries) {\n  'use strict';\n  const target = requestStats.getStatEventTarget_();\n  target.dispatchEvent(\n      new requestStats.TimingEvent(target, size, rtt, retries));\n};\n\n\n/**\n * Allows the application to set an execution hooks for when a channel\n * starts processing requests. This is useful to track timing or logging\n * special information. The function takes no parameters and return void.\n * @param {Function} startHook  The function for the start hook.\n */\nrequestStats.setStartThreadExecutionHook = function(startHook) {\n  'use strict';\n  requestStats.startExecutionHook_ = startHook;\n};\n\n\n/**\n * Allows the application to set an execution hooks for when a channel\n * stops processing requests. This is useful to track timing or logging\n * special information. The function takes no parameters and return void.\n * @param {Function} endHook  The function for the end hook.\n */\nrequestStats.setEndThreadExecutionHook = function(endHook) {\n  'use strict';\n  requestStats.endExecutionHook_ = endHook;\n};\n\n\n/**\n * Application provided execution hook for the start hook.\n *\n * @type {Function}\n * @private\n */\nrequestStats.startExecutionHook_ = function() {};\n\n\n/**\n * Application provided execution hook for the end hook.\n *\n * @type {Function}\n * @private\n */\nrequestStats.endExecutionHook_ = function() {};\n\n\n/**\n * Helper function to call the start hook\n */\nrequestStats.onStartExecution = function() {\n  'use strict';\n  requestStats.startExecutionHook_();\n};\n\n\n/**\n * Helper function to call the end hook\n */\nrequestStats.onEndExecution = function() {\n  'use strict';\n  requestStats.endExecutionHook_();\n};\n\n\n/**\n * Wrapper around SafeTimeout which calls the start and end execution hooks\n * with a try...finally block.\n * @param {Function} fn The callback function.\n * @param {number} ms The time in MS for the timer.\n * @return {number} The ID of the timer.\n */\nrequestStats.setTimeout = function(fn, ms) {\n  'use strict';\n  if (typeof fn !== 'function') {\n    throw new Error('Fn must not be null and must be a function');\n  }\n  return goog.global.setTimeout(function() {\n    'use strict';\n    requestStats.onStartExecution();\n    try {\n      fn();\n    } finally {\n      requestStats.onEndExecution();\n    }\n  }, ms);\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Error codes shared between goog.net.IframeIo and\n * goog.net.XhrIo.\n */\n\ngoog.provide('goog.net.ErrorCode');\n\n\n/**\n * Error codes\n * @enum {number}\n */\ngoog.net.ErrorCode = {\n\n  /**\n   * There is no error condition.\n   */\n  NO_ERROR: 0,\n\n  /**\n   * The most common error from iframeio, unfortunately, is that the browser\n   * responded with an error page that is classed as a different domain. The\n   * situations, are when a browser error page  is shown -- 404, access denied,\n   * DNS failure, connection reset etc.)\n   *\n   */\n  ACCESS_DENIED: 1,\n\n  /**\n   * Currently the only case where file not found will be caused is when the\n   * code is running on the local file system and a non-IE browser makes a\n   * request to a file that doesn't exist.\n   */\n  FILE_NOT_FOUND: 2,\n\n  /**\n   * If Firefox shows a browser error page, such as a connection reset by\n   * server or access denied, then it will fail silently without the error or\n   * load handlers firing.\n   */\n  FF_SILENT_ERROR: 3,\n\n  /**\n   * Custom error provided by the client through the error check hook.\n   */\n  CUSTOM_ERROR: 4,\n\n  /**\n   * Exception was thrown while processing the request.\n   */\n  EXCEPTION: 5,\n\n  /**\n   * The Http response returned a non-successful http status code.\n   */\n  HTTP_ERROR: 6,\n\n  /**\n   * The request was aborted.\n   */\n  ABORT: 7,\n\n  /**\n   * The request timed out.\n   */\n  TIMEOUT: 8,\n\n  /**\n   * The resource is not available offline.\n   */\n  OFFLINE: 9,\n};\n\n\n/**\n * Returns a friendly error message for an error code. These messages are for\n * debugging and are not localized.\n * @param {goog.net.ErrorCode} errorCode An error code.\n * @return {string} A message for debugging.\n */\ngoog.net.ErrorCode.getDebugMessage = function(errorCode) {\n  'use strict';\n  switch (errorCode) {\n    case goog.net.ErrorCode.NO_ERROR:\n      return 'No Error';\n\n    case goog.net.ErrorCode.ACCESS_DENIED:\n      return 'Access denied to content document';\n\n    case goog.net.ErrorCode.FILE_NOT_FOUND:\n      return 'File not found';\n\n    case goog.net.ErrorCode.FF_SILENT_ERROR:\n      return 'Firefox silently errored';\n\n    case goog.net.ErrorCode.CUSTOM_ERROR:\n      return 'Application custom error';\n\n    case goog.net.ErrorCode.EXCEPTION:\n      return 'An exception occurred';\n\n    case goog.net.ErrorCode.HTTP_ERROR:\n      return 'Http response at 400 or 500 level';\n\n    case goog.net.ErrorCode.ABORT:\n      return 'Request was aborted';\n\n    case goog.net.ErrorCode.TIMEOUT:\n      return 'Request timed out';\n\n    case goog.net.ErrorCode.OFFLINE:\n      return 'The resource is not available offline';\n\n    default:\n      return 'Unrecognized error code';\n  }\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Common events for the network classes.\n */\n\n\ngoog.provide('goog.net.EventType');\n\n\n/**\n * Event names for network events\n * @enum {string}\n */\ngoog.net.EventType = {\n  COMPLETE: 'complete',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  ABORT: 'abort',\n  READY: 'ready',\n  READY_STATE_CHANGE: 'readystatechange',\n  TIMEOUT: 'timeout',\n  INCREMENTAL_DATA: 'incrementaldata',\n  PROGRESS: 'progress',\n  // DOWNLOAD_PROGRESS and UPLOAD_PROGRESS are special events dispatched by\n  // goog.net.XhrIo to allow binding listeners specific to each type of\n  // progress.\n  DOWNLOAD_PROGRESS: 'downloadprogress',\n  UPLOAD_PROGRESS: 'uploadprogress',\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Interface for a factory for creating XMLHttpRequest objects\n * and metadata about them.\n */\n\ngoog.provide('goog.net.XmlHttpFactory');\n\n/** @suppress {extraRequire} Typedef. */\ngoog.require('goog.net.XhrLike');\n\n\n\n/**\n * Abstract base class for an XmlHttpRequest factory.\n * @constructor\n */\ngoog.net.XmlHttpFactory = function() {};\n\n\n/**\n * Cache of options - we only actually call internalGetOptions once.\n * @type {?Object}\n * @private\n */\ngoog.net.XmlHttpFactory.prototype.cachedOptions_ = null;\n\n\n/**\n * @return {!goog.net.XhrLike.OrNative} A new XhrLike instance.\n */\ngoog.net.XmlHttpFactory.prototype.createInstance = goog.abstractMethod;\n\n\n/**\n * @return {Object} Options describing how xhr objects obtained from this\n *     factory should be used.\n */\ngoog.net.XmlHttpFactory.prototype.getOptions = function() {\n  'use strict';\n  return this.cachedOptions_ ||\n      (this.cachedOptions_ = this.internalGetOptions());\n};\n\n\n/**\n * Override this method in subclasses to preserve the caching offered by\n * getOptions().\n * @return {Object} Options describing how xhr objects obtained from this\n *     factory should be used.\n * @protected\n */\ngoog.net.XmlHttpFactory.prototype.internalGetOptions = goog.abstractMethod;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The API spec for the WebChannel messaging library.\n *\n * Similar to HTML5 WebSocket, WebChannel offers an abstraction for\n * point-to-point socket-like communication between a browser client and\n * a remote origin.\n *\n * WebChannels are created via <code>WebChannel</code>. Multiple WebChannels\n * may be multiplexed over the same WebChannelTransport, which encapsulates\n * the underlying physical connectivity over standard wire protocols\n * such as HTTP.\n *\n * A WebChannel in turn represents a logical communication channel between\n * the client and server endpoint. A WebChannel remains open for as long\n * as the client or server endpoint allows.\n *\n * Messages are delivered in-order and reliably over the same WebChannel,\n * and the choice of the underlying wire protocols is completely transparent\n * to the API users.\n *\n * Note that we have no immediate plan to move this API out of labs. While\n * the implementation is production ready, the API is subject to change.\n */\n\ngoog.provide('goog.net.WebChannel');\ngoog.provide('goog.net.WebChannel.Options');\n\ngoog.require('goog.events');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.net.XmlHttpFactory');\n\n\n\n/**\n * A WebChannel represents a logical bi-directional channel over which the\n * client communicates with a remote server that holds the other endpoint\n * of the channel. A WebChannel is always created in the context of a shared\n * {@link WebChannelTransport} instance. It is up to the underlying client-side\n * and server-side implementations to decide how or when multiplexing is\n * to be enabled.\n *\n * @interface\n * @extends {goog.events.Listenable}\n */\ngoog.net.WebChannel = function() {};\n\n\n\n/**\n * This interface defines a pluggable API to allow WebChannel runtime to support\n * customized algorithms in order to recover from transient failures such as\n * those failures caused by network or proxies (intermediaries).\n *\n * The algorithm may also choose to fail-fast, e.g. switch the client to some\n * offline mode.\n *\n * Extra measurements and logging could also be implemented in the custom\n * module, which has the full knowledge of all the state transitions\n * (due to failures).\n *\n * A default algorithm will be provided by the webchannel library itself. Custom\n * algorithms are expected to be tailored to specific client platforms or\n * networking environments, e.g. mobile, cellular network.\n *\n * @interface\n */\ngoog.net.WebChannel.FailureRecovery = function() {};\n\n\n/**\n * Configuration spec for newly created WebChannel instances.\n *\n * WebChannels are configured in the context of the containing\n * {@link WebChannelTransport}. The configuration parameters are specified\n * when a new instance of WebChannel is created via {@link WebChannelTransport}.\n * @record\n */\ngoog.net.WebChannel.Options = function() {};\n\n/**\n * Transport-metadata support.\n *\n * Custom HTTP headers to be added to every message sent to the\n * server. This object is mutable, and custom headers may be changed, removed,\n * or added during the runtime after a channel has been opened.\n *\n * Custom headers may trigger CORS preflight. See other related options.\n * @type {!Object<string, string>|undefined}\n */\ngoog.net.WebChannel.Options.prototype.messageHeaders;\n\n/**\n * Transport-metadata support.\n *\n * Similar to messageHeaders, but any custom HTTP headers will\n * be sent only once when the channel is opened as part of the handshae request.\n * Typical usage is to send an auth header to the server, which only checks\n * the auth header at the time during the handshake when the channel is opened.\n * @type {!Object<string, string>|undefined}\n */\ngoog.net.WebChannel.Options.prototype.initMessageHeaders;\n\n/**\n * Sent as initMessageHeaders via X-WebChannel-Content-Type,\n * to inform the server the MIME type of WebChannel messages.\n * @type {string|undefined}\n */\ngoog.net.WebChannel.Options.prototype.messageContentType;\n\n/**\n * Transport-metadata support.\n *\n * Custom url query parameters to be added to every message\n * sent to the server. This object is mutable, and custom parameters may be\n * changed, removed or added during the runtime after a channel has been opened.\n *\n * TODO: initMessageUrlParams\n * TODO: closeMessageUrlParams  (custom url query params to be added to the\n * channel-close message. Custom headers are not supported due to the use of\n * SendBeacon)\n *\n * @type {!Object<string, string>|undefined}\n */\ngoog.net.WebChannel.Options.prototype.messageUrlParams;\n\n/**\n * Whether a special header should be added to\n * each message so that the server can dispatch webchannel messages without\n * knowing the URL path prefix. Defaults to false.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.clientProtocolHeaderRequired;\n\n/**\n * The maximum number of in-flight HTTP requests allowed\n * when SPDY is enabled. Currently we only detect SPDY in Chrome.\n * This parameter defaults to 10. When SPDY is not enabled, this parameter\n * will have no effect.\n * @type {number|undefined}\n */\ngoog.net.WebChannel.Options.prototype.concurrentRequestLimit;\n\n/**\n * Setting this to true to allow the use of sub-domains\n * (as configured by the server) to send XHRs with the CORS withCredentials\n * bit set to true.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.supportsCrossDomainXhr;\n\n/**\n * Whether to bypass v8 encoding of client-sent messages.\n * This defaults to false now due to legacy servers. New applications should\n * always configure this option to true.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.sendRawJson;\n\n/**\n * The URL parameter name that contains the session id (for sticky routing of\n * HTTP requests). When this param is specified, a server that supports this\n * option will respond with an opaque session id as part of the initial\n * handshake (via the X-HTTP-Session-Id header); and all the subsequent requests\n * will contain the httpSessionIdParam. This option will take precedence over\n * any duplicated parameter specified with messageUrlParams, whose value will be\n * ignored.\n * @type {string|undefined}\n */\ngoog.net.WebChannel.Options.prototype.httpSessionIdParam;\n\n/**\n * The URL parameter name to allow custom HTTP\n * headers to be overwritten as a URL param to bypass CORS preflight.\n *\n * @type {string|undefined}\n */\ngoog.net.WebChannel.Options.prototype.httpHeadersOverwriteParam;\n\n/**\n * Whether to encode Options.initMessageHeaders in the HTTP request body.\n * This option defaults to false. If true, Options.httpHeadersOverwriteParam\n * will be ignored.\n *\n * This option should not be set if Options.fastHandshake is set (which\n * uses GET for handshake).\n *\n * Web-only feature.\n *\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.encodeInitMessageHeaders;\n\n/**\n * Whether to force long-polling from client to server.\n * This defaults to false. Long-polling may be necessary when a (MITM) proxy\n * is buffering data sent by the server.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.forceLongPolling;\n\n/**\n * Whether to enable automatic detection of buffering proxies. In the presence\n * of any buffering proxy, webchannel will use long-polling to send messages\n * from the server to the client. This option defaults to false.\n * Currently when fastHandshake is enabled, this option will be ignored.\n * Compared to \"forceLongPolling\", this option may introduce up to 2-RTT\n * extra latency for delivering messages generated immediately after the\n * handshake.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.detectBufferingProxy;\n\n/**\n * Enable true 0-RTT message delivery, including\n * leveraging QUIC 0-RTT (which requires GET to be used). This option\n * defaults to false. Note it is allowed to send messages before Open event is\n * received, after a channel has been opened. In order to enable 0-RTT,\n * messages will be encoded as part of URL and therefore there needs be a size\n * limit for those initial messages that are sent immediately as part of the\n * GET handshake request. With sendRawJson=true, this limit is currently set\n * to 4K chars and data beyond this limit will be buffered till the handshake\n * (1-RTT) finishes. With sendRawJson=false, it's up to the application\n * to limit the amount of data that is sent as part of the handshake.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.fastHandshake;\n\n/**\n * Enable the blocking RPC semantics for the handshake:\n * 1) the completion of handshake is blocked by the server-side application\n * logic for handling the handshake (HTTP) request; 2) the client application\n * will inspect the handshake (HTTP) response headers as generated\n * by the server application (v.s. by only the webchannel runtime). This option\n * defaults to false.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.blockingHandshake;\n\n/**\n * Whether to disable logging redact. By default, redact is\n * enabled to remove any message payload or user-provided info\n * from closure logs.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.disableRedact;\n\n/**\n * Inform the server about the client profile to enable\n * customized configs that are optimized for certain clients or environments.\n * Currently this information is sent via X-WebChannel-Client-Profile header.\n * @type {string|undefined}\n */\ngoog.net.WebChannel.Options.prototype.clientProfile;\n\n/**\n * The internal channel parameter name to allow\n * experimental channel configurations. Supported options include fastfail,\n * baseRetryDelayMs, retryDelaySeedMs, forwardChannelMaxRetries and\n * forwardChannelRequestTimeoutMs. Note that these options are subject to\n * change.\n * @type {!Object<string, boolean|number>|undefined}\n */\ngoog.net.WebChannel.Options.prototype.internalChannelParams;\n\n/**\n * Allows the caller to override the factory used to create\n * XMLHttpRequest objects. This is introduced to disable CORS on firefox OS.\n * @type {!goog.net.XmlHttpFactory|undefined}\n */\ngoog.net.WebChannel.Options.prototype.xmlHttpFactory;\n\n/**\n * Client-side thresholds that decide when to refresh\n * an underlying HTTP request, to limit memory consumption due to XHR buffering\n * or compression context. The client-side thresholds should be significantly\n * smaller than the server-side thresholds. This allows the client to eliminate\n * any latency introduced by request refreshing, i.e. an RTT window during which\n * messages may be buffered on the server-side. Supported params include\n * totalBytesReceived, totalDurationMs.\n * @type {!Object<string, number>|undefined}\n */\ngoog.net.WebChannel.Options.prototype.requestRefreshThresholds;\n\n/**\n * This is an experimental feature to use WHATWG Fetch/streams (when supported)\n * for the backchannel. If a custom 'xmlHttpFactory' is speficied, this option\n * will not be effective. This option defaults to false now and will eventually\n * be turned on by default.\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.useFetchStreams;\n\n/**\n * Opt-in to enable Chrome origin trials from the WebChannel client. See\n * https://github.com/GoogleChrome/OriginTrials\n *\n * Origin trial history:\n * - fetch upload (11/2020 - 07/2021)\n * https://developers.chrome.com/origintrials/#/view_trial/3524066708417413121\n *\n * Participating in the origin trials will help Chrome to release new Web\n * platform features sooner, which will in turn help improve WebChannel\n * performance.\n *\n * Origin trials are not expected to interfere with WebChannel wire messages\n * and should not introduce any noticeable overhead.\n *\n * This is enabled by default with any on-going origin-trial.\n *\n * @type {boolean|undefined}\n */\ngoog.net.WebChannel.Options.prototype.enableOriginTrials;\n\n\n/**\n * Types that are allowed as message data.\n *\n * Note that JS objects (sent by the client) can only have string encoded\n * values due to the limitation of the current wire protocol.\n *\n * Unicode strings (sent by the server) may or may not need be escaped, as\n * decided by the server.\n *\n * @typedef {(!ArrayBuffer|!Blob|!Object<string, !Object|string>|!Array|string)}\n */\ngoog.net.WebChannel.MessageData;\n\n\n/**\n * Open the WebChannel against the URI specified in the constructor.\n */\ngoog.net.WebChannel.prototype.open = goog.abstractMethod;\n\n\n/**\n * Close the WebChannel.\n *\n * This is a full close (shutdown) with no guarantee of FIFO delivery in respect\n * to any in-flight messages sent to the server.\n *\n * If you need such a guarantee, see the Half the halfClose() method.\n */\ngoog.net.WebChannel.prototype.close = goog.abstractMethod;\n\n\n/**\n * Half-close the WebChannel.\n *\n * Half-close semantics:\n * 1. delivered as a regular message in FIFO programming order\n * 2. the server is expected to return a half-close too (with or without\n *    application involved), which will trigger a full close (shutdown)\n *    on the client side\n * 3. for now, the half-close event defined for server-initiated\n *    half-close is not exposed to the client application\n * 4. a client-side half-close may be triggered internally when the client\n *    receives a half-close from the server; and the client is expected to\n *    do a full close after the half-close is acked and delivered\n *    on the server-side.\n * 5. Full close is always a forced one. See the close() method.\n *\n * New messages sent after halfClose() will be dropped.\n *\n * NOTE: This is not yet implemented, and will throw an exception if called.\n */\ngoog.net.WebChannel.prototype.halfClose = goog.abstractMethod;\n\n\n/**\n * Sends a message to the server that maintains the other endpoint of\n * the WebChannel.\n *\n * O-RTT behavior:\n * 1. messages sent before open() is called will always be delivered as\n *    part of the handshake, i.e. with 0-RTT\n * 2. messages sent after open() is called but before the OPEN event\n *    is received will be delivered as part of the handshake if\n *    send() is called from the same execution context as open().\n * 3. otherwise, those messages will be buffered till the handshake\n *    is completed (which will fire the OPEN event).\n *\n * @param {!goog.net.WebChannel.MessageData} message The message to send.\n */\ngoog.net.WebChannel.prototype.send = goog.abstractMethod;\n\n\n/**\n * Common events fired by WebChannels.\n * @enum {string}\n */\ngoog.net.WebChannel.EventType = {\n  /** Dispatched when the channel is opened. */\n  OPEN: goog.events.getUniqueId('open'),\n\n  /** Dispatched when the channel is closed. */\n  CLOSE: goog.events.getUniqueId('close'),\n\n  /**\n   * Dispatched when the channel is aborted due to errors.\n   *\n   * For backward compatibility reasons, a CLOSE event will also be\n   * dispatched, following the ERROR event, which indicates that the channel\n   * has been completely shutdown .\n   */\n  ERROR: goog.events.getUniqueId('error'),\n\n  /** Dispatched when the channel has received a new message. */\n  MESSAGE: goog.events.getUniqueId('message')\n};\n\n\n\n/**\n * The event interface for the MESSAGE event.\n *\n * @constructor\n * @extends {goog.events.Event}\n */\ngoog.net.WebChannel.MessageEvent = function() {\n  'use strict';\n  goog.net.WebChannel.MessageEvent.base(\n      this, 'constructor', goog.net.WebChannel.EventType.MESSAGE);\n};\ngoog.inherits(goog.net.WebChannel.MessageEvent, goog.events.Event);\n\n\n/**\n * The content of the message received from the server.\n *\n * @type {!goog.net.WebChannel.MessageData}\n */\ngoog.net.WebChannel.MessageEvent.prototype.data;\n\n\n/**\n * The metadata key when the MESSAGE event represents a metadata message.\n *\n * @type {string|undefined}\n */\ngoog.net.WebChannel.MessageEvent.prototype.metadataKey;\n\n\n/**\n * Metadata as HTTP status code. Typically sent before the channel is\n * half-closed by the server. To be implemented.\n *\n * @type {number|undefined}\n */\ngoog.net.WebChannel.MessageEvent.prototype.statusCode;\n\n\n/**\n * Metadata as HTTP headers. Typically sent before the channel is\n * half-closed by the server. To be implemented.\n *\n * @type {!Object<string, string>|undefined}\n */\ngoog.net.WebChannel.MessageEvent.prototype.responseHeaders;\n\n\n/**\n * WebChannel level error conditions.\n *\n * Summary of error debugging and reporting in WebChannel:\n *\n * Network Error\n * 1. By default the webchannel library will set the error status to\n *    NETWORK_ERROR when a channel has to be aborted or closed. NETWORK_ERROR\n *    may be recovered by the application by retrying and opening a new channel.\n * 2. There may be lost messages (not acked by the server) when a channel is\n *    aborted. Currently we don't have a public API to retrieve messages that\n *    are waiting to be acked on the client side. File a bug if you think it\n *    is useful to expose such an API.\n * 3. Details of why a channel fails are available via closure debug logs,\n *    and stats events (see webchannel/requeststats.js). Those are internal\n *    stats and are subject to change. File a bug if you think it's useful to\n *    version and expose such stats as part of the WebChannel API.\n *\n * Server Error\n * 1. SERVER_ERROR is intended to indicate a non-recoverable condition, e.g.\n *    when auth fails.\n * 2. We don't currently generate any such errors, because most of the time\n *    it's the responsibility of upper-layer frameworks or the application\n *    itself to indicate to the client why a webchannel has been failed\n *    by the server.\n * 3. When a channel is failed by the server explicitly, we still signal\n *    NETWORK_ERROR to the client. Explicit server failure may happen when the\n *    server does a fail-over, or becomes overloaded, or conducts a forced\n *    shutdown etc.\n * 4. We use some heuristic to decide if the network (aka cloud) is down\n *    v.s. the actual server is down.\n *\n *  RuntimeProperties.getLastStatusCode is a useful state that we expose to\n *  the client to indicate the HTTP response status code of the last HTTP\n *  request initiated by the WebChannel client library, for debugging\n *  purposes only.\n *\n *  See WebChannel.Options.backChannelFailureRecovery and\n *  WebChannel.FailureRecovery to install a custom failure-recovery algorithm.\n *\n * @enum {number}\n */\ngoog.net.WebChannel.ErrorStatus = {\n  /** No error has occurred. */\n  OK: 0,\n\n  /** Communication to the server has failed. */\n  NETWORK_ERROR: 1,\n\n  /** The server fails to accept or process the WebChannel. */\n  SERVER_ERROR: 2\n};\n\n\n\n/**\n * The event interface for the ERROR event.\n *\n * @constructor\n * @extends {goog.events.Event}\n */\ngoog.net.WebChannel.ErrorEvent = function() {\n  'use strict';\n  goog.net.WebChannel.ErrorEvent.base(\n      this, 'constructor', goog.net.WebChannel.EventType.ERROR);\n};\ngoog.inherits(goog.net.WebChannel.ErrorEvent, goog.events.Event);\n\n\n/**\n * The error status.\n *\n * @type {!goog.net.WebChannel.ErrorStatus}\n */\ngoog.net.WebChannel.ErrorEvent.prototype.status;\n\n\n/**\n * @return {!goog.net.WebChannel.RuntimeProperties} The runtime properties\n * of the WebChannel instance.\n */\ngoog.net.WebChannel.prototype.getRuntimeProperties = goog.abstractMethod;\n\n\n\n/**\n * The runtime properties of the WebChannel instance.\n *\n * This class is defined for debugging and monitoring purposes, as well as for\n * runtime functions that the application may choose to manage by itself.\n *\n * @interface\n */\ngoog.net.WebChannel.RuntimeProperties = function() {};\n\n\n/**\n * @return {number} The effective limit for the number of concurrent HTTP\n * requests that are allowed to be made for sending messages from the client\n * to the server. When SPDY is not enabled, this limit will be one.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.getConcurrentRequestLimit =\n    goog.abstractMethod;\n\n\n/**\n * For applications that need support multiple channels (e.g. from\n * different tabs) to the same origin, use this method to decide if SPDY is\n * enabled and therefore it is safe to open multiple channels.\n *\n * If SPDY is disabled, the application may choose to limit the number of active\n * channels to one or use other means such as sub-domains to work around\n * the browser connection limit.\n *\n * @return {boolean} Whether SPDY is enabled for the origin against which\n * the channel is created.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.isSpdyEnabled =\n    goog.abstractMethod;\n\n\n/**\n * @return {number} The number of requests (for sending messages to the server)\n * that are pending. If this number is approaching the value of\n * getConcurrentRequestLimit(), client-to-server message delivery may experience\n * a higher latency.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.getPendingRequestCount =\n    goog.abstractMethod;\n\n\n/**\n * For applications to query the current HTTP session id, sent by the server\n * during the initial handshake.\n *\n * @return {?string} the HTTP session id or null if no HTTP session is in use.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.getHttpSessionId =\n    goog.abstractMethod;\n\n\n/**\n * Experimental API.\n *\n * This method generates an in-band commit request to the server, which will\n * ack the commit request as soon as all messages sent prior to this commit\n * request have been committed by the application.\n *\n * Committing a message has a stronger semantics than delivering a message\n * to the application. Detail spec:\n * https://github.com/bidiweb/webchannel/blob/master/commit.md\n *\n * Timeout or cancellation is not supported and the application is expected to\n * abort the channel if the commit-ack fails to arrive in time.\n *\n * ===\n *\n * This is currently implemented only in the client layer and the commit\n * callback will be invoked after all the pending client-sent messages have been\n * delivered by the server-side webchannel endpoint. This semantics is\n * different and weaker than what's required for end-to-end ack which requires\n * the server application to ack the in-order delivery of messages that are sent\n * before the commit request is issued.\n *\n * Commit should only be called after the channel open event is received.\n * Duplicated commits are allowed and only the last callback is guaranteed.\n * Commit called after the channel has been closed will be ignored.\n *\n * @param {function()} callback The callback will be invoked once an\n * ack has been received for the current commit or any newly issued commit.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.commit = goog.abstractMethod;\n\n\n/**\n * This method may be used by the application to recover from a peer failure\n * or to enable sender-initiated flow-control.\n *\n * Detail spec: https://github.com/bidiweb/webchannel/blob/master/commit.md\n *\n * Note that the caller should NOT modify the list of returned messages.\n *\n * @return {!Array<!goog.net.WebChannel.MessageData>} The list of messages that\n * have not received commit-ack from the server; or if no commit has been\n * issued, the list of messages that have not been delivered to the server\n * application.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.getNonAckedMessages =\n    goog.abstractMethod;\n\n\n/**\n * A low water-mark message count to notify the application when the\n * flow-control condition is cleared, that is, when the application is\n * able to send more messages.\n *\n * We expect the application to configure a high water-mark message count,\n * which is checked via getNonAckedMessageCount(). When the high water-mark\n * is exceeded, the application should install a callback via this method\n * to be notified when to start to send new messages.\n *\n * This is not yet implemented.\n *\n * @param {number} count The low water-mark count. It is an error to pass\n * a non-positive value.\n * @param {function()} callback The call back to notify the application\n * when NonAckedMessageCount is below the specified low water-mark count.\n * Any previously registered callback is cleared. This new callback will\n * be cleared once it has been fired, or when the channel is closed or aborted.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.notifyNonAckedMessageCount =\n    goog.abstractMethod;\n\n\n/**\n * Experimental API.\n *\n * This method registers a callback to handle the commit request sent\n * by the server. Commit protocol spec:\n * https://github.com/bidiweb/webchannel/blob/master/commit.md\n *\n * This is not yet implemented.\n *\n * @param {function(!Object)} callback The callback will take an opaque\n * commitId which needs be passed back to the server when an ack-commit\n * response is generated by the client application, via ackCommit().\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.onCommit = goog.abstractMethod;\n\n\n/**\n * Experimental API.\n *\n * This method is used by the application to generate an ack-commit response\n * for the given commitId. Commit protocol spec:\n * https://github.com/bidiweb/webchannel/blob/master/commit.md\n *\n * This is not yet implemented.\n *\n * @param {!Object} commitId The commitId which denotes the commit request\n * from the server that needs be ack'ed.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.ackCommit = goog.abstractMethod;\n\n\n/**\n * Transport-metadata support.\n *\n * TODO: getLastResponseHeaders (only for non-200 status)\n * TODO: getInitStatusCode   (handshake)\n * TODO: getInitResponseHeaders  (handshake)\n *\n * Note that response headers from client-initiated close (abort) are not\n * available.\n *\n * In future when client-initiated half-close is supported, its response status\n * will be available via this API.\n *\n * @return {number} The non-200 HTTP status code received that causes the\n * channel to be aborted.\n */\ngoog.net.WebChannel.RuntimeProperties.prototype.getLastStatusCode =\n    goog.abstractMethod;\n\n\n/**\n * Enum to indicate the current recovery state.\n *\n * @enum {string}\n */\ngoog.net.WebChannel.FailureRecovery.State = {\n  /** Initial state. */\n  INIT: 'init',\n\n  /** Once a failure has been detected. */\n  FAILED: 'failed',\n\n  /**\n   * Once a recovery operation has been issued, e.g. a new request to resume\n   * communication.\n   */\n  RECOVERING: 'recovering',\n\n  /** The channel has been closed.  */\n  CLOSED: 'closed'\n};\n\n\n/**\n * Enum to indicate different failure conditions as detected by the webchannel\n * runtime.\n *\n * This enum is to be used only between the runtime and FailureRecovery module,\n * and new states are expected to be introduced in future.\n *\n * @enum {string}\n */\ngoog.net.WebChannel.FailureRecovery.FailureCondition = {\n  /**\n   * The HTTP response returned a non-successful http status code.\n   */\n  HTTP_ERROR: 'http_error',\n\n  /**\n   * The request was aborted.\n   */\n  ABORT: 'abort',\n\n  /**\n   * The request timed out.\n   */\n  TIMEOUT: 'timeout',\n\n  /**\n   * Exception was thrown while processing the request/response.\n   */\n  EXCEPTION: 'exception'\n};\n\n\n/**\n * @return {!goog.net.WebChannel.FailureRecovery.State} the current state,\n * mainly for debugging use.\n */\ngoog.net.WebChannel.FailureRecovery.prototype.getState = goog.abstractMethod;\n\n\n/**\n * This method is for WebChannel runtime to set the current failure condition\n * and to provide a callback for the algorithm to signal to the runtime\n * when it is time to issue a recovery operation, e.g. a new request to the\n * server.\n *\n * Supported transitions include:\n *   INIT->FAILED\n *   FAILED->FAILED (re-entry ok)\n *   RECOVERY->FAILED.\n *\n * Ignored if state == CLOSED.\n *\n * Advanced implementations are expected to track all the state transitions\n * and their timestamps for monitoring purposes.\n *\n * @param {!goog.net.WebChannel.FailureRecovery.FailureCondition} failure The\n * new failure condition generated by the WebChannel runtime.\n * @param {!Function} operation The callback function to the WebChannel\n * runtime to issue a recovery operation, e.g. a new request. E.g. the default\n * recovery algorithm will issue timeout-based recovery operations.\n * Post-condition for the callback: state transition to RECOVERING.\n *\n * @return {!goog.net.WebChannel.FailureRecovery.State} The updated state\n * as decided by the failure recovery module. Upon a recoverable failure event,\n * the state is transitioned to RECOVERING; or the state is transitioned to\n * FAILED which indicates a fail-fast decision for the runtime to execute.\n */\ngoog.net.WebChannel.FailureRecovery.prototype.setFailure = goog.abstractMethod;\n\n\n/**\n * The Webchannel runtime needs call this method when webchannel is closed or\n * aborted.\n *\n * Once the instance is closed, any access to the instance will be a no-op.\n */\ngoog.net.WebChannel.FailureRecovery.prototype.close = goog.abstractMethod;\n\n\n/**\n * A request header to indicate to the server the messaging protocol\n * each HTTP message is speaking.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_CLIENT_PROTOCOL = 'X-Client-Protocol';\n\n\n/**\n * The value for x-client-protocol when the messaging protocol is WebChannel.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL = 'webchannel';\n\n\n/**\n * A response header for the server to signal the wire-protocol that\n * the browser establishes with the server (or proxy), e.g. \"spdy\" (aka http/2)\n * \"quic\". This information avoids the need to use private APIs to decide if\n * HTTP requests are multiplexed etc.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_CLIENT_WIRE_PROTOCOL = 'X-Client-Wire-Protocol';\n\n\n/**\n * A response header for the server to send back the HTTP session id as part of\n * the initial handshake. The value of the HTTP session id is opaque to the\n * WebChannel protocol.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_HTTP_SESSION_ID = 'X-HTTP-Session-Id';\n\n\n/**\n * A response header for the server to send back any initial response data as a\n * header to avoid any possible buffering by an intermediary, which may\n * be undesired during the handshake.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_HTTP_INITIAL_RESPONSE = 'X-HTTP-Initial-Response';\n\n\n/**\n * A request header for specifying the content-type of WebChannel messages,\n * e.g. application-defined JSON encoding styles. Currently this header\n * is sent by the client via initMessageHeaders when the channel is opened.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_WEBCHANNEL_CONTENT_TYPE = 'X-WebChannel-Content-Type';\n\n\n/**\n * A request header for specifying the client profile in order to apply\n * customized config params on the server side, e.g. timeouts.\n *\n * @type {string}\n */\ngoog.net.WebChannel.X_WEBCHANNEL_CLIENT_PROFILE = 'X-WebChannel-Client-Profile';\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Low level handling of XMLHttpRequest.\n */\n\ngoog.provide('goog.net.DefaultXmlHttpFactory');\ngoog.provide('goog.net.XmlHttp');\ngoog.provide('goog.net.XmlHttp.OptionType');\ngoog.provide('goog.net.XmlHttp.ReadyState');\ngoog.provide('goog.net.XmlHttpDefines');\n\ngoog.require('goog.asserts');\ngoog.require('goog.net.WrapperXmlHttpFactory');\ngoog.require('goog.net.XmlHttpFactory');\ngoog.requireType('goog.net.XhrLike');\n\n\n/**\n * Static class for creating XMLHttpRequest objects.\n * @return {!goog.net.XhrLike.OrNative} A new XMLHttpRequest object.\n */\ngoog.net.XmlHttp = function() {\n  'use strict';\n  return goog.net.XmlHttp.factory_.createInstance();\n};\n\n\n/**\n * @define {boolean} Whether to assume XMLHttpRequest exists. Setting this to\n *     true bypasses the ActiveX probing code.\n * NOTE(ruilopes): Due to the way JSCompiler works, this define *will not* strip\n * out the ActiveX probing code from binaries.  To achieve this, use\n * `goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR` instead.\n * TODO(ruilopes): Collapse both defines.\n */\ngoog.net.XmlHttp.ASSUME_NATIVE_XHR =\n    goog.define('goog.net.XmlHttp.ASSUME_NATIVE_XHR', false);\n\n\n/** @const */\ngoog.net.XmlHttpDefines = {};\n\n\n/**\n * @define {boolean} Whether to assume XMLHttpRequest exists. Setting this to\n *     true eliminates the ActiveX probing code.\n */\ngoog.net.XmlHttpDefines.ASSUME_NATIVE_XHR =\n    goog.define('goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR', false);\n\n\n/**\n * Gets the options to use with the XMLHttpRequest objects obtained using\n * the static methods.\n * @return {Object} The options.\n */\ngoog.net.XmlHttp.getOptions = function() {\n  'use strict';\n  return goog.net.XmlHttp.factory_.getOptions();\n};\n\n\n/**\n * Type of options that an XmlHttp object can have.\n * @enum {number}\n */\ngoog.net.XmlHttp.OptionType = {\n  /**\n   * Whether a goog.nullFunction should be used to clear the onreadystatechange\n   * handler instead of null.\n   */\n  USE_NULL_FUNCTION: 0,\n\n  /**\n   * NOTE(user): In IE if send() errors on a *local* request the readystate\n   * is still changed to COMPLETE.  We need to ignore it and allow the\n   * try/catch around send() to pick up the error.\n   */\n  LOCAL_REQUEST_ERROR: 1,\n};\n\n\n/**\n * Status constants for XMLHTTP, matches:\n * https://msdn.microsoft.com/en-us/library/ms534361(v=vs.85).aspx\n * @enum {number}\n */\ngoog.net.XmlHttp.ReadyState = {\n  /**\n   * Constant for when xmlhttprequest.readyState is uninitialized\n   */\n  UNINITIALIZED: 0,\n\n  /**\n   * Constant for when xmlhttprequest.readyState is loading.\n   */\n  LOADING: 1,\n\n  /**\n   * Constant for when xmlhttprequest.readyState is loaded.\n   */\n  LOADED: 2,\n\n  /**\n   * Constant for when xmlhttprequest.readyState is in an interactive state.\n   */\n  INTERACTIVE: 3,\n\n  /**\n   * Constant for when xmlhttprequest.readyState is completed\n   */\n  COMPLETE: 4,\n};\n\n\n/**\n * The global factory instance for creating XMLHttpRequest objects.\n * @type {goog.net.XmlHttpFactory}\n * @private\n */\ngoog.net.XmlHttp.factory_;\n\n\n/**\n * Sets the factories for creating XMLHttpRequest objects and their options.\n * @param {Function} factory The factory for XMLHttpRequest objects.\n * @param {Function} optionsFactory The factory for options.\n * @deprecated Use setGlobalFactory instead.\n */\ngoog.net.XmlHttp.setFactory = function(factory, optionsFactory) {\n  'use strict';\n  goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(\n      goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));\n};\n\n\n/**\n * Sets the global factory object.\n * @param {!goog.net.XmlHttpFactory} factory New global factory object.\n */\ngoog.net.XmlHttp.setGlobalFactory = function(factory) {\n  'use strict';\n  goog.net.XmlHttp.factory_ = factory;\n};\n\n\n\n/**\n * Default factory to use when creating xhr objects.  You probably shouldn't be\n * instantiating this directly, but rather using it via goog.net.XmlHttp.\n * @extends {goog.net.XmlHttpFactory}\n * @constructor\n */\ngoog.net.DefaultXmlHttpFactory = function() {\n  'use strict';\n  goog.net.XmlHttpFactory.call(this);\n};\ngoog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);\n\n\n/** @override */\ngoog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {\n  'use strict';\n  const progId = this.getProgId_();\n  if (progId) {\n    return new ActiveXObject(progId);\n  } else {\n    return new XMLHttpRequest();\n  }\n};\n\n\n/** @override */\ngoog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {\n  'use strict';\n  const progId = this.getProgId_();\n  const options = {};\n  if (progId) {\n    options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = true;\n    options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = true;\n  }\n  return options;\n};\n\n\n/**\n * The ActiveX PROG ID string to use to create xhr's in IE. Lazily initialized.\n * @type {string|undefined}\n * @private\n */\ngoog.net.DefaultXmlHttpFactory.prototype.ieProgId_;\n\n\n/**\n * Initialize the private state used by other functions.\n * @return {string} The ActiveX PROG ID string to use to create xhr's in IE.\n * @private\n */\ngoog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {\n  'use strict';\n  if (goog.net.XmlHttp.ASSUME_NATIVE_XHR ||\n      goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {\n    return '';\n  }\n\n  // The following blog post describes what PROG IDs to use to create the\n  // XMLHTTP object in Internet Explorer:\n  // http://blogs.msdn.com/xmlteam/archive/2006/10/23/using-the-right-version-of-msxml-in-internet-explorer.aspx\n  // However we do not (yet) fully trust that this will be OK for old versions\n  // of IE on Win9x so we therefore keep the last 2.\n  if (!this.ieProgId_ && typeof XMLHttpRequest == 'undefined' &&\n      typeof ActiveXObject != 'undefined') {\n    // Candidate Active X types.\n    const ACTIVE_X_IDENTS = [\n      'MSXML2.XMLHTTP.6.0',\n      'MSXML2.XMLHTTP.3.0',\n      'MSXML2.XMLHTTP',\n      'Microsoft.XMLHTTP',\n    ];\n    for (let i = 0; i < ACTIVE_X_IDENTS.length; i++) {\n      const candidate = ACTIVE_X_IDENTS[i];\n\n      try {\n        new ActiveXObject(candidate);\n        // NOTE(user): cannot assign progid and return candidate in one line\n        // because JSCompiler complaings: BUG 658126\n        this.ieProgId_ = candidate;\n        return candidate;\n      } catch (e) {\n        // do nothing; try next choice\n      }\n    }\n\n    // couldn't find any matches\n    throw new Error(\n        'Could not create ActiveXObject. ActiveX might be disabled,' +\n        ' or MSXML might not be installed');\n  }\n\n  return /** @type {string} */ (this.ieProgId_);\n};\n\n\n// Set the global factory to an instance of the default factory.\ngoog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory());\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Definition of the ChannelRequest class. The request\n * object encapsulates the logic for making a single request, either for the\n * forward channel, back channel, or test channel, to the server. It contains\n * the logic for the two types of transports we use:\n * XMLHTTP and Image request. It provides timeout detection. More transports\n * to be added in future, such as Fetch, WebSocket.\n *\n */\n\n\ngoog.provide('goog.labs.net.webChannel.ChannelRequest');\n\ngoog.require('goog.Timer');\ngoog.require('goog.asserts');\ngoog.require('goog.async.Throttle');\ngoog.require('goog.dispose');\ngoog.require('goog.events.EventHandler');\ngoog.require('goog.labs.net.webChannel.Channel');\ngoog.require('goog.labs.net.webChannel.WebChannelDebug');\ngoog.require('goog.labs.net.webChannel.environment');\ngoog.require('goog.labs.net.webChannel.requestStats');\ngoog.require('goog.net.ErrorCode');\ngoog.require('goog.net.EventType');\ngoog.require('goog.net.WebChannel');\ngoog.require('goog.net.XmlHttp');\ngoog.require('goog.object');\ngoog.require('goog.string');\ngoog.require('goog.userAgent');\ngoog.requireType('goog.Uri');\ngoog.requireType('goog.events.Event');\ngoog.requireType('goog.labs.net.webChannel.Wire.QueuedMap');\ngoog.requireType('goog.net.XhrIo');\n\n\n\n/**\n * A new ChannelRequest is created for each request to the server.\n *\n * @param {goog.labs.net.webChannel.Channel} channel\n *     The channel that owns this request.\n * @param {goog.labs.net.webChannel.WebChannelDebug} channelDebug A\n *     WebChannelDebug to use for logging.\n * @param {string=} opt_sessionId The session id for the channel.\n * @param {string|number=} opt_requestId The request id for this request.\n * @param {number=} opt_retryId The retry id for this request.\n * @constructor\n * @struct\n * @final\n */\ngoog.labs.net.webChannel.ChannelRequest = function(\n    channel, channelDebug, opt_sessionId, opt_requestId, opt_retryId) {\n  'use strict';\n  /**\n   * The channel object that owns the request.\n   * @private {goog.labs.net.webChannel.Channel}\n   */\n  this.channel_ = channel;\n\n  /**\n   * The channel debug to use for logging\n   * @private {goog.labs.net.webChannel.WebChannelDebug}\n   */\n  this.channelDebug_ = channelDebug;\n\n  /**\n   * The Session ID for the channel.\n   * @private {string|undefined}\n   */\n  this.sid_ = opt_sessionId;\n\n  /**\n   * The RID (request ID) for the request.\n   * @private {string|number|undefined}\n   */\n  this.rid_ = opt_requestId;\n\n  /**\n   * The attempt number of the current request.\n   * @private {number}\n   */\n  this.retryId_ = opt_retryId || 1;\n\n  /**\n   * An object to keep track of the channel request event listeners.\n   * @private {!goog.events.EventHandler<\n   *     !goog.labs.net.webChannel.ChannelRequest>}\n   */\n  this.eventHandler_ = new goog.events.EventHandler(this);\n\n  /**\n   * The timeout in ms before failing the request.\n   * @private {number}\n   */\n  this.timeout_ = goog.labs.net.webChannel.ChannelRequest.TIMEOUT_MS_;\n\n  /**\n   * A timer for polling responseText in browsers that don't fire\n   * onreadystatechange during incremental loading of responseText.\n   * @private {goog.Timer}\n   */\n  this.pollingTimer_ =\n      new goog.Timer(goog.labs.net.webChannel.environment.getPollingInterval());\n\n  /**\n   * Extra HTTP headers to add to all the requests sent to the server.\n   * @private {?Object}\n   */\n  this.extraHeaders_ = null;\n\n\n  /**\n   * Whether the request was successful. This is only set to true after the\n   * request successfully completes.\n   * @private {boolean}\n   */\n  this.successful_ = false;\n\n\n  /**\n   * The TimerID of the timer used to detect if the request has timed-out.\n   * @type {?number}\n   * @private\n   */\n  this.watchDogTimerId_ = null;\n\n  /**\n   * The time in the future when the request will timeout.\n   * @private {?number}\n   */\n  this.watchDogTimeoutTime_ = null;\n\n  /**\n   * The time the request started.\n   * @private {?number}\n   */\n  this.requestStartTime_ = null;\n\n  /**\n   * The type of request (XMLHTTP, IMG)\n   * @private {?number}\n   */\n  this.type_ = null;\n\n  /**\n   * The base Uri for the request. The includes all the parameters except the\n   * one that indicates the retry number.\n   * @private {?goog.Uri}\n   */\n  this.baseUri_ = null;\n\n  /**\n   * The request Uri that was actually used for the most recent request attempt.\n   * @private {?goog.Uri}\n   */\n  this.requestUri_ = null;\n\n  /**\n   * The post data, if the request is a post.\n   * @private {?string}\n   */\n  this.postData_ = null;\n\n  /**\n   * An array of pending messages that we have either received a non-successful\n   * response for, or no response at all, and which therefore may or may not\n   * have been received by the server.\n   * @private {!Array<goog.labs.net.webChannel.Wire.QueuedMap>}\n   */\n  this.pendingMessages_ = [];\n\n  /**\n   * The XhrLte request if the request is using XMLHTTP\n   * @private {?goog.net.XhrIo}\n   */\n  this.xmlHttp_ = null;\n\n  /**\n   * The position of where the next unprocessed chunk starts in the response\n   * text.\n   * @private {number}\n   */\n  this.xmlHttpChunkStart_ = 0;\n\n  /**\n   * The verb (Get or Post) for the request.\n   * @private {?string}\n   */\n  this.verb_ = null;\n\n  /**\n   * The last error if the request failed.\n   * @private {?goog.labs.net.webChannel.ChannelRequest.Error}\n   */\n  this.lastError_ = null;\n\n  /**\n   * The last status code received.\n   * @private {number}\n   */\n  this.lastStatusCode_ = -1;\n\n  /**\n   * Whether the request has been cancelled due to a call to cancel.\n   * @private {boolean}\n   */\n  this.cancelled_ = false;\n\n  /**\n   * A throttle time in ms for readystatechange events for the backchannel.\n   * Useful for throttling when ready state is INTERACTIVE (partial data).\n   * If set to zero no throttle is used.\n   *\n   * See WebChannelBase.prototype.readyStateChangeThrottleMs_\n   *\n   * @private {number}\n   */\n  this.readyStateChangeThrottleMs_ = 0;\n\n  /**\n   * The throttle for readystatechange events for the current request, or null\n   * if there is none.\n   * @private {?goog.async.Throttle}\n   */\n  this.readyStateChangeThrottle_ = null;\n\n  /**\n   * Whether to the result is expected to be encoded for chunking and thus\n   * requires decoding.\n   * @private {boolean}\n   */\n  this.decodeChunks_ = false;\n\n  /**\n   * Whether to decode x-http-initial-response.\n   * @private {boolean}\n   */\n  this.decodeInitialResponse_ = false;\n\n  /**\n   * Whether x-http-initial-response has been decoded (dispatched).\n   * @private {boolean}\n   */\n  this.initialResponseDecoded_ = false;\n\n  /**\n   * Whether the first byte of response body has arrived, for a successful\n   * response.\n   * @private {boolean}\n   */\n  this.firstByteReceived_ = false;\n\n  /**\n   * The current state of fetch responses if webchannel is using WHATWG\n   * fetch/streams.\n   * @private {!goog.labs.net.webChannel.FetchResponseState}\n   */\n  this.fetchResponseState_ = new goog.labs.net.webChannel.FetchResponseState();\n};\n\n/**\n * A collection of fetch/stream properties.\n * @struct\n * @constructor\n */\ngoog.labs.net.webChannel.FetchResponseState = function() {\n  'use strict';\n  /**\n   * The TextDecoder for decoding Uint8Array responses from fetch request.\n   * @type {?goog.global.TextDecoder}\n   */\n  this.textDecoder = null;\n\n  /**\n   * The unconsumed response text from the fetch requests.\n   * @type {string}\n   */\n  this.responseBuffer = '';\n\n  /**\n   * Whether or not the response body has arrived.\n   * @type {boolean}\n   */\n  this.responseArrivedForFetch = false;\n};\n\n\ngoog.scope(function() {\n'use strict';\nconst WebChannel = goog.net.WebChannel;\nconst Channel = goog.labs.net.webChannel.Channel;\nconst ChannelRequest = goog.labs.net.webChannel.ChannelRequest;\nconst FetchResponseState = goog.labs.net.webChannel.FetchResponseState;\nconst requestStats = goog.labs.net.webChannel.requestStats;\nconst WebChannelDebug = goog.labs.net.webChannel.WebChannelDebug;\nconst environment = goog.labs.net.webChannel.environment;\n\n/**\n * Default timeout in MS for a request. The server must return data within this\n * time limit for the request to not timeout.\n * @private {number}\n */\nChannelRequest.TIMEOUT_MS_ = 45 * 1000;\n\n\n/**\n * Enum for channel requests type\n * @enum {number}\n * @private\n */\nChannelRequest.Type_ = {\n  /**\n   * XMLHTTP requests.\n   */\n  XML_HTTP: 1,\n\n  /**\n   * IMG requests.\n   */\n  CLOSE_REQUEST: 2\n};\n\n\n/**\n * Enum type for identifying an error.\n * @enum {number}\n */\nChannelRequest.Error = {\n  /**\n   * Errors due to a non-200 status code.\n   */\n  STATUS: 0,\n\n  /**\n   * Errors due to no data being returned.\n   */\n  NO_DATA: 1,\n\n  /**\n   * Errors due to a timeout.\n   */\n  TIMEOUT: 2,\n\n  /**\n   * Errors due to the server returning an unknown.\n   */\n  UNKNOWN_SESSION_ID: 3,\n\n  /**\n   * Errors due to bad data being received.\n   */\n  BAD_DATA: 4,\n\n  /**\n   * Errors due to the handler throwing an exception.\n   */\n  HANDLER_EXCEPTION: 5,\n\n  /**\n   * The browser declared itself offline during the request.\n   */\n  BROWSER_OFFLINE: 6\n};\n\n\n/**\n * Returns a useful error string for debugging based on the specified error\n * code.\n * @param {?ChannelRequest.Error} errorCode The error code.\n * @param {number} statusCode The HTTP status code.\n * @return {string} The error string for the given code combination.\n */\nChannelRequest.errorStringFromCode = function(errorCode, statusCode) {\n  'use strict';\n  switch (errorCode) {\n    case ChannelRequest.Error.STATUS:\n      return 'Non-200 return code (' + statusCode + ')';\n    case ChannelRequest.Error.NO_DATA:\n      return 'XMLHTTP failure (no data)';\n    case ChannelRequest.Error.TIMEOUT:\n      return 'HttpConnection timeout';\n    default:\n      return 'Unknown error';\n  }\n};\n\n\n/**\n * Sentinel value used to indicate an invalid chunk in a multi-chunk response.\n * @private {!Object}\n */\nChannelRequest.INVALID_CHUNK_ = {};\n\n\n/**\n * Sentinel value used to indicate an incomplete chunk in a multi-chunk\n * response.\n * @private {!Object}\n */\nChannelRequest.INCOMPLETE_CHUNK_ = {};\n\n\n/**\n * Returns whether XHR streaming is supported on this browser.\n *\n * @return {boolean} Whether XHR streaming is supported.\n * @see http://code.google.com/p/closure-library/issues/detail?id=346\n */\nChannelRequest.supportsXhrStreaming = function() {\n  'use strict';\n  return !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(10);\n};\n\n\n/**\n * Sets extra HTTP headers to add to all the requests sent to the server.\n *\n * @param {Object} extraHeaders The HTTP headers.\n */\nChannelRequest.prototype.setExtraHeaders = function(extraHeaders) {\n  'use strict';\n  this.extraHeaders_ = extraHeaders;\n};\n\n\n/**\n * Overrides the default HTTP method.\n *\n * @param {string} verb The HTTP method\n */\nChannelRequest.prototype.setVerb = function(verb) {\n  'use strict';\n  this.verb_ = verb;\n};\n\n\n/**\n * Sets the timeout for a request\n *\n * @param {number} timeout   The timeout in MS for when we fail the request.\n */\nChannelRequest.prototype.setTimeout = function(timeout) {\n  'use strict';\n  this.timeout_ = timeout;\n};\n\n\n/**\n * Sets the throttle for handling onreadystatechange events for the request.\n *\n * @param {number} throttle The throttle in ms.  A value of zero indicates\n *     no throttle.\n */\nChannelRequest.prototype.setReadyStateChangeThrottle = function(throttle) {\n  'use strict';\n  this.readyStateChangeThrottleMs_ = throttle;\n};\n\n\n/**\n * Sets the pending messages that this request is handling.\n *\n * @param {!Array<goog.labs.net.webChannel.Wire.QueuedMap>} pendingMessages\n *     The pending messages for this request.\n */\nChannelRequest.prototype.setPendingMessages = function(pendingMessages) {\n  'use strict';\n  this.pendingMessages_ = pendingMessages;\n};\n\n\n/**\n * Gets the pending messages that this request is handling, in case of a retry.\n *\n * @return {!Array<goog.labs.net.webChannel.Wire.QueuedMap>} The pending\n *     messages for this request.\n */\nChannelRequest.prototype.getPendingMessages = function() {\n  'use strict';\n  return this.pendingMessages_;\n};\n\n\n/**\n * Uses XMLHTTP to send an HTTP POST to the server.\n *\n * @param {goog.Uri} uri  The uri of the request.\n * @param {?string} postData  The data for the post body.\n * @param {boolean} decodeChunks  Whether to the result is expected to be\n *     encoded for chunking and thus requires decoding.\n */\nChannelRequest.prototype.xmlHttpPost = function(uri, postData, decodeChunks) {\n  'use strict';\n  this.type_ = ChannelRequest.Type_.XML_HTTP;\n  this.baseUri_ = uri.clone().makeUnique();\n  this.postData_ = postData;\n  this.decodeChunks_ = decodeChunks;\n  this.sendXmlHttp_(null /* hostPrefix */);\n};\n\n\n/**\n * Uses XMLHTTP to send an HTTP GET to the server.\n *\n * @param {goog.Uri} uri  The uri of the request.\n * @param {boolean} decodeChunks  Whether to the result is expected to be\n *     encoded for chunking and thus requires decoding.\n * @param {?string} hostPrefix  The host prefix, if we might be using a\n *     secondary domain.  Note that it should also be in the URL, adding this\n *     won't cause it to be added to the URL.\n */\nChannelRequest.prototype.xmlHttpGet = function(uri, decodeChunks, hostPrefix) {\n  'use strict';\n  this.type_ = ChannelRequest.Type_.XML_HTTP;\n  this.baseUri_ = uri.clone().makeUnique();\n  this.postData_ = null;\n  this.decodeChunks_ = decodeChunks;\n\n  this.sendXmlHttp_(hostPrefix);\n};\n\n\n/**\n * Sends a request via XMLHTTP according to the current state of the request\n * object.\n *\n * @param {?string} hostPrefix The host prefix, if we might be using a secondary\n *     domain.\n * @private\n */\nChannelRequest.prototype.sendXmlHttp_ = function(hostPrefix) {\n  'use strict';\n  this.requestStartTime_ = Date.now();\n  this.ensureWatchDogTimer_();\n\n  // clone the base URI to create the request URI. The request uri has the\n  // attempt number as a parameter which helps in debugging.\n  this.requestUri_ = this.baseUri_.clone();\n  this.requestUri_.setParameterValues('t', this.retryId_);\n\n  // send the request either as a POST or GET\n  this.xmlHttpChunkStart_ = 0;\n  const useSecondaryDomains = this.channel_.shouldUseSecondaryDomains();\n  this.fetchResponseState_ = new FetchResponseState();\n  // If the request is a GET request, start a backchannel to transfer streaming\n  // data. Note that WebChannel GET request can also be used for closing the\n  // channel as in method ChannelRequest#sendCloseRequest.\n  // The second parameter of Channel#createXhrIo is JS only.\n  this.xmlHttp_ = this.channel_.createXhrIo(\n      useSecondaryDomains ? hostPrefix : null, !this.postData_);\n\n  if (this.readyStateChangeThrottleMs_ > 0) {\n    this.readyStateChangeThrottle_ = new goog.async.Throttle(\n        goog.bind(this.xmlHttpHandler_, this, this.xmlHttp_),\n        this.readyStateChangeThrottleMs_);\n  }\n\n  this.eventHandler_.listen(\n      this.xmlHttp_, goog.net.EventType.READY_STATE_CHANGE,\n      this.readyStateChangeHandler_);\n\n  const headers =\n      this.extraHeaders_ ? goog.object.clone(this.extraHeaders_) : {};\n  if (this.postData_) {\n    if (!this.verb_) {\n      this.verb_ = 'POST';\n    }\n    headers['Content-Type'] = 'application/x-www-form-urlencoded';\n    this.xmlHttp_.send(this.requestUri_, this.verb_, this.postData_, headers);\n  } else {\n    this.verb_ = 'GET';\n    this.xmlHttp_.send(this.requestUri_, this.verb_, null, headers);\n  }\n  requestStats.notifyServerReachabilityEvent(\n      requestStats.ServerReachability.REQUEST_MADE);\n  this.channelDebug_.xmlHttpChannelRequest(\n      this.verb_, this.requestUri_, this.rid_, this.retryId_, this.postData_);\n};\n\n\n/**\n * Handles a readystatechange event.\n * @param {goog.events.Event} evt The event.\n * @private\n */\nChannelRequest.prototype.readyStateChangeHandler_ = function(evt) {\n  'use strict';\n  const xhr = /** @type {goog.net.XhrIo} */ (evt.target);\n  const throttle = this.readyStateChangeThrottle_;\n  if (throttle &&\n      xhr.getReadyState() == goog.net.XmlHttp.ReadyState.INTERACTIVE) {\n    // Only throttle in the partial data case.\n    this.channelDebug_.debug('Throttling readystatechange.');\n    throttle.fire();\n  } else {\n    // If we haven't throttled, just handle response directly.\n    this.xmlHttpHandler_(xhr);\n  }\n};\n\n\n/**\n * XmlHttp handler\n * @param {goog.net.XhrIo} xmlhttp The XhrIo object for the current request.\n * @private\n */\nChannelRequest.prototype.xmlHttpHandler_ = function(xmlhttp) {\n  'use strict';\n  requestStats.onStartExecution();\n\n  try {\n    if (xmlhttp == this.xmlHttp_) {\n      this.onXmlHttpReadyStateChanged_();\n    } else {\n      this.channelDebug_.warning(\n          'Called back with an ' +\n          'unexpected xmlhttp');\n    }\n  } catch (ex) {\n    this.channelDebug_.debug('Failed call to OnXmlHttpReadyStateChanged_');\n    if (this.hasResponseBody_()) {\n      const channelRequest = this;\n      this.channelDebug_.dumpException(ex, function() {\n        'use strict';\n        return 'ResponseText: ' + channelRequest.xmlHttp_.getResponseText();\n      });\n    } else {\n      this.channelDebug_.dumpException(ex, 'No response text');\n    }\n  } finally {\n    requestStats.onEndExecution();\n  }\n};\n\n\n/**\n * Called by the readystate handler for XMLHTTP requests.\n *\n * @private\n */\nChannelRequest.prototype.onXmlHttpReadyStateChanged_ = function() {\n  'use strict';\n  const readyState = this.xmlHttp_.getReadyState();\n  const errorCode = this.xmlHttp_.getLastErrorCode();\n  const statusCode = this.xmlHttp_.getStatus();\n\n  // we get partial results in browsers that support ready state interactive.\n  // We also make sure that getResponseText is not null in interactive mode\n  // before we continue.\n  if (readyState < goog.net.XmlHttp.ReadyState.INTERACTIVE ||\n      (readyState == goog.net.XmlHttp.ReadyState.INTERACTIVE &&\n       !environment.isPollingRequired() &&  // otherwise, go on to startPolling\n       !this.hasResponseBody_())) {\n    return;  // not yet ready\n  }\n\n  // Dispatch any appropriate network events.\n  if (!this.cancelled_ && readyState == goog.net.XmlHttp.ReadyState.COMPLETE &&\n      errorCode != goog.net.ErrorCode.ABORT) {\n    // Pretty conservative, these are the only known scenarios which we'd\n    // consider indicative of a truly non-functional network connection.\n    if (errorCode == goog.net.ErrorCode.TIMEOUT || statusCode <= 0) {\n      requestStats.notifyServerReachabilityEvent(\n          requestStats.ServerReachability.REQUEST_FAILED);\n    } else {\n      requestStats.notifyServerReachabilityEvent(\n          requestStats.ServerReachability.REQUEST_SUCCEEDED);\n    }\n  }\n\n  // got some data so cancel the watchdog timer\n  this.cancelWatchDogTimer_();\n\n  const status = this.xmlHttp_.getStatus();\n  this.lastStatusCode_ = status;\n  const responseText = this.decodeXmlHttpResponse_();\n\n  if (!this.hasResponseBody_()) {\n    const channelRequest = this;\n    this.channelDebug_.debug(function() {\n      'use strict';\n      return 'No response text for uri ' + channelRequest.requestUri_ +\n          ' status ' + status;\n    });\n  }\n  this.successful_ = (status == 200);\n\n  this.channelDebug_.xmlHttpChannelResponseMetaData(\n      /** @type {string} */ (this.verb_), this.requestUri_, this.rid_,\n      this.retryId_, readyState, status);\n\n  if (!this.successful_) {\n    if (status == 400 && responseText.indexOf('Unknown SID') > 0) {\n      // the server error string will include 'Unknown SID' which indicates the\n      // server doesn't know about the session (maybe it got restarted, maybe\n      // the user got moved to another server, etc.,). Handlers can special\n      // case this error\n      this.lastError_ = ChannelRequest.Error.UNKNOWN_SESSION_ID;\n      requestStats.notifyStatEvent(\n          requestStats.Stat.REQUEST_UNKNOWN_SESSION_ID);\n      this.channelDebug_.warning('XMLHTTP Unknown SID (' + this.rid_ + ')');\n    } else {\n      this.lastError_ = ChannelRequest.Error.STATUS;\n      requestStats.notifyStatEvent(requestStats.Stat.REQUEST_BAD_STATUS);\n      this.channelDebug_.warning(\n          'XMLHTTP Bad status ' + status + ' (' + this.rid_ + ')');\n    }\n    this.cleanup_();\n    this.dispatchFailure_();\n    return;\n  }\n\n  if (this.shouldCheckInitialResponse_()) {\n    const initialResponse = this.getInitialResponse_();\n    if (initialResponse) {\n      this.channelDebug_.xmlHttpChannelResponseText(\n          this.rid_, initialResponse,\n          'Initial handshake response via ' +\n              WebChannel.X_HTTP_INITIAL_RESPONSE);\n      this.initialResponseDecoded_ = true;\n      this.safeOnRequestData_(initialResponse);\n    } else {\n      this.successful_ = false;\n      this.lastError_ = ChannelRequest.Error.UNKNOWN_SESSION_ID;  // fail-fast\n      requestStats.notifyStatEvent(\n          requestStats.Stat.REQUEST_UNKNOWN_SESSION_ID);\n      this.channelDebug_.warning(\n          'XMLHTTP Missing X_HTTP_INITIAL_RESPONSE' +\n          ' (' + this.rid_ + ')');\n      this.cleanup_();\n      this.dispatchFailure_();\n      return;\n    }\n  }\n\n  if (this.decodeChunks_) {\n    this.decodeNextChunks_(readyState, responseText);\n    if (environment.isPollingRequired() && this.successful_ &&\n        readyState == goog.net.XmlHttp.ReadyState.INTERACTIVE) {\n      this.startPolling_();\n    }\n  } else {\n    this.channelDebug_.xmlHttpChannelResponseText(\n        this.rid_, responseText, null);\n    this.safeOnRequestData_(responseText);\n  }\n\n  if (readyState == goog.net.XmlHttp.ReadyState.COMPLETE) {\n    this.cleanup_();\n  }\n\n  if (!this.successful_) {\n    return;\n  }\n\n  if (!this.cancelled_) {\n    if (readyState == goog.net.XmlHttp.ReadyState.COMPLETE) {\n      this.channel_.onRequestComplete(this);\n    } else {\n      // The default is false, the result from this callback shouldn't carry\n      // over to the next callback, otherwise the request looks successful if\n      // the watchdog timer gets called\n      this.successful_ = false;\n      this.ensureWatchDogTimer_();\n    }\n  }\n};\n\n\n/**\n * Whether we need check the initial-response header that is sent during the\n * fast handshake.\n *\n * @return {boolean} true if the initial-response header is yet to be processed.\n * @private\n */\nChannelRequest.prototype.shouldCheckInitialResponse_ = function() {\n  'use strict';\n  return this.decodeInitialResponse_ && !this.initialResponseDecoded_;\n};\n\n\n/**\n * Queries the initial response header that is sent during the handshake.\n *\n * @return {?string} The non-empty header value or null.\n * @private\n */\nChannelRequest.prototype.getInitialResponse_ = function() {\n  'use strict';\n  if (this.xmlHttp_) {\n    const value = this.xmlHttp_.getStreamingResponseHeader(\n        WebChannel.X_HTTP_INITIAL_RESPONSE);\n    if (value && !goog.string.isEmptyOrWhitespace(value)) {\n      return value;\n    }\n  }\n\n  return null;\n};\n\n\n/**\n * Check if the initial response header has been handled.\n *\n * @return {boolean} true if X_HTTP_INITIAL_RESPONSE has been handled.\n */\nChannelRequest.prototype.isInitialResponseDecoded = function() {\n  'use strict';\n  return this.initialResponseDecoded_;\n};\n\n\n/**\n * Decodes X_HTTP_INITIAL_RESPONSE if present.\n */\nChannelRequest.prototype.setDecodeInitialResponse = function() {\n  'use strict';\n  this.decodeInitialResponse_ = true;\n};\n\n\n\n/**\n * Decodes the responses from XhrIo object.\n * @returns {string} responseText\n * @private\n */\nChannelRequest.prototype.decodeXmlHttpResponse_ = function() {\n  'use strict';\n  if (!this.useFetchStreamsForResponse_()) {\n    return this.xmlHttp_.getResponseText();\n  }\n  const responseChunks =\n      /** @type {!Array<!Uint8Array>} */ (this.xmlHttp_.getResponse());\n  let responseText = '';\n  const responseLength = responseChunks.length;\n  const requestCompleted =\n      this.xmlHttp_.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;\n  if (!this.fetchResponseState_.textDecoder) {\n    if (typeof TextDecoder === 'undefined') {\n      this.channelDebug_.severe(\n          'TextDecoder is not supported by this browser.');\n      this.cleanup_();\n      this.dispatchFailure_();\n      return '';\n    }\n    this.fetchResponseState_.textDecoder = new goog.global.TextDecoder();\n  }\n  for (let i = 0; i < responseLength; i++) {\n    this.fetchResponseState_.responseArrivedForFetch = true;\n    const isLastChunk = requestCompleted && i == responseLength - 1;\n    responseText += this.fetchResponseState_.textDecoder.decode(\n        responseChunks[i], {stream: isLastChunk});\n  }\n  responseChunks.splice(0, responseLength);\n  this.fetchResponseState_.responseBuffer += responseText;\n  this.xmlHttpChunkStart_ = 0;\n  return this.fetchResponseState_.responseBuffer;\n};\n\n\n/**\n * Whether or not the response has response body.\n * @private\n * @returns {boolean}\n */\nChannelRequest.prototype.hasResponseBody_ = function() {\n  'use strict';\n  if (!this.xmlHttp_) {\n    return false;\n  }\n  if (this.fetchResponseState_.responseArrivedForFetch) {\n    return true;\n  }\n  return !(!this.xmlHttp_.getResponseText() && !this.xmlHttp_.getResponse());\n};\n\n/**\n * Whether or not the response body is streamed.\n * @private\n * @returns {boolean}\n */\nChannelRequest.prototype.useFetchStreamsForResponse_ = function() {\n  'use strict';\n  if (!this.xmlHttp_) {\n    return false;\n  }\n  return (\n      this.verb_ == 'GET' && this.type_ != ChannelRequest.Type_.CLOSE_REQUEST &&\n      this.channel_.usesFetchStreams());\n};\n\n\n/**\n * Resets the response buffer if the saved chunk has been processed.\n * @private\n * @param {string|!Object|undefined} chunkText\n */\nChannelRequest.prototype.maybeResetBuffer_ = function(chunkText) {\n  'use strict';\n  if (this.useFetchStreamsForResponse_() &&\n      chunkText != ChannelRequest.INCOMPLETE_CHUNK_ &&\n      chunkText != ChannelRequest.INVALID_CHUNK_) {\n    this.fetchResponseState_.responseBuffer = '';\n    this.xmlHttpChunkStart_ = 0;\n  }\n};\n\n\n/**\n * Decodes the next set of available chunks in the response.\n * @param {number} readyState The value of readyState.\n * @param {string} responseText The value of responseText.\n * @private\n */\nChannelRequest.prototype.decodeNextChunks_ = function(\n    readyState, responseText) {\n  'use strict';\n  let decodeNextChunksSuccessful = true;\n\n  let chunkText;\n  while (!this.cancelled_ && this.xmlHttpChunkStart_ < responseText.length) {\n    chunkText = this.getNextChunk_(responseText);\n    if (chunkText == ChannelRequest.INCOMPLETE_CHUNK_) {\n      if (readyState == goog.net.XmlHttp.ReadyState.COMPLETE) {\n        // should have consumed entire response when the request is done\n        this.lastError_ = ChannelRequest.Error.BAD_DATA;\n        requestStats.notifyStatEvent(requestStats.Stat.REQUEST_INCOMPLETE_DATA);\n        decodeNextChunksSuccessful = false;\n      }\n      this.channelDebug_.xmlHttpChannelResponseText(\n          this.rid_, null, '[Incomplete Response]');\n      break;\n    } else if (chunkText == ChannelRequest.INVALID_CHUNK_) {\n      this.lastError_ = ChannelRequest.Error.BAD_DATA;\n      requestStats.notifyStatEvent(requestStats.Stat.REQUEST_BAD_DATA);\n      this.channelDebug_.xmlHttpChannelResponseText(\n          this.rid_, responseText, '[Invalid Chunk]');\n      decodeNextChunksSuccessful = false;\n      break;\n    } else {\n      this.channelDebug_.xmlHttpChannelResponseText(\n          this.rid_, /** @type {string} */ (chunkText), null);\n      this.safeOnRequestData_(/** @type {string} */ (chunkText));\n    }\n  }\n\n  this.maybeResetBuffer_(chunkText);\n\n  if (readyState == goog.net.XmlHttp.ReadyState.COMPLETE &&\n      responseText.length == 0 &&\n      !this.fetchResponseState_.responseArrivedForFetch) {\n    // also an error if we didn't get any response\n    this.lastError_ = ChannelRequest.Error.NO_DATA;\n    requestStats.notifyStatEvent(requestStats.Stat.REQUEST_NO_DATA);\n    decodeNextChunksSuccessful = false;\n  }\n\n  this.successful_ = this.successful_ && decodeNextChunksSuccessful;\n\n  if (!decodeNextChunksSuccessful) {\n    // malformed response - we make this trigger retry logic\n    this.channelDebug_.xmlHttpChannelResponseText(\n        this.rid_, responseText, '[Invalid Chunked Response]');\n    this.cleanup_();\n    this.dispatchFailure_();\n  } else {\n    if (responseText.length > 0 && !this.firstByteReceived_) {\n      this.firstByteReceived_ = true;\n      this.channel_.onFirstByteReceived(this, responseText);\n    }\n  }\n};\n\n\n/**\n * Polls the response for new data.\n * @private\n */\nChannelRequest.prototype.pollResponse_ = function() {\n  'use strict';\n  if (!this.xmlHttp_) {\n    return;  // already closed\n  }\n  const readyState = this.xmlHttp_.getReadyState();\n  const responseText = this.xmlHttp_.getResponseText();\n  if (this.xmlHttpChunkStart_ < responseText.length) {\n    this.cancelWatchDogTimer_();\n    this.decodeNextChunks_(readyState, responseText);\n    if (this.successful_ &&\n        readyState != goog.net.XmlHttp.ReadyState.COMPLETE) {\n      this.ensureWatchDogTimer_();\n    }\n  }\n};\n\n\n/**\n * Starts a polling interval for changes to responseText of the\n * XMLHttpRequest, for browsers that don't fire onreadystatechange\n * as data comes in incrementally.  This timer is disabled in\n * cleanup_().\n * @private\n */\nChannelRequest.prototype.startPolling_ = function() {\n  'use strict';\n  this.eventHandler_.listen(\n      this.pollingTimer_, goog.Timer.TICK, this.pollResponse_);\n  this.pollingTimer_.start();\n};\n\n\n/**\n * Returns the next chunk of a chunk-encoded response. This is not standard\n * HTTP chunked encoding because browsers don't expose the chunk boundaries to\n * the application through XMLHTTP. So we have an additional chunk encoding at\n * the application level that lets us tell where the beginning and end of\n * individual responses are so that we can only try to eval a complete JS array.\n *\n * The encoding is the size of the chunk encoded as a decimal string followed\n * by a newline followed by the data.\n *\n * @param {string} responseText The response text from the XMLHTTP response.\n * @return {string|!Object} The next chunk string or a sentinel object\n *                         indicating a special condition.\n * @private\n */\nChannelRequest.prototype.getNextChunk_ = function(responseText) {\n  'use strict';\n  const sizeStartIndex = this.xmlHttpChunkStart_;\n  const sizeEndIndex = responseText.indexOf('\\n', sizeStartIndex);\n  if (sizeEndIndex == -1) {\n    return ChannelRequest.INCOMPLETE_CHUNK_;\n  }\n\n  const sizeAsString = responseText.substring(sizeStartIndex, sizeEndIndex);\n  const size = Number(sizeAsString);\n  if (isNaN(size)) {\n    return ChannelRequest.INVALID_CHUNK_;\n  }\n\n  const chunkStartIndex = sizeEndIndex + 1;\n  if (chunkStartIndex + size > responseText.length) {\n    return ChannelRequest.INCOMPLETE_CHUNK_;\n  }\n\n  const chunkText = responseText.substr(chunkStartIndex, size);\n  this.xmlHttpChunkStart_ = chunkStartIndex + size;\n  return chunkText;\n};\n\n\n/**\n * Uses an IMG tag or navigator.sendBeacon to send an HTTP get to the server.\n *\n * This is only currently used to terminate the connection, as an IMG tag is\n * the most reliable way to send something to the server while the page\n * is getting torn down.\n *\n * Navigator.sendBeacon is available on Chrome and Firefox as a formal\n * solution to ensure delivery without blocking window close. See\n * https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\n *\n * For Chrome Apps, sendBeacon is always necessary due to Content Security\n * Policy (CSP) violation of using an IMG tag.\n *\n * For react-native, we use xhr to send the actual close request, and assume\n * there is no page-close issue with react-native.\n *\n * @param {goog.Uri} uri The uri to send a request to.\n */\nChannelRequest.prototype.sendCloseRequest = function(uri) {\n  'use strict';\n  this.type_ = ChannelRequest.Type_.CLOSE_REQUEST;\n  this.baseUri_ = uri.clone().makeUnique();\n\n  let requestSent = false;\n\n  if (goog.global.navigator && goog.global.navigator.sendBeacon) {\n    // empty string body to avoid 413 error on chrome < 41\n    requestSent =\n        goog.global.navigator.sendBeacon(this.baseUri_.toString(), '');\n  }\n\n  if (!requestSent && goog.global.Image) {\n    const eltImg = new Image();\n    eltImg.src = this.baseUri_;\n    requestSent = true;\n  }\n\n  if (!requestSent) {\n    // no handler is set to match the sendBeacon/Image behavior\n    this.xmlHttp_ = this.channel_.createXhrIo(null);\n    this.xmlHttp_.send(this.baseUri_);\n  }\n\n  this.requestStartTime_ = Date.now();\n  this.ensureWatchDogTimer_();\n};\n\n\n/**\n * Cancels the request no matter what the underlying transport is.\n */\nChannelRequest.prototype.cancel = function() {\n  'use strict';\n  this.cancelled_ = true;\n  this.cleanup_();\n};\n\n\n/**\n * Resets the timeout.\n *\n * @param {number=} opt_timeout The new timeout\n */\nChannelRequest.prototype.resetTimeout = function(opt_timeout) {\n  'use strict';\n  if (opt_timeout) {\n    this.setTimeout(opt_timeout);\n  }\n  // restart only if a timer is currently set\n  if (this.watchDogTimerId_) {\n    this.cancelWatchDogTimer_();\n    this.ensureWatchDogTimer_();\n  }\n};\n\n\n/**\n * Ensures that there is watchdog timeout which is used to ensure that\n * the connection completes in time.\n *\n * @private\n */\nChannelRequest.prototype.ensureWatchDogTimer_ = function() {\n  'use strict';\n  this.watchDogTimeoutTime_ = Date.now() + this.timeout_;\n  this.startWatchDogTimer_(this.timeout_);\n};\n\n\n/**\n * Starts the watchdog timer which is used to ensure that the connection\n * completes in time.\n * @param {number} time The number of milliseconds to wait.\n * @private\n */\nChannelRequest.prototype.startWatchDogTimer_ = function(time) {\n  'use strict';\n  if (this.watchDogTimerId_ != null) {\n    // assertion\n    throw new Error('WatchDog timer not null');\n  }\n  this.watchDogTimerId_ =\n      requestStats.setTimeout(goog.bind(this.onWatchDogTimeout_, this), time);\n};\n\n\n/**\n * Cancels the watchdog timer if it has been started.\n *\n * @private\n */\nChannelRequest.prototype.cancelWatchDogTimer_ = function() {\n  'use strict';\n  if (this.watchDogTimerId_) {\n    goog.global.clearTimeout(this.watchDogTimerId_);\n    this.watchDogTimerId_ = null;\n  }\n};\n\n\n/**\n * Called when the watchdog timer is triggered. It also handles a case where it\n * is called too early which we suspect may be happening sometimes\n * (not sure why)\n *\n * @private\n */\nChannelRequest.prototype.onWatchDogTimeout_ = function() {\n  'use strict';\n  this.watchDogTimerId_ = null;\n  const now = Date.now();\n  goog.asserts.assert(\n      this.watchDogTimeoutTime_, 'WatchDog timeout time missing?');\n  if (now - this.watchDogTimeoutTime_ >= 0) {\n    this.handleTimeout_();\n  } else {\n    // got called too early for some reason\n    this.channelDebug_.warning('WatchDog timer called too early');\n    this.startWatchDogTimer_(this.watchDogTimeoutTime_ - now);\n  }\n};\n\n\n/**\n * Called when the request has actually timed out. Will cleanup and notify the\n * channel of the failure.\n *\n * @private\n */\nChannelRequest.prototype.handleTimeout_ = function() {\n  'use strict';\n  if (this.successful_) {\n    // Should never happen.\n    this.channelDebug_.severe(\n        'Received watchdog timeout even though request loaded successfully');\n  }\n\n  this.channelDebug_.timeoutResponse(this.requestUri_);\n\n  // IMG or SendBeacon requests never notice if they were successful,\n  // and always 'time out'. This fact says nothing about reachability.\n  if (this.type_ != ChannelRequest.Type_.CLOSE_REQUEST) {\n    requestStats.notifyServerReachabilityEvent(\n        requestStats.ServerReachability.REQUEST_FAILED);\n    requestStats.notifyStatEvent(requestStats.Stat.REQUEST_TIMEOUT);\n  }\n\n  this.cleanup_();\n\n  // Set error and dispatch failure.\n  // This is called for CLOSE_REQUEST too to ensure channel_.onRequestComplete.\n  this.lastError_ = ChannelRequest.Error.TIMEOUT;\n  this.dispatchFailure_();\n};\n\n\n/**\n * Notifies the channel that this request failed.\n * @private\n */\nChannelRequest.prototype.dispatchFailure_ = function() {\n  'use strict';\n  if (this.channel_.isClosed() || this.cancelled_) {\n    return;\n  }\n\n  this.channel_.onRequestComplete(this);\n};\n\n\n/**\n * Cleans up the objects used to make the request. This function is\n * idempotent.\n *\n * @private\n */\nChannelRequest.prototype.cleanup_ = function() {\n  'use strict';\n  this.cancelWatchDogTimer_();\n\n  goog.dispose(this.readyStateChangeThrottle_);\n  this.readyStateChangeThrottle_ = null;\n\n  // Stop the polling timer, if necessary.\n  this.pollingTimer_.stop();\n\n  // Unhook all event handlers.\n  this.eventHandler_.removeAll();\n\n  if (this.xmlHttp_) {\n    // clear out this.xmlHttp_ before aborting so we handle getting reentered\n    // inside abort\n    const xmlhttp = this.xmlHttp_;\n    this.xmlHttp_ = null;\n    xmlhttp.abort();\n    xmlhttp.dispose();\n  }\n};\n\n\n/**\n * Indicates whether the request was successful. Only valid after the handler\n * is called to indicate completion of the request.\n *\n * @return {boolean} True if the request succeeded.\n */\nChannelRequest.prototype.getSuccess = function() {\n  'use strict';\n  return this.successful_;\n};\n\n\n/**\n * If the request was not successful, returns the reason.\n *\n * @return {?ChannelRequest.Error}  The last error.\n */\nChannelRequest.prototype.getLastError = function() {\n  'use strict';\n  return this.lastError_;\n};\n\n\n/**\n * Returns the status code of the last request.\n * @return {number} The status code of the last request.\n */\nChannelRequest.prototype.getLastStatusCode = function() {\n  'use strict';\n  return this.lastStatusCode_;\n};\n\n\n/**\n * Returns the session id for this channel.\n *\n * @return {string|undefined} The session ID.\n */\nChannelRequest.prototype.getSessionId = function() {\n  'use strict';\n  return this.sid_;\n};\n\n\n/**\n * Returns the request id for this request. Each request has a unique request\n * id and the request IDs are a sequential increasing count.\n *\n * @return {string|number|undefined} The request ID.\n */\nChannelRequest.prototype.getRequestId = function() {\n  'use strict';\n  return this.rid_;\n};\n\n\n/**\n * Returns the data for a post, if this request is a post.\n *\n * @return {?string} The POST data provided by the request initiator.\n */\nChannelRequest.prototype.getPostData = function() {\n  'use strict';\n  return this.postData_;\n};\n\n\n/**\n * Returns the XhrIo request object.\n *\n * @return {?goog.net.XhrIo} Any XhrIo request created for this object.\n */\nChannelRequest.prototype.getXhr = function() {\n  'use strict';\n  return this.xmlHttp_;\n};\n\n\n/**\n * Returns the time that the request started, if it has started.\n *\n * @return {?number} The time the request started, as returned by Date.now().\n */\nChannelRequest.prototype.getRequestStartTime = function() {\n  'use strict';\n  return this.requestStartTime_;\n};\n\n\n/**\n * Helper to call the callback's onRequestData, which catches any\n * exception.\n * @param {string} data The request data.\n * @private\n */\nChannelRequest.prototype.safeOnRequestData_ = function(data) {\n  'use strict';\n  try {\n    this.channel_.onRequestData(this, data);\n    const stats = requestStats.ServerReachability;\n    requestStats.notifyServerReachabilityEvent(stats.BACK_CHANNEL_ACTIVITY);\n  } catch (e) {\n    // Dump debug info, but keep going without closing the channel.\n    this.channelDebug_.dumpException(e, 'Error in httprequest callback');\n  }\n};\n\n\n/**\n * Convenience factory method.\n *\n * @param {Channel} channel The channel object that owns this request.\n * @param {WebChannelDebug} channelDebug A WebChannelDebug to use for logging.\n * @param {string=} opt_sessionId  The session id for the channel.\n * @param {string|number=} opt_requestId  The request id for this request.\n * @param {number=} opt_retryId  The retry id for this request.\n * @return {!ChannelRequest} The created channel request.\n */\nChannelRequest.createChannelRequest = function(\n    channel, channelDebug, opt_sessionId, opt_requestId, opt_retryId) {\n  'use strict';\n  return new ChannelRequest(\n      channel, channelDebug, opt_sessionId, opt_requestId, opt_retryId);\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A single module to define user-agent specific environment\n * details.\n *\n */\n\ngoog.module('goog.labs.net.webChannel.environment');\n\ngoog.module.declareLegacyNamespace();\n\nvar userAgent = goog.require('goog.userAgent');\n\n\n/**\n * The default polling interval in millis for Edge.\n *\n * Currently on edge, new-chunk events may be not be fired (at all) if a new\n * chunk arrives within 50ms following the previous chunk. This may be fixed\n * in future, which requires changes to the whatwg spec too.\n *\n * @private @const {number}\n */\nvar EDGE_POLLING_INTERVAL_ = 125;\n\n\n/**\n * History:\n *\n * IE11 is still using Trident, the traditional engine for IE.\n * Edge is using EdgeHTML, a fork of Trident. We are seeing the same issue\n * on IE-11 (reported in 2017), so treat IE the same as Edge for now.\n *\n * We used to do polling for Opera (only) with an 250ms interval, because Opera\n * only fires readyState == INTERACTIVE once. Opera switched to WebKit in 2013,\n * and then to Blink (chrome).\n *\n * TODO(user): check the raw UA string to keep polling for old, mobile operas\n * that may still be affected. For old Opera, double the polling interval\n * to 250ms.\n *\n * @return {boolean} True if polling is required with XHR.\n */\nexports.isPollingRequired = function() {\n  return userAgent.EDGE_OR_IE;\n};\n\n\n/**\n * How often to poll (in MS) for changes to responseText in browsers that don't\n * fire onreadystatechange during incremental loading of the response body.\n *\n * @return {number|undefined} The polling interval (MS) for the current U-A;\n * or undefined if polling is not supposed to be enabled.\n */\nexports.getPollingInterval = function() {\n  if (userAgent.EDGE_OR_IE) {\n    return EDGE_POLLING_INTERVAL_;\n  }\n\n  return undefined;\n};\n\n/**\n * Origin trial token for google.com\n *\n * https://developers.chrome.com/origintrials/#/trials\n *\n * http://googlechrome.github.io/OriginTrials/check-token.html\n * Origin: https://google.com:443\n * Matches Subdomains? Yes\n * Matches Third-party? Yes\n * Feature: FetchUploadStreaming\n * Up to Chrome 95 (ends with the rollout of next Chrome release), no later\n * than Nov 9, 2021\n *\n * Token for googleapis.com will be registered after google.com's is deployed.\n *\n */\nconst OT_TOKEN_GOOGLE_COM =\n    'A0eNbltY1nd4MP7XTHXnTxWogDL6mWTdgIIKfKOTJoUHNbFFMZQBoiHHjJ9UK9lgYndWFaxOWR7ld8uUjcWmcwIAAAB/eyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IkZldGNoVXBsb2FkU3RyZWFtaW5nIiwiZXhwaXJ5IjoxNjM2NTAyMzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==';\n\n\n/**\n * Creates ReadableStream to upload\n * @return {!ReadableStream} ReadableStream to upload\n */\nfunction createStream() {\n  const encoder = new goog.global.TextEncoder();\n  return new goog.global.ReadableStream({\n    start: controller => {\n      for (const obj of ['test\\r\\n', 'test\\r\\n']) {\n        controller.enqueue(encoder.encode(obj));\n      }\n      controller.close();\n    }\n  });\n}\n\n/**\n * Detect the user agent is chrome and its version is higher than M90.\n * This code is hard-coded from goog.labs.userAgent.browser to avoid file size\n * increasing.\n * @return {boolean} Whether the above is true.\n */\nfunction isChromeM90OrHigher() {\n  const userAgentStr = function() {\n    const navigator = goog.global.navigator;\n    if (navigator) {\n      const userAgent = navigator.userAgent;\n      if (userAgent) {\n        return userAgent;\n      }\n    }\n    return '';\n  }();\n\n  const matchUserAgent = function(str) {\n    return userAgentStr.indexOf(str) != -1;\n  };\n\n  if (!matchUserAgent('Chrome') || matchUserAgent('Edg')) {\n    return false;\n  }\n\n  const match = /Chrome\\/(\\d+)/.exec(userAgentStr);\n  const chromeVersion = parseInt(match[1], 10);\n  return chromeVersion >= 90;\n}\n\n/**\n * Detect the URL origin is *.google.com.\n * @param {string} url The target URL.\n * @return {boolean} Whether the above is true.\n */\nfunction isUrlGoogle(url) {\n  const match = /\\/\\/([^\\/]+)\\//.exec(url);\n  if (!match) {\n    return false;\n  }\n  const origin = match[1];\n  return origin.endsWith('google.com');\n}\n\n/**\n * The flag to run the origin trials code only once.\n */\nlet isStartOriginTrialsCalled = false;\n\n/**\n * For Fetch/upload OT, make three requests against the server endpoint.\n * POST requests contain only dummy payload.\n *\n * https://developers.chrome.com/origintrials/#/view_trial/3524066708417413121\n *\n * This function is expected to be called from background during the handshake.\n * Exceptions will be logged by the caller.\n *\n * No stats or logs are collected on the client-side. To be disabled once the\n * OT is expired.\n *\n * @param {string} path The base URL path for the requests\n * @param {function(*)} logError A function to execute when exceptions are\n *     caught.\n */\nexports.startOriginTrials = function(path, logError) {\n  if (isStartOriginTrialsCalled) {\n    return;\n  }\n  isStartOriginTrialsCalled = true;\n  // NE: may need check if path has already contains query params?\n\n  // Accept only Chrome M90 or later due to service worker support.\n  if (!isChromeM90OrHigher()) {\n    return;\n  }\n\n  // Accept only only google.com and subdoamins.\n  if (!isUrlGoogle(path)) {\n    return;\n  }\n  // Since 3P OT is not supported yet, we should check the current page matches\n  // the path (absolute one?) to disable this OT for cross-origin calls\n  if (!window || !window.document || !isUrlGoogle(window.document.URL)) {\n    return;\n  }\n\n  // Enable origin trial by injecting OT <meta> tag\n  const tokenElement =\n      /** @type {! HTMLMetaElement} */ (document.createElement('meta'));\n  tokenElement.httpEquiv = 'origin-trial';\n  tokenElement.content = OT_TOKEN_GOOGLE_COM;\n  // appendChild() synchronously enables OT.\n  document.head.appendChild(tokenElement);\n\n  // Check if fetch upload stream is actually enabled.\n  // By the spec, Streaming request doesn't has the Content-Type header:\n  // https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n  // If Chrome doesn't support Streaming, the body stream is converted to a\n  // string \"[object ReadableStream]\" for fallback then it has \"Content-Type:\n  // text/plain;charset=UTF-8\".\n  const supportsRequestStreams = !new Request('', {\n                                    body: new ReadableStream(),\n                                    method: 'POST',\n                                  }).headers.has('Content-Type');\n  if (!supportsRequestStreams) {\n    return;\n  }\n\n  // 1st req:  path?ot=1\n  // non-streaming upload request\n  goog.global.fetch(`${path}?ot=1`, {method: 'POST', body: 'test\\r\\n'})\n      .catch(logError);\n\n  // 2nd req:  path?ot=2\n  // h2-only streaming upload request\n  goog.global\n      .fetch(`${path}?ot=2`, {\n        method: 'POST',\n        body: createStream(),\n        allowHTTP1ForStreamingUpload: false,\n      })\n      .catch(logError);\n\n  // 3rd req:  path?ot=3\n  // h1-allowed streaming upload request\n  goog.global\n      .fetch(`${path}?ot=3`, {\n        method: 'POST',\n        body: createStream(),\n        allowHTTP1ForStreamingUpload: true,\n      })\n      .catch(logError);\n\n  // Example calling a Chrome API:\n  // goog.global.chrome.loadTimes().wasFetchedViaSpdy\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Base WebChannel implementation.\n */\n\n\ngoog.provide('goog.labs.net.webChannel.WebChannelBase');\n\ngoog.require('goog.Uri');\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.async.run');\ngoog.require('goog.collections.maps');\ngoog.require('goog.json');\ngoog.require('goog.labs.net.webChannel.Channel');\ngoog.require('goog.labs.net.webChannel.ChannelRequest');\ngoog.require('goog.labs.net.webChannel.ConnectionState');\ngoog.require('goog.labs.net.webChannel.ForwardChannelRequestPool');\ngoog.require('goog.labs.net.webChannel.WebChannelDebug');\ngoog.require('goog.labs.net.webChannel.Wire');\ngoog.require('goog.labs.net.webChannel.WireV8');\ngoog.require('goog.labs.net.webChannel.environment');\ngoog.require('goog.labs.net.webChannel.netUtils');\ngoog.require('goog.labs.net.webChannel.requestStats');\ngoog.require('goog.net.FetchXmlHttpFactory');\ngoog.require('goog.net.WebChannel');\ngoog.require('goog.net.XhrIo');\ngoog.require('goog.net.XmlHttpFactory');\ngoog.require('goog.net.rpc.HttpCors');\ngoog.require('goog.object');\ngoog.require('goog.string');\ngoog.require('goog.structs');\n\ngoog.scope(function() {\n'use strict';\nconst WebChannel = goog.net.WebChannel;\nconst ChannelRequest = goog.labs.net.webChannel.ChannelRequest;\nconst ConnectionState = goog.labs.net.webChannel.ConnectionState;\nconst ForwardChannelRequestPool =\n    goog.labs.net.webChannel.ForwardChannelRequestPool;\nconst WebChannelDebug = goog.labs.net.webChannel.WebChannelDebug;\nconst Wire = goog.labs.net.webChannel.Wire;\nconst WireV8 = goog.labs.net.webChannel.WireV8;\nconst environment = goog.labs.net.webChannel.environment;\nconst netUtils = goog.labs.net.webChannel.netUtils;\nconst requestStats = goog.labs.net.webChannel.requestStats;\n\nconst httpCors = goog.module.get('goog.net.rpc.HttpCors');\n\n/**\n * @define {boolean} If WebChannel should compile with Origin Trial features.\n */\nconst ALLOW_ORIGIN_TRIAL_FEATURES =\n    goog.define('goog.net.webChannel.ALLOW_ORIGIN_TRIAL_FEATURES', true);\n\n/**\n * Gets an internal channel parameter in a type-safe way.\n *\n * @param {string} paramName the key of the parameter to fetch.\n * @param {!T} defaultValue the default value to return\n * @param {!goog.net.WebChannel.Options=} options Configuration for the\n *        WebChannel instance.\n * @return {T}\n * @template T\n */\nfunction getInternalChannelParam(paramName, defaultValue, options) {\n  if (!options || !options.internalChannelParams) {\n    return defaultValue;\n  }\n  return /** @type {T} */ (options.internalChannelParams[paramName]) ||\n      defaultValue;\n}\n\n/**\n * This WebChannel implementation is branched off goog.net.BrowserChannel\n * for now. Ongoing changes to goog.net.BrowserChannel will be back\n * ported to this implementation as needed.\n *\n * @param {!goog.net.WebChannel.Options=} opt_options Configuration for the\n *        WebChannel instance.\n * @param {number=} opt_clientVersion An application-specific version number\n *        that is sent to the server when connected.\n * @param {!ConnectionState=} opt_conn Previously determined connection\n *        conditions.\n * @constructor\n * @struct\n * @implements {goog.labs.net.webChannel.Channel}\n */\ngoog.labs.net.webChannel.WebChannelBase = function(\n    opt_options, opt_clientVersion, opt_conn) {\n  'use strict';\n  /**\n   * The client library version (capabilities).\n   * @private {number}\n   */\n  this.clientVersion_ = opt_clientVersion || 0;\n\n  /**\n   * The server library version (capabilities).\n   * @private {number}\n   */\n  this.serverVersion_ = 0;\n\n\n  /**\n   * An array of queued maps that need to be sent to the server.\n   * @private {!Array<Wire.QueuedMap>}\n   */\n  this.outgoingMaps_ = [];\n\n  /**\n   * The channel debug used for logging\n   * @private {!WebChannelDebug}\n   */\n  this.channelDebug_ = new WebChannelDebug();\n\n  /**\n   * Connectivity state.\n   * @private {!ConnectionState}\n   */\n  this.connState_ = opt_conn || new ConnectionState();\n\n  /**\n   * Extra HTTP headers to add to all the requests sent to the server.\n   * @private {?Object}\n   */\n  this.extraHeaders_ = null;\n\n  /**\n   * Extra HTTP headers to add to the init request(s) sent to the server.\n   * @private {?Object}\n   */\n  this.initHeaders_ = null;\n\n  /**\n   * @private {?string} The URL param name to overwrite custom HTTP headers\n   * to bypass CORS preflight.\n   */\n  this.httpHeadersOverwriteParam_ = null;\n\n  /**\n   * Extra parameters to add to all the requests sent to the server.\n   * @private {?Object}\n   */\n  this.extraParams_ = null;\n\n  /**\n   * Parameter name for the http session id.\n   * @private {?string}\n   */\n  this.httpSessionIdParam_ = null;\n\n  /**\n   * The http session id, to be sent with httpSessionIdParam_ with each\n   * request after the initial handshake.\n   * @private {?string}\n   */\n  this.httpSessionId_ = null;\n\n  /**\n   * The ChannelRequest object for the backchannel.\n   * @private {?ChannelRequest}\n   */\n  this.backChannelRequest_ = null;\n\n  /**\n   * The relative path (in the context of the page hosting the browser channel)\n   * for making requests to the server.\n   * @private {?string}\n   */\n  this.path_ = null;\n\n  /**\n   * The absolute URI for the forwardchannel request.\n   * @private {?goog.Uri}\n   */\n  this.forwardChannelUri_ = null;\n\n  /**\n   * The absolute URI for the backchannel request.\n   * @private {?goog.Uri}\n   */\n  this.backChannelUri_ = null;\n\n  /**\n   * A subdomain prefix for using a subdomain in IE for the backchannel\n   * requests.\n   * @private {?string}\n   */\n  this.hostPrefix_ = null;\n\n  /**\n   * Whether we allow the use of a subdomain in IE for the backchannel requests.\n   * @private {boolean}\n   */\n  this.allowHostPrefix_ = true;\n\n  /**\n   * The next id to use for the RID (request identifier) parameter. This\n   * identifier uniquely identifies the forward channel request.\n   * @private {number}\n   */\n  this.nextRid_ = 0;\n\n  /**\n   * The id to use for the next outgoing map. This identifier uniquely\n   * identifies a sent map.\n   * @private {number}\n   */\n  this.nextMapId_ = 0;\n\n  /**\n   * Whether to fail forward-channel requests after one try or a few tries.\n   * @private {boolean}\n   */\n  this.failFast_ = getInternalChannelParam('failFast', false, opt_options);\n\n  /**\n   * The handler that receive callbacks for state changes and data.\n   * @private {?goog.labs.net.webChannel.WebChannelBase.Handler}\n   */\n  this.handler_ = null;\n\n  /**\n   * Timer identifier for asynchronously making a forward channel request.\n   * This is set to true if the func is scheduled with async.run, which\n   * is equivalent to setTimeout(0).\n   * @private {?number|?boolean}\n   */\n  this.forwardChannelTimerId_ = null;\n\n  /**\n   * Timer identifier for asynchronously making a back channel request.\n   * @private {?number}\n   */\n  this.backChannelTimerId_ = null;\n\n  /**\n   * Timer identifier for the timer that waits for us to retry the backchannel\n   * in the case where it is dead and no longer receiving data.\n   * @private {?number}\n   */\n  this.deadBackChannelTimerId_ = null;\n\n  /**\n   * Whether the client's network conditions can support streamed responses.\n   * @private {?boolean}\n   */\n  this.enableStreaming_ = null;\n\n  /**\n   * Whether streaming mode is allowed. In certain debugging situations, it's\n   * useful to disable this.\n   * @private {boolean}\n   */\n  this.allowStreamingMode_ = true;\n\n  /**\n   * The array identifier of the last array received from the server for the\n   * backchannel request.\n   * @private {number}\n   */\n  this.lastArrayId_ = -1;\n\n  /**\n   * The array id of the last array sent by the server that we know about.\n   * @private {number}\n   */\n  this.lastPostResponseArrayId_ = -1;\n\n  /**\n   * The last status code received (until `State.CLOSED` is reached).\n   * @private {number}\n   */\n  this.lastStatusCode_ = -1;\n\n  /**\n   * Number of times we have retried the current forward channel request.\n   * @private {number}\n   */\n  this.forwardChannelRetryCount_ = 0;\n\n  /**\n   * Number of times in a row that we have retried the current back channel\n   * request and received no data.\n   * @private {number}\n   */\n  this.backChannelRetryCount_ = 0;\n\n  /**\n   * The attempt id for the current back channel request. Starts at 1 and\n   * increments for each reconnect. The server uses this to log if our\n   * connection is flaky or not.\n   * @private {number}\n   */\n  this.backChannelAttemptId_ = 0;\n\n  /**\n   * The base part of the time before firing next retry request. Default is 5\n   * seconds. Note that a random delay is added (see {@link retryDelaySeedMs_})\n   * for all retries, and linear backoff is applied to the sum for subsequent\n   * retries.\n   * @private {number}\n   */\n  this.baseRetryDelayMs_ =\n      getInternalChannelParam('baseRetryDelayMs', 5 * 1000, opt_options);\n\n  /**\n   * A random time between 0 and this number of MS is added to the\n   * {@link baseRetryDelayMs_}. Default is 10 seconds.\n   * @private {number}\n   */\n  this.retryDelaySeedMs_ =\n      getInternalChannelParam('retryDelaySeedMs', 10 * 1000, opt_options);\n\n  /**\n   * Maximum number of attempts to connect to the server for forward channel\n   * requests. Defaults to 2.\n   * @private {number}\n   */\n  this.forwardChannelMaxRetries_ =\n      getInternalChannelParam('forwardChannelMaxRetries', 2, opt_options);\n\n  /**\n   * The timeout in milliseconds for a forward channel request. Defaults to 20\n   * seconds. Note that part of this timeout can be randomized.\n   * @private {number}\n   */\n  this.forwardChannelRequestTimeoutMs_ = getInternalChannelParam(\n      'forwardChannelRequestTimeoutMs', 20 * 1000, opt_options);\n\n  /**\n   * The custom factory used to create XMLHttpRequest objects.\n   * @private {!goog.net.XmlHttpFactory | undefined}\n   */\n  this.xmlHttpFactory_ =\n      (opt_options && opt_options.xmlHttpFactory) || undefined;\n\n  /**\n   * Whether or not this channel uses WHATWG Fetch/streams.\n   * @private {boolean}\n   */\n  this.usesFetchStreams_ =\n      (opt_options && opt_options.useFetchStreams) || false;\n\n  /**\n   * The timeout in milliseconds for a back channel request. Defaults to using\n   * the timeout configured in ChannelRequest (45s). If server-side\n   * keepaliveInterval is known to the client, set the backchannel request\n   * timeout to 1.5 * keepaliveInterval (ms).\n   *\n   * @private {number|undefined}\n   */\n  this.backChannelRequestTimeoutMs_ = undefined;\n\n  /**\n   * A throttle time in ms for readystatechange events for the backchannel.\n   * Useful for throttling when ready state is INTERACTIVE (partial data).\n   *\n   * This throttle is useful if the server sends large data chunks down the\n   * backchannel.  It prevents examining XHR partial data on every readystate\n   * change event.  This is useful because large chunks can trigger hundreds\n   * of readystatechange events, each of which takes ~5ms or so to handle,\n   * in turn making the UI unresponsive for a significant period.\n   *\n   * If set to zero no throttle is used.\n   * @private {number}\n   */\n  this.readyStateChangeThrottleMs_ = 0;\n\n  /**\n   * Whether cross origin requests are supported for the channel.\n   *\n   * See {@link goog.net.XhrIo#setWithCredentials}.\n   * @private {boolean}\n   */\n  this.supportsCrossDomainXhrs_ =\n      (opt_options && opt_options.supportsCrossDomainXhr) || false;\n\n  /**\n   * The current session id.\n   * @private {string}\n   */\n  this.sid_ = '';\n\n  /**\n   * The current ChannelRequest pool for the forward channel.\n   * @private {!ForwardChannelRequestPool}\n   */\n  this.forwardChannelRequestPool_ = new ForwardChannelRequestPool(\n      opt_options && opt_options.concurrentRequestLimit);\n\n  /**\n   * The V8 codec.\n   * @private {!WireV8}\n   */\n  this.wireCodec_ = new WireV8();\n\n  /**\n   * Whether to turn on the fast handshake behavior.\n   *\n   * @private {boolean}\n   */\n  this.fastHandshake_ = (opt_options && opt_options.fastHandshake) || false;\n\n  /**\n   * Whether to encode initMessageHeaders in the body.\n   *\n   * @private {boolean}\n   */\n  this.encodeInitMessageHeaders_ =\n      (opt_options && opt_options.encodeInitMessageHeaders) || false;\n\n  if (this.fastHandshake_ && this.encodeInitMessageHeaders_) {\n    this.channelDebug_.warning(\n        'Ignore encodeInitMessageHeaders because fastHandshake is set.');\n    this.encodeInitMessageHeaders_ = false;\n  }\n\n  /**\n   * Whether to signal to the server to enable blocking handshake.\n   *\n   * @private {boolean}\n   */\n  this.blockingHandshake_ =\n      (opt_options && opt_options.blockingHandshake) || false;\n\n\n  if (opt_options && opt_options.disableRedact) {\n    this.channelDebug_.disableRedact();\n  }\n\n  if (opt_options && opt_options.forceLongPolling) {\n    this.allowStreamingMode_ = false;\n  }\n\n  /**\n   * Whether to detect buffering proxies.\n   *\n   * fastHandshake + detectBufferingProxy are yet to be implemented.\n   *\n   * @private {boolean}\n   */\n  this.detectBufferingProxy_ =\n      (!this.fastHandshake_ && this.allowStreamingMode_ && opt_options &&\n       opt_options.detectBufferingProxy) ||\n      false;\n\n  /**\n   * Callback when all the pending client-sent messages have been flushed.\n   *\n   * @private {function()|undefined}\n   */\n  this.forwardChannelFlushedCallback_ = undefined;\n\n  /**\n   * TODO(user): move all backchannel states to its own class similar to\n   * forwardchannelrequestpool.js and log more stats.\n   *\n   * The estimated handshake RTT (ms) as measured from when the handshake\n   * request is sent and when the handshake response headers are received.\n   * If the value is 0, the RTT is unknown.\n   *\n   * @private {number}\n   */\n  this.handshakeRttMs_ = 0;\n\n  /**\n   * If BP detection is done or still in progress.\n   * Should only be checked when detectBufferingProxy is turned on.\n   * @private {boolean}\n   */\n  this.bpDetectionDone_ = false;\n\n  /**\n   * The timer for detecting buffering proxy. This needs be reset with each\n   * backchannel request. If this is not null, bpDetectionDone_ == false.\n   * @private {?number}\n   */\n  this.bpDetectionTimerId_ = null;\n\n  /***\n   * Whether to attempt Chrome Origin Trials as part of the handshake.\n   * @private @const {boolean}\n   */\n  this.enableOriginTrials_ = ALLOW_ORIGIN_TRIAL_FEATURES &&\n      (!opt_options || opt_options.enableOriginTrials !== false);\n\n  /**\n   * The array of non-acked maps at the time of channel close. Refer to\n   * `getNonAckedMessagesWithClosedChannel()` API for definitions of non-acked\n   * messages.\n   *\n   * @private {?Array<!Wire.QueuedMap>}\n   */\n  this.nonAckedMapsAtChannelClose_ = null;\n};\n\nconst WebChannelBase = goog.labs.net.webChannel.WebChannelBase;\n\n\n/**\n * The channel version that we negotiated with the server for this session.\n * Starts out as the version we request, and then is changed to the negotiated\n * version after the initial open.\n * @private {number}\n */\nWebChannelBase.prototype.channelVersion_ = Wire.LATEST_CHANNEL_VERSION;\n\n\n/**\n * Enum type for the channel state machine.\n * @enum {number}\n */\nWebChannelBase.State = {\n  /** The channel is closed. */\n  CLOSED: 0,\n\n  /** The channel has been initialized but hasn't yet initiated a connection. */\n  INIT: 1,\n\n  /** The channel is in the process of opening a connection to the server. */\n  OPENING: 2,\n\n  /** The channel is open. */\n  OPENED: 3\n};\n\n\n/**\n * The current state of the WebChannel.\n * @private {!WebChannelBase.State}\n */\nWebChannelBase.prototype.state_ = WebChannelBase.State.INIT;\n\n\n/**\n * The timeout in milliseconds for a forward channel request.\n * @type {number}\n */\nWebChannelBase.FORWARD_CHANNEL_RETRY_TIMEOUT = 20 * 1000;\n\n\n/**\n * Maximum number of attempts to connect to the server for back channel\n * requests.\n * @type {number}\n */\nWebChannelBase.BACK_CHANNEL_MAX_RETRIES = 3;\n\n\n/**\n * A number in MS of how long we guess the maxmium amount of time a round trip\n * to the server should take. In the future this could be substituted with a\n * real measurement of the RTT.\n * @type {number}\n */\nWebChannelBase.RTT_ESTIMATE = 3 * 1000;\n\n\n/**\n * When retrying for an inactive channel, we will multiply the total delay by\n * this number.\n * @type {number}\n */\nWebChannelBase.INACTIVE_CHANNEL_RETRY_FACTOR = 2;\n\n\n/**\n * Enum type for identifying an error.\n * @enum {number}\n */\nWebChannelBase.Error = {\n  /** Value that indicates no error has occurred. */\n  OK: 0,\n\n  /** An error due to a request failing. */\n  REQUEST_FAILED: 2,\n\n  /** An error due to the user being logged out. */\n  LOGGED_OUT: 4,\n\n  /** An error due to server response which contains no data. */\n  NO_DATA: 5,\n\n  /** An error due to a server response indicating an unknown session id */\n  UNKNOWN_SESSION_ID: 6,\n\n  /** An error due to a server response requesting to stop the channel. */\n  STOP: 7,\n\n  /** A general network error. */\n  NETWORK: 8,\n\n  /** An error due to bad data being returned from the server. */\n  BAD_DATA: 10,\n\n  /** An error due to a response that is not parsable. */\n  BAD_RESPONSE: 11\n};\n\n\n/**\n * Internal enum type for the two channel types.\n * @enum {number}\n * @private\n */\nWebChannelBase.ChannelType_ = {\n  FORWARD_CHANNEL: 1,\n\n  BACK_CHANNEL: 2\n};\n\n\n/**\n * The maximum number of maps that can be sent in one POST. Should match\n * MAX_MAPS_PER_REQUEST on the server code.\n * @type {number}\n * @private\n */\nWebChannelBase.MAX_MAPS_PER_REQUEST_ = 1000;\n\n\n/**\n * The maximum number of utf-8 chars that can be sent in one GET to enable 0-RTT\n * handshake.\n *\n *  @const @private {number}\n */\nWebChannelBase.MAX_CHARS_PER_GET_ = 4 * 1024;\n\n\n/**\n * A guess at a cutoff at which to no longer assume the backchannel is dead\n * when we are slow to receive data. Number in bytes.\n *\n * Assumption: The worst bandwidth we work on is 50 kilobits/sec\n * 50kbits/sec * (1 byte / 8 bits) * 6 sec dead backchannel timeout\n * @type {number}\n */\nWebChannelBase.OUTSTANDING_DATA_BACKCHANNEL_RETRY_CUTOFF = 37500;\n\n\n/**\n * @return {number} The server version or 0 if undefined\n */\nWebChannelBase.prototype.getServerVersion = function() {\n  'use strict';\n  return this.serverVersion_;\n};\n\n\n/**\n * @return {!ForwardChannelRequestPool} The forward channel request pool.\n */\nWebChannelBase.prototype.getForwardChannelRequestPool = function() {\n  'use strict';\n  return this.forwardChannelRequestPool_;\n};\n\n\n/**\n * @return {!Object} The codec object.\n */\nWebChannelBase.prototype.getWireCodec = function() {\n  'use strict';\n  return this.wireCodec_;\n};\n\n\n/**\n * Returns the logger.\n *\n * @return {!WebChannelDebug} The channel debug object.\n */\nWebChannelBase.prototype.getChannelDebug = function() {\n  'use strict';\n  return this.channelDebug_;\n};\n\n\n/**\n * Sets the logger.\n *\n * @param {!WebChannelDebug} channelDebug The channel debug object.\n */\nWebChannelBase.prototype.setChannelDebug = function(channelDebug) {\n  'use strict';\n  this.channelDebug_ = channelDebug;\n};\n\n\n/**\n * Starts the channel. This initiates connections to the server.\n *\n * @param {string} channelPath  The path for the channel connection.\n * @param {!Object=} opt_extraParams Extra parameter keys and values to add to\n *     the requests.\n * @param {string=} opt_oldSessionId  Session ID from a previous session.\n * @param {number=} opt_oldArrayId  The last array ID from a previous session.\n */\nWebChannelBase.prototype.connect = function(\n    channelPath, opt_extraParams, opt_oldSessionId, opt_oldArrayId) {\n  'use strict';\n  this.channelDebug_.debug('connect()');\n\n  this.startOriginTrials_(channelPath);\n\n  requestStats.notifyStatEvent(requestStats.Stat.CONNECT_ATTEMPT);\n\n  this.path_ = channelPath;\n  this.extraParams_ = opt_extraParams || {};\n\n  // Attach parameters about the previous session if reconnecting.\n  if (opt_oldSessionId && opt_oldArrayId !== undefined) {\n    this.extraParams_['OSID'] = opt_oldSessionId;\n    this.extraParams_['OAID'] = opt_oldArrayId;\n  }\n\n  this.enableStreaming_ = this.allowStreamingMode_;\n  this.connectChannel_();\n};\n\n\n/**\n * Disconnects and closes the channel.\n */\nWebChannelBase.prototype.disconnect = function() {\n  'use strict';\n  this.channelDebug_.debug('disconnect()');\n\n  this.cancelRequests_();\n\n  if (this.state_ == WebChannelBase.State.OPENED) {\n    const rid = this.nextRid_++;\n    const uri = this.forwardChannelUri_.clone();\n    uri.setParameterValue('SID', this.sid_);\n    uri.setParameterValue('RID', rid);\n    uri.setParameterValue('TYPE', 'terminate');\n\n    this.addAdditionalParams_(uri);\n\n    const request = ChannelRequest.createChannelRequest(\n        this, this.channelDebug_, this.sid_, rid);\n    request.sendCloseRequest(uri);\n  }\n\n  this.onClose_();\n};\n\n\n/**\n * Returns the session id of the channel. Only available after the\n * channel has been opened.\n * @return {string} Session ID.\n */\nWebChannelBase.prototype.getSessionId = function() {\n  'use strict';\n  return this.sid_;\n};\n\n\n/**\n * Starts the connection.\n * @private\n */\nWebChannelBase.prototype.connectChannel_ = function() {\n  'use strict';\n  this.channelDebug_.debug('connectChannel_()');\n  this.ensureInState_(WebChannelBase.State.INIT, WebChannelBase.State.CLOSED);\n  this.forwardChannelUri_ =\n      this.getForwardChannelUri(/** @type {string} */ (this.path_));\n  this.ensureForwardChannel_();\n};\n\n\n/**\n * Starts the Origin Trials.\n * @param {string} channelPath  The path for the channel connection.\n * @private\n */\nWebChannelBase.prototype.startOriginTrials_ = function(channelPath) {\n  'use strict';\n\n  if (!this.enableOriginTrials_) {\n    return;\n  }\n\n  this.channelDebug_.info('Origin Trials enabled.');\n  goog.async.run(goog.bind(this.runOriginTrials_, this, channelPath));\n};\n\n\n/**\n * Runs the Origin Trials.\n * @param {string} channelPath  The path for the channel connection.\n * @private\n */\nWebChannelBase.prototype.runOriginTrials_ = function(channelPath) {\n  'use strict';\n\n  try {\n    // Since startOriginTrials might throw exceptions asynchronously, we should\n    // capture it in promise-catch.\n    environment.startOriginTrials(channelPath, e => {\n      this.channelDebug_.dumpException(\n          /** @type {?Error} */ (e), 'Error in running origin trials');\n    });\n    this.channelDebug_.info('Origin Trials invoked: ' + channelPath);\n  } catch (e) {\n    this.channelDebug_.dumpException(e, 'Error in running origin trials');\n  }\n};\n\n\n/**\n * Cancels backchannel request.\n * @private\n */\nWebChannelBase.prototype.cancelBackChannelRequest_ = function() {\n  'use strict';\n  if (this.backChannelRequest_) {\n    this.clearBpDetectionTimer_();\n    this.backChannelRequest_.cancel();\n    this.backChannelRequest_ = null;\n  }\n};\n\n\n/**\n * Cancels all outstanding requests.\n * @private\n */\nWebChannelBase.prototype.cancelRequests_ = function() {\n  'use strict';\n  this.cancelBackChannelRequest_();\n\n  if (this.backChannelTimerId_) {\n    goog.global.clearTimeout(this.backChannelTimerId_);\n    this.backChannelTimerId_ = null;\n  }\n\n  this.clearDeadBackchannelTimer_();\n\n  this.forwardChannelRequestPool_.cancel();\n\n  if (this.forwardChannelTimerId_) {\n    this.clearForwardChannelTimer_();\n  }\n};\n\n\n/**\n * Clears the forward channel timer.\n * @private\n */\nWebChannelBase.prototype.clearForwardChannelTimer_ = function() {\n  'use strict';\n  if (typeof this.forwardChannelTimerId_ === 'number') {\n    goog.global.clearTimeout(this.forwardChannelTimerId_);\n  }\n\n  this.forwardChannelTimerId_ = null;\n};\n\n\n/**\n * Returns the extra HTTP headers to add to all the requests sent to the server.\n *\n * @return {Object} The HTTP headers, or null.\n */\nWebChannelBase.prototype.getExtraHeaders = function() {\n  'use strict';\n  return this.extraHeaders_;\n};\n\n\n/**\n * Sets extra HTTP headers to add to all the requests sent to the server.\n *\n * @param {Object} extraHeaders The HTTP headers, or null.\n */\nWebChannelBase.prototype.setExtraHeaders = function(extraHeaders) {\n  'use strict';\n  this.extraHeaders_ = extraHeaders;\n};\n\n\n/**\n * Returns the extra HTTP headers to add to the init requests\n * sent to the server.\n *\n * @return {Object} The HTTP headers, or null.\n */\nWebChannelBase.prototype.getInitHeaders = function() {\n  'use strict';\n  return this.initHeaders_;\n};\n\n\n/**\n * Sets extra HTTP headers to add to the init requests sent to the server.\n *\n * @param {Object} initHeaders The HTTP headers, or null.\n */\nWebChannelBase.prototype.setInitHeaders = function(initHeaders) {\n  'use strict';\n  this.initHeaders_ = initHeaders;\n};\n\n\n/**\n * Sets the URL param name to overwrite custom HTTP headers.\n *\n * @param {string} httpHeadersOverwriteParam The URL param name.\n */\nWebChannelBase.prototype.setHttpHeadersOverwriteParam = function(\n    httpHeadersOverwriteParam) {\n  'use strict';\n  this.httpHeadersOverwriteParam_ = httpHeadersOverwriteParam;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.setHttpSessionIdParam = function(httpSessionIdParam) {\n  'use strict';\n  this.httpSessionIdParam_ = httpSessionIdParam;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.getHttpSessionIdParam = function() {\n  'use strict';\n  return this.httpSessionIdParam_;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.setHttpSessionId = function(httpSessionId) {\n  'use strict';\n  this.httpSessionId_ = httpSessionId;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.getHttpSessionId = function() {\n  'use strict';\n  return this.httpSessionId_;\n};\n\n\n/**\n * Sets the throttle for handling onreadystatechange events for the request.\n *\n * @param {number} throttle The throttle in ms.  A value of zero indicates\n *     no throttle.\n */\nWebChannelBase.prototype.setReadyStateChangeThrottle = function(throttle) {\n  'use strict';\n  this.readyStateChangeThrottleMs_ = throttle;\n};\n\n\n/**\n * Sets whether cross origin requests are supported for the channel.\n *\n * Setting this allows the creation of requests to secondary domains and\n * sends XHRs with the CORS withCredentials bit set to true.\n *\n * In order for cross-origin requests to work, the server will also need to set\n * CORS response headers as per:\n * https://developer.mozilla.org/en-US/docs/HTTP_access_control\n *\n * See {@link goog.net.XhrIo#setWithCredentials}.\n * @param {boolean} supportCrossDomain Whether cross domain XHRs are supported.\n */\nWebChannelBase.prototype.setSupportsCrossDomainXhrs = function(\n    supportCrossDomain) {\n  'use strict';\n  this.supportsCrossDomainXhrs_ = supportCrossDomain;\n};\n\n\n/**\n * Returns the handler used for channel callback events.\n *\n * @return {WebChannelBase.Handler} The handler.\n */\nWebChannelBase.prototype.getHandler = function() {\n  'use strict';\n  return this.handler_;\n};\n\n\n/**\n * Sets the handler used for channel callback events.\n * @param {WebChannelBase.Handler} handler The handler to set.\n */\nWebChannelBase.prototype.setHandler = function(handler) {\n  'use strict';\n  this.handler_ = handler;\n};\n\n\n/**\n * Returns whether the channel allows the use of a subdomain. There may be\n * cases where this isn't allowed.\n * @return {boolean} Whether a host prefix is allowed.\n */\nWebChannelBase.prototype.getAllowHostPrefix = function() {\n  'use strict';\n  return this.allowHostPrefix_;\n};\n\n\n/**\n * Sets whether the channel allows the use of a subdomain. There may be cases\n * where this isn't allowed, for example, logging in with troutboard where\n * using a subdomain causes Apache to force the user to authenticate twice.\n * @param {boolean} allowHostPrefix Whether a host prefix is allowed.\n */\nWebChannelBase.prototype.setAllowHostPrefix = function(allowHostPrefix) {\n  'use strict';\n  this.allowHostPrefix_ = allowHostPrefix;\n};\n\n\n/**\n * Returns whether the channel is buffered or not.  This may be\n * queried in the WebChannelBase.okToMakeRequest() callback.\n *\n * @return {boolean} Whether the channel is buffered.\n */\nWebChannelBase.prototype.isBuffered = function() {\n  'use strict';\n  return !this.enableStreaming_;\n};\n\n\n/**\n * Returns whether streaming mode is allowed. In certain debugging situations,\n * it's useful for the application to have a way to disable streaming mode for a\n * user.\n\n * @return {boolean} Whether streaming mode is allowed.\n */\nWebChannelBase.prototype.getAllowStreamingMode = function() {\n  'use strict';\n  return this.allowStreamingMode_;\n};\n\n\n/**\n * Sets whether streaming mode is allowed. In certain debugging situations, it's\n * useful for the application to have a way to disable streaming mode for a\n * user.\n * @param {boolean} allowStreamingMode  Whether streaming mode is allowed.\n */\nWebChannelBase.prototype.setAllowStreamingMode = function(allowStreamingMode) {\n  'use strict';\n  this.allowStreamingMode_ = allowStreamingMode;\n};\n\n\n/**\n * Sends a request to the server. The format of the request is a Map data\n * structure of key/value pairs. These maps are then encoded in a format\n * suitable for the wire and then reconstituted as a Map data structure that\n * the server can process.\n * @param {!Object|!goog.collections.maps.MapLike} map The map to send.\n * @param {!Object=} opt_context The context associated with the map.\n */\nWebChannelBase.prototype.sendMap = function(map, opt_context) {\n  'use strict';\n  goog.asserts.assert(\n      this.state_ != WebChannelBase.State.CLOSED,\n      'Invalid operation: sending map when state is closed');\n\n  // We can only send 1000 maps per POST, but typically we should never have\n  // that much to send, so warn if we exceed that (we still send all the maps).\n  if (this.outgoingMaps_.length == WebChannelBase.MAX_MAPS_PER_REQUEST_) {\n    // severe() is temporary so that we get these uploaded and can figure out\n    // what's causing them. Afterwards can change to warning().\n    this.channelDebug_.severe(function() {\n      'use strict';\n      return 'Already have ' + WebChannelBase.MAX_MAPS_PER_REQUEST_ +\n          ' queued maps upon queueing ' + goog.json.serialize(map);\n    });\n  }\n\n  this.outgoingMaps_.push(\n      new Wire.QueuedMap(this.nextMapId_++, map, opt_context));\n\n  // Messages need be buffered during OPENING to avoid server-side race\n  if (this.state_ == WebChannelBase.State.OPENED) {\n    this.ensureForwardChannel_();\n  }\n};\n\n\n/**\n * When set to true, this changes the behavior of the forward channel so it\n * will not retry requests; it will fail after one network failure, and if\n * there was already one network failure, the request will fail immediately.\n * @param {boolean} failFast  Whether or not to fail fast.\n */\nWebChannelBase.prototype.setFailFast = function(failFast) {\n  'use strict';\n  this.failFast_ = failFast;\n  this.channelDebug_.info('setFailFast: ' + failFast);\n  if ((this.forwardChannelRequestPool_.hasPendingRequest() ||\n       this.forwardChannelTimerId_) &&\n      this.forwardChannelRetryCount_ > this.getForwardChannelMaxRetries()) {\n    const self = this;\n    this.channelDebug_.info(function() {\n      'use strict';\n      return 'Retry count ' + self.forwardChannelRetryCount_ +\n          ' > new maxRetries ' + self.getForwardChannelMaxRetries() +\n          '. Fail immediately!';\n    });\n\n    if (!this.forwardChannelRequestPool_.forceComplete(\n            goog.bind(this.onRequestComplete, this))) {\n      // i.e., this.forwardChannelTimerId_\n      this.clearForwardChannelTimer_();\n      // The error code from the last failed request is gone, so just use a\n      // generic one.\n      this.signalError_(WebChannelBase.Error.REQUEST_FAILED);\n    }\n  }\n};\n\n\n/**\n * @return {number} The max number of forward-channel retries, which will be 0\n * in fail-fast mode.\n */\nWebChannelBase.prototype.getForwardChannelMaxRetries = function() {\n  'use strict';\n  return this.failFast_ ? 0 : this.forwardChannelMaxRetries_;\n};\n\n\n/**\n * Sets the maximum number of attempts to connect to the server for forward\n * channel requests.\n * @param {number} retries The maximum number of attempts.\n */\nWebChannelBase.prototype.setForwardChannelMaxRetries = function(retries) {\n  'use strict';\n  this.forwardChannelMaxRetries_ = retries;\n};\n\n\n/**\n * Sets the timeout for a forward channel request.\n * @param {number} timeoutMs The timeout in milliseconds.\n */\nWebChannelBase.prototype.setForwardChannelRequestTimeout = function(timeoutMs) {\n  'use strict';\n  this.forwardChannelRequestTimeoutMs_ = timeoutMs;\n};\n\n\n/**\n * @return {number} The max number of back-channel retries, which is a constant.\n */\nWebChannelBase.prototype.getBackChannelMaxRetries = function() {\n  'use strict';\n  // Back-channel retries is a constant.\n  return WebChannelBase.BACK_CHANNEL_MAX_RETRIES;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.isClosed = function() {\n  'use strict';\n  return this.state_ == WebChannelBase.State.CLOSED;\n};\n\n\n/**\n * Returns the channel state.\n * @return {WebChannelBase.State} The current state of the channel.\n */\nWebChannelBase.prototype.getState = function() {\n  'use strict';\n  return this.state_;\n};\n\n\n/**\n * @return {number} The last status code received (until `State.CLOSED` is\n * reached).\n */\nWebChannelBase.prototype.getLastStatusCode = function() {\n  'use strict';\n  return this.lastStatusCode_;\n};\n\n\n/**\n * @return {number} The last array id received.\n */\nWebChannelBase.prototype.getLastArrayId = function() {\n  'use strict';\n  return this.lastArrayId_;\n};\n\n\n/**\n * Returns whether there are outstanding requests servicing the channel.\n * @return {boolean} true if there are outstanding requests.\n */\nWebChannelBase.prototype.hasOutstandingRequests = function() {\n  'use strict';\n  return this.getOutstandingRequests_() != 0;\n};\n\n\n/**\n * Returns the number of outstanding requests.\n * @return {number} The number of outstanding requests to the server.\n * @private\n */\nWebChannelBase.prototype.getOutstandingRequests_ = function() {\n  'use strict';\n  let count = 0;\n  if (this.backChannelRequest_) {\n    count++;\n  }\n  count += this.forwardChannelRequestPool_.getRequestCount();\n  return count;\n};\n\n\n/**\n * Ensures that a forward channel request is scheduled.\n * @private\n */\nWebChannelBase.prototype.ensureForwardChannel_ = function() {\n  'use strict';\n  if (this.forwardChannelRequestPool_.isFull()) {\n    // enough connection in process - no need to start a new request\n    return;\n  }\n\n  if (this.forwardChannelTimerId_) {\n    // no need to start a new request - one is already scheduled\n    return;\n  }\n\n  // Use async.run instead of setTimeout(0) to avoid the 1s message delay\n  // from chrome/firefox background tabs\n  this.forwardChannelTimerId_ = true;\n  goog.async.run(this.onStartForwardChannelTimer_, this);\n\n  this.forwardChannelRetryCount_ = 0;\n};\n\n\n/**\n * Schedules a forward-channel retry for the specified request, unless the max\n * retries has been reached.\n * @param {!ChannelRequest} request The failed request to retry.\n * @return {boolean} true iff a retry was scheduled.\n * @private\n */\nWebChannelBase.prototype.maybeRetryForwardChannel_ = function(request) {\n  'use strict';\n  if (this.forwardChannelRequestPool_.getRequestCount() >=\n      this.forwardChannelRequestPool_.getMaxSize() -\n          (this.forwardChannelTimerId_ ? 1 : 0)) {\n    // Should be impossible to be called in this state.\n    this.channelDebug_.severe('Unexpected retry request is scheduled.');\n    return false;\n  }\n\n  if (this.forwardChannelTimerId_) {\n    this.channelDebug_.debug(\n        'Use the retry request that is already scheduled.');\n    this.outgoingMaps_ =\n        request.getPendingMessages().concat(this.outgoingMaps_);\n    return true;\n  }\n\n  // No retry for open_() and fail-fast\n  if (this.state_ == WebChannelBase.State.INIT ||\n      this.state_ == WebChannelBase.State.OPENING ||\n      (this.forwardChannelRetryCount_ >= this.getForwardChannelMaxRetries())) {\n    return false;\n  }\n\n  this.channelDebug_.debug('Going to retry POST');\n\n  this.forwardChannelTimerId_ = requestStats.setTimeout(\n      goog.bind(this.onStartForwardChannelTimer_, this, request),\n      this.getRetryTime_(this.forwardChannelRetryCount_));\n  this.forwardChannelRetryCount_++;\n  return true;\n};\n\n\n/**\n * Timer callback for ensureForwardChannel\n * @param {ChannelRequest=} opt_retryRequest A failed request\n * to retry.\n * @private\n */\nWebChannelBase.prototype.onStartForwardChannelTimer_ = function(\n    opt_retryRequest) {\n  'use strict';\n  // null is possible if scheduled with async.run\n  if (this.forwardChannelTimerId_) {\n    this.forwardChannelTimerId_ = null;\n    this.startForwardChannel_(opt_retryRequest);\n  }\n};\n\n\n/**\n * Begins a new forward channel operation to the server.\n * @param {ChannelRequest=} opt_retryRequest A failed request to retry.\n * @private\n */\nWebChannelBase.prototype.startForwardChannel_ = function(opt_retryRequest) {\n  'use strict';\n  this.channelDebug_.debug('startForwardChannel_');\n  if (!this.okToMakeRequest_()) {\n    return;  // channel is cancelled\n  } else if (this.state_ == WebChannelBase.State.INIT) {\n    if (opt_retryRequest) {\n      this.channelDebug_.severe('Not supposed to retry the open');\n      return;\n    }\n    this.open_();\n    this.state_ = WebChannelBase.State.OPENING;\n  } else if (this.state_ == WebChannelBase.State.OPENED) {\n    if (opt_retryRequest) {\n      this.makeForwardChannelRequest_(opt_retryRequest);\n      return;\n    }\n\n    if (this.outgoingMaps_.length == 0) {\n      this.channelDebug_.debug(\n          'startForwardChannel_ returned: ' +\n          'nothing to send');\n      // no need to start a new forward channel request\n      return;\n    }\n\n    if (this.forwardChannelRequestPool_.isFull()) {\n      // Should be impossible to be called in this state.\n      this.channelDebug_.severe(\n          'startForwardChannel_ returned: ' +\n          'connection already in progress');\n      return;\n    }\n\n    this.makeForwardChannelRequest_();\n    this.channelDebug_.debug('startForwardChannel_ finished, sent request');\n  }\n};\n\n\n/**\n * Establishes a new channel session with the server.\n * @private\n */\nWebChannelBase.prototype.open_ = function() {\n  'use strict';\n  this.channelDebug_.debug('open_()');\n  this.nextRid_ = Math.floor(Math.random() * 100000);\n\n  const rid = this.nextRid_++;\n  const request =\n      ChannelRequest.createChannelRequest(this, this.channelDebug_, '', rid);\n\n  // mix the init headers\n  let extraHeaders = this.extraHeaders_;\n  if (this.initHeaders_) {\n    if (extraHeaders) {\n      extraHeaders = goog.object.clone(extraHeaders);\n      goog.object.extend(extraHeaders, this.initHeaders_);\n    } else {\n      extraHeaders = this.initHeaders_;\n    }\n  }\n\n  if (this.httpHeadersOverwriteParam_ === null &&\n      !this.encodeInitMessageHeaders_) {\n    request.setExtraHeaders(extraHeaders);\n    extraHeaders = null;\n  }\n\n  let requestText = this.dequeueOutgoingMaps_(\n      request,\n      this.fastHandshake_ ? this.getMaxNumMessagesForFastHandshake_() :\n                            WebChannelBase.MAX_MAPS_PER_REQUEST_);\n\n  const uri = this.forwardChannelUri_.clone();\n  uri.setParameterValue('RID', rid);\n\n  if (this.clientVersion_ > 0) {\n    uri.setParameterValue('CVER', this.clientVersion_);\n  }\n\n  // http-session-id to be generated as the response\n  if (this.getHttpSessionIdParam()) {\n    uri.setParameterValue(\n        WebChannel.X_HTTP_SESSION_ID, this.getHttpSessionIdParam());\n  }\n\n  this.addAdditionalParams_(uri);\n\n  if (extraHeaders) {\n    if (this.encodeInitMessageHeaders_) {\n      let encodedHeaders =\n          httpCors.generateEncodedHttpHeadersOverwriteParam(extraHeaders);\n      requestText = 'headers=' + encodedHeaders + '&' + requestText;\n    } else if (this.httpHeadersOverwriteParam_) {\n      httpCors.setHttpHeadersWithOverwriteParam(\n          uri, this.httpHeadersOverwriteParam_, extraHeaders);\n    }  // else - should not happen\n  }\n\n  this.forwardChannelRequestPool_.addRequest(request);\n\n  if (this.blockingHandshake_) {\n    uri.setParameterValue('TYPE', 'init');  // default to blocking in future\n  }\n\n  // Check the option and use GET to enable QUIC 0-RTT\n  if (this.fastHandshake_) {\n    uri.setParameterValue('$req', requestText);\n\n    // enable handshake upgrade\n    uri.setParameterValue('SID', 'null');\n    request.setDecodeInitialResponse();\n\n    request.xmlHttpPost(uri, null, true);  // Send as a GET\n  } else {\n    request.xmlHttpPost(uri, requestText, true);\n  }\n};\n\n\n/**\n * @return {number} The number of raw JSON messages to be encoded\n * with the fast-handshake (GET) request, including zero. If messages are not\n * encoded as raw JSON data, return WebChannelBase.MAX_MAPS_PER_REQUEST_\n * @private\n */\nWebChannelBase.prototype.getMaxNumMessagesForFastHandshake_ = function() {\n  'use strict';\n  let total = 0;\n  for (let i = 0; i < this.outgoingMaps_.length; i++) {\n    const map = this.outgoingMaps_[i];\n    const size = map.getRawDataSize();\n    if (size === undefined) {\n      break;\n    }\n    total += size;\n\n    if (total > WebChannelBase.MAX_CHARS_PER_GET_) {\n      return i;\n    }\n\n    if (total === WebChannelBase.MAX_CHARS_PER_GET_ ||\n        i === this.outgoingMaps_.length - 1) {\n      return i + 1;\n    }\n  }\n\n  return WebChannelBase.MAX_MAPS_PER_REQUEST_;\n};\n\n\n\n/**\n * Makes a forward channel request using XMLHTTP.\n * @param {!ChannelRequest=} opt_retryRequest A failed request to retry.\n * @private\n */\nWebChannelBase.prototype.makeForwardChannelRequest_ = function(\n    opt_retryRequest) {\n  'use strict';\n  let rid;\n  if (opt_retryRequest) {\n    rid = opt_retryRequest.getRequestId();  // Reuse the same RID for a retry\n  } else {\n    rid = this.nextRid_++;\n  }\n\n  const uri = this.forwardChannelUri_.clone();\n  uri.setParameterValue('SID', this.sid_);\n  uri.setParameterValue('RID', rid);\n  uri.setParameterValue('AID', this.lastArrayId_);\n\n  this.addAdditionalParams_(uri);\n\n  if (this.httpHeadersOverwriteParam_ && this.extraHeaders_) {\n    httpCors.setHttpHeadersWithOverwriteParam(\n        uri, this.httpHeadersOverwriteParam_, this.extraHeaders_);\n  }\n\n  const request = ChannelRequest.createChannelRequest(\n      this, this.channelDebug_, this.sid_, rid,\n      this.forwardChannelRetryCount_ + 1);\n\n  if (this.httpHeadersOverwriteParam_ === null) {\n    request.setExtraHeaders(this.extraHeaders_);\n  }\n\n  let requestText;\n  if (opt_retryRequest) {\n    this.requeuePendingMaps_(opt_retryRequest);\n  }\n  requestText =\n      this.dequeueOutgoingMaps_(request, WebChannelBase.MAX_MAPS_PER_REQUEST_);\n\n  // Randomize from 50%-100% of the forward channel timeout to avoid\n  // a big hit if servers happen to die at once.\n  request.setTimeout(\n      Math.round(this.forwardChannelRequestTimeoutMs_ * 0.50) +\n      Math.round(this.forwardChannelRequestTimeoutMs_ * 0.50 * Math.random()));\n  this.forwardChannelRequestPool_.addRequest(request);\n  request.xmlHttpPost(uri, requestText, true);\n};\n\n\n/**\n * Adds additional query parameters from `extraParams_` and `handler_` to the\n * given URI.\n * @param {!goog.Uri} uri The URI to add the parameters to.\n * @private\n */\nWebChannelBase.prototype.addAdditionalParams_ = function(uri) {\n  'use strict';\n  if (this.extraParams_) {\n    goog.object.forEach(this.extraParams_, function(value, key) {\n      'use strict';\n      uri.setParameterValue(key, value);\n    });\n  }\n\n  if (this.handler_) {\n    const params = this.handler_.getAdditionalParams(this);\n    if (params) {\n      goog.structs.forEach(params, function(value, key, coll) {\n        'use strict';\n        uri.setParameterValue(key, value);\n      });\n    }\n  }\n};\n\n\n/**\n * Returns the request text from the outgoing maps and resets it.\n * @param {!ChannelRequest} request The new request for sending the messages.\n * @param {number} maxNum The maximum number of messages to be encoded\n * @return {string} The encoded request text created from all the currently\n *                  queued outgoing maps.\n * @private\n */\nWebChannelBase.prototype.dequeueOutgoingMaps_ = function(request, maxNum) {\n  'use strict';\n  const count = Math.min(this.outgoingMaps_.length, maxNum);\n\n  const badMapHandler = this.handler_ ?\n      goog.bind(this.handler_.badMapError, this.handler_, this) :\n      null;\n  const result = this.wireCodec_.encodeMessageQueue(\n      this.outgoingMaps_, count, badMapHandler);\n\n  request.setPendingMessages(this.outgoingMaps_.splice(0, count));\n\n  return result;\n};\n\n\n/**\n * Requeues unacknowledged sent arrays for retransmission in the next forward\n * channel request.\n * @param {!ChannelRequest} retryRequest A failed request to retry.\n * @private\n */\nWebChannelBase.prototype.requeuePendingMaps_ = function(retryRequest) {\n  'use strict';\n  this.outgoingMaps_ =\n      retryRequest.getPendingMessages().concat(this.outgoingMaps_);\n};\n\n\n/**\n * Ensures there is a backchannel request for receiving data from the server.\n * @private\n */\nWebChannelBase.prototype.ensureBackChannel_ = function() {\n  'use strict';\n  if (this.backChannelRequest_) {\n    // already have one\n    return;\n  }\n\n  if (this.backChannelTimerId_) {\n    // no need to start a new request - one is already scheduled\n    return;\n  }\n\n  this.backChannelAttemptId_ = 1;\n\n  // Use async.run instead of setTimeout(0) to avoid the 1s message delay\n  // from chrome/firefox background tabs\n  // backChannelTimerId_ stays unset, as with setTimeout(0)\n  goog.async.run(this.onStartBackChannelTimer_, this);\n\n  this.backChannelRetryCount_ = 0;\n};\n\n\n/**\n * Schedules a back-channel retry, unless the max retries has been reached.\n * @return {boolean} true iff a retry was scheduled.\n * @private\n */\nWebChannelBase.prototype.maybeRetryBackChannel_ = function() {\n  'use strict';\n  if (this.backChannelRequest_ || this.backChannelTimerId_) {\n    // Should be impossible to be called in this state.\n    this.channelDebug_.severe('Request already in progress');\n    return false;\n  }\n\n  if (this.backChannelRetryCount_ >= this.getBackChannelMaxRetries()) {\n    return false;\n  }\n\n  this.channelDebug_.debug('Going to retry GET');\n\n  this.backChannelAttemptId_++;\n  this.backChannelTimerId_ = requestStats.setTimeout(\n      goog.bind(this.onStartBackChannelTimer_, this),\n      this.getRetryTime_(this.backChannelRetryCount_));\n  this.backChannelRetryCount_++;\n  return true;\n};\n\n\n/**\n * Timer callback for ensureBackChannel_.\n * @private\n */\nWebChannelBase.prototype.onStartBackChannelTimer_ = function() {\n  'use strict';\n  this.backChannelTimerId_ = null;\n  this.startBackChannel_();\n\n  if (!this.detectBufferingProxy_) {\n    return;\n  }\n\n  if (this.bpDetectionDone_) {\n    return;\n  }\n\n  if (this.backChannelRequest_ == null || this.handshakeRttMs_ <= 0) {\n    this.channelDebug_.warning(\n        'Skip bpDetectionTimerId_ ' + this.backChannelRequest_ + ' ' +\n        this.handshakeRttMs_);\n    return;\n  }\n\n  // This goes with each new request until bpDetectionDone_\n  const bpDetectionTimeout = 2 * this.handshakeRttMs_;\n  this.channelDebug_.info('BP detection timer enabled: ' + bpDetectionTimeout);\n\n  this.bpDetectionTimerId_ = requestStats.setTimeout(\n      goog.bind(this.onBpDetectionTimer_, this), bpDetectionTimeout);\n};\n\n\n/**\n * Timer callback for bpDetection.\n * @private\n */\nWebChannelBase.prototype.onBpDetectionTimer_ = function() {\n  'use strict';\n  if (!this.bpDetectionTimerId_) {\n    this.channelDebug_.warning('Invalid operation.');\n    return;\n  }\n\n  this.bpDetectionTimerId_ = null;\n  this.channelDebug_.info('BP detection timeout reached.');\n\n  goog.asserts.assert(\n      this.backChannelRequest_ != null,\n      'Invalid state: no backchannel request');\n\n  // We wait for extra response payload in addition to just headers to\n  // cancel the timer.\n  if (this.backChannelRequest_.getXhr() != null) {\n    const responseData = this.backChannelRequest_.getXhr().getResponseText();\n    if (responseData) {\n      this.channelDebug_.warning(\n          'Timer should have been cancelled : ' + responseData);\n    }\n  }\n\n  // Enable long-polling\n  this.channelDebug_.info(\n      'Buffering proxy detected and switch to long-polling!');\n  this.enableStreaming_ = false;\n\n  this.bpDetectionDone_ = true;\n  requestStats.notifyStatEvent(requestStats.Stat.PROXY);\n\n  // Cancel the request and start a new one immediately\n  this.cancelBackChannelRequest_();\n  this.startBackChannel_();\n};\n\n\n/**\n * Clears the timer for BP detection.\n * @private\n */\nWebChannelBase.prototype.clearBpDetectionTimer_ = function() {\n  'use strict';\n  if (this.bpDetectionTimerId_ != null) {\n    this.channelDebug_.debug('Cancel the BP detection timer.');\n    goog.global.clearTimeout(this.bpDetectionTimerId_);\n    this.bpDetectionTimerId_ = null;\n  }\n};\n\n\n/**\n * Begins a new back channel operation to the server.\n * @private\n */\nWebChannelBase.prototype.startBackChannel_ = function() {\n  'use strict';\n  if (!this.okToMakeRequest_()) {\n    // channel is cancelled\n    return;\n  }\n\n  this.channelDebug_.debug('Creating new HttpRequest');\n  this.backChannelRequest_ = ChannelRequest.createChannelRequest(\n      this, this.channelDebug_, this.sid_, 'rpc', this.backChannelAttemptId_);\n\n  if (this.httpHeadersOverwriteParam_ === null) {\n    this.backChannelRequest_.setExtraHeaders(this.extraHeaders_);\n  }\n\n  this.backChannelRequest_.setReadyStateChangeThrottle(\n      this.readyStateChangeThrottleMs_);\n  const uri = this.backChannelUri_.clone();\n  uri.setParameterValue('RID', 'rpc');\n  uri.setParameterValue('SID', this.sid_);\n  uri.setParameterValue('CI', this.enableStreaming_ ? '0' : '1');\n  uri.setParameterValue('AID', this.lastArrayId_);\n  uri.setParameterValue('TYPE', 'xmlhttp');\n\n  this.addAdditionalParams_(uri);\n\n  if (this.httpHeadersOverwriteParam_ && this.extraHeaders_) {\n    httpCors.setHttpHeadersWithOverwriteParam(\n        uri, this.httpHeadersOverwriteParam_, this.extraHeaders_);\n  }\n\n  if (this.backChannelRequestTimeoutMs_) {\n    this.backChannelRequest_.setTimeout(this.backChannelRequestTimeoutMs_);\n  }\n\n  this.backChannelRequest_.xmlHttpGet(\n      uri, true /* decodeChunks */, this.hostPrefix_);\n\n  this.channelDebug_.debug('New Request created');\n};\n\n\n/**\n * Gives the handler a chance to return an error code and stop channel\n * execution. A handler might want to do this to check that the user is still\n * logged in, for example.\n * @private\n * @return {boolean} If it's OK to make a request.\n */\nWebChannelBase.prototype.okToMakeRequest_ = function() {\n  'use strict';\n  if (this.handler_) {\n    const result = this.handler_.okToMakeRequest(this);\n    if (result != WebChannelBase.Error.OK) {\n      this.channelDebug_.debug(\n          'Handler returned error code from okToMakeRequest');\n      this.signalError_(result);\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.onFirstByteReceived = function(request, responseText) {\n  'use strict';\n  if (this.backChannelRequest_ == request && this.detectBufferingProxy_) {\n    if (!this.bpDetectionDone_) {\n      this.channelDebug_.info(\n          'Great, no buffering proxy detected. Bytes received: ' +\n          responseText.length);\n      goog.asserts.assert(\n          this.bpDetectionTimerId_, 'Timer should not have been cancelled.');\n      this.clearBpDetectionTimer_();\n      this.bpDetectionDone_ = true;\n      requestStats.notifyStatEvent(requestStats.Stat.NOPROXY);\n    }\n  }\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.onRequestData = function(request, responseText) {\n  'use strict';\n  if (this.state_ == WebChannelBase.State.CLOSED ||\n      (this.backChannelRequest_ != request &&\n       !this.forwardChannelRequestPool_.hasRequest(request))) {\n    // either CLOSED or a request we don't know about (perhaps an old request)\n    return;\n  }\n\n  // first to check if request has been upgraded to backchannel\n  if (!request.isInitialResponseDecoded() &&\n      this.forwardChannelRequestPool_.hasRequest(request) &&\n      this.state_ == WebChannelBase.State.OPENED) {\n    let response;\n    try {\n      response = this.wireCodec_.decodeMessage(responseText);\n    } catch (ex) {\n      response = null;\n    }\n    if (Array.isArray(response) && response.length == 3) {\n      this.handlePostResponse_(/** @type {!Array<?>} */ (response), request);\n      this.onForwardChannelFlushed_();\n    } else {\n      this.channelDebug_.debug('Bad POST response data returned');\n      this.signalError_(WebChannelBase.Error.BAD_RESPONSE);\n    }\n  } else {\n    if (request.isInitialResponseDecoded() ||\n        this.backChannelRequest_ == request) {\n      this.clearDeadBackchannelTimer_();\n    }\n\n    if (!goog.string.isEmptyOrWhitespace(responseText)) {\n      let response = this.wireCodec_.decodeMessage(responseText);\n      this.onInput_(/** @type {!Array<?>} */ (response), request);\n    }\n  }\n};\n\n\n/**\n * Checks if we need call the flush callback.\n *\n * @private\n */\nWebChannelBase.prototype.onForwardChannelFlushed_ = function() {\n  'use strict';\n  if (this.forwardChannelRequestPool_.getRequestCount() <= 1) {\n    if (this.forwardChannelFlushedCallback_) {\n      try {\n        this.forwardChannelFlushedCallback_();\n      } catch (ex) {\n        this.channelDebug_.dumpException(\n            ex, 'Exception from forwardChannelFlushedCallback_ ');\n      }\n      // reset\n      this.forwardChannelFlushedCallback_ = undefined;\n    }\n  }\n};\n\n\n/**\n * Handles a POST response from the server.\n * @param {Array<number>} responseValues The key value pairs in\n *     the POST response.\n * @param {!ChannelRequest} forwardReq The forward channel request that\n * triggers this function call.\n * @private\n */\nWebChannelBase.prototype.handlePostResponse_ = function(\n    responseValues, forwardReq) {\n  'use strict';\n  // The first response value is set to 0 if server is missing backchannel.\n  if (responseValues[0] == 0) {\n    this.handleBackchannelMissing_(forwardReq);\n    return;\n  }\n  this.lastPostResponseArrayId_ = responseValues[1];\n  const outstandingArrays = this.lastPostResponseArrayId_ - this.lastArrayId_;\n  if (0 < outstandingArrays) {\n    const numOutstandingBackchannelBytes = responseValues[2];\n    this.channelDebug_.debug(\n        numOutstandingBackchannelBytes + ' bytes (in ' + outstandingArrays +\n        ' arrays) are outstanding on the BackChannel');\n    if (!this.shouldRetryBackChannel_(numOutstandingBackchannelBytes)) {\n      return;\n    }\n    if (!this.deadBackChannelTimerId_) {\n      // We expect to receive data within 2 RTTs or we retry the backchannel.\n      this.deadBackChannelTimerId_ = requestStats.setTimeout(\n          goog.bind(this.onBackChannelDead_, this),\n          2 * WebChannelBase.RTT_ESTIMATE);\n    }\n  }\n};\n\n\n/**\n * Handles a POST response from the server telling us that it has detected that\n * we have no hanging GET connection.\n * @param {!ChannelRequest} forwardReq The forward channel request that\n * triggers this function call.\n * @private\n */\nWebChannelBase.prototype.handleBackchannelMissing_ = function(forwardReq) {\n  'use strict';\n  // As long as the back channel was started before the POST was sent,\n  // we should retry the backchannel. We give a slight buffer of RTT_ESTIMATE\n  // so as not to excessively retry the backchannel\n  this.channelDebug_.debug('Server claims our backchannel is missing.');\n  if (this.backChannelTimerId_) {\n    this.channelDebug_.debug('But we are currently starting the request.');\n    return;\n  } else if (!this.backChannelRequest_) {\n    this.channelDebug_.warning('We do not have a BackChannel established');\n  } else if (\n      this.backChannelRequest_.getRequestStartTime() +\n          WebChannelBase.RTT_ESTIMATE <\n      forwardReq.getRequestStartTime()) {\n    this.clearDeadBackchannelTimer_();\n    this.cancelBackChannelRequest_();\n  } else {\n    return;\n  }\n  this.maybeRetryBackChannel_();\n  requestStats.notifyStatEvent(requestStats.Stat.BACKCHANNEL_MISSING);\n};\n\n\n/**\n * Determines whether we should start the process of retrying a possibly\n * dead backchannel.\n * @param {number} outstandingBytes The number of bytes for which the server has\n *     not yet received acknowledgement.\n * @return {boolean} Whether to start the backchannel retry timer.\n * @private\n */\nWebChannelBase.prototype.shouldRetryBackChannel_ = function(outstandingBytes) {\n  'use strict';\n  // Not too many outstanding bytes, not buffered and not after a retry.\n  return outstandingBytes <\n      WebChannelBase.OUTSTANDING_DATA_BACKCHANNEL_RETRY_CUTOFF &&\n      !this.isBuffered() && this.backChannelRetryCount_ == 0;\n};\n\n\n/**\n * Decides which host prefix should be used, if any.  If there is a handler,\n * allows the handler to validate a host prefix provided by the server, and\n * optionally override it.\n * @param {?string} serverHostPrefix The host prefix provided by the server.\n * @return {?string} The host prefix to actually use, if any. Will return null\n *     if the use of host prefixes was disabled via setAllowHostPrefix().\n * @override\n */\nWebChannelBase.prototype.correctHostPrefix = function(serverHostPrefix) {\n  'use strict';\n  if (this.allowHostPrefix_) {\n    if (this.handler_) {\n      return this.handler_.correctHostPrefix(serverHostPrefix);\n    }\n    return serverHostPrefix;\n  }\n  return null;\n};\n\n\n/**\n * Handles the timer that indicates that our backchannel is no longer able to\n * successfully receive data from the server.\n * @private\n */\nWebChannelBase.prototype.onBackChannelDead_ = function() {\n  'use strict';\n  if (this.deadBackChannelTimerId_ != null) {\n    this.deadBackChannelTimerId_ = null;\n    this.cancelBackChannelRequest_();\n    this.maybeRetryBackChannel_();\n    requestStats.notifyStatEvent(requestStats.Stat.BACKCHANNEL_DEAD);\n  }\n};\n\n\n/**\n * Clears the timer that indicates that our backchannel is no longer able to\n * successfully receive data from the server.\n * @private\n */\nWebChannelBase.prototype.clearDeadBackchannelTimer_ = function() {\n  'use strict';\n  if (this.deadBackChannelTimerId_ != null) {\n    goog.global.clearTimeout(this.deadBackChannelTimerId_);\n    this.deadBackChannelTimerId_ = null;\n  }\n};\n\n\n/**\n * Returns whether or not the given error/status combination is fatal or not.\n * On fatal errors we immediately close the session rather than retrying the\n * failed request.\n * @param {?ChannelRequest.Error} error The error code for the\n * failed request.\n * @param {number} statusCode The last HTTP status code.\n * @return {boolean} Whether or not the error is fatal.\n * @private\n */\nWebChannelBase.isFatalError_ = function(error, statusCode) {\n  'use strict';\n  return error == ChannelRequest.Error.UNKNOWN_SESSION_ID ||\n      (error == ChannelRequest.Error.STATUS && statusCode > 0);\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.onRequestComplete = function(request) {\n  'use strict';\n  this.channelDebug_.debug('Request complete');\n  let type;\n  let pendingMessages = null;\n  if (this.backChannelRequest_ == request) {\n    this.clearDeadBackchannelTimer_();\n    this.clearBpDetectionTimer_();\n    this.backChannelRequest_ = null;\n    type = WebChannelBase.ChannelType_.BACK_CHANNEL;\n  } else if (this.forwardChannelRequestPool_.hasRequest(request)) {\n    pendingMessages = request.getPendingMessages();\n    this.forwardChannelRequestPool_.removeRequest(request);\n    type = WebChannelBase.ChannelType_.FORWARD_CHANNEL;\n  } else {\n    // return if it was an old request from a previous session\n    return;\n  }\n\n  if (this.state_ == WebChannelBase.State.CLOSED) {\n    return;\n  }\n\n  this.lastStatusCode_ = request.getLastStatusCode();\n\n  if (request.getSuccess()) {\n    if (type == WebChannelBase.ChannelType_.FORWARD_CHANNEL) {\n      const size = request.getPostData() ? request.getPostData().length : 0;\n      requestStats.notifyTimingEvent(\n          size, Date.now() - request.getRequestStartTime(),\n          this.forwardChannelRetryCount_);\n      this.ensureForwardChannel_();\n      this.onSuccess_(request);\n    } else {  // i.e., back-channel\n      this.ensureBackChannel_();\n    }\n    return;\n  }\n  // Else unsuccessful. Fall through.\n\n  const lastError = request.getLastError();\n  if (!WebChannelBase.isFatalError_(lastError, this.lastStatusCode_)) {\n    // Maybe retry.\n    const self = this;\n    this.channelDebug_.debug(function() {\n      'use strict';\n      return 'Maybe retrying, last error: ' +\n          ChannelRequest.errorStringFromCode(lastError, self.lastStatusCode_);\n    });\n    if (type == WebChannelBase.ChannelType_.FORWARD_CHANNEL) {\n      if (this.maybeRetryForwardChannel_(request)) {\n        return;\n      }\n    }\n    if (type == WebChannelBase.ChannelType_.BACK_CHANNEL) {\n      if (this.maybeRetryBackChannel_()) {\n        return;\n      }\n    }\n    // Else exceeded max retries. Fall through.\n    this.channelDebug_.debug('Exceeded max number of retries');\n  } else {\n    // Else fatal error. Fall through and mark the pending maps as failed.\n    this.channelDebug_.debug('Not retrying due to error type');\n  }\n\n\n  // Abort the channel now\n\n  // Record pending messages from the failed request\n  if (pendingMessages && pendingMessages.length > 0) {\n    this.forwardChannelRequestPool_.addPendingMessages(pendingMessages);\n  }\n\n  this.channelDebug_.debug('Error: HTTP request failed');\n  switch (lastError) {\n    case ChannelRequest.Error.NO_DATA:\n      this.signalError_(WebChannelBase.Error.NO_DATA);\n      break;\n    case ChannelRequest.Error.BAD_DATA:\n      this.signalError_(WebChannelBase.Error.BAD_DATA);\n      break;\n    case ChannelRequest.Error.UNKNOWN_SESSION_ID:\n      this.signalError_(WebChannelBase.Error.UNKNOWN_SESSION_ID);\n      break;\n    default:\n      this.signalError_(WebChannelBase.Error.REQUEST_FAILED);\n      break;\n  }\n};\n\n\n/**\n * @param {number} retryCount Number of retries so far.\n * @return {number} Time in ms before firing next retry request.\n * @private\n */\nWebChannelBase.prototype.getRetryTime_ = function(retryCount) {\n  'use strict';\n  let retryTime = this.baseRetryDelayMs_ +\n      Math.floor(Math.random() * this.retryDelaySeedMs_);\n  if (!this.isActive()) {\n    this.channelDebug_.debug('Inactive channel');\n    retryTime = retryTime * WebChannelBase.INACTIVE_CHANNEL_RETRY_FACTOR;\n  }\n  // Backoff for subsequent retries\n  retryTime *= retryCount;\n  return retryTime;\n};\n\n\n/**\n * @param {number} baseDelayMs The base part of the retry delay, in ms.\n * @param {number} delaySeedMs A random delay between 0 and this is added to\n *     the base part.\n */\nWebChannelBase.prototype.setRetryDelay = function(baseDelayMs, delaySeedMs) {\n  'use strict';\n  this.baseRetryDelayMs_ = baseDelayMs;\n  this.retryDelaySeedMs_ = delaySeedMs;\n};\n\n\n/**\n * Apply any handshake control headers.\n * @param {!ChannelRequest} request The underlying request object\n * @private\n */\nWebChannelBase.prototype.applyControlHeaders_ = function(request) {\n  'use strict';\n  const xhr = request.getXhr();\n  if (xhr) {\n    const clientProtocol =\n        xhr.getStreamingResponseHeader(WebChannel.X_CLIENT_WIRE_PROTOCOL);\n    if (clientProtocol) {\n      this.forwardChannelRequestPool_.applyClientProtocol(clientProtocol);\n    }\n\n    if (this.getHttpSessionIdParam()) {\n      const httpSessionIdHeader =\n          xhr.getStreamingResponseHeader(WebChannel.X_HTTP_SESSION_ID);\n      if (httpSessionIdHeader) {\n        this.setHttpSessionId(httpSessionIdHeader);\n        // update the cached uri\n        const httpSessionIdParam = this.getHttpSessionIdParam();\n\n        this.forwardChannelUri_.setParameterValue(\n            /** @type {string} */ (httpSessionIdParam),  // never null\n            httpSessionIdHeader);\n      } else {\n        this.channelDebug_.warning(\n            'Missing X_HTTP_SESSION_ID in the handshake response');\n      }\n    }\n  }\n};\n\n\n/**\n * Processes the data returned by the server.\n * @param {!Array<!Array<?>>} respArray The response array returned\n *     by the server.\n * @param {!ChannelRequest} request The underlying request object\n * @private\n */\nWebChannelBase.prototype.onInput_ = function(respArray, request) {\n  'use strict';\n  const batch =\n      this.handler_ && this.handler_.channelHandleMultipleArrays ? [] : null;\n  for (let i = 0; i < respArray.length; i++) {\n    let nextArray = respArray[i];\n    this.lastArrayId_ = nextArray[0];\n    nextArray = nextArray[1];\n    if (this.state_ == WebChannelBase.State.OPENING) {\n      if (nextArray[0] == 'c') {\n        this.sid_ = nextArray[1];\n        this.hostPrefix_ = this.correctHostPrefix(nextArray[2]);\n\n        const negotiatedVersion = nextArray[3];\n        if (negotiatedVersion != null) {\n          this.channelVersion_ = negotiatedVersion;\n          this.channelDebug_.info('VER=' + this.channelVersion_);\n        }\n\n        const negotiatedServerVersion = nextArray[4];\n        if (negotiatedServerVersion != null) {\n          this.serverVersion_ = negotiatedServerVersion;\n          this.channelDebug_.info('SVER=' + this.serverVersion_);\n        }\n\n        // CVER=22\n        const serverKeepaliveMs = nextArray[5];\n        if (serverKeepaliveMs != null &&\n            typeof serverKeepaliveMs === 'number' && serverKeepaliveMs > 0) {\n          const timeout = 1.5 * serverKeepaliveMs;\n          this.backChannelRequestTimeoutMs_ = timeout;\n          this.channelDebug_.info('backChannelRequestTimeoutMs_=' + timeout);\n        }\n\n        this.applyControlHeaders_(request);\n\n        this.state_ = WebChannelBase.State.OPENED;\n        if (this.handler_) {\n          this.handler_.channelOpened(this);\n        }\n\n        if (this.detectBufferingProxy_) {\n          this.handshakeRttMs_ = Date.now() - request.getRequestStartTime();\n          this.channelDebug_.info(\n              'Handshake RTT: ' + this.handshakeRttMs_ + 'ms');\n        }\n\n        this.startBackchannelAfterHandshake_(request);\n\n        if (this.outgoingMaps_.length > 0) {\n          this.ensureForwardChannel_();\n        }\n      } else if (nextArray[0] == 'stop' || nextArray[0] == 'close') {\n        // treat close also as an abort\n        this.signalError_(WebChannelBase.Error.STOP);\n      }\n    } else if (this.state_ == WebChannelBase.State.OPENED) {\n      if (nextArray[0] == 'stop' || nextArray[0] == 'close') {\n        if (batch && !(batch.length === 0)) {\n          this.handler_.channelHandleMultipleArrays(this, batch);\n          batch.length = 0;\n        }\n        if (nextArray[0] == 'stop') {\n          this.signalError_(WebChannelBase.Error.STOP);\n        } else {\n          this.disconnect();\n        }\n      } else if (nextArray[0] == 'noop') {\n        // ignore - noop to keep connection happy\n      } else {\n        if (batch) {\n          batch.push(nextArray);\n        } else if (this.handler_) {\n          this.handler_.channelHandleArray(this, nextArray);\n        }\n      }\n      // We have received useful data on the back-channel, so clear its retry\n      // count. We do this because back-channels by design do not complete\n      // quickly, so on a flaky connection we could have many fail to complete\n      // fully but still deliver a lot of data before they fail. We don't want\n      // to count such failures towards the retry limit, because we don't want\n      // to give up on a session if we can still receive data.\n      this.backChannelRetryCount_ = 0;\n    }\n  }\n  if (batch && !(batch.length === 0)) {\n    this.handler_.channelHandleMultipleArrays(this, batch);\n  }\n};\n\n\n/**\n * Starts the backchannel after the handshake.\n *\n * @param {!ChannelRequest} request The underlying request object\n * @private\n */\nWebChannelBase.prototype.startBackchannelAfterHandshake_ = function(request) {\n  'use strict';\n  this.backChannelUri_ = this.getBackChannelUri(\n      this.hostPrefix_, /** @type {string} */ (this.path_));\n\n  if (request.isInitialResponseDecoded()) {\n    this.channelDebug_.debug('Upgrade the handshake request to a backchannel.');\n    this.forwardChannelRequestPool_.removeRequest(request);\n    request.resetTimeout(this.backChannelRequestTimeoutMs_);\n    this.backChannelRequest_ = request;\n  } else {\n    this.ensureBackChannel_();\n  }\n};\n\n\n/**\n * Helper to ensure the channel is in the expected state.\n * @param {...number} var_args The channel must be in one of the indicated\n *     states.\n * @private\n */\nWebChannelBase.prototype.ensureInState_ = function(var_args) {\n  'use strict';\n  goog.asserts.assert(\n      goog.array.contains(arguments, this.state_),\n      'Unexpected channel state: %s', this.state_);\n};\n\n\n/**\n * Signals an error has occurred.\n * @param {WebChannelBase.Error} error The error code for the failure.\n * @private\n */\nWebChannelBase.prototype.signalError_ = function(error) {\n  'use strict';\n  this.channelDebug_.info('Error code ' + error);\n  if (error == WebChannelBase.Error.REQUEST_FAILED) {\n    // Create a separate Internet connection to check\n    // if it's a server error or user's network error.\n    let imageUri = null;\n    if (this.handler_) {\n      imageUri = this.handler_.getNetworkTestImageUri(this);\n    }\n    netUtils.testNetwork(goog.bind(this.testNetworkCallback_, this), imageUri);\n  } else {\n    requestStats.notifyStatEvent(requestStats.Stat.ERROR_OTHER);\n  }\n  this.onError_(error);\n};\n\n\n/**\n * Callback for netUtils.testNetwork during error handling.\n * @param {boolean} networkUp Whether the network is up.\n * @private\n */\nWebChannelBase.prototype.testNetworkCallback_ = function(networkUp) {\n  'use strict';\n  if (networkUp) {\n    this.channelDebug_.info('Successfully pinged google.com');\n    requestStats.notifyStatEvent(requestStats.Stat.ERROR_OTHER);\n  } else {\n    this.channelDebug_.info('Failed to ping google.com');\n    requestStats.notifyStatEvent(requestStats.Stat.ERROR_NETWORK);\n    // Do not call onError_ again to eliminate duplicated Error events.\n  }\n};\n\n\n/**\n * Called when messages have been successfully sent from the queue.\n * @param {!ChannelRequest} request The request object\n * @private\n */\nWebChannelBase.prototype.onSuccess_ = function(request) {\n  'use strict';\n  if (this.handler_) {\n    this.handler_.channelSuccess(this, request);\n  }\n};\n\n\n/**\n * Called when we've determined the final error for a channel. It closes the\n * notifiers the handler of the error and closes the channel.\n * @param {WebChannelBase.Error} error  The error code for the failure.\n * @private\n */\nWebChannelBase.prototype.onError_ = function(error) {\n  'use strict';\n  this.channelDebug_.debug('HttpChannel: error - ' + error);\n  this.state_ = WebChannelBase.State.CLOSED;\n  if (this.handler_) {\n    this.handler_.channelError(this, error);\n  }\n  this.onClose_();\n  this.cancelRequests_();\n};\n\n\n/**\n * Called when the channel has been closed. It notifiers the handler of the\n * event, and reports any pending or undelivered maps.\n * @private\n */\nWebChannelBase.prototype.onClose_ = function() {\n  'use strict';\n  this.state_ = WebChannelBase.State.CLOSED;\n  this.nonAckedMapsAtChannelClose_ = [];\n  if (this.handler_) {\n    const pendingMessages =\n        this.forwardChannelRequestPool_.getPendingMessages();\n\n    if (pendingMessages.length == 0 && this.outgoingMaps_.length == 0) {\n      this.handler_.channelClosed(this);\n    } else {\n      this.channelDebug_.debug(\n          () => 'Number of undelivered maps' +\n              ', pending: ' + pendingMessages.length +\n              ', outgoing: ' + this.outgoingMaps_.length);\n\n      goog.array.extend(this.nonAckedMapsAtChannelClose_, pendingMessages);\n      goog.array.extend(this.nonAckedMapsAtChannelClose_, this.outgoingMaps_);\n\n      this.forwardChannelRequestPool_.clearPendingMessages();\n\n      const copyOfUndeliveredMaps = goog.array.clone(this.outgoingMaps_);\n      this.outgoingMaps_.length = 0;\n\n      this.handler_.channelClosed(this, pendingMessages, copyOfUndeliveredMaps);\n    }\n  }\n};\n\n/**\n * @return {!Array<!Wire.QueuedMap>} Returns the list of non-acked maps, both\n * during an active channel or after the channel is closed. Refer to the\n * `getNonAckedMessages()` API for definitions of non-acked messages.\n */\nWebChannelBase.prototype.getNonAckedMaps = function() {\n  if (this.state_ == WebChannelBase.State.CLOSED) {\n    goog.asserts.assert(\n        this.nonAckedMapsAtChannelClose_ != null,\n        'nonAckedMapsAtChannelClose_ is not set after channel close.');\n    return this.nonAckedMapsAtChannelClose_;\n  }\n\n  // The underlying message objects are not cloned and thus exposes a mutability\n  // risk, but is chosen to make strict equality (i.e. ===) checks possible for\n  // callers.\n  let unAckedMaps = [];\n  goog.array.extend(\n      unAckedMaps, this.forwardChannelRequestPool_.getPendingMessages());\n  goog.array.extend(unAckedMaps, this.outgoingMaps_);\n\n  return unAckedMaps;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.getForwardChannelUri = function(path) {\n  'use strict';\n  const uri = this.createDataUri(null, path);\n  this.channelDebug_.debug('GetForwardChannelUri: ' + uri);\n  return uri;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.getConnectionState = function() {\n  'use strict';\n  return this.connState_;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.getBackChannelUri = function(hostPrefix, path) {\n  'use strict';\n  const uri = this.createDataUri(\n      this.shouldUseSecondaryDomains() ? hostPrefix : null, path);\n  this.channelDebug_.debug('GetBackChannelUri: ' + uri);\n  return uri;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.createDataUri = function(\n    hostPrefix, path, opt_overridePort) {\n  'use strict';\n  let uri = goog.Uri.parse(path);\n  const uriAbsolute = (uri.getDomain() != '');\n  if (uriAbsolute) {\n    if (hostPrefix) {\n      uri.setDomain(hostPrefix + '.' + uri.getDomain());\n    }\n\n    uri.setPort(opt_overridePort || uri.getPort());\n  } else {\n    const locationPage = goog.global.location;\n    let hostName;\n    if (hostPrefix) {\n      hostName = hostPrefix + '.' + locationPage.hostname;\n    } else {\n      hostName = locationPage.hostname;\n    }\n\n    const port = opt_overridePort || +locationPage.port;\n\n    uri = goog.Uri.create(locationPage.protocol, null, hostName, port, path);\n  }\n\n  const param = this.getHttpSessionIdParam();\n  const value = this.getHttpSessionId();\n  if (param && value) {\n    uri.setParameterValue(param, value);\n  }\n\n  // Add the protocol version to the URI.\n  uri.setParameterValue('VER', this.channelVersion_);\n\n  this.addAdditionalParams_(uri);\n\n  return uri;\n};\n\n/**\n * @override\n * @param {?string} hostPrefix The host prefix, if we need an XhrIo object\n *     capable of calling a secondary domain.\n * @param {boolean=} isStreaming Whether or not fetch/streams are enabled for\n *     the underlying HTTP request.\n * @return {!goog.net.XhrIo} A new XhrIo object.\n */\nWebChannelBase.prototype.createXhrIo = function(hostPrefix, isStreaming) {\n  'use strict';\n  if (hostPrefix && !this.supportsCrossDomainXhrs_) {\n    throw new Error('Can\\'t create secondary domain capable XhrIo object.');\n  }\n  let xhr;\n  if (isStreaming && this.usesFetchStreams_ && !this.xmlHttpFactory_) {\n    xhr = new goog.net.XhrIo(\n        new goog.net.FetchXmlHttpFactory({streamBinaryChunks: true}));\n  } else {\n    xhr = new goog.net.XhrIo(this.xmlHttpFactory_);\n  }\n  xhr.setWithCredentials(this.supportsCrossDomainXhrs_);\n  return xhr;\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.isActive = function() {\n  'use strict';\n  return !!this.handler_ && this.handler_.isActive(this);\n};\n\n\n/**\n * @override\n */\nWebChannelBase.prototype.shouldUseSecondaryDomains = function() {\n  'use strict';\n  return this.supportsCrossDomainXhrs_;\n};\n\n\n/**\n * Sets (overwrites) the forward channel flush callback.\n *\n * @param {function()} callback The callback to be invoked.\n */\nWebChannelBase.prototype.setForwardChannelFlushCallback = function(callback) {\n  'use strict';\n  this.forwardChannelFlushedCallback_ = callback;\n};\n\n\n/**\n * Abstract base class for the channel handler\n * @constructor\n * @struct\n */\nWebChannelBase.Handler = function() {};\n\n\n/**\n * Callback handler for when a batch of response arrays is received from the\n * server. When null, batched dispatching is disabled.\n * @type {?function(!WebChannelBase, !Array<!Array<?>>)}\n */\nWebChannelBase.Handler.prototype.channelHandleMultipleArrays = null;\n\n\n/**\n * Whether it's okay to make a request to the server. A handler can return\n * false if the channel should fail. For example, if the user has logged out,\n * the handler may want all requests to fail immediately.\n * @param {WebChannelBase} channel The channel.\n * @return {WebChannelBase.Error} An error code. The code should\n * return WebChannelBase.Error.OK to indicate it's okay. Any other\n * error code will cause a failure.\n */\nWebChannelBase.Handler.prototype.okToMakeRequest = function(channel) {\n  'use strict';\n  return WebChannelBase.Error.OK;\n};\n\n\n/**\n * Indicates the WebChannel has successfully negotiated with the server\n * and can now send and receive data.\n * @param {WebChannelBase} channel The channel.\n */\nWebChannelBase.Handler.prototype.channelOpened = function(channel) {};\n\n\n/**\n * New input is available for the application to process.\n *\n * @param {WebChannelBase} channel The channel.\n * @param {Array<?>} array The data array.\n */\nWebChannelBase.Handler.prototype.channelHandleArray = function(\n    channel, array) {};\n\n\n/**\n * Indicates messages that have been successfully sent on the channel.\n *\n * @param {WebChannelBase} channel The channel.\n * @param {!ChannelRequest} request The request object that contains\n *     the pending messages that have been successfully delivered to the server.\n */\nWebChannelBase.Handler.prototype.channelSuccess = function(channel, request) {};\n\n\n/**\n * Indicates an error occurred on the WebChannel.\n *\n * @param {WebChannelBase} channel The channel.\n * @param {WebChannelBase.Error} error The error code.\n */\nWebChannelBase.Handler.prototype.channelError = function(channel, error) {};\n\n\n/**\n * Indicates the WebChannel is closed. Also notifies about which maps,\n * if any, that may not have been delivered to the server.\n * @param {WebChannelBase} channel The channel.\n * @param {Array<Wire.QueuedMap>=} opt_pendingMaps The\n *     array of pending maps, which may or may not have been delivered to the\n *     server.\n * @param {Array<Wire.QueuedMap>=} opt_undeliveredMaps\n *     The array of undelivered maps, which have definitely not been delivered\n *     to the server.\n */\nWebChannelBase.Handler.prototype.channelClosed = function(\n    channel, opt_pendingMaps, opt_undeliveredMaps) {};\n\n\n/**\n * Gets any parameters that should be added at the time another connection is\n * made to the server.\n * @param {WebChannelBase} channel The channel.\n * @return {!Object} Extra parameter keys and values to add to the requests.\n */\nWebChannelBase.Handler.prototype.getAdditionalParams = function(channel) {\n  'use strict';\n  return {};\n};\n\n\n/**\n * Gets the URI of an image that can be used to test network connectivity.\n * @param {WebChannelBase} channel The channel.\n * @return {goog.Uri?} A custom URI to load for the network test.\n */\nWebChannelBase.Handler.prototype.getNetworkTestImageUri = function(channel) {\n  'use strict';\n  return null;\n};\n\n\n/**\n * Gets whether this channel is currently active. This is used to determine the\n * length of time to wait before retrying.\n * @param {WebChannelBase} channel The channel.\n * @return {boolean} Whether the channel is currently active.\n */\nWebChannelBase.Handler.prototype.isActive = function(channel) {\n  'use strict';\n  return true;\n};\n\n/**\n * Whether or not this channel uses WHATWG Fetch/streams.\n * @override\n * @return {boolean}\n */\nWebChannelBase.prototype.usesFetchStreams = function() {\n  'use strict';\n  return this.usesFetchStreams_;\n};\n\n\n/**\n * Called by the channel if enumeration of the map throws an exception.\n * @param {WebChannelBase} channel The channel.\n * @param {Object} map The map that can't be enumerated.\n */\nWebChannelBase.Handler.prototype.badMapError = function(channel, map) {};\n\n\n/**\n * Allows the handler to override a host prefix provided by the server. Will\n * be called whenever the channel has received such a prefix and is considering\n * its use.\n * @param {?string} serverHostPrefix The host prefix provided by the server.\n * @return {?string} The host prefix the client should use.\n */\nWebChannelBase.Handler.prototype.correctHostPrefix = function(\n    serverHostPrefix) {\n  'use strict';\n  return serverHostPrefix;\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Class for parsing and formatting URIs.\n *\n * This package is deprecated in favour of the Closure URL package (goog.url)\n * when manipulating URIs for use by a browser. This package uses regular\n * expressions to parse a potential URI which can fall out of sync with how a\n * browser will actually interpret the URI. See\n * `goog.uri.utils.setUrlPackageSupportLoggingHandler` for one way to identify\n * URIs that should instead be parsed using the URL package.\n *\n * Use goog.Uri(string) to parse a URI string.  Use goog.Uri.create(...) to\n * create a new instance of the goog.Uri object from Uri parts.\n *\n * e.g: <code>var myUri = new goog.Uri(window.location);</code>\n *\n * Implements RFC 3986 for parsing/formatting URIs.\n * http://www.ietf.org/rfc/rfc3986.txt\n *\n * Some changes have been made to the interface (more like .NETs), though the\n * internal representation is now of un-encoded parts, this will change the\n * behavior slightly.\n */\n\ngoog.provide('goog.Uri');\ngoog.provide('goog.Uri.QueryData');\n\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.collections.maps');\ngoog.require('goog.string');\ngoog.require('goog.structs');\ngoog.require('goog.uri.utils');\ngoog.require('goog.uri.utils.ComponentIndex');\ngoog.require('goog.uri.utils.StandardQueryParam');\n\n\n\n/**\n * This class contains setters and getters for the parts of the URI.\n * The <code>getXyz</code>/<code>setXyz</code> methods return the decoded part\n * -- so<code>goog.Uri.parse('/foo%20bar').getPath()</code> will return the\n * decoded path, <code>/foo bar</code>.\n *\n * Reserved characters (see RFC 3986 section 2.2) can be present in\n * their percent-encoded form in scheme, domain, and path URI components and\n * will not be auto-decoded. For example:\n * <code>goog.Uri.parse('rel%61tive/path%2fto/resource').getPath()</code> will\n * return <code>relative/path%2fto/resource</code>.\n *\n * The constructor accepts an optional unparsed, raw URI string.  The parser\n * is relaxed, so special characters that aren't escaped but don't cause\n * ambiguities will not cause parse failures.\n *\n * All setters return <code>this</code> and so may be chained, a la\n * <code>goog.Uri.parse('/foo').setFragment('part').toString()</code>.\n *\n * @param {*=} opt_uri Optional string URI to parse\n *        (use goog.Uri.create() to create a URI from parts), or if\n *        a goog.Uri is passed, a clone is created.\n * @param {boolean=} opt_ignoreCase If true, #getParameterValue will ignore\n * the case of the parameter name.\n *\n * @throws URIError If opt_uri is provided and URI is malformed (that is,\n *     if decodeURIComponent fails on any of the URI components).\n * @constructor\n * @struct\n */\ngoog.Uri = function(opt_uri, opt_ignoreCase) {\n  'use strict';\n  /**\n   * Scheme such as \"http\".\n   * @private {string}\n   */\n  this.scheme_ = '';\n\n  /**\n   * User credentials in the form \"username:password\".\n   * @private {string}\n   */\n  this.userInfo_ = '';\n\n  /**\n   * Domain part, e.g. \"www.google.com\".\n   * @private {string}\n   */\n  this.domain_ = '';\n\n  /**\n   * Port, e.g. 8080.\n   * @private {?number}\n   */\n  this.port_ = null;\n\n  /**\n   * Path, e.g. \"/tests/img.png\".\n   * @private {string}\n   */\n  this.path_ = '';\n\n  /**\n   * The fragment without the #.\n   * @private {string}\n   */\n  this.fragment_ = '';\n\n  /**\n   * Whether or not this Uri should be treated as Read Only.\n   * @private {boolean}\n   */\n  this.isReadOnly_ = false;\n\n  /**\n   * Whether or not to ignore case when comparing query params.\n   * @private {boolean}\n   */\n  this.ignoreCase_ = false;\n\n  /**\n   * Object representing query data.\n   * @private {!goog.Uri.QueryData}\n   */\n  this.queryData_;\n\n  // Parse in the uri string\n  var m;\n  if (opt_uri instanceof goog.Uri) {\n    this.ignoreCase_ = (opt_ignoreCase !== undefined) ? opt_ignoreCase :\n                                                        opt_uri.getIgnoreCase();\n    this.setScheme(opt_uri.getScheme());\n    this.setUserInfo(opt_uri.getUserInfo());\n    this.setDomain(opt_uri.getDomain());\n    this.setPort(opt_uri.getPort());\n    this.setPath(opt_uri.getPath());\n    this.setQueryData(opt_uri.getQueryData().clone());\n    this.setFragment(opt_uri.getFragment());\n  } else if (opt_uri && (m = goog.uri.utils.split(String(opt_uri)))) {\n    this.ignoreCase_ = !!opt_ignoreCase;\n\n    // Set the parts -- decoding as we do so.\n    // COMPATIBILITY NOTE - In IE, unmatched fields may be empty strings,\n    // whereas in other browsers they will be undefined.\n    this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME] || '', true);\n    this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO] || '', true);\n    this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN] || '', true);\n    this.setPort(m[goog.uri.utils.ComponentIndex.PORT]);\n    this.setPath(m[goog.uri.utils.ComponentIndex.PATH] || '', true);\n    this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA] || '', true);\n    this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT] || '', true);\n\n  } else {\n    this.ignoreCase_ = !!opt_ignoreCase;\n    this.queryData_ = new goog.Uri.QueryData(null, this.ignoreCase_);\n  }\n};\n\n\n/**\n * Parameter name added to stop caching.\n * @type {string}\n */\ngoog.Uri.RANDOM_PARAM = goog.uri.utils.StandardQueryParam.RANDOM;\n\n\n/**\n * @return {string} The string form of the url.\n * @override\n */\ngoog.Uri.prototype.toString = function() {\n  'use strict';\n  var out = [];\n\n  var scheme = this.getScheme();\n  if (scheme) {\n    out.push(\n        goog.Uri.encodeSpecialChars_(\n            scheme, goog.Uri.reDisallowedInSchemeOrUserInfo_, true),\n        ':');\n  }\n\n  var domain = this.getDomain();\n  if (domain || scheme == 'file') {\n    out.push('//');\n\n    var userInfo = this.getUserInfo();\n    if (userInfo) {\n      out.push(\n          goog.Uri.encodeSpecialChars_(\n              userInfo, goog.Uri.reDisallowedInSchemeOrUserInfo_, true),\n          '@');\n    }\n\n    out.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(domain)));\n\n    var port = this.getPort();\n    if (port != null) {\n      out.push(':', String(port));\n    }\n  }\n\n  var path = this.getPath();\n  if (path) {\n    if (this.hasDomain() && path.charAt(0) != '/') {\n      out.push('/');\n    }\n    out.push(goog.Uri.encodeSpecialChars_(\n        path,\n        path.charAt(0) == '/' ? goog.Uri.reDisallowedInAbsolutePath_ :\n                                goog.Uri.reDisallowedInRelativePath_,\n        true));\n  }\n\n  var query = this.getEncodedQuery();\n  if (query) {\n    out.push('?', query);\n  }\n\n  var fragment = this.getFragment();\n  if (fragment) {\n    out.push(\n        '#',\n        goog.Uri.encodeSpecialChars_(\n            fragment, goog.Uri.reDisallowedInFragment_));\n  }\n  return out.join('');\n};\n\n\n/**\n * Resolves the given relative URI (a goog.Uri object), using the URI\n * represented by this instance as the base URI.\n *\n * There are several kinds of relative URIs:<br>\n * 1. foo - replaces the last part of the path, the whole query and fragment<br>\n * 2. /foo - replaces the path, the query and fragment<br>\n * 3. //foo - replaces everything from the domain on.  foo is a domain name<br>\n * 4. ?foo - replace the query and fragment<br>\n * 5. #foo - replace the fragment only\n *\n * Additionally, if relative URI has a non-empty path, all \"..\" and \".\"\n * segments will be resolved, as described in RFC 3986.\n *\n * @param {!goog.Uri} relativeUri The relative URI to resolve.\n * @return {!goog.Uri} The resolved URI.\n */\ngoog.Uri.prototype.resolve = function(relativeUri) {\n  'use strict';\n  var absoluteUri = this.clone();\n\n  // we satisfy these conditions by looking for the first part of relativeUri\n  // that is not blank and applying defaults to the rest\n\n  var overridden = relativeUri.hasScheme();\n\n  if (overridden) {\n    absoluteUri.setScheme(relativeUri.getScheme());\n  } else {\n    overridden = relativeUri.hasUserInfo();\n  }\n\n  if (overridden) {\n    absoluteUri.setUserInfo(relativeUri.getUserInfo());\n  } else {\n    overridden = relativeUri.hasDomain();\n  }\n\n  if (overridden) {\n    absoluteUri.setDomain(relativeUri.getDomain());\n  } else {\n    overridden = relativeUri.hasPort();\n  }\n\n  var path = relativeUri.getPath();\n  if (overridden) {\n    absoluteUri.setPort(relativeUri.getPort());\n  } else {\n    overridden = relativeUri.hasPath();\n    if (overridden) {\n      // resolve path properly\n      if (path.charAt(0) != '/') {\n        // path is relative\n        if (this.hasDomain() && !this.hasPath()) {\n          // RFC 3986, section 5.2.3, case 1\n          path = '/' + path;\n        } else {\n          // RFC 3986, section 5.2.3, case 2\n          var lastSlashIndex = absoluteUri.getPath().lastIndexOf('/');\n          if (lastSlashIndex != -1) {\n            path = absoluteUri.getPath().substr(0, lastSlashIndex + 1) + path;\n          }\n        }\n      }\n      path = goog.Uri.removeDotSegments(path);\n    }\n  }\n\n  if (overridden) {\n    absoluteUri.setPath(path);\n  } else {\n    overridden = relativeUri.hasQuery();\n  }\n\n  if (overridden) {\n    absoluteUri.setQueryData(relativeUri.getQueryData().clone());\n  } else {\n    overridden = relativeUri.hasFragment();\n  }\n\n  if (overridden) {\n    absoluteUri.setFragment(relativeUri.getFragment());\n  }\n\n  return absoluteUri;\n};\n\n\n/**\n * Clones the URI instance.\n * @return {!goog.Uri} New instance of the URI object.\n */\ngoog.Uri.prototype.clone = function() {\n  'use strict';\n  return new goog.Uri(this);\n};\n\n\n/**\n * @return {string} The encoded scheme/protocol for the URI.\n */\ngoog.Uri.prototype.getScheme = function() {\n  'use strict';\n  return this.scheme_;\n};\n\n\n/**\n * Sets the scheme/protocol.\n * @throws URIError If opt_decode is true and newScheme is malformed (that is,\n *     if decodeURIComponent fails).\n * @param {string} newScheme New scheme value.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setScheme = function(newScheme, opt_decode) {\n  'use strict';\n  this.enforceReadOnly();\n  this.scheme_ =\n      opt_decode ? goog.Uri.decodeOrEmpty_(newScheme, true) : newScheme;\n\n  // remove an : at the end of the scheme so somebody can pass in\n  // window.location.protocol\n  if (this.scheme_) {\n    this.scheme_ = this.scheme_.replace(/:$/, '');\n  }\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the scheme has been set.\n */\ngoog.Uri.prototype.hasScheme = function() {\n  'use strict';\n  return !!this.scheme_;\n};\n\n\n/**\n * @return {string} The decoded user info.\n */\ngoog.Uri.prototype.getUserInfo = function() {\n  'use strict';\n  return this.userInfo_;\n};\n\n\n/**\n * Sets the userInfo.\n * @throws URIError If opt_decode is true and newUserInfo is malformed (that is,\n *     if decodeURIComponent fails).\n * @param {string} newUserInfo New userInfo value.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setUserInfo = function(newUserInfo, opt_decode) {\n  'use strict';\n  this.enforceReadOnly();\n  this.userInfo_ =\n      opt_decode ? goog.Uri.decodeOrEmpty_(newUserInfo) : newUserInfo;\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the user info has been set.\n */\ngoog.Uri.prototype.hasUserInfo = function() {\n  'use strict';\n  return !!this.userInfo_;\n};\n\n\n/**\n * @return {string} The decoded domain.\n */\ngoog.Uri.prototype.getDomain = function() {\n  'use strict';\n  return this.domain_;\n};\n\n\n/**\n * Sets the domain.\n * @throws URIError If opt_decode is true and newDomain is malformed (that is,\n *     if decodeURIComponent fails).\n * @param {string} newDomain New domain value.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setDomain = function(newDomain, opt_decode) {\n  'use strict';\n  this.enforceReadOnly();\n  this.domain_ =\n      opt_decode ? goog.Uri.decodeOrEmpty_(newDomain, true) : newDomain;\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the domain has been set.\n */\ngoog.Uri.prototype.hasDomain = function() {\n  'use strict';\n  return !!this.domain_;\n};\n\n\n/**\n * @return {?number} The port number.\n */\ngoog.Uri.prototype.getPort = function() {\n  'use strict';\n  return this.port_;\n};\n\n\n/**\n * Sets the port number.\n * @param {*} newPort Port number. Will be explicitly casted to a number.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setPort = function(newPort) {\n  'use strict';\n  this.enforceReadOnly();\n\n  if (newPort) {\n    newPort = Number(newPort);\n    if (isNaN(newPort) || newPort < 0) {\n      throw new Error('Bad port number ' + newPort);\n    }\n    this.port_ = newPort;\n  } else {\n    this.port_ = null;\n  }\n\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the port has been set.\n */\ngoog.Uri.prototype.hasPort = function() {\n  'use strict';\n  return this.port_ != null;\n};\n\n\n/**\n * @return {string} The decoded path.\n */\ngoog.Uri.prototype.getPath = function() {\n  'use strict';\n  return this.path_;\n};\n\n\n/**\n * Sets the path.\n * @throws URIError If opt_decode is true and newPath is malformed (that is,\n *     if decodeURIComponent fails).\n * @param {string} newPath New path value.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setPath = function(newPath, opt_decode) {\n  'use strict';\n  this.enforceReadOnly();\n  this.path_ = opt_decode ? goog.Uri.decodeOrEmpty_(newPath, true) : newPath;\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the path has been set.\n */\ngoog.Uri.prototype.hasPath = function() {\n  'use strict';\n  return !!this.path_;\n};\n\n\n/**\n * @return {boolean} Whether the query string has been set.\n */\ngoog.Uri.prototype.hasQuery = function() {\n  'use strict';\n  return this.queryData_.toString() !== '';\n};\n\n\n/**\n * Sets the query data.\n * @param {goog.Uri.QueryData|string|undefined} queryData QueryData object.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n *     Applies only if queryData is a string.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setQueryData = function(queryData, opt_decode) {\n  'use strict';\n  this.enforceReadOnly();\n\n  if (queryData instanceof goog.Uri.QueryData) {\n    this.queryData_ = queryData;\n    this.queryData_.setIgnoreCase(this.ignoreCase_);\n  } else {\n    if (!opt_decode) {\n      // QueryData accepts encoded query string, so encode it if\n      // opt_decode flag is not true.\n      queryData = goog.Uri.encodeSpecialChars_(\n          queryData, goog.Uri.reDisallowedInQuery_);\n    }\n    this.queryData_ = new goog.Uri.QueryData(queryData, this.ignoreCase_);\n  }\n\n  return this;\n};\n\n\n/**\n * Sets the URI query.\n * @param {string} newQuery New query value.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setQuery = function(newQuery, opt_decode) {\n  'use strict';\n  return this.setQueryData(newQuery, opt_decode);\n};\n\n\n/**\n * @return {string} The encoded URI query, not including the ?.\n */\ngoog.Uri.prototype.getEncodedQuery = function() {\n  'use strict';\n  return this.queryData_.toString();\n};\n\n\n/**\n * @return {string} The decoded URI query, not including the ?.\n */\ngoog.Uri.prototype.getDecodedQuery = function() {\n  'use strict';\n  return this.queryData_.toDecodedString();\n};\n\n\n/**\n * Returns the query data.\n * @return {!goog.Uri.QueryData} QueryData object.\n */\ngoog.Uri.prototype.getQueryData = function() {\n  'use strict';\n  return this.queryData_;\n};\n\n\n/**\n * @return {string} The encoded URI query, not including the ?.\n *\n * Warning: This method, unlike other getter methods, returns encoded\n * value, instead of decoded one.\n */\ngoog.Uri.prototype.getQuery = function() {\n  'use strict';\n  return this.getEncodedQuery();\n};\n\n\n/**\n * Sets the value of the named query parameters, clearing previous values for\n * that key.\n *\n * @param {string} key The parameter to set.\n * @param {*} value The new value. Value does not need to be encoded.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setParameterValue = function(key, value) {\n  'use strict';\n  this.enforceReadOnly();\n  this.queryData_.set(key, value);\n  return this;\n};\n\n\n/**\n * Sets the values of the named query parameters, clearing previous values for\n * that key.  Not new values will currently be moved to the end of the query\n * string.\n *\n * So, <code>goog.Uri.parse('foo?a=b&c=d&e=f').setParameterValues('c', ['new'])\n * </code> yields <tt>foo?a=b&e=f&c=new</tt>.</p>\n *\n * @param {string} key The parameter to set.\n * @param {*} values The new values. If values is a single\n *     string then it will be treated as the sole value. Values do not need to\n *     be encoded.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setParameterValues = function(key, values) {\n  'use strict';\n  this.enforceReadOnly();\n\n  if (!Array.isArray(values)) {\n    values = [String(values)];\n  }\n\n  this.queryData_.setValues(key, values);\n\n  return this;\n};\n\n\n/**\n * Returns the value<b>s</b> for a given cgi parameter as a list of decoded\n * query parameter values.\n * @param {string} name The parameter to get values for.\n * @return {!Array<?>} The values for a given cgi parameter as a list of\n *     decoded query parameter values.\n */\ngoog.Uri.prototype.getParameterValues = function(name) {\n  'use strict';\n  return this.queryData_.getValues(name);\n};\n\n\n/**\n * Returns the first value for a given cgi parameter or undefined if the given\n * parameter name does not appear in the query string.\n * @param {string} paramName Unescaped parameter name.\n * @return {string|undefined} The first value for a given cgi parameter or\n *     undefined if the given parameter name does not appear in the query\n *     string.\n */\ngoog.Uri.prototype.getParameterValue = function(paramName) {\n  'use strict';\n  return /** @type {string|undefined} */ (this.queryData_.get(paramName));\n};\n\n\n/**\n * @return {string} The URI fragment, not including the #.\n */\ngoog.Uri.prototype.getFragment = function() {\n  'use strict';\n  return this.fragment_;\n};\n\n\n/**\n * Sets the URI fragment.\n * @throws URIError If opt_decode is true and newFragment is malformed (that is,\n *     if decodeURIComponent fails).\n * @param {string} newFragment New fragment value.\n * @param {boolean=} opt_decode Optional param for whether to decode new value.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.setFragment = function(newFragment, opt_decode) {\n  'use strict';\n  this.enforceReadOnly();\n  this.fragment_ =\n      opt_decode ? goog.Uri.decodeOrEmpty_(newFragment) : newFragment;\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the URI has a fragment set.\n */\ngoog.Uri.prototype.hasFragment = function() {\n  'use strict';\n  return !!this.fragment_;\n};\n\n\n/**\n * Returns true if this has the same domain as that of uri2.\n * @param {!goog.Uri} uri2 The URI object to compare to.\n * @return {boolean} true if same domain; false otherwise.\n */\ngoog.Uri.prototype.hasSameDomainAs = function(uri2) {\n  'use strict';\n  return ((!this.hasDomain() && !uri2.hasDomain()) ||\n          this.getDomain() == uri2.getDomain()) &&\n      ((!this.hasPort() && !uri2.hasPort()) ||\n       this.getPort() == uri2.getPort());\n};\n\n\n/**\n * Adds a random parameter to the Uri.\n * @return {!goog.Uri} Reference to this Uri object.\n */\ngoog.Uri.prototype.makeUnique = function() {\n  'use strict';\n  this.enforceReadOnly();\n  this.setParameterValue(goog.Uri.RANDOM_PARAM, goog.string.getRandomString());\n\n  return this;\n};\n\n\n/**\n * Removes the named query parameter.\n *\n * @param {string} key The parameter to remove.\n * @return {!goog.Uri} Reference to this URI object.\n */\ngoog.Uri.prototype.removeParameter = function(key) {\n  'use strict';\n  this.enforceReadOnly();\n  this.queryData_.remove(key);\n  return this;\n};\n\n\n/**\n * Sets whether Uri is read only. If this goog.Uri is read-only,\n * enforceReadOnly_ will be called at the start of any function that may modify\n * this Uri.\n * @param {boolean} isReadOnly whether this goog.Uri should be read only.\n * @return {!goog.Uri} Reference to this Uri object.\n */\ngoog.Uri.prototype.setReadOnly = function(isReadOnly) {\n  'use strict';\n  this.isReadOnly_ = isReadOnly;\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether the URI is read only.\n */\ngoog.Uri.prototype.isReadOnly = function() {\n  'use strict';\n  return this.isReadOnly_;\n};\n\n\n/**\n * Checks if this Uri has been marked as read only, and if so, throws an error.\n * This should be called whenever any modifying function is called.\n */\ngoog.Uri.prototype.enforceReadOnly = function() {\n  'use strict';\n  if (this.isReadOnly_) {\n    throw new Error('Tried to modify a read-only Uri');\n  }\n};\n\n\n/**\n * Sets whether to ignore case.\n * NOTE: If there are already key/value pairs in the QueryData, and\n * ignoreCase_ is set to false, the keys will all be lower-cased.\n * @param {boolean} ignoreCase whether this goog.Uri should ignore case.\n * @return {!goog.Uri} Reference to this Uri object.\n */\ngoog.Uri.prototype.setIgnoreCase = function(ignoreCase) {\n  'use strict';\n  this.ignoreCase_ = ignoreCase;\n  if (this.queryData_) {\n    this.queryData_.setIgnoreCase(ignoreCase);\n  }\n  return this;\n};\n\n\n/**\n * @return {boolean} Whether to ignore case.\n */\ngoog.Uri.prototype.getIgnoreCase = function() {\n  'use strict';\n  return this.ignoreCase_;\n};\n\n\n//==============================================================================\n// Static members\n//==============================================================================\n\n\n/**\n * Creates a uri from the string form.  Basically an alias of new goog.Uri().\n * If a Uri object is passed to parse then it will return a clone of the object.\n *\n * @throws URIError If parsing the URI is malformed. The passed URI components\n *     should all be parseable by decodeURIComponent.\n * @param {*} uri Raw URI string or instance of Uri\n *     object.\n * @param {boolean=} opt_ignoreCase Whether to ignore the case of parameter\n * names in #getParameterValue.\n * @return {!goog.Uri} The new URI object.\n */\ngoog.Uri.parse = function(uri, opt_ignoreCase) {\n  'use strict';\n  return uri instanceof goog.Uri ? uri.clone() :\n                                   new goog.Uri(uri, opt_ignoreCase);\n};\n\n\n/**\n * Creates a new goog.Uri object from unencoded parts.\n *\n * @param {?string=} opt_scheme Scheme/protocol or full URI to parse.\n * @param {?string=} opt_userInfo username:password.\n * @param {?string=} opt_domain www.google.com.\n * @param {?number=} opt_port 9830.\n * @param {?string=} opt_path /some/path/to/a/file.html.\n * @param {string|goog.Uri.QueryData=} opt_query a=1&b=2.\n * @param {?string=} opt_fragment The fragment without the #.\n * @param {boolean=} opt_ignoreCase Whether to ignore parameter name case in\n *     #getParameterValue.\n *\n * @return {!goog.Uri} The new URI object.\n */\ngoog.Uri.create = function(\n    opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_query,\n    opt_fragment, opt_ignoreCase) {\n  'use strict';\n  var uri = new goog.Uri(null, opt_ignoreCase);\n\n  // Only set the parts if they are defined and not empty strings.\n  opt_scheme && uri.setScheme(opt_scheme);\n  opt_userInfo && uri.setUserInfo(opt_userInfo);\n  opt_domain && uri.setDomain(opt_domain);\n  opt_port && uri.setPort(opt_port);\n  opt_path && uri.setPath(opt_path);\n  opt_query && uri.setQueryData(opt_query);\n  opt_fragment && uri.setFragment(opt_fragment);\n\n  return uri;\n};\n\n\n/**\n * Resolves a relative Uri against a base Uri, accepting both strings and\n * Uri objects.\n *\n * @param {*} base Base Uri.\n * @param {*} rel Relative Uri.\n * @return {!goog.Uri} Resolved uri.\n */\ngoog.Uri.resolve = function(base, rel) {\n  'use strict';\n  if (!(base instanceof goog.Uri)) {\n    base = goog.Uri.parse(base);\n  }\n\n  if (!(rel instanceof goog.Uri)) {\n    rel = goog.Uri.parse(rel);\n  }\n\n  return base.resolve(rel);\n};\n\n\n/**\n * Removes dot segments in given path component, as described in\n * RFC 3986, section 5.2.4.\n *\n * @param {string} path A non-empty path component.\n * @return {string} Path component with removed dot segments.\n */\ngoog.Uri.removeDotSegments = function(path) {\n  'use strict';\n  if (path == '..' || path == '.') {\n    return '';\n\n  } else if (\n      !goog.string.contains(path, './') && !goog.string.contains(path, '/.')) {\n    // This optimization detects uris which do not contain dot-segments,\n    // and as a consequence do not require any processing.\n    return path;\n\n  } else {\n    var leadingSlash = goog.string.startsWith(path, '/');\n    var segments = path.split('/');\n    var out = [];\n\n    for (var pos = 0; pos < segments.length;) {\n      var segment = segments[pos++];\n\n      if (segment == '.') {\n        if (leadingSlash && pos == segments.length) {\n          out.push('');\n        }\n      } else if (segment == '..') {\n        if (out.length > 1 || out.length == 1 && out[0] != '') {\n          out.pop();\n        }\n        if (leadingSlash && pos == segments.length) {\n          out.push('');\n        }\n      } else {\n        out.push(segment);\n        leadingSlash = true;\n      }\n    }\n\n    return out.join('/');\n  }\n};\n\n\n/**\n * Decodes a value or returns the empty string if it isn't defined or empty.\n * @throws URIError If decodeURIComponent fails to decode val.\n * @param {string|undefined} val Value to decode.\n * @param {boolean=} opt_preserveReserved If true, restricted characters will\n *     not be decoded.\n * @return {string} Decoded value.\n * @private\n */\ngoog.Uri.decodeOrEmpty_ = function(val, opt_preserveReserved) {\n  'use strict';\n  // Don't use UrlDecode() here because val is not a query parameter.\n  if (!val) {\n    return '';\n  }\n\n  // decodeURI has the same output for '%2f' and '%252f'. We double encode %25\n  // so that we can distinguish between the 2 inputs. This is later undone by\n  // removeDoubleEncoding_.\n  return opt_preserveReserved ? decodeURI(val.replace(/%25/g, '%2525')) :\n                                decodeURIComponent(val);\n};\n\n\n/**\n * If unescapedPart is non null, then escapes any characters in it that aren't\n * valid characters in a url and also escapes any special characters that\n * appear in extra.\n *\n * @param {*} unescapedPart The string to encode.\n * @param {RegExp} extra A character set of characters in [\\01-\\177].\n * @param {boolean=} opt_removeDoubleEncoding If true, remove double percent\n *     encoding.\n * @return {?string} null iff unescapedPart == null.\n * @private\n */\ngoog.Uri.encodeSpecialChars_ = function(\n    unescapedPart, extra, opt_removeDoubleEncoding) {\n  'use strict';\n  if (typeof unescapedPart === 'string') {\n    var encoded = encodeURI(unescapedPart).replace(extra, goog.Uri.encodeChar_);\n    if (opt_removeDoubleEncoding) {\n      // encodeURI double-escapes %XX sequences used to represent restricted\n      // characters in some URI components, remove the double escaping here.\n      encoded = goog.Uri.removeDoubleEncoding_(encoded);\n    }\n    return encoded;\n  }\n  return null;\n};\n\n\n/**\n * Converts a character in [\\01-\\177] to its unicode character equivalent.\n * @param {string} ch One character string.\n * @return {string} Encoded string.\n * @private\n */\ngoog.Uri.encodeChar_ = function(ch) {\n  'use strict';\n  var n = ch.charCodeAt(0);\n  return '%' + ((n >> 4) & 0xf).toString(16) + (n & 0xf).toString(16);\n};\n\n\n/**\n * Removes double percent-encoding from a string.\n * @param  {string} doubleEncodedString String\n * @return {string} String with double encoding removed.\n * @private\n */\ngoog.Uri.removeDoubleEncoding_ = function(doubleEncodedString) {\n  'use strict';\n  return doubleEncodedString.replace(/%25([0-9a-fA-F]{2})/g, '%$1');\n};\n\n\n/**\n * Regular expression for characters that are disallowed in the scheme or\n * userInfo part of the URI.\n * @type {RegExp}\n * @private\n */\ngoog.Uri.reDisallowedInSchemeOrUserInfo_ = /[#\\/\\?@]/g;\n\n\n/**\n * Regular expression for characters that are disallowed in a relative path.\n * Colon is included due to RFC 3986 3.3.\n * @type {RegExp}\n * @private\n */\ngoog.Uri.reDisallowedInRelativePath_ = /[\\#\\?:]/g;\n\n\n/**\n * Regular expression for characters that are disallowed in an absolute path.\n * @type {RegExp}\n * @private\n */\ngoog.Uri.reDisallowedInAbsolutePath_ = /[\\#\\?]/g;\n\n\n/**\n * Regular expression for characters that are disallowed in the query.\n * @type {RegExp}\n * @private\n */\ngoog.Uri.reDisallowedInQuery_ = /[\\#\\?@]/g;\n\n\n/**\n * Regular expression for characters that are disallowed in the fragment.\n * @type {RegExp}\n * @private\n */\ngoog.Uri.reDisallowedInFragment_ = /#/g;\n\n\n/**\n * Checks whether two URIs have the same domain.\n * @param {string} uri1String First URI string.\n * @param {string} uri2String Second URI string.\n * @return {boolean} true if the two URIs have the same domain; false otherwise.\n */\ngoog.Uri.haveSameDomain = function(uri1String, uri2String) {\n  'use strict';\n  // Differs from goog.uri.utils.haveSameDomain, since this ignores scheme.\n  // TODO(gboyer): Have this just call goog.uri.util.haveSameDomain.\n  var pieces1 = goog.uri.utils.split(uri1String);\n  var pieces2 = goog.uri.utils.split(uri2String);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] ==\n      pieces2[goog.uri.utils.ComponentIndex.DOMAIN] &&\n      pieces1[goog.uri.utils.ComponentIndex.PORT] ==\n      pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\n\n\n\n/**\n * Class used to represent URI query parameters.  It is essentially a hash of\n * name-value pairs, though a name can be present more than once.\n *\n * Has the same interface as the collections in goog.structs.\n *\n * @param {?string=} opt_query Optional encoded query string to parse into\n *     the object.\n * @param {boolean=} opt_ignoreCase If true, ignore the case of the parameter\n *     name in #get.\n * @constructor\n * @struct\n * @final\n */\ngoog.Uri.QueryData = function(opt_query, opt_ignoreCase) {\n  'use strict';\n  /**\n   * The map containing name/value or name/array-of-values pairs.\n   * May be null if it requires parsing from the query string.\n   *\n   * We need to use a Map because we cannot guarantee that the key names will\n   * not be problematic for IE.\n   *\n   * @private {?Map<string, !Array<*>>}\n   */\n  this.keyMap_ = null;\n\n  /**\n   * The number of params, or null if it requires computing.\n   * @private {?number}\n   */\n  this.count_ = null;\n\n  /**\n   * Encoded query string, or null if it requires computing from the key map.\n   * @private {?string}\n   */\n  this.encodedQuery_ = opt_query || null;\n\n  /**\n   * If true, ignore the case of the parameter name in #get.\n   * @private {boolean}\n   */\n  this.ignoreCase_ = !!opt_ignoreCase;\n};\n\n\n/**\n * If the underlying key map is not yet initialized, it parses the\n * query string and fills the map with parsed data.\n * @private\n */\ngoog.Uri.QueryData.prototype.ensureKeyMapInitialized_ = function() {\n  'use strict';\n  if (!this.keyMap_) {\n    this.keyMap_ = /** @type {!Map<string, !Array<*>>} */ (new Map());\n    this.count_ = 0;\n    if (this.encodedQuery_) {\n      var self = this;\n      goog.uri.utils.parseQueryData(this.encodedQuery_, function(name, value) {\n        'use strict';\n        self.add(goog.string.urlDecode(name), value);\n      });\n    }\n  }\n};\n\n\n/**\n * Creates a new query data instance from a map of names and values.\n *\n * @param {!goog.collections.maps.MapLike<string, ?>|!Object} map Map of string\n *     parameter names to parameter value. If parameter value is an array, it is\n *     treated as if the key maps to each individual value in the\n *     array.\n * @param {boolean=} opt_ignoreCase If true, ignore the case of the parameter\n *     name in #get.\n * @return {!goog.Uri.QueryData} The populated query data instance.\n */\ngoog.Uri.QueryData.createFromMap = function(map, opt_ignoreCase) {\n  'use strict';\n  var keys = goog.structs.getKeys(map);\n  if (typeof keys == 'undefined') {\n    throw new Error('Keys are undefined');\n  }\n\n  var queryData = new goog.Uri.QueryData(null, opt_ignoreCase);\n  var values = goog.structs.getValues(map);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = values[i];\n    if (!Array.isArray(value)) {\n      queryData.add(key, value);\n    } else {\n      queryData.setValues(key, value);\n    }\n  }\n  return queryData;\n};\n\n\n/**\n * Creates a new query data instance from parallel arrays of parameter names\n * and values. Allows for duplicate parameter names. Throws an error if the\n * lengths of the arrays differ.\n *\n * @param {!Array<string>} keys Parameter names.\n * @param {!Array<?>} values Parameter values.\n * @param {boolean=} opt_ignoreCase If true, ignore the case of the parameter\n *     name in #get.\n * @return {!goog.Uri.QueryData} The populated query data instance.\n */\ngoog.Uri.QueryData.createFromKeysValues = function(\n    keys, values, opt_ignoreCase) {\n  'use strict';\n  if (keys.length != values.length) {\n    throw new Error('Mismatched lengths for keys/values');\n  }\n  var queryData = new goog.Uri.QueryData(null, opt_ignoreCase);\n  for (var i = 0; i < keys.length; i++) {\n    queryData.add(keys[i], values[i]);\n  }\n  return queryData;\n};\n\n\n/**\n * @return {?number} The number of parameters.\n */\ngoog.Uri.QueryData.prototype.getCount = function() {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  return this.count_;\n};\n\n\n/**\n * Adds a key value pair.\n * @param {string} key Name.\n * @param {*} value Value.\n * @return {!goog.Uri.QueryData} Instance of this object.\n */\ngoog.Uri.QueryData.prototype.add = function(key, value) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n\n  key = this.getKeyName_(key);\n  var values = this.keyMap_.get(key);\n  if (!values) {\n    this.keyMap_.set(key, (values = []));\n  }\n  values.push(value);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\n\n\n/**\n * Removes all the params with the given key.\n * @param {string} key Name.\n * @return {boolean} Whether any parameter was removed.\n */\ngoog.Uri.QueryData.prototype.remove = function(key) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n\n  key = this.getKeyName_(key);\n  if (this.keyMap_.has(key)) {\n    this.invalidateCache_();\n\n    // Decrement parameter count.\n    this.count_ =\n        goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length;\n    return this.keyMap_.delete(key);\n  }\n  return false;\n};\n\n\n/**\n * Clears the parameters.\n */\ngoog.Uri.QueryData.prototype.clear = function() {\n  'use strict';\n  this.invalidateCache_();\n  this.keyMap_ = null;\n  this.count_ = 0;\n};\n\n\n/**\n * @return {boolean} Whether we have any parameters.\n */\ngoog.Uri.QueryData.prototype.isEmpty = function() {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  return this.count_ == 0;\n};\n\n\n/**\n * Whether there is a parameter with the given name\n * @param {string} key The parameter name to check for.\n * @return {boolean} Whether there is a parameter with the given name.\n */\ngoog.Uri.QueryData.prototype.containsKey = function(key) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key);\n};\n\n\n/**\n * Whether there is a parameter with the given value.\n * @param {*} value The value to check for.\n * @return {boolean} Whether there is a parameter with the given value.\n */\ngoog.Uri.QueryData.prototype.containsValue = function(value) {\n  'use strict';\n  // NOTE(arv): This solution goes through all the params even if it was the\n  // first param. We can get around this by not reusing code or by switching to\n  // iterators.\n  var vals = this.getValues();\n  return goog.array.contains(vals, value);\n};\n\n\n/**\n * Runs a callback on every key-value pair in the map, including duplicate keys.\n * This won't maintain original order when duplicate keys are interspersed (like\n * getKeys() / getValues()).\n * @param {function(this:SCOPE, ?, string, !goog.Uri.QueryData)} f\n * @param {SCOPE=} opt_scope The value of \"this\" inside f.\n * @template SCOPE\n */\ngoog.Uri.QueryData.prototype.forEach = function(f, opt_scope) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(values, key) {\n    'use strict';\n    values.forEach(function(value) {\n      'use strict';\n      f.call(opt_scope, value, key, this);\n    }, this);\n  }, this);\n};\n\n\n/**\n * Returns all the keys of the parameters. If a key is used multiple times\n * it will be included multiple times in the returned array\n * @return {!Array<string>} All the keys of the parameters.\n */\ngoog.Uri.QueryData.prototype.getKeys = function() {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  // We need to get the values to know how many keys to add.\n  const vals = Array.from(this.keyMap_.values());\n  const keys = Array.from(this.keyMap_.keys());\n  const rv = [];\n  for (let i = 0; i < keys.length; i++) {\n    const val = vals[i];\n    for (let j = 0; j < val.length; j++) {\n      rv.push(keys[i]);\n    }\n  }\n  return rv;\n};\n\n\n/**\n * Returns all the values of the parameters with the given name. If the query\n * data has no such key this will return an empty array. If no key is given\n * all values wil be returned.\n * @param {string=} opt_key The name of the parameter to get the values for.\n * @return {!Array<?>} All the values of the parameters with the given name.\n */\ngoog.Uri.QueryData.prototype.getValues = function(opt_key) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  let rv = [];\n  if (typeof opt_key === 'string') {\n    if (this.containsKey(opt_key)) {\n      rv = rv.concat(this.keyMap_.get(this.getKeyName_(opt_key)));\n    }\n  } else {\n    // Return all values.\n    const values = Array.from(this.keyMap_.values());\n    for (let i = 0; i < values.length; i++) {\n      rv = rv.concat(values[i]);\n    }\n  }\n  return rv;\n};\n\n\n/**\n * Sets a key value pair and removes all other keys with the same value.\n *\n * @param {string} key Name.\n * @param {*} value Value.\n * @return {!goog.Uri.QueryData} Instance of this object.\n */\ngoog.Uri.QueryData.prototype.set = function(key, value) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n\n  // TODO(chrishenry): This could be better written as\n  // this.remove(key), this.add(key, value), but that would reorder\n  // the key (since the key is first removed and then added at the\n  // end) and we would have to fix unit tests that depend on key\n  // ordering.\n  key = this.getKeyName_(key);\n  if (this.containsKey(key)) {\n    this.count_ =\n        goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length;\n  }\n  this.keyMap_.set(key, [value]);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\n\n\n/**\n * Returns the first value associated with the key. If the query data has no\n * such key this will return undefined or the optional default.\n * @param {string} key The name of the parameter to get the value for.\n * @param {*=} opt_default The default value to return if the query data\n *     has no such key.\n * @return {*} The first string value associated with the key, or opt_default\n *     if there's no value.\n */\ngoog.Uri.QueryData.prototype.get = function(key, opt_default) {\n  'use strict';\n  if (!key) {\n    return opt_default;\n  }\n  var values = this.getValues(key);\n  return values.length > 0 ? String(values[0]) : opt_default;\n};\n\n\n/**\n * Sets the values for a key. If the key already exists, this will\n * override all of the existing values that correspond to the key.\n * @param {string} key The key to set values for.\n * @param {!Array<?>} values The values to set.\n */\ngoog.Uri.QueryData.prototype.setValues = function(key, values) {\n  'use strict';\n  this.remove(key);\n\n  if (values.length > 0) {\n    this.invalidateCache_();\n    this.keyMap_.set(this.getKeyName_(key), goog.array.clone(values));\n    this.count_ = goog.asserts.assertNumber(this.count_) + values.length;\n  }\n};\n\n\n/**\n * @return {string} Encoded query string.\n * @override\n */\ngoog.Uri.QueryData.prototype.toString = function() {\n  'use strict';\n  if (this.encodedQuery_) {\n    return this.encodedQuery_;\n  }\n\n  if (!this.keyMap_) {\n    return '';\n  }\n\n  const sb = [];\n\n  // In the past, we use this.getKeys() and this.getVals(), but that\n  // generates a lot of allocations as compared to simply iterating\n  // over the keys.\n  const keys = Array.from(this.keyMap_.keys());\n  for (var i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const encodedKey = goog.string.urlEncode(key);\n    const val = this.getValues(key);\n    for (var j = 0; j < val.length; j++) {\n      var param = encodedKey;\n      // Ensure that null and undefined are encoded into the url as\n      // literal strings.\n      if (val[j] !== '') {\n        param += '=' + goog.string.urlEncode(val[j]);\n      }\n      sb.push(param);\n    }\n  }\n\n  return this.encodedQuery_ = sb.join('&');\n};\n\n\n/**\n * @throws URIError If URI is malformed (that is, if decodeURIComponent fails on\n *     any of the URI components).\n * @return {string} Decoded query string.\n */\ngoog.Uri.QueryData.prototype.toDecodedString = function() {\n  'use strict';\n  return goog.Uri.decodeOrEmpty_(this.toString());\n};\n\n\n/**\n * Invalidate the cache.\n * @private\n */\ngoog.Uri.QueryData.prototype.invalidateCache_ = function() {\n  'use strict';\n  this.encodedQuery_ = null;\n};\n\n\n/**\n * Removes all keys that are not in the provided list. (Modifies this object.)\n * @param {Array<string>} keys The desired keys.\n * @return {!goog.Uri.QueryData} a reference to this object.\n */\ngoog.Uri.QueryData.prototype.filterKeys = function(keys) {\n  'use strict';\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(value, key) {\n    'use strict';\n    if (!goog.array.contains(keys, key)) {\n      this.remove(key);\n    }\n  }, this);\n  return this;\n};\n\n\n/**\n * Clone the query data instance.\n * @return {!goog.Uri.QueryData} New instance of the QueryData object.\n */\ngoog.Uri.QueryData.prototype.clone = function() {\n  'use strict';\n  var rv = new goog.Uri.QueryData();\n  rv.encodedQuery_ = this.encodedQuery_;\n  if (this.keyMap_) {\n    rv.keyMap_ = /** @type {!Map<string, !Array<*>>} */ (new Map(this.keyMap_));\n    rv.count_ = this.count_;\n  }\n  return rv;\n};\n\n\n/**\n * Helper function to get the key name from a JavaScript object. Converts\n * the object to a string, and to lower case if necessary.\n * @private\n * @param {*} arg The object to get a key name from.\n * @return {string} valid key name which can be looked up in #keyMap_.\n */\ngoog.Uri.QueryData.prototype.getKeyName_ = function(arg) {\n  'use strict';\n  var keyName = String(arg);\n  if (this.ignoreCase_) {\n    keyName = keyName.toLowerCase();\n  }\n  return keyName;\n};\n\n\n/**\n * Ignore case in parameter names.\n * NOTE: If there are already key/value pairs in the QueryData, and\n * ignoreCase_ is set to false, the keys will all be lower-cased.\n * @param {boolean} ignoreCase whether this goog.Uri should ignore case.\n */\ngoog.Uri.QueryData.prototype.setIgnoreCase = function(ignoreCase) {\n  'use strict';\n  var resetKeys = ignoreCase && !this.ignoreCase_;\n  if (resetKeys) {\n    this.ensureKeyMapInitialized_();\n    this.invalidateCache_();\n    this.keyMap_.forEach(function(value, key) {\n      'use strict';\n      var lowerCase = key.toLowerCase();\n      if (key != lowerCase) {\n        this.remove(key);\n        this.setValues(lowerCase, value);\n      }\n    }, this);\n  }\n  this.ignoreCase_ = ignoreCase;\n};\n\n\n/**\n * Extends a query data object with another query data or map like object. This\n * operates 'in-place', it does not create a new QueryData object.\n *\n * @param {...(?goog.Uri.QueryData|?goog.collections.maps.MapLike<?,\n *     ?>|?Object)} var_args The object from which key value pairs will be\n *     copied. Note: does not accept null.\n * @suppress {deprecated} Use deprecated goog.structs.forEach to allow different\n * types of parameters.\n */\ngoog.Uri.QueryData.prototype.extend = function(var_args) {\n  'use strict';\n  for (var i = 0; i < arguments.length; i++) {\n    var data = arguments[i];\n    goog.structs.forEach(data, function(value, key) {\n      'use strict';\n      this.add(key, value);\n    }, this);\n  }\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The dispose method is used to clean up references and\n * resources.\n */\n\ngoog.module('goog.dispose');\ngoog.module.declareLegacyNamespace();\n\n/**\n * Calls `dispose` on the argument if it supports it. If obj is not an\n *     object with a dispose() method, this is a no-op.\n * @param {*} obj The object to dispose of.\n */\nfunction dispose(obj) {\n  if (obj && typeof obj.dispose == 'function') {\n    obj.dispose();\n  }\n}\nexports = dispose;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Codec functions of the v8 wire protocol. Eventually we'd want\n * to support pluggable wire-format to improve wire efficiency and to enable\n * binary encoding. Such support will require an interface class, which\n * will be added later.\n *\n */\n\n\ngoog.provide('goog.labs.net.webChannel.WireV8');\n\ngoog.require('goog.asserts');\ngoog.require('goog.collections.maps');\ngoog.require('goog.json');\ngoog.require('goog.json.NativeJsonProcessor');\ngoog.require('goog.labs.net.webChannel.Wire');\ngoog.require('goog.structs');\ngoog.requireType('goog.string.Parser');\n\n\n\n/**\n * The v8 codec class.\n *\n * @constructor\n * @struct\n */\ngoog.labs.net.webChannel.WireV8 = function() {\n  'use strict';\n  /**\n   * Parser for a response payload. The parser should return an array.\n   * @private {!goog.string.Parser}\n   */\n  this.parser_ = new goog.json.NativeJsonProcessor();\n};\n\n\ngoog.scope(function() {\n'use strict';\nconst WireV8 = goog.labs.net.webChannel.WireV8;\nconst Wire = goog.labs.net.webChannel.Wire;\n\n\n/**\n * Encodes a standalone message into the wire format.\n *\n * May throw exception if the message object contains any invalid elements.\n *\n * @param {!Object|!goog.collections.maps.MapLike} message The message data.\n *     V8 only support JS objects (or Map).\n * @param {!Array<string>} buffer The text buffer to write the message to.\n * @param {string=} opt_prefix The prefix for each field of the object.\n */\nWireV8.prototype.encodeMessage = function(message, buffer, opt_prefix) {\n  'use strict';\n  const prefix = opt_prefix || '';\n  try {\n    goog.structs.forEach(message, function(value, key) {\n      'use strict';\n      let encodedValue = value;\n      if (goog.isObject(value)) {\n        encodedValue = goog.json.serialize(value);\n      }  // keep the fast-path for primitive types\n      buffer.push(prefix + key + '=' + encodeURIComponent(encodedValue));\n    });\n  } catch (ex) {\n    // We send a map here because lots of the retry logic relies on map IDs,\n    // so we have to send something (possibly redundant).\n    buffer.push(\n        prefix + 'type' +\n        '=' + encodeURIComponent('_badmap'));\n    throw ex;\n  }\n};\n\n\n/**\n * Encodes all the buffered messages of the forward channel.\n *\n * @param {!Array<Wire.QueuedMap>} messageQueue The message data.\n *     V8 only support JS objects.\n * @param {number} count The number of messages to be encoded.\n * @param {?function(!Object)} badMapHandler Callback for bad messages.\n * @return {string} the encoded messages\n */\nWireV8.prototype.encodeMessageQueue = function(\n    messageQueue, count, badMapHandler) {\n  'use strict';\n  let offset = -1;\n  while (true) {\n    const sb = ['count=' + count];\n    // To save a bit of bandwidth, specify the base mapId and the rest as\n    // offsets from it.\n    if (offset == -1) {\n      if (count > 0) {\n        offset = messageQueue[0].mapId;\n        sb.push('ofs=' + offset);\n      } else {\n        offset = 0;\n      }\n    } else {\n      sb.push('ofs=' + offset);\n    }\n    let done = true;\n    for (let i = 0; i < count; i++) {\n      let mapId = messageQueue[i].mapId;\n      const map = messageQueue[i].map;\n      mapId -= offset;\n      if (mapId < 0) {\n        // redo the encoding in case of retry/reordering, plus extra space\n        offset = Math.max(0, messageQueue[i].mapId - 100);\n        done = false;\n        continue;\n      }\n      try {\n        this.encodeMessage(map, sb, 'req' + mapId + '_');\n      } catch (ex) {\n        if (badMapHandler) {\n          badMapHandler(map);\n        }\n      }\n    }\n    if (done) {\n      return sb.join('&');\n    }\n  }\n};\n\n\n/**\n * Decodes a standalone message received from the wire. May throw exception\n * if text is ill-formatted.\n *\n * Must be valid JSON as it is insecure to use eval() to decode JS literals;\n * and eval() is disallowed in Chrome apps too.\n *\n * Invalid JS literals include null array elements, quotas etc.\n *\n * @param {string} messageText The string content as received from the wire.\n * @return {*} The decoded message object.\n */\nWireV8.prototype.decodeMessage = function(messageText) {\n  'use strict';\n  const response = this.parser_.parse(messageText);\n  goog.asserts.assert(Array.isArray(response));  // throw exception\n  return response;\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utilities for string manipulation.\n */\n\n\n/**\n * Namespace for string utilities\n */\ngoog.provide('goog.string');\ngoog.provide('goog.string.Unicode');\n\ngoog.require('goog.dom.safe');\ngoog.require('goog.html.uncheckedconversions');\ngoog.require('goog.string.Const');\ngoog.require('goog.string.internal');\n\n\n/**\n * @define {boolean} Enables HTML escaping of lowercase letter \"e\" which helps\n * with detection of double-escaping as this letter is frequently used.\n */\ngoog.string.DETECT_DOUBLE_ESCAPING =\n    goog.define('goog.string.DETECT_DOUBLE_ESCAPING', false);\n\n\n/**\n * @define {boolean} Whether to force non-dom html unescaping.\n */\ngoog.string.FORCE_NON_DOM_HTML_UNESCAPING =\n    goog.define('goog.string.FORCE_NON_DOM_HTML_UNESCAPING', false);\n\n\n/**\n * Common Unicode string characters.\n * @enum {string}\n */\ngoog.string.Unicode = {\n  NBSP: '\\xa0'\n};\n\n\n/**\n * Fast prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix A string to look for at the start of `str`.\n * @return {boolean} True if `str` begins with `prefix`.\n */\ngoog.string.startsWith = goog.string.internal.startsWith;\n\n\n/**\n * Fast suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix`.\n */\ngoog.string.endsWith = goog.string.internal.endsWith;\n\n\n/**\n * Case-insensitive prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix  A string to look for at the end of `str`.\n * @return {boolean} True if `str` begins with `prefix` (ignoring\n *     case).\n */\ngoog.string.caseInsensitiveStartsWith =\n    goog.string.internal.caseInsensitiveStartsWith;\n\n\n/**\n * Case-insensitive suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix` (ignoring\n *     case).\n */\ngoog.string.caseInsensitiveEndsWith =\n    goog.string.internal.caseInsensitiveEndsWith;\n\n\n/**\n * Case-insensitive equality checker.\n * @param {string} str1 First string to check.\n * @param {string} str2 Second string to check.\n * @return {boolean} True if `str1` and `str2` are the same string,\n *     ignoring case.\n */\ngoog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;\n\n\n/**\n * Does simple python-style string substitution.\n * subs(\"foo%s hot%s\", \"bar\", \"dog\") becomes \"foobar hotdog\".\n * @param {string} str The string containing the pattern.\n * @param {...*} var_args The items to substitute into the pattern.\n * @return {string} A copy of `str` in which each occurrence of\n *     {@code %s} has been replaced an argument from `var_args`.\n */\ngoog.string.subs = function(str, var_args) {\n  'use strict';\n  const splitParts = str.split('%s');\n  let returnString = '';\n\n  const subsArguments = Array.prototype.slice.call(arguments, 1);\n  while (subsArguments.length &&\n         // Replace up to the last split part. We are inserting in the\n         // positions between split parts.\n         splitParts.length > 1) {\n    returnString += splitParts.shift() + subsArguments.shift();\n  }\n\n  return returnString + splitParts.join('%s');  // Join unused '%s'\n};\n\n\n/**\n * Converts multiple whitespace chars (spaces, non-breaking-spaces, new lines\n * and tabs) to a single space, and strips leading and trailing whitespace.\n * @param {string} str Input string.\n * @return {string} A copy of `str` with collapsed whitespace.\n */\ngoog.string.collapseWhitespace = function(str) {\n  'use strict';\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/[\\s\\xa0]+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n};\n\n\n/**\n * Checks if a string is empty or contains only whitespaces.\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty or whitespace only.\n */\ngoog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;\n\n\n/**\n * Checks if a string is empty.\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty.\n */\ngoog.string.isEmptyString = function(str) {\n  'use strict';\n  return str.length == 0;\n};\n\n\n/**\n * Checks if a string is empty or contains only whitespaces.\n *\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty or whitespace only.\n * @deprecated Use goog.string.isEmptyOrWhitespace instead.\n */\ngoog.string.isEmpty = goog.string.isEmptyOrWhitespace;\n\n\n/**\n * Checks if a string is null, undefined, empty or contains only whitespaces.\n * @param {*} str The string to check.\n * @return {boolean} Whether `str` is null, undefined, empty, or\n *     whitespace only.\n * @deprecated Use goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str))\n *     instead.\n */\ngoog.string.isEmptyOrWhitespaceSafe = function(str) {\n  'use strict';\n  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));\n};\n\n\n/**\n * Checks if a string is null, undefined, empty or contains only whitespaces.\n *\n * @param {*} str The string to check.\n * @return {boolean} Whether `str` is null, undefined, empty, or\n *     whitespace only.\n * @deprecated Use goog.string.isEmptyOrWhitespace instead.\n */\ngoog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\n\n\n/**\n * Checks if a string is all breaking whitespace.\n * @param {string} str The string to check.\n * @return {boolean} Whether the string is all breaking whitespace.\n */\ngoog.string.isBreakingWhitespace = function(str) {\n  'use strict';\n  return !/[^\\t\\n\\r ]/.test(str);\n};\n\n\n/**\n * Checks if a string contains all letters.\n * @param {string} str string to check.\n * @return {boolean} True if `str` consists entirely of letters.\n */\ngoog.string.isAlpha = function(str) {\n  'use strict';\n  return !/[^a-zA-Z]/.test(str);\n};\n\n\n/**\n * Checks if a string contains only numbers.\n * @param {*} str string to check. If not a string, it will be\n *     casted to one.\n * @return {boolean} True if `str` is numeric.\n */\ngoog.string.isNumeric = function(str) {\n  'use strict';\n  return !/[^0-9]/.test(str);\n};\n\n\n/**\n * Checks if a string contains only numbers or letters.\n * @param {string} str string to check.\n * @return {boolean} True if `str` is alphanumeric.\n */\ngoog.string.isAlphaNumeric = function(str) {\n  'use strict';\n  return !/[^a-zA-Z0-9]/.test(str);\n};\n\n\n/**\n * Checks if a character is a space character.\n * @param {string} ch Character to check.\n * @return {boolean} True if `ch` is a space.\n */\ngoog.string.isSpace = function(ch) {\n  'use strict';\n  return ch == ' ';\n};\n\n\n/**\n * Checks if a character is a valid unicode character.\n * @param {string} ch Character to check.\n * @return {boolean} True if `ch` is a valid unicode character.\n */\ngoog.string.isUnicodeChar = function(ch) {\n  'use strict';\n  return ch.length == 1 && ch >= ' ' && ch <= '~' ||\n      ch >= '\\u0080' && ch <= '\\uFFFD';\n};\n\n\n/**\n * Takes a string and replaces newlines with a space. Multiple lines are\n * replaced with a single space.\n * @param {string} str The string from which to strip newlines.\n * @return {string} A copy of `str` stripped of newlines.\n */\ngoog.string.stripNewlines = function(str) {\n  'use strict';\n  return str.replace(/(\\r\\n|\\r|\\n)+/g, ' ');\n};\n\n\n/**\n * Replaces Windows and Mac new lines with unix style: \\r or \\r\\n with \\n.\n * @param {string} str The string to in which to canonicalize newlines.\n * @return {string} `str` A copy of {@code} with canonicalized newlines.\n */\ngoog.string.canonicalizeNewlines = function(str) {\n  'use strict';\n  return str.replace(/(\\r\\n|\\r|\\n)/g, '\\n');\n};\n\n\n/**\n * Normalizes whitespace in a string, replacing all whitespace chars with\n * a space.\n * @param {string} str The string in which to normalize whitespace.\n * @return {string} A copy of `str` with all whitespace normalized.\n */\ngoog.string.normalizeWhitespace = function(str) {\n  'use strict';\n  return str.replace(/\\xa0|\\s/g, ' ');\n};\n\n\n/**\n * Normalizes spaces in a string, replacing all consecutive spaces and tabs\n * with a single space. Replaces non-breaking space with a space.\n * @param {string} str The string in which to normalize spaces.\n * @return {string} A copy of `str` with all consecutive spaces and tabs\n *    replaced with a single space.\n */\ngoog.string.normalizeSpaces = function(str) {\n  'use strict';\n  return str.replace(/\\xa0|[ \\t]+/g, ' ');\n};\n\n\n/**\n * Removes the breaking spaces from the left and right of the string and\n * collapses the sequences of breaking spaces in the middle into single spaces.\n * The original and the result strings render the same way in HTML.\n * @param {string} str A string in which to collapse spaces.\n * @return {string} Copy of the string with normalized breaking spaces.\n */\ngoog.string.collapseBreakingSpaces = function(str) {\n  'use strict';\n  return str.replace(/[\\t\\r\\n ]+/g, ' ')\n      .replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, '');\n};\n\n\n/**\n * Trims white spaces to the left and right of a string.\n * @param {string} str The string to trim.\n * @return {string} A trimmed copy of `str`.\n */\ngoog.string.trim = goog.string.internal.trim;\n\n\n/**\n * Trims whitespaces at the left end of a string.\n * @param {string} str The string to left trim.\n * @return {string} A trimmed copy of `str`.\n */\ngoog.string.trimLeft = function(str) {\n  'use strict';\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/^[\\s\\xa0]+/, '');\n};\n\n\n/**\n * Trims whitespaces at the right end of a string.\n * @param {string} str The string to right trim.\n * @return {string} A trimmed copy of `str`.\n */\ngoog.string.trimRight = function(str) {\n  'use strict';\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/[\\s\\xa0]+$/, '');\n};\n\n\n/**\n * A string comparator that ignores case.\n * -1 = str1 less than str2\n *  0 = str1 equals str2\n *  1 = str1 greater than str2\n *\n * @param {string} str1 The string to compare.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} The comparator result, as described above.\n */\ngoog.string.caseInsensitiveCompare =\n    goog.string.internal.caseInsensitiveCompare;\n\n\n/**\n * Compares two strings interpreting their numeric substrings as numbers.\n *\n * @param {string} str1 First string.\n * @param {string} str2 Second string.\n * @param {!RegExp} tokenizerRegExp Splits a string into substrings of\n *     non-negative integers, non-numeric characters and optionally fractional\n *     numbers starting with a decimal point.\n * @return {number} Negative if str1 < str2, 0 is str1 == str2, positive if\n *     str1 > str2.\n * @private\n */\ngoog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {\n  'use strict';\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n\n  // Using match to split the entire string ahead of time turns out to be faster\n  // for most inputs than using RegExp.exec or iterating over each character.\n  const tokens1 = str1.toLowerCase().match(tokenizerRegExp);\n  const tokens2 = str2.toLowerCase().match(tokenizerRegExp);\n\n  const count = Math.min(tokens1.length, tokens2.length);\n\n  for (let i = 0; i < count; i++) {\n    const a = tokens1[i];\n    const b = tokens2[i];\n\n    // Compare pairs of tokens, returning if one token sorts before the other.\n    if (a != b) {\n      // Only if both tokens are integers is a special comparison required.\n      // Decimal numbers are sorted as strings (e.g., '.09' < '.1').\n      const num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        const num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n\n  // If one string is a substring of the other, the shorter string sorts first.\n  if (tokens1.length != tokens2.length) {\n    return tokens1.length - tokens2.length;\n  }\n\n  // The two strings must be equivalent except for case (perfect equality is\n  // tested at the head of the function.) Revert to default ASCII string\n  // comparison to stabilize the sort.\n  return str1 < str2 ? -1 : 1;\n};\n\n\n/**\n * String comparison function that handles non-negative integer numbers in a\n * way humans might expect. Using this function, the string 'File 2.jpg' sorts\n * before 'File 10.jpg', and 'Version 1.9' before 'Version 1.10'. The comparison\n * is mostly case-insensitive, though strings that are identical except for case\n * are sorted with the upper-case strings before lower-case.\n *\n * This comparison function is up to 50x slower than either the default or the\n * case-insensitive compare. It should not be used in time-critical code, but\n * should be fast enough to sort several hundred short strings (like filenames)\n * with a reasonable delay.\n *\n * @param {string} str1 The string to compare in a numerically sensitive way.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} less than 0 if str1 < str2, 0 if str1 == str2, greater than\n *     0 if str1 > str2.\n */\ngoog.string.intAwareCompare = function(str1, str2) {\n  'use strict';\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\D+/g);\n};\n\n\n/**\n * String comparison function that handles non-negative integer and fractional\n * numbers in a way humans might expect. Using this function, the string\n * 'File 2.jpg' sorts before 'File 10.jpg', and '3.14' before '3.2'. Equivalent\n * to {@link goog.string.intAwareCompare} apart from the way how it interprets\n * dots.\n *\n * @param {string} str1 The string to compare in a numerically sensitive way.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} less than 0 if str1 < str2, 0 if str1 == str2, greater than\n *     0 if str1 > str2.\n */\ngoog.string.floatAwareCompare = function(str1, str2) {\n  'use strict';\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\.\\d+|\\D+/g);\n};\n\n\n/**\n * Alias for {@link goog.string.floatAwareCompare}.\n *\n * @param {string} str1\n * @param {string} str2\n * @return {number}\n */\ngoog.string.numerateCompare = goog.string.floatAwareCompare;\n\n\n/**\n * URL-encodes a string\n * @param {*} str The string to url-encode.\n * @return {string} An encoded copy of `str` that is safe for urls.\n *     Note that '#', ':', and other characters used to delimit portions\n *     of URLs *will* be encoded.\n */\ngoog.string.urlEncode = function(str) {\n  'use strict';\n  return encodeURIComponent(String(str));\n};\n\n\n/**\n * URL-decodes the string. We need to specially handle '+'s because\n * the javascript library doesn't convert them to spaces.\n * @param {string} str The string to url decode.\n * @return {string} The decoded `str`.\n */\ngoog.string.urlDecode = function(str) {\n  'use strict';\n  return decodeURIComponent(str.replace(/\\+/g, ' '));\n};\n\n\n/**\n * Converts \\n to <br>s or <br />s.\n * @param {string} str The string in which to convert newlines.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} A copy of `str` with converted newlines.\n */\ngoog.string.newLineToBr = goog.string.internal.newLineToBr;\n\n\n/**\n * Escapes double quote '\"' and single quote '\\'' characters in addition to\n * '&', '<', and '>' so that a string can be included in an HTML tag attribute\n * value within double or single quotes.\n *\n * It should be noted that > doesn't need to be escaped for the HTML or XML to\n * be valid, but it has been decided to escape it for consistency with other\n * implementations.\n *\n * With goog.string.DETECT_DOUBLE_ESCAPING, this function escapes also the\n * lowercase letter \"e\".\n *\n * NOTE(user):\n * HtmlEscape is often called during the generation of large blocks of HTML.\n * Using statics for the regular expressions and strings is an optimization\n * that can more than half the amount of time IE spends in this function for\n * large apps, since strings and regexes both contribute to GC allocations.\n *\n * Testing for the presence of a character before escaping increases the number\n * of function calls, but actually provides a speed increase for the average\n * case -- since the average case often doesn't require the escaping of all 4\n * characters and indexOf() is much cheaper than replace().\n * The worst case does suffer slightly from the additional calls, therefore the\n * opt_isLikelyToContainHtmlChars option has been included for situations\n * where all 4 HTML entities are very likely to be present and need escaping.\n *\n * Some benchmarks (times tended to fluctuate +-0.05ms):\n *                                     FireFox                     IE6\n * (no chars / average (mix of cases) / all 4 chars)\n * no checks                     0.13 / 0.22 / 0.22         0.23 / 0.53 / 0.80\n * indexOf                       0.08 / 0.17 / 0.26         0.22 / 0.54 / 0.84\n * indexOf + re test             0.07 / 0.17 / 0.28         0.19 / 0.50 / 0.85\n *\n * An additional advantage of checking if replace actually needs to be called\n * is a reduction in the number of object allocations, so as the size of the\n * application grows the difference between the various methods would increase.\n *\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars Don't perform a check to see\n *     if the character needs replacing - use this option if you expect each of\n *     the characters to appear often. Leave false if you expect few html\n *     characters to occur in your strings, such as if you are escaping HTML.\n * @return {string} An escaped copy of `str`.\n */\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  'use strict';\n  str = goog.string.internal.htmlEscape(str, opt_isLikelyToContainHtmlChars);\n  if (goog.string.DETECT_DOUBLE_ESCAPING) {\n    str = str.replace(goog.string.E_RE_, '&#101;');\n  }\n  return str;\n};\n\n\n/**\n * Regular expression that matches a lowercase letter \"e\", for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.E_RE_ = /e/g;\n\n\n/**\n * Unescapes an HTML string.\n *\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of `str`.\n */\ngoog.string.unescapeEntities = function(str) {\n  'use strict';\n  if (goog.string.contains(str, '&')) {\n    // We are careful not to use a DOM if we do not have one or we explicitly\n    // requested non-DOM html unescaping.\n    if (!goog.string.FORCE_NON_DOM_HTML_UNESCAPING &&\n        'document' in goog.global) {\n      return goog.string.unescapeEntitiesUsingDom_(str);\n    } else {\n      // Fall back on pure XML entities\n      return goog.string.unescapePureXmlEntities_(str);\n    }\n  }\n  return str;\n};\n\n\n/**\n * Unescapes a HTML string using the provided document.\n *\n * @param {string} str The string to unescape.\n * @param {!Document} document A document to use in escaping the string.\n * @return {string} An unescaped copy of `str`.\n */\ngoog.string.unescapeEntitiesWithDocument = function(str, document) {\n  'use strict';\n  if (goog.string.contains(str, '&')) {\n    return goog.string.unescapeEntitiesUsingDom_(str, document);\n  }\n  return str;\n};\n\n\n/**\n * Unescapes an HTML string using a DOM to resolve non-XML, non-numeric\n * entities. This function is XSS-safe and whitespace-preserving.\n * @private\n * @param {string} str The string to unescape.\n * @param {Document=} opt_document An optional document to use for creating\n *     elements. If this is not specified then the default window.document\n *     will be used.\n * @return {string} The unescaped `str` string.\n */\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n  'use strict';\n  /** @type {!Object<string, string>} */\n  const seen = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"'};\n  /** @type {!Element} */\n  let div;\n  if (opt_document) {\n    div = opt_document.createElement('div');\n  } else {\n    div = goog.global.document.createElement('div');\n  }\n  // Match as many valid entity characters as possible. If the actual entity\n  // happens to be shorter, it will still work as innerHTML will return the\n  // trailing characters unchanged. Since the entity characters do not include\n  // open angle bracket, there is no chance of XSS from the innerHTML use.\n  // Since no whitespace is passed to innerHTML, whitespace is preserved.\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    'use strict';\n    // Check for cached entity.\n    let value = seen[s];\n    if (value) {\n      return value;\n    }\n    // Check for numeric entity.\n    if (entity.charAt(0) == '#') {\n      // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex numbers.\n      const n = Number('0' + entity.substr(1));\n      if (!isNaN(n)) {\n        value = String.fromCharCode(n);\n      }\n    }\n    // Fall back to innerHTML otherwise.\n    if (!value) {\n      // Append a non-entity character to avoid a bug in Webkit that parses\n      // an invalid entity at the end of innerHTML text as the empty string.\n      goog.dom.safe.setInnerHtml(\n          div,\n          goog.html.uncheckedconversions\n              .safeHtmlFromStringKnownToSatisfyTypeContract(\n                  goog.string.Const.from('Single HTML entity.'), s + ' '));\n      // Then remove the trailing character from the result.\n      value = div.firstChild.nodeValue.slice(0, -1);\n    }\n    // Cache and return.\n    return seen[s] = value;\n  });\n};\n\n\n/**\n * Unescapes XML entities.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of `str`.\n */\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  'use strict';\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    'use strict';\n    switch (entity) {\n      case 'amp':\n        return '&';\n      case 'lt':\n        return '<';\n      case 'gt':\n        return '>';\n      case 'quot':\n        return '\"';\n      default:\n        if (entity.charAt(0) == '#') {\n          // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex.\n          const n = Number('0' + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        // For invalid entities we just return the entity\n        return s;\n    }\n  });\n};\n\n\n/**\n * Regular expression that matches an HTML entity.\n * See also HTML5: Tokenization / Tokenizing character references.\n * @private\n * @type {!RegExp}\n */\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\n\n\n/**\n * Do escaping of whitespace to preserve spatial formatting. We use character\n * entity #160 to make it safer for xml.\n * @param {string} str The string in which to escape whitespace.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} An escaped copy of `str`.\n */\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  'use strict';\n  // This doesn't use goog.string.preserveSpaces for backwards compatibility.\n  return goog.string.newLineToBr(str.replace(/  /g, ' &#160;'), opt_xml);\n};\n\n\n/**\n * Preserve spaces that would be otherwise collapsed in HTML by replacing them\n * with non-breaking space Unicode characters.\n * @param {string} str The string in which to preserve whitespace.\n * @return {string} A copy of `str` with preserved whitespace.\n */\ngoog.string.preserveSpaces = function(str) {\n  'use strict';\n  return str.replace(/(^|[\\n ]) /g, '$1' + goog.string.Unicode.NBSP);\n};\n\n\n/**\n * Strip quote characters around a string.  The second argument is a string of\n * characters to treat as quotes.  This can be a single character or a string of\n * multiple character and in that case each of those are treated as possible\n * quote characters. For example:\n *\n * <pre>\n * goog.string.stripQuotes('\"abc\"', '\"`') --> 'abc'\n * goog.string.stripQuotes('`abc`', '\"`') --> 'abc'\n * </pre>\n *\n * @param {string} str The string to strip.\n * @param {string} quoteChars The quote characters to strip.\n * @return {string} A copy of `str` without the quotes.\n */\ngoog.string.stripQuotes = function(str, quoteChars) {\n  'use strict';\n  const length = quoteChars.length;\n  for (let i = 0; i < length; i++) {\n    const quoteChar = length == 1 ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\n\n\n/**\n * Truncates a string to a certain length and adds '...' if necessary.  The\n * length also accounts for the ellipsis, so a maximum length of 10 and a string\n * 'Hello World!' produces 'Hello W...'.\n * @param {string} str The string to truncate.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cut off in the middle.\n * @return {string} The truncated `str` string.\n */\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  'use strict';\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (str.length > chars) {\n    str = str.substring(0, chars - 3) + '...';\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n/**\n * Truncate a string in the middle, adding \"...\" if necessary,\n * and favoring the beginning of the string.\n * @param {string} str The string to truncate the middle of.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cutoff in the middle.\n * @param {number=} opt_trailingChars Optional number of trailing characters to\n *     leave at the end of the string, instead of truncating as close to the\n *     middle as possible.\n * @return {string} A truncated copy of `str`.\n */\ngoog.string.truncateMiddle = function(\n    str, chars, opt_protectEscapedCharacters, opt_trailingChars) {\n  'use strict';\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (opt_trailingChars && str.length > chars) {\n    if (opt_trailingChars > chars) {\n      opt_trailingChars = chars;\n    }\n    const endPoint = str.length - opt_trailingChars;\n    const startPoint = chars - opt_trailingChars;\n    str = str.substring(0, startPoint) + '...' + str.substring(endPoint);\n  } else if (str.length > chars) {\n    // Favor the beginning of the string:\n    let half = Math.floor(chars / 2);\n    const endPos = str.length - half;\n    half += chars % 2;\n    str = str.substring(0, half) + '...' + str.substring(endPos);\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n/**\n * Special chars that need to be escaped for goog.string.quote.\n * @private {!Object<string, string>}\n */\ngoog.string.specialEscapeChars_ = {\n  '\\0': '\\\\0',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\x0B': '\\\\x0B',  // '\\v' is not supported in JScript\n  '\"': '\\\\\"',\n  '\\\\': '\\\\\\\\',\n  // To support the use case of embedding quoted strings inside of script\n  // tags, we have to make sure HTML comments and opening/closing script tags do\n  // not appear in the resulting string. The specific strings that must be\n  // escaped are documented at:\n  // https://html.spec.whatwg.org/multipage/scripting.html#restrictions-for-contents-of-script-elements\n  '<': '\\\\u003C'  // NOTE: JSON.parse crashes on '\\\\x3c'.\n};\n\n\n/**\n * Character mappings used internally for goog.string.escapeChar.\n * @private {!Object<string, string>}\n */\ngoog.string.jsEscapeCache_ = {\n  '\\'': '\\\\\\''\n};\n\n\n/**\n * Encloses a string in double quotes and escapes characters so that the\n * string is a valid JS string. The resulting string is safe to embed in\n * `<script>` tags as \"<\" is escaped.\n * @param {string} s The string to quote.\n * @return {string} A copy of `s` surrounded by double quotes.\n */\ngoog.string.quote = function(s) {\n  'use strict';\n  s = String(s);\n  const sb = ['\"'];\n  for (let i = 0; i < s.length; i++) {\n    const ch = s.charAt(i);\n    const cc = ch.charCodeAt(0);\n    sb[i + 1] = goog.string.specialEscapeChars_[ch] ||\n        ((cc > 31 && cc < 127) ? ch : goog.string.escapeChar(ch));\n  }\n  sb.push('\"');\n  return sb.join('');\n};\n\n\n/**\n * Takes a string and returns the escaped string for that input string.\n * @param {string} str The string to escape.\n * @return {string} An escaped string representing `str`.\n */\ngoog.string.escapeString = function(str) {\n  'use strict';\n  const sb = [];\n  for (let i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join('');\n};\n\n\n/**\n * Takes a character and returns the escaped string for that character. For\n * example escapeChar(String.fromCharCode(15)) -> \"\\\\x0E\".\n * @param {string} c The character to escape.\n * @return {string} An escaped string representing `c`.\n */\ngoog.string.escapeChar = function(c) {\n  'use strict';\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n\n  let rv = c;\n  const cc = c.charCodeAt(0);\n  if (cc > 31 && cc < 127) {\n    rv = c;\n  } else {\n    // tab is 9 but handled above\n    if (cc < 256) {\n      rv = '\\\\x';\n      if (cc < 16 || cc > 256) {\n        rv += '0';\n      }\n    } else {\n      rv = '\\\\u';\n      if (cc < 4096) {  // \\u1000\n        rv += '0';\n      }\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n\n  return goog.string.jsEscapeCache_[c] = rv;\n};\n\n\n/**\n * Determines whether a string contains a substring.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n */\ngoog.string.contains = goog.string.internal.contains;\n\n\n/**\n * Determines whether a string contains a substring, ignoring case.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n */\ngoog.string.caseInsensitiveContains =\n    goog.string.internal.caseInsensitiveContains;\n\n\n/**\n * Returns the non-overlapping occurrences of ss in s.\n * If either s or ss evalutes to false, then returns zero.\n * @param {string} s The string to look in.\n * @param {string} ss The string to look for.\n * @return {number} Number of occurrences of ss in s.\n */\ngoog.string.countOf = function(s, ss) {\n  'use strict';\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\n\n\n/**\n * Removes a substring of a specified length at a specific\n * index in a string.\n * @param {string} s The base string from which to remove.\n * @param {number} index The index at which to remove the substring.\n * @param {number} stringLength The length of the substring to remove.\n * @return {string} A copy of `s` with the substring removed or the full\n *     string if nothing is removed or the input is invalid.\n */\ngoog.string.removeAt = function(s, index, stringLength) {\n  'use strict';\n  let resultStr = s;\n  // If the index is greater or equal to 0 then remove substring\n  if (index >= 0 && index < s.length && stringLength > 0) {\n    resultStr = s.substr(0, index) +\n        s.substr(index + stringLength, s.length - index - stringLength);\n  }\n  return resultStr;\n};\n\n\n/**\n * Removes the first occurrence of a substring from a string.\n * @param {string} str The base string from which to remove.\n * @param {string} substr The string to remove.\n * @return {string} A copy of `str` with `substr` removed or the\n *     full string if nothing is removed.\n */\ngoog.string.remove = function(str, substr) {\n  'use strict';\n  return str.replace(substr, '');\n};\n\n\n/**\n *  Removes all occurrences of a substring from a string.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to remove.\n *  @return {string} A copy of `s` with `ss` removed or the full\n *      string if nothing is removed.\n */\ngoog.string.removeAll = function(s, ss) {\n  'use strict';\n  const re = new RegExp(goog.string.regExpEscape(ss), 'g');\n  return s.replace(re, '');\n};\n\n\n/**\n *  Replaces all occurrences of a substring of a string with a new substring.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to replace.\n *  @param {string} replacement The replacement string.\n *  @return {string} A copy of `s` with `ss` replaced by\n *      `replacement` or the original string if nothing is replaced.\n */\ngoog.string.replaceAll = function(s, ss, replacement) {\n  'use strict';\n  const re = new RegExp(goog.string.regExpEscape(ss), 'g');\n  return s.replace(re, replacement.replace(/\\$/g, '$$$$'));\n};\n\n\n/**\n * Escapes characters in the string that are not safe to use in a RegExp.\n * @param {*} s The string to escape. If not a string, it will be casted\n *     to one.\n * @return {string} A RegExp safe, escaped copy of `s`.\n */\ngoog.string.regExpEscape = function(s) {\n  'use strict';\n  return String(s)\n      .replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n      .replace(/\\x08/g, '\\\\x08');\n};\n\n\n/**\n * Repeats a string n times.\n * @param {string} string The string to repeat.\n * @param {number} length The number of times to repeat.\n * @return {string} A string containing `length` repetitions of\n *     `string`.\n */\ngoog.string.repeat = (String.prototype.repeat) ? function(string, length) {\n  'use strict';\n  // The native method is over 100 times faster than the alternative.\n  return string.repeat(length);\n} : function(string, length) {\n  'use strict';\n  return new Array(length + 1).join(string);\n};\n\n\n/**\n * Pads number to given length and optionally rounds it to a given precision.\n * For example:\n * <pre>padNumber(1.25, 2, 3) -> '01.250'\n * padNumber(1.25, 2) -> '01.25'\n * padNumber(1.25, 2, 1) -> '01.3'\n * padNumber(1.25, 0) -> '1.25'</pre>\n *\n * @param {number} num The number to pad.\n * @param {number} length The desired length.\n * @param {number=} opt_precision The desired precision.\n * @return {string} `num` as a string with the given options.\n */\ngoog.string.padNumber = function(num, length, opt_precision) {\n  'use strict';\n  if (!Number.isFinite(num)) return String(num);\n  let s =\n      (opt_precision !== undefined) ? num.toFixed(opt_precision) : String(num);\n  let index = s.indexOf('.');\n  if (index === -1) {\n    index = s.length;\n  }\n  const sign = s[0] === '-' ? '-' : '';\n  if (sign) {\n    s = s.substring(1);\n  }\n  return sign + goog.string.repeat('0', Math.max(0, length - index)) + s;\n};\n\n\n/**\n * Returns a string representation of the given object, with\n * null and undefined being returned as the empty string.\n *\n * @param {*} obj The object to convert.\n * @return {string} A string representation of the `obj`.\n */\ngoog.string.makeSafe = function(obj) {\n  'use strict';\n  return obj == null ? '' : String(obj);\n};\n\n/**\n * Returns a string with at least 64-bits of randomness.\n *\n * Doesn't trust JavaScript's random function entirely. Uses a combination of\n * random and current timestamp, and then encodes the string in base-36 to\n * make it shorter.\n *\n * @return {string} A random string, e.g. sn1s7vb4gcic.\n */\ngoog.string.getRandomString = function() {\n  'use strict';\n  const x = 2147483648;\n  return Math.floor(Math.random() * x).toString(36) +\n      Math.abs(Math.floor(Math.random() * x) ^ goog.now()).toString(36);\n};\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string|number} version1 Version of first item.\n * @param {string|number} version2 Version of second item.\n *\n * @return {number}  1 if `version1` is higher.\n *                   0 if arguments are equal.\n *                  -1 if `version2` is higher.\n */\ngoog.string.compareVersions = goog.string.internal.compareVersions;\n\n\n/**\n * String hash function similar to java.lang.String.hashCode().\n * The hash code for a string is computed as\n * s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n * where s[i] is the ith character of the string and n is the length of\n * the string. We mod the result to make it between 0 (inclusive) and 2^32\n * (exclusive).\n * @param {string} str A string.\n * @return {number} Hash value for `str`, between 0 (inclusive) and 2^32\n *  (exclusive). The empty string returns 0.\n */\ngoog.string.hashCode = function(str) {\n  'use strict';\n  let result = 0;\n  for (let i = 0; i < str.length; ++i) {\n    // Normalize to 4 byte range, 0 ... 2^32.\n    result = (31 * result + str.charCodeAt(i)) >>> 0;\n  }\n  return result;\n};\n\n\n/**\n * The most recent unique ID. |0 is equivalent to Math.floor in this case.\n * @type {number}\n * @private\n */\ngoog.string.uniqueStringCounter_ = Math.random() * 0x80000000 | 0;\n\n\n/**\n * Generates and returns a string which is unique in the current document.\n * This is useful, for example, to create unique IDs for DOM elements.\n * @return {string} A unique id.\n */\ngoog.string.createUniqueString = function() {\n  'use strict';\n  return 'goog_' + goog.string.uniqueStringCounter_++;\n};\n\n\n/**\n * Converts the supplied string to a number, which may be Infinity or NaN.\n * This function strips whitespace: (toNumber(' 123') === 123)\n * This function accepts scientific notation: (toNumber('1e1') === 10)\n *\n * This is better than JavaScript's built-in conversions because, sadly:\n *     (Number(' ') === 0) and (parseFloat('123a') === 123)\n *\n * @param {string} str The string to convert.\n * @return {number} The number the supplied string represents, or NaN.\n */\ngoog.string.toNumber = function(str) {\n  'use strict';\n  const num = Number(str);\n  if (num == 0 && goog.string.isEmptyOrWhitespace(str)) {\n    return NaN;\n  }\n  return num;\n};\n\n\n/**\n * Returns whether the given string is lower camel case (e.g. \"isFooBar\").\n *\n * Note that this assumes the string is entirely letters.\n * @see http://en.wikipedia.org/wiki/CamelCase#Variations_and_synonyms\n *\n * @param {string} str String to test.\n * @return {boolean} Whether the string is lower camel case.\n */\ngoog.string.isLowerCamelCase = function(str) {\n  'use strict';\n  return /^[a-z]+([A-Z][a-z]*)*$/.test(str);\n};\n\n\n/**\n * Returns whether the given string is upper camel case (e.g. \"FooBarBaz\").\n *\n * Note that this assumes the string is entirely letters.\n * @see http://en.wikipedia.org/wiki/CamelCase#Variations_and_synonyms\n *\n * @param {string} str String to test.\n * @return {boolean} Whether the string is upper camel case.\n */\ngoog.string.isUpperCamelCase = function(str) {\n  'use strict';\n  return /^([A-Z][a-z]*)+$/.test(str);\n};\n\n\n/**\n * Converts a string from selector-case to camelCase (e.g. from\n * \"multi-part-string\" to \"multiPartString\"), useful for converting\n * CSS selectors and HTML dataset keys to their equivalent JS properties.\n * @param {string} str The string in selector-case form.\n * @return {string} The string in camelCase form.\n */\ngoog.string.toCamelCase = function(str) {\n  'use strict';\n  return String(str).replace(/\\-([a-z])/g, function(all, match) {\n    'use strict';\n    return match.toUpperCase();\n  });\n};\n\n\n/**\n * Converts a string from camelCase to selector-case (e.g. from\n * \"multiPartString\" to \"multi-part-string\"), useful for converting JS\n * style and dataset properties to equivalent CSS selectors and HTML keys.\n * @param {string} str The string in camelCase form.\n * @return {string} The string in selector-case form.\n */\ngoog.string.toSelectorCase = function(str) {\n  'use strict';\n  return String(str).replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n\n\n/**\n * Converts a string into TitleCase. First character of the string is always\n * capitalized in addition to the first letter of every subsequent word.\n * Words are delimited by one or more whitespaces by default. Custom delimiters\n * can optionally be specified to replace the default, which doesn't preserve\n * whitespace delimiters and instead must be explicitly included if needed.\n *\n * Default delimiter => \" \":\n *    goog.string.toTitleCase('oneTwoThree')    => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three')  => 'One Two Three'\n *    goog.string.toTitleCase('  one   two   ') => '  One   Two   '\n *    goog.string.toTitleCase('one_two_three')  => 'One_two_three'\n *    goog.string.toTitleCase('one-two-three')  => 'One-two-three'\n *\n * Custom delimiter => \"_-.\":\n *    goog.string.toTitleCase('oneTwoThree', '_-.')       => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three', '_-.')     => 'One two three'\n *    goog.string.toTitleCase('  one   two   ', '_-.')    => '  one   two   '\n *    goog.string.toTitleCase('one_two_three', '_-.')     => 'One_Two_Three'\n *    goog.string.toTitleCase('one-two-three', '_-.')     => 'One-Two-Three'\n *    goog.string.toTitleCase('one...two...three', '_-.') => 'One...Two...Three'\n *    goog.string.toTitleCase('one. two. three', '_-.')   => 'One. two. three'\n *    goog.string.toTitleCase('one-two.three', '_-.')     => 'One-Two.Three'\n *\n * @param {string} str String value in camelCase form.\n * @param {string=} opt_delimiters Custom delimiter character set used to\n *      distinguish words in the string value. Each character represents a\n *      single delimiter. When provided, default whitespace delimiter is\n *      overridden and must be explicitly included if needed.\n * @return {string} String value in TitleCase form.\n */\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  'use strict';\n  let delimiters = (typeof opt_delimiters === 'string') ?\n      goog.string.regExpEscape(opt_delimiters) :\n      '\\\\s';\n\n  // For IE8, we need to prevent using an empty character set. Otherwise,\n  // incorrect matching will occur.\n  delimiters = delimiters ? '|[' + delimiters + ']+' : '';\n\n  const regexp = new RegExp('(^' + delimiters + ')([a-z])', 'g');\n  return str.replace(regexp, function(all, p1, p2) {\n    'use strict';\n    return p1 + p2.toUpperCase();\n  });\n};\n\n\n/**\n * Capitalizes a string, i.e. converts the first letter to uppercase\n * and all other letters to lowercase, e.g.:\n *\n * goog.string.capitalize('one')     => 'One'\n * goog.string.capitalize('ONE')     => 'One'\n * goog.string.capitalize('one two') => 'One two'\n *\n * Note that this function does not trim initial whitespace.\n *\n * @param {string} str String value to capitalize.\n * @return {string} String value with first letter in uppercase.\n */\ngoog.string.capitalize = function(str) {\n  'use strict';\n  return String(str.charAt(0)).toUpperCase() +\n      String(str.substr(1)).toLowerCase();\n};\n\n\n/**\n * Parse a string in decimal or hexidecimal ('0xFFFF') form.\n *\n * To parse a particular radix, please use parseInt(string, radix) directly. See\n * https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/parseInt\n *\n * This is a wrapper for the built-in parseInt function that will only parse\n * numbers as base 10 or base 16.  Some JS implementations assume strings\n * starting with \"0\" are intended to be octal. ES3 allowed but discouraged\n * this behavior. ES5 forbids it.  This function emulates the ES5 behavior.\n *\n * For more information, see Mozilla JS Reference: http://goo.gl/8RiFj\n *\n * @param {string|number|null|undefined} value The value to be parsed.\n * @return {number} The number, parsed. If the string failed to parse, this\n *     will be NaN.\n */\ngoog.string.parseInt = function(value) {\n  'use strict';\n  // Force finite numbers to strings.\n  if (isFinite(value)) {\n    value = String(value);\n  }\n\n  if (typeof value === 'string') {\n    // If the string starts with '0x' or '-0x', parse as hex.\n    return /^\\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10);\n  }\n\n  return NaN;\n};\n\n\n/**\n * Splits a string on a separator a limited number of times.\n *\n * This implementation is more similar to Python or Java, where the limit\n * parameter specifies the maximum number of splits rather than truncating\n * the number of results.\n *\n * See http://docs.python.org/2/library/stdtypes.html#str.split\n * See JavaDoc: http://goo.gl/F2AsY\n * See Mozilla reference: http://goo.gl/dZdZs\n *\n * @param {string} str String to split.\n * @param {string} separator The separator.\n * @param {number} limit The limit to the number of splits. The resulting array\n *     will have a maximum length of limit+1.  Negative numbers are the same\n *     as zero.\n * @return {!Array<string>} The string, split.\n */\ngoog.string.splitLimit = function(str, separator, limit) {\n  'use strict';\n  const parts = str.split(separator);\n  const returnVal = [];\n\n  // Only continue doing this while we haven't hit the limit and we have\n  // parts left.\n  while (limit > 0 && parts.length) {\n    returnVal.push(parts.shift());\n    limit--;\n  }\n\n  // If there are remaining parts, append them to the end.\n  if (parts.length) {\n    returnVal.push(parts.join(separator));\n  }\n\n  return returnVal;\n};\n\n\n/**\n * Finds the characters to the right of the last instance of any separator\n *\n * This function is similar to goog.string.path.baseName, except it can take a\n * list of characters to split the string on. It will return the rightmost\n * grouping of characters to the right of any separator as a left-to-right\n * oriented string.\n *\n * @see goog.string.path.baseName\n * @param {string} str The string\n * @param {string|!Array<string>} separators A list of separator characters\n * @return {string} The last part of the string with respect to the separators\n */\ngoog.string.lastComponent = function(str, separators) {\n  'use strict';\n  if (!separators) {\n    return str;\n  } else if (typeof separators == 'string') {\n    separators = [separators];\n  }\n\n  let lastSeparatorIndex = -1;\n  for (let i = 0; i < separators.length; i++) {\n    if (separators[i] == '') {\n      continue;\n    }\n    const currentSeparatorIndex = str.lastIndexOf(separators[i]);\n    if (currentSeparatorIndex > lastSeparatorIndex) {\n      lastSeparatorIndex = currentSeparatorIndex;\n    }\n  }\n  if (lastSeparatorIndex == -1) {\n    return str;\n  }\n  return str.slice(lastSeparatorIndex + 1);\n};\n\n\n/**\n * Computes the Levenshtein edit distance between two strings.\n * @param {string} a\n * @param {string} b\n * @return {number} The edit distance between the two strings.\n */\ngoog.string.editDistance = function(a, b) {\n  'use strict';\n  const v0 = [];\n  const v1 = [];\n\n  if (a == b) {\n    return 0;\n  }\n\n  if (!a.length || !b.length) {\n    return Math.max(a.length, b.length);\n  }\n\n  for (let i = 0; i < b.length + 1; i++) {\n    v0[i] = i;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    v1[0] = i + 1;\n\n    for (let j = 0; j < b.length; j++) {\n      const cost = Number(a[i] != b[j]);\n      // Cost for the substring is the minimum of adding one character, removing\n      // one character, or a swap.\n      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + cost);\n    }\n\n    for (let j = 0; j < v0.length; j++) {\n      v0[j] = v1[j];\n    }\n  }\n\n  return v1[b.length];\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A pool of forward channel requests to enable real-time\n * messaging from the client to server.\n *\n */\n\ngoog.module('goog.labs.net.webChannel.ForwardChannelRequestPool');\n\ngoog.module.declareLegacyNamespace();\n\nconst ChannelRequest = goog.require('goog.labs.net.webChannel.ChannelRequest');\nconst Wire = goog.require('goog.labs.net.webChannel.Wire');\nconst array = goog.require('goog.array');\nconst googString = goog.require('goog.string');\n\n\n/**\n * This class represents the state of all forward channel requests.\n *\n * @param {number=} opt_maxPoolSize The maximum pool size.\n *\n * @struct @constructor @final\n */\nconst ForwardChannelRequestPool = function(opt_maxPoolSize) {\n  /**\n   * The max pool size as configured.\n   *\n   * @private {number}\n   */\n  this.maxPoolSizeConfigured_ =\n      opt_maxPoolSize || ForwardChannelRequestPool.MAX_POOL_SIZE_;\n\n  /**\n   * The current size limit of the request pool. This limit is meant to be\n   * read-only after the channel is fully opened.\n   *\n   * If SPDY or HTTP2 is enabled, set it to the max pool size, which is also\n   * configurable.\n   *\n   * @private {number}\n   */\n  this.maxSize_ = ForwardChannelRequestPool.isSpdyOrHttp2Enabled_() ?\n      this.maxPoolSizeConfigured_ :\n      1;\n\n  /**\n   * The container for all the pending request objects.\n   *\n   * @private {?Set<?ChannelRequest>}\n   */\n  this.requestPool_ = null;\n\n  if (this.maxSize_ > 1) {\n    this.requestPool_ = new Set();\n  }\n\n  /**\n   * The single request object when the pool size is limited to one.\n   *\n   * @private {?ChannelRequest}\n   */\n  this.request_ = null;\n\n  /**\n   * Saved pending messages when the pool is cancelled.\n   *\n   * @private {!Array<Wire.QueuedMap>}\n   */\n  this.pendingMessages_ = [];\n};\n\n\n/**\n * The default size limit of the request pool.\n *\n * @private {number}\n */\nForwardChannelRequestPool.MAX_POOL_SIZE_ = 10;\n\n\n/**\n * @return {boolean} True if SPDY or HTTP2 is enabled. Uses chrome-specific APIs\n *     as a fallback and will always return false for other browsers where\n *     PerformanceNavigationTiming is not available.\n * @private\n */\nForwardChannelRequestPool.isSpdyOrHttp2Enabled_ = function() {\n  if (goog.global.PerformanceNavigationTiming) {\n    const entrys = /** @type {!Array<!PerformanceNavigationTiming>} */ (\n        goog.global.performance.getEntriesByType('navigation'));\n    return entrys.length > 0 &&\n        (entrys[0].nextHopProtocol == 'hq' ||\n         entrys[0].nextHopProtocol == 'h2');\n  }\n  return !!(\n      goog.global.chrome && goog.global.chrome.loadTimes &&\n      goog.global.chrome.loadTimes() &&\n      goog.global.chrome.loadTimes().wasFetchedViaSpdy);\n};\n\n\n/**\n * Once we know the client protocol (from the handshake), check if we need\n * enable the request pool accordingly. This is more robust than using\n * browser-internal APIs (specific to Chrome).\n *\n * @param {string} clientProtocol The client protocol\n */\nForwardChannelRequestPool.prototype.applyClientProtocol = function(\n    clientProtocol) {\n  if (this.requestPool_) {\n    return;\n  }\n\n  if (googString.contains(clientProtocol, 'spdy') ||\n      googString.contains(clientProtocol, 'quic') ||\n      googString.contains(clientProtocol, 'h2')) {\n    this.maxSize_ = this.maxPoolSizeConfigured_;\n    this.requestPool_ = new Set();\n    if (this.request_) {\n      this.addRequest(this.request_);\n      this.request_ = null;\n    }\n  }\n};\n\n\n/**\n * @return {boolean} True if the pool is full.\n */\nForwardChannelRequestPool.prototype.isFull = function() {\n  if (this.request_) {\n    return true;\n  }\n\n  if (this.requestPool_) {\n    return this.requestPool_.size >= this.maxSize_;\n  }\n\n  return false;\n};\n\n\n/**\n * @return {number} The current size limit.\n */\nForwardChannelRequestPool.prototype.getMaxSize = function() {\n  return this.maxSize_;\n};\n\n\n/**\n * @return {number} The number of pending requests in the pool.\n */\nForwardChannelRequestPool.prototype.getRequestCount = function() {\n  if (this.request_) {\n    return 1;\n  }\n\n  if (this.requestPool_) {\n    return this.requestPool_.size;\n  }\n\n  return 0;\n};\n\n\n/**\n * @param {ChannelRequest} req The channel request.\n * @return {boolean} True if the request is a included inside the pool.\n */\nForwardChannelRequestPool.prototype.hasRequest = function(req) {\n  if (this.request_) {\n    return this.request_ == req;\n  }\n\n  if (this.requestPool_) {\n    return this.requestPool_.has(req);\n  }\n\n  return false;\n};\n\n\n/**\n * Adds a new request to the pool.\n *\n * @param {!ChannelRequest} req The new channel request.\n */\nForwardChannelRequestPool.prototype.addRequest = function(req) {\n  if (this.requestPool_) {\n    this.requestPool_.add(req);\n  } else {\n    this.request_ = req;\n  }\n};\n\n\n/**\n * Removes the given request from the pool.\n *\n * @param {ChannelRequest} req The channel request.\n * @return {boolean} Whether the request has been removed from the pool.\n */\nForwardChannelRequestPool.prototype.removeRequest = function(req) {\n  if (this.request_ && this.request_ == req) {\n    this.request_ = null;\n    return true;\n  }\n\n  if (this.requestPool_ && this.requestPool_.has(req)) {\n    this.requestPool_.delete(req);\n    return true;\n  }\n\n  return false;\n};\n\n\n/**\n * Clears the pool and cancel all the pending requests.\n */\nForwardChannelRequestPool.prototype.cancel = function() {\n  // save any pending messages\n  this.pendingMessages_ = this.getPendingMessages();\n\n  if (this.request_) {\n    this.request_.cancel();\n    this.request_ = null;\n    return;\n  }\n\n  if (this.requestPool_ && this.requestPool_.size !== 0) {\n    for (const val of this.requestPool_.values()) {\n      val.cancel();\n    }\n    this.requestPool_.clear();\n  }\n};\n\n\n/**\n * @return {boolean} Whether there are any pending requests.\n */\nForwardChannelRequestPool.prototype.hasPendingRequest = function() {\n  return (this.request_ != null) ||\n      (this.requestPool_ != null && this.requestPool_.size !== 0);\n};\n\n\n/**\n * @return {!Array<Wire.QueuedMap>} All the pending messages from the pool,\n *     as a new array.\n */\nForwardChannelRequestPool.prototype.getPendingMessages = function() {\n  if (this.request_ != null) {\n    return this.pendingMessages_.concat(this.request_.getPendingMessages());\n  }\n\n  if (this.requestPool_ != null && this.requestPool_.size !== 0) {\n    let result = this.pendingMessages_;\n    for (const val of this.requestPool_.values()) {\n      result = result.concat(val.getPendingMessages());\n    }\n    return result;\n  }\n\n  return array.clone(this.pendingMessages_);\n};\n\n\n/**\n * Records pending messages, e.g. when a request receives a failed response.\n *\n * @param {!Array<Wire.QueuedMap>} messages Pending messages.\n */\nForwardChannelRequestPool.prototype.addPendingMessages = function(messages) {\n  this.pendingMessages_ = this.pendingMessages_.concat(messages);\n};\n\n\n/**\n * Clears any recorded pending messages.\n */\nForwardChannelRequestPool.prototype.clearPendingMessages = function() {\n  this.pendingMessages_.length = 0;\n};\n\n\n/**\n * Cancels all pending requests and force the completion of channel requests.\n *\n * Need go through the standard onRequestComplete logic to expose the max-retry\n * failure in the standard way.\n *\n * @param {function(!ChannelRequest)} onComplete The completion callback.\n * @return {boolean} true if any request has been forced to complete.\n */\nForwardChannelRequestPool.prototype.forceComplete = function(onComplete) {\n  if (this.request_ != null) {\n    this.request_.cancel();\n    onComplete(this.request_);\n    return true;\n  }\n\n  if (this.requestPool_ && this.requestPool_.size !== 0) {\n    for (const val of this.requestPool_.values()) {\n      val.cancel();\n      onComplete(val);\n    }\n    return true;\n  }\n\n  return false;\n};\n\nexports = ForwardChannelRequestPool;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Generics method for collection-like classes and objects.\n *\n *\n * This file contains functions to work with collections. It supports using\n * Map, Set, Array and Object and other classes that implement collection-like\n * methods.\n * @suppress {strictMissingProperties}\n */\n\n\ngoog.provide('goog.structs');\n\ngoog.require('goog.array');\ngoog.require('goog.object');\n\n\n// We treat an object as a dictionary if it has getKeys or it is an object that\n// isn't arrayLike.\n\n\n/**\n * Returns the number of values in the collection-like object.\n * @param {Object} col The collection-like object.\n * @return {number} The number of values in the collection-like object.\n */\ngoog.structs.getCount = function(col) {\n  'use strict';\n  if (col.getCount && typeof col.getCount == 'function') {\n    return col.getCount();\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return col.length;\n  }\n  return goog.object.getCount(col);\n};\n\n\n/**\n * Returns the values of the collection-like object.\n * @param {Object} col The collection-like object.\n * @return {!Array<?>} The values in the collection-like object.\n */\ngoog.structs.getValues = function(col) {\n  'use strict';\n  if (col.getValues && typeof col.getValues == 'function') {\n    return col.getValues();\n  }\n  // ES6 Map and Set both define a values function that returns an iterator.\n  // The typeof check allows the compiler to remove the Map and Set polyfills\n  // if they are otherwise unused throughout the entire binary.\n  if ((typeof Map !== 'undefined' && col instanceof Map) ||\n      (typeof Set !== 'undefined' && col instanceof Set)) {\n    return Array.from(col.values());\n  }\n  if (typeof col === 'string') {\n    return col.split('');\n  }\n  if (goog.isArrayLike(col)) {\n    var rv = [];\n    var l = col.length;\n    for (var i = 0; i < l; i++) {\n      rv.push(col[i]);\n    }\n    return rv;\n  }\n  return goog.object.getValues(col);\n};\n\n\n/**\n * Returns the keys of the collection. Some collections have no notion of\n * keys/indexes and this function will return undefined in those cases.\n * @param {Object} col The collection-like object.\n * @return {!Array|undefined} The keys in the collection.\n */\ngoog.structs.getKeys = function(col) {\n  'use strict';\n  if (col.getKeys && typeof col.getKeys == 'function') {\n    return col.getKeys();\n  }\n  // if we have getValues but no getKeys we know this is a key-less collection\n  if (col.getValues && typeof col.getValues == 'function') {\n    return undefined;\n  }\n  // ES6 Map and Set both define a keys function that returns an iterator. For\n  // Sets this iterates over the same values as the values iterator.\n  // The typeof check allows the compiler to remove the Map and Set polyfills\n  // if they are otherwise unused throughout the entire binary.\n  if (typeof Map !== 'undefined' && col instanceof Map) {\n    return Array.from(col.keys());\n  }\n  // Unlike the native Set, goog.structs.Set does not expose keys as the values.\n  if (typeof Set !== 'undefined' && col instanceof Set) {\n    return undefined;\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    var rv = [];\n    var l = col.length;\n    for (var i = 0; i < l; i++) {\n      rv.push(i);\n    }\n    return rv;\n  }\n\n  return goog.object.getKeys(col);\n};\n\n\n/**\n * Whether the collection contains the given value. This is O(n) and uses\n * equals (==) to test the existence.\n * @param {Object} col The collection-like object.\n * @param {*} val The value to check for.\n * @return {boolean} True if the map contains the value.\n */\ngoog.structs.contains = function(col, val) {\n  'use strict';\n  if (col.contains && typeof col.contains == 'function') {\n    return col.contains(val);\n  }\n  if (col.containsValue && typeof col.containsValue == 'function') {\n    return col.containsValue(val);\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return goog.array.contains(/** @type {!Array<?>} */ (col), val);\n  }\n  return goog.object.containsValue(col, val);\n};\n\n\n/**\n * Whether the collection is empty.\n * @param {Object} col The collection-like object.\n * @return {boolean} True if empty.\n */\ngoog.structs.isEmpty = function(col) {\n  'use strict';\n  if (col.isEmpty && typeof col.isEmpty == 'function') {\n    return col.isEmpty();\n  }\n\n  // We do not use goog.string.isEmptyOrWhitespace because here we treat the\n  // string as\n  // collection and as such even whitespace matters\n\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return /** @type {!Array<?>} */ (col).length === 0;\n  }\n  return goog.object.isEmpty(col);\n};\n\n\n/**\n * Removes all the elements from the collection.\n * @param {Object} col The collection-like object.\n * @return {void}\n */\ngoog.structs.clear = function(col) {\n  'use strict';\n  // NOTE(arv): This should not contain strings because strings are immutable\n  if (col.clear && typeof col.clear == 'function') {\n    col.clear();\n  } else if (goog.isArrayLike(col)) {\n    goog.array.clear(/** @type {IArrayLike<?>} */ (col));\n  } else {\n    goog.object.clear(col);\n  }\n};\n\n\n/**\n * Calls a function for each value in a collection. The function takes\n * three arguments; the value, the key and the collection.\n *\n * @param {S} col The collection-like object.\n * @param {function(this:T,?,?,S):?} f The function to call for every value.\n *     This function takes\n *     3 arguments (the value, the key or undefined if the collection has no\n *     notion of keys, and the collection) and the return value is irrelevant.\n * @param {T=} opt_obj The object to be used as the value of 'this'\n *     within `f`.\n * @return {void}\n * @template T,S\n * @deprecated Use a more specific method, e.g. native Array.prototype.forEach,\n *     or for-of.\n */\ngoog.structs.forEach = function(col, f, opt_obj) {\n  'use strict';\n  if (col.forEach && typeof col.forEach == 'function') {\n    col.forEach(f, opt_obj);\n  } else if (goog.isArrayLike(col) || typeof col === 'string') {\n    Array.prototype.forEach.call(/** @type {!Array<?>} */ (col), f, opt_obj);\n  } else {\n    var keys = goog.structs.getKeys(col);\n    var values = goog.structs.getValues(col);\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n      f.call(/** @type {?} */ (opt_obj), values[i], keys && keys[i], col);\n    }\n  }\n};\n\n\n/**\n * Calls a function for every value in the collection. When a call returns true,\n * adds the value to a new collection (Array is returned by default).\n *\n * @param {S} col The collection-like object.\n * @param {function(this:T,?,?,S):boolean} f The function to call for every\n *     value. This function takes\n *     3 arguments (the value, the key or undefined if the collection has no\n *     notion of keys, and the collection) and should return a Boolean. If the\n *     return value is true the value is added to the result collection. If it\n *     is false the value is not included.\n * @param {T=} opt_obj The object to be used as the value of 'this'\n *     within `f`.\n * @return {!Object|!Array<?>} A new collection where the passed values are\n *     present. If col is a key-less collection an array is returned.  If col\n *     has keys and values a plain old JS object is returned.\n * @template T,S\n */\ngoog.structs.filter = function(col, f, opt_obj) {\n  'use strict';\n  if (typeof col.filter == 'function') {\n    return col.filter(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return Array.prototype.filter.call(\n        /** @type {!Array<?>} */ (col), f, opt_obj);\n  }\n\n  var rv;\n  var keys = goog.structs.getKeys(col);\n  var values = goog.structs.getValues(col);\n  var l = values.length;\n  if (keys) {\n    rv = {};\n    for (var i = 0; i < l; i++) {\n      if (f.call(/** @type {?} */ (opt_obj), values[i], keys[i], col)) {\n        rv[keys[i]] = values[i];\n      }\n    }\n  } else {\n    // We should not use Array#filter here since we want to make sure that\n    // the index is undefined as well as make sure that col is passed to the\n    // function.\n    rv = [];\n    for (var i = 0; i < l; i++) {\n      if (f.call(opt_obj, values[i], undefined, col)) {\n        rv.push(values[i]);\n      }\n    }\n  }\n  return rv;\n};\n\n\n/**\n * Calls a function for every value in the collection and adds the result into a\n * new collection (defaults to creating a new Array).\n *\n * @param {S} col The collection-like object.\n * @param {function(this:T,?,?,S):V} f The function to call for every value.\n *     This function takes 3 arguments (the value, the key or undefined if the\n *     collection has no notion of keys, and the collection) and should return\n *     something. The result will be used as the value in the new collection.\n * @param {T=} opt_obj  The object to be used as the value of 'this'\n *     within `f`.\n * @return {!Object<V>|!Array<V>} A new collection with the new values.  If\n *     col is a key-less collection an array is returned.  If col has keys and\n *     values a plain old JS object is returned.\n * @template T,S,V\n */\ngoog.structs.map = function(col, f, opt_obj) {\n  'use strict';\n  if (typeof col.map == 'function') {\n    return col.map(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return Array.prototype.map.call(/** @type {!Array<?>} */ (col), f, opt_obj);\n  }\n\n  var rv;\n  var keys = goog.structs.getKeys(col);\n  var values = goog.structs.getValues(col);\n  var l = values.length;\n  if (keys) {\n    rv = {};\n    for (var i = 0; i < l; i++) {\n      rv[keys[i]] = f.call(/** @type {?} */ (opt_obj), values[i], keys[i], col);\n    }\n  } else {\n    // We should not use Array#map here since we want to make sure that\n    // the index is undefined as well as make sure that col is passed to the\n    // function.\n    rv = [];\n    for (var i = 0; i < l; i++) {\n      rv[i] = f.call(/** @type {?} */ (opt_obj), values[i], undefined, col);\n    }\n  }\n  return rv;\n};\n\n\n/**\n * Calls f for each value in a collection. If any call returns true this returns\n * true (without checking the rest). If all returns false this returns false.\n *\n * @param {S} col The collection-like object.\n * @param {function(this:T,?,?,S):boolean} f The function to call for every\n *     value. This function takes 3 arguments (the value, the key or undefined\n *     if the collection has no notion of keys, and the collection) and should\n *     return a boolean.\n * @param {T=} opt_obj  The object to be used as the value of 'this'\n *     within `f`.\n * @return {boolean} True if any value passes the test.\n * @template T,S\n */\ngoog.structs.some = function(col, f, opt_obj) {\n  'use strict';\n  if (typeof col.some == 'function') {\n    return col.some(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return Array.prototype.some.call(\n        /** @type {!Array<?>} */ (col), f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col);\n  var values = goog.structs.getValues(col);\n  var l = values.length;\n  for (var i = 0; i < l; i++) {\n    if (f.call(/** @type {?} */ (opt_obj), values[i], keys && keys[i], col)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Calls f for each value in a collection. If all calls return true this return\n * true this returns true. If any returns false this returns false at this point\n *  and does not continue to check the remaining values.\n *\n * @param {S} col The collection-like object.\n * @param {function(this:T,?,?,S):boolean} f The function to call for every\n *     value. This function takes 3 arguments (the value, the key or\n *     undefined if the collection has no notion of keys, and the collection)\n *     and should return a boolean.\n * @param {T=} opt_obj  The object to be used as the value of 'this'\n *     within `f`.\n * @return {boolean} True if all key-value pairs pass the test.\n * @template T,S\n */\ngoog.structs.every = function(col, f, opt_obj) {\n  'use strict';\n  if (typeof col.every == 'function') {\n    return col.every(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || typeof col === 'string') {\n    return Array.prototype.every.call(\n        /** @type {!Array<?>} */ (col), f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col);\n  var values = goog.structs.getValues(col);\n  var l = values.length;\n  for (var i = 0; i < l; i++) {\n    if (!f.call(/** @type {?} */ (opt_obj), values[i], keys && keys[i], col)) {\n      return false;\n    }\n  }\n  return true;\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Simple utilities for dealing with URI strings.\n *\n * This package is deprecated in favour of the Closure URL package (goog.url)\n * when manipulating URIs for use by a browser. This package uses regular\n * expressions to parse a potential URI which can fall out of sync with how a\n * browser will actually interpret the URI. See\n * `goog.uri.utils.setUrlPackageSupportLoggingHandler` for one way to identify\n * URIs that should instead be parsed using the URL package.\n *\n * This is intended to be a lightweight alternative to constructing goog.Uri\n * objects.  Whereas goog.Uri adds several kilobytes to the binary regardless\n * of how much of its functionality you use, this is designed to be a set of\n * mostly-independent utilities so that the compiler includes only what is\n * necessary for the task.  Estimated savings of porting is 5k pre-gzip and\n * 1.5k post-gzip.  To ensure the savings remain, future developers should\n * avoid adding new functionality to existing functions, but instead create\n * new ones and factor out shared code.\n *\n * Many of these utilities have limited functionality, tailored to common\n * cases.  The query parameter utilities assume that the parameter keys are\n * already encoded, since most keys are compile-time alphanumeric strings.  The\n * query parameter mutation utilities also do not tolerate fragment identifiers.\n *\n * By design, these functions can be slower than goog.Uri equivalents.\n * Repeated calls to some of functions may be quadratic in behavior for IE,\n * although the effect is somewhat limited given the 2kb limit.\n *\n * One advantage of the limited functionality here is that this approach is\n * less sensitive to differences in URI encodings than goog.Uri, since these\n * functions operate on strings directly, rather than decoding them and\n * then re-encoding.\n *\n * Uses features of RFC 3986 for parsing/formatting URIs:\n *   http://www.ietf.org/rfc/rfc3986.txt\n */\n\ngoog.provide('goog.uri.utils');\ngoog.provide('goog.uri.utils.ComponentIndex');\ngoog.provide('goog.uri.utils.QueryArray');\ngoog.provide('goog.uri.utils.QueryValue');\ngoog.provide('goog.uri.utils.StandardQueryParam');\n\ngoog.require('goog.asserts');\ngoog.require('goog.string');\n\n\n/**\n * Character codes inlined to avoid object allocations due to charCode.\n * @enum {number}\n * @private\n */\ngoog.uri.utils.CharCode_ = {\n  AMPERSAND: 38,\n  EQUAL: 61,\n  HASH: 35,\n  QUESTION: 63\n};\n\n\n/**\n * Builds a URI string from already-encoded parts.\n *\n * No encoding is performed.  Any component may be omitted as either null or\n * undefined.\n *\n * @param {?string=} opt_scheme The scheme such as 'http'.\n * @param {?string=} opt_userInfo The user name before the '@'.\n * @param {?string=} opt_domain The domain such as 'www.google.com', already\n *     URI-encoded.\n * @param {(string|number|null)=} opt_port The port number.\n * @param {?string=} opt_path The path, already URI-encoded.  If it is not\n *     empty, it must begin with a slash.\n * @param {?string=} opt_queryData The URI-encoded query data.\n * @param {?string=} opt_fragment The URI-encoded fragment identifier.\n * @return {string} The fully combined URI.\n */\ngoog.uri.utils.buildFromEncodedParts = function(\n    opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData,\n    opt_fragment) {\n  'use strict';\n  var out = '';\n\n  if (opt_scheme) {\n    out += opt_scheme + ':';\n  }\n\n  if (opt_domain) {\n    out += '//';\n\n    if (opt_userInfo) {\n      out += opt_userInfo + '@';\n    }\n\n    out += opt_domain;\n\n    if (opt_port) {\n      out += ':' + opt_port;\n    }\n  }\n\n  if (opt_path) {\n    out += opt_path;\n  }\n\n  if (opt_queryData) {\n    out += '?' + opt_queryData;\n  }\n\n  if (opt_fragment) {\n    out += '#' + opt_fragment;\n  }\n\n  return out;\n};\n\n\n/**\n * A regular expression for breaking a URI into its component parts.\n *\n * {@link http://www.ietf.org/rfc/rfc3986.txt} says in Appendix B\n * As the \"first-match-wins\" algorithm is identical to the \"greedy\"\n * disambiguation method used by POSIX regular expressions, it is natural and\n * commonplace to use a regular expression for parsing the potential five\n * components of a URI reference.\n *\n * The following line is the regular expression for breaking-down a\n * well-formed URI reference into its components.\n *\n * <pre>\n * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n *  12            3  4          5       6  7        8 9\n * </pre>\n *\n * The numbers in the second line above are only to assist readability; they\n * indicate the reference points for each subexpression (i.e., each paired\n * parenthesis). We refer to the value matched for subexpression <n> as $<n>.\n * For example, matching the above expression to\n * <pre>\n *     http://www.ics.uci.edu/pub/ietf/uri/#Related\n * </pre>\n * results in the following subexpression matches:\n * <pre>\n *    $1 = http:\n *    $2 = http\n *    $3 = //www.ics.uci.edu\n *    $4 = www.ics.uci.edu\n *    $5 = /pub/ietf/uri/\n *    $6 = <undefined>\n *    $7 = <undefined>\n *    $8 = #Related\n *    $9 = Related\n * </pre>\n * where <undefined> indicates that the component is not present, as is the\n * case for the query component in the above example. Therefore, we can\n * determine the value of the five components as\n * <pre>\n *    scheme    = $2\n *    authority = $4\n *    path      = $5\n *    query     = $7\n *    fragment  = $9\n * </pre>\n *\n * The regular expression has been modified slightly to expose the\n * userInfo, domain, and port separately from the authority.\n * The modified version yields\n * <pre>\n *    $1 = http              scheme\n *    $2 = <undefined>       userInfo -\\\n *    $3 = www.ics.uci.edu   domain     | authority\n *    $4 = <undefined>       port     -/\n *    $5 = /pub/ietf/uri/    path\n *    $6 = <undefined>       query without ?\n *    $7 = Related           fragment without #\n * </pre>\n *\n * TODO(user): separate out the authority terminating characters once this\n * file is moved to ES6.\n * @type {!RegExp}\n * @private\n */\ngoog.uri.utils.splitRe_ = new RegExp(\n    '^' +  // Anchor against the entire string.\n    '(?:' +\n    '([^:/?#.]+)' +  // scheme - ignore special characters\n                     // used by other URL parts such as :,\n                     // ?, /, #, and .\n    ':)?' +\n    '(?://' +\n    '(?:([^\\\\\\\\/?#]*)@)?' +  // userInfo\n    '([^\\\\\\\\/?#]*?)' +       // domain\n    '(?::([0-9]+))?' +       // port\n    '(?=[\\\\\\\\/?#]|$)' +      // authority-terminating character.\n    ')?' +\n    '([^?#]+)?' +          // path\n    '(?:\\\\?([^#]*))?' +    // query\n    '(?:#([\\\\s\\\\S]*))?' +  // fragment. Can't use '.*' with 's' flag as Firefox\n                           // doesn't support the flag, and can't use an\n                           // \"everything set\" ([^]) as IE10 doesn't match any\n                           // characters with it.\n    '$');\n\n\n/**\n * The index of each URI component in the return value of goog.uri.utils.split.\n * @enum {number}\n */\ngoog.uri.utils.ComponentIndex = {\n  SCHEME: 1,\n  USER_INFO: 2,\n  DOMAIN: 3,\n  PORT: 4,\n  PATH: 5,\n  QUERY_DATA: 6,\n  FRAGMENT: 7\n};\n\n/**\n * @type {?function(string)}\n * @private\n */\ngoog.uri.utils.urlPackageSupportLoggingHandler_ = null;\n\n/**\n * @param {?function(string)} handler The handler function to call when a URI\n *     with a protocol that is better supported by the Closure URL package is\n *     detected.\n */\ngoog.uri.utils.setUrlPackageSupportLoggingHandler = function(handler) {\n  'use strict';\n  goog.uri.utils.urlPackageSupportLoggingHandler_ = handler;\n};\n\n/**\n * Splits a URI into its component parts.\n *\n * Each component can be accessed via the component indices; for example:\n * <pre>\n * goog.uri.utils.split(someStr)[goog.uri.utils.ComponentIndex.QUERY_DATA];\n * </pre>\n *\n * @param {string} uri The URI string to examine.\n * @return {!Array<string|undefined>} Each component still URI-encoded.\n *     Each component that is present will contain the encoded value, whereas\n *     components that are not present will be undefined or empty, depending\n *     on the browser's regular expression implementation.  Never null, since\n *     arbitrary strings may still look like path names.\n */\ngoog.uri.utils.split = function(uri) {\n  'use strict';\n  // See @return comment -- never null.\n  var result = /** @type {!Array<string|undefined>} */ (\n      uri.match(goog.uri.utils.splitRe_));\n  if (goog.uri.utils.urlPackageSupportLoggingHandler_ &&\n      ['http', 'https', 'ws', 'wss',\n       'ftp'].indexOf(result[goog.uri.utils.ComponentIndex.SCHEME]) >= 0) {\n    goog.uri.utils.urlPackageSupportLoggingHandler_(uri);\n  }\n  return result;\n};\n\n\n/**\n * @param {?string} uri A possibly null string.\n * @param {boolean=} opt_preserveReserved If true, percent-encoding of RFC-3986\n *     reserved characters will not be removed.\n * @return {?string} The string URI-decoded, or null if uri is null.\n * @private\n */\ngoog.uri.utils.decodeIfPossible_ = function(uri, opt_preserveReserved) {\n  'use strict';\n  if (!uri) {\n    return uri;\n  }\n\n  return opt_preserveReserved ? decodeURI(uri) : decodeURIComponent(uri);\n};\n\n\n/**\n * Gets a URI component by index.\n *\n * It is preferred to use the getPathEncoded() variety of functions ahead,\n * since they are more readable.\n *\n * @param {goog.uri.utils.ComponentIndex} componentIndex The component index.\n * @param {string} uri The URI to examine.\n * @return {?string} The still-encoded component, or null if the component\n *     is not present.\n * @private\n */\ngoog.uri.utils.getComponentByIndex_ = function(componentIndex, uri) {\n  'use strict';\n  // Convert undefined, null, and empty string into null.\n  return goog.uri.utils.split(uri)[componentIndex] || null;\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The protocol or scheme, or null if none.  Does not\n *     include trailing colons or slashes.\n */\ngoog.uri.utils.getScheme = function(uri) {\n  'use strict';\n  return goog.uri.utils.getComponentByIndex_(\n      goog.uri.utils.ComponentIndex.SCHEME, uri);\n};\n\n\n/**\n * Gets the effective scheme for the URL.  If the URL is relative then the\n * scheme is derived from the page's location.\n * @param {string} uri The URI to examine.\n * @return {string} The protocol or scheme, always lower case.\n */\ngoog.uri.utils.getEffectiveScheme = function(uri) {\n  'use strict';\n  var scheme = goog.uri.utils.getScheme(uri);\n  if (!scheme && goog.global.self && goog.global.self.location) {\n    var protocol = goog.global.self.location.protocol;\n    scheme = protocol.substr(0, protocol.length - 1);\n  }\n  // NOTE: When called from a web worker in Firefox 3.5, location may be null.\n  // All other browsers with web workers support self.location from the worker.\n  return scheme ? scheme.toLowerCase() : '';\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The user name still encoded, or null if none.\n */\ngoog.uri.utils.getUserInfoEncoded = function(uri) {\n  'use strict';\n  return goog.uri.utils.getComponentByIndex_(\n      goog.uri.utils.ComponentIndex.USER_INFO, uri);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The decoded user info, or null if none.\n */\ngoog.uri.utils.getUserInfo = function(uri) {\n  'use strict';\n  return goog.uri.utils.decodeIfPossible_(\n      goog.uri.utils.getUserInfoEncoded(uri));\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The domain name still encoded, or null if none.\n */\ngoog.uri.utils.getDomainEncoded = function(uri) {\n  'use strict';\n  return goog.uri.utils.getComponentByIndex_(\n      goog.uri.utils.ComponentIndex.DOMAIN, uri);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The decoded domain, or null if none.\n */\ngoog.uri.utils.getDomain = function(uri) {\n  'use strict';\n  return goog.uri.utils.decodeIfPossible_(\n      goog.uri.utils.getDomainEncoded(uri), true /* opt_preserveReserved */);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?number} The port number, or null if none.\n */\ngoog.uri.utils.getPort = function(uri) {\n  'use strict';\n  // Coerce to a number.  If the result of getComponentByIndex_ is null or\n  // non-numeric, the number coersion yields NaN.  This will then return\n  // null for all non-numeric cases (though also zero, which isn't a relevant\n  // port number).\n  return Number(\n             goog.uri.utils.getComponentByIndex_(\n                 goog.uri.utils.ComponentIndex.PORT, uri)) ||\n      null;\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The path still encoded, or null if none. Includes the\n *     leading slash, if any.\n */\ngoog.uri.utils.getPathEncoded = function(uri) {\n  'use strict';\n  return goog.uri.utils.getComponentByIndex_(\n      goog.uri.utils.ComponentIndex.PATH, uri);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The decoded path, or null if none.  Includes the leading\n *     slash, if any.\n */\ngoog.uri.utils.getPath = function(uri) {\n  'use strict';\n  return goog.uri.utils.decodeIfPossible_(\n      goog.uri.utils.getPathEncoded(uri), true /* opt_preserveReserved */);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The query data still encoded, or null if none.  Does not\n *     include the question mark itself.\n */\ngoog.uri.utils.getQueryData = function(uri) {\n  'use strict';\n  return goog.uri.utils.getComponentByIndex_(\n      goog.uri.utils.ComponentIndex.QUERY_DATA, uri);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The fragment identifier, or null if none.  Does not\n *     include the hash mark itself.\n */\ngoog.uri.utils.getFragmentEncoded = function(uri) {\n  'use strict';\n  // The hash mark may not appear in any other part of the URL.\n  var hashIndex = uri.indexOf('#');\n  return hashIndex < 0 ? null : uri.substr(hashIndex + 1);\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @param {?string} fragment The encoded fragment identifier, or null if none.\n *     Does not include the hash mark itself.\n * @return {string} The URI with the fragment set.\n */\ngoog.uri.utils.setFragmentEncoded = function(uri, fragment) {\n  'use strict';\n  return goog.uri.utils.removeFragment(uri) + (fragment ? '#' + fragment : '');\n};\n\n\n/**\n * @param {string} uri The URI to examine.\n * @return {?string} The decoded fragment identifier, or null if none.  Does\n *     not include the hash mark.\n */\ngoog.uri.utils.getFragment = function(uri) {\n  'use strict';\n  return goog.uri.utils.decodeIfPossible_(\n      goog.uri.utils.getFragmentEncoded(uri));\n};\n\n\n/**\n * Extracts everything up to the port of the URI.\n * @param {string} uri The URI string.\n * @return {string} Everything up to and including the port.\n */\ngoog.uri.utils.getHost = function(uri) {\n  'use strict';\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(\n      pieces[goog.uri.utils.ComponentIndex.SCHEME],\n      pieces[goog.uri.utils.ComponentIndex.USER_INFO],\n      pieces[goog.uri.utils.ComponentIndex.DOMAIN],\n      pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\n\n\n/**\n * Returns the origin for a given URL.\n * @param {string} uri The URI string.\n * @return {string} Everything up to and including the port.\n */\ngoog.uri.utils.getOrigin = function(uri) {\n  'use strict';\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(\n      pieces[goog.uri.utils.ComponentIndex.SCHEME], null /* opt_userInfo */,\n      pieces[goog.uri.utils.ComponentIndex.DOMAIN],\n      pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\n\n\n/**\n * Extracts the path of the URL and everything after.\n * @param {string} uri The URI string.\n * @return {string} The URI, starting at the path and including the query\n *     parameters and fragment identifier.\n */\ngoog.uri.utils.getPathAndAfter = function(uri) {\n  'use strict';\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(\n      null, null, null, null, pieces[goog.uri.utils.ComponentIndex.PATH],\n      pieces[goog.uri.utils.ComponentIndex.QUERY_DATA],\n      pieces[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\n\n\n/**\n * Gets the URI with the fragment identifier removed.\n * @param {string} uri The URI to examine.\n * @return {string} Everything preceding the hash mark.\n */\ngoog.uri.utils.removeFragment = function(uri) {\n  'use strict';\n  // The hash mark may not appear in any other part of the URL.\n  var hashIndex = uri.indexOf('#');\n  return hashIndex < 0 ? uri : uri.substr(0, hashIndex);\n};\n\n\n/**\n * Ensures that two URI's have the exact same domain, scheme, and port.\n *\n * Unlike the version in goog.Uri, this checks protocol, and therefore is\n * suitable for checking against the browser's same-origin policy.\n *\n * @param {string} uri1 The first URI.\n * @param {string} uri2 The second URI.\n * @return {boolean} Whether they have the same scheme, domain and port.\n */\ngoog.uri.utils.haveSameDomain = function(uri1, uri2) {\n  'use strict';\n  var pieces1 = goog.uri.utils.split(uri1);\n  var pieces2 = goog.uri.utils.split(uri2);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] ==\n      pieces2[goog.uri.utils.ComponentIndex.DOMAIN] &&\n      pieces1[goog.uri.utils.ComponentIndex.SCHEME] ==\n      pieces2[goog.uri.utils.ComponentIndex.SCHEME] &&\n      pieces1[goog.uri.utils.ComponentIndex.PORT] ==\n      pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\n\n\n/**\n * Asserts that there are no fragment or query identifiers, only in uncompiled\n * mode.\n * @param {string} uri The URI to examine.\n * @private\n */\ngoog.uri.utils.assertNoFragmentsOrQueries_ = function(uri) {\n  'use strict';\n  goog.asserts.assert(\n      uri.indexOf('#') < 0 && uri.indexOf('?') < 0,\n      'goog.uri.utils: Fragment or query identifiers are not supported: [%s]',\n      uri);\n};\n\n\n/**\n * Supported query parameter values by the parameter serializing utilities.\n *\n * If a value is null or undefined, the key-value pair is skipped, as an easy\n * way to omit parameters conditionally.  Non-array parameters are converted\n * to a string and URI encoded.  Array values are expanded into multiple\n * &key=value pairs, with each element stringized and URI-encoded.\n *\n * @typedef {*}\n */\ngoog.uri.utils.QueryValue;\n\n\n/**\n * An array representing a set of query parameters with alternating keys\n * and values.\n *\n * Keys are assumed to be URI encoded already and live at even indices.  See\n * goog.uri.utils.QueryValue for details on how parameter values are encoded.\n *\n * Example:\n * <pre>\n * var data = [\n *   // Simple param: ?name=BobBarker\n *   'name', 'BobBarker',\n *   // Conditional param -- may be omitted entirely.\n *   'specialDietaryNeeds', hasDietaryNeeds() ? getDietaryNeeds() : null,\n *   // Multi-valued param: &house=LosAngeles&house=NewYork&house=null\n *   'house', ['LosAngeles', 'NewYork', null]\n * ];\n * </pre>\n *\n * @typedef {!Array<string|goog.uri.utils.QueryValue>}\n */\ngoog.uri.utils.QueryArray;\n\n\n/**\n * Parses encoded query parameters and calls callback function for every\n * parameter found in the string.\n *\n * Missing value of parameter (e.g. &key&) is treated as if the value was an\n * empty string.  Keys may be empty strings (e.g. &=value&) which also means\n * that &=& and && will result in an empty key and value.\n *\n * @param {string} encodedQuery Encoded query string excluding question mark at\n *     the beginning.\n * @param {function(string, string)} callback Function called for every\n *     parameter found in query string.  The first argument (name) will not be\n *     urldecoded (so the function is consistent with buildQueryData), but the\n *     second will.  If the parameter has no value (i.e. = was not present)\n *     the second argument (value) will be an empty string.\n */\ngoog.uri.utils.parseQueryData = function(encodedQuery, callback) {\n  'use strict';\n  if (!encodedQuery) {\n    return;\n  }\n  var pairs = encodedQuery.split('&');\n  for (var i = 0; i < pairs.length; i++) {\n    var indexOfEquals = pairs[i].indexOf('=');\n    var name = null;\n    var value = null;\n    if (indexOfEquals >= 0) {\n      name = pairs[i].substring(0, indexOfEquals);\n      value = pairs[i].substring(indexOfEquals + 1);\n    } else {\n      name = pairs[i];\n    }\n    callback(name, value ? goog.string.urlDecode(value) : '');\n  }\n};\n\n\n/**\n * Split the URI into 3 parts where the [1] is the queryData without a leading\n * '?'. For example, the URI http://foo.com/bar?a=b#abc returns\n * ['http://foo.com/bar','a=b','#abc'].\n * @param {string} uri The URI to parse.\n * @return {!Array<string>} An array representation of uri of length 3 where the\n *     middle value is the queryData without a leading '?'.\n * @private\n */\ngoog.uri.utils.splitQueryData_ = function(uri) {\n  'use strict';\n  // Find the query data and hash.\n  var hashIndex = uri.indexOf('#');\n  if (hashIndex < 0) {\n    hashIndex = uri.length;\n  }\n  var questionIndex = uri.indexOf('?');\n  var queryData;\n  if (questionIndex < 0 || questionIndex > hashIndex) {\n    questionIndex = hashIndex;\n    queryData = '';\n  } else {\n    queryData = uri.substring(questionIndex + 1, hashIndex);\n  }\n  return [uri.substr(0, questionIndex), queryData, uri.substr(hashIndex)];\n};\n\n\n/**\n * Join an array created by splitQueryData_ back into a URI.\n * @param {!Array<string>} parts A URI in the form generated by splitQueryData_.\n * @return {string} The joined URI.\n * @private\n */\ngoog.uri.utils.joinQueryData_ = function(parts) {\n  'use strict';\n  return parts[0] + (parts[1] ? '?' + parts[1] : '') + parts[2];\n};\n\n\n/**\n * @param {string} queryData\n * @param {string} newData\n * @return {string}\n * @private\n */\ngoog.uri.utils.appendQueryData_ = function(queryData, newData) {\n  'use strict';\n  if (!newData) {\n    return queryData;\n  }\n  return queryData ? queryData + '&' + newData : newData;\n};\n\n\n/**\n * @param {string} uri\n * @param {string} queryData\n * @return {string}\n * @private\n */\ngoog.uri.utils.appendQueryDataToUri_ = function(uri, queryData) {\n  'use strict';\n  if (!queryData) {\n    return uri;\n  }\n  var parts = goog.uri.utils.splitQueryData_(uri);\n  parts[1] = goog.uri.utils.appendQueryData_(parts[1], queryData);\n  return goog.uri.utils.joinQueryData_(parts);\n};\n\n\n/**\n * Appends key=value pairs to an array, supporting multi-valued objects.\n * @param {*} key The key prefix.\n * @param {goog.uri.utils.QueryValue} value The value to serialize.\n * @param {!Array<string>} pairs The array to which the 'key=value' strings\n *     should be appended.\n * @private\n */\ngoog.uri.utils.appendKeyValuePairs_ = function(key, value, pairs) {\n  'use strict';\n  goog.asserts.assertString(key);\n  if (Array.isArray(value)) {\n    // Convince the compiler it's an array.\n    goog.asserts.assertArray(value);\n    for (var j = 0; j < value.length; j++) {\n      // Convert to string explicitly, to short circuit the null and array\n      // logic in this function -- this ensures that null and undefined get\n      // written as literal 'null' and 'undefined', and arrays don't get\n      // expanded out but instead encoded in the default way.\n      goog.uri.utils.appendKeyValuePairs_(key, String(value[j]), pairs);\n    }\n  } else if (value != null) {\n    // Skip a top-level null or undefined entirely.\n    pairs.push(\n        key +\n        // Check for empty string. Zero gets encoded into the url as literal\n        // strings.  For empty string, skip the equal sign, to be consistent\n        // with UriBuilder.java.\n        (value === '' ? '' : '=' + goog.string.urlEncode(value)));\n  }\n};\n\n\n/**\n * Builds a query data string from a sequence of alternating keys and values.\n * Currently generates \"&key&\" for empty args.\n *\n * @param {!IArrayLike<string|goog.uri.utils.QueryValue>} keysAndValues\n *     Alternating keys and values. See the QueryArray typedef.\n * @param {number=} opt_startIndex A start offset into the arary, defaults to 0.\n * @return {string} The encoded query string, in the form 'a=1&b=2'.\n */\ngoog.uri.utils.buildQueryData = function(keysAndValues, opt_startIndex) {\n  'use strict';\n  goog.asserts.assert(\n      Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2 == 0,\n      'goog.uri.utils: Key/value lists must be even in length.');\n\n  var params = [];\n  for (var i = opt_startIndex || 0; i < keysAndValues.length; i += 2) {\n    var key = /** @type {string} */ (keysAndValues[i]);\n    goog.uri.utils.appendKeyValuePairs_(key, keysAndValues[i + 1], params);\n  }\n  return params.join('&');\n};\n\n\n/**\n * Builds a query data string from a map.\n * Currently generates \"&key&\" for empty args.\n *\n * @param {!Object<string, goog.uri.utils.QueryValue>} map An object where keys\n *     are URI-encoded parameter keys, and the values are arbitrary types\n *     or arrays. Keys with a null value are dropped.\n * @return {string} The encoded query string, in the form 'a=1&b=2'.\n */\ngoog.uri.utils.buildQueryDataFromMap = function(map) {\n  'use strict';\n  var params = [];\n  for (var key in map) {\n    goog.uri.utils.appendKeyValuePairs_(key, map[key], params);\n  }\n  return params.join('&');\n};\n\n\n/**\n * Appends URI parameters to an existing URI.\n *\n * The variable arguments may contain alternating keys and values.  Keys are\n * assumed to be already URI encoded.  The values should not be URI-encoded,\n * and will instead be encoded by this function.\n * <pre>\n * appendParams('http://www.foo.com?existing=true',\n *     'key1', 'value1',\n *     'key2', 'value?willBeEncoded',\n *     'key3', ['valueA', 'valueB', 'valueC'],\n *     'key4', null);\n * result: 'http://www.foo.com?existing=true&' +\n *     'key1=value1&' +\n *     'key2=value%3FwillBeEncoded&' +\n *     'key3=valueA&key3=valueB&key3=valueC'\n * </pre>\n *\n * A single call to this function will not exhibit quadratic behavior in IE,\n * whereas multiple repeated calls may, although the effect is limited by\n * fact that URL's generally can't exceed 2kb.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {...(goog.uri.utils.QueryArray|goog.uri.utils.QueryValue)}\n * var_args\n *     An array or argument list conforming to goog.uri.utils.QueryArray.\n * @return {string} The URI with all query parameters added.\n */\ngoog.uri.utils.appendParams = function(uri, var_args) {\n  'use strict';\n  var queryData = arguments.length == 2 ?\n      goog.uri.utils.buildQueryData(arguments[1], 0) :\n      goog.uri.utils.buildQueryData(arguments, 1);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\n\n\n/**\n * Appends query parameters from a map.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {!Object<goog.uri.utils.QueryValue>} map An object where keys are\n *     URI-encoded parameter keys, and the values are arbitrary types or arrays.\n *     Keys with a null value are dropped.\n * @return {string} The new parameters.\n */\ngoog.uri.utils.appendParamsFromMap = function(uri, map) {\n  'use strict';\n  var queryData = goog.uri.utils.buildQueryDataFromMap(map);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\n\n\n/**\n * Appends a single URI parameter.\n *\n * Repeated calls to this can exhibit quadratic behavior in IE6 due to the\n * way string append works, though it should be limited given the 2kb limit.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {string} key The key, which must already be URI encoded.\n * @param {*=} opt_value The value, which will be stringized and encoded\n *     (assumed not already to be encoded).  If omitted, undefined, or null, the\n *     key will be added as a valueless parameter.\n * @return {string} The URI with the query parameter added.\n */\ngoog.uri.utils.appendParam = function(uri, key, opt_value) {\n  'use strict';\n  var value = (opt_value != null) ? '=' + goog.string.urlEncode(opt_value) : '';\n  return goog.uri.utils.appendQueryDataToUri_(uri, key + value);\n};\n\n\n/**\n * Finds the next instance of a query parameter with the specified name.\n *\n * Does not instantiate any objects.\n *\n * @param {string} uri The URI to search.  May contain a fragment identifier\n *     if opt_hashIndex is specified.\n * @param {number} startIndex The index to begin searching for the key at.  A\n *     match may be found even if this is one character after the ampersand.\n * @param {string} keyEncoded The URI-encoded key.\n * @param {number} hashOrEndIndex Index to stop looking at.  If a hash\n *     mark is present, it should be its index, otherwise it should be the\n *     length of the string.\n * @return {number} The position of the first character in the key's name,\n *     immediately after either a question mark or a dot.\n * @private\n */\ngoog.uri.utils.findParam_ = function(\n    uri, startIndex, keyEncoded, hashOrEndIndex) {\n  'use strict';\n  var index = startIndex;\n  var keyLength = keyEncoded.length;\n\n  // Search for the key itself and post-filter for surronuding punctuation,\n  // rather than expensively building a regexp.\n  while ((index = uri.indexOf(keyEncoded, index)) >= 0 &&\n         index < hashOrEndIndex) {\n    var precedingChar = uri.charCodeAt(index - 1);\n    // Ensure that the preceding character is '&' or '?'.\n    if (precedingChar == goog.uri.utils.CharCode_.AMPERSAND ||\n        precedingChar == goog.uri.utils.CharCode_.QUESTION) {\n      // Ensure the following character is '&', '=', '#', or NaN\n      // (end of string).\n      var followingChar = uri.charCodeAt(index + keyLength);\n      if (!followingChar || followingChar == goog.uri.utils.CharCode_.EQUAL ||\n          followingChar == goog.uri.utils.CharCode_.AMPERSAND ||\n          followingChar == goog.uri.utils.CharCode_.HASH) {\n        return index;\n      }\n    }\n    index += keyLength + 1;\n  }\n\n  return -1;\n};\n\n\n/**\n * Regular expression for finding a hash mark or end of string.\n * @type {RegExp}\n * @private\n */\ngoog.uri.utils.hashOrEndRe_ = /#|$/;\n\n\n/**\n * Determines if the URI contains a specific key.\n *\n * Performs no object instantiations.\n *\n * @param {string} uri The URI to process.  May contain a fragment\n *     identifier.\n * @param {string} keyEncoded The URI-encoded key.  Case-sensitive.\n * @return {boolean} Whether the key is present.\n */\ngoog.uri.utils.hasParam = function(uri, keyEncoded) {\n  'use strict';\n  return goog.uri.utils.findParam_(\n             uri, 0, keyEncoded, uri.search(goog.uri.utils.hashOrEndRe_)) >= 0;\n};\n\n\n/**\n * Gets the first value of a query parameter.\n * @param {string} uri The URI to process.  May contain a fragment.\n * @param {string} keyEncoded The URI-encoded key.  Case-sensitive.\n * @return {?string} The first value of the parameter (URI-decoded), or null\n *     if the parameter is not found.\n */\ngoog.uri.utils.getParamValue = function(uri, keyEncoded) {\n  'use strict';\n  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_);\n  var foundIndex =\n      goog.uri.utils.findParam_(uri, 0, keyEncoded, hashOrEndIndex);\n\n  if (foundIndex < 0) {\n    return null;\n  } else {\n    var endPosition = uri.indexOf('&', foundIndex);\n    if (endPosition < 0 || endPosition > hashOrEndIndex) {\n      endPosition = hashOrEndIndex;\n    }\n    // Progress forth to the end of the \"key=\" or \"key&\" substring.\n    foundIndex += keyEncoded.length + 1;\n    // Use substr, because it (unlike substring) will return empty string\n    // if foundIndex > endPosition.\n    return goog.string.urlDecode(\n        uri.substr(foundIndex, endPosition - foundIndex));\n  }\n};\n\n\n/**\n * Gets all values of a query parameter.\n * @param {string} uri The URI to process.  May contain a fragment.\n * @param {string} keyEncoded The URI-encoded key.  Case-sensitive.\n * @return {!Array<string>} All URI-decoded values with the given key.\n *     If the key is not found, this will have length 0, but never be null.\n */\ngoog.uri.utils.getParamValues = function(uri, keyEncoded) {\n  'use strict';\n  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_);\n  var position = 0;\n  var foundIndex;\n  var result = [];\n\n  while ((foundIndex = goog.uri.utils.findParam_(\n              uri, position, keyEncoded, hashOrEndIndex)) >= 0) {\n    // Find where this parameter ends, either the '&' or the end of the\n    // query parameters.\n    position = uri.indexOf('&', foundIndex);\n    if (position < 0 || position > hashOrEndIndex) {\n      position = hashOrEndIndex;\n    }\n\n    // Progress forth to the end of the \"key=\" or \"key&\" substring.\n    foundIndex += keyEncoded.length + 1;\n    // Use substr, because it (unlike substring) will return empty string\n    // if foundIndex > position.\n    result.push(\n        goog.string.urlDecode(uri.substr(foundIndex, position - foundIndex)));\n  }\n\n  return result;\n};\n\n\n/**\n * Regexp to find trailing question marks and ampersands.\n * @type {RegExp}\n * @private\n */\ngoog.uri.utils.trailingQueryPunctuationRe_ = /[?&]($|#)/;\n\n\n/**\n * Removes all instances of a query parameter.\n * @param {string} uri The URI to process.  Must not contain a fragment.\n * @param {string} keyEncoded The URI-encoded key.\n * @return {string} The URI with all instances of the parameter removed.\n */\ngoog.uri.utils.removeParam = function(uri, keyEncoded) {\n  'use strict';\n  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_);\n  var position = 0;\n  var foundIndex;\n  var buffer = [];\n\n  // Look for a query parameter.\n  while ((foundIndex = goog.uri.utils.findParam_(\n              uri, position, keyEncoded, hashOrEndIndex)) >= 0) {\n    // Get the portion of the query string up to, but not including, the ?\n    // or & starting the parameter.\n    buffer.push(uri.substring(position, foundIndex));\n    // Progress to immediately after the '&'.  If not found, go to the end.\n    // Avoid including the hash mark.\n    position = Math.min(\n        (uri.indexOf('&', foundIndex) + 1) || hashOrEndIndex, hashOrEndIndex);\n  }\n\n  // Append everything that is remaining.\n  buffer.push(uri.substr(position));\n\n  // Join the buffer, and remove trailing punctuation that remains.\n  return buffer.join('').replace(\n      goog.uri.utils.trailingQueryPunctuationRe_, '$1');\n};\n\n\n/**\n * Replaces all existing definitions of a parameter with a single definition.\n *\n * Repeated calls to this can exhibit quadratic behavior due to the need to\n * find existing instances and reconstruct the string, though it should be\n * limited given the 2kb limit.  Consider using appendParams or setParamsFromMap\n * to update multiple parameters in bulk.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {string} keyEncoded The key, which must already be URI encoded.\n * @param {*} value The value, which will be stringized and encoded (assumed\n *     not already to be encoded).\n * @return {string} The URI with the query parameter added.\n */\ngoog.uri.utils.setParam = function(uri, keyEncoded, value) {\n  'use strict';\n  return goog.uri.utils.appendParam(\n      goog.uri.utils.removeParam(uri, keyEncoded), keyEncoded, value);\n};\n\n\n/**\n * Effeciently set or remove multiple query parameters in a URI. Order of\n * unchanged parameters will not be modified, all updated parameters will be\n * appended to the end of the query. Params with values of null or undefined are\n * removed.\n *\n * @param {string} uri The URI to process.\n * @param {!Object<string, goog.uri.utils.QueryValue>} params A list of\n *     parameters to update. If null or undefined, the param will be removed.\n * @return {string} An updated URI where the query data has been updated with\n *     the params.\n */\ngoog.uri.utils.setParamsFromMap = function(uri, params) {\n  'use strict';\n  var parts = goog.uri.utils.splitQueryData_(uri);\n  var queryData = parts[1];\n  var buffer = [];\n  if (queryData) {\n    queryData.split('&').forEach(function(pair) {\n      'use strict';\n      var indexOfEquals = pair.indexOf('=');\n      var name = indexOfEquals >= 0 ? pair.substr(0, indexOfEquals) : pair;\n      if (!params.hasOwnProperty(name)) {\n        buffer.push(pair);\n      }\n    });\n  }\n  parts[1] = goog.uri.utils.appendQueryData_(\n      buffer.join('&'), goog.uri.utils.buildQueryDataFromMap(params));\n  return goog.uri.utils.joinQueryData_(parts);\n};\n\n\n/**\n * Generates a URI path using a given URI and a path with checks to\n * prevent consecutive \"//\". The baseUri passed in must not contain\n * query or fragment identifiers. The path to append may not contain query or\n * fragment identifiers.\n *\n * @param {string} baseUri URI to use as the base.\n * @param {string} path Path to append.\n * @return {string} Updated URI.\n */\ngoog.uri.utils.appendPath = function(baseUri, path) {\n  'use strict';\n  goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);\n\n  // Remove any trailing '/'\n  if (goog.string.endsWith(baseUri, '/')) {\n    baseUri = baseUri.substr(0, baseUri.length - 1);\n  }\n  // Remove any leading '/'\n  if (goog.string.startsWith(path, '/')) {\n    path = path.substr(1);\n  }\n  return '' + baseUri + '/' + path;\n};\n\n\n/**\n * Replaces the path.\n * @param {string} uri URI to use as the base.\n * @param {string} path New path.\n * @return {string} Updated URI.\n */\ngoog.uri.utils.setPath = function(uri, path) {\n  'use strict';\n  // Add any missing '/'.\n  if (!goog.string.startsWith(path, '/')) {\n    path = '/' + path;\n  }\n  var parts = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(\n      parts[goog.uri.utils.ComponentIndex.SCHEME],\n      parts[goog.uri.utils.ComponentIndex.USER_INFO],\n      parts[goog.uri.utils.ComponentIndex.DOMAIN],\n      parts[goog.uri.utils.ComponentIndex.PORT], path,\n      parts[goog.uri.utils.ComponentIndex.QUERY_DATA],\n      parts[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\n\n\n/**\n * Standard supported query parameters.\n * @enum {string}\n */\ngoog.uri.utils.StandardQueryParam = {\n\n  /** Unused parameter for unique-ifying. */\n  RANDOM: 'zx'\n};\n\n\n/**\n * Sets the zx parameter of a URI to a random value.\n * @param {string} uri Any URI.\n * @return {string} That URI with the \"zx\" parameter added or replaced to\n *     contain a random string.\n */\ngoog.uri.utils.makeUnique = function(uri) {\n  'use strict';\n  return goog.uri.utils.setParam(\n      uri, goog.uri.utils.StandardQueryParam.RANDOM,\n      goog.string.getRandomString());\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n/**\n * @fileoverview Defines a class for parsing JSON using the browser's built in\n * JSON library.\n */\n\ngoog.provide('goog.json.NativeJsonProcessor');\n\ngoog.require('goog.asserts');\ngoog.require('goog.json.Processor');\n\n\n\n/**\n * A class that parses and stringifies JSON using the browser's built-in JSON\n * library, if it is available.\n *\n * Note that the native JSON api has subtle differences across browsers, so\n * use this implementation with care.  See json_test#assertSerialize\n * for details on the differences from goog.json.\n *\n * This implementation is signficantly faster than goog.json, at least on\n * Chrome.  See json_perf.html for a perf test showing the difference.\n *\n * @param {?goog.json.Replacer=} opt_replacer An optional replacer to use during\n *     serialization.\n * @param {?goog.json.Reviver=} opt_reviver An optional reviver to use during\n *     parsing.\n * @constructor\n * @implements {goog.json.Processor}\n * @final\n */\ngoog.json.NativeJsonProcessor = function(opt_replacer, opt_reviver) {\n  'use strict';\n  goog.asserts.assert(goog.global['JSON'] !== undefined, 'JSON not defined');\n\n  /**\n   * @type {goog.json.Replacer|null|undefined}\n   * @private\n   */\n  this.replacer_ = opt_replacer;\n\n  /**\n   * @type {goog.json.Reviver|null|undefined}\n   * @private\n   */\n  this.reviver_ = opt_reviver;\n};\n\n\n/** @override */\ngoog.json.NativeJsonProcessor.prototype.stringify = function(object) {\n  'use strict';\n  return goog.global['JSON'].stringify(object, this.replacer_);\n};\n\n\n/** @override */\ngoog.json.NativeJsonProcessor.prototype.parse = function(s) {\n  'use strict';\n  return goog.global['JSON'].parse(s, this.reviver_);\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utility functions for managing networking, such as\n * testing network connectivity.\n *\n */\n\n\ngoog.provide('goog.labs.net.webChannel.netUtils');\n\ngoog.require('goog.Uri');\ngoog.require('goog.labs.net.webChannel.WebChannelDebug');\n\ngoog.scope(function() {\n'use strict';\nconst netUtils = goog.labs.net.webChannel.netUtils;\nconst WebChannelDebug = goog.labs.net.webChannel.WebChannelDebug;\n\n\n/**\n * Default timeout to allow for URI pings.\n * @type {number}\n */\nnetUtils.NETWORK_TIMEOUT = 10000;\n\n\n/**\n * Pings the network with an image URI to check if an error is a server error\n * or user's network error.\n *\n * The caller needs to add a 'rand' parameter to make sure the response is\n * not fulfilled by browser cache.\n *\n * @param {function(boolean)} callback The function to call back with results.\n * @param {goog.Uri=} opt_imageUri The URI (of an image) to use for the network\n *     test.\n */\nnetUtils.testNetwork = function(callback, opt_imageUri) {\n  'use strict';\n  let uri = opt_imageUri;\n  if (!uri) {\n    // default google.com image\n    uri = new goog.Uri('//www.google.com/images/cleardot.gif');\n\n    if (!(goog.global.location && goog.global.location.protocol == 'http')) {\n      uri.setScheme('https');  // e.g. chrome-extension\n    }\n    uri.makeUnique();\n  }\n\n  netUtils.testLoadImage(uri.toString(), netUtils.NETWORK_TIMEOUT, callback);\n};\n\n\n/**\n * Test loading the given image, retrying if necessary.\n * @param {string} url URL to the image.\n * @param {number} timeout Milliseconds before giving up.\n * @param {function(boolean)} callback Function to call with results.\n * @param {number} retries The number of times to retry.\n * @param {!WebChannelDebug} channelDebug The debug object\n * @param {number=} opt_pauseBetweenRetriesMS Optional number of milliseconds\n *     between retries - defaults to 0.\n */\nnetUtils.testLoadImageWithRetries = function(\n    url, timeout, callback, retries, channelDebug, opt_pauseBetweenRetriesMS) {\n  'use strict';\n  channelDebug.debug('TestLoadImageWithRetries: ' + opt_pauseBetweenRetriesMS);\n  if (retries == 0) {\n    // no more retries, give up\n    callback(false);\n    return;\n  }\n\n  const pauseBetweenRetries = opt_pauseBetweenRetriesMS || 0;\n  retries--;\n  netUtils.testLoadImage(url, timeout, function(succeeded) {\n    'use strict';\n    if (succeeded) {\n      callback(true);\n    } else {\n      // try again\n      goog.global.setTimeout(function() {\n        'use strict';\n        netUtils.testLoadImageWithRetries(\n            url, timeout, callback, retries, channelDebug, pauseBetweenRetries);\n      }, pauseBetweenRetries);\n    }\n  });\n};\n\n\n/**\n * Test loading the given image.\n * @param {string} url URL to the image.\n * @param {number} timeout Milliseconds before giving up.\n * @param {function(boolean)} callback Function to call with results.\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\nnetUtils.testLoadImage = function(url, timeout, callback) {\n  'use strict';\n  const channelDebug = new WebChannelDebug();\n  channelDebug.debug('TestLoadImage: loading ' + url);\n  if (goog.global.Image) {\n    const img = new Image();\n    img.onload = goog.partial(\n        netUtils.imageCallback_, channelDebug, img, 'TestLoadImage: loaded',\n        true, callback);\n    img.onerror = goog.partial(\n        netUtils.imageCallback_, channelDebug, img, 'TestLoadImage: error',\n        false, callback);\n    img.onabort = goog.partial(\n        netUtils.imageCallback_, channelDebug, img, 'TestLoadImage: abort',\n        false, callback);\n    img.ontimeout = goog.partial(\n        netUtils.imageCallback_, channelDebug, img, 'TestLoadImage: timeout',\n        false, callback);\n\n    goog.global.setTimeout(function() {\n      'use strict';\n      if (img.ontimeout) {\n        img.ontimeout();\n      }\n    }, timeout);\n    img.src = url;\n  } else {\n    // log ERROR_OTHER from environements where Image is not supported\n    callback(false);\n  }\n};\n\n\n/**\n * Wrap the image callback with debug and cleanup logic.\n * @param {!WebChannelDebug} channelDebug The WebChannelDebug object.\n * @param {!Image} img The image element.\n * @param {string} debugText The debug text.\n * @param {boolean} result The result of image loading.\n * @param {function(boolean)} callback The image callback.\n * @private\n */\nnetUtils.imageCallback_ = function(\n    channelDebug, img, debugText, result, callback) {\n  'use strict';\n  try {\n    channelDebug.debug(debugText);\n    netUtils.clearImageCallbacks_(img);\n    callback(result);\n  } catch (e) {\n    channelDebug.dumpException(e);\n  }\n};\n\n\n/**\n * Clears handlers to avoid memory leaks.\n * @param {Image} img The image to clear handlers from.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\nnetUtils.clearImageCallbacks_ = function(img) {\n  'use strict';\n  img.onload = null;\n  img.onerror = null;\n  img.onabort = null;\n  img.ontimeout = null;\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\ngoog.provide('goog.net.FetchXmlHttp');\ngoog.provide('goog.net.FetchXmlHttpFactory');\n\ngoog.require('goog.asserts');\ngoog.require('goog.events.EventTarget');\ngoog.require('goog.functions');\ngoog.require('goog.log');\ngoog.require('goog.net.XhrLike');\ngoog.require('goog.net.XmlHttpFactory');\n\n\n\n/**\n * @record\n */\ngoog.net.FetchXmlHttpFactoryOptions = function() {\n  /**\n   * @type {!WorkerGlobalScope|undefined} The Service Worker global scope.\n   */\n  this.worker;\n\n  /**\n   * @type {boolean|undefined} Whether to store the FetchXmlHttp response as an\n   * array of Uint8Arrays.  If this is true then the 'responseType' attribute\n   * must be empty.\n   */\n  this.streamBinaryChunks;\n};\n\n\n\n/**\n * Factory for creating Xhr objects that uses the native fetch() method.\n * https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\n * @param {!goog.net.FetchXmlHttpFactoryOptions} opts\n * @extends {goog.net.XmlHttpFactory}\n * @struct\n * @constructor\n */\ngoog.net.FetchXmlHttpFactory = function(opts) {\n  'use strict';\n  goog.net.FetchXmlHttpFactory.base(this, 'constructor');\n\n  /** @private @final {?WorkerGlobalScope} */\n  this.worker_ = opts.worker || null;\n\n  /** @private @final {boolean} */\n  this.streamBinaryChunks_ = opts.streamBinaryChunks || false;\n\n  /** @private {!RequestCredentials|undefined} */\n  this.credentialsMode_ = undefined;\n\n  /** @private {!RequestCache|undefined} */\n  this.cacheMode_ = undefined;\n};\ngoog.inherits(goog.net.FetchXmlHttpFactory, goog.net.XmlHttpFactory);\n\n\n/** @override */\ngoog.net.FetchXmlHttpFactory.prototype.createInstance = function() {\n  'use strict';\n  const instance =\n      new goog.net.FetchXmlHttp(this.worker_, this.streamBinaryChunks_);\n  if (this.credentialsMode_) {\n    instance.setCredentialsMode(this.credentialsMode_);\n  }\n  if (this.cacheMode_) {\n    instance.setCacheMode(this.cacheMode_);\n  }\n  return instance;\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttpFactory.prototype.internalGetOptions =\n    goog.functions.constant({});\n\n\n/**\n * @param {!RequestCredentials} credentialsMode The credentials mode of the\n *     Service Worker fetch.\n */\ngoog.net.FetchXmlHttpFactory.prototype.setCredentialsMode = function(\n    credentialsMode) {\n  'use strict';\n  this.credentialsMode_ = credentialsMode;\n};\n\n\n/**\n * @param {!RequestCache} cacheMode The cache mode of the Service Worker fetch.\n */\ngoog.net.FetchXmlHttpFactory.prototype.setCacheMode = function(cacheMode) {\n  'use strict';\n  this.cacheMode_ = cacheMode;\n};\n\n\n\n/**\n * FetchXmlHttp object constructor.\n * @param {?WorkerGlobalScope} worker\n * @param {boolean} streamBinaryChunks\n * @extends {goog.events.EventTarget}\n * @implements {goog.net.XhrLike}\n * @constructor\n * @struct\n */\ngoog.net.FetchXmlHttp = function(worker, streamBinaryChunks) {\n  'use strict';\n  goog.net.FetchXmlHttp.base(this, 'constructor');\n\n  /** @private @final {?WorkerGlobalScope} */\n  this.worker_ = worker;\n\n  /** @private @final {boolean} */\n  this.streamBinaryChunks_ = streamBinaryChunks;\n\n  /** @private {RequestCredentials|undefined} */\n  this.credentialsMode_ = undefined;\n\n  /** @private {RequestCache|undefined} */\n  this.cacheMode_ = undefined;\n\n  /**\n   * Request state.\n   * @type {goog.net.FetchXmlHttp.RequestState}\n   */\n  this.readyState = goog.net.FetchXmlHttp.RequestState.UNSENT;\n\n  /**\n   * HTTP status.\n   * @type {number}\n   */\n  this.status = 0;\n\n  /**\n   * HTTP status string.\n   * @type {string}\n   */\n  this.statusText = '';\n\n  /**\n   * Content of the response.\n   * @type {string|!ArrayBuffer|!Array<!Uint8Array>}\n   */\n  this.response = '';\n\n  /**\n   * Content of the response.\n   * @type {string}\n   */\n  this.responseText = '';\n\n  /**\n   * The type of the response.  If this is set to 'arraybuffer' the request will\n   * be discrete, streaming is only supported for text encoded requests.\n   * @type {string}\n   */\n  this.responseType = '';\n\n  /**\n   * Document response entity body.\n   * NOTE: This is always null and not supported by this class.\n   * @final {null}\n   */\n  this.responseXML = null;\n\n  /**\n   * Method to call when the state changes.\n   * @type {?function()}\n   */\n  this.onreadystatechange = null;\n\n  /** @private {!Headers} */\n  this.requestHeaders_ = new Headers();\n\n  /** @private {?Headers} */\n  this.responseHeaders_ = null;\n\n  /**\n   * Request method (GET or POST).\n   * @private {string}\n   */\n  this.method_ = 'GET';\n\n  /**\n   * Request URL.\n   * @private {string}\n   */\n  this.url_ = '';\n\n  /**\n   * Whether the request is in progress.\n   * @private {boolean}\n   */\n  this.inProgress_ = false;\n\n  /** @private @final {?goog.log.Logger} */\n  this.logger_ = goog.log.getLogger('goog.net.FetchXmlHttp');\n\n  /** @private {?Response} */\n  this.fetchResponse_ = null;\n\n  /** @private {!ReadableStreamDefaultReader|null} */\n  this.currentReader_ = null;\n\n  /** @private {?TextDecoder} */\n  this.textDecoder_ = null;\n};\ngoog.inherits(goog.net.FetchXmlHttp, goog.events.EventTarget);\n\n\n/**\n * State of the requests.\n * @enum {number}\n */\ngoog.net.FetchXmlHttp.RequestState = {\n  UNSENT: 0,\n  OPENED: 1,\n  HEADER_RECEIVED: 2,\n  LOADING: 3,\n  DONE: 4,\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttp.prototype.open = function(method, url, opt_async) {\n  'use strict';\n  goog.asserts.assert(!!opt_async, 'Only async requests are supported.');\n  if (this.readyState != goog.net.FetchXmlHttp.RequestState.UNSENT) {\n    this.abort();\n    throw new Error('Error reopening a connection');\n  }\n\n  this.method_ = method;\n  this.url_ = url;\n\n  this.readyState = goog.net.FetchXmlHttp.RequestState.OPENED;\n  this.dispatchCallback_();\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttp.prototype.send = function(opt_data) {\n  'use strict';\n  if (this.readyState != goog.net.FetchXmlHttp.RequestState.OPENED) {\n    this.abort();\n    throw new Error('need to call open() first. ');\n  }\n\n  this.inProgress_ = true;\n  const requestInit = {\n    headers: this.requestHeaders_,\n    method: this.method_,\n    credentials: this.credentialsMode_,\n    cache: this.cacheMode_,\n  };\n  if (opt_data) {\n    requestInit['body'] = opt_data;\n  }\n\n  (this.worker_ || goog.global)\n      .fetch(new Request(this.url_, /** @type {!RequestInit} */ (requestInit)))\n      .then(\n          this.handleResponse_.bind(this), this.handleSendFailure_.bind(this));\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttp.prototype.abort = function() {\n  'use strict';\n  this.response = this.responseText = '';\n  this.requestHeaders_ = new Headers();\n  this.status = 0;\n\n  if (!!this.currentReader_) {\n    this.currentReader_.cancel('Request was aborted.')\n        .catch(\n            e => goog.log.warning(\n                this.logger_, 'Fetch reader cancellation error.', e));\n  }\n\n  if (((this.readyState >= goog.net.FetchXmlHttp.RequestState.OPENED) &&\n       this.inProgress_) &&\n      (this.readyState != goog.net.FetchXmlHttp.RequestState.DONE)) {\n    this.inProgress_ = false;\n    this.requestDone_();\n  }\n\n  this.readyState = goog.net.FetchXmlHttp.RequestState.UNSENT;\n};\n\n\n/**\n * Handles the fetch response.\n * @param {!Response} response\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.handleResponse_ = function(response) {\n  'use strict';\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n\n  this.fetchResponse_ = response;\n\n  if (!this.responseHeaders_) {\n    this.status = this.fetchResponse_.status;\n    this.statusText = this.fetchResponse_.statusText;\n    this.responseHeaders_ = response.headers;\n    this.readyState = goog.net.FetchXmlHttp.RequestState.HEADER_RECEIVED;\n    this.dispatchCallback_();\n  }\n  // A callback may abort the request.\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n\n  this.readyState = goog.net.FetchXmlHttp.RequestState.LOADING;\n  this.dispatchCallback_();\n  // A callback may abort the request.\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n\n  if (this.responseType === 'arraybuffer') {\n    response.arrayBuffer().then(\n        this.handleResponseArrayBuffer_.bind(this),\n        this.handleSendFailure_.bind(this));\n  } else if (\n      typeof (goog.global.ReadableStream) !== 'undefined' &&\n      'body' in response) {\n    this.currentReader_ =\n        /** @type {!ReadableStreamDefaultReader} */ (response.body.getReader());\n    if (this.streamBinaryChunks_) {\n      if (this.responseType) {\n        throw new Error(\n            'responseType must be empty for \"streamBinaryChunks\" mode responses.');\n      }\n      this.response = [];\n    } else {\n      this.response = this.responseText = '';\n      this.textDecoder_ = new TextDecoder();\n    }\n    this.readInputFromFetch_();\n  } else {\n    response.text().then(\n        this.handleResponseText_.bind(this),\n        this.handleSendFailure_.bind(this));\n  }\n};\n\n\n/**\n * Reads the next chunk of data from the fetch response.\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.readInputFromFetch_ = function() {\n  'use strict';\n  this.currentReader_.read()\n      .then(this.handleDataFromStream_.bind(this))\n      .catch(this.handleSendFailure_.bind(this));\n};\n\n\n/**\n * Handles a chunk of data from the fetch response stream reader.\n * @param {!IIterableResult} result\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.handleDataFromStream_ = function(result) {\n  'use strict';\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n\n  if (this.streamBinaryChunks_ && result.value) {\n    // When streamBinaryChunks_ is enabled, \"response\" is an array\n    /** @type {!Array} */ (this.response)\n        .push(/** @type {!Uint8Array} */ (result.value));\n  } else if (!this.streamBinaryChunks_) {\n    const dataPacket = result.value ?\n        /** @type {!Uint8Array} */ (result.value) :\n        new Uint8Array(0);\n    const newText =\n        this.textDecoder_.decode(dataPacket, {stream: !result.done});\n    if (newText) {\n      this.responseText += newText;\n      this.response = this.responseText;\n    }\n  }\n  if (result.done) {\n    this.requestDone_();\n  } else {\n    this.dispatchCallback_();\n  }\n\n  if (this.readyState == goog.net.FetchXmlHttp.RequestState.LOADING) {\n    this.readInputFromFetch_();\n  }\n};\n\n/**\n * Handles the response text.\n * @param {string} responseText\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.handleResponseText_ = function(responseText) {\n  'use strict';\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n  this.response = this.responseText = responseText;\n  this.requestDone_();\n};\n\n\n/**\n * Handles the response text.\n * @param {!ArrayBuffer} responseArrayBuffer\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.handleResponseArrayBuffer_ = function(\n    responseArrayBuffer) {\n  'use strict';\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n  this.response = responseArrayBuffer;\n  this.requestDone_();\n};\n\n\n/**\n * Handles the send failure.\n * @param {*} error\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.handleSendFailure_ = function(error) {\n  'use strict';\n  const e = error instanceof Error ? error : Error(error);\n  goog.log.warning(this.logger_, 'Failed to fetch url ' + this.url_, e);\n  if (!this.inProgress_) {\n    // The request was aborted, ignore.\n    return;\n  }\n  this.requestDone_();\n};\n\n\n/**\n * Sets the request state to DONE and performs cleanup.\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.requestDone_ = function() {\n  'use strict';\n  this.readyState = goog.net.FetchXmlHttp.RequestState.DONE;\n\n  this.fetchResponse_ = null;\n  this.currentReader_ = null;\n  this.textDecoder_ = null;\n\n  this.dispatchCallback_();\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttp.prototype.setRequestHeader = function(header, value) {\n  'use strict';\n  this.requestHeaders_.append(header, value);\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttp.prototype.getResponseHeader = function(header) {\n  'use strict';\n  // TODO(user): This method should return null when the headers are not\n  // present or the specified header is missing. The externs need to be fixed.\n  if (!this.responseHeaders_) {\n    goog.log.warning(\n        this.logger_,\n        'Attempting to get response header but no headers have been received ' +\n            'for url: ' + this.url_);\n    return '';\n  }\n  return this.responseHeaders_.get(header.toLowerCase()) || '';\n};\n\n\n/** @override */\ngoog.net.FetchXmlHttp.prototype.getAllResponseHeaders = function() {\n  'use strict';\n  if (!this.responseHeaders_) {\n    goog.log.warning(\n        this.logger_,\n        'Attempting to get all response headers but no headers have been ' +\n            'received for url: ' + this.url_);\n    return '';\n  }\n  const lines = [];\n  const iter = this.responseHeaders_.entries();\n  let entry = iter.next();\n  while (!entry.done) {\n    const pair = entry.value;\n    lines.push(pair[0] + ': ' + pair[1]);\n    entry = iter.next();\n  }\n  return lines.join('\\r\\n');\n};\n\n\n/**\n * @param {!RequestCredentials} credentialsMode The credentials mode of the\n *     Service Worker fetch.\n */\ngoog.net.FetchXmlHttp.prototype.setCredentialsMode = function(credentialsMode) {\n  'use strict';\n  this.credentialsMode_ = credentialsMode;\n};\n\n/**\n * @return {!RequestCredentials|undefined} The credentials mode of the\n *     Service Worker fetch.\n */\ngoog.net.FetchXmlHttp.prototype.getCredentialsMode = function() {\n  'use strict';\n  return this.credentialsMode_;\n};\n\n/**\n * @param {!RequestCache} cacheMode The cache mode of the Service Worker fetch.\n */\ngoog.net.FetchXmlHttp.prototype.setCacheMode = function(cacheMode) {\n  'use strict';\n  this.cacheMode_ = cacheMode;\n};\n\n\n/**\n * Dispatches the callback, if the callback attribute is defined.\n * @private\n */\ngoog.net.FetchXmlHttp.prototype.dispatchCallback_ = function() {\n  'use strict';\n  if (this.onreadystatechange) {\n    this.onreadystatechange.call(this);\n  }\n};\n\n// Polyfill XmlHttpRequest's withCredentials property for specifying whether to\n// include credentials on cross domain requests.\nObject.defineProperty(goog.net.FetchXmlHttp.prototype, 'withCredentials', {\n  get:\n      /**\n       * @this {goog.net.FetchXmlHttp}\n       * @return {boolean} Whether to include credentials in cross domain\n       *     requests.\n       */\n      function() {\n        'use strict';\n        return this.getCredentialsMode() === 'include';\n      },\n\n  set:\n      /**\n       * @param {boolean} value Whether to include credentials in cross domain\n       *     requests.\n       * @this {goog.net.FetchXmlHttp}\n       **/\n      function(value) {\n        'use strict';\n        this.setCredentialsMode(value ? 'include' : 'same-origin');\n      }\n});\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utilities for creating functions. Loosely inspired by these\n * java classes from the Guava library:\n * com.google.common.base.Functions\n * https://google.github.io/guava/releases/snapshot-jre/api/docs/index.html?com/google/common/base/Functions.html\n *\n * com.google.common.base.Predicates\n * https://google.github.io/guava/releases/snapshot-jre/api/docs/index.html?com/google/common/base/Predicates.html\n *\n * More about these can be found at\n * https://github.com/google/guava/wiki/FunctionalExplained\n */\n\n\ngoog.provide('goog.functions');\n\n\n/**\n * Creates a function that always returns the same value.\n * @param {T} retValue The value to return.\n * @return {function():T} The new function.\n * @template T\n */\ngoog.functions.constant = function(retValue) {\n  'use strict';\n  return function() {\n    'use strict';\n    return retValue;\n  };\n};\n\n\n/**\n * Always returns false.\n * @type {function(...): boolean}\n */\ngoog.functions.FALSE = function() {\n  'use strict';\n  return false;\n};\n\n\n/**\n * Always returns true.\n * @type {function(...): boolean}\n */\ngoog.functions.TRUE = function() {\n  'use strict';\n  return true;\n};\n\n\n/**\n * Always returns `null`.\n * @type {function(...): null}\n */\ngoog.functions.NULL = function() {\n  'use strict';\n  return null;\n};\n\n\n/**\n * Always returns `undefined`.\n * @type {function(...): undefined}\n */\ngoog.functions.UNDEFINED = function() {\n  return undefined;\n};\n\n/**\n * Always returns `undefined` (loosely-typed version).\n * @type {!Function}\n */\ngoog.functions.EMPTY = /** @type {?} */ (goog.functions.UNDEFINED);\n\n\n/**\n * A simple function that returns the first argument of whatever is passed\n * into it.\n * @param {T=} opt_returnValue The single value that will be returned.\n * @param {...*} var_args Optional trailing arguments. These are ignored.\n * @return {T} The first argument passed in, or undefined if nothing was passed.\n * @template T\n */\ngoog.functions.identity = function(opt_returnValue, var_args) {\n  'use strict';\n  return opt_returnValue;\n};\n\n\n/**\n * Creates a function that always throws an error with the given message.\n * @param {string} message The error message.\n * @return {!Function} The error-throwing function.\n */\ngoog.functions.error = function(message) {\n  'use strict';\n  return function() {\n    'use strict';\n    throw new Error(message);\n  };\n};\n\n\n/**\n * Creates a function that throws the given object.\n * @param {*} err An object to be thrown.\n * @return {!Function} The error-throwing function.\n */\ngoog.functions.fail = function(err) {\n  'use strict';\n  return function() {\n    'use strict';\n    throw err;\n  };\n};\n\n\n/**\n * Given a function, create a function that keeps opt_numArgs arguments and\n * silently discards all additional arguments.\n * @param {Function} f The original function.\n * @param {number=} opt_numArgs The number of arguments to keep. Defaults to 0.\n * @return {!Function} A version of f that only keeps the first opt_numArgs\n *     arguments.\n */\ngoog.functions.lock = function(f, opt_numArgs) {\n  'use strict';\n  opt_numArgs = opt_numArgs || 0;\n  return function() {\n    'use strict';\n    const self = /** @type {*} */ (this);\n    return f.apply(self, Array.prototype.slice.call(arguments, 0, opt_numArgs));\n  };\n};\n\n\n/**\n * Creates a function that returns its nth argument.\n * @param {number} n The position of the return argument.\n * @return {!Function} A new function.\n */\ngoog.functions.nth = function(n) {\n  'use strict';\n  return function() {\n    'use strict';\n    return arguments[n];\n  };\n};\n\n\n/**\n * Like goog.partial(), except that arguments are added after arguments to the\n * returned function.\n *\n * Usage:\n * function f(arg1, arg2, arg3, arg4) { ... }\n * var g = goog.functions.partialRight(f, arg3, arg4);\n * g(arg1, arg2);\n *\n * @param {!Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn\n *     at the end.\n * @return {!Function} A partially-applied form of the function goog.partial()\n *     was invoked as a method of.\n */\ngoog.functions.partialRight = function(fn, var_args) {\n  'use strict';\n  const rightArgs = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    'use strict';\n    // Even in strict mode, IE10/11 and Edge (non-Chromium) use global context\n    // when free-calling functions. To catch cases where people were using this\n    // erroneously, we explicitly change the context to undefined to match\n    // strict mode specifications.\n    let self = /** @type {*} */ (this);\n    if (self === goog.global) {\n      self = undefined;\n    }\n    const newArgs = Array.prototype.slice.call(arguments);\n    newArgs.push.apply(newArgs, rightArgs);\n    return fn.apply(self, newArgs);\n  };\n};\n\n\n/**\n * Given a function, create a new function that swallows its return value\n * and replaces it with a new one.\n * @param {Function} f A function.\n * @param {T} retValue A new return value.\n * @return {function(...?):T} A new function.\n * @template T\n */\ngoog.functions.withReturnValue = function(f, retValue) {\n  'use strict';\n  return goog.functions.sequence(f, goog.functions.constant(retValue));\n};\n\n\n/**\n * Creates a function that returns whether its argument equals the given value.\n *\n * Example:\n * var key = goog.object.findKey(obj, goog.functions.equalTo('needle'));\n *\n * @param {*} value The value to compare to.\n * @param {boolean=} opt_useLooseComparison Whether to use a loose (==)\n *     comparison rather than a strict (===) one. Defaults to false.\n * @return {function(*):boolean} The new function.\n */\ngoog.functions.equalTo = function(value, opt_useLooseComparison) {\n  'use strict';\n  return function(other) {\n    'use strict';\n    return opt_useLooseComparison ? (value == other) : (value === other);\n  };\n};\n\n\n/**\n * Creates the composition of the functions passed in.\n * For example, (goog.functions.compose(f, g))(a) is equivalent to f(g(a)).\n * @param {function(...?):T} fn The final function.\n * @param {...Function} var_args A list of functions.\n * @return {function(...?):T} The composition of all inputs.\n * @template T\n */\ngoog.functions.compose = function(fn, var_args) {\n  'use strict';\n  const functions = arguments;\n  const length = functions.length;\n  return function() {\n    'use strict';\n    const self = /** @type {*} */ (this);\n    let result;\n    if (length) {\n      result = functions[length - 1].apply(self, arguments);\n    }\n\n    for (let i = length - 2; i >= 0; i--) {\n      result = functions[i].call(self, result);\n    }\n    return result;\n  };\n};\n\n\n/**\n * Creates a function that calls the functions passed in in sequence, and\n * returns the value of the last function. For example,\n * (goog.functions.sequence(f, g))(x) is equivalent to f(x),g(x).\n * @param {...Function} var_args A list of functions.\n * @return {!Function} A function that calls all inputs in sequence.\n */\ngoog.functions.sequence = function(var_args) {\n  'use strict';\n  const functions = arguments;\n  const length = functions.length;\n  return function() {\n    'use strict';\n    const self = /** @type {*} */ (this);\n    let result;\n    for (let i = 0; i < length; i++) {\n      result = functions[i].apply(self, arguments);\n    }\n    return result;\n  };\n};\n\n\n/**\n * Creates a function that returns true if each of its components evaluates\n * to true. The components are evaluated in order, and the evaluation will be\n * short-circuited as soon as a function returns false.\n * For example, (goog.functions.and(f, g))(x) is equivalent to f(x) && g(x).\n * @param {...Function} var_args A list of functions.\n * @return {function(...?):boolean} A function that ANDs its component\n *      functions.\n */\ngoog.functions.and = function(var_args) {\n  'use strict';\n  const functions = arguments;\n  const length = functions.length;\n  return function() {\n    'use strict';\n    const self = /** @type {*} */ (this);\n    for (let i = 0; i < length; i++) {\n      if (!functions[i].apply(self, arguments)) {\n        return false;\n      }\n    }\n    return true;\n  };\n};\n\n\n/**\n * Creates a function that returns true if any of its components evaluates\n * to true. The components are evaluated in order, and the evaluation will be\n * short-circuited as soon as a function returns true.\n * For example, (goog.functions.or(f, g))(x) is equivalent to f(x) || g(x).\n * @param {...Function} var_args A list of functions.\n * @return {function(...?):boolean} A function that ORs its component\n *    functions.\n */\ngoog.functions.or = function(var_args) {\n  'use strict';\n  const functions = arguments;\n  const length = functions.length;\n  return function() {\n    'use strict';\n    const self = /** @type {*} */ (this);\n    for (let i = 0; i < length; i++) {\n      if (functions[i].apply(self, arguments)) {\n        return true;\n      }\n    }\n    return false;\n  };\n};\n\n\n/**\n * Creates a function that returns the Boolean opposite of a provided function.\n * For example, (goog.functions.not(f))(x) is equivalent to !f(x).\n * @param {!Function} f The original function.\n * @return {function(...?):boolean} A function that delegates to f and returns\n * opposite.\n */\ngoog.functions.not = function(f) {\n  'use strict';\n  return function() {\n    'use strict';\n    const self = /** @type {*} */ (this);\n    return !f.apply(self, arguments);\n  };\n};\n\n\n/**\n * Generic factory function to construct an object given the constructor\n * and the arguments. Intended to be bound to create object factories.\n *\n * Example:\n *\n * var factory = goog.partial(goog.functions.create, Class);\n *\n * @param {function(new:T, ...)} constructor The constructor for the Object.\n * @param {...*} var_args The arguments to be passed to the constructor.\n * @return {T} A new instance of the class given in `constructor`.\n * @template T\n * @deprecated This function does not work with ES6 class constructors. Use\n *     arrow functions + spread args instead.\n */\ngoog.functions.create = function(constructor, var_args) {\n  'use strict';\n  /**\n   * @constructor\n   * @final\n   */\n  const temp = function() {};\n  temp.prototype = constructor.prototype;\n\n  // obj will have constructor's prototype in its chain and\n  // 'obj instanceof constructor' will be true.\n  const obj = new temp();\n\n  // obj is initialized by constructor.\n  // arguments is only array-like so lacks shift(), but can be used with\n  // the Array prototype function.\n  constructor.apply(obj, Array.prototype.slice.call(arguments, 1));\n  return obj;\n};\n\n\n/**\n * @define {boolean} Whether the return value cache should be used.\n *    This should only be used to disable caches when testing.\n */\ngoog.functions.CACHE_RETURN_VALUE =\n    goog.define('goog.functions.CACHE_RETURN_VALUE', true);\n\n\n/**\n * Gives a wrapper function that caches the return value of a parameterless\n * function when first called.\n *\n * When called for the first time, the given function is called and its\n * return value is cached (thus this is only appropriate for idempotent\n * functions).  Subsequent calls will return the cached return value. This\n * allows the evaluation of expensive functions to be delayed until first used.\n *\n * To cache the return values of functions with parameters, see goog.memoize.\n *\n * @param {function():T} fn A function to lazily evaluate.\n * @return {function():T} A wrapped version the function.\n * @template T\n */\ngoog.functions.cacheReturnValue = function(fn) {\n  'use strict';\n  let called = false;\n  let value;\n\n  return function() {\n    'use strict';\n    if (!goog.functions.CACHE_RETURN_VALUE) {\n      return fn();\n    }\n\n    if (!called) {\n      value = fn();\n      called = true;\n    }\n\n    return value;\n  };\n};\n\n\n/**\n * Wraps a function to allow it to be called, at most, once. All\n * additional calls are no-ops.\n *\n * This is particularly useful for initialization functions\n * that should be called, at most, once.\n *\n * @param {function():*} f Function to call.\n * @return {function():undefined} Wrapped function.\n */\ngoog.functions.once = function(f) {\n  'use strict';\n  // Keep a reference to the function that we null out when we're done with\n  // it -- that way, the function can be GC'd when we're done with it.\n  let inner = f;\n  return function() {\n    'use strict';\n    if (inner) {\n      const tmp = inner;\n      inner = null;\n      tmp();\n    }\n  };\n};\n\n\n/**\n * Wraps a function to allow it to be called, at most, once per interval\n * (specified in milliseconds). If the wrapper function is called N times within\n * that interval, only the Nth call will go through.\n *\n * This is particularly useful for batching up repeated actions where the\n * last action should win. This can be used, for example, for refreshing an\n * autocomplete pop-up every so often rather than updating with every keystroke,\n * since the final text typed by the user is the one that should produce the\n * final autocomplete results. For more stateful debouncing with support for\n * pausing, resuming, and canceling debounced actions, use\n * `goog.async.Debouncer`.\n *\n * @param {function(this:SCOPE, ...?)} f Function to call.\n * @param {number} interval Interval over which to debounce. The function will\n *     only be called after the full interval has elapsed since the last call.\n * @param {SCOPE=} opt_scope Object in whose scope to call the function.\n * @return {function(...?): undefined} Wrapped function.\n * @template SCOPE\n */\ngoog.functions.debounce = function(f, interval, opt_scope) {\n  'use strict';\n  let timeout = 0;\n  return /** @type {function(...?)} */ (function(var_args) {\n    'use strict';\n    goog.global.clearTimeout(timeout);\n    const args = arguments;\n    timeout = goog.global.setTimeout(function() {\n      'use strict';\n      f.apply(opt_scope, args);\n    }, interval);\n  });\n};\n\n\n/**\n * Wraps a function to allow it to be called, at most, once per interval\n * (specified in milliseconds). If the wrapper function is called N times in\n * that interval, both the 1st and the Nth calls will go through.\n *\n * This is particularly useful for limiting repeated user requests where the\n * the last action should win, but you also don't want to wait until the end of\n * the interval before sending a request out, as it leads to a perception of\n * slowness for the user.\n *\n * @param {function(this:SCOPE, ...?)} f Function to call.\n * @param {number} interval Interval over which to throttle. The function can\n *     only be called once per interval.\n * @param {SCOPE=} opt_scope Object in whose scope to call the function.\n * @return {function(...?): undefined} Wrapped function.\n * @template SCOPE\n */\ngoog.functions.throttle = function(f, interval, opt_scope) {\n  'use strict';\n  let timeout = 0;\n  let shouldFire = false;\n  let storedArgs = [];\n\n  const handleTimeout = function() {\n    'use strict';\n    timeout = 0;\n    if (shouldFire) {\n      shouldFire = false;\n      fire();\n    }\n  };\n\n  const fire = function() {\n    'use strict';\n    timeout = goog.global.setTimeout(handleTimeout, interval);\n    let args = storedArgs;\n    storedArgs = [];  // Avoid a space leak by clearing stored arguments.\n    f.apply(opt_scope, args);\n  };\n\n  return /** @type {function(...?)} */ (function(var_args) {\n    'use strict';\n    storedArgs = arguments;\n    if (!timeout) {\n      fire();\n    } else {\n      shouldFire = true;\n    }\n  });\n};\n\n\n/**\n * Wraps a function to allow it to be called, at most, once per interval\n * (specified in milliseconds). If the wrapper function is called N times within\n * that interval, only the 1st call will go through.\n *\n * This is particularly useful for limiting repeated user requests where the\n * first request is guaranteed to have all the data required to perform the\n * final action, so there's no need to wait until the end of the interval before\n * sending the request out.\n *\n * @param {function(this:SCOPE, ...?)} f Function to call.\n * @param {number} interval Interval over which to rate-limit. The function will\n *     only be called once per interval, and ignored for the remainer of the\n *     interval.\n * @param {SCOPE=} opt_scope Object in whose scope to call the function.\n * @return {function(...?): undefined} Wrapped function.\n * @template SCOPE\n */\ngoog.functions.rateLimit = function(f, interval, opt_scope) {\n  'use strict';\n  let timeout = 0;\n\n  const handleTimeout = function() {\n    'use strict';\n    timeout = 0;\n  };\n\n  return /** @type {function(...?)} */ (function(var_args) {\n    'use strict';\n    if (!timeout) {\n      timeout = goog.global.setTimeout(handleTimeout, interval);\n      f.apply(opt_scope, arguments);\n    }\n  });\n};\n\n/**\n * Returns true if the specified value is a function.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\ngoog.functions.isFunction = (val) => {\n  return typeof val === 'function';\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n/**\n * @fileoverview Utility to attempt native JSON processing, falling back to\n *     goog.json if not available.\n *\n *     This is intended as a drop-in for current users of goog.json who want\n *     to take advantage of native JSON if present.\n */\n\ngoog.provide('goog.json.hybrid');\n\ngoog.require('goog.asserts');\ngoog.require('goog.json');\n\n\n/**\n * Attempts to serialize the JSON string natively, falling back to\n * `goog.json.serialize` if unsuccessful.\n * @param {!Object} obj JavaScript object to serialize to JSON.\n * @return {string} Resulting JSON string.\n */\ngoog.json.hybrid.stringify = goog.json.USE_NATIVE_JSON ?\n    goog.global['JSON']['stringify'] :\n    function(obj) {\n      'use strict';\n      if (goog.global.JSON) {\n        try {\n          return goog.global.JSON.stringify(obj);\n        } catch (e) {\n          // Native serialization failed.  Fall through to retry with\n          // goog.json.serialize.\n        }\n      }\n\n      return goog.json.serialize(obj);\n    };\n\n\n/**\n * Attempts to parse the JSON string natively, falling back to\n * the supplied `fallbackParser` if unsuccessful.\n * @param {string} jsonString JSON string to parse.\n * @param {function(string):Object} fallbackParser Fallback JSON parser used\n *     if native\n * @return {?Object} Resulting JSON object.\n * @private\n */\ngoog.json.hybrid.parse_ = function(jsonString, fallbackParser) {\n  'use strict';\n  if (goog.global.JSON) {\n    try {\n      var obj = goog.global.JSON.parse(jsonString);\n      goog.asserts.assert(typeof obj == 'object');\n      return /** @type {?Object} */ (obj);\n    } catch (e) {\n      // Native parse failed.  Fall through to retry with goog.json.parse.\n    }\n  }\n\n  return fallbackParser(jsonString);\n};\n\n\n/**\n * Attempts to parse the JSON string natively, falling back to\n * `goog.json.parse` if unsuccessful.\n * @param {string} jsonString JSON string to parse.\n * @return {?Object} Resulting JSON object.\n */\ngoog.json.hybrid.parse = goog.json.USE_NATIVE_JSON ?\n    goog.global['JSON']['parse'] :\n    function(jsonString) {\n      'use strict';\n      return goog.json.hybrid.parse_(jsonString, goog.json.parse);\n    };\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Constants for HTTP status codes.\n */\n\ngoog.provide('goog.net.HttpStatus');\n\n\n/**\n * HTTP Status Codes defined in RFC 2616, RFC 6585, RFC 4918 and RFC 7538.\n * @see http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\n * @see http://tools.ietf.org/html/rfc6585\n * @see https://tools.ietf.org/html/rfc4918\n * @see https://tools.ietf.org/html/rfc7538\n * @enum {number}\n */\ngoog.net.HttpStatus = {\n  // Informational 1xx\n  CONTINUE: 100,\n  SWITCHING_PROTOCOLS: 101,\n\n  // Successful 2xx\n  OK: 200,\n  CREATED: 201,\n  ACCEPTED: 202,\n  NON_AUTHORITATIVE_INFORMATION: 203,\n  NO_CONTENT: 204,\n  RESET_CONTENT: 205,\n  PARTIAL_CONTENT: 206,\n  MULTI_STATUS: 207,\n\n  // Redirection 3xx\n  MULTIPLE_CHOICES: 300,\n  MOVED_PERMANENTLY: 301,\n  FOUND: 302,\n  SEE_OTHER: 303,\n  NOT_MODIFIED: 304,\n  USE_PROXY: 305,\n  TEMPORARY_REDIRECT: 307,\n  PERMANENT_REDIRECT: 308,\n\n  // Client Error 4xx\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  PAYMENT_REQUIRED: 402,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  METHOD_NOT_ALLOWED: 405,\n  NOT_ACCEPTABLE: 406,\n  PROXY_AUTHENTICATION_REQUIRED: 407,\n  REQUEST_TIMEOUT: 408,\n  CONFLICT: 409,\n  GONE: 410,\n  LENGTH_REQUIRED: 411,\n  PRECONDITION_FAILED: 412,\n  REQUEST_ENTITY_TOO_LARGE: 413,\n  REQUEST_URI_TOO_LONG: 414,\n  UNSUPPORTED_MEDIA_TYPE: 415,\n  REQUEST_RANGE_NOT_SATISFIABLE: 416,\n  EXPECTATION_FAILED: 417,\n  UNPROCESSABLE_ENTITY: 422,\n  LOCKED: 423,\n  FAILED_DEPENDENCY: 424,\n  PRECONDITION_REQUIRED: 428,\n  TOO_MANY_REQUESTS: 429,\n  REQUEST_HEADER_FIELDS_TOO_LARGE: 431,\n  CLIENT_CLOSED_REQUEST: 499,  // Nonstandard, used by GRPC\n\n  // Server Error 5xx\n  INTERNAL_SERVER_ERROR: 500,\n  NOT_IMPLEMENTED: 501,\n  BAD_GATEWAY: 502,\n  SERVICE_UNAVAILABLE: 503,\n  GATEWAY_TIMEOUT: 504,\n  HTTP_VERSION_NOT_SUPPORTED: 505,\n  INSUFFICIENT_STORAGE: 507,\n  NETWORK_AUTHENTICATION_REQUIRED: 511,\n\n  /*\n   * IE returns this code for 204 due to its use of URLMon, which returns this\n   * code for 'Operation Aborted'. The status text is 'Unknown', the response\n   * headers are ''. Known to occur on IE 6 on XP through IE9 on Win7.\n   */\n  QUIRK_IE_NO_CONTENT: 1223,\n};\n\n\n/**\n * Returns whether the given status should be considered successful.\n *\n * Successful codes are OK (200), CREATED (201), ACCEPTED (202),\n * NO CONTENT (204), PARTIAL CONTENT (206), NOT MODIFIED (304),\n * and IE's no content code (1223).\n *\n * @param {number} status The status code to test.\n * @return {boolean} Whether the status code should be considered successful.\n */\ngoog.net.HttpStatus.isSuccess = function(status) {\n  'use strict';\n  switch (status) {\n    case goog.net.HttpStatus.OK:\n    case goog.net.HttpStatus.CREATED:\n    case goog.net.HttpStatus.ACCEPTED:\n    case goog.net.HttpStatus.NO_CONTENT:\n    case goog.net.HttpStatus.PARTIAL_CONTENT:\n    case goog.net.HttpStatus.NOT_MODIFIED:\n    case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:\n      return true;\n\n    default:\n      return false;\n  }\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Provides CORS support for HTTP based RPC requests.\n *\n * As part of net.rpc package, CORS features provided by this class\n * depend on the server support. Please check related specs to decide how\n * to enable any of the features provided by this class.\n */\n\ngoog.module('goog.net.rpc.HttpCors');\n\nconst GoogUri = goog.require('goog.Uri');\nconst googObject = goog.require('goog.object');\nconst googString = goog.require('goog.string');\nconst googUriUtils = goog.require('goog.uri.utils');\n\n\n/**\n * The default URL parameter name to overwrite http headers with a URL param\n * to avoid CORS preflight.\n *\n * See https://github.com/whatwg/fetch/issues/210#issue-129531743 for the spec.\n *\n * @type {string}\n */\nexports.HTTP_HEADERS_PARAM_NAME = '$httpHeaders';\n\n\n/**\n * The default URL parameter name to overwrite http method with a URL param\n * to avoid CORS preflight.\n *\n * See https://github.com/whatwg/fetch/issues/210#issue-129531743 for the spec.\n *\n * @type {string}\n */\nexports.HTTP_METHOD_PARAM_NAME = '$httpMethod';\n\n\n/**\n * Generates the URL parameter value with custom headers encoded as\n * HTTP/1.1 headers block.\n *\n * @param {!Object<string, string>} headers The custom headers.\n * @return {string} The URL param to overwrite custom HTTP headers.\n */\nexports.generateHttpHeadersOverwriteParam = function(headers) {\n  let result = '';\n  googObject.forEach(headers, function(value, key) {\n    result += key;\n    result += ':';\n    result += value;\n    result += '\\r\\n';\n  });\n  return result;\n};\n\n\n/**\n * Generates the URL-encoded URL parameter value with custom headers encoded as\n * HTTP/1.1 headers block.\n *\n * @param {!Object<string, string>} headers The custom headers.\n * @return {string} The URL param to overwrite custom HTTP headers.\n */\nexports.generateEncodedHttpHeadersOverwriteParam = function(headers) {\n  return googString.urlEncode(\n      exports.generateHttpHeadersOverwriteParam(headers));\n};\n\n\n/**\n * Sets custom HTTP headers via an overwrite URL param.\n *\n * @param {!GoogUri|string} url The URI object or a string path.\n * @param {string} urlParam The URL param name.\n * @param {!Object<string, string>} extraHeaders The HTTP headers.\n * @return {!GoogUri|string} The URI object or a string path with headers\n * encoded as a url param.\n */\nexports.setHttpHeadersWithOverwriteParam = function(\n    url, urlParam, extraHeaders) {\n  if (googObject.isEmpty(extraHeaders)) {\n    return url;\n  }\n  const httpHeaders = exports.generateHttpHeadersOverwriteParam(extraHeaders);\n  if (typeof url === 'string') {\n    return googUriUtils.appendParam(\n        url, googString.urlEncode(urlParam), httpHeaders);\n  } else {\n    url.setParameterValue(urlParam, httpHeaders);  // duplicate removed!\n    return url;\n  }\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Implementation of a WebChannel transport using WebChannelBase.\n *\n * When WebChannelBase is used as the underlying transport, the capabilities\n * of the WebChannel are limited to what's supported by the implementation.\n * Particularly, multiplexing is not possible, and only strings are\n * supported as message types.\n */\n\ngoog.provide('goog.labs.net.webChannel.WebChannelBaseTransport');\n\ngoog.require('goog.asserts');\ngoog.require('goog.collections.maps');\ngoog.require('goog.events.EventTarget');\ngoog.require('goog.json');\ngoog.require('goog.labs.net.webChannel.ChannelRequest');\ngoog.require('goog.labs.net.webChannel.WebChannelBase');\ngoog.require('goog.labs.net.webChannel.Wire');\ngoog.require('goog.log');\ngoog.require('goog.net.WebChannel');\ngoog.require('goog.net.WebChannelTransport');\ngoog.require('goog.object');\ngoog.require('goog.string');\n\n\n\n/**\n * Implementation of {@link goog.net.WebChannelTransport} with\n * {@link goog.labs.net.webChannel.WebChannelBase} as the underlying channel\n * implementation.\n *\n * @constructor\n * @struct\n * @implements {goog.net.WebChannelTransport}\n * @final\n */\ngoog.labs.net.webChannel.WebChannelBaseTransport = function() {\n  'use strict';\n  if (!goog.labs.net.webChannel.ChannelRequest.supportsXhrStreaming()) {\n    throw new Error('Environmental error: no available transport.');\n  }\n};\n\n\ngoog.scope(function() {\n'use strict';\nconst WebChannelBaseTransport =\n    goog.labs.net.webChannel.WebChannelBaseTransport;\nconst WebChannelBase = goog.labs.net.webChannel.WebChannelBase;\nconst Wire = goog.labs.net.webChannel.Wire;\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.prototype.createWebChannel = function(\n    url, opt_options) {\n  'use strict';\n  return new WebChannelBaseTransport.Channel(url, opt_options);\n};\n\n\n\n/**\n * Implementation of the {@link goog.net.WebChannel} interface.\n *\n * @param {string} url The URL path for the new WebChannel instance.\n * @param {!goog.net.WebChannel.Options=} opt_options Configuration for the\n *     new WebChannel instance.\n *\n * @constructor\n * @implements {goog.net.WebChannel}\n * @extends {goog.events.EventTarget}\n * @final\n */\nWebChannelBaseTransport.Channel = function(url, opt_options) {\n  'use strict';\n  WebChannelBaseTransport.Channel.base(this, 'constructor');\n\n  /**\n   * @private {!WebChannelBase} The underlying channel object.\n   */\n  this.channel_ = new WebChannelBase(\n      opt_options, goog.net.WebChannelTransport.CLIENT_VERSION);\n\n  /**\n   * @private {string} The URL of the target server end-point.\n   */\n  this.url_ = url;\n\n  /**\n   * @private {goog.log.Logger} The logger for this class.\n   */\n  this.logger_ =\n      goog.log.getLogger('goog.labs.net.webChannel.WebChannelBaseTransport');\n\n  /**\n   * @private {Object<string, string>} Extra URL parameters\n   * to be added to each HTTP request.\n   */\n  this.messageUrlParams_ =\n      (opt_options && opt_options.messageUrlParams) || null;\n\n  let messageHeaders = (opt_options && opt_options.messageHeaders) || null;\n\n  // default is false\n  if (opt_options && opt_options.clientProtocolHeaderRequired) {\n    if (messageHeaders) {\n      goog.object.set(\n          messageHeaders, goog.net.WebChannel.X_CLIENT_PROTOCOL,\n          goog.net.WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL);\n    } else {\n      messageHeaders = goog.object.create(\n          goog.net.WebChannel.X_CLIENT_PROTOCOL,\n          goog.net.WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL);\n    }\n  }\n\n  this.channel_.setExtraHeaders(messageHeaders);\n\n  let initHeaders = (opt_options && opt_options.initMessageHeaders) || null;\n\n  if (opt_options && opt_options.messageContentType) {\n    if (initHeaders) {\n      goog.object.set(\n          initHeaders, goog.net.WebChannel.X_WEBCHANNEL_CONTENT_TYPE,\n          opt_options.messageContentType);\n    } else {\n      initHeaders = goog.object.create(\n          goog.net.WebChannel.X_WEBCHANNEL_CONTENT_TYPE,\n          opt_options.messageContentType);\n    }\n  }\n\n  if (opt_options && opt_options.clientProfile) {\n    if (initHeaders) {\n      goog.object.set(\n          initHeaders, goog.net.WebChannel.X_WEBCHANNEL_CLIENT_PROFILE,\n          opt_options.clientProfile);\n    } else {\n      initHeaders = goog.object.create(\n          goog.net.WebChannel.X_WEBCHANNEL_CLIENT_PROFILE,\n          opt_options.clientProfile);\n    }\n  }\n\n  this.channel_.setInitHeaders(initHeaders);\n\n  const httpHeadersOverwriteParam =\n      opt_options && opt_options.httpHeadersOverwriteParam;\n  if (httpHeadersOverwriteParam &&\n      !goog.string.isEmptyOrWhitespace(httpHeadersOverwriteParam)) {\n    this.channel_.setHttpHeadersOverwriteParam(httpHeadersOverwriteParam);\n  }\n\n  /**\n   * @private {boolean} Whether to enable CORS.\n   */\n  this.supportsCrossDomainXhr_ =\n      (opt_options && opt_options.supportsCrossDomainXhr) || false;\n\n  /**\n   * @private {boolean} Whether to send raw Json and bypass v8 wire format.\n   */\n  this.sendRawJson_ = (opt_options && opt_options.sendRawJson) || false;\n\n  // Note that httpSessionIdParam will be ignored if the same parameter name\n  // has already been specified with messageUrlParams\n  const httpSessionIdParam = opt_options && opt_options.httpSessionIdParam;\n  if (httpSessionIdParam &&\n      !goog.string.isEmptyOrWhitespace(httpSessionIdParam)) {\n    this.channel_.setHttpSessionIdParam(httpSessionIdParam);\n    if (goog.object.containsKey(this.messageUrlParams_, httpSessionIdParam)) {\n      goog.object.remove(this.messageUrlParams_, httpSessionIdParam);\n      goog.log.warning(\n          this.logger_,\n          'Ignore httpSessionIdParam also specified with messageUrlParams: ' +\n              httpSessionIdParam);\n    }\n  }\n\n  /**\n   * The channel handler.\n   *\n   * @private {!WebChannelBaseTransport.Channel.Handler_}\n   */\n  this.channelHandler_ = new WebChannelBaseTransport.Channel.Handler_(this);\n};\ngoog.inherits(WebChannelBaseTransport.Channel, goog.events.EventTarget);\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.prototype.open = function() {\n  'use strict';\n  this.channel_.setHandler(this.channelHandler_);\n  if (this.supportsCrossDomainXhr_) {\n    this.channel_.setSupportsCrossDomainXhrs(true);\n  }\n  this.channel_.connect(this.url_, (this.messageUrlParams_ || undefined));\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.prototype.close = function() {\n  'use strict';\n  this.channel_.disconnect();\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.prototype.halfClose = function() {\n  'use strict';\n  // to be implemented\n  throw new Error('Not implemented');\n};\n\n\n/**\n * The WebChannelBase only supports object types.\n *\n * @param {!goog.net.WebChannel.MessageData} message The message to send.\n *\n * @override\n */\nWebChannelBaseTransport.Channel.prototype.send = function(message) {\n  'use strict';\n  this.channel_.sendMap(this.messageToMapObject_(message));\n};\n\n\n/**\n * Converts a message to the map used by the underlying channel.\n *\n * @param {!goog.net.WebChannel.MessageData} message\n * @return {!Object|!goog.collections.maps.MapLike}\n */\nWebChannelBaseTransport.Channel.prototype.messageToMapObject_ = function(\n    message) {\n  'use strict';\n  goog.asserts.assert(\n      goog.isObject(message) || typeof message === 'string',\n      'only object type or raw string is supported');\n\n  if (typeof message === 'string') {\n    const rawJson = {};\n    rawJson[Wire.RAW_DATA_KEY] = message;\n    return rawJson;\n  }\n\n  if (this.sendRawJson_) {\n    const rawJson = {};\n    rawJson[Wire.RAW_DATA_KEY] = goog.json.serialize(message);\n    return rawJson;\n  }\n\n  return message;\n};\n\n\n/**\n * Converts the map used by the underlying channel to a message.\n *\n * NOTE: In the case of the message being JS Object or string, the exact same\n * object passed during `messageToMapObject_()` is returned. In the case of raw\n * JSON, an equal (but not the same) object is returned (due to serialization).\n *\n * @param {!Object|!goog.collections.maps.MapLike} map\n * @return {!goog.net.WebChannel.MessageData}\n */\nWebChannelBaseTransport.Channel.prototype.mapObjectToMessage_ = function(map) {\n  'use strict';\n  if (Wire.RAW_DATA_KEY in map) {\n    const rawMessage = map[Wire.RAW_DATA_KEY];\n\n    if (this.sendRawJson_) {\n      return /** @type {!goog.net.WebChannel.MessageData} */ (\n          goog.json.parse(rawMessage));\n    } else {  // string message\n      return rawMessage;\n    }\n  }\n\n  return map;\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.prototype.disposeInternal = function() {\n  'use strict';\n  this.channel_.setHandler(null);\n  delete this.channelHandler_;\n  this.channel_.disconnect();\n  delete this.channel_;\n\n  WebChannelBaseTransport.Channel.base(this, 'disposeInternal');\n};\n\n\n\n/**\n * The message event.\n *\n * @param {!Array<?>|!Object} array The data array from the underlying channel.\n * @constructor\n * @extends {goog.net.WebChannel.MessageEvent}\n * @final\n */\nWebChannelBaseTransport.Channel.MessageEvent = function(array) {\n  'use strict';\n  WebChannelBaseTransport.Channel.MessageEvent.base(this, 'constructor');\n\n  // single-metadata only\n  const metadata = array['__sm__'];\n  if (metadata) {\n    this.metadataKey = goog.object.getAnyKey(metadata);\n    if (this.metadataKey) {\n      this.data = goog.object.get(metadata, this.metadataKey);\n    } else {\n      this.data = metadata;  // empty\n    }\n  } else {\n    this.data = array;\n  }\n};\ngoog.inherits(\n    WebChannelBaseTransport.Channel.MessageEvent,\n    goog.net.WebChannel.MessageEvent);\n\n\n\n/**\n * The error event.\n *\n * @param {WebChannelBase.Error} error The error code.\n * @constructor\n * @extends {goog.net.WebChannel.ErrorEvent}\n * @final\n */\nWebChannelBaseTransport.Channel.ErrorEvent = function(error) {\n  'use strict';\n  WebChannelBaseTransport.Channel.ErrorEvent.base(this, 'constructor');\n\n  /**\n   * High-level status code.\n   */\n  this.status = goog.net.WebChannel.ErrorStatus.NETWORK_ERROR;\n\n  /**\n   * @const {WebChannelBase.Error} Internal error code, for debugging use only.\n   */\n  this.errorCode = error;\n};\ngoog.inherits(\n    WebChannelBaseTransport.Channel.ErrorEvent, goog.net.WebChannel.ErrorEvent);\n\n\n\n/**\n * Implementation of {@link WebChannelBase.Handler} interface.\n *\n * @param {!WebChannelBaseTransport.Channel} channel The enclosing WebChannel.\n *\n * @constructor\n * @extends {WebChannelBase.Handler}\n * @private\n */\nWebChannelBaseTransport.Channel.Handler_ = function(channel) {\n  'use strict';\n  WebChannelBaseTransport.Channel.Handler_.base(this, 'constructor');\n\n  /**\n   * @type {!WebChannelBaseTransport.Channel}\n   * @private\n   */\n  this.channel_ = channel;\n};\ngoog.inherits(WebChannelBaseTransport.Channel.Handler_, WebChannelBase.Handler);\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.Handler_.prototype.channelOpened = function(\n    channel) {\n  'use strict';\n  goog.log.info(\n      this.channel_.logger_, 'WebChannel opened on ' + this.channel_.url_);\n  this.channel_.dispatchEvent(goog.net.WebChannel.EventType.OPEN);\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.Handler_.prototype.channelHandleArray =\n    function(channel, array) {\n  'use strict';\n  goog.asserts.assert(array, 'array expected to be defined');\n  this.channel_.dispatchEvent(\n      new WebChannelBaseTransport.Channel.MessageEvent(array));\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.Handler_.prototype.channelError = function(\n    channel, error) {\n  'use strict';\n  goog.log.info(\n      this.channel_.logger_,\n      'WebChannel aborted on ' + this.channel_.url_ +\n          ' due to channel error: ' + error);\n  this.channel_.dispatchEvent(\n      new WebChannelBaseTransport.Channel.ErrorEvent(error));\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.Handler_.prototype.channelClosed = function(\n    channel, opt_pendingMaps, opt_undeliveredMaps) {\n  'use strict';\n  goog.log.info(\n      this.channel_.logger_, 'WebChannel closed on ' + this.channel_.url_);\n  this.channel_.dispatchEvent(goog.net.WebChannel.EventType.CLOSE);\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.Channel.prototype.getRuntimeProperties = function() {\n  'use strict';\n  return new WebChannelBaseTransport.ChannelProperties(this, this.channel_);\n};\n\n\n\n/**\n * Implementation of the {@link goog.net.WebChannel.RuntimeProperties}.\n *\n * @param {!WebChannelBaseTransport.Channel} transportChannel The transport\n *     channel object.\n * @param {!WebChannelBase} channel The underlying channel object.\n *\n * @constructor\n * @implements {goog.net.WebChannel.RuntimeProperties}\n * @final\n */\nWebChannelBaseTransport.ChannelProperties = function(\n    transportChannel, channel) {\n  'use strict';\n  /**\n   * The transport channel object.\n   *\n   * @private @const {!WebChannelBaseTransport.Channel}\n   */\n  this.transportChannel_ = transportChannel;\n\n  /**\n   * The underlying channel object.\n   *\n   * @private @const {!WebChannelBase}\n   */\n  this.channel_ = channel;\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.getConcurrentRequestLimit =\n    function() {\n  'use strict';\n  return this.channel_.getForwardChannelRequestPool().getMaxSize();\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.isSpdyEnabled = function() {\n  'use strict';\n  return this.getConcurrentRequestLimit() > 1;\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.getPendingRequestCount =\n    function() {\n  'use strict';\n  return this.channel_.getForwardChannelRequestPool().getRequestCount();\n};\n\n\n/**\n * @override\n * @return {!Array<!goog.net.WebChannel.MessageData>}\n */\nWebChannelBaseTransport.ChannelProperties.prototype.getNonAckedMessages =\n    function() {\n  'use strict';\n  return this.channel_.getNonAckedMaps().map(\n      queued_map => this.transportChannel_.mapObjectToMessage_(queued_map.map));\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.getHttpSessionId =\n    function() {\n  'use strict';\n  return this.channel_.getHttpSessionId();\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.commit = function(\n    callback) {\n  'use strict';\n  this.channel_.setForwardChannelFlushCallback(callback);\n};\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.notifyNonAckedMessageCount =\n    goog.abstractMethod;\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.onCommit =\n    goog.abstractMethod;\n\n\n/**\n * @override\n */\nWebChannelBaseTransport.ChannelProperties.prototype.ackCommit =\n    goog.abstractMethod;\n\n\n/** @override */\nWebChannelBaseTransport.ChannelProperties.prototype.getLastStatusCode =\n    function() {\n  'use strict';\n  return this.channel_.getLastStatusCode();\n};\n});  // goog.scope\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Interface and shared data structures for implementing\n * different wire protocol versions.\n */\ngoog.provide('goog.labs.net.webChannel.Wire');\ngoog.provide('goog.labs.net.webChannel.Wire.QueuedMap');\n\n\n\ngoog.require('goog.collections.maps');\n\n\n\n/**\n * The interface class.\n * @interface\n */\ngoog.labs.net.webChannel.Wire = class {\n  constructor() {}\n};\n\n\n/**\n * The latest protocol version that this class supports. We request this version\n * from the server when opening the connection. Should match\n * LATEST_CHANNEL_VERSION on the server code.\n * @type {number}\n */\ngoog.labs.net.webChannel.Wire.LATEST_CHANNEL_VERSION = 8;\n\n\n/**\n * The JSON field key for the raw data wrapper object.\n * @type {string}\n */\ngoog.labs.net.webChannel.Wire.RAW_DATA_KEY = '__data__';\n\n\n\n/**\n * Simple container class for a (mapId, map) pair.\n */\ngoog.labs.net.webChannel.Wire.QueuedMap = class {\n  /**\n   * @param {number} mapId The id for this map.\n   * @param {!Object|!goog.collections.maps.MapLike} map The map itself.\n   * @param {!Object=} opt_context The context associated with the map.\n   */\n  constructor(mapId, map, opt_context) {\n    'use strict';\n    /**\n     * The id for this map.\n     * @type {number}\n     */\n    this.mapId = mapId;\n\n    /**\n     * The map itself.\n     * @type {!Object|!goog.collections.maps.MapLike}\n     */\n    this.map = map;\n\n    /**\n     * The context for the map.\n     * @type {Object}\n     */\n    this.context = opt_context || null;\n  }\n\n  /**\n   * @return {number|undefined} the size of the raw JSON message or\n   * undefined if the message is not encoded as a raw JSON message\n   */\n  getRawDataSize() {\n    'use strict';\n    if (goog.labs.net.webChannel.Wire.RAW_DATA_KEY in this.map) {\n      const data = this.map[goog.labs.net.webChannel.Wire.RAW_DATA_KEY];\n      if (typeof data === 'string') {\n        return data.length;\n      }\n    }\n\n    return undefined;\n  }\n};\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Transport support for WebChannel.\n *\n * The <code>WebChannelTransport</code> implementation serves as the factory\n * for <code>WebChannel</code>, which offers an abstraction for\n * point-to-point socket-like communication similar to what BrowserChannel\n * or HTML5 WebSocket offers.\n */\n\ngoog.provide('goog.net.WebChannelTransport');\n\ngoog.requireType('goog.net.WebChannel');\ngoog.requireType('goog.net.WebChannel.Options');\n\n\n\n/**\n * A WebChannelTransport instance represents a shared context of logical\n * connectivity between a browser client and a remote origin.\n *\n * Over a single WebChannelTransport instance, multiple WebChannels may be\n * created against different URLs, which may all share the same\n * underlying connectivity (i.e. TCP connection) whenever possible.\n *\n * When multi-domains are supported, such as CORS, multiple origins may be\n * supported over a single WebChannelTransport instance at the same time.\n *\n * Sharing between different window contexts such as tabs is not addressed\n * by WebChannelTransport. Applications may choose HTML5 shared workers\n * or other techniques to access the same transport instance\n * across different window contexts.\n *\n * @interface\n */\ngoog.net.WebChannelTransport = function() {};\n\n\n/**\n * The client version. This integer value will be passed to the server\n * when a channel is opened to inform the server the client \"capabilities\".\n *\n * Wire protocol version is a different concept and is internal to the\n * transport implementation.\n *\n * @const\n * @type {number}\n */\ngoog.net.WebChannelTransport.CLIENT_VERSION = 22;\n\n\n/**\n * Create a new WebChannel instance.\n *\n * The new WebChannel is to be opened against the server-side resource\n * as specified by the given URL. See {@link goog.net.WebChannel} for detailed\n * semantics.\n *\n * @param {string} url The URL path for the new WebChannel instance.\n * @param {!goog.net.WebChannel.Options=} opt_options Configuration for the\n *     new WebChannel instance. The configuration object is reusable after\n *     the new channel instance is created.\n * @return {!goog.net.WebChannel} the newly created WebChannel instance.\n */\ngoog.net.WebChannelTransport.prototype.createWebChannel = goog.abstractMethod;\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Bring in closure-library dependencies\n */\n\ngoog.provide('firebase.webchannel.wrapper');\n\n// goog.net.WebChannelTransport\ngoog.require('goog.net.createWebChannelTransport');\ngoog.require('goog.net.FetchXmlHttpFactory');\ngoog.require('goog.labs.net.webChannel.requestStats');\ngoog.require('goog.labs.net.webChannel.WebChannelBaseTransport');\n\n/**\n * NOTE: The `createWebChannel` function takes an options object as a second param\n * whose properties are typically mangled. We override these in externs/overrides.js\n * Without those externs, this does not function properly.\n */\ngoog.labs.net.webChannel.WebChannelBaseTransport.prototype['createWebChannel'] =\n  goog.labs.net.webChannel.WebChannelBaseTransport.prototype.createWebChannel;\ngoog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype['send'] =\n  goog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype.send;\ngoog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype['open'] =\n  goog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype.open;\ngoog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype['close'] =\n  goog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype.close;\n\n// goog.net.ErrorCode\ngoog.require('goog.net.ErrorCode');\ngoog.net.ErrorCode['NO_ERROR'] = goog.net.ErrorCode.NO_ERROR;\ngoog.net.ErrorCode['TIMEOUT'] = goog.net.ErrorCode.TIMEOUT;\ngoog.net.ErrorCode['HTTP_ERROR'] = goog.net.ErrorCode.HTTP_ERROR;\n\n// goog.net.ErrorType\ngoog.require('goog.net.EventType');\ngoog.net.EventType['COMPLETE'] = goog.net.EventType.COMPLETE;\n\n// goog.net.WebChannel\ngoog.require('goog.net.WebChannel');\ngoog.require('goog.events.EventTarget');\ngoog.net.WebChannel['EventType'] = goog.net.WebChannel.EventType;\ngoog.net.WebChannel.EventType['OPEN'] = goog.net.WebChannel.EventType.OPEN;\ngoog.net.WebChannel.EventType['CLOSE'] = goog.net.WebChannel.EventType.CLOSE;\ngoog.net.WebChannel.EventType['ERROR'] = goog.net.WebChannel.EventType.ERROR;\ngoog.net.WebChannel.EventType['MESSAGE'] =\n  goog.net.WebChannel.EventType.MESSAGE;\ngoog.events.EventTarget.prototype['listen'] =\n  goog.events.EventTarget.prototype.listen;\n\ngoog.require('goog.net.XhrIo');\ngoog.net.XhrIo.prototype['listenOnce'] = goog.net.XhrIo.prototype.listenOnce;\ngoog.net.XhrIo.prototype['getLastError'] =\n  goog.net.XhrIo.prototype.getLastError;\ngoog.net.XhrIo.prototype['getLastErrorCode'] =\n  goog.net.XhrIo.prototype.getLastErrorCode;\ngoog.net.XhrIo.prototype['getStatus'] = goog.net.XhrIo.prototype.getStatus;\ngoog.net.XhrIo.prototype['getResponseJson'] =\n  goog.net.XhrIo.prototype.getResponseJson;\ngoog.net.XhrIo.prototype['getResponseText'] =\n  goog.net.XhrIo.prototype.getResponseText;\ngoog.net.XhrIo.prototype['send'] = goog.net.XhrIo.prototype.send;\n\nmodule['exports']['createWebChannelTransport'] =\n  goog.net.createWebChannelTransport;\nmodule['exports']['getStatEventTarget'] =\n  goog.labs.net.webChannel.requestStats.getStatEventTarget;\nmodule['exports']['ErrorCode'] = goog.net.ErrorCode;\nmodule['exports']['EventType'] = goog.net.EventType;\nmodule['exports']['Event'] = goog.labs.net.webChannel.requestStats.Event;\nmodule['exports']['Stat'] = goog.labs.net.webChannel.requestStats.Stat;\nmodule['exports']['FetchXmlHttpFactory'] = goog.net.FetchXmlHttpFactory;\nmodule['exports']['WebChannel'] = goog.net.WebChannel;\nmodule['exports']['XhrIo'] = goog.net.XhrIo;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Default factory for <code>WebChannelTransport</code> to\n * avoid exposing concrete classes to clients.\n */\n\ngoog.provide('goog.net.createWebChannelTransport');\n\ngoog.require('goog.labs.net.webChannel.WebChannelBaseTransport');\ngoog.requireType('goog.net.WebChannelTransport');\n\n\n/**\n * Create a new WebChannelTransport instance using the default implementation.\n * Throws an error message if no default transport available in the current\n * environment.\n *\n * @return {!goog.net.WebChannelTransport} the newly created transport instance.\n */\ngoog.net.createWebChannelTransport = function() {\n  'use strict';\n  return new goog.labs.net.webChannel.WebChannelBaseTransport();\n};\n","import { _getProvider, getApp as t, _removeServiceInstance as e, _registerComponent as n, registerVersion as s, SDK_VERSION as i } from \"@firebase/app\";\n\nimport { Component as r } from \"@firebase/component\";\n\nimport { Logger as o, LogLevel as u } from \"@firebase/logger\";\n\nimport { FirebaseError as c, getUA as a, isIndexedDBAvailable as h, isSafari as l, createMockUserToken as f, getModularInstance as d, deepEqual as _ } from \"@firebase/util\";\n\nimport { XhrIo as w, EventType as m, ErrorCode as g, createWebChannelTransport as y, getStatEventTarget as p, FetchXmlHttpFactory as I, WebChannel as T, Event as E, Stat as A } from \"@firebase/webchannel-wrapper\";\n\nconst R = \"@firebase/firestore\";\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Simple wrapper around a nullable UID. Mostly exists to make code more\n * readable.\n */\nclass b {\n    constructor(t) {\n        this.uid = t;\n    }\n    isAuthenticated() {\n        return null != this.uid;\n    }\n    /**\n     * Returns a key representing this user, suitable for inclusion in a\n     * dictionary.\n     */    toKey() {\n        return this.isAuthenticated() ? \"uid:\" + this.uid : \"anonymous-user\";\n    }\n    isEqual(t) {\n        return t.uid === this.uid;\n    }\n}\n\n/** A user with a null UID. */ b.UNAUTHENTICATED = new b(null), \n// TODO(mikelehen): Look into getting a proper uid-equivalent for\n// non-FirebaseAuth providers.\nb.GOOGLE_CREDENTIALS = new b(\"google-credentials-uid\"), b.FIRST_PARTY = new b(\"first-party-uid\"), \nb.MOCK_USER = new b(\"mock-user\");\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nlet P = \"9.10.0\";\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst v = new o(\"@firebase/firestore\");\n\n// Helper methods are needed because variables can't be exported as read/write\nfunction V() {\n    return v.logLevel;\n}\n\n/**\n * Sets the verbosity of Cloud Firestore logs (debug, error, or silent).\n *\n * @param logLevel - The verbosity you set for activity and error logging. Can\n *   be any of the following values:\n *\n *   <ul>\n *     <li>`debug` for the most verbose logging level, primarily for\n *     debugging.</li>\n *     <li>`error` to log errors only.</li>\n *     <li><code>`silent` to turn off logging.</li>\n *   </ul>\n */ function S(t) {\n    v.setLogLevel(t);\n}\n\nfunction D(t, ...e) {\n    if (v.logLevel <= u.DEBUG) {\n        const n = e.map(N);\n        v.debug(`Firestore (${P}): ${t}`, ...n);\n    }\n}\n\nfunction C(t, ...e) {\n    if (v.logLevel <= u.ERROR) {\n        const n = e.map(N);\n        v.error(`Firestore (${P}): ${t}`, ...n);\n    }\n}\n\n/**\n * @internal\n */ function x(t, ...e) {\n    if (v.logLevel <= u.WARN) {\n        const n = e.map(N);\n        v.warn(`Firestore (${P}): ${t}`, ...n);\n    }\n}\n\n/**\n * Converts an additional log parameter to a string representation.\n */ function N(t) {\n    if (\"string\" == typeof t) return t;\n    try {\n        return e = t, JSON.stringify(e);\n    } catch (e) {\n        // Converting to JSON failed, just log the object directly\n        return t;\n    }\n    /**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n    /** Formats an object as a JSON string, suitable for logging. */\n    var e;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Unconditionally fails, throwing an Error with the given message.\n * Messages are stripped in production builds.\n *\n * Returns `never` and can be used in expressions:\n * @example\n * let futureVar = fail('not implemented yet');\n */ function k(t = \"Unexpected state\") {\n    // Log the failure in addition to throw an exception, just in case the\n    // exception is swallowed.\n    const e = `FIRESTORE (${P}) INTERNAL ASSERTION FAILED: ` + t;\n    // NOTE: We don't use FirestoreError here because these are internal failures\n    // that cannot be handled by the user. (Also it would create a circular\n    // dependency between the error and assert modules which doesn't work.)\n    throw C(e), new Error(e);\n}\n\n/**\n * Fails if the given assertion condition is false, throwing an Error with the\n * given message if it did.\n *\n * Messages are stripped in production builds.\n */ function M(t, e) {\n    t || k();\n}\n\n/**\n * Fails if the given assertion condition is false, throwing an Error with the\n * given message if it did.\n *\n * The code of callsites invoking this function are stripped out in production\n * builds. Any side-effects of code within the debugAssert() invocation will not\n * happen in this case.\n *\n * @internal\n */ function O(t, e) {\n    t || k();\n}\n\n/**\n * Casts `obj` to `T`. In non-production builds, verifies that `obj` is an\n * instance of `T` before casting.\n */ function F(t, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ne) {\n    return t;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const $ = {\n    // Causes are copied from:\n    // https://github.com/grpc/grpc/blob/bceec94ea4fc5f0085d81235d8e1c06798dc341a/include/grpc%2B%2B/impl/codegen/status_code_enum.h\n    /** Not an error; returned on success. */\n    OK: \"ok\",\n    /** The operation was cancelled (typically by the caller). */\n    CANCELLED: \"cancelled\",\n    /** Unknown error or an error from a different error domain. */\n    UNKNOWN: \"unknown\",\n    /**\n     * Client specified an invalid argument. Note that this differs from\n     * FAILED_PRECONDITION. INVALID_ARGUMENT indicates arguments that are\n     * problematic regardless of the state of the system (e.g., a malformed file\n     * name).\n     */\n    INVALID_ARGUMENT: \"invalid-argument\",\n    /**\n     * Deadline expired before operation could complete. For operations that\n     * change the state of the system, this error may be returned even if the\n     * operation has completed successfully. For example, a successful response\n     * from a server could have been delayed long enough for the deadline to\n     * expire.\n     */\n    DEADLINE_EXCEEDED: \"deadline-exceeded\",\n    /** Some requested entity (e.g., file or directory) was not found. */\n    NOT_FOUND: \"not-found\",\n    /**\n     * Some entity that we attempted to create (e.g., file or directory) already\n     * exists.\n     */\n    ALREADY_EXISTS: \"already-exists\",\n    /**\n     * The caller does not have permission to execute the specified operation.\n     * PERMISSION_DENIED must not be used for rejections caused by exhausting\n     * some resource (use RESOURCE_EXHAUSTED instead for those errors).\n     * PERMISSION_DENIED must not be used if the caller can not be identified\n     * (use UNAUTHENTICATED instead for those errors).\n     */\n    PERMISSION_DENIED: \"permission-denied\",\n    /**\n     * The request does not have valid authentication credentials for the\n     * operation.\n     */\n    UNAUTHENTICATED: \"unauthenticated\",\n    /**\n     * Some resource has been exhausted, perhaps a per-user quota, or perhaps the\n     * entire file system is out of space.\n     */\n    RESOURCE_EXHAUSTED: \"resource-exhausted\",\n    /**\n     * Operation was rejected because the system is not in a state required for\n     * the operation's execution. For example, directory to be deleted may be\n     * non-empty, an rmdir operation is applied to a non-directory, etc.\n     *\n     * A litmus test that may help a service implementor in deciding\n     * between FAILED_PRECONDITION, ABORTED, and UNAVAILABLE:\n     *  (a) Use UNAVAILABLE if the client can retry just the failing call.\n     *  (b) Use ABORTED if the client should retry at a higher-level\n     *      (e.g., restarting a read-modify-write sequence).\n     *  (c) Use FAILED_PRECONDITION if the client should not retry until\n     *      the system state has been explicitly fixed. E.g., if an \"rmdir\"\n     *      fails because the directory is non-empty, FAILED_PRECONDITION\n     *      should be returned since the client should not retry unless\n     *      they have first fixed up the directory by deleting files from it.\n     *  (d) Use FAILED_PRECONDITION if the client performs conditional\n     *      REST Get/Update/Delete on a resource and the resource on the\n     *      server does not match the condition. E.g., conflicting\n     *      read-modify-write on the same resource.\n     */\n    FAILED_PRECONDITION: \"failed-precondition\",\n    /**\n     * The operation was aborted, typically due to a concurrency issue like\n     * sequencer check failures, transaction aborts, etc.\n     *\n     * See litmus test above for deciding between FAILED_PRECONDITION, ABORTED,\n     * and UNAVAILABLE.\n     */\n    ABORTED: \"aborted\",\n    /**\n     * Operation was attempted past the valid range. E.g., seeking or reading\n     * past end of file.\n     *\n     * Unlike INVALID_ARGUMENT, this error indicates a problem that may be fixed\n     * if the system state changes. For example, a 32-bit file system will\n     * generate INVALID_ARGUMENT if asked to read at an offset that is not in the\n     * range [0,2^32-1], but it will generate OUT_OF_RANGE if asked to read from\n     * an offset past the current file size.\n     *\n     * There is a fair bit of overlap between FAILED_PRECONDITION and\n     * OUT_OF_RANGE. We recommend using OUT_OF_RANGE (the more specific error)\n     * when it applies so that callers who are iterating through a space can\n     * easily look for an OUT_OF_RANGE error to detect when they are done.\n     */\n    OUT_OF_RANGE: \"out-of-range\",\n    /** Operation is not implemented or not supported/enabled in this service. */\n    UNIMPLEMENTED: \"unimplemented\",\n    /**\n     * Internal errors. Means some invariants expected by underlying System has\n     * been broken. If you see one of these errors, Something is very broken.\n     */\n    INTERNAL: \"internal\",\n    /**\n     * The service is currently unavailable. This is a most likely a transient\n     * condition and may be corrected by retrying with a backoff.\n     *\n     * See litmus test above for deciding between FAILED_PRECONDITION, ABORTED,\n     * and UNAVAILABLE.\n     */\n    UNAVAILABLE: \"unavailable\",\n    /** Unrecoverable data loss or corruption. */\n    DATA_LOSS: \"data-loss\"\n};\n\n/** An error returned by a Firestore operation. */ class B extends c {\n    /** @hideconstructor */\n    constructor(\n    /**\n     * The backend error code associated with this error.\n     */\n    t, \n    /**\n     * A custom error description.\n     */\n    e) {\n        super(t, e), this.code = t, this.message = e, \n        // HACK: We write a toString property directly because Error is not a real\n        // class and so inheritance does not work correctly. We could alternatively\n        // do the same \"back-door inheritance\" trick that FirebaseError does.\n        this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}`;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class L {\n    constructor() {\n        this.promise = new Promise(((t, e) => {\n            this.resolve = t, this.reject = e;\n        }));\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class U {\n    constructor(t, e) {\n        this.user = e, this.type = \"OAuth\", this.headers = new Map, this.headers.set(\"Authorization\", `Bearer ${t}`);\n    }\n}\n\n/**\n * A CredentialsProvider that always yields an empty token.\n * @internal\n */ class q {\n    getToken() {\n        return Promise.resolve(null);\n    }\n    invalidateToken() {}\n    start(t, e) {\n        // Fire with initial user.\n        t.enqueueRetryable((() => e(b.UNAUTHENTICATED)));\n    }\n    shutdown() {}\n}\n\n/**\n * A CredentialsProvider that always returns a constant token. Used for\n * emulator token mocking.\n */ class K {\n    constructor(t) {\n        this.token = t, \n        /**\n         * Stores the listener registered with setChangeListener()\n         * This isn't actually necessary since the UID never changes, but we use this\n         * to verify the listen contract is adhered to in tests.\n         */\n        this.changeListener = null;\n    }\n    getToken() {\n        return Promise.resolve(this.token);\n    }\n    invalidateToken() {}\n    start(t, e) {\n        this.changeListener = e, \n        // Fire with initial user.\n        t.enqueueRetryable((() => e(this.token.user)));\n    }\n    shutdown() {\n        this.changeListener = null;\n    }\n}\n\nclass G {\n    constructor(t) {\n        this.t = t, \n        /** Tracks the current User. */\n        this.currentUser = b.UNAUTHENTICATED, \n        /**\n         * Counter used to detect if the token changed while a getToken request was\n         * outstanding.\n         */\n        this.i = 0, this.forceRefresh = !1, this.auth = null;\n    }\n    start(t, e) {\n        let n = this.i;\n        // A change listener that prevents double-firing for the same token change.\n                const s = t => this.i !== n ? (n = this.i, e(t)) : Promise.resolve();\n        // A promise that can be waited on to block on the next token change.\n        // This promise is re-created after each change.\n                let i = new L;\n        this.o = () => {\n            this.i++, this.currentUser = this.u(), i.resolve(), i = new L, t.enqueueRetryable((() => s(this.currentUser)));\n        };\n        const r = () => {\n            const e = i;\n            t.enqueueRetryable((async () => {\n                await e.promise, await s(this.currentUser);\n            }));\n        }, o = t => {\n            D(\"FirebaseAuthCredentialsProvider\", \"Auth detected\"), this.auth = t, this.auth.addAuthTokenListener(this.o), \n            r();\n        };\n        this.t.onInit((t => o(t))), \n        // Our users can initialize Auth right after Firestore, so we give it\n        // a chance to register itself with the component framework before we\n        // determine whether to start up in unauthenticated mode.\n        setTimeout((() => {\n            if (!this.auth) {\n                const t = this.t.getImmediate({\n                    optional: !0\n                });\n                t ? o(t) : (\n                // If auth is still not available, proceed with `null` user\n                D(\"FirebaseAuthCredentialsProvider\", \"Auth not yet detected\"), i.resolve(), i = new L);\n            }\n        }), 0), r();\n    }\n    getToken() {\n        // Take note of the current value of the tokenCounter so that this method\n        // can fail (with an ABORTED error) if there is a token change while the\n        // request is outstanding.\n        const t = this.i, e = this.forceRefresh;\n        return this.forceRefresh = !1, this.auth ? this.auth.getToken(e).then((e => \n        // Cancel the request since the token changed while the request was\n        // outstanding so the response is potentially for a previous user (which\n        // user, we can't be sure).\n        this.i !== t ? (D(\"FirebaseAuthCredentialsProvider\", \"getToken aborted due to token change.\"), \n        this.getToken()) : e ? (M(\"string\" == typeof e.accessToken), new U(e.accessToken, this.currentUser)) : null)) : Promise.resolve(null);\n    }\n    invalidateToken() {\n        this.forceRefresh = !0;\n    }\n    shutdown() {\n        this.auth && this.auth.removeAuthTokenListener(this.o);\n    }\n    // Auth.getUid() can return null even with a user logged in. It is because\n    // getUid() is synchronous, but the auth code populating Uid is asynchronous.\n    // This method should only be called in the AuthTokenListener callback\n    // to guarantee to get the actual user.\n    u() {\n        const t = this.auth && this.auth.getUid();\n        return M(null === t || \"string\" == typeof t), new b(t);\n    }\n}\n\n/*\n * FirstPartyToken provides a fresh token each time its value\n * is requested, because if the token is too old, requests will be rejected.\n * Technically this may no longer be necessary since the SDK should gracefully\n * recover from unauthenticated errors (see b/33147818 for context), but it's\n * safer to keep the implementation as-is.\n */ class Q {\n    constructor(t, e, n, s) {\n        this.h = t, this.l = e, this.m = n, this.g = s, this.type = \"FirstParty\", this.user = b.FIRST_PARTY, \n        this.p = new Map;\n    }\n    /** Gets an authorization token, using a provided factory function, or falling back to First Party GAPI. */    I() {\n        return this.g ? this.g() : (\n        // Make sure this really is a Gapi client.\n        M(!(\"object\" != typeof this.h || null === this.h || !this.h.auth || !this.h.auth.getAuthHeaderValueForFirstParty)), \n        this.h.auth.getAuthHeaderValueForFirstParty([]));\n    }\n    get headers() {\n        this.p.set(\"X-Goog-AuthUser\", this.l);\n        // Use array notation to prevent minification\n        const t = this.I();\n        return t && this.p.set(\"Authorization\", t), this.m && this.p.set(\"X-Goog-Iam-Authorization-Token\", this.m), \n        this.p;\n    }\n}\n\n/*\n * Provides user credentials required for the Firestore JavaScript SDK\n * to authenticate the user, using technique that is only available\n * to applications hosted by Google.\n */ class j {\n    constructor(t, e, n, s) {\n        this.h = t, this.l = e, this.m = n, this.g = s;\n    }\n    getToken() {\n        return Promise.resolve(new Q(this.h, this.l, this.m, this.g));\n    }\n    start(t, e) {\n        // Fire with initial uid.\n        t.enqueueRetryable((() => e(b.FIRST_PARTY)));\n    }\n    shutdown() {}\n    invalidateToken() {}\n}\n\nclass W {\n    constructor(t) {\n        this.value = t, this.type = \"AppCheck\", this.headers = new Map, t && t.length > 0 && this.headers.set(\"x-firebase-appcheck\", this.value);\n    }\n}\n\nclass z {\n    constructor(t) {\n        this.T = t, this.forceRefresh = !1, this.appCheck = null, this.A = null;\n    }\n    start(t, e) {\n        const n = t => {\n            null != t.error && D(\"FirebaseAppCheckTokenProvider\", `Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);\n            const n = t.token !== this.A;\n            return this.A = t.token, D(\"FirebaseAppCheckTokenProvider\", `Received ${n ? \"new\" : \"existing\"} token.`), \n            n ? e(t.token) : Promise.resolve();\n        };\n        this.o = e => {\n            t.enqueueRetryable((() => n(e)));\n        };\n        const s = t => {\n            D(\"FirebaseAppCheckTokenProvider\", \"AppCheck detected\"), this.appCheck = t, this.appCheck.addTokenListener(this.o);\n        };\n        this.T.onInit((t => s(t))), \n        // Our users can initialize AppCheck after Firestore, so we give it\n        // a chance to register itself with the component framework.\n        setTimeout((() => {\n            if (!this.appCheck) {\n                const t = this.T.getImmediate({\n                    optional: !0\n                });\n                t ? s(t) : \n                // If AppCheck is still not available, proceed without it.\n                D(\"FirebaseAppCheckTokenProvider\", \"AppCheck not yet detected\");\n            }\n        }), 0);\n    }\n    getToken() {\n        const t = this.forceRefresh;\n        return this.forceRefresh = !1, this.appCheck ? this.appCheck.getToken(t).then((t => t ? (M(\"string\" == typeof t.token), \n        this.A = t.token, new W(t.token)) : null)) : Promise.resolve(null);\n    }\n    invalidateToken() {\n        this.forceRefresh = !0;\n    }\n    shutdown() {\n        this.appCheck && this.appCheck.removeTokenListener(this.o);\n    }\n}\n\n/**\n * An AppCheck token provider that always yields an empty token.\n * @internal\n */ class H {\n    getToken() {\n        return Promise.resolve(new W(\"\"));\n    }\n    invalidateToken() {}\n    start(t, e) {}\n    shutdown() {}\n}\n\n/**\n * Builds a CredentialsProvider depending on the type of\n * the credentials passed in.\n */\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Generates `nBytes` of random bytes.\n *\n * If `nBytes < 0` , an error will be thrown.\n */\nfunction J(t) {\n    // Polyfills for IE and WebWorker by using `self` and `msCrypto` when `crypto` is not available.\n    const e = \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    \"undefined\" != typeof self && (self.crypto || self.msCrypto), n = new Uint8Array(t);\n    if (e && \"function\" == typeof e.getRandomValues) e.getRandomValues(n); else \n    // Falls back to Math.random\n    for (let e = 0; e < t; e++) n[e] = Math.floor(256 * Math.random());\n    return n;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Y {\n    static R() {\n        // Alphanumeric characters\n        const t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", e = Math.floor(256 / t.length) * t.length;\n        // The largest byte value that is a multiple of `char.length`.\n                let n = \"\";\n        for (;n.length < 20; ) {\n            const s = J(40);\n            for (let i = 0; i < s.length; ++i) \n            // Only accept values that are [0, maxMultiple), this ensures they can\n            // be evenly mapped to indices of `chars` via a modulo operation.\n            n.length < 20 && s[i] < e && (n += t.charAt(s[i] % t.length));\n        }\n        return n;\n    }\n}\n\nfunction X(t, e) {\n    return t < e ? -1 : t > e ? 1 : 0;\n}\n\n/** Helper to compare arrays using isEqual(). */ function Z(t, e, n) {\n    return t.length === e.length && t.every(((t, s) => n(t, e[s])));\n}\n\n/**\n * Returns the immediate lexicographically-following string. This is useful to\n * construct an inclusive range for indexeddb iterators.\n */ function tt(t) {\n    // Return the input string, with an additional NUL byte appended.\n    return t + \"\\0\";\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// The earliest date supported by Firestore timestamps (0001-01-01T00:00:00Z).\n/**\n * A `Timestamp` represents a point in time independent of any time zone or\n * calendar, represented as seconds and fractions of seconds at nanosecond\n * resolution in UTC Epoch time.\n *\n * It is encoded using the Proleptic Gregorian Calendar which extends the\n * Gregorian calendar backwards to year one. It is encoded assuming all minutes\n * are 60 seconds long, i.e. leap seconds are \"smeared\" so that no leap second\n * table is needed for interpretation. Range is from 0001-01-01T00:00:00Z to\n * 9999-12-31T23:59:59.999999999Z.\n *\n * For examples and further specifications, refer to the\n * {@link https://github.com/google/protobuf/blob/master/src/google/protobuf/timestamp.proto | Timestamp definition}.\n */\nclass et {\n    /**\n     * Creates a new timestamp.\n     *\n     * @param seconds - The number of seconds of UTC time since Unix epoch\n     *     1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to\n     *     9999-12-31T23:59:59Z inclusive.\n     * @param nanoseconds - The non-negative fractions of a second at nanosecond\n     *     resolution. Negative second values with fractions must still have\n     *     non-negative nanoseconds values that count forward in time. Must be\n     *     from 0 to 999,999,999 inclusive.\n     */\n    constructor(\n    /**\n     * The number of seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.\n     */\n    t, \n    /**\n     * The fractions of a second at nanosecond resolution.*\n     */\n    e) {\n        if (this.seconds = t, this.nanoseconds = e, e < 0) throw new B($.INVALID_ARGUMENT, \"Timestamp nanoseconds out of range: \" + e);\n        if (e >= 1e9) throw new B($.INVALID_ARGUMENT, \"Timestamp nanoseconds out of range: \" + e);\n        if (t < -62135596800) throw new B($.INVALID_ARGUMENT, \"Timestamp seconds out of range: \" + t);\n        // This will break in the year 10,000.\n                if (t >= 253402300800) throw new B($.INVALID_ARGUMENT, \"Timestamp seconds out of range: \" + t);\n    }\n    /**\n     * Creates a new timestamp with the current date, with millisecond precision.\n     *\n     * @returns a new timestamp representing the current date.\n     */    static now() {\n        return et.fromMillis(Date.now());\n    }\n    /**\n     * Creates a new timestamp from the given date.\n     *\n     * @param date - The date to initialize the `Timestamp` from.\n     * @returns A new `Timestamp` representing the same point in time as the given\n     *     date.\n     */    static fromDate(t) {\n        return et.fromMillis(t.getTime());\n    }\n    /**\n     * Creates a new timestamp from the given number of milliseconds.\n     *\n     * @param milliseconds - Number of milliseconds since Unix epoch\n     *     1970-01-01T00:00:00Z.\n     * @returns A new `Timestamp` representing the same point in time as the given\n     *     number of milliseconds.\n     */    static fromMillis(t) {\n        const e = Math.floor(t / 1e3), n = Math.floor(1e6 * (t - 1e3 * e));\n        return new et(e, n);\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript `Date` object. This conversion\n     * causes a loss of precision since `Date` objects only support millisecond\n     * precision.\n     *\n     * @returns JavaScript `Date` object representing the same point in time as\n     *     this `Timestamp`, with millisecond precision.\n     */    toDate() {\n        return new Date(this.toMillis());\n    }\n    /**\n     * Converts a `Timestamp` to a numeric timestamp (in milliseconds since\n     * epoch). This operation causes a loss of precision.\n     *\n     * @returns The point in time corresponding to this timestamp, represented as\n     *     the number of milliseconds since Unix epoch 1970-01-01T00:00:00Z.\n     */    toMillis() {\n        return 1e3 * this.seconds + this.nanoseconds / 1e6;\n    }\n    _compareTo(t) {\n        return this.seconds === t.seconds ? X(this.nanoseconds, t.nanoseconds) : X(this.seconds, t.seconds);\n    }\n    /**\n     * Returns true if this `Timestamp` is equal to the provided one.\n     *\n     * @param other - The `Timestamp` to compare against.\n     * @returns true if this `Timestamp` is equal to the provided one.\n     */    isEqual(t) {\n        return t.seconds === this.seconds && t.nanoseconds === this.nanoseconds;\n    }\n    /** Returns a textual representation of this `Timestamp`. */    toString() {\n        return \"Timestamp(seconds=\" + this.seconds + \", nanoseconds=\" + this.nanoseconds + \")\";\n    }\n    /** Returns a JSON-serializable representation of this `Timestamp`. */    toJSON() {\n        return {\n            seconds: this.seconds,\n            nanoseconds: this.nanoseconds\n        };\n    }\n    /**\n     * Converts this object to a primitive string, which allows `Timestamp` objects\n     * to be compared using the `>`, `<=`, `>=` and `>` operators.\n     */    valueOf() {\n        // This method returns a string of the form <seconds>.<nanoseconds> where\n        // <seconds> is translated to have a non-negative value and both <seconds>\n        // and <nanoseconds> are left-padded with zeroes to be a consistent length.\n        // Strings with this format then have a lexiographical ordering that matches\n        // the expected ordering. The <seconds> translation is done to avoid having\n        // a leading negative sign (i.e. a leading '-' character) in its string\n        // representation, which would affect its lexiographical ordering.\n        const t = this.seconds - -62135596800;\n        // Note: Up to 12 decimal digits are required to represent all valid\n        // 'seconds' values.\n                return String(t).padStart(12, \"0\") + \".\" + String(this.nanoseconds).padStart(9, \"0\");\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A version of a document in Firestore. This corresponds to the version\n * timestamp, such as update_time or read_time.\n */ class nt {\n    constructor(t) {\n        this.timestamp = t;\n    }\n    static fromTimestamp(t) {\n        return new nt(t);\n    }\n    static min() {\n        return new nt(new et(0, 0));\n    }\n    static max() {\n        return new nt(new et(253402300799, 999999999));\n    }\n    compareTo(t) {\n        return this.timestamp._compareTo(t.timestamp);\n    }\n    isEqual(t) {\n        return this.timestamp.isEqual(t.timestamp);\n    }\n    /** Returns a number representation of the version for use in spec tests. */    toMicroseconds() {\n        // Convert to microseconds.\n        return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;\n    }\n    toString() {\n        return \"SnapshotVersion(\" + this.timestamp.toString() + \")\";\n    }\n    toTimestamp() {\n        return this.timestamp;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Path represents an ordered sequence of string segments.\n */\nclass st {\n    constructor(t, e, n) {\n        void 0 === e ? e = 0 : e > t.length && k(), void 0 === n ? n = t.length - e : n > t.length - e && k(), \n        this.segments = t, this.offset = e, this.len = n;\n    }\n    get length() {\n        return this.len;\n    }\n    isEqual(t) {\n        return 0 === st.comparator(this, t);\n    }\n    child(t) {\n        const e = this.segments.slice(this.offset, this.limit());\n        return t instanceof st ? t.forEach((t => {\n            e.push(t);\n        })) : e.push(t), this.construct(e);\n    }\n    /** The index of one past the last segment of the path. */    limit() {\n        return this.offset + this.length;\n    }\n    popFirst(t) {\n        return t = void 0 === t ? 1 : t, this.construct(this.segments, this.offset + t, this.length - t);\n    }\n    popLast() {\n        return this.construct(this.segments, this.offset, this.length - 1);\n    }\n    firstSegment() {\n        return this.segments[this.offset];\n    }\n    lastSegment() {\n        return this.get(this.length - 1);\n    }\n    get(t) {\n        return this.segments[this.offset + t];\n    }\n    isEmpty() {\n        return 0 === this.length;\n    }\n    isPrefixOf(t) {\n        if (t.length < this.length) return !1;\n        for (let e = 0; e < this.length; e++) if (this.get(e) !== t.get(e)) return !1;\n        return !0;\n    }\n    isImmediateParentOf(t) {\n        if (this.length + 1 !== t.length) return !1;\n        for (let e = 0; e < this.length; e++) if (this.get(e) !== t.get(e)) return !1;\n        return !0;\n    }\n    forEach(t) {\n        for (let e = this.offset, n = this.limit(); e < n; e++) t(this.segments[e]);\n    }\n    toArray() {\n        return this.segments.slice(this.offset, this.limit());\n    }\n    static comparator(t, e) {\n        const n = Math.min(t.length, e.length);\n        for (let s = 0; s < n; s++) {\n            const n = t.get(s), i = e.get(s);\n            if (n < i) return -1;\n            if (n > i) return 1;\n        }\n        return t.length < e.length ? -1 : t.length > e.length ? 1 : 0;\n    }\n}\n\n/**\n * A slash-separated path for navigating resources (documents and collections)\n * within Firestore.\n *\n * @internal\n */ class it extends st {\n    construct(t, e, n) {\n        return new it(t, e, n);\n    }\n    canonicalString() {\n        // NOTE: The client is ignorant of any path segments containing escape\n        // sequences (e.g. __id123__) and just passes them through raw (they exist\n        // for legacy reasons and should not be used frequently).\n        return this.toArray().join(\"/\");\n    }\n    toString() {\n        return this.canonicalString();\n    }\n    /**\n     * Creates a resource path from the given slash-delimited string. If multiple\n     * arguments are provided, all components are combined. Leading and trailing\n     * slashes from all components are ignored.\n     */    static fromString(...t) {\n        // NOTE: The client is ignorant of any path segments containing escape\n        // sequences (e.g. __id123__) and just passes them through raw (they exist\n        // for legacy reasons and should not be used frequently).\n        const e = [];\n        for (const n of t) {\n            if (n.indexOf(\"//\") >= 0) throw new B($.INVALID_ARGUMENT, `Invalid segment (${n}). Paths must not contain // in them.`);\n            // Strip leading and traling slashed.\n                        e.push(...n.split(\"/\").filter((t => t.length > 0)));\n        }\n        return new it(e);\n    }\n    static emptyPath() {\n        return new it([]);\n    }\n}\n\nconst rt = /^[_a-zA-Z][_a-zA-Z0-9]*$/;\n\n/**\n * A dot-separated path for navigating sub-objects within a document.\n * @internal\n */ class ot extends st {\n    construct(t, e, n) {\n        return new ot(t, e, n);\n    }\n    /**\n     * Returns true if the string could be used as a segment in a field path\n     * without escaping.\n     */    static isValidIdentifier(t) {\n        return rt.test(t);\n    }\n    canonicalString() {\n        return this.toArray().map((t => (t = t.replace(/\\\\/g, \"\\\\\\\\\").replace(/`/g, \"\\\\`\"), \n        ot.isValidIdentifier(t) || (t = \"`\" + t + \"`\"), t))).join(\".\");\n    }\n    toString() {\n        return this.canonicalString();\n    }\n    /**\n     * Returns true if this field references the key of a document.\n     */    isKeyField() {\n        return 1 === this.length && \"__name__\" === this.get(0);\n    }\n    /**\n     * The field designating the key of a document.\n     */    static keyField() {\n        return new ot([ \"__name__\" ]);\n    }\n    /**\n     * Parses a field string from the given server-formatted string.\n     *\n     * - Splitting the empty string is not allowed (for now at least).\n     * - Empty segments within the string (e.g. if there are two consecutive\n     *   separators) are not allowed.\n     *\n     * TODO(b/37244157): we should make this more strict. Right now, it allows\n     * non-identifier path components, even if they aren't escaped.\n     */    static fromServerFormat(t) {\n        const e = [];\n        let n = \"\", s = 0;\n        const i = () => {\n            if (0 === n.length) throw new B($.INVALID_ARGUMENT, `Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);\n            e.push(n), n = \"\";\n        };\n        let r = !1;\n        for (;s < t.length; ) {\n            const e = t[s];\n            if (\"\\\\\" === e) {\n                if (s + 1 === t.length) throw new B($.INVALID_ARGUMENT, \"Path has trailing escape character: \" + t);\n                const e = t[s + 1];\n                if (\"\\\\\" !== e && \".\" !== e && \"`\" !== e) throw new B($.INVALID_ARGUMENT, \"Path has invalid escape sequence: \" + t);\n                n += e, s += 2;\n            } else \"`\" === e ? (r = !r, s++) : \".\" !== e || r ? (n += e, s++) : (i(), s++);\n        }\n        if (i(), r) throw new B($.INVALID_ARGUMENT, \"Unterminated ` in path: \" + t);\n        return new ot(e);\n    }\n    static emptyPath() {\n        return new ot([]);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @internal\n */ class ut {\n    constructor(t) {\n        this.path = t;\n    }\n    static fromPath(t) {\n        return new ut(it.fromString(t));\n    }\n    static fromName(t) {\n        return new ut(it.fromString(t).popFirst(5));\n    }\n    static empty() {\n        return new ut(it.emptyPath());\n    }\n    get collectionGroup() {\n        return this.path.popLast().lastSegment();\n    }\n    /** Returns true if the document is in the specified collectionId. */    hasCollectionId(t) {\n        return this.path.length >= 2 && this.path.get(this.path.length - 2) === t;\n    }\n    /** Returns the collection group (i.e. the name of the parent collection) for this key. */    getCollectionGroup() {\n        return this.path.get(this.path.length - 2);\n    }\n    /** Returns the fully qualified path to the parent collection. */    getCollectionPath() {\n        return this.path.popLast();\n    }\n    isEqual(t) {\n        return null !== t && 0 === it.comparator(this.path, t.path);\n    }\n    toString() {\n        return this.path.toString();\n    }\n    static comparator(t, e) {\n        return it.comparator(t.path, e.path);\n    }\n    static isDocumentKey(t) {\n        return t.length % 2 == 0;\n    }\n    /**\n     * Creates and returns a new document key with the given segments.\n     *\n     * @param segments - The segments of the path to the document\n     * @returns A new instance of DocumentKey\n     */    static fromSegments(t) {\n        return new ut(new it(t.slice()));\n    }\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The initial mutation batch id for each index. Gets updated during index\n * backfill.\n */\n/**\n * An index definition for field indexes in Firestore.\n *\n * Every index is associated with a collection. The definition contains a list\n * of fields and their index kind (which can be `ASCENDING`, `DESCENDING` or\n * `CONTAINS` for ArrayContains/ArrayContainsAny queries).\n *\n * Unlike the backend, the SDK does not differentiate between collection or\n * collection group-scoped indices. Every index can be used for both single\n * collection and collection group queries.\n */\nclass ct {\n    constructor(\n    /**\n     * The index ID. Returns -1 if the index ID is not available (e.g. the index\n     * has not yet been persisted).\n     */\n    t, \n    /** The collection ID this index applies to. */\n    e, \n    /** The field segments for this index. */\n    n, \n    /** Shows how up-to-date the index is for the current user. */\n    s) {\n        this.indexId = t, this.collectionGroup = e, this.fields = n, this.indexState = s;\n    }\n}\n\n/** An ID for an index that has not yet been added to persistence.  */\n/** Returns the ArrayContains/ArrayContainsAny segment for this index. */\nfunction at(t) {\n    return t.fields.find((t => 2 /* CONTAINS */ === t.kind));\n}\n\n/** Returns all directional (ascending/descending) segments for this index. */ function ht(t) {\n    return t.fields.filter((t => 2 /* CONTAINS */ !== t.kind));\n}\n\n/**\n * Returns the order of the document key component for the given index.\n *\n * PORTING NOTE: This is only used in the Web IndexedDb implementation.\n */\n/**\n * Compares indexes by collection group and segments. Ignores update time and\n * index ID.\n */\nfunction lt(t, e) {\n    let n = X(t.collectionGroup, e.collectionGroup);\n    if (0 !== n) return n;\n    for (let s = 0; s < Math.min(t.fields.length, e.fields.length); ++s) if (n = dt(t.fields[s], e.fields[s]), \n    0 !== n) return n;\n    return X(t.fields.length, e.fields.length);\n}\n\n/** Returns a debug representation of the field index */ ct.UNKNOWN_ID = -1;\n\n/** An index component consisting of field path and index type.  */\nclass ft {\n    constructor(\n    /** The field path of the component. */\n    t, \n    /** The fields sorting order. */\n    e) {\n        this.fieldPath = t, this.kind = e;\n    }\n}\n\nfunction dt(t, e) {\n    const n = ot.comparator(t.fieldPath, e.fieldPath);\n    return 0 !== n ? n : X(t.kind, e.kind);\n}\n\n/**\n * Stores the \"high water mark\" that indicates how updated the Index is for the\n * current user.\n */ class _t {\n    constructor(\n    /**\n     * Indicates when the index was last updated (relative to other indexes).\n     */\n    t, \n    /** The the latest indexed read time, document and batch id. */\n    e) {\n        this.sequenceNumber = t, this.offset = e;\n    }\n    /** The state of an index that has not yet been backfilled. */    static empty() {\n        return new _t(0, gt.min());\n    }\n}\n\n/**\n * Creates an offset that matches all documents with a read time higher than\n * `readTime`.\n */ function wt(t, e) {\n    // We want to create an offset that matches all documents with a read time\n    // greater than the provided read time. To do so, we technically need to\n    // create an offset for `(readTime, MAX_DOCUMENT_KEY)`. While we could use\n    // Unicode codepoints to generate MAX_DOCUMENT_KEY, it is much easier to use\n    // `(readTime + 1, DocumentKey.empty())` since `> DocumentKey.empty()` matches\n    // all valid document IDs.\n    const n = t.toTimestamp().seconds, s = t.toTimestamp().nanoseconds + 1, i = nt.fromTimestamp(1e9 === s ? new et(n + 1, 0) : new et(n, s));\n    return new gt(i, ut.empty(), e);\n}\n\n/** Creates a new offset based on the provided document. */ function mt(t) {\n    return new gt(t.readTime, t.key, -1);\n}\n\n/**\n * Stores the latest read time, document and batch ID that were processed for an\n * index.\n */ class gt {\n    constructor(\n    /**\n     * The latest read time version that has been indexed by Firestore for this\n     * field index.\n     */\n    t, \n    /**\n     * The key of the last document that was indexed for this query. Use\n     * `DocumentKey.empty()` if no document has been indexed.\n     */\n    e, \n    /*\n     * The largest mutation batch id that's been processed by Firestore.\n     */\n    n) {\n        this.readTime = t, this.documentKey = e, this.largestBatchId = n;\n    }\n    /** Returns an offset that sorts before all regular offsets. */    static min() {\n        return new gt(nt.min(), ut.empty(), -1);\n    }\n    /** Returns an offset that sorts after all regular offsets. */    static max() {\n        return new gt(nt.max(), ut.empty(), -1);\n    }\n}\n\nfunction yt(t, e) {\n    let n = t.readTime.compareTo(e.readTime);\n    return 0 !== n ? n : (n = ut.comparator(t.documentKey, e.documentKey), 0 !== n ? n : X(t.largestBatchId, e.largestBatchId));\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const pt = \"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\";\n\n/**\n * A base class representing a persistence transaction, encapsulating both the\n * transaction's sequence numbers as well as a list of onCommitted listeners.\n *\n * When you call Persistence.runTransaction(), it will create a transaction and\n * pass it to your callback. You then pass it to any method that operates\n * on persistence.\n */ class It {\n    constructor() {\n        this.onCommittedListeners = [];\n    }\n    addOnCommittedListener(t) {\n        this.onCommittedListeners.push(t);\n    }\n    raiseOnCommittedEvent() {\n        this.onCommittedListeners.forEach((t => t()));\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Verifies the error thrown by a LocalStore operation. If a LocalStore\n * operation fails because the primary lease has been taken by another client,\n * we ignore the error (the persistence layer will immediately call\n * `applyPrimaryLease` to propagate the primary state change). All other errors\n * are re-thrown.\n *\n * @param err - An error returned by a LocalStore operation.\n * @returns A Promise that resolves after we recovered, or the original error.\n */ async function Tt(t) {\n    if (t.code !== $.FAILED_PRECONDITION || t.message !== pt) throw t;\n    D(\"LocalStore\", \"Unexpectedly lost primary lease\");\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * PersistencePromise is essentially a re-implementation of Promise except\n * it has a .next() method instead of .then() and .next() and .catch() callbacks\n * are executed synchronously when a PersistencePromise resolves rather than\n * asynchronously (Promise implementations use setImmediate() or similar).\n *\n * This is necessary to interoperate with IndexedDB which will automatically\n * commit transactions if control is returned to the event loop without\n * synchronously initiating another operation on the transaction.\n *\n * NOTE: .then() and .catch() only allow a single consumer, unlike normal\n * Promises.\n */ class Et {\n    constructor(t) {\n        // NOTE: next/catchCallback will always point to our own wrapper functions,\n        // not the user's raw next() or catch() callbacks.\n        this.nextCallback = null, this.catchCallback = null, \n        // When the operation resolves, we'll set result or error and mark isDone.\n        this.result = void 0, this.error = void 0, this.isDone = !1, \n        // Set to true when .then() or .catch() are called and prevents additional\n        // chaining.\n        this.callbackAttached = !1, t((t => {\n            this.isDone = !0, this.result = t, this.nextCallback && \n            // value should be defined unless T is Void, but we can't express\n            // that in the type system.\n            this.nextCallback(t);\n        }), (t => {\n            this.isDone = !0, this.error = t, this.catchCallback && this.catchCallback(t);\n        }));\n    }\n    catch(t) {\n        return this.next(void 0, t);\n    }\n    next(t, e) {\n        return this.callbackAttached && k(), this.callbackAttached = !0, this.isDone ? this.error ? this.wrapFailure(e, this.error) : this.wrapSuccess(t, this.result) : new Et(((n, s) => {\n            this.nextCallback = e => {\n                this.wrapSuccess(t, e).next(n, s);\n            }, this.catchCallback = t => {\n                this.wrapFailure(e, t).next(n, s);\n            };\n        }));\n    }\n    toPromise() {\n        return new Promise(((t, e) => {\n            this.next(t, e);\n        }));\n    }\n    wrapUserFunction(t) {\n        try {\n            const e = t();\n            return e instanceof Et ? e : Et.resolve(e);\n        } catch (t) {\n            return Et.reject(t);\n        }\n    }\n    wrapSuccess(t, e) {\n        return t ? this.wrapUserFunction((() => t(e))) : Et.resolve(e);\n    }\n    wrapFailure(t, e) {\n        return t ? this.wrapUserFunction((() => t(e))) : Et.reject(e);\n    }\n    static resolve(t) {\n        return new Et(((e, n) => {\n            e(t);\n        }));\n    }\n    static reject(t) {\n        return new Et(((e, n) => {\n            n(t);\n        }));\n    }\n    static waitFor(\n    // Accept all Promise types in waitFor().\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    t) {\n        return new Et(((e, n) => {\n            let s = 0, i = 0, r = !1;\n            t.forEach((t => {\n                ++s, t.next((() => {\n                    ++i, r && i === s && e();\n                }), (t => n(t)));\n            })), r = !0, i === s && e();\n        }));\n    }\n    /**\n     * Given an array of predicate functions that asynchronously evaluate to a\n     * boolean, implements a short-circuiting `or` between the results. Predicates\n     * will be evaluated until one of them returns `true`, then stop. The final\n     * result will be whether any of them returned `true`.\n     */    static or(t) {\n        let e = Et.resolve(!1);\n        for (const n of t) e = e.next((t => t ? Et.resolve(t) : n()));\n        return e;\n    }\n    static forEach(t, e) {\n        const n = [];\n        return t.forEach(((t, s) => {\n            n.push(e.call(this, t, s));\n        })), this.waitFor(n);\n    }\n    /**\n     * Concurrently map all array elements through asynchronous function.\n     */    static mapArray(t, e) {\n        return new Et(((n, s) => {\n            const i = t.length, r = new Array(i);\n            let o = 0;\n            for (let u = 0; u < i; u++) {\n                const c = u;\n                e(t[c]).next((t => {\n                    r[c] = t, ++o, o === i && n(r);\n                }), (t => s(t)));\n            }\n        }));\n    }\n    /**\n     * An alternative to recursive PersistencePromise calls, that avoids\n     * potential memory problems from unbounded chains of promises.\n     *\n     * The `action` will be called repeatedly while `condition` is true.\n     */    static doWhile(t, e) {\n        return new Et(((n, s) => {\n            const i = () => {\n                !0 === t() ? e().next((() => {\n                    i();\n                }), s) : n();\n            };\n            i();\n        }));\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// References to `window` are guarded by SimpleDb.isAvailable()\n/* eslint-disable no-restricted-globals */\n/**\n * Wraps an IDBTransaction and exposes a store() method to get a handle to a\n * specific object store.\n */\nclass At {\n    constructor(t, e) {\n        this.action = t, this.transaction = e, this.aborted = !1, \n        /**\n         * A `Promise` that resolves with the result of the IndexedDb transaction.\n         */\n        this.P = new L, this.transaction.oncomplete = () => {\n            this.P.resolve();\n        }, this.transaction.onabort = () => {\n            e.error ? this.P.reject(new Pt(t, e.error)) : this.P.resolve();\n        }, this.transaction.onerror = e => {\n            const n = Ct(e.target.error);\n            this.P.reject(new Pt(t, n));\n        };\n    }\n    static open(t, e, n, s) {\n        try {\n            return new At(e, t.transaction(s, n));\n        } catch (t) {\n            throw new Pt(e, t);\n        }\n    }\n    get v() {\n        return this.P.promise;\n    }\n    abort(t) {\n        t && this.P.reject(t), this.aborted || (D(\"SimpleDb\", \"Aborting transaction:\", t ? t.message : \"Client-initiated abort\"), \n        this.aborted = !0, this.transaction.abort());\n    }\n    V() {\n        // If the browser supports V3 IndexedDB, we invoke commit() explicitly to\n        // speed up index DB processing if the event loop remains blocks.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const t = this.transaction;\n        this.aborted || \"function\" != typeof t.commit || t.commit();\n    }\n    /**\n     * Returns a SimpleDbStore<KeyType, ValueType> for the specified store. All\n     * operations performed on the SimpleDbStore happen within the context of this\n     * transaction and it cannot be used anymore once the transaction is\n     * completed.\n     *\n     * Note that we can't actually enforce that the KeyType and ValueType are\n     * correct, but they allow type safety through the rest of the consuming code.\n     */    store(t) {\n        const e = this.transaction.objectStore(t);\n        return new Vt(e);\n    }\n}\n\n/**\n * Provides a wrapper around IndexedDb with a simplified interface that uses\n * Promise-like return values to chain operations. Real promises cannot be used\n * since .then() continuations are executed asynchronously (e.g. via\n * .setImmediate), which would cause IndexedDB to end the transaction.\n * See PersistencePromise for more details.\n */ class Rt {\n    /*\n     * Creates a new SimpleDb wrapper for IndexedDb database `name`.\n     *\n     * Note that `version` must not be a downgrade. IndexedDB does not support\n     * downgrading the schema version. We currently do not support any way to do\n     * versioning outside of IndexedDB's versioning mechanism, as only\n     * version-upgrade transactions are allowed to do things like create\n     * objectstores.\n     */\n    constructor(t, e, n) {\n        this.name = t, this.version = e, this.S = n;\n        // NOTE: According to https://bugs.webkit.org/show_bug.cgi?id=197050, the\n        // bug we're checking for should exist in iOS >= 12.2 and < 13, but for\n        // whatever reason it's much harder to hit after 12.2 so we only proactively\n        // log on 12.2.\n        12.2 === Rt.D(a()) && C(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");\n    }\n    /** Deletes the specified database. */    static delete(t) {\n        return D(\"SimpleDb\", \"Removing database:\", t), St(window.indexedDB.deleteDatabase(t)).toPromise();\n    }\n    /** Returns true if IndexedDB is available in the current environment. */    static C() {\n        if (!h()) return !1;\n        if (Rt.N()) return !0;\n        // We extensively use indexed array values and compound keys,\n        // which IE and Edge do not support. However, they still have indexedDB\n        // defined on the window, so we need to check for them here and make sure\n        // to return that persistence is not enabled for those browsers.\n        // For tracking support of this feature, see here:\n        // https://developer.microsoft.com/en-us/microsoft-edge/platform/status/indexeddbarraysandmultientrysupport/\n        // Check the UA string to find out the browser.\n                const t = a(), e = Rt.D(t), n = 0 < e && e < 10, s = Rt.k(t), i = 0 < s && s < 4.5;\n        // IE 10\n        // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n        // IE 11\n        // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n        // Edge\n        // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,\n        // like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n        // iOS Safari: Disable for users running iOS version < 10.\n                return !(t.indexOf(\"MSIE \") > 0 || t.indexOf(\"Trident/\") > 0 || t.indexOf(\"Edge/\") > 0 || n || i);\n    }\n    /**\n     * Returns true if the backing IndexedDB store is the Node IndexedDBShim\n     * (see https://github.com/axemclion/IndexedDBShim).\n     */    static N() {\n        var t;\n        return \"undefined\" != typeof process && \"YES\" === (null === (t = process.env) || void 0 === t ? void 0 : t.M);\n    }\n    /** Helper to get a typed SimpleDbStore from a transaction. */    static O(t, e) {\n        return t.store(e);\n    }\n    // visible for testing\n    /** Parse User Agent to determine iOS version. Returns -1 if not found. */\n    static D(t) {\n        const e = t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i), n = e ? e[1].split(\"_\").slice(0, 2).join(\".\") : \"-1\";\n        return Number(n);\n    }\n    // visible for testing\n    /** Parse User Agent to determine Android version. Returns -1 if not found. */\n    static k(t) {\n        const e = t.match(/Android ([\\d.]+)/i), n = e ? e[1].split(\".\").slice(0, 2).join(\".\") : \"-1\";\n        return Number(n);\n    }\n    /**\n     * Opens the specified database, creating or upgrading it if necessary.\n     */    async F(t) {\n        return this.db || (D(\"SimpleDb\", \"Opening database:\", this.name), this.db = await new Promise(((e, n) => {\n            // TODO(mikelehen): Investigate browser compatibility.\n            // https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB\n            // suggests IE9 and older WebKit browsers handle upgrade\n            // differently. They expect setVersion, as described here:\n            // https://developer.mozilla.org/en-US/docs/Web/API/IDBVersionChangeRequest/setVersion\n            const s = indexedDB.open(this.name, this.version);\n            s.onsuccess = t => {\n                const n = t.target.result;\n                e(n);\n            }, s.onblocked = () => {\n                n(new Pt(t, \"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"));\n            }, s.onerror = e => {\n                const s = e.target.error;\n                \"VersionError\" === s.name ? n(new B($.FAILED_PRECONDITION, \"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")) : \"InvalidStateError\" === s.name ? n(new B($.FAILED_PRECONDITION, \"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: \" + s)) : n(new Pt(t, s));\n            }, s.onupgradeneeded = t => {\n                D(\"SimpleDb\", 'Database \"' + this.name + '\" requires upgrade from version:', t.oldVersion);\n                const e = t.target.result;\n                this.S.$(e, s.transaction, t.oldVersion, this.version).next((() => {\n                    D(\"SimpleDb\", \"Database upgrade to version \" + this.version + \" complete\");\n                }));\n            };\n        }))), this.B && (this.db.onversionchange = t => this.B(t)), this.db;\n    }\n    L(t) {\n        this.B = t, this.db && (this.db.onversionchange = e => t(e));\n    }\n    async runTransaction(t, e, n, s) {\n        const i = \"readonly\" === e;\n        let r = 0;\n        for (;;) {\n            ++r;\n            try {\n                this.db = await this.F(t);\n                const e = At.open(this.db, t, i ? \"readonly\" : \"readwrite\", n), r = s(e).next((t => (e.V(), \n                t))).catch((t => (\n                // Abort the transaction if there was an error.\n                e.abort(t), Et.reject(t)))).toPromise();\n                // As noted above, errors are propagated by aborting the transaction. So\n                // we swallow any error here to avoid the browser logging it as unhandled.\n                return r.catch((() => {})), \n                // Wait for the transaction to complete (i.e. IndexedDb's onsuccess event to\n                // fire), but still return the original transactionFnResult back to the\n                // caller.\n                await e.v, r;\n            } catch (t) {\n                const e = t, n = \"FirebaseError\" !== e.name && r < 3;\n                // TODO(schmidt-sebastian): We could probably be smarter about this and\n                // not retry exceptions that are likely unrecoverable (such as quota\n                // exceeded errors).\n                // Note: We cannot use an instanceof check for FirestoreException, since the\n                // exception is wrapped in a generic error by our async/await handling.\n                                if (D(\"SimpleDb\", \"Transaction failed with error:\", e.message, \"Retrying:\", n), \n                this.close(), !n) return Promise.reject(e);\n            }\n        }\n    }\n    close() {\n        this.db && this.db.close(), this.db = void 0;\n    }\n}\n\n/**\n * A controller for iterating over a key range or index. It allows an iterate\n * callback to delete the currently-referenced object, or jump to a new key\n * within the key range or index.\n */ class bt {\n    constructor(t) {\n        this.U = t, this.q = !1, this.K = null;\n    }\n    get isDone() {\n        return this.q;\n    }\n    get G() {\n        return this.K;\n    }\n    set cursor(t) {\n        this.U = t;\n    }\n    /**\n     * This function can be called to stop iteration at any point.\n     */    done() {\n        this.q = !0;\n    }\n    /**\n     * This function can be called to skip to that next key, which could be\n     * an index or a primary key.\n     */    j(t) {\n        this.K = t;\n    }\n    /**\n     * Delete the current cursor value from the object store.\n     *\n     * NOTE: You CANNOT do this with a keysOnly query.\n     */    delete() {\n        return St(this.U.delete());\n    }\n}\n\n/** An error that wraps exceptions that thrown during IndexedDB execution. */ class Pt extends B {\n    constructor(t, e) {\n        super($.UNAVAILABLE, `IndexedDB transaction '${t}' failed: ${e}`), this.name = \"IndexedDbTransactionError\";\n    }\n}\n\n/** Verifies whether `e` is an IndexedDbTransactionError. */ function vt(t) {\n    // Use name equality, as instanceof checks on errors don't work with errors\n    // that wrap other errors.\n    return \"IndexedDbTransactionError\" === t.name;\n}\n\n/**\n * A wrapper around an IDBObjectStore providing an API that:\n *\n * 1) Has generic KeyType / ValueType parameters to provide strongly-typed\n * methods for acting against the object store.\n * 2) Deals with IndexedDB's onsuccess / onerror event callbacks, making every\n * method return a PersistencePromise instead.\n * 3) Provides a higher-level API to avoid needing to do excessive wrapping of\n * intermediate IndexedDB types (IDBCursorWithValue, etc.)\n */ class Vt {\n    constructor(t) {\n        this.store = t;\n    }\n    put(t, e) {\n        let n;\n        return void 0 !== e ? (D(\"SimpleDb\", \"PUT\", this.store.name, t, e), n = this.store.put(e, t)) : (D(\"SimpleDb\", \"PUT\", this.store.name, \"<auto-key>\", t), \n        n = this.store.put(t)), St(n);\n    }\n    /**\n     * Adds a new value into an Object Store and returns the new key. Similar to\n     * IndexedDb's `add()`, this method will fail on primary key collisions.\n     *\n     * @param value - The object to write.\n     * @returns The key of the value to add.\n     */    add(t) {\n        D(\"SimpleDb\", \"ADD\", this.store.name, t, t);\n        return St(this.store.add(t));\n    }\n    /**\n     * Gets the object with the specified key from the specified store, or null\n     * if no object exists with the specified key.\n     *\n     * @key The key of the object to get.\n     * @returns The object with the specified key or null if no object exists.\n     */    get(t) {\n        // We're doing an unsafe cast to ValueType.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return St(this.store.get(t)).next((e => (\n        // Normalize nonexistence to null.\n        void 0 === e && (e = null), D(\"SimpleDb\", \"GET\", this.store.name, t, e), e)));\n    }\n    delete(t) {\n        D(\"SimpleDb\", \"DELETE\", this.store.name, t);\n        return St(this.store.delete(t));\n    }\n    /**\n     * If we ever need more of the count variants, we can add overloads. For now,\n     * all we need is to count everything in a store.\n     *\n     * Returns the number of rows in the store.\n     */    count() {\n        D(\"SimpleDb\", \"COUNT\", this.store.name);\n        return St(this.store.count());\n    }\n    W(t, e) {\n        const n = this.options(t, e);\n        // Use `getAll()` if the browser supports IndexedDB v3, as it is roughly\n        // 20% faster. Unfortunately, getAll() does not support custom indices.\n                if (n.index || \"function\" != typeof this.store.getAll) {\n            const t = this.cursor(n), e = [];\n            return this.H(t, ((t, n) => {\n                e.push(n);\n            })).next((() => e));\n        }\n        {\n            const t = this.store.getAll(n.range);\n            return new Et(((e, n) => {\n                t.onerror = t => {\n                    n(t.target.error);\n                }, t.onsuccess = t => {\n                    e(t.target.result);\n                };\n            }));\n        }\n    }\n    /**\n     * Loads the first `count` elements from the provided index range. Loads all\n     * elements if no limit is provided.\n     */    J(t, e) {\n        const n = this.store.getAll(t, null === e ? void 0 : e);\n        return new Et(((t, e) => {\n            n.onerror = t => {\n                e(t.target.error);\n            }, n.onsuccess = e => {\n                t(e.target.result);\n            };\n        }));\n    }\n    Y(t, e) {\n        D(\"SimpleDb\", \"DELETE ALL\", this.store.name);\n        const n = this.options(t, e);\n        n.X = !1;\n        const s = this.cursor(n);\n        return this.H(s, ((t, e, n) => n.delete()));\n    }\n    Z(t, e) {\n        let n;\n        e ? n = t : (n = {}, e = t);\n        const s = this.cursor(n);\n        return this.H(s, e);\n    }\n    /**\n     * Iterates over a store, but waits for the given callback to complete for\n     * each entry before iterating the next entry. This allows the callback to do\n     * asynchronous work to determine if this iteration should continue.\n     *\n     * The provided callback should return `true` to continue iteration, and\n     * `false` otherwise.\n     */    tt(t) {\n        const e = this.cursor({});\n        return new Et(((n, s) => {\n            e.onerror = t => {\n                const e = Ct(t.target.error);\n                s(e);\n            }, e.onsuccess = e => {\n                const s = e.target.result;\n                s ? t(s.primaryKey, s.value).next((t => {\n                    t ? s.continue() : n();\n                })) : n();\n            };\n        }));\n    }\n    H(t, e) {\n        const n = [];\n        return new Et(((s, i) => {\n            t.onerror = t => {\n                i(t.target.error);\n            }, t.onsuccess = t => {\n                const i = t.target.result;\n                if (!i) return void s();\n                const r = new bt(i), o = e(i.primaryKey, i.value, r);\n                if (o instanceof Et) {\n                    const t = o.catch((t => (r.done(), Et.reject(t))));\n                    n.push(t);\n                }\n                r.isDone ? s() : null === r.G ? i.continue() : i.continue(r.G);\n            };\n        })).next((() => Et.waitFor(n)));\n    }\n    options(t, e) {\n        let n;\n        return void 0 !== t && (\"string\" == typeof t ? n = t : e = t), {\n            index: n,\n            range: e\n        };\n    }\n    cursor(t) {\n        let e = \"next\";\n        if (t.reverse && (e = \"prev\"), t.index) {\n            const n = this.store.index(t.index);\n            return t.X ? n.openKeyCursor(t.range, e) : n.openCursor(t.range, e);\n        }\n        return this.store.openCursor(t.range, e);\n    }\n}\n\n/**\n * Wraps an IDBRequest in a PersistencePromise, using the onsuccess / onerror\n * handlers to resolve / reject the PersistencePromise as appropriate.\n */ function St(t) {\n    return new Et(((e, n) => {\n        t.onsuccess = t => {\n            const n = t.target.result;\n            e(n);\n        }, t.onerror = t => {\n            const e = Ct(t.target.error);\n            n(e);\n        };\n    }));\n}\n\n// Guard so we only report the error once.\nlet Dt = !1;\n\nfunction Ct(t) {\n    const e = Rt.D(a());\n    if (e >= 12.2 && e < 13) {\n        const e = \"An internal error was encountered in the Indexed Database server\";\n        if (t.message.indexOf(e) >= 0) {\n            // Wrap error in a more descriptive one.\n            const t = new B(\"internal\", `IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);\n            return Dt || (Dt = !0, \n            // Throw a global exception outside of this promise chain, for the user to\n            // potentially catch.\n            setTimeout((() => {\n                throw t;\n            }), 0)), t;\n        }\n    }\n    return t;\n}\n\n/** This class is responsible for the scheduling of Index Backfiller. */\nclass xt {\n    constructor(t, e) {\n        this.asyncQueue = t, this.et = e, this.task = null;\n    }\n    start() {\n        this.nt(15e3);\n    }\n    stop() {\n        this.task && (this.task.cancel(), this.task = null);\n    }\n    get started() {\n        return null !== this.task;\n    }\n    nt(t) {\n        D(\"IndexBackiller\", `Scheduled in ${t}ms`), this.task = this.asyncQueue.enqueueAfterDelay(\"index_backfill\" /* IndexBackfill */ , t, (async () => {\n            this.task = null;\n            try {\n                D(\"IndexBackiller\", `Documents written: ${await this.et.st()}`);\n            } catch (t) {\n                vt(t) ? D(\"IndexBackiller\", \"Ignoring IndexedDB error during index backfill: \", t) : await Tt(t);\n            }\n            await this.nt(6e4);\n        }));\n    }\n}\n\n/** Implements the steps for backfilling indexes. */ class Nt {\n    constructor(\n    /**\n     * LocalStore provides access to IndexManager and LocalDocumentView.\n     * These properties will update when the user changes. Consequently,\n     * making a local copy of IndexManager and LocalDocumentView will require\n     * updates over time. The simpler solution is to rely on LocalStore to have\n     * an up-to-date references to IndexManager and LocalDocumentStore.\n     */\n    t, e) {\n        this.localStore = t, this.persistence = e;\n    }\n    async st(t = 50) {\n        return this.persistence.runTransaction(\"Backfill Indexes\", \"readwrite-primary\", (e => this.it(e, t)));\n    }\n    /** Writes index entries until the cap is reached. Returns the number of documents processed. */    it(t, e) {\n        const n = new Set;\n        let s = e, i = !0;\n        return Et.doWhile((() => !0 === i && s > 0), (() => this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((e => {\n            if (null !== e && !n.has(e)) return D(\"IndexBackiller\", `Processing collection: ${e}`), \n            this.rt(t, e, s).next((t => {\n                s -= t, n.add(e);\n            }));\n            i = !1;\n        })))).next((() => e - s));\n    }\n    /**\n     * Writes entries for the provided collection group. Returns the number of documents processed.\n     */    rt(t, e, n) {\n        // Use the earliest offset of all field indexes to query the local cache.\n        return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t, e).next((s => this.localStore.localDocuments.getNextDocuments(t, e, s, n).next((n => {\n            const i = n.changes;\n            return this.localStore.indexManager.updateIndexEntries(t, i).next((() => this.ot(s, n))).next((n => (D(\"IndexBackiller\", `Updating offset: ${n}`), \n            this.localStore.indexManager.updateCollectionGroup(t, e, n)))).next((() => i.size));\n        }))));\n    }\n    /** Returns the next offset based on the provided documents. */    ot(t, e) {\n        let n = t;\n        return e.changes.forEach(((t, e) => {\n            const s = mt(e);\n            yt(s, n) > 0 && (n = s);\n        })), new gt(n.readTime, n.documentKey, Math.max(e.batchId, t.largestBatchId));\n    }\n}\n\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * `ListenSequence` is a monotonic sequence. It is initialized with a minimum value to\n * exceed. All subsequent calls to next will return increasing values. If provided with a\n * `SequenceNumberSyncer`, it will additionally bump its next value when told of a new value, as\n * well as write out sequence numbers that it produces via `next()`.\n */ class kt {\n    constructor(t, e) {\n        this.previousValue = t, e && (e.sequenceNumberHandler = t => this.ut(t), this.ct = t => e.writeSequenceNumber(t));\n    }\n    ut(t) {\n        return this.previousValue = Math.max(t, this.previousValue), this.previousValue;\n    }\n    next() {\n        const t = ++this.previousValue;\n        return this.ct && this.ct(t), t;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction Mt(t) {\n    let e = 0;\n    for (const n in t) Object.prototype.hasOwnProperty.call(t, n) && e++;\n    return e;\n}\n\nfunction Ot(t, e) {\n    for (const n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]);\n}\n\nfunction Ft(t) {\n    for (const e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;\n    return !0;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// An immutable sorted map implementation, based on a Left-leaning Red-Black\n// tree.\nkt.at = -1;\n\nclass $t {\n    constructor(t, e) {\n        this.comparator = t, this.root = e || Lt.EMPTY;\n    }\n    // Returns a copy of the map, with the specified key/value added or replaced.\n    insert(t, e) {\n        return new $t(this.comparator, this.root.insert(t, e, this.comparator).copy(null, null, Lt.BLACK, null, null));\n    }\n    // Returns a copy of the map, with the specified key removed.\n    remove(t) {\n        return new $t(this.comparator, this.root.remove(t, this.comparator).copy(null, null, Lt.BLACK, null, null));\n    }\n    // Returns the value of the node with the given key, or null.\n    get(t) {\n        let e = this.root;\n        for (;!e.isEmpty(); ) {\n            const n = this.comparator(t, e.key);\n            if (0 === n) return e.value;\n            n < 0 ? e = e.left : n > 0 && (e = e.right);\n        }\n        return null;\n    }\n    // Returns the index of the element in this sorted map, or -1 if it doesn't\n    // exist.\n    indexOf(t) {\n        // Number of nodes that were pruned when descending right\n        let e = 0, n = this.root;\n        for (;!n.isEmpty(); ) {\n            const s = this.comparator(t, n.key);\n            if (0 === s) return e + n.left.size;\n            s < 0 ? n = n.left : (\n            // Count all nodes left of the node plus the node itself\n            e += n.left.size + 1, n = n.right);\n        }\n        // Node not found\n                return -1;\n    }\n    isEmpty() {\n        return this.root.isEmpty();\n    }\n    // Returns the total number of nodes in the map.\n    get size() {\n        return this.root.size;\n    }\n    // Returns the minimum key in the map.\n    minKey() {\n        return this.root.minKey();\n    }\n    // Returns the maximum key in the map.\n    maxKey() {\n        return this.root.maxKey();\n    }\n    // Traverses the map in key order and calls the specified action function\n    // for each key/value pair. If action returns true, traversal is aborted.\n    // Returns the first truthy value returned by action, or the last falsey\n    // value returned by action.\n    inorderTraversal(t) {\n        return this.root.inorderTraversal(t);\n    }\n    forEach(t) {\n        this.inorderTraversal(((e, n) => (t(e, n), !1)));\n    }\n    toString() {\n        const t = [];\n        return this.inorderTraversal(((e, n) => (t.push(`${e}:${n}`), !1))), `{${t.join(\", \")}}`;\n    }\n    // Traverses the map in reverse key order and calls the specified action\n    // function for each key/value pair. If action returns true, traversal is\n    // aborted.\n    // Returns the first truthy value returned by action, or the last falsey\n    // value returned by action.\n    reverseTraversal(t) {\n        return this.root.reverseTraversal(t);\n    }\n    // Returns an iterator over the SortedMap.\n    getIterator() {\n        return new Bt(this.root, null, this.comparator, !1);\n    }\n    getIteratorFrom(t) {\n        return new Bt(this.root, t, this.comparator, !1);\n    }\n    getReverseIterator() {\n        return new Bt(this.root, null, this.comparator, !0);\n    }\n    getReverseIteratorFrom(t) {\n        return new Bt(this.root, t, this.comparator, !0);\n    }\n}\n\n // end SortedMap\n// An iterator over an LLRBNode.\nclass Bt {\n    constructor(t, e, n, s) {\n        this.isReverse = s, this.nodeStack = [];\n        let i = 1;\n        for (;!t.isEmpty(); ) if (i = e ? n(t.key, e) : 1, \n        // flip the comparison if we're going in reverse\n        e && s && (i *= -1), i < 0) \n        // This node is less than our start key. ignore it\n        t = this.isReverse ? t.left : t.right; else {\n            if (0 === i) {\n                // This node is exactly equal to our start key. Push it on the stack,\n                // but stop iterating;\n                this.nodeStack.push(t);\n                break;\n            }\n            // This node is greater than our start key, add it to the stack and move\n            // to the next one\n            this.nodeStack.push(t), t = this.isReverse ? t.right : t.left;\n        }\n    }\n    getNext() {\n        let t = this.nodeStack.pop();\n        const e = {\n            key: t.key,\n            value: t.value\n        };\n        if (this.isReverse) for (t = t.left; !t.isEmpty(); ) this.nodeStack.push(t), t = t.right; else for (t = t.right; !t.isEmpty(); ) this.nodeStack.push(t), \n        t = t.left;\n        return e;\n    }\n    hasNext() {\n        return this.nodeStack.length > 0;\n    }\n    peek() {\n        if (0 === this.nodeStack.length) return null;\n        const t = this.nodeStack[this.nodeStack.length - 1];\n        return {\n            key: t.key,\n            value: t.value\n        };\n    }\n}\n\n // end SortedMapIterator\n// Represents a node in a Left-leaning Red-Black tree.\nclass Lt {\n    constructor(t, e, n, s, i) {\n        this.key = t, this.value = e, this.color = null != n ? n : Lt.RED, this.left = null != s ? s : Lt.EMPTY, \n        this.right = null != i ? i : Lt.EMPTY, this.size = this.left.size + 1 + this.right.size;\n    }\n    // Returns a copy of the current node, optionally replacing pieces of it.\n    copy(t, e, n, s, i) {\n        return new Lt(null != t ? t : this.key, null != e ? e : this.value, null != n ? n : this.color, null != s ? s : this.left, null != i ? i : this.right);\n    }\n    isEmpty() {\n        return !1;\n    }\n    // Traverses the tree in key order and calls the specified action function\n    // for each node. If action returns true, traversal is aborted.\n    // Returns the first truthy value returned by action, or the last falsey\n    // value returned by action.\n    inorderTraversal(t) {\n        return this.left.inorderTraversal(t) || t(this.key, this.value) || this.right.inorderTraversal(t);\n    }\n    // Traverses the tree in reverse key order and calls the specified action\n    // function for each node. If action returns true, traversal is aborted.\n    // Returns the first truthy value returned by action, or the last falsey\n    // value returned by action.\n    reverseTraversal(t) {\n        return this.right.reverseTraversal(t) || t(this.key, this.value) || this.left.reverseTraversal(t);\n    }\n    // Returns the minimum node in the tree.\n    min() {\n        return this.left.isEmpty() ? this : this.left.min();\n    }\n    // Returns the maximum key in the tree.\n    minKey() {\n        return this.min().key;\n    }\n    // Returns the maximum key in the tree.\n    maxKey() {\n        return this.right.isEmpty() ? this.key : this.right.maxKey();\n    }\n    // Returns new tree, with the key/value added.\n    insert(t, e, n) {\n        let s = this;\n        const i = n(t, s.key);\n        return s = i < 0 ? s.copy(null, null, null, s.left.insert(t, e, n), null) : 0 === i ? s.copy(null, e, null, null, null) : s.copy(null, null, null, null, s.right.insert(t, e, n)), \n        s.fixUp();\n    }\n    removeMin() {\n        if (this.left.isEmpty()) return Lt.EMPTY;\n        let t = this;\n        return t.left.isRed() || t.left.left.isRed() || (t = t.moveRedLeft()), t = t.copy(null, null, null, t.left.removeMin(), null), \n        t.fixUp();\n    }\n    // Returns new tree, with the specified item removed.\n    remove(t, e) {\n        let n, s = this;\n        if (e(t, s.key) < 0) s.left.isEmpty() || s.left.isRed() || s.left.left.isRed() || (s = s.moveRedLeft()), \n        s = s.copy(null, null, null, s.left.remove(t, e), null); else {\n            if (s.left.isRed() && (s = s.rotateRight()), s.right.isEmpty() || s.right.isRed() || s.right.left.isRed() || (s = s.moveRedRight()), \n            0 === e(t, s.key)) {\n                if (s.right.isEmpty()) return Lt.EMPTY;\n                n = s.right.min(), s = s.copy(n.key, n.value, null, null, s.right.removeMin());\n            }\n            s = s.copy(null, null, null, null, s.right.remove(t, e));\n        }\n        return s.fixUp();\n    }\n    isRed() {\n        return this.color;\n    }\n    // Returns new tree after performing any needed rotations.\n    fixUp() {\n        let t = this;\n        return t.right.isRed() && !t.left.isRed() && (t = t.rotateLeft()), t.left.isRed() && t.left.left.isRed() && (t = t.rotateRight()), \n        t.left.isRed() && t.right.isRed() && (t = t.colorFlip()), t;\n    }\n    moveRedLeft() {\n        let t = this.colorFlip();\n        return t.right.left.isRed() && (t = t.copy(null, null, null, null, t.right.rotateRight()), \n        t = t.rotateLeft(), t = t.colorFlip()), t;\n    }\n    moveRedRight() {\n        let t = this.colorFlip();\n        return t.left.left.isRed() && (t = t.rotateRight(), t = t.colorFlip()), t;\n    }\n    rotateLeft() {\n        const t = this.copy(null, null, Lt.RED, null, this.right.left);\n        return this.right.copy(null, null, this.color, t, null);\n    }\n    rotateRight() {\n        const t = this.copy(null, null, Lt.RED, this.left.right, null);\n        return this.left.copy(null, null, this.color, null, t);\n    }\n    colorFlip() {\n        const t = this.left.copy(null, null, !this.left.color, null, null), e = this.right.copy(null, null, !this.right.color, null, null);\n        return this.copy(null, null, !this.color, t, e);\n    }\n    // For testing.\n    checkMaxDepth() {\n        const t = this.check();\n        return Math.pow(2, t) <= this.size + 1;\n    }\n    // In a balanced RB tree, the black-depth (number of black nodes) from root to\n    // leaves is equal on both sides.  This function verifies that or asserts.\n    check() {\n        if (this.isRed() && this.left.isRed()) throw k();\n        if (this.right.isRed()) throw k();\n        const t = this.left.check();\n        if (t !== this.right.check()) throw k();\n        return t + (this.isRed() ? 0 : 1);\n    }\n}\n\n // end LLRBNode\n// Empty node is shared between all LLRB trees.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nLt.EMPTY = null, Lt.RED = !0, Lt.BLACK = !1;\n\n// end LLRBEmptyNode\nLt.EMPTY = new \n// Represents an empty node (a leaf node in the Red-Black Tree).\nclass {\n    constructor() {\n        this.size = 0;\n    }\n    get key() {\n        throw k();\n    }\n    get value() {\n        throw k();\n    }\n    get color() {\n        throw k();\n    }\n    get left() {\n        throw k();\n    }\n    get right() {\n        throw k();\n    }\n    // Returns a copy of the current node.\n    copy(t, e, n, s, i) {\n        return this;\n    }\n    // Returns a copy of the tree, with the specified key/value added.\n    insert(t, e, n) {\n        return new Lt(t, e);\n    }\n    // Returns a copy of the tree, with the specified key removed.\n    remove(t, e) {\n        return this;\n    }\n    isEmpty() {\n        return !0;\n    }\n    inorderTraversal(t) {\n        return !1;\n    }\n    reverseTraversal(t) {\n        return !1;\n    }\n    minKey() {\n        return null;\n    }\n    maxKey() {\n        return null;\n    }\n    isRed() {\n        return !1;\n    }\n    // For testing.\n    checkMaxDepth() {\n        return !0;\n    }\n    check() {\n        return 0;\n    }\n};\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * SortedSet is an immutable (copy-on-write) collection that holds elements\n * in order specified by the provided comparator.\n *\n * NOTE: if provided comparator returns 0 for two elements, we consider them to\n * be equal!\n */\nclass Ut {\n    constructor(t) {\n        this.comparator = t, this.data = new $t(this.comparator);\n    }\n    has(t) {\n        return null !== this.data.get(t);\n    }\n    first() {\n        return this.data.minKey();\n    }\n    last() {\n        return this.data.maxKey();\n    }\n    get size() {\n        return this.data.size;\n    }\n    indexOf(t) {\n        return this.data.indexOf(t);\n    }\n    /** Iterates elements in order defined by \"comparator\" */    forEach(t) {\n        this.data.inorderTraversal(((e, n) => (t(e), !1)));\n    }\n    /** Iterates over `elem`s such that: range[0] &lt;= elem &lt; range[1]. */    forEachInRange(t, e) {\n        const n = this.data.getIteratorFrom(t[0]);\n        for (;n.hasNext(); ) {\n            const s = n.getNext();\n            if (this.comparator(s.key, t[1]) >= 0) return;\n            e(s.key);\n        }\n    }\n    /**\n     * Iterates over `elem`s such that: start &lt;= elem until false is returned.\n     */    forEachWhile(t, e) {\n        let n;\n        for (n = void 0 !== e ? this.data.getIteratorFrom(e) : this.data.getIterator(); n.hasNext(); ) {\n            if (!t(n.getNext().key)) return;\n        }\n    }\n    /** Finds the least element greater than or equal to `elem`. */    firstAfterOrEqual(t) {\n        const e = this.data.getIteratorFrom(t);\n        return e.hasNext() ? e.getNext().key : null;\n    }\n    getIterator() {\n        return new qt(this.data.getIterator());\n    }\n    getIteratorFrom(t) {\n        return new qt(this.data.getIteratorFrom(t));\n    }\n    /** Inserts or updates an element */    add(t) {\n        return this.copy(this.data.remove(t).insert(t, !0));\n    }\n    /** Deletes an element */    delete(t) {\n        return this.has(t) ? this.copy(this.data.remove(t)) : this;\n    }\n    isEmpty() {\n        return this.data.isEmpty();\n    }\n    unionWith(t) {\n        let e = this;\n        // Make sure `result` always refers to the larger one of the two sets.\n                return e.size < t.size && (e = t, t = this), t.forEach((t => {\n            e = e.add(t);\n        })), e;\n    }\n    isEqual(t) {\n        if (!(t instanceof Ut)) return !1;\n        if (this.size !== t.size) return !1;\n        const e = this.data.getIterator(), n = t.data.getIterator();\n        for (;e.hasNext(); ) {\n            const t = e.getNext().key, s = n.getNext().key;\n            if (0 !== this.comparator(t, s)) return !1;\n        }\n        return !0;\n    }\n    toArray() {\n        const t = [];\n        return this.forEach((e => {\n            t.push(e);\n        })), t;\n    }\n    toString() {\n        const t = [];\n        return this.forEach((e => t.push(e))), \"SortedSet(\" + t.toString() + \")\";\n    }\n    copy(t) {\n        const e = new Ut(this.comparator);\n        return e.data = t, e;\n    }\n}\n\nclass qt {\n    constructor(t) {\n        this.iter = t;\n    }\n    getNext() {\n        return this.iter.getNext().key;\n    }\n    hasNext() {\n        return this.iter.hasNext();\n    }\n}\n\n/**\n * Compares two sorted sets for equality using their natural ordering. The\n * method computes the intersection and invokes `onAdd` for every element that\n * is in `after` but not `before`. `onRemove` is invoked for every element in\n * `before` but missing from `after`.\n *\n * The method creates a copy of both `before` and `after` and runs in O(n log\n * n), where n is the size of the two lists.\n *\n * @param before - The elements that exist in the original set.\n * @param after - The elements to diff against the original set.\n * @param comparator - The comparator for the elements in before and after.\n * @param onAdd - A function to invoke for every element that is part of `\n * after` but not `before`.\n * @param onRemove - A function to invoke for every element that is part of\n * `before` but not `after`.\n */\n/**\n * Returns the next element from the iterator or `undefined` if none available.\n */\nfunction Kt(t) {\n    return t.hasNext() ? t.getNext() : void 0;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Provides a set of fields that can be used to partially patch a document.\n * FieldMask is used in conjunction with ObjectValue.\n * Examples:\n *   foo - Overwrites foo entirely with the provided value. If foo is not\n *         present in the companion ObjectValue, the field is deleted.\n *   foo.bar - Overwrites only the field bar of the object foo.\n *             If foo is not an object, foo is replaced with an object\n *             containing foo\n */ class Gt {\n    constructor(t) {\n        this.fields = t, \n        // TODO(dimond): validation of FieldMask\n        // Sort the field mask to support `FieldMask.isEqual()` and assert below.\n        t.sort(ot.comparator);\n    }\n    static empty() {\n        return new Gt([]);\n    }\n    /**\n     * Returns a new FieldMask object that is the result of adding all the given\n     * fields paths to this field mask.\n     */    unionWith(t) {\n        let e = new Ut(ot.comparator);\n        for (const t of this.fields) e = e.add(t);\n        for (const n of t) e = e.add(n);\n        return new Gt(e.toArray());\n    }\n    /**\n     * Verifies that `fieldPath` is included by at least one field in this field\n     * mask.\n     *\n     * This is an O(n) operation, where `n` is the size of the field mask.\n     */    covers(t) {\n        for (const e of this.fields) if (e.isPrefixOf(t)) return !0;\n        return !1;\n    }\n    isEqual(t) {\n        return Z(this.fields, t.fields, ((t, e) => t.isEqual(e)));\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Converts a Base64 encoded string to a binary string. */\n/** True if and only if the Base64 conversion functions are available. */\nfunction Qt() {\n    return \"undefined\" != typeof atob;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Immutable class that represents a \"proto\" byte string.\n *\n * Proto byte strings can either be Base64-encoded strings or Uint8Arrays when\n * sent on the wire. This class abstracts away this differentiation by holding\n * the proto byte string in a common class that must be converted into a string\n * before being sent as a proto.\n * @internal\n */ class jt {\n    constructor(t) {\n        this.binaryString = t;\n    }\n    static fromBase64String(t) {\n        const e = atob(t);\n        return new jt(e);\n    }\n    static fromUint8Array(t) {\n        // TODO(indexing); Remove the copy of the byte string here as this method\n        // is frequently called during indexing.\n        const e = \n        /**\n * Helper function to convert an Uint8array to a binary string.\n */\n        function(t) {\n            let e = \"\";\n            for (let n = 0; n < t.length; ++n) e += String.fromCharCode(t[n]);\n            return e;\n        }\n        /**\n * Helper function to convert a binary string to an Uint8Array.\n */ (t);\n        return new jt(e);\n    }\n    [Symbol.iterator]() {\n        let t = 0;\n        return {\n            next: () => t < this.binaryString.length ? {\n                value: this.binaryString.charCodeAt(t++),\n                done: !1\n            } : {\n                value: void 0,\n                done: !0\n            }\n        };\n    }\n    toBase64() {\n        return t = this.binaryString, btoa(t);\n        /** Converts a binary string to a Base64 encoded string. */\n        var t;\n    }\n    toUint8Array() {\n        return function(t) {\n            const e = new Uint8Array(t.length);\n            for (let n = 0; n < t.length; n++) e[n] = t.charCodeAt(n);\n            return e;\n        }\n        /**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n        // A RegExp matching ISO 8601 UTC timestamps with optional fraction.\n        (this.binaryString);\n    }\n    approximateByteSize() {\n        return 2 * this.binaryString.length;\n    }\n    compareTo(t) {\n        return X(this.binaryString, t.binaryString);\n    }\n    isEqual(t) {\n        return this.binaryString === t.binaryString;\n    }\n}\n\njt.EMPTY_BYTE_STRING = new jt(\"\");\n\nconst Wt = new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);\n\n/**\n * Converts the possible Proto values for a timestamp value into a \"seconds and\n * nanos\" representation.\n */ function zt(t) {\n    // The json interface (for the browser) will return an iso timestamp string,\n    // while the proto js library (for node) will return a\n    // google.protobuf.Timestamp instance.\n    if (M(!!t), \"string\" == typeof t) {\n        // The date string can have higher precision (nanos) than the Date class\n        // (millis), so we do some custom parsing here.\n        // Parse the nanos right out of the string.\n        let e = 0;\n        const n = Wt.exec(t);\n        if (M(!!n), n[1]) {\n            // Pad the fraction out to 9 digits (nanos).\n            let t = n[1];\n            t = (t + \"000000000\").substr(0, 9), e = Number(t);\n        }\n        // Parse the date to get the seconds.\n                const s = new Date(t);\n        return {\n            seconds: Math.floor(s.getTime() / 1e3),\n            nanos: e\n        };\n    }\n    return {\n        seconds: Ht(t.seconds),\n        nanos: Ht(t.nanos)\n    };\n}\n\n/**\n * Converts the possible Proto types for numbers into a JavaScript number.\n * Returns 0 if the value is not numeric.\n */ function Ht(t) {\n    // TODO(bjornick): Handle int64 greater than 53 bits.\n    return \"number\" == typeof t ? t : \"string\" == typeof t ? Number(t) : 0;\n}\n\n/** Converts the possible Proto types for Blobs into a ByteString. */ function Jt(t) {\n    return \"string\" == typeof t ? jt.fromBase64String(t) : jt.fromUint8Array(t);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents a locally-applied ServerTimestamp.\n *\n * Server Timestamps are backed by MapValues that contain an internal field\n * `__type__` with a value of `server_timestamp`. The previous value and local\n * write time are stored in its `__previous_value__` and `__local_write_time__`\n * fields respectively.\n *\n * Notes:\n * - ServerTimestampValue instances are created as the result of applying a\n *   transform. They can only exist in the local view of a document. Therefore\n *   they do not need to be parsed or serialized.\n * - When evaluated locally (e.g. for snapshot.data()), they by default\n *   evaluate to `null`. This behavior can be configured by passing custom\n *   FieldValueOptions to value().\n * - With respect to other ServerTimestampValues, they sort by their\n *   localWriteTime.\n */ function Yt(t) {\n    var e, n;\n    return \"server_timestamp\" === (null === (n = ((null === (e = null == t ? void 0 : t.mapValue) || void 0 === e ? void 0 : e.fields) || {}).__type__) || void 0 === n ? void 0 : n.stringValue);\n}\n\n/**\n * Creates a new ServerTimestamp proto value (using the internal format).\n */\n/**\n * Returns the value of the field before this ServerTimestamp was set.\n *\n * Preserving the previous values allows the user to display the last resoled\n * value until the backend responds with the timestamp.\n */\nfunction Xt(t) {\n    const e = t.mapValue.fields.__previous_value__;\n    return Yt(e) ? Xt(e) : e;\n}\n\n/**\n * Returns the local time at which this timestamp was first set.\n */ function Zt(t) {\n    const e = zt(t.mapValue.fields.__local_write_time__.timestampValue);\n    return new et(e.seconds, e.nanos);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class te {\n    /**\n     * Constructs a DatabaseInfo using the provided host, databaseId and\n     * persistenceKey.\n     *\n     * @param databaseId - The database to use.\n     * @param appId - The Firebase App Id.\n     * @param persistenceKey - A unique identifier for this Firestore's local\n     * storage (used in conjunction with the databaseId).\n     * @param host - The Firestore backend host to connect to.\n     * @param ssl - Whether to use SSL when connecting.\n     * @param forceLongPolling - Whether to use the forceLongPolling option\n     * when using WebChannel as the network transport.\n     * @param autoDetectLongPolling - Whether to use the detectBufferingProxy\n     * option when using WebChannel as the network transport.\n     * @param useFetchStreams Whether to use the Fetch API instead of\n     * XMLHTTPRequest\n     */\n    constructor(t, e, n, s, i, r, o, u) {\n        this.databaseId = t, this.appId = e, this.persistenceKey = n, this.host = s, this.ssl = i, \n        this.forceLongPolling = r, this.autoDetectLongPolling = o, this.useFetchStreams = u;\n    }\n}\n\n/** The default database name for a project. */\n/**\n * Represents the database ID a Firestore client is associated with.\n * @internal\n */\nclass ee {\n    constructor(t, e) {\n        this.projectId = t, this.database = e || \"(default)\";\n    }\n    static empty() {\n        return new ee(\"\", \"\");\n    }\n    get isDefaultDatabase() {\n        return \"(default)\" === this.database;\n    }\n    isEqual(t) {\n        return t instanceof ee && t.projectId === this.projectId && t.database === this.database;\n    }\n}\n\n/**\n * Returns whether a variable is either undefined or null.\n */\nfunction ne(t) {\n    return null == t;\n}\n\n/** Returns whether the value represents -0. */ function se(t) {\n    // Detect if the value is -0.0. Based on polyfill from\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n    return 0 === t && 1 / t == -1 / 0;\n}\n\n/**\n * Returns whether a value is an integer and in the safe integer range\n * @param value - The value to test for being an integer and in the safe range\n */ function ie(t) {\n    return \"number\" == typeof t && Number.isInteger(t) && !se(t) && t <= Number.MAX_SAFE_INTEGER && t >= Number.MIN_SAFE_INTEGER;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const re = {\n    mapValue: {\n        fields: {\n            __type__: {\n                stringValue: \"__max__\"\n            }\n        }\n    }\n}, oe = {\n    nullValue: \"NULL_VALUE\"\n};\n\n/** Extracts the backend's type order for the provided value. */\nfunction ue(t) {\n    return \"nullValue\" in t ? 0 /* NullValue */ : \"booleanValue\" in t ? 1 /* BooleanValue */ : \"integerValue\" in t || \"doubleValue\" in t ? 2 /* NumberValue */ : \"timestampValue\" in t ? 3 /* TimestampValue */ : \"stringValue\" in t ? 5 /* StringValue */ : \"bytesValue\" in t ? 6 /* BlobValue */ : \"referenceValue\" in t ? 7 /* RefValue */ : \"geoPointValue\" in t ? 8 /* GeoPointValue */ : \"arrayValue\" in t ? 9 /* ArrayValue */ : \"mapValue\" in t ? Yt(t) ? 4 /* ServerTimestampValue */ : Te(t) ? 9007199254740991 /* MaxValue */ : 10 /* ObjectValue */ : k();\n}\n\n/** Tests `left` and `right` for equality based on the backend semantics. */ function ce(t, e) {\n    if (t === e) return !0;\n    const n = ue(t);\n    if (n !== ue(e)) return !1;\n    switch (n) {\n      case 0 /* NullValue */ :\n      case 9007199254740991 /* MaxValue */ :\n        return !0;\n\n      case 1 /* BooleanValue */ :\n        return t.booleanValue === e.booleanValue;\n\n      case 4 /* ServerTimestampValue */ :\n        return Zt(t).isEqual(Zt(e));\n\n      case 3 /* TimestampValue */ :\n        return function(t, e) {\n            if (\"string\" == typeof t.timestampValue && \"string\" == typeof e.timestampValue && t.timestampValue.length === e.timestampValue.length) \n            // Use string equality for ISO 8601 timestamps\n            return t.timestampValue === e.timestampValue;\n            const n = zt(t.timestampValue), s = zt(e.timestampValue);\n            return n.seconds === s.seconds && n.nanos === s.nanos;\n        }(t, e);\n\n      case 5 /* StringValue */ :\n        return t.stringValue === e.stringValue;\n\n      case 6 /* BlobValue */ :\n        return function(t, e) {\n            return Jt(t.bytesValue).isEqual(Jt(e.bytesValue));\n        }(t, e);\n\n      case 7 /* RefValue */ :\n        return t.referenceValue === e.referenceValue;\n\n      case 8 /* GeoPointValue */ :\n        return function(t, e) {\n            return Ht(t.geoPointValue.latitude) === Ht(e.geoPointValue.latitude) && Ht(t.geoPointValue.longitude) === Ht(e.geoPointValue.longitude);\n        }(t, e);\n\n      case 2 /* NumberValue */ :\n        return function(t, e) {\n            if (\"integerValue\" in t && \"integerValue\" in e) return Ht(t.integerValue) === Ht(e.integerValue);\n            if (\"doubleValue\" in t && \"doubleValue\" in e) {\n                const n = Ht(t.doubleValue), s = Ht(e.doubleValue);\n                return n === s ? se(n) === se(s) : isNaN(n) && isNaN(s);\n            }\n            return !1;\n        }(t, e);\n\n      case 9 /* ArrayValue */ :\n        return Z(t.arrayValue.values || [], e.arrayValue.values || [], ce);\n\n      case 10 /* ObjectValue */ :\n        return function(t, e) {\n            const n = t.mapValue.fields || {}, s = e.mapValue.fields || {};\n            if (Mt(n) !== Mt(s)) return !1;\n            for (const t in n) if (n.hasOwnProperty(t) && (void 0 === s[t] || !ce(n[t], s[t]))) return !1;\n            return !0;\n        }\n        /** Returns true if the ArrayValue contains the specified element. */ (t, e);\n\n      default:\n        return k();\n    }\n}\n\nfunction ae(t, e) {\n    return void 0 !== (t.values || []).find((t => ce(t, e)));\n}\n\nfunction he(t, e) {\n    if (t === e) return 0;\n    const n = ue(t), s = ue(e);\n    if (n !== s) return X(n, s);\n    switch (n) {\n      case 0 /* NullValue */ :\n      case 9007199254740991 /* MaxValue */ :\n        return 0;\n\n      case 1 /* BooleanValue */ :\n        return X(t.booleanValue, e.booleanValue);\n\n      case 2 /* NumberValue */ :\n        return function(t, e) {\n            const n = Ht(t.integerValue || t.doubleValue), s = Ht(e.integerValue || e.doubleValue);\n            return n < s ? -1 : n > s ? 1 : n === s ? 0 : \n            // one or both are NaN.\n            isNaN(n) ? isNaN(s) ? 0 : -1 : 1;\n        }(t, e);\n\n      case 3 /* TimestampValue */ :\n        return le(t.timestampValue, e.timestampValue);\n\n      case 4 /* ServerTimestampValue */ :\n        return le(Zt(t), Zt(e));\n\n      case 5 /* StringValue */ :\n        return X(t.stringValue, e.stringValue);\n\n      case 6 /* BlobValue */ :\n        return function(t, e) {\n            const n = Jt(t), s = Jt(e);\n            return n.compareTo(s);\n        }(t.bytesValue, e.bytesValue);\n\n      case 7 /* RefValue */ :\n        return function(t, e) {\n            const n = t.split(\"/\"), s = e.split(\"/\");\n            for (let t = 0; t < n.length && t < s.length; t++) {\n                const e = X(n[t], s[t]);\n                if (0 !== e) return e;\n            }\n            return X(n.length, s.length);\n        }(t.referenceValue, e.referenceValue);\n\n      case 8 /* GeoPointValue */ :\n        return function(t, e) {\n            const n = X(Ht(t.latitude), Ht(e.latitude));\n            if (0 !== n) return n;\n            return X(Ht(t.longitude), Ht(e.longitude));\n        }(t.geoPointValue, e.geoPointValue);\n\n      case 9 /* ArrayValue */ :\n        return function(t, e) {\n            const n = t.values || [], s = e.values || [];\n            for (let t = 0; t < n.length && t < s.length; ++t) {\n                const e = he(n[t], s[t]);\n                if (e) return e;\n            }\n            return X(n.length, s.length);\n        }(t.arrayValue, e.arrayValue);\n\n      case 10 /* ObjectValue */ :\n        return function(t, e) {\n            if (t === re.mapValue && e === re.mapValue) return 0;\n            if (t === re.mapValue) return 1;\n            if (e === re.mapValue) return -1;\n            const n = t.fields || {}, s = Object.keys(n), i = e.fields || {}, r = Object.keys(i);\n            // Even though MapValues are likely sorted correctly based on their insertion\n            // order (e.g. when received from the backend), local modifications can bring\n            // elements out of order. We need to re-sort the elements to ensure that\n            // canonical IDs are independent of insertion order.\n            s.sort(), r.sort();\n            for (let t = 0; t < s.length && t < r.length; ++t) {\n                const e = X(s[t], r[t]);\n                if (0 !== e) return e;\n                const o = he(n[s[t]], i[r[t]]);\n                if (0 !== o) return o;\n            }\n            return X(s.length, r.length);\n        }\n        /**\n * Generates the canonical ID for the provided field value (as used in Target\n * serialization).\n */ (t.mapValue, e.mapValue);\n\n      default:\n        throw k();\n    }\n}\n\nfunction le(t, e) {\n    if (\"string\" == typeof t && \"string\" == typeof e && t.length === e.length) return X(t, e);\n    const n = zt(t), s = zt(e), i = X(n.seconds, s.seconds);\n    return 0 !== i ? i : X(n.nanos, s.nanos);\n}\n\nfunction fe(t) {\n    return de(t);\n}\n\nfunction de(t) {\n    return \"nullValue\" in t ? \"null\" : \"booleanValue\" in t ? \"\" + t.booleanValue : \"integerValue\" in t ? \"\" + t.integerValue : \"doubleValue\" in t ? \"\" + t.doubleValue : \"timestampValue\" in t ? function(t) {\n        const e = zt(t);\n        return `time(${e.seconds},${e.nanos})`;\n    }(t.timestampValue) : \"stringValue\" in t ? t.stringValue : \"bytesValue\" in t ? Jt(t.bytesValue).toBase64() : \"referenceValue\" in t ? (n = t.referenceValue, \n    ut.fromName(n).toString()) : \"geoPointValue\" in t ? `geo(${(e = t.geoPointValue).latitude},${e.longitude})` : \"arrayValue\" in t ? function(t) {\n        let e = \"[\", n = !0;\n        for (const s of t.values || []) n ? n = !1 : e += \",\", e += de(s);\n        return e + \"]\";\n    }\n    /** Returns a reference value for the provided database and key. */ (t.arrayValue) : \"mapValue\" in t ? function(t) {\n        // Iteration order in JavaScript is not guaranteed. To ensure that we generate\n        // matching canonical IDs for identical maps, we need to sort the keys.\n        const e = Object.keys(t.fields || {}).sort();\n        let n = \"{\", s = !0;\n        for (const i of e) s ? s = !1 : n += \",\", n += `${i}:${de(t.fields[i])}`;\n        return n + \"}\";\n    }(t.mapValue) : k();\n    var e, n;\n}\n\nfunction _e(t, e) {\n    return {\n        referenceValue: `projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`\n    };\n}\n\n/** Returns true if `value` is an IntegerValue . */ function we(t) {\n    return !!t && \"integerValue\" in t;\n}\n\n/** Returns true if `value` is a DoubleValue. */\n/** Returns true if `value` is an ArrayValue. */\nfunction me(t) {\n    return !!t && \"arrayValue\" in t;\n}\n\n/** Returns true if `value` is a NullValue. */ function ge(t) {\n    return !!t && \"nullValue\" in t;\n}\n\n/** Returns true if `value` is NaN. */ function ye(t) {\n    return !!t && \"doubleValue\" in t && isNaN(Number(t.doubleValue));\n}\n\n/** Returns true if `value` is a MapValue. */ function pe(t) {\n    return !!t && \"mapValue\" in t;\n}\n\n/** Creates a deep copy of `source`. */ function Ie(t) {\n    if (t.geoPointValue) return {\n        geoPointValue: Object.assign({}, t.geoPointValue)\n    };\n    if (t.timestampValue && \"object\" == typeof t.timestampValue) return {\n        timestampValue: Object.assign({}, t.timestampValue)\n    };\n    if (t.mapValue) {\n        const e = {\n            mapValue: {\n                fields: {}\n            }\n        };\n        return Ot(t.mapValue.fields, ((t, n) => e.mapValue.fields[t] = Ie(n))), e;\n    }\n    if (t.arrayValue) {\n        const e = {\n            arrayValue: {\n                values: []\n            }\n        };\n        for (let n = 0; n < (t.arrayValue.values || []).length; ++n) e.arrayValue.values[n] = Ie(t.arrayValue.values[n]);\n        return e;\n    }\n    return Object.assign({}, t);\n}\n\n/** Returns true if the Value represents the canonical {@link #MAX_VALUE} . */ function Te(t) {\n    return \"__max__\" === (((t.mapValue || {}).fields || {}).__type__ || {}).stringValue;\n}\n\n/** Returns the lowest value for the given value type (inclusive). */ function Ee(t) {\n    return \"nullValue\" in t ? oe : \"booleanValue\" in t ? {\n        booleanValue: !1\n    } : \"integerValue\" in t || \"doubleValue\" in t ? {\n        doubleValue: NaN\n    } : \"timestampValue\" in t ? {\n        timestampValue: {\n            seconds: Number.MIN_SAFE_INTEGER\n        }\n    } : \"stringValue\" in t ? {\n        stringValue: \"\"\n    } : \"bytesValue\" in t ? {\n        bytesValue: \"\"\n    } : \"referenceValue\" in t ? _e(ee.empty(), ut.empty()) : \"geoPointValue\" in t ? {\n        geoPointValue: {\n            latitude: -90,\n            longitude: -180\n        }\n    } : \"arrayValue\" in t ? {\n        arrayValue: {}\n    } : \"mapValue\" in t ? {\n        mapValue: {}\n    } : k();\n}\n\n/** Returns the largest value for the given value type (exclusive). */ function Ae(t) {\n    return \"nullValue\" in t ? {\n        booleanValue: !1\n    } : \"booleanValue\" in t ? {\n        doubleValue: NaN\n    } : \"integerValue\" in t || \"doubleValue\" in t ? {\n        timestampValue: {\n            seconds: Number.MIN_SAFE_INTEGER\n        }\n    } : \"timestampValue\" in t ? {\n        stringValue: \"\"\n    } : \"stringValue\" in t ? {\n        bytesValue: \"\"\n    } : \"bytesValue\" in t ? _e(ee.empty(), ut.empty()) : \"referenceValue\" in t ? {\n        geoPointValue: {\n            latitude: -90,\n            longitude: -180\n        }\n    } : \"geoPointValue\" in t ? {\n        arrayValue: {}\n    } : \"arrayValue\" in t ? {\n        mapValue: {}\n    } : \"mapValue\" in t ? re : k();\n}\n\nfunction Re(t, e) {\n    const n = he(t.value, e.value);\n    return 0 !== n ? n : t.inclusive && !e.inclusive ? -1 : !t.inclusive && e.inclusive ? 1 : 0;\n}\n\nfunction be(t, e) {\n    const n = he(t.value, e.value);\n    return 0 !== n ? n : t.inclusive && !e.inclusive ? 1 : !t.inclusive && e.inclusive ? -1 : 0;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An ObjectValue represents a MapValue in the Firestore Proto and offers the\n * ability to add and remove fields (via the ObjectValueBuilder).\n */ class Pe {\n    constructor(t) {\n        this.value = t;\n    }\n    static empty() {\n        return new Pe({\n            mapValue: {}\n        });\n    }\n    /**\n     * Returns the value at the given path or null.\n     *\n     * @param path - the path to search\n     * @returns The value at the path or null if the path is not set.\n     */    field(t) {\n        if (t.isEmpty()) return this.value;\n        {\n            let e = this.value;\n            for (let n = 0; n < t.length - 1; ++n) if (e = (e.mapValue.fields || {})[t.get(n)], \n            !pe(e)) return null;\n            return e = (e.mapValue.fields || {})[t.lastSegment()], e || null;\n        }\n    }\n    /**\n     * Sets the field to the provided value.\n     *\n     * @param path - The field path to set.\n     * @param value - The value to set.\n     */    set(t, e) {\n        this.getFieldsMap(t.popLast())[t.lastSegment()] = Ie(e);\n    }\n    /**\n     * Sets the provided fields to the provided values.\n     *\n     * @param data - A map of fields to values (or null for deletes).\n     */    setAll(t) {\n        let e = ot.emptyPath(), n = {}, s = [];\n        t.forEach(((t, i) => {\n            if (!e.isImmediateParentOf(i)) {\n                // Insert the accumulated changes at this parent location\n                const t = this.getFieldsMap(e);\n                this.applyChanges(t, n, s), n = {}, s = [], e = i.popLast();\n            }\n            t ? n[i.lastSegment()] = Ie(t) : s.push(i.lastSegment());\n        }));\n        const i = this.getFieldsMap(e);\n        this.applyChanges(i, n, s);\n    }\n    /**\n     * Removes the field at the specified path. If there is no field at the\n     * specified path, nothing is changed.\n     *\n     * @param path - The field path to remove.\n     */    delete(t) {\n        const e = this.field(t.popLast());\n        pe(e) && e.mapValue.fields && delete e.mapValue.fields[t.lastSegment()];\n    }\n    isEqual(t) {\n        return ce(this.value, t.value);\n    }\n    /**\n     * Returns the map that contains the leaf element of `path`. If the parent\n     * entry does not yet exist, or if it is not a map, a new map will be created.\n     */    getFieldsMap(t) {\n        let e = this.value;\n        e.mapValue.fields || (e.mapValue = {\n            fields: {}\n        });\n        for (let n = 0; n < t.length; ++n) {\n            let s = e.mapValue.fields[t.get(n)];\n            pe(s) && s.mapValue.fields || (s = {\n                mapValue: {\n                    fields: {}\n                }\n            }, e.mapValue.fields[t.get(n)] = s), e = s;\n        }\n        return e.mapValue.fields;\n    }\n    /**\n     * Modifies `fieldsMap` by adding, replacing or deleting the specified\n     * entries.\n     */    applyChanges(t, e, n) {\n        Ot(e, ((e, n) => t[e] = n));\n        for (const e of n) delete t[e];\n    }\n    clone() {\n        return new Pe(Ie(this.value));\n    }\n}\n\n/**\n * Returns a FieldMask built from all fields in a MapValue.\n */ function ve(t) {\n    const e = [];\n    return Ot(t.fields, ((t, n) => {\n        const s = new ot([ t ]);\n        if (pe(n)) {\n            const t = ve(n.mapValue).fields;\n            if (0 === t.length) \n            // Preserve the empty map by adding it to the FieldMask.\n            e.push(s); else \n            // For nested and non-empty ObjectValues, add the FieldPath of the\n            // leaf nodes.\n            for (const n of t) e.push(s.child(n));\n        } else \n        // For nested and non-empty ObjectValues, add the FieldPath of the leaf\n        // nodes.\n        e.push(s);\n    })), new Gt(e);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents a document in Firestore with a key, version, data and whether it\n * has local mutations applied to it.\n *\n * Documents can transition between states via `convertToFoundDocument()`,\n * `convertToNoDocument()` and `convertToUnknownDocument()`. If a document does\n * not transition to one of these states even after all mutations have been\n * applied, `isValidDocument()` returns false and the document should be removed\n * from all views.\n */ class Ve {\n    constructor(t, e, n, s, i, r) {\n        this.key = t, this.documentType = e, this.version = n, this.readTime = s, this.data = i, \n        this.documentState = r;\n    }\n    /**\n     * Creates a document with no known version or data, but which can serve as\n     * base document for mutations.\n     */    static newInvalidDocument(t) {\n        return new Ve(t, 0 /* INVALID */ , nt.min(), nt.min(), Pe.empty(), 0 /* SYNCED */);\n    }\n    /**\n     * Creates a new document that is known to exist with the given data at the\n     * given version.\n     */    static newFoundDocument(t, e, n) {\n        return new Ve(t, 1 /* FOUND_DOCUMENT */ , e, nt.min(), n, 0 /* SYNCED */);\n    }\n    /** Creates a new document that is known to not exist at the given version. */    static newNoDocument(t, e) {\n        return new Ve(t, 2 /* NO_DOCUMENT */ , e, nt.min(), Pe.empty(), 0 /* SYNCED */);\n    }\n    /**\n     * Creates a new document that is known to exist at the given version but\n     * whose data is not known (e.g. a document that was updated without a known\n     * base document).\n     */    static newUnknownDocument(t, e) {\n        return new Ve(t, 3 /* UNKNOWN_DOCUMENT */ , e, nt.min(), Pe.empty(), 2 /* HAS_COMMITTED_MUTATIONS */);\n    }\n    /**\n     * Changes the document type to indicate that it exists and that its version\n     * and data are known.\n     */    convertToFoundDocument(t, e) {\n        return this.version = t, this.documentType = 1 /* FOUND_DOCUMENT */ , this.data = e, \n        this.documentState = 0 /* SYNCED */ , this;\n    }\n    /**\n     * Changes the document type to indicate that it doesn't exist at the given\n     * version.\n     */    convertToNoDocument(t) {\n        return this.version = t, this.documentType = 2 /* NO_DOCUMENT */ , this.data = Pe.empty(), \n        this.documentState = 0 /* SYNCED */ , this;\n    }\n    /**\n     * Changes the document type to indicate that it exists at a given version but\n     * that its data is not known (e.g. a document that was updated without a known\n     * base document).\n     */    convertToUnknownDocument(t) {\n        return this.version = t, this.documentType = 3 /* UNKNOWN_DOCUMENT */ , this.data = Pe.empty(), \n        this.documentState = 2 /* HAS_COMMITTED_MUTATIONS */ , this;\n    }\n    setHasCommittedMutations() {\n        return this.documentState = 2 /* HAS_COMMITTED_MUTATIONS */ , this;\n    }\n    setHasLocalMutations() {\n        return this.documentState = 1 /* HAS_LOCAL_MUTATIONS */ , this.version = nt.min(), \n        this;\n    }\n    setReadTime(t) {\n        return this.readTime = t, this;\n    }\n    get hasLocalMutations() {\n        return 1 /* HAS_LOCAL_MUTATIONS */ === this.documentState;\n    }\n    get hasCommittedMutations() {\n        return 2 /* HAS_COMMITTED_MUTATIONS */ === this.documentState;\n    }\n    get hasPendingWrites() {\n        return this.hasLocalMutations || this.hasCommittedMutations;\n    }\n    isValidDocument() {\n        return 0 /* INVALID */ !== this.documentType;\n    }\n    isFoundDocument() {\n        return 1 /* FOUND_DOCUMENT */ === this.documentType;\n    }\n    isNoDocument() {\n        return 2 /* NO_DOCUMENT */ === this.documentType;\n    }\n    isUnknownDocument() {\n        return 3 /* UNKNOWN_DOCUMENT */ === this.documentType;\n    }\n    isEqual(t) {\n        return t instanceof Ve && this.key.isEqual(t.key) && this.version.isEqual(t.version) && this.documentType === t.documentType && this.documentState === t.documentState && this.data.isEqual(t.data);\n    }\n    mutableCopy() {\n        return new Ve(this.key, this.documentType, this.version, this.readTime, this.data.clone(), this.documentState);\n    }\n    toString() {\n        return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`;\n    }\n}\n\n/**\n * Compares the value for field `field` in the provided documents. Throws if\n * the field does not exist in both documents.\n */\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Visible for testing\nclass Se {\n    constructor(t, e = null, n = [], s = [], i = null, r = null, o = null) {\n        this.path = t, this.collectionGroup = e, this.orderBy = n, this.filters = s, this.limit = i, \n        this.startAt = r, this.endAt = o, this.ht = null;\n    }\n}\n\n/**\n * Initializes a Target with a path and optional additional query constraints.\n * Path must currently be empty if this is a collection group query.\n *\n * NOTE: you should always construct `Target` from `Query.toTarget` instead of\n * using this factory method, because `Query` provides an implicit `orderBy`\n * property.\n */ function De(t, e = null, n = [], s = [], i = null, r = null, o = null) {\n    return new Se(t, e, n, s, i, r, o);\n}\n\nfunction Ce(t) {\n    const e = F(t);\n    if (null === e.ht) {\n        let t = e.path.canonicalString();\n        null !== e.collectionGroup && (t += \"|cg:\" + e.collectionGroup), t += \"|f:\", t += e.filters.map((t => {\n            return (e = t).field.canonicalString() + e.op.toString() + fe(e.value);\n            var e;\n        })).join(\",\"), t += \"|ob:\", t += e.orderBy.map((t => function(t) {\n            // TODO(b/29183165): Make this collision robust.\n            return t.field.canonicalString() + t.dir;\n        }(t))).join(\",\"), ne(e.limit) || (t += \"|l:\", t += e.limit), e.startAt && (t += \"|lb:\", \n        t += e.startAt.inclusive ? \"b:\" : \"a:\", t += e.startAt.position.map((t => fe(t))).join(\",\")), \n        e.endAt && (t += \"|ub:\", t += e.endAt.inclusive ? \"a:\" : \"b:\", t += e.endAt.position.map((t => fe(t))).join(\",\")), \n        e.ht = t;\n    }\n    return e.ht;\n}\n\nfunction xe(t) {\n    let e = t.path.canonicalString();\n    return null !== t.collectionGroup && (e += \" collectionGroup=\" + t.collectionGroup), \n    t.filters.length > 0 && (e += `, filters: [${t.filters.map((t => {\n        return `${(e = t).field.canonicalString()} ${e.op} ${fe(e.value)}`;\n        /** Returns a debug description for `filter`. */\n        var e;\n        /** Filter that matches on key fields (i.e. '__name__'). */    })).join(\", \")}]`), \n    ne(t.limit) || (e += \", limit: \" + t.limit), t.orderBy.length > 0 && (e += `, orderBy: [${t.orderBy.map((t => function(t) {\n        return `${t.field.canonicalString()} (${t.dir})`;\n    }(t))).join(\", \")}]`), t.startAt && (e += \", startAt: \", e += t.startAt.inclusive ? \"b:\" : \"a:\", \n    e += t.startAt.position.map((t => fe(t))).join(\",\")), t.endAt && (e += \", endAt: \", \n    e += t.endAt.inclusive ? \"a:\" : \"b:\", e += t.endAt.position.map((t => fe(t))).join(\",\")), \n    `Target(${e})`;\n}\n\nfunction Ne(t, e) {\n    if (t.limit !== e.limit) return !1;\n    if (t.orderBy.length !== e.orderBy.length) return !1;\n    for (let n = 0; n < t.orderBy.length; n++) if (!He(t.orderBy[n], e.orderBy[n])) return !1;\n    if (t.filters.length !== e.filters.length) return !1;\n    for (let i = 0; i < t.filters.length; i++) if (n = t.filters[i], s = e.filters[i], \n    n.op !== s.op || !n.field.isEqual(s.field) || !ce(n.value, s.value)) return !1;\n    var n, s;\n    return t.collectionGroup === e.collectionGroup && (!!t.path.isEqual(e.path) && (!!Ye(t.startAt, e.startAt) && Ye(t.endAt, e.endAt)));\n}\n\nfunction ke(t) {\n    return ut.isDocumentKey(t.path) && null === t.collectionGroup && 0 === t.filters.length;\n}\n\n/** Returns the field filters that target the given field path. */ function Me(t, e) {\n    return t.filters.filter((t => t instanceof $e && t.field.isEqual(e)));\n}\n\n/**\n * Returns the values that are used in ARRAY_CONTAINS or ARRAY_CONTAINS_ANY\n * filters. Returns `null` if there are no such filters.\n */\n/**\n * Returns the value to use as the lower bound for ascending index segment at\n * the provided `fieldPath` (or the upper bound for an descending segment).\n */\nfunction Oe(t, e, n) {\n    let s = oe, i = !0;\n    // Process all filters to find a value for the current field segment\n    for (const n of Me(t, e)) {\n        let t = oe, e = !0;\n        switch (n.op) {\n          case \"<\" /* LESS_THAN */ :\n          case \"<=\" /* LESS_THAN_OR_EQUAL */ :\n            t = Ee(n.value);\n            break;\n\n          case \"==\" /* EQUAL */ :\n          case \"in\" /* IN */ :\n          case \">=\" /* GREATER_THAN_OR_EQUAL */ :\n            t = n.value;\n            break;\n\n          case \">\" /* GREATER_THAN */ :\n            t = n.value, e = !1;\n            break;\n\n          case \"!=\" /* NOT_EQUAL */ :\n          case \"not-in\" /* NOT_IN */ :\n            t = oe;\n // Remaining filters cannot be used as lower bounds.\n                }\n        Re({\n            value: s,\n            inclusive: i\n        }, {\n            value: t,\n            inclusive: e\n        }) < 0 && (s = t, i = e);\n    }\n    // If there is an additional bound, compare the values against the existing\n    // range to see if we can narrow the scope.\n        if (null !== n) for (let r = 0; r < t.orderBy.length; ++r) {\n        if (t.orderBy[r].field.isEqual(e)) {\n            const t = n.position[r];\n            Re({\n                value: s,\n                inclusive: i\n            }, {\n                value: t,\n                inclusive: n.inclusive\n            }) < 0 && (s = t, i = n.inclusive);\n            break;\n        }\n    }\n    return {\n        value: s,\n        inclusive: i\n    };\n}\n\n/**\n * Returns the value to use as the upper bound for ascending index segment at\n * the provided `fieldPath` (or the lower bound for a descending segment).\n */ function Fe(t, e, n) {\n    let s = re, i = !0;\n    // Process all filters to find a value for the current field segment\n    for (const n of Me(t, e)) {\n        let t = re, e = !0;\n        switch (n.op) {\n          case \">=\" /* GREATER_THAN_OR_EQUAL */ :\n          case \">\" /* GREATER_THAN */ :\n            t = Ae(n.value), e = !1;\n            break;\n\n          case \"==\" /* EQUAL */ :\n          case \"in\" /* IN */ :\n          case \"<=\" /* LESS_THAN_OR_EQUAL */ :\n            t = n.value;\n            break;\n\n          case \"<\" /* LESS_THAN */ :\n            t = n.value, e = !1;\n            break;\n\n          case \"!=\" /* NOT_EQUAL */ :\n          case \"not-in\" /* NOT_IN */ :\n            t = re;\n // Remaining filters cannot be used as upper bounds.\n                }\n        be({\n            value: s,\n            inclusive: i\n        }, {\n            value: t,\n            inclusive: e\n        }) > 0 && (s = t, i = e);\n    }\n    // If there is an additional bound, compare the values against the existing\n    // range to see if we can narrow the scope.\n        if (null !== n) for (let r = 0; r < t.orderBy.length; ++r) {\n        if (t.orderBy[r].field.isEqual(e)) {\n            const t = n.position[r];\n            be({\n                value: s,\n                inclusive: i\n            }, {\n                value: t,\n                inclusive: n.inclusive\n            }) > 0 && (s = t, i = n.inclusive);\n            break;\n        }\n    }\n    return {\n        value: s,\n        inclusive: i\n    };\n}\n\n/** Returns the number of segments of a perfect index for this target. */ class $e extends class {} {\n    constructor(t, e, n) {\n        super(), this.field = t, this.op = e, this.value = n;\n    }\n    /**\n     * Creates a filter based on the provided arguments.\n     */    static create(t, e, n) {\n        return t.isKeyField() ? \"in\" /* IN */ === e || \"not-in\" /* NOT_IN */ === e ? this.lt(t, e, n) : new Be(t, e, n) : \"array-contains\" /* ARRAY_CONTAINS */ === e ? new Ke(t, n) : \"in\" /* IN */ === e ? new Ge(t, n) : \"not-in\" /* NOT_IN */ === e ? new Qe(t, n) : \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ === e ? new je(t, n) : new $e(t, e, n);\n    }\n    static lt(t, e, n) {\n        return \"in\" /* IN */ === e ? new Le(t, n) : new Ue(t, n);\n    }\n    matches(t) {\n        const e = t.data.field(this.field);\n        // Types do not have to match in NOT_EQUAL filters.\n                return \"!=\" /* NOT_EQUAL */ === this.op ? null !== e && this.ft(he(e, this.value)) : null !== e && ue(this.value) === ue(e) && this.ft(he(e, this.value));\n        // Only compare types with matching backend order (such as double and int).\n        }\n    ft(t) {\n        switch (this.op) {\n          case \"<\" /* LESS_THAN */ :\n            return t < 0;\n\n          case \"<=\" /* LESS_THAN_OR_EQUAL */ :\n            return t <= 0;\n\n          case \"==\" /* EQUAL */ :\n            return 0 === t;\n\n          case \"!=\" /* NOT_EQUAL */ :\n            return 0 !== t;\n\n          case \">\" /* GREATER_THAN */ :\n            return t > 0;\n\n          case \">=\" /* GREATER_THAN_OR_EQUAL */ :\n            return t >= 0;\n\n          default:\n            return k();\n        }\n    }\n    dt() {\n        return [ \"<\" /* LESS_THAN */ , \"<=\" /* LESS_THAN_OR_EQUAL */ , \">\" /* GREATER_THAN */ , \">=\" /* GREATER_THAN_OR_EQUAL */ , \"!=\" /* NOT_EQUAL */ , \"not-in\" /* NOT_IN */ ].indexOf(this.op) >= 0;\n    }\n}\n\nclass Be extends $e {\n    constructor(t, e, n) {\n        super(t, e, n), this.key = ut.fromName(n.referenceValue);\n    }\n    matches(t) {\n        const e = ut.comparator(t.key, this.key);\n        return this.ft(e);\n    }\n}\n\n/** Filter that matches on key fields within an array. */ class Le extends $e {\n    constructor(t, e) {\n        super(t, \"in\" /* IN */ , e), this.keys = qe(\"in\" /* IN */ , e);\n    }\n    matches(t) {\n        return this.keys.some((e => e.isEqual(t.key)));\n    }\n}\n\n/** Filter that matches on key fields not present within an array. */ class Ue extends $e {\n    constructor(t, e) {\n        super(t, \"not-in\" /* NOT_IN */ , e), this.keys = qe(\"not-in\" /* NOT_IN */ , e);\n    }\n    matches(t) {\n        return !this.keys.some((e => e.isEqual(t.key)));\n    }\n}\n\nfunction qe(t, e) {\n    var n;\n    return ((null === (n = e.arrayValue) || void 0 === n ? void 0 : n.values) || []).map((t => ut.fromName(t.referenceValue)));\n}\n\n/** A Filter that implements the array-contains operator. */ class Ke extends $e {\n    constructor(t, e) {\n        super(t, \"array-contains\" /* ARRAY_CONTAINS */ , e);\n    }\n    matches(t) {\n        const e = t.data.field(this.field);\n        return me(e) && ae(e.arrayValue, this.value);\n    }\n}\n\n/** A Filter that implements the IN operator. */ class Ge extends $e {\n    constructor(t, e) {\n        super(t, \"in\" /* IN */ , e);\n    }\n    matches(t) {\n        const e = t.data.field(this.field);\n        return null !== e && ae(this.value.arrayValue, e);\n    }\n}\n\n/** A Filter that implements the not-in operator. */ class Qe extends $e {\n    constructor(t, e) {\n        super(t, \"not-in\" /* NOT_IN */ , e);\n    }\n    matches(t) {\n        if (ae(this.value.arrayValue, {\n            nullValue: \"NULL_VALUE\"\n        })) return !1;\n        const e = t.data.field(this.field);\n        return null !== e && !ae(this.value.arrayValue, e);\n    }\n}\n\n/** A Filter that implements the array-contains-any operator. */ class je extends $e {\n    constructor(t, e) {\n        super(t, \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ , e);\n    }\n    matches(t) {\n        const e = t.data.field(this.field);\n        return !(!me(e) || !e.arrayValue.values) && e.arrayValue.values.some((t => ae(this.value.arrayValue, t)));\n    }\n}\n\n/**\n * Represents a bound of a query.\n *\n * The bound is specified with the given components representing a position and\n * whether it's just before or just after the position (relative to whatever the\n * query order is).\n *\n * The position represents a logical index position for a query. It's a prefix\n * of values for the (potentially implicit) order by clauses of a query.\n *\n * Bound provides a function to determine whether a document comes before or\n * after a bound. This is influenced by whether the position is just before or\n * just after the provided values.\n */ class We {\n    constructor(t, e) {\n        this.position = t, this.inclusive = e;\n    }\n}\n\n/**\n * An ordering on a field, in some Direction. Direction defaults to ASCENDING.\n */ class ze {\n    constructor(t, e = \"asc\" /* ASCENDING */) {\n        this.field = t, this.dir = e;\n    }\n}\n\nfunction He(t, e) {\n    return t.dir === e.dir && t.field.isEqual(e.field);\n}\n\nfunction Je(t, e, n) {\n    let s = 0;\n    for (let i = 0; i < t.position.length; i++) {\n        const r = e[i], o = t.position[i];\n        if (r.field.isKeyField()) s = ut.comparator(ut.fromName(o.referenceValue), n.key); else {\n            s = he(o, n.data.field(r.field));\n        }\n        if (\"desc\" /* DESCENDING */ === r.dir && (s *= -1), 0 !== s) break;\n    }\n    return s;\n}\n\n/**\n * Returns true if a document sorts after a bound using the provided sort\n * order.\n */ function Ye(t, e) {\n    if (null === t) return null === e;\n    if (null === e) return !1;\n    if (t.inclusive !== e.inclusive || t.position.length !== e.position.length) return !1;\n    for (let n = 0; n < t.position.length; n++) {\n        if (!ce(t.position[n], e.position[n])) return !1;\n    }\n    return !0;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Query encapsulates all the query attributes we support in the SDK. It can\n * be run against the LocalStore, as well as be converted to a `Target` to\n * query the RemoteStore results.\n *\n * Visible for testing.\n */ class Xe {\n    /**\n     * Initializes a Query with a path and optional additional query constraints.\n     * Path must currently be empty if this is a collection group query.\n     */\n    constructor(t, e = null, n = [], s = [], i = null, r = \"F\" /* First */ , o = null, u = null) {\n        this.path = t, this.collectionGroup = e, this.explicitOrderBy = n, this.filters = s, \n        this.limit = i, this.limitType = r, this.startAt = o, this.endAt = u, this._t = null, \n        // The corresponding `Target` of this `Query` instance.\n        this.wt = null, this.startAt, this.endAt;\n    }\n}\n\n/** Creates a new Query instance with the options provided. */ function Ze(t, e, n, s, i, r, o, u) {\n    return new Xe(t, e, n, s, i, r, o, u);\n}\n\n/** Creates a new Query for a query that matches all documents at `path` */ function tn(t) {\n    return new Xe(t);\n}\n\n/**\n * Helper to convert a collection group query into a collection query at a\n * specific path. This is used when executing collection group queries, since\n * we have to split the query into a set of collection queries at multiple\n * paths.\n */\n/**\n * Returns true if this query does not specify any query constraints that\n * could remove results.\n */\nfunction en(t) {\n    return 0 === t.filters.length && null === t.limit && null == t.startAt && null == t.endAt && (0 === t.explicitOrderBy.length || 1 === t.explicitOrderBy.length && t.explicitOrderBy[0].field.isKeyField());\n}\n\nfunction nn(t) {\n    return t.explicitOrderBy.length > 0 ? t.explicitOrderBy[0].field : null;\n}\n\nfunction sn(t) {\n    for (const e of t.filters) if (e.dt()) return e.field;\n    return null;\n}\n\n/**\n * Checks if any of the provided Operators are included in the query and\n * returns the first one that is, or null if none are.\n */\n/**\n * Returns whether the query matches a collection group rather than a specific\n * collection.\n */\nfunction rn(t) {\n    return null !== t.collectionGroup;\n}\n\n/**\n * Returns the implicit order by constraint that is used to execute the Query,\n * which can be different from the order by constraints the user provided (e.g.\n * the SDK and backend always orders by `__name__`).\n */ function on(t) {\n    const e = F(t);\n    if (null === e._t) {\n        e._t = [];\n        const t = sn(e), n = nn(e);\n        if (null !== t && null === n) \n        // In order to implicitly add key ordering, we must also add the\n        // inequality filter field for it to be a valid query.\n        // Note that the default inequality field and key ordering is ascending.\n        t.isKeyField() || e._t.push(new ze(t)), e._t.push(new ze(ot.keyField(), \"asc\" /* ASCENDING */)); else {\n            let t = !1;\n            for (const n of e.explicitOrderBy) e._t.push(n), n.field.isKeyField() && (t = !0);\n            if (!t) {\n                // The order of the implicit key ordering always matches the last\n                // explicit order by\n                const t = e.explicitOrderBy.length > 0 ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir : \"asc\" /* ASCENDING */;\n                e._t.push(new ze(ot.keyField(), t));\n            }\n        }\n    }\n    return e._t;\n}\n\n/**\n * Converts this `Query` instance to it's corresponding `Target` representation.\n */ function un(t) {\n    const e = F(t);\n    if (!e.wt) if (\"F\" /* First */ === e.limitType) e.wt = De(e.path, e.collectionGroup, on(e), e.filters, e.limit, e.startAt, e.endAt); else {\n        // Flip the orderBy directions since we want the last results\n        const t = [];\n        for (const n of on(e)) {\n            const e = \"desc\" /* DESCENDING */ === n.dir ? \"asc\" /* ASCENDING */ : \"desc\" /* DESCENDING */;\n            t.push(new ze(n.field, e));\n        }\n        // We need to swap the cursors to match the now-flipped query ordering.\n                const n = e.endAt ? new We(e.endAt.position, e.endAt.inclusive) : null, s = e.startAt ? new We(e.startAt.position, e.startAt.inclusive) : null;\n        // Now return as a LimitType.First query.\n        e.wt = De(e.path, e.collectionGroup, t, e.filters, e.limit, n, s);\n    }\n    return e.wt;\n}\n\nfunction cn(t, e, n) {\n    return new Xe(t.path, t.collectionGroup, t.explicitOrderBy.slice(), t.filters.slice(), e, n, t.startAt, t.endAt);\n}\n\nfunction an(t, e) {\n    return Ne(un(t), un(e)) && t.limitType === e.limitType;\n}\n\n// TODO(b/29183165): This is used to get a unique string from a query to, for\n// example, use as a dictionary key, but the implementation is subject to\n// collisions. Make it collision-free.\nfunction hn(t) {\n    return `${Ce(un(t))}|lt:${t.limitType}`;\n}\n\nfunction ln(t) {\n    return `Query(target=${xe(un(t))}; limitType=${t.limitType})`;\n}\n\n/** Returns whether `doc` matches the constraints of `query`. */ function fn(t, e) {\n    return e.isFoundDocument() && function(t, e) {\n        const n = e.key.path;\n        return null !== t.collectionGroup ? e.key.hasCollectionId(t.collectionGroup) && t.path.isPrefixOf(n) : ut.isDocumentKey(t.path) ? t.path.isEqual(n) : t.path.isImmediateParentOf(n);\n    }\n    /**\n * A document must have a value for every ordering clause in order to show up\n * in the results.\n */ (t, e) && function(t, e) {\n        for (const n of t.explicitOrderBy) \n        // order by key always matches\n        if (!n.field.isKeyField() && null === e.data.field(n.field)) return !1;\n        return !0;\n    }(t, e) && function(t, e) {\n        for (const n of t.filters) if (!n.matches(e)) return !1;\n        return !0;\n    }\n    /** Makes sure a document is within the bounds, if provided. */ (t, e) && function(t, e) {\n        if (t.startAt && !\n        /**\n * Returns true if a document sorts before a bound using the provided sort\n * order.\n */\n        function(t, e, n) {\n            const s = Je(t, e, n);\n            return t.inclusive ? s <= 0 : s < 0;\n        }(t.startAt, on(t), e)) return !1;\n        if (t.endAt && !function(t, e, n) {\n            const s = Je(t, e, n);\n            return t.inclusive ? s >= 0 : s > 0;\n        }(t.endAt, on(t), e)) return !1;\n        return !0;\n    }\n    /**\n * Returns the collection group that this query targets.\n *\n * PORTING NOTE: This is only used in the Web SDK to facilitate multi-tab\n * synchronization for query results.\n */ (t, e);\n}\n\nfunction dn(t) {\n    return t.collectionGroup || (t.path.length % 2 == 1 ? t.path.lastSegment() : t.path.get(t.path.length - 2));\n}\n\n/**\n * Returns a new comparator function that can be used to compare two documents\n * based on the Query's ordering constraint.\n */ function _n(t) {\n    return (e, n) => {\n        let s = !1;\n        for (const i of on(t)) {\n            const t = wn(i, e, n);\n            if (0 !== t) return t;\n            s = s || i.field.isKeyField();\n        }\n        return 0;\n    };\n}\n\nfunction wn(t, e, n) {\n    const s = t.field.isKeyField() ? ut.comparator(e.key, n.key) : function(t, e, n) {\n        const s = e.data.field(t), i = n.data.field(t);\n        return null !== s && null !== i ? he(s, i) : k();\n    }(t.field, e, n);\n    switch (t.dir) {\n      case \"asc\" /* ASCENDING */ :\n        return s;\n\n      case \"desc\" /* DESCENDING */ :\n        return -1 * s;\n\n      default:\n        return k();\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns an DoubleValue for `value` that is encoded based the serializer's\n * `useProto3Json` setting.\n */ function mn(t, e) {\n    if (t.gt) {\n        if (isNaN(e)) return {\n            doubleValue: \"NaN\"\n        };\n        if (e === 1 / 0) return {\n            doubleValue: \"Infinity\"\n        };\n        if (e === -1 / 0) return {\n            doubleValue: \"-Infinity\"\n        };\n    }\n    return {\n        doubleValue: se(e) ? \"-0\" : e\n    };\n}\n\n/**\n * Returns an IntegerValue for `value`.\n */ function gn(t) {\n    return {\n        integerValue: \"\" + t\n    };\n}\n\n/**\n * Returns a value for a number that's appropriate to put into a proto.\n * The return value is an IntegerValue if it can safely represent the value,\n * otherwise a DoubleValue is returned.\n */ function yn(t, e) {\n    return ie(e) ? gn(e) : mn(t, e);\n}\n\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Used to represent a field transform on a mutation. */ class pn {\n    constructor() {\n        // Make sure that the structural type of `TransformOperation` is unique.\n        // See https://github.com/microsoft/TypeScript/issues/5451\n        this._ = void 0;\n    }\n}\n\n/**\n * Computes the local transform result against the provided `previousValue`,\n * optionally using the provided localWriteTime.\n */ function In(t, e, n) {\n    return t instanceof An ? function(t, e) {\n        const n = {\n            fields: {\n                __type__: {\n                    stringValue: \"server_timestamp\"\n                },\n                __local_write_time__: {\n                    timestampValue: {\n                        seconds: t.seconds,\n                        nanos: t.nanoseconds\n                    }\n                }\n            }\n        };\n        return e && (n.fields.__previous_value__ = e), {\n            mapValue: n\n        };\n    }(n, e) : t instanceof Rn ? bn(t, e) : t instanceof Pn ? vn(t, e) : function(t, e) {\n        // PORTING NOTE: Since JavaScript's integer arithmetic is limited to 53 bit\n        // precision and resolves overflows by reducing precision, we do not\n        // manually cap overflows at 2^63.\n        const n = En(t, e), s = Sn(n) + Sn(t.yt);\n        return we(n) && we(t.yt) ? gn(s) : mn(t.It, s);\n    }(t, e);\n}\n\n/**\n * Computes a final transform result after the transform has been acknowledged\n * by the server, potentially using the server-provided transformResult.\n */ function Tn(t, e, n) {\n    // The server just sends null as the transform result for array operations,\n    // so we have to calculate a result the same as we do for local\n    // applications.\n    return t instanceof Rn ? bn(t, e) : t instanceof Pn ? vn(t, e) : n;\n}\n\n/**\n * If this transform operation is not idempotent, returns the base value to\n * persist for this transform. If a base value is returned, the transform\n * operation is always applied to this base value, even if document has\n * already been updated.\n *\n * Base values provide consistent behavior for non-idempotent transforms and\n * allow us to return the same latency-compensated value even if the backend\n * has already applied the transform operation. The base value is null for\n * idempotent transforms, as they can be re-played even if the backend has\n * already applied them.\n *\n * @returns a base value to store along with the mutation, or null for\n * idempotent transforms.\n */ function En(t, e) {\n    return t instanceof Vn ? we(n = e) || function(t) {\n        return !!t && \"doubleValue\" in t;\n    }\n    /** Returns true if `value` is either an IntegerValue or a DoubleValue. */ (n) ? e : {\n        integerValue: 0\n    } : null;\n    var n;\n}\n\n/** Transforms a value into a server-generated timestamp. */\nclass An extends pn {}\n\n/** Transforms an array value via a union operation. */ class Rn extends pn {\n    constructor(t) {\n        super(), this.elements = t;\n    }\n}\n\nfunction bn(t, e) {\n    const n = Dn(e);\n    for (const e of t.elements) n.some((t => ce(t, e))) || n.push(e);\n    return {\n        arrayValue: {\n            values: n\n        }\n    };\n}\n\n/** Transforms an array value via a remove operation. */ class Pn extends pn {\n    constructor(t) {\n        super(), this.elements = t;\n    }\n}\n\nfunction vn(t, e) {\n    let n = Dn(e);\n    for (const e of t.elements) n = n.filter((t => !ce(t, e)));\n    return {\n        arrayValue: {\n            values: n\n        }\n    };\n}\n\n/**\n * Implements the backend semantics for locally computed NUMERIC_ADD (increment)\n * transforms. Converts all field values to integers or doubles, but unlike the\n * backend does not cap integer values at 2^63. Instead, JavaScript number\n * arithmetic is used and precision loss can occur for values greater than 2^53.\n */ class Vn extends pn {\n    constructor(t, e) {\n        super(), this.It = t, this.yt = e;\n    }\n}\n\nfunction Sn(t) {\n    return Ht(t.integerValue || t.doubleValue);\n}\n\nfunction Dn(t) {\n    return me(t) && t.arrayValue.values ? t.arrayValue.values.slice() : [];\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** A field path and the TransformOperation to perform upon it. */ class Cn {\n    constructor(t, e) {\n        this.field = t, this.transform = e;\n    }\n}\n\nfunction xn(t, e) {\n    return t.field.isEqual(e.field) && function(t, e) {\n        return t instanceof Rn && e instanceof Rn || t instanceof Pn && e instanceof Pn ? Z(t.elements, e.elements, ce) : t instanceof Vn && e instanceof Vn ? ce(t.yt, e.yt) : t instanceof An && e instanceof An;\n    }(t.transform, e.transform);\n}\n\n/** The result of successfully applying a mutation to the backend. */\nclass Nn {\n    constructor(\n    /**\n     * The version at which the mutation was committed:\n     *\n     * - For most operations, this is the updateTime in the WriteResult.\n     * - For deletes, the commitTime of the WriteResponse (because deletes are\n     *   not stored and have no updateTime).\n     *\n     * Note that these versions can be different: No-op writes will not change\n     * the updateTime even though the commitTime advances.\n     */\n    t, \n    /**\n     * The resulting fields returned from the backend after a mutation\n     * containing field transforms has been committed. Contains one FieldValue\n     * for each FieldTransform that was in the mutation.\n     *\n     * Will be empty if the mutation did not contain any field transforms.\n     */\n    e) {\n        this.version = t, this.transformResults = e;\n    }\n}\n\n/**\n * Encodes a precondition for a mutation. This follows the model that the\n * backend accepts with the special case of an explicit \"empty\" precondition\n * (meaning no precondition).\n */ class kn {\n    constructor(t, e) {\n        this.updateTime = t, this.exists = e;\n    }\n    /** Creates a new empty Precondition. */    static none() {\n        return new kn;\n    }\n    /** Creates a new Precondition with an exists flag. */    static exists(t) {\n        return new kn(void 0, t);\n    }\n    /** Creates a new Precondition based on a version a document exists at. */    static updateTime(t) {\n        return new kn(t);\n    }\n    /** Returns whether this Precondition is empty. */    get isNone() {\n        return void 0 === this.updateTime && void 0 === this.exists;\n    }\n    isEqual(t) {\n        return this.exists === t.exists && (this.updateTime ? !!t.updateTime && this.updateTime.isEqual(t.updateTime) : !t.updateTime);\n    }\n}\n\n/** Returns true if the preconditions is valid for the given document. */ function Mn(t, e) {\n    return void 0 !== t.updateTime ? e.isFoundDocument() && e.version.isEqual(t.updateTime) : void 0 === t.exists || t.exists === e.isFoundDocument();\n}\n\n/**\n * A mutation describes a self-contained change to a document. Mutations can\n * create, replace, delete, and update subsets of documents.\n *\n * Mutations not only act on the value of the document but also its version.\n *\n * For local mutations (mutations that haven't been committed yet), we preserve\n * the existing version for Set and Patch mutations. For Delete mutations, we\n * reset the version to 0.\n *\n * Here's the expected transition table.\n *\n * MUTATION           APPLIED TO            RESULTS IN\n *\n * SetMutation        Document(v3)          Document(v3)\n * SetMutation        NoDocument(v3)        Document(v0)\n * SetMutation        InvalidDocument(v0)   Document(v0)\n * PatchMutation      Document(v3)          Document(v3)\n * PatchMutation      NoDocument(v3)        NoDocument(v3)\n * PatchMutation      InvalidDocument(v0)   UnknownDocument(v3)\n * DeleteMutation     Document(v3)          NoDocument(v0)\n * DeleteMutation     NoDocument(v3)        NoDocument(v0)\n * DeleteMutation     InvalidDocument(v0)   NoDocument(v0)\n *\n * For acknowledged mutations, we use the updateTime of the WriteResponse as\n * the resulting version for Set and Patch mutations. As deletes have no\n * explicit update time, we use the commitTime of the WriteResponse for\n * Delete mutations.\n *\n * If a mutation is acknowledged by the backend but fails the precondition check\n * locally, we transition to an `UnknownDocument` and rely on Watch to send us\n * the updated version.\n *\n * Field transforms are used only with Patch and Set Mutations. We use the\n * `updateTransforms` message to store transforms, rather than the `transforms`s\n * messages.\n *\n * ## Subclassing Notes\n *\n * Every type of mutation needs to implement its own applyToRemoteDocument() and\n * applyToLocalView() to implement the actual behavior of applying the mutation\n * to some source document (see `setMutationApplyToRemoteDocument()` for an\n * example).\n */ class On {}\n\n/**\n * A utility method to calculate a `Mutation` representing the overlay from the\n * final state of the document, and a `FieldMask` representing the fields that\n * are mutated by the local mutations.\n */ function Fn(t, e) {\n    if (!t.hasLocalMutations || e && 0 === e.fields.length) return null;\n    // mask is null when sets or deletes are applied to the current document.\n        if (null === e) return t.isNoDocument() ? new Wn(t.key, kn.none()) : new qn(t.key, t.data, kn.none());\n    {\n        const n = t.data, s = Pe.empty();\n        let i = new Ut(ot.comparator);\n        for (let t of e.fields) if (!i.has(t)) {\n            let e = n.field(t);\n            // If we are deleting a nested field, we take the immediate parent as\n            // the mask used to construct the resulting mutation.\n            // Justification: Nested fields can create parent fields implicitly. If\n            // only a leaf entry is deleted in later mutations, the parent field\n            // should still remain, but we may have lost this information.\n            // Consider mutation (foo.bar 1), then mutation (foo.bar delete()).\n            // This leaves the final result (foo, {}). Despite the fact that `doc`\n            // has the correct result, `foo` is not in `mask`, and the resulting\n            // mutation would miss `foo`.\n                        null === e && t.length > 1 && (t = t.popLast(), e = n.field(t)), null === e ? s.delete(t) : s.set(t, e), \n            i = i.add(t);\n        }\n        return new Kn(t.key, s, new Gt(i.toArray()), kn.none());\n    }\n}\n\n/**\n * Applies this mutation to the given document for the purposes of computing a\n * new remote document. If the input document doesn't match the expected state\n * (e.g. it is invalid or outdated), the document type may transition to\n * unknown.\n *\n * @param mutation - The mutation to apply.\n * @param document - The document to mutate. The input document can be an\n *     invalid document if the client has no knowledge of the pre-mutation state\n *     of the document.\n * @param mutationResult - The result of applying the mutation from the backend.\n */ function $n(t, e, n) {\n    t instanceof qn ? function(t, e, n) {\n        // Unlike setMutationApplyToLocalView, if we're applying a mutation to a\n        // remote document the server has accepted the mutation so the precondition\n        // must have held.\n        const s = t.value.clone(), i = Qn(t.fieldTransforms, e, n.transformResults);\n        s.setAll(i), e.convertToFoundDocument(n.version, s).setHasCommittedMutations();\n    }(t, e, n) : t instanceof Kn ? function(t, e, n) {\n        if (!Mn(t.precondition, e)) \n        // Since the mutation was not rejected, we know that the precondition\n        // matched on the backend. We therefore must not have the expected version\n        // of the document in our cache and convert to an UnknownDocument with a\n        // known updateTime.\n        return void e.convertToUnknownDocument(n.version);\n        const s = Qn(t.fieldTransforms, e, n.transformResults), i = e.data;\n        i.setAll(Gn(t)), i.setAll(s), e.convertToFoundDocument(n.version, i).setHasCommittedMutations();\n    }(t, e, n) : function(t, e, n) {\n        // Unlike applyToLocalView, if we're applying a mutation to a remote\n        // document the server has accepted the mutation so the precondition must\n        // have held.\n        e.convertToNoDocument(n.version).setHasCommittedMutations();\n    }(0, e, n);\n}\n\n/**\n * Applies this mutation to the given document for the purposes of computing\n * the new local view of a document. If the input document doesn't match the\n * expected state, the document is not modified.\n *\n * @param mutation - The mutation to apply.\n * @param document - The document to mutate. The input document can be an\n *     invalid document if the client has no knowledge of the pre-mutation state\n *     of the document.\n * @param previousMask - The fields that have been updated before applying this mutation.\n * @param localWriteTime - A timestamp indicating the local write time of the\n *     batch this mutation is a part of.\n * @returns A `FieldMask` representing the fields that are changed by applying this mutation.\n */ function Bn(t, e, n, s) {\n    return t instanceof qn ? function(t, e, n, s) {\n        if (!Mn(t.precondition, e)) \n        // The mutation failed to apply (e.g. a document ID created with add()\n        // caused a name collision).\n        return n;\n        const i = t.value.clone(), r = jn(t.fieldTransforms, s, e);\n        return i.setAll(r), e.convertToFoundDocument(e.version, i).setHasLocalMutations(), \n        null;\n // SetMutation overwrites all fields.\n        }\n    /**\n * A mutation that modifies fields of the document at the given key with the\n * given values. The values are applied through a field mask:\n *\n *  * When a field is in both the mask and the values, the corresponding field\n *    is updated.\n *  * When a field is in neither the mask nor the values, the corresponding\n *    field is unmodified.\n *  * When a field is in the mask but not in the values, the corresponding field\n *    is deleted.\n *  * When a field is not in the mask but is in the values, the values map is\n *    ignored.\n */ (t, e, n, s) : t instanceof Kn ? function(t, e, n, s) {\n        if (!Mn(t.precondition, e)) return n;\n        const i = jn(t.fieldTransforms, s, e), r = e.data;\n        if (r.setAll(Gn(t)), r.setAll(i), e.convertToFoundDocument(e.version, r).setHasLocalMutations(), \n        null === n) return null;\n        return n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t => t.field)));\n    }\n    /**\n * Returns a FieldPath/Value map with the content of the PatchMutation.\n */ (t, e, n, s) : function(t, e, n) {\n        if (Mn(t.precondition, e)) return e.convertToNoDocument(e.version).setHasLocalMutations(), \n        null;\n        return n;\n    }\n    /**\n * A mutation that verifies the existence of the document at the given key with\n * the provided precondition.\n *\n * The `verify` operation is only used in Transactions, and this class serves\n * primarily to facilitate serialization into protos.\n */ (t, e, n);\n}\n\n/**\n * If this mutation is not idempotent, returns the base value to persist with\n * this mutation. If a base value is returned, the mutation is always applied\n * to this base value, even if document has already been updated.\n *\n * The base value is a sparse object that consists of only the document\n * fields for which this mutation contains a non-idempotent transformation\n * (e.g. a numeric increment). The provided value guarantees consistent\n * behavior for non-idempotent transforms and allow us to return the same\n * latency-compensated value even if the backend has already applied the\n * mutation. The base value is null for idempotent mutations, as they can be\n * re-played even if the backend has already applied them.\n *\n * @returns a base value to store along with the mutation, or null for\n * idempotent mutations.\n */ function Ln(t, e) {\n    let n = null;\n    for (const s of t.fieldTransforms) {\n        const t = e.data.field(s.field), i = En(s.transform, t || null);\n        null != i && (null === n && (n = Pe.empty()), n.set(s.field, i));\n    }\n    return n || null;\n}\n\nfunction Un(t, e) {\n    return t.type === e.type && (!!t.key.isEqual(e.key) && (!!t.precondition.isEqual(e.precondition) && (!!function(t, e) {\n        return void 0 === t && void 0 === e || !(!t || !e) && Z(t, e, ((t, e) => xn(t, e)));\n    }(t.fieldTransforms, e.fieldTransforms) && (0 /* Set */ === t.type ? t.value.isEqual(e.value) : 1 /* Patch */ !== t.type || t.data.isEqual(e.data) && t.fieldMask.isEqual(e.fieldMask)))));\n}\n\n/**\n * A mutation that creates or replaces the document at the given key with the\n * object value contents.\n */ class qn extends On {\n    constructor(t, e, n, s = []) {\n        super(), this.key = t, this.value = e, this.precondition = n, this.fieldTransforms = s, \n        this.type = 0 /* Set */;\n    }\n    getFieldMask() {\n        return null;\n    }\n}\n\nclass Kn extends On {\n    constructor(t, e, n, s, i = []) {\n        super(), this.key = t, this.data = e, this.fieldMask = n, this.precondition = s, \n        this.fieldTransforms = i, this.type = 1 /* Patch */;\n    }\n    getFieldMask() {\n        return this.fieldMask;\n    }\n}\n\nfunction Gn(t) {\n    const e = new Map;\n    return t.fieldMask.fields.forEach((n => {\n        if (!n.isEmpty()) {\n            const s = t.data.field(n);\n            e.set(n, s);\n        }\n    })), e;\n}\n\n/**\n * Creates a list of \"transform results\" (a transform result is a field value\n * representing the result of applying a transform) for use after a mutation\n * containing transforms has been acknowledged by the server.\n *\n * @param fieldTransforms - The field transforms to apply the result to.\n * @param mutableDocument - The current state of the document after applying all\n * previous mutations.\n * @param serverTransformResults - The transform results received by the server.\n * @returns The transform results list.\n */ function Qn(t, e, n) {\n    const s = new Map;\n    M(t.length === n.length);\n    for (let i = 0; i < n.length; i++) {\n        const r = t[i], o = r.transform, u = e.data.field(r.field);\n        s.set(r.field, Tn(o, u, n[i]));\n    }\n    return s;\n}\n\n/**\n * Creates a list of \"transform results\" (a transform result is a field value\n * representing the result of applying a transform) for use when applying a\n * transform locally.\n *\n * @param fieldTransforms - The field transforms to apply the result to.\n * @param localWriteTime - The local time of the mutation (used to\n *     generate ServerTimestampValues).\n * @param mutableDocument - The document to apply transforms on.\n * @returns The transform results list.\n */ function jn(t, e, n) {\n    const s = new Map;\n    for (const i of t) {\n        const t = i.transform, r = n.data.field(i.field);\n        s.set(i.field, In(t, r, e));\n    }\n    return s;\n}\n\n/** A mutation that deletes the document at the given key. */ class Wn extends On {\n    constructor(t, e) {\n        super(), this.key = t, this.precondition = e, this.type = 2 /* Delete */ , this.fieldTransforms = [];\n    }\n    getFieldMask() {\n        return null;\n    }\n}\n\nclass zn extends On {\n    constructor(t, e) {\n        super(), this.key = t, this.precondition = e, this.type = 3 /* Verify */ , this.fieldTransforms = [];\n    }\n    getFieldMask() {\n        return null;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Hn {\n    // TODO(b/33078163): just use simplest form of existence filter for now\n    constructor(t) {\n        this.count = t;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Error Codes describing the different ways GRPC can fail. These are copied\n * directly from GRPC's sources here:\n *\n * https://github.com/grpc/grpc/blob/bceec94ea4fc5f0085d81235d8e1c06798dc341a/include/grpc%2B%2B/impl/codegen/status_code_enum.h\n *\n * Important! The names of these identifiers matter because the string forms\n * are used for reverse lookups from the webchannel stream. Do NOT change the\n * names of these identifiers or change this into a const enum.\n */ var Jn, Yn;\n\n/**\n * Determines whether an error code represents a permanent error when received\n * in response to a non-write operation.\n *\n * See isPermanentWriteError for classifying write errors.\n */\nfunction Xn(t) {\n    switch (t) {\n      default:\n        return k();\n\n      case $.CANCELLED:\n      case $.UNKNOWN:\n      case $.DEADLINE_EXCEEDED:\n      case $.RESOURCE_EXHAUSTED:\n      case $.INTERNAL:\n      case $.UNAVAILABLE:\n // Unauthenticated means something went wrong with our token and we need\n        // to retry with new credentials which will happen automatically.\n              case $.UNAUTHENTICATED:\n        return !1;\n\n      case $.INVALID_ARGUMENT:\n      case $.NOT_FOUND:\n      case $.ALREADY_EXISTS:\n      case $.PERMISSION_DENIED:\n      case $.FAILED_PRECONDITION:\n // Aborted might be retried in some scenarios, but that is dependant on\n        // the context and should handled individually by the calling code.\n        // See https://cloud.google.com/apis/design/errors.\n              case $.ABORTED:\n      case $.OUT_OF_RANGE:\n      case $.UNIMPLEMENTED:\n      case $.DATA_LOSS:\n        return !0;\n    }\n}\n\n/**\n * Determines whether an error code represents a permanent error when received\n * in response to a write operation.\n *\n * Write operations must be handled specially because as of b/119437764, ABORTED\n * errors on the write stream should be retried too (even though ABORTED errors\n * are not generally retryable).\n *\n * Note that during the initial handshake on the write stream an ABORTED error\n * signals that we should discard our stream token (i.e. it is permanent). This\n * means a handshake error should be classified with isPermanentError, above.\n */\n/**\n * Maps an error Code from GRPC status code number, like 0, 1, or 14. These\n * are not the same as HTTP status codes.\n *\n * @returns The Code equivalent to the given GRPC status code. Fails if there\n *     is no match.\n */\nfunction Zn(t) {\n    if (void 0 === t) \n    // This shouldn't normally happen, but in certain error cases (like trying\n    // to send invalid proto messages) we may get an error with no GRPC code.\n    return C(\"GRPC error has no .code\"), $.UNKNOWN;\n    switch (t) {\n      case Jn.OK:\n        return $.OK;\n\n      case Jn.CANCELLED:\n        return $.CANCELLED;\n\n      case Jn.UNKNOWN:\n        return $.UNKNOWN;\n\n      case Jn.DEADLINE_EXCEEDED:\n        return $.DEADLINE_EXCEEDED;\n\n      case Jn.RESOURCE_EXHAUSTED:\n        return $.RESOURCE_EXHAUSTED;\n\n      case Jn.INTERNAL:\n        return $.INTERNAL;\n\n      case Jn.UNAVAILABLE:\n        return $.UNAVAILABLE;\n\n      case Jn.UNAUTHENTICATED:\n        return $.UNAUTHENTICATED;\n\n      case Jn.INVALID_ARGUMENT:\n        return $.INVALID_ARGUMENT;\n\n      case Jn.NOT_FOUND:\n        return $.NOT_FOUND;\n\n      case Jn.ALREADY_EXISTS:\n        return $.ALREADY_EXISTS;\n\n      case Jn.PERMISSION_DENIED:\n        return $.PERMISSION_DENIED;\n\n      case Jn.FAILED_PRECONDITION:\n        return $.FAILED_PRECONDITION;\n\n      case Jn.ABORTED:\n        return $.ABORTED;\n\n      case Jn.OUT_OF_RANGE:\n        return $.OUT_OF_RANGE;\n\n      case Jn.UNIMPLEMENTED:\n        return $.UNIMPLEMENTED;\n\n      case Jn.DATA_LOSS:\n        return $.DATA_LOSS;\n\n      default:\n        return k();\n    }\n}\n\n/**\n * Converts an HTTP response's error status to the equivalent error code.\n *\n * @param status - An HTTP error response status (\"FAILED_PRECONDITION\",\n * \"UNKNOWN\", etc.)\n * @returns The equivalent Code. Non-matching responses are mapped to\n *     Code.UNKNOWN.\n */ (Yn = Jn || (Jn = {}))[Yn.OK = 0] = \"OK\", Yn[Yn.CANCELLED = 1] = \"CANCELLED\", \nYn[Yn.UNKNOWN = 2] = \"UNKNOWN\", Yn[Yn.INVALID_ARGUMENT = 3] = \"INVALID_ARGUMENT\", \nYn[Yn.DEADLINE_EXCEEDED = 4] = \"DEADLINE_EXCEEDED\", Yn[Yn.NOT_FOUND = 5] = \"NOT_FOUND\", \nYn[Yn.ALREADY_EXISTS = 6] = \"ALREADY_EXISTS\", Yn[Yn.PERMISSION_DENIED = 7] = \"PERMISSION_DENIED\", \nYn[Yn.UNAUTHENTICATED = 16] = \"UNAUTHENTICATED\", Yn[Yn.RESOURCE_EXHAUSTED = 8] = \"RESOURCE_EXHAUSTED\", \nYn[Yn.FAILED_PRECONDITION = 9] = \"FAILED_PRECONDITION\", Yn[Yn.ABORTED = 10] = \"ABORTED\", \nYn[Yn.OUT_OF_RANGE = 11] = \"OUT_OF_RANGE\", Yn[Yn.UNIMPLEMENTED = 12] = \"UNIMPLEMENTED\", \nYn[Yn.INTERNAL = 13] = \"INTERNAL\", Yn[Yn.UNAVAILABLE = 14] = \"UNAVAILABLE\", Yn[Yn.DATA_LOSS = 15] = \"DATA_LOSS\";\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A map implementation that uses objects as keys. Objects must have an\n * associated equals function and must be immutable. Entries in the map are\n * stored together with the key being produced from the mapKeyFn. This map\n * automatically handles collisions of keys.\n */\nclass ts {\n    constructor(t, e) {\n        this.mapKeyFn = t, this.equalsFn = e, \n        /**\n         * The inner map for a key/value pair. Due to the possibility of collisions we\n         * keep a list of entries that we do a linear search through to find an actual\n         * match. Note that collisions should be rare, so we still expect near\n         * constant time lookups in practice.\n         */\n        this.inner = {}, \n        /** The number of entries stored in the map */\n        this.innerSize = 0;\n    }\n    /** Get a value for this key, or undefined if it does not exist. */    get(t) {\n        const e = this.mapKeyFn(t), n = this.inner[e];\n        if (void 0 !== n) for (const [e, s] of n) if (this.equalsFn(e, t)) return s;\n    }\n    has(t) {\n        return void 0 !== this.get(t);\n    }\n    /** Put this key and value in the map. */    set(t, e) {\n        const n = this.mapKeyFn(t), s = this.inner[n];\n        if (void 0 === s) return this.inner[n] = [ [ t, e ] ], void this.innerSize++;\n        for (let n = 0; n < s.length; n++) if (this.equalsFn(s[n][0], t)) \n        // This is updating an existing entry and does not increase `innerSize`.\n        return void (s[n] = [ t, e ]);\n        s.push([ t, e ]), this.innerSize++;\n    }\n    /**\n     * Remove this key from the map. Returns a boolean if anything was deleted.\n     */    delete(t) {\n        const e = this.mapKeyFn(t), n = this.inner[e];\n        if (void 0 === n) return !1;\n        for (let s = 0; s < n.length; s++) if (this.equalsFn(n[s][0], t)) return 1 === n.length ? delete this.inner[e] : n.splice(s, 1), \n        this.innerSize--, !0;\n        return !1;\n    }\n    forEach(t) {\n        Ot(this.inner, ((e, n) => {\n            for (const [e, s] of n) t(e, s);\n        }));\n    }\n    isEmpty() {\n        return Ft(this.inner);\n    }\n    size() {\n        return this.innerSize;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const es = new $t(ut.comparator);\n\nfunction ns() {\n    return es;\n}\n\nconst ss = new $t(ut.comparator);\n\nfunction is(...t) {\n    let e = ss;\n    for (const n of t) e = e.insert(n.key, n);\n    return e;\n}\n\nfunction rs(t) {\n    let e = ss;\n    return t.forEach(((t, n) => e = e.insert(t, n.overlayedDocument))), e;\n}\n\nfunction os() {\n    return cs();\n}\n\nfunction us() {\n    return cs();\n}\n\nfunction cs() {\n    return new ts((t => t.toString()), ((t, e) => t.isEqual(e)));\n}\n\nconst as = new $t(ut.comparator);\n\nconst hs = new Ut(ut.comparator);\n\nfunction ls(...t) {\n    let e = hs;\n    for (const n of t) e = e.add(n);\n    return e;\n}\n\nconst fs = new Ut(X);\n\nfunction ds() {\n    return fs;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An event from the RemoteStore. It is split into targetChanges (changes to the\n * state or the set of documents in our watched targets) and documentUpdates\n * (changes to the actual documents).\n */ class _s {\n    constructor(\n    /**\n     * The snapshot version this event brings us up to, or MIN if not set.\n     */\n    t, \n    /**\n     * A map from target to changes to the target. See TargetChange.\n     */\n    e, \n    /**\n     * A set of targets that is known to be inconsistent. Listens for these\n     * targets should be re-established without resume tokens.\n     */\n    n, \n    /**\n     * A set of which documents have changed or been deleted, along with the\n     * doc's new values (if not deleted).\n     */\n    s, \n    /**\n     * A set of which document updates are due only to limbo resolution targets.\n     */\n    i) {\n        this.snapshotVersion = t, this.targetChanges = e, this.targetMismatches = n, this.documentUpdates = s, \n        this.resolvedLimboDocuments = i;\n    }\n    /**\n     * HACK: Views require RemoteEvents in order to determine whether the view is\n     * CURRENT, but secondary tabs don't receive remote events. So this method is\n     * used to create a synthesized RemoteEvent that can be used to apply a\n     * CURRENT status change to a View, for queries executed in a different tab.\n     */\n    // PORTING NOTE: Multi-tab only\n    static createSynthesizedRemoteEventForCurrentChange(t, e) {\n        const n = new Map;\n        return n.set(t, ws.createSynthesizedTargetChangeForCurrentChange(t, e)), new _s(nt.min(), n, ds(), ns(), ls());\n    }\n}\n\n/**\n * A TargetChange specifies the set of changes for a specific target as part of\n * a RemoteEvent. These changes track which documents are added, modified or\n * removed, as well as the target's resume token and whether the target is\n * marked CURRENT.\n * The actual changes *to* documents are not part of the TargetChange since\n * documents may be part of multiple targets.\n */ class ws {\n    constructor(\n    /**\n     * An opaque, server-assigned token that allows watching a query to be resumed\n     * after disconnecting without retransmitting all the data that matches the\n     * query. The resume token essentially identifies a point in time from which\n     * the server should resume sending results.\n     */\n    t, \n    /**\n     * The \"current\" (synced) status of this target. Note that \"current\"\n     * has special meaning in the RPC protocol that implies that a target is\n     * both up-to-date and consistent with the rest of the watch stream.\n     */\n    e, \n    /**\n     * The set of documents that were newly assigned to this target as part of\n     * this remote event.\n     */\n    n, \n    /**\n     * The set of documents that were already assigned to this target but received\n     * an update during this remote event.\n     */\n    s, \n    /**\n     * The set of documents that were removed from this target as part of this\n     * remote event.\n     */\n    i) {\n        this.resumeToken = t, this.current = e, this.addedDocuments = n, this.modifiedDocuments = s, \n        this.removedDocuments = i;\n    }\n    /**\n     * This method is used to create a synthesized TargetChanges that can be used to\n     * apply a CURRENT status change to a View (for queries executed in a different\n     * tab) or for new queries (to raise snapshots with correct CURRENT status).\n     */    static createSynthesizedTargetChangeForCurrentChange(t, e) {\n        return new ws(jt.EMPTY_BYTE_STRING, e, ls(), ls(), ls());\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents a changed document and a list of target ids to which this change\n * applies.\n *\n * If document has been deleted NoDocument will be provided.\n */ class ms {\n    constructor(\n    /** The new document applies to all of these targets. */\n    t, \n    /** The new document is removed from all of these targets. */\n    e, \n    /** The key of the document for this change. */\n    n, \n    /**\n     * The new document or NoDocument if it was deleted. Is null if the\n     * document went out of view without the server sending a new document.\n     */\n    s) {\n        this.Tt = t, this.removedTargetIds = e, this.key = n, this.Et = s;\n    }\n}\n\nclass gs {\n    constructor(t, e) {\n        this.targetId = t, this.At = e;\n    }\n}\n\nclass ys {\n    constructor(\n    /** What kind of change occurred to the watch target. */\n    t, \n    /** The target IDs that were added/removed/set. */\n    e, \n    /**\n     * An opaque, server-assigned token that allows watching a target to be\n     * resumed after disconnecting without retransmitting all the data that\n     * matches the target. The resume token essentially identifies a point in\n     * time from which the server should resume sending results.\n     */\n    n = jt.EMPTY_BYTE_STRING\n    /** An RPC error indicating why the watch failed. */ , s = null) {\n        this.state = t, this.targetIds = e, this.resumeToken = n, this.cause = s;\n    }\n}\n\n/** Tracks the internal state of a Watch target. */ class ps {\n    constructor() {\n        /**\n         * The number of pending responses (adds or removes) that we are waiting on.\n         * We only consider targets active that have no pending responses.\n         */\n        this.Rt = 0, \n        /**\n         * Keeps track of the document changes since the last raised snapshot.\n         *\n         * These changes are continuously updated as we receive document updates and\n         * always reflect the current set of changes against the last issued snapshot.\n         */\n        this.bt = Es(), \n        /** See public getters for explanations of these fields. */\n        this.Pt = jt.EMPTY_BYTE_STRING, this.vt = !1, \n        /**\n         * Whether this target state should be included in the next snapshot. We\n         * initialize to true so that newly-added targets are included in the next\n         * RemoteEvent.\n         */\n        this.Vt = !0;\n    }\n    /**\n     * Whether this target has been marked 'current'.\n     *\n     * 'Current' has special meaning in the RPC protocol: It implies that the\n     * Watch backend has sent us all changes up to the point at which the target\n     * was added and that the target is consistent with the rest of the watch\n     * stream.\n     */    get current() {\n        return this.vt;\n    }\n    /** The last resume token sent to us for this target. */    get resumeToken() {\n        return this.Pt;\n    }\n    /** Whether this target has pending target adds or target removes. */    get St() {\n        return 0 !== this.Rt;\n    }\n    /** Whether we have modified any state that should trigger a snapshot. */    get Dt() {\n        return this.Vt;\n    }\n    /**\n     * Applies the resume token to the TargetChange, but only when it has a new\n     * value. Empty resumeTokens are discarded.\n     */    Ct(t) {\n        t.approximateByteSize() > 0 && (this.Vt = !0, this.Pt = t);\n    }\n    /**\n     * Creates a target change from the current set of changes.\n     *\n     * To reset the document changes after raising this snapshot, call\n     * `clearPendingChanges()`.\n     */    xt() {\n        let t = ls(), e = ls(), n = ls();\n        return this.bt.forEach(((s, i) => {\n            switch (i) {\n              case 0 /* Added */ :\n                t = t.add(s);\n                break;\n\n              case 2 /* Modified */ :\n                e = e.add(s);\n                break;\n\n              case 1 /* Removed */ :\n                n = n.add(s);\n                break;\n\n              default:\n                k();\n            }\n        })), new ws(this.Pt, this.vt, t, e, n);\n    }\n    /**\n     * Resets the document changes and sets `hasPendingChanges` to false.\n     */    Nt() {\n        this.Vt = !1, this.bt = Es();\n    }\n    kt(t, e) {\n        this.Vt = !0, this.bt = this.bt.insert(t, e);\n    }\n    Mt(t) {\n        this.Vt = !0, this.bt = this.bt.remove(t);\n    }\n    Ot() {\n        this.Rt += 1;\n    }\n    Ft() {\n        this.Rt -= 1;\n    }\n    $t() {\n        this.Vt = !0, this.vt = !0;\n    }\n}\n\n/**\n * A helper class to accumulate watch changes into a RemoteEvent.\n */\nclass Is {\n    constructor(t) {\n        this.Bt = t, \n        /** The internal state of all tracked targets. */\n        this.Lt = new Map, \n        /** Keeps track of the documents to update since the last raised snapshot. */\n        this.Ut = ns(), \n        /** A mapping of document keys to their set of target IDs. */\n        this.qt = Ts(), \n        /**\n         * A list of targets with existence filter mismatches. These targets are\n         * known to be inconsistent and their listens needs to be re-established by\n         * RemoteStore.\n         */\n        this.Kt = new Ut(X);\n    }\n    /**\n     * Processes and adds the DocumentWatchChange to the current set of changes.\n     */    Gt(t) {\n        for (const e of t.Tt) t.Et && t.Et.isFoundDocument() ? this.Qt(e, t.Et) : this.jt(e, t.key, t.Et);\n        for (const e of t.removedTargetIds) this.jt(e, t.key, t.Et);\n    }\n    /** Processes and adds the WatchTargetChange to the current set of changes. */    Wt(t) {\n        this.forEachTarget(t, (e => {\n            const n = this.zt(e);\n            switch (t.state) {\n              case 0 /* NoChange */ :\n                this.Ht(e) && n.Ct(t.resumeToken);\n                break;\n\n              case 1 /* Added */ :\n                // We need to decrement the number of pending acks needed from watch\n                // for this targetId.\n                n.Ft(), n.St || \n                // We have a freshly added target, so we need to reset any state\n                // that we had previously. This can happen e.g. when remove and add\n                // back a target for existence filter mismatches.\n                n.Nt(), n.Ct(t.resumeToken);\n                break;\n\n              case 2 /* Removed */ :\n                // We need to keep track of removed targets to we can post-filter and\n                // remove any target changes.\n                // We need to decrement the number of pending acks needed from watch\n                // for this targetId.\n                n.Ft(), n.St || this.removeTarget(e);\n                break;\n\n              case 3 /* Current */ :\n                this.Ht(e) && (n.$t(), n.Ct(t.resumeToken));\n                break;\n\n              case 4 /* Reset */ :\n                this.Ht(e) && (\n                // Reset the target and synthesizes removes for all existing\n                // documents. The backend will re-add any documents that still\n                // match the target before it sends the next global snapshot.\n                this.Jt(e), n.Ct(t.resumeToken));\n                break;\n\n              default:\n                k();\n            }\n        }));\n    }\n    /**\n     * Iterates over all targetIds that the watch change applies to: either the\n     * targetIds explicitly listed in the change or the targetIds of all currently\n     * active targets.\n     */    forEachTarget(t, e) {\n        t.targetIds.length > 0 ? t.targetIds.forEach(e) : this.Lt.forEach(((t, n) => {\n            this.Ht(n) && e(n);\n        }));\n    }\n    /**\n     * Handles existence filters and synthesizes deletes for filter mismatches.\n     * Targets that are invalidated by filter mismatches are added to\n     * `pendingTargetResets`.\n     */    Yt(t) {\n        const e = t.targetId, n = t.At.count, s = this.Xt(e);\n        if (s) {\n            const t = s.target;\n            if (ke(t)) if (0 === n) {\n                // The existence filter told us the document does not exist. We deduce\n                // that this document does not exist and apply a deleted document to\n                // our updates. Without applying this deleted document there might be\n                // another query that will raise this document as part of a snapshot\n                // until it is resolved, essentially exposing inconsistency between\n                // queries.\n                const n = new ut(t.path);\n                this.jt(e, n, Ve.newNoDocument(n, nt.min()));\n            } else M(1 === n); else {\n                this.Zt(e) !== n && (\n                // Existence filter mismatch: We reset the mapping and raise a new\n                // snapshot with `isFromCache:true`.\n                this.Jt(e), this.Kt = this.Kt.add(e));\n            }\n        }\n    }\n    /**\n     * Converts the currently accumulated state into a remote event at the\n     * provided snapshot version. Resets the accumulated changes before returning.\n     */    te(t) {\n        const e = new Map;\n        this.Lt.forEach(((n, s) => {\n            const i = this.Xt(s);\n            if (i) {\n                if (n.current && ke(i.target)) {\n                    // Document queries for document that don't exist can produce an empty\n                    // result set. To update our local cache, we synthesize a document\n                    // delete if we have not previously received the document. This\n                    // resolves the limbo state of the document, removing it from\n                    // limboDocumentRefs.\n                    // TODO(dimond): Ideally we would have an explicit lookup target\n                    // instead resulting in an explicit delete message and we could\n                    // remove this special logic.\n                    const e = new ut(i.target.path);\n                    null !== this.Ut.get(e) || this.ee(s, e) || this.jt(s, e, Ve.newNoDocument(e, t));\n                }\n                n.Dt && (e.set(s, n.xt()), n.Nt());\n            }\n        }));\n        let n = ls();\n        // We extract the set of limbo-only document updates as the GC logic\n        // special-cases documents that do not appear in the target cache.\n        \n        // TODO(gsoltis): Expand on this comment once GC is available in the JS\n        // client.\n                this.qt.forEach(((t, e) => {\n            let s = !0;\n            e.forEachWhile((t => {\n                const e = this.Xt(t);\n                return !e || 2 /* LimboResolution */ === e.purpose || (s = !1, !1);\n            })), s && (n = n.add(t));\n        })), this.Ut.forEach(((e, n) => n.setReadTime(t)));\n        const s = new _s(t, e, this.Kt, this.Ut, n);\n        return this.Ut = ns(), this.qt = Ts(), this.Kt = new Ut(X), s;\n    }\n    /**\n     * Adds the provided document to the internal list of document updates and\n     * its document key to the given target's mapping.\n     */\n    // Visible for testing.\n    Qt(t, e) {\n        if (!this.Ht(t)) return;\n        const n = this.ee(t, e.key) ? 2 /* Modified */ : 0 /* Added */;\n        this.zt(t).kt(e.key, n), this.Ut = this.Ut.insert(e.key, e), this.qt = this.qt.insert(e.key, this.ne(e.key).add(t));\n    }\n    /**\n     * Removes the provided document from the target mapping. If the\n     * document no longer matches the target, but the document's state is still\n     * known (e.g. we know that the document was deleted or we received the change\n     * that caused the filter mismatch), the new document can be provided\n     * to update the remote document cache.\n     */\n    // Visible for testing.\n    jt(t, e, n) {\n        if (!this.Ht(t)) return;\n        const s = this.zt(t);\n        this.ee(t, e) ? s.kt(e, 1 /* Removed */) : \n        // The document may have entered and left the target before we raised a\n        // snapshot, so we can just ignore the change.\n        s.Mt(e), this.qt = this.qt.insert(e, this.ne(e).delete(t)), n && (this.Ut = this.Ut.insert(e, n));\n    }\n    removeTarget(t) {\n        this.Lt.delete(t);\n    }\n    /**\n     * Returns the current count of documents in the target. This includes both\n     * the number of documents that the LocalStore considers to be part of the\n     * target as well as any accumulated changes.\n     */    Zt(t) {\n        const e = this.zt(t).xt();\n        return this.Bt.getRemoteKeysForTarget(t).size + e.addedDocuments.size - e.removedDocuments.size;\n    }\n    /**\n     * Increment the number of acks needed from watch before we can consider the\n     * server to be 'in-sync' with the client's active targets.\n     */    Ot(t) {\n        this.zt(t).Ot();\n    }\n    zt(t) {\n        let e = this.Lt.get(t);\n        return e || (e = new ps, this.Lt.set(t, e)), e;\n    }\n    ne(t) {\n        let e = this.qt.get(t);\n        return e || (e = new Ut(X), this.qt = this.qt.insert(t, e)), e;\n    }\n    /**\n     * Verifies that the user is still interested in this target (by calling\n     * `getTargetDataForTarget()`) and that we are not waiting for pending ADDs\n     * from watch.\n     */    Ht(t) {\n        const e = null !== this.Xt(t);\n        return e || D(\"WatchChangeAggregator\", \"Detected inactive target\", t), e;\n    }\n    /**\n     * Returns the TargetData for an active target (i.e. a target that the user\n     * is still interested in that has no outstanding target change requests).\n     */    Xt(t) {\n        const e = this.Lt.get(t);\n        return e && e.St ? null : this.Bt.se(t);\n    }\n    /**\n     * Resets the state of a Watch target to its initial state (e.g. sets\n     * 'current' to false, clears the resume token and removes its target mapping\n     * from all documents).\n     */    Jt(t) {\n        this.Lt.set(t, new ps);\n        this.Bt.getRemoteKeysForTarget(t).forEach((e => {\n            this.jt(t, e, /*updatedDocument=*/ null);\n        }));\n    }\n    /**\n     * Returns whether the LocalStore considers the document to be part of the\n     * specified target.\n     */    ee(t, e) {\n        return this.Bt.getRemoteKeysForTarget(t).has(e);\n    }\n}\n\nfunction Ts() {\n    return new $t(ut.comparator);\n}\n\nfunction Es() {\n    return new $t(ut.comparator);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const As = (() => {\n    const t = {\n        asc: \"ASCENDING\",\n        desc: \"DESCENDING\"\n    };\n    return t;\n})(), Rs = (() => {\n    const t = {\n        \"<\": \"LESS_THAN\",\n        \"<=\": \"LESS_THAN_OR_EQUAL\",\n        \">\": \"GREATER_THAN\",\n        \">=\": \"GREATER_THAN_OR_EQUAL\",\n        \"==\": \"EQUAL\",\n        \"!=\": \"NOT_EQUAL\",\n        \"array-contains\": \"ARRAY_CONTAINS\",\n        in: \"IN\",\n        \"not-in\": \"NOT_IN\",\n        \"array-contains-any\": \"ARRAY_CONTAINS_ANY\"\n    };\n    return t;\n})();\n\n/**\n * This class generates JsonObject values for the Datastore API suitable for\n * sending to either GRPC stub methods or via the JSON/HTTP REST API.\n *\n * The serializer supports both Protobuf.js and Proto3 JSON formats. By\n * setting `useProto3Json` to true, the serializer will use the Proto3 JSON\n * format.\n *\n * For a description of the Proto3 JSON format check\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n *\n * TODO(klimt): We can remove the databaseId argument if we keep the full\n * resource name in documents.\n */\nclass bs {\n    constructor(t, e) {\n        this.databaseId = t, this.gt = e;\n    }\n}\n\n/**\n * Returns a value for a Date that's appropriate to put into a proto.\n */\nfunction Ps(t, e) {\n    if (t.gt) {\n        return `${new Date(1e3 * e.seconds).toISOString().replace(/\\.\\d*/, \"\").replace(\"Z\", \"\")}.${(\"000000000\" + e.nanoseconds).slice(-9)}Z`;\n    }\n    return {\n        seconds: \"\" + e.seconds,\n        nanos: e.nanoseconds\n    };\n}\n\n/**\n * Returns a value for bytes that's appropriate to put in a proto.\n *\n * Visible for testing.\n */\nfunction vs(t, e) {\n    return t.gt ? e.toBase64() : e.toUint8Array();\n}\n\n/**\n * Returns a ByteString based on the proto string value.\n */ function Vs(t, e) {\n    return Ps(t, e.toTimestamp());\n}\n\nfunction Ss(t) {\n    return M(!!t), nt.fromTimestamp(function(t) {\n        const e = zt(t);\n        return new et(e.seconds, e.nanos);\n    }(t));\n}\n\nfunction Ds(t, e) {\n    return function(t) {\n        return new it([ \"projects\", t.projectId, \"databases\", t.database ]);\n    }(t).child(\"documents\").child(e).canonicalString();\n}\n\nfunction Cs(t) {\n    const e = it.fromString(t);\n    return M(si(e)), e;\n}\n\nfunction xs(t, e) {\n    return Ds(t.databaseId, e.path);\n}\n\nfunction Ns(t, e) {\n    const n = Cs(e);\n    if (n.get(1) !== t.databaseId.projectId) throw new B($.INVALID_ARGUMENT, \"Tried to deserialize key from different project: \" + n.get(1) + \" vs \" + t.databaseId.projectId);\n    if (n.get(3) !== t.databaseId.database) throw new B($.INVALID_ARGUMENT, \"Tried to deserialize key from different database: \" + n.get(3) + \" vs \" + t.databaseId.database);\n    return new ut(Fs(n));\n}\n\nfunction ks(t, e) {\n    return Ds(t.databaseId, e);\n}\n\nfunction Ms(t) {\n    const e = Cs(t);\n    // In v1beta1 queries for collections at the root did not have a trailing\n    // \"/documents\". In v1 all resource paths contain \"/documents\". Preserve the\n    // ability to read the v1beta1 form for compatibility with queries persisted\n    // in the local target cache.\n        return 4 === e.length ? it.emptyPath() : Fs(e);\n}\n\nfunction Os(t) {\n    return new it([ \"projects\", t.databaseId.projectId, \"databases\", t.databaseId.database ]).canonicalString();\n}\n\nfunction Fs(t) {\n    return M(t.length > 4 && \"documents\" === t.get(4)), t.popFirst(5);\n}\n\n/** Creates a Document proto from key and fields (but no create/update time) */ function $s(t, e, n) {\n    return {\n        name: xs(t, e),\n        fields: n.value.mapValue.fields\n    };\n}\n\nfunction Bs(t, e, n) {\n    const s = Ns(t, e.name), i = Ss(e.updateTime), r = new Pe({\n        mapValue: {\n            fields: e.fields\n        }\n    }), o = Ve.newFoundDocument(s, i, r);\n    return n && o.setHasCommittedMutations(), n ? o.setHasCommittedMutations() : o;\n}\n\nfunction Ls(t, e) {\n    return \"found\" in e ? function(t, e) {\n        M(!!e.found), e.found.name, e.found.updateTime;\n        const n = Ns(t, e.found.name), s = Ss(e.found.updateTime), i = new Pe({\n            mapValue: {\n                fields: e.found.fields\n            }\n        });\n        return Ve.newFoundDocument(n, s, i);\n    }(t, e) : \"missing\" in e ? function(t, e) {\n        M(!!e.missing), M(!!e.readTime);\n        const n = Ns(t, e.missing), s = Ss(e.readTime);\n        return Ve.newNoDocument(n, s);\n    }(t, e) : k();\n}\n\nfunction Us(t, e) {\n    let n;\n    if (\"targetChange\" in e) {\n        e.targetChange;\n        // proto3 default value is unset in JSON (undefined), so use 'NO_CHANGE'\n        // if unset\n        const s = function(t) {\n            return \"NO_CHANGE\" === t ? 0 /* NoChange */ : \"ADD\" === t ? 1 /* Added */ : \"REMOVE\" === t ? 2 /* Removed */ : \"CURRENT\" === t ? 3 /* Current */ : \"RESET\" === t ? 4 /* Reset */ : k();\n        }(e.targetChange.targetChangeType || \"NO_CHANGE\"), i = e.targetChange.targetIds || [], r = function(t, e) {\n            return t.gt ? (M(void 0 === e || \"string\" == typeof e), jt.fromBase64String(e || \"\")) : (M(void 0 === e || e instanceof Uint8Array), \n            jt.fromUint8Array(e || new Uint8Array));\n        }(t, e.targetChange.resumeToken), o = e.targetChange.cause, u = o && function(t) {\n            const e = void 0 === t.code ? $.UNKNOWN : Zn(t.code);\n            return new B(e, t.message || \"\");\n        }\n        /**\n * Returns a value for a number (or null) that's appropriate to put into\n * a google.protobuf.Int32Value proto.\n * DO NOT USE THIS FOR ANYTHING ELSE.\n * This method cheats. It's typed as returning \"number\" because that's what\n * our generated proto interfaces say Int32Value must be. But GRPC actually\n * expects a { value: <number> } struct.\n */ (o);\n        n = new ys(s, i, r, u || null);\n    } else if (\"documentChange\" in e) {\n        e.documentChange;\n        const s = e.documentChange;\n        s.document, s.document.name, s.document.updateTime;\n        const i = Ns(t, s.document.name), r = Ss(s.document.updateTime), o = new Pe({\n            mapValue: {\n                fields: s.document.fields\n            }\n        }), u = Ve.newFoundDocument(i, r, o), c = s.targetIds || [], a = s.removedTargetIds || [];\n        n = new ms(c, a, u.key, u);\n    } else if (\"documentDelete\" in e) {\n        e.documentDelete;\n        const s = e.documentDelete;\n        s.document;\n        const i = Ns(t, s.document), r = s.readTime ? Ss(s.readTime) : nt.min(), o = Ve.newNoDocument(i, r), u = s.removedTargetIds || [];\n        n = new ms([], u, o.key, o);\n    } else if (\"documentRemove\" in e) {\n        e.documentRemove;\n        const s = e.documentRemove;\n        s.document;\n        const i = Ns(t, s.document), r = s.removedTargetIds || [];\n        n = new ms([], r, i, null);\n    } else {\n        if (!(\"filter\" in e)) return k();\n        {\n            e.filter;\n            const t = e.filter;\n            t.targetId;\n            const s = t.count || 0, i = new Hn(s), r = t.targetId;\n            n = new gs(r, i);\n        }\n    }\n    return n;\n}\n\nfunction qs(t, e) {\n    let n;\n    if (e instanceof qn) n = {\n        update: $s(t, e.key, e.value)\n    }; else if (e instanceof Wn) n = {\n        delete: xs(t, e.key)\n    }; else if (e instanceof Kn) n = {\n        update: $s(t, e.key, e.data),\n        updateMask: ni(e.fieldMask)\n    }; else {\n        if (!(e instanceof zn)) return k();\n        n = {\n            verify: xs(t, e.key)\n        };\n    }\n    return e.fieldTransforms.length > 0 && (n.updateTransforms = e.fieldTransforms.map((t => function(t, e) {\n        const n = e.transform;\n        if (n instanceof An) return {\n            fieldPath: e.field.canonicalString(),\n            setToServerValue: \"REQUEST_TIME\"\n        };\n        if (n instanceof Rn) return {\n            fieldPath: e.field.canonicalString(),\n            appendMissingElements: {\n                values: n.elements\n            }\n        };\n        if (n instanceof Pn) return {\n            fieldPath: e.field.canonicalString(),\n            removeAllFromArray: {\n                values: n.elements\n            }\n        };\n        if (n instanceof Vn) return {\n            fieldPath: e.field.canonicalString(),\n            increment: n.yt\n        };\n        throw k();\n    }(0, t)))), e.precondition.isNone || (n.currentDocument = function(t, e) {\n        return void 0 !== e.updateTime ? {\n            updateTime: Vs(t, e.updateTime)\n        } : void 0 !== e.exists ? {\n            exists: e.exists\n        } : k();\n    }(t, e.precondition)), n;\n}\n\nfunction Ks(t, e) {\n    const n = e.currentDocument ? function(t) {\n        return void 0 !== t.updateTime ? kn.updateTime(Ss(t.updateTime)) : void 0 !== t.exists ? kn.exists(t.exists) : kn.none();\n    }(e.currentDocument) : kn.none(), s = e.updateTransforms ? e.updateTransforms.map((e => function(t, e) {\n        let n = null;\n        if (\"setToServerValue\" in e) M(\"REQUEST_TIME\" === e.setToServerValue), n = new An; else if (\"appendMissingElements\" in e) {\n            const t = e.appendMissingElements.values || [];\n            n = new Rn(t);\n        } else if (\"removeAllFromArray\" in e) {\n            const t = e.removeAllFromArray.values || [];\n            n = new Pn(t);\n        } else \"increment\" in e ? n = new Vn(t, e.increment) : k();\n        const s = ot.fromServerFormat(e.fieldPath);\n        return new Cn(s, n);\n    }(t, e))) : [];\n    if (e.update) {\n        e.update.name;\n        const i = Ns(t, e.update.name), r = new Pe({\n            mapValue: {\n                fields: e.update.fields\n            }\n        });\n        if (e.updateMask) {\n            const t = function(t) {\n                const e = t.fieldPaths || [];\n                return new Gt(e.map((t => ot.fromServerFormat(t))));\n            }(e.updateMask);\n            return new Kn(i, r, t, n, s);\n        }\n        return new qn(i, r, n, s);\n    }\n    if (e.delete) {\n        const s = Ns(t, e.delete);\n        return new Wn(s, n);\n    }\n    if (e.verify) {\n        const s = Ns(t, e.verify);\n        return new zn(s, n);\n    }\n    return k();\n}\n\nfunction Gs(t, e) {\n    return t && t.length > 0 ? (M(void 0 !== e), t.map((t => function(t, e) {\n        // NOTE: Deletes don't have an updateTime.\n        let n = t.updateTime ? Ss(t.updateTime) : Ss(e);\n        return n.isEqual(nt.min()) && (\n        // The Firestore Emulator currently returns an update time of 0 for\n        // deletes of non-existing documents (rather than null). This breaks the\n        // test \"get deleted doc while offline with source=cache\" as NoDocuments\n        // with version 0 are filtered by IndexedDb's RemoteDocumentCache.\n        // TODO(#2149): Remove this when Emulator is fixed\n        n = Ss(e)), new Nn(n, t.transformResults || []);\n    }(t, e)))) : [];\n}\n\nfunction Qs(t, e) {\n    return {\n        documents: [ ks(t, e.path) ]\n    };\n}\n\nfunction js(t, e) {\n    // Dissect the path into parent, collectionId, and optional key filter.\n    const n = {\n        structuredQuery: {}\n    }, s = e.path;\n    null !== e.collectionGroup ? (n.parent = ks(t, s), n.structuredQuery.from = [ {\n        collectionId: e.collectionGroup,\n        allDescendants: !0\n    } ]) : (n.parent = ks(t, s.popLast()), n.structuredQuery.from = [ {\n        collectionId: s.lastSegment()\n    } ]);\n    const i = function(t) {\n        if (0 === t.length) return;\n        const e = t.map((t => \n        // visible for testing\n        function(t) {\n            if (\"==\" /* EQUAL */ === t.op) {\n                if (ye(t.value)) return {\n                    unaryFilter: {\n                        field: Xs(t.field),\n                        op: \"IS_NAN\"\n                    }\n                };\n                if (ge(t.value)) return {\n                    unaryFilter: {\n                        field: Xs(t.field),\n                        op: \"IS_NULL\"\n                    }\n                };\n            } else if (\"!=\" /* NOT_EQUAL */ === t.op) {\n                if (ye(t.value)) return {\n                    unaryFilter: {\n                        field: Xs(t.field),\n                        op: \"IS_NOT_NAN\"\n                    }\n                };\n                if (ge(t.value)) return {\n                    unaryFilter: {\n                        field: Xs(t.field),\n                        op: \"IS_NOT_NULL\"\n                    }\n                };\n            }\n            return {\n                fieldFilter: {\n                    field: Xs(t.field),\n                    op: Ys(t.op),\n                    value: t.value\n                }\n            };\n        }(t)));\n        if (1 === e.length) return e[0];\n        return {\n            compositeFilter: {\n                op: \"AND\",\n                filters: e\n            }\n        };\n    }(e.filters);\n    i && (n.structuredQuery.where = i);\n    const r = function(t) {\n        if (0 === t.length) return;\n        return t.map((t => \n        // visible for testing\n        function(t) {\n            return {\n                field: Xs(t.field),\n                direction: Js(t.dir)\n            };\n        }(t)));\n    }(e.orderBy);\n    r && (n.structuredQuery.orderBy = r);\n    const o = function(t, e) {\n        return t.gt || ne(e) ? e : {\n            value: e\n        };\n    }\n    /**\n * Returns a number (or null) from a google.protobuf.Int32Value proto.\n */ (t, e.limit);\n    var u;\n    return null !== o && (n.structuredQuery.limit = o), e.startAt && (n.structuredQuery.startAt = {\n        before: (u = e.startAt).inclusive,\n        values: u.position\n    }), e.endAt && (n.structuredQuery.endAt = function(t) {\n        return {\n            before: !t.inclusive,\n            values: t.position\n        };\n    }(e.endAt)), n;\n}\n\nfunction Ws(t) {\n    let e = Ms(t.parent);\n    const n = t.structuredQuery, s = n.from ? n.from.length : 0;\n    let i = null;\n    if (s > 0) {\n        M(1 === s);\n        const t = n.from[0];\n        t.allDescendants ? i = t.collectionId : e = e.child(t.collectionId);\n    }\n    let r = [];\n    n.where && (r = Hs(n.where));\n    let o = [];\n    n.orderBy && (o = n.orderBy.map((t => function(t) {\n        return new ze(Zs(t.field), \n        // visible for testing\n        function(t) {\n            switch (t) {\n              case \"ASCENDING\":\n                return \"asc\" /* ASCENDING */;\n\n              case \"DESCENDING\":\n                return \"desc\" /* DESCENDING */;\n\n              default:\n                return;\n            }\n        }\n        // visible for testing\n        (t.direction));\n    }(t))));\n    let u = null;\n    n.limit && (u = function(t) {\n        let e;\n        return e = \"object\" == typeof t ? t.value : t, ne(e) ? null : e;\n    }(n.limit));\n    let c = null;\n    n.startAt && (c = function(t) {\n        const e = !!t.before, n = t.values || [];\n        return new We(n, e);\n    }(n.startAt));\n    let a = null;\n    return n.endAt && (a = function(t) {\n        const e = !t.before, n = t.values || [];\n        return new We(n, e);\n    }\n    // visible for testing\n    (n.endAt)), Ze(e, i, o, r, u, \"F\" /* First */ , c, a);\n}\n\nfunction zs(t, e) {\n    const n = function(t, e) {\n        switch (e) {\n          case 0 /* Listen */ :\n            return null;\n\n          case 1 /* ExistenceFilterMismatch */ :\n            return \"existence-filter-mismatch\";\n\n          case 2 /* LimboResolution */ :\n            return \"limbo-document\";\n\n          default:\n            return k();\n        }\n    }(0, e.purpose);\n    return null == n ? null : {\n        \"goog-listen-tags\": n\n    };\n}\n\nfunction Hs(t) {\n    return t ? void 0 !== t.unaryFilter ? [ ei(t) ] : void 0 !== t.fieldFilter ? [ ti(t) ] : void 0 !== t.compositeFilter ? t.compositeFilter.filters.map((t => Hs(t))).reduce(((t, e) => t.concat(e))) : k() : [];\n}\n\nfunction Js(t) {\n    return As[t];\n}\n\nfunction Ys(t) {\n    return Rs[t];\n}\n\nfunction Xs(t) {\n    return {\n        fieldPath: t.canonicalString()\n    };\n}\n\nfunction Zs(t) {\n    return ot.fromServerFormat(t.fieldPath);\n}\n\nfunction ti(t) {\n    return $e.create(Zs(t.fieldFilter.field), function(t) {\n        switch (t) {\n          case \"EQUAL\":\n            return \"==\" /* EQUAL */;\n\n          case \"NOT_EQUAL\":\n            return \"!=\" /* NOT_EQUAL */;\n\n          case \"GREATER_THAN\":\n            return \">\" /* GREATER_THAN */;\n\n          case \"GREATER_THAN_OR_EQUAL\":\n            return \">=\" /* GREATER_THAN_OR_EQUAL */;\n\n          case \"LESS_THAN\":\n            return \"<\" /* LESS_THAN */;\n\n          case \"LESS_THAN_OR_EQUAL\":\n            return \"<=\" /* LESS_THAN_OR_EQUAL */;\n\n          case \"ARRAY_CONTAINS\":\n            return \"array-contains\" /* ARRAY_CONTAINS */;\n\n          case \"IN\":\n            return \"in\" /* IN */;\n\n          case \"NOT_IN\":\n            return \"not-in\" /* NOT_IN */;\n\n          case \"ARRAY_CONTAINS_ANY\":\n            return \"array-contains-any\" /* ARRAY_CONTAINS_ANY */;\n\n          default:\n            return k();\n        }\n    }(t.fieldFilter.op), t.fieldFilter.value);\n}\n\nfunction ei(t) {\n    switch (t.unaryFilter.op) {\n      case \"IS_NAN\":\n        const e = Zs(t.unaryFilter.field);\n        return $e.create(e, \"==\" /* EQUAL */ , {\n            doubleValue: NaN\n        });\n\n      case \"IS_NULL\":\n        const n = Zs(t.unaryFilter.field);\n        return $e.create(n, \"==\" /* EQUAL */ , {\n            nullValue: \"NULL_VALUE\"\n        });\n\n      case \"IS_NOT_NAN\":\n        const s = Zs(t.unaryFilter.field);\n        return $e.create(s, \"!=\" /* NOT_EQUAL */ , {\n            doubleValue: NaN\n        });\n\n      case \"IS_NOT_NULL\":\n        const i = Zs(t.unaryFilter.field);\n        return $e.create(i, \"!=\" /* NOT_EQUAL */ , {\n            nullValue: \"NULL_VALUE\"\n        });\n\n      default:\n        return k();\n    }\n}\n\nfunction ni(t) {\n    const e = [];\n    return t.fields.forEach((t => e.push(t.canonicalString()))), {\n        fieldPaths: e\n    };\n}\n\nfunction si(t) {\n    // Resource names have at least 4 components (project ID, database ID)\n    return t.length >= 4 && \"projects\" === t.get(0) && \"databases\" === t.get(2);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Encodes a resource path into a IndexedDb-compatible string form.\n */\nfunction ii(t) {\n    let e = \"\";\n    for (let n = 0; n < t.length; n++) e.length > 0 && (e = oi(e)), e = ri(t.get(n), e);\n    return oi(e);\n}\n\n/** Encodes a single segment of a resource path into the given result */ function ri(t, e) {\n    let n = e;\n    const s = t.length;\n    for (let e = 0; e < s; e++) {\n        const s = t.charAt(e);\n        switch (s) {\n          case \"\\0\":\n            n += \"\u0001\u0010\";\n            break;\n\n          case \"\u0001\":\n            n += \"\u0001\u0011\";\n            break;\n\n          default:\n            n += s;\n        }\n    }\n    return n;\n}\n\n/** Encodes a path separator into the given result */ function oi(t) {\n    return t + \"\u0001\u0001\";\n}\n\n/**\n * Decodes the given IndexedDb-compatible string form of a resource path into\n * a ResourcePath instance. Note that this method is not suitable for use with\n * decoding resource names from the server; those are One Platform format\n * strings.\n */ function ui(t) {\n    // Event the empty path must encode as a path of at least length 2. A path\n    // with exactly 2 must be the empty path.\n    const e = t.length;\n    if (M(e >= 2), 2 === e) return M(\"\u0001\" === t.charAt(0) && \"\u0001\" === t.charAt(1)), it.emptyPath();\n    // Escape characters cannot exist past the second-to-last position in the\n    // source value.\n        const n = e - 2, s = [];\n    let i = \"\";\n    for (let r = 0; r < e; ) {\n        // The last two characters of a valid encoded path must be a separator, so\n        // there must be an end to this segment.\n        const e = t.indexOf(\"\u0001\", r);\n        (e < 0 || e > n) && k();\n        switch (t.charAt(e + 1)) {\n          case \"\u0001\":\n            const n = t.substring(r, e);\n            let o;\n            0 === i.length ? \n            // Avoid copying for the common case of a segment that excludes \\0\n            // and \\001\n            o = n : (i += n, o = i, i = \"\"), s.push(o);\n            break;\n\n          case \"\u0010\":\n            i += t.substring(r, e), i += \"\\0\";\n            break;\n\n          case \"\u0011\":\n            // The escape character can be used in the output to encode itself.\n            i += t.substring(r, e + 1);\n            break;\n\n          default:\n            k();\n        }\n        r = e + 2;\n    }\n    return new it(s);\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const ci = [ \"userId\", \"batchId\" ];\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Name of the IndexedDb object store.\n *\n * Note that the name 'owner' is chosen to ensure backwards compatibility with\n * older clients that only supported single locked access to the persistence\n * layer.\n */\n/**\n * Creates a [userId, encodedPath] key for use in the DbDocumentMutations\n * index to iterate over all at document mutations for a given path or lower.\n */\nfunction ai(t, e) {\n    return [ t, ii(e) ];\n}\n\n/**\n * Creates a full index key of [userId, encodedPath, batchId] for inserting\n * and deleting into the DbDocumentMutations index.\n */ function hi(t, e, n) {\n    return [ t, ii(e), n ];\n}\n\n/**\n * Because we store all the useful information for this store in the key,\n * there is no useful information to store as the value. The raw (unencoded)\n * path cannot be stored because IndexedDb doesn't store prototype\n * information.\n */ const li = {}, fi = [ \"prefixPath\", \"collectionGroup\", \"readTime\", \"documentId\" ], di = [ \"prefixPath\", \"collectionGroup\", \"documentId\" ], _i = [ \"collectionGroup\", \"readTime\", \"prefixPath\", \"documentId\" ], wi = [ \"canonicalId\", \"targetId\" ], mi = [ \"targetId\", \"path\" ], gi = [ \"path\", \"targetId\" ], yi = [ \"collectionId\", \"parent\" ], pi = [ \"indexId\", \"uid\" ], Ii = [ \"uid\", \"sequenceNumber\" ], Ti = [ \"indexId\", \"uid\", \"arrayValue\", \"directionalValue\", \"orderedDocumentKey\", \"documentKey\" ], Ei = [ \"indexId\", \"uid\", \"orderedDocumentKey\" ], Ai = [ \"userId\", \"collectionPath\", \"documentId\" ], Ri = [ \"userId\", \"collectionPath\", \"largestBatchId\" ], bi = [ \"userId\", \"collectionGroup\", \"largestBatchId\" ], Pi = [ ...[ ...[ ...[ ...[ \"mutationQueues\", \"mutations\", \"documentMutations\", \"remoteDocuments\", \"targets\", \"owner\", \"targetGlobal\", \"targetDocuments\" ], \"clientMetadata\" ], \"remoteDocumentGlobal\" ], \"collectionParents\" ], \"bundles\", \"namedQueries\" ], vi = [ ...Pi, \"documentOverlays\" ], Vi = [ \"mutationQueues\", \"mutations\", \"documentMutations\", \"remoteDocumentsV14\", \"targets\", \"owner\", \"targetGlobal\", \"targetDocuments\", \"clientMetadata\", \"remoteDocumentGlobal\", \"collectionParents\", \"bundles\", \"namedQueries\", \"documentOverlays\" ], Si = Vi, Di = [ ...Si, \"indexConfiguration\", \"indexState\", \"indexEntries\" ];\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass Ci extends It {\n    constructor(t, e) {\n        super(), this.ie = t, this.currentSequenceNumber = e;\n    }\n}\n\nfunction xi(t, e) {\n    const n = F(t);\n    return Rt.O(n.ie, e);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A batch of mutations that will be sent as one unit to the backend.\n */ class Ni {\n    /**\n     * @param batchId - The unique ID of this mutation batch.\n     * @param localWriteTime - The original write time of this mutation.\n     * @param baseMutations - Mutations that are used to populate the base\n     * values when this mutation is applied locally. This can be used to locally\n     * overwrite values that are persisted in the remote document cache. Base\n     * mutations are never sent to the backend.\n     * @param mutations - The user-provided mutations in this mutation batch.\n     * User-provided mutations are applied both locally and remotely on the\n     * backend.\n     */\n    constructor(t, e, n, s) {\n        this.batchId = t, this.localWriteTime = e, this.baseMutations = n, this.mutations = s;\n    }\n    /**\n     * Applies all the mutations in this MutationBatch to the specified document\n     * to compute the state of the remote document\n     *\n     * @param document - The document to apply mutations to.\n     * @param batchResult - The result of applying the MutationBatch to the\n     * backend.\n     */    applyToRemoteDocument(t, e) {\n        const n = e.mutationResults;\n        for (let e = 0; e < this.mutations.length; e++) {\n            const s = this.mutations[e];\n            if (s.key.isEqual(t.key)) {\n                $n(s, t, n[e]);\n            }\n        }\n    }\n    /**\n     * Computes the local view of a document given all the mutations in this\n     * batch.\n     *\n     * @param document - The document to apply mutations to.\n     * @param mutatedFields - Fields that have been updated before applying this mutation batch.\n     * @returns A `FieldMask` representing all the fields that are mutated.\n     */    applyToLocalView(t, e) {\n        // First, apply the base state. This allows us to apply non-idempotent\n        // transform against a consistent set of values.\n        for (const n of this.baseMutations) n.key.isEqual(t.key) && (e = Bn(n, t, e, this.localWriteTime));\n        // Second, apply all user-provided mutations.\n                for (const n of this.mutations) n.key.isEqual(t.key) && (e = Bn(n, t, e, this.localWriteTime));\n        return e;\n    }\n    /**\n     * Computes the local view for all provided documents given the mutations in\n     * this batch. Returns a `DocumentKey` to `Mutation` map which can be used to\n     * replace all the mutation applications.\n     */    applyToLocalDocumentSet(t, e) {\n        // TODO(mrschmidt): This implementation is O(n^2). If we apply the mutations\n        // directly (as done in `applyToLocalView()`), we can reduce the complexity\n        // to O(n).\n        const n = us();\n        return this.mutations.forEach((s => {\n            const i = t.get(s.key), r = i.overlayedDocument;\n            // TODO(mutabledocuments): This method should take a MutableDocumentMap\n            // and we should remove this cast.\n                        let o = this.applyToLocalView(r, i.mutatedFields);\n            // Set mutatedFields to null if the document is only from local mutations.\n            // This creates a Set or Delete mutation, instead of trying to create a\n            // patch mutation as the overlay.\n                        o = e.has(s.key) ? null : o;\n            const u = Fn(r, o);\n            null !== u && n.set(s.key, u), r.isValidDocument() || r.convertToNoDocument(nt.min());\n        })), n;\n    }\n    keys() {\n        return this.mutations.reduce(((t, e) => t.add(e.key)), ls());\n    }\n    isEqual(t) {\n        return this.batchId === t.batchId && Z(this.mutations, t.mutations, ((t, e) => Un(t, e))) && Z(this.baseMutations, t.baseMutations, ((t, e) => Un(t, e)));\n    }\n}\n\n/** The result of applying a mutation batch to the backend. */ class ki {\n    constructor(t, e, n, \n    /**\n     * A pre-computed mapping from each mutated document to the resulting\n     * version.\n     */\n    s) {\n        this.batch = t, this.commitVersion = e, this.mutationResults = n, this.docVersions = s;\n    }\n    /**\n     * Creates a new MutationBatchResult for the given batch and results. There\n     * must be one result for each mutation in the batch. This static factory\n     * caches a document=&gt;version mapping (docVersions).\n     */    static from(t, e, n) {\n        M(t.mutations.length === n.length);\n        let s = as;\n        const i = t.mutations;\n        for (let t = 0; t < i.length; t++) s = s.insert(i[t].key, n[t].version);\n        return new ki(t, e, n, s);\n    }\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Representation of an overlay computed by Firestore.\n *\n * Holds information about a mutation and the largest batch id in Firestore when\n * the mutation was created.\n */ class Mi {\n    constructor(t, e) {\n        this.largestBatchId = t, this.mutation = e;\n    }\n    getKey() {\n        return this.mutation.key;\n    }\n    isEqual(t) {\n        return null !== t && this.mutation === t.mutation;\n    }\n    toString() {\n        return `Overlay{\\n      largestBatchId: ${this.largestBatchId},\\n      mutation: ${this.mutation.toString()}\\n    }`;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An immutable set of metadata that the local store tracks for each target.\n */ class Oi {\n    constructor(\n    /** The target being listened to. */\n    t, \n    /**\n     * The target ID to which the target corresponds; Assigned by the\n     * LocalStore for user listens and by the SyncEngine for limbo watches.\n     */\n    e, \n    /** The purpose of the target. */\n    n, \n    /**\n     * The sequence number of the last transaction during which this target data\n     * was modified.\n     */\n    s, \n    /** The latest snapshot version seen for this target. */\n    i = nt.min()\n    /**\n     * The maximum snapshot version at which the associated view\n     * contained no limbo documents.\n     */ , r = nt.min()\n    /**\n     * An opaque, server-assigned token that allows watching a target to be\n     * resumed after disconnecting without retransmitting all the data that\n     * matches the target. The resume token essentially identifies a point in\n     * time from which the server should resume sending results.\n     */ , o = jt.EMPTY_BYTE_STRING) {\n        this.target = t, this.targetId = e, this.purpose = n, this.sequenceNumber = s, this.snapshotVersion = i, \n        this.lastLimboFreeSnapshotVersion = r, this.resumeToken = o;\n    }\n    /** Creates a new target data instance with an updated sequence number. */    withSequenceNumber(t) {\n        return new Oi(this.target, this.targetId, this.purpose, t, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken);\n    }\n    /**\n     * Creates a new target data instance with an updated resume token and\n     * snapshot version.\n     */    withResumeToken(t, e) {\n        return new Oi(this.target, this.targetId, this.purpose, this.sequenceNumber, e, this.lastLimboFreeSnapshotVersion, t);\n    }\n    /**\n     * Creates a new target data instance with an updated last limbo free\n     * snapshot version number.\n     */    withLastLimboFreeSnapshotVersion(t) {\n        return new Oi(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, t, this.resumeToken);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Serializer for values stored in the LocalStore. */ class Fi {\n    constructor(t) {\n        this.re = t;\n    }\n}\n\n/** Decodes a remote document from storage locally to a Document. */ function $i(t, e) {\n    let n;\n    if (e.document) n = Bs(t.re, e.document, !!e.hasCommittedMutations); else if (e.noDocument) {\n        const t = ut.fromSegments(e.noDocument.path), s = qi(e.noDocument.readTime);\n        n = Ve.newNoDocument(t, s), e.hasCommittedMutations && n.setHasCommittedMutations();\n    } else {\n        if (!e.unknownDocument) return k();\n        {\n            const t = ut.fromSegments(e.unknownDocument.path), s = qi(e.unknownDocument.version);\n            n = Ve.newUnknownDocument(t, s);\n        }\n    }\n    return e.readTime && n.setReadTime(function(t) {\n        const e = new et(t[0], t[1]);\n        return nt.fromTimestamp(e);\n    }(e.readTime)), n;\n}\n\n/** Encodes a document for storage locally. */ function Bi(t, e) {\n    const n = e.key, s = {\n        prefixPath: n.getCollectionPath().popLast().toArray(),\n        collectionGroup: n.collectionGroup,\n        documentId: n.path.lastSegment(),\n        readTime: Li(e.readTime),\n        hasCommittedMutations: e.hasCommittedMutations\n    };\n    if (e.isFoundDocument()) s.document = function(t, e) {\n        return {\n            name: xs(t, e.key),\n            fields: e.data.value.mapValue.fields,\n            updateTime: Ps(t, e.version.toTimestamp())\n        };\n    }(t.re, e); else if (e.isNoDocument()) s.noDocument = {\n        path: n.path.toArray(),\n        readTime: Ui(e.version)\n    }; else {\n        if (!e.isUnknownDocument()) return k();\n        s.unknownDocument = {\n            path: n.path.toArray(),\n            version: Ui(e.version)\n        };\n    }\n    return s;\n}\n\nfunction Li(t) {\n    const e = t.toTimestamp();\n    return [ e.seconds, e.nanoseconds ];\n}\n\nfunction Ui(t) {\n    const e = t.toTimestamp();\n    return {\n        seconds: e.seconds,\n        nanoseconds: e.nanoseconds\n    };\n}\n\nfunction qi(t) {\n    const e = new et(t.seconds, t.nanoseconds);\n    return nt.fromTimestamp(e);\n}\n\n/** Encodes a batch of mutations into a DbMutationBatch for local storage. */\n/** Decodes a DbMutationBatch into a MutationBatch */\nfunction Ki(t, e) {\n    const n = (e.baseMutations || []).map((e => Ks(t.re, e)));\n    // Squash old transform mutations into existing patch or set mutations.\n    // The replacement of representing `transforms` with `update_transforms`\n    // on the SDK means that old `transform` mutations stored in IndexedDB need\n    // to be updated to `update_transforms`.\n    // TODO(b/174608374): Remove this code once we perform a schema migration.\n        for (let t = 0; t < e.mutations.length - 1; ++t) {\n        const n = e.mutations[t];\n        if (t + 1 < e.mutations.length && void 0 !== e.mutations[t + 1].transform) {\n            const s = e.mutations[t + 1];\n            n.updateTransforms = s.transform.fieldTransforms, e.mutations.splice(t + 1, 1), \n            ++t;\n        }\n    }\n    const s = e.mutations.map((e => Ks(t.re, e))), i = et.fromMillis(e.localWriteTimeMs);\n    return new Ni(e.batchId, i, n, s);\n}\n\n/** Decodes a DbTarget into TargetData */ function Gi(t) {\n    const e = qi(t.readTime), n = void 0 !== t.lastLimboFreeSnapshotVersion ? qi(t.lastLimboFreeSnapshotVersion) : nt.min();\n    let s;\n    var i;\n    return void 0 !== t.query.documents ? (M(1 === (i = t.query).documents.length), \n    s = un(tn(Ms(i.documents[0])))) : s = function(t) {\n        return un(Ws(t));\n    }(t.query), new Oi(s, t.targetId, 0 /* Listen */ , t.lastListenSequenceNumber, e, n, jt.fromBase64String(t.resumeToken));\n}\n\n/** Encodes TargetData into a DbTarget for storage locally. */ function Qi(t, e) {\n    const n = Ui(e.snapshotVersion), s = Ui(e.lastLimboFreeSnapshotVersion);\n    let i;\n    i = ke(e.target) ? Qs(t.re, e.target) : js(t.re, e.target);\n    // We can't store the resumeToken as a ByteString in IndexedDb, so we\n    // convert it to a base64 string for storage.\n        const r = e.resumeToken.toBase64();\n    // lastListenSequenceNumber is always 0 until we do real GC.\n        return {\n        targetId: e.targetId,\n        canonicalId: Ce(e.target),\n        readTime: n,\n        resumeToken: r,\n        lastListenSequenceNumber: e.sequenceNumber,\n        lastLimboFreeSnapshotVersion: s,\n        query: i\n    };\n}\n\n/**\n * A helper function for figuring out what kind of query has been stored.\n */\n/**\n * Encodes a `BundledQuery` from bundle proto to a Query object.\n *\n * This reconstructs the original query used to build the bundle being loaded,\n * including features exists only in SDKs (for example: limit-to-last).\n */\nfunction ji(t) {\n    const e = Ws({\n        parent: t.parent,\n        structuredQuery: t.structuredQuery\n    });\n    return \"LAST\" === t.limitType ? cn(e, e.limit, \"L\" /* Last */) : e;\n}\n\n/** Encodes a NamedQuery proto object to a NamedQuery model object. */\n/** Encodes a DbDocumentOverlay object to an Overlay model object. */\nfunction Wi(t, e) {\n    return new Mi(e.largestBatchId, Ks(t.re, e.overlayMutation));\n}\n\n/** Decodes an Overlay model object into a DbDocumentOverlay object. */\n/**\n * Returns the DbDocumentOverlayKey corresponding to the given user and\n * document key.\n */\nfunction zi(t, e) {\n    const n = e.path.lastSegment();\n    return [ t, ii(e.path.popLast()), n ];\n}\n\nfunction Hi(t, e, n, s) {\n    return {\n        indexId: t,\n        uid: e.uid || \"\",\n        sequenceNumber: n,\n        readTime: Ui(s.readTime),\n        documentKey: ii(s.documentKey.path),\n        largestBatchId: s.largestBatchId\n    };\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Ji {\n    getBundleMetadata(t, e) {\n        return Yi(t).get(e).next((t => {\n            if (t) return {\n                id: (e = t).bundleId,\n                createTime: qi(e.createTime),\n                version: e.version\n            };\n            /** Encodes a DbBundle to a BundleMetadata object. */\n            var e;\n            /** Encodes a BundleMetadata to a DbBundle. */        }));\n    }\n    saveBundleMetadata(t, e) {\n        return Yi(t).put({\n            bundleId: (n = e).id,\n            createTime: Ui(Ss(n.createTime)),\n            version: n.version\n        });\n        var n;\n        /** Encodes a DbNamedQuery to a NamedQuery. */    }\n    getNamedQuery(t, e) {\n        return Xi(t).get(e).next((t => {\n            if (t) return {\n                name: (e = t).name,\n                query: ji(e.bundledQuery),\n                readTime: qi(e.readTime)\n            };\n            var e;\n            /** Encodes a NamedQuery from a bundle proto to a DbNamedQuery. */        }));\n    }\n    saveNamedQuery(t, e) {\n        return Xi(t).put(function(t) {\n            return {\n                name: t.name,\n                readTime: Ui(Ss(t.readTime)),\n                bundledQuery: t.bundledQuery\n            };\n        }(e));\n    }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the bundles object store.\n */ function Yi(t) {\n    return xi(t, \"bundles\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the namedQueries object store.\n */ function Xi(t) {\n    return xi(t, \"namedQueries\");\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Implementation of DocumentOverlayCache using IndexedDb.\n */ class Zi {\n    /**\n     * @param serializer - The document serializer.\n     * @param userId - The userId for which we are accessing overlays.\n     */\n    constructor(t, e) {\n        this.It = t, this.userId = e;\n    }\n    static oe(t, e) {\n        const n = e.uid || \"\";\n        return new Zi(t, n);\n    }\n    getOverlay(t, e) {\n        return tr(t).get(zi(this.userId, e)).next((t => t ? Wi(this.It, t) : null));\n    }\n    getOverlays(t, e) {\n        const n = os();\n        return Et.forEach(e, (e => this.getOverlay(t, e).next((t => {\n            null !== t && n.set(e, t);\n        })))).next((() => n));\n    }\n    saveOverlays(t, e, n) {\n        const s = [];\n        return n.forEach(((n, i) => {\n            const r = new Mi(e, i);\n            s.push(this.ue(t, r));\n        })), Et.waitFor(s);\n    }\n    removeOverlaysForBatchId(t, e, n) {\n        const s = new Set;\n        // Get the set of unique collection paths.\n                e.forEach((t => s.add(ii(t.getCollectionPath()))));\n        const i = [];\n        return s.forEach((e => {\n            const s = IDBKeyRange.bound([ this.userId, e, n ], [ this.userId, e, n + 1 ], \n            /*lowerOpen=*/ !1, \n            /*upperOpen=*/ !0);\n            i.push(tr(t).Y(\"collectionPathOverlayIndex\", s));\n        })), Et.waitFor(i);\n    }\n    getOverlaysForCollection(t, e, n) {\n        const s = os(), i = ii(e), r = IDBKeyRange.bound([ this.userId, i, n ], [ this.userId, i, Number.POSITIVE_INFINITY ], \n        /*lowerOpen=*/ !0);\n        return tr(t).W(\"collectionPathOverlayIndex\", r).next((t => {\n            for (const e of t) {\n                const t = Wi(this.It, e);\n                s.set(t.getKey(), t);\n            }\n            return s;\n        }));\n    }\n    getOverlaysForCollectionGroup(t, e, n, s) {\n        const i = os();\n        let r;\n        // We want batch IDs larger than `sinceBatchId`, and so the lower bound\n        // is not inclusive.\n                const o = IDBKeyRange.bound([ this.userId, e, n ], [ this.userId, e, Number.POSITIVE_INFINITY ], \n        /*lowerOpen=*/ !0);\n        return tr(t).Z({\n            index: \"collectionGroupOverlayIndex\",\n            range: o\n        }, ((t, e, n) => {\n            // We do not want to return partial batch overlays, even if the size\n            // of the result set exceeds the given `count` argument. Therefore, we\n            // continue to aggregate results even after the result size exceeds\n            // `count` if there are more overlays from the `currentBatchId`.\n            const o = Wi(this.It, e);\n            i.size() < s || o.largestBatchId === r ? (i.set(o.getKey(), o), r = o.largestBatchId) : n.done();\n        })).next((() => i));\n    }\n    ue(t, e) {\n        return tr(t).put(function(t, e, n) {\n            const [s, i, r] = zi(e, n.mutation.key);\n            return {\n                userId: e,\n                collectionPath: i,\n                documentId: r,\n                collectionGroup: n.mutation.key.getCollectionGroup(),\n                largestBatchId: n.largestBatchId,\n                overlayMutation: qs(t.re, n.mutation)\n            };\n        }(this.It, this.userId, e));\n    }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the document overlay object store.\n */ function tr(t) {\n    return xi(t, \"documentOverlays\");\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Note: This code is copied from the backend. Code that is not used by\n// Firestore was removed.\n/** Firestore index value writer.  */\nclass er {\n    constructor() {}\n    // The write methods below short-circuit writing terminators for values\n    // containing a (terminating) truncated value.\n    // As an example, consider the resulting encoding for:\n    // [\"bar\", [2, \"foo\"]] -> (STRING, \"bar\", TERM, ARRAY, NUMBER, 2, STRING, \"foo\", TERM, TERM, TERM)\n    // [\"bar\", [2, truncated(\"foo\")]] -> (STRING, \"bar\", TERM, ARRAY, NUMBER, 2, STRING, \"foo\", TRUNC)\n    // [\"bar\", truncated([\"foo\"])] -> (STRING, \"bar\", TERM, ARRAY. STRING, \"foo\", TERM, TRUNC)\n    /** Writes an index value.  */\n    ce(t, e) {\n        this.ae(t, e), \n        // Write separator to split index values\n        // (see go/firestore-storage-format#encodings).\n        e.he();\n    }\n    ae(t, e) {\n        if (\"nullValue\" in t) this.le(e, 5); else if (\"booleanValue\" in t) this.le(e, 10), \n        e.fe(t.booleanValue ? 1 : 0); else if (\"integerValue\" in t) this.le(e, 15), e.fe(Ht(t.integerValue)); else if (\"doubleValue\" in t) {\n            const n = Ht(t.doubleValue);\n            isNaN(n) ? this.le(e, 13) : (this.le(e, 15), se(n) ? \n            // -0.0, 0 and 0.0 are all considered the same\n            e.fe(0) : e.fe(n));\n        } else if (\"timestampValue\" in t) {\n            const n = t.timestampValue;\n            this.le(e, 20), \"string\" == typeof n ? e.de(n) : (e.de(`${n.seconds || \"\"}`), e.fe(n.nanos || 0));\n        } else if (\"stringValue\" in t) this._e(t.stringValue, e), this.we(e); else if (\"bytesValue\" in t) this.le(e, 30), \n        e.me(Jt(t.bytesValue)), this.we(e); else if (\"referenceValue\" in t) this.ge(t.referenceValue, e); else if (\"geoPointValue\" in t) {\n            const n = t.geoPointValue;\n            this.le(e, 45), e.fe(n.latitude || 0), e.fe(n.longitude || 0);\n        } else \"mapValue\" in t ? Te(t) ? this.le(e, Number.MAX_SAFE_INTEGER) : (this.ye(t.mapValue, e), \n        this.we(e)) : \"arrayValue\" in t ? (this.pe(t.arrayValue, e), this.we(e)) : k();\n    }\n    _e(t, e) {\n        this.le(e, 25), this.Ie(t, e);\n    }\n    Ie(t, e) {\n        e.de(t);\n    }\n    ye(t, e) {\n        const n = t.fields || {};\n        this.le(e, 55);\n        for (const t of Object.keys(n)) this._e(t, e), this.ae(n[t], e);\n    }\n    pe(t, e) {\n        const n = t.values || [];\n        this.le(e, 50);\n        for (const t of n) this.ae(t, e);\n    }\n    ge(t, e) {\n        this.le(e, 37);\n        ut.fromName(t).path.forEach((t => {\n            this.le(e, 60), this.Ie(t, e);\n        }));\n    }\n    le(t, e) {\n        t.fe(e);\n    }\n    we(t) {\n        // While the SDK does not implement truncation, the truncation marker is\n        // used to terminate all variable length values (which are strings, bytes,\n        // references, arrays and maps).\n        t.fe(2);\n    }\n}\n\ner.Te = new er;\n\n/**\n * Counts the number of zeros in a byte.\n *\n * Visible for testing.\n */\nfunction nr(t) {\n    if (0 === t) return 8;\n    let e = 0;\n    return t >> 4 == 0 && (\n    // Test if the first four bits are zero.\n    e += 4, t <<= 4), t >> 6 == 0 && (\n    // Test if the first two (or next two) bits are zero.\n    e += 2, t <<= 2), t >> 7 == 0 && (\n    // Test if the remaining bit is zero.\n    e += 1), e;\n}\n\n/** Counts the number of leading zeros in the given byte array. */\n/**\n * Returns the number of bytes required to store \"value\". Leading zero bytes\n * are skipped.\n */\nfunction sr(t) {\n    // This is just the number of bytes for the unsigned representation of the number.\n    const e = 64 - function(t) {\n        let e = 0;\n        for (let n = 0; n < 8; ++n) {\n            const s = nr(255 & t[n]);\n            if (e += s, 8 !== s) break;\n        }\n        return e;\n    }(t);\n    return Math.ceil(e / 8);\n}\n\n/**\n * OrderedCodeWriter is a minimal-allocation implementation of the writing\n * behavior defined by the backend.\n *\n * The code is ported from its Java counterpart.\n */ class ir {\n    constructor() {\n        this.buffer = new Uint8Array(1024), this.position = 0;\n    }\n    Ee(t) {\n        const e = t[Symbol.iterator]();\n        let n = e.next();\n        for (;!n.done; ) this.Ae(n.value), n = e.next();\n        this.Re();\n    }\n    be(t) {\n        const e = t[Symbol.iterator]();\n        let n = e.next();\n        for (;!n.done; ) this.Pe(n.value), n = e.next();\n        this.ve();\n    }\n    /** Writes utf8 bytes into this byte sequence, ascending. */    Ve(t) {\n        for (const e of t) {\n            const t = e.charCodeAt(0);\n            if (t < 128) this.Ae(t); else if (t < 2048) this.Ae(960 | t >>> 6), this.Ae(128 | 63 & t); else if (e < \"\\ud800\" || \"\\udbff\" < e) this.Ae(480 | t >>> 12), \n            this.Ae(128 | 63 & t >>> 6), this.Ae(128 | 63 & t); else {\n                const t = e.codePointAt(0);\n                this.Ae(240 | t >>> 18), this.Ae(128 | 63 & t >>> 12), this.Ae(128 | 63 & t >>> 6), \n                this.Ae(128 | 63 & t);\n            }\n        }\n        this.Re();\n    }\n    /** Writes utf8 bytes into this byte sequence, descending */    Se(t) {\n        for (const e of t) {\n            const t = e.charCodeAt(0);\n            if (t < 128) this.Pe(t); else if (t < 2048) this.Pe(960 | t >>> 6), this.Pe(128 | 63 & t); else if (e < \"\\ud800\" || \"\\udbff\" < e) this.Pe(480 | t >>> 12), \n            this.Pe(128 | 63 & t >>> 6), this.Pe(128 | 63 & t); else {\n                const t = e.codePointAt(0);\n                this.Pe(240 | t >>> 18), this.Pe(128 | 63 & t >>> 12), this.Pe(128 | 63 & t >>> 6), \n                this.Pe(128 | 63 & t);\n            }\n        }\n        this.ve();\n    }\n    De(t) {\n        // Values are encoded with a single byte length prefix, followed by the\n        // actual value in big-endian format with leading 0 bytes dropped.\n        const e = this.Ce(t), n = sr(e);\n        this.xe(1 + n), this.buffer[this.position++] = 255 & n;\n        // Write the length\n        for (let t = e.length - n; t < e.length; ++t) this.buffer[this.position++] = 255 & e[t];\n    }\n    Ne(t) {\n        // Values are encoded with a single byte length prefix, followed by the\n        // inverted value in big-endian format with leading 0 bytes dropped.\n        const e = this.Ce(t), n = sr(e);\n        this.xe(1 + n), this.buffer[this.position++] = ~(255 & n);\n        // Write the length\n        for (let t = e.length - n; t < e.length; ++t) this.buffer[this.position++] = ~(255 & e[t]);\n    }\n    /**\n     * Writes the \"infinity\" byte sequence that sorts after all other byte\n     * sequences written in ascending order.\n     */    ke() {\n        this.Me(255), this.Me(255);\n    }\n    /**\n     * Writes the \"infinity\" byte sequence that sorts before all other byte\n     * sequences written in descending order.\n     */    Oe() {\n        this.Fe(255), this.Fe(255);\n    }\n    /**\n     * Resets the buffer such that it is the same as when it was newly\n     * constructed.\n     */    reset() {\n        this.position = 0;\n    }\n    seed(t) {\n        this.xe(t.length), this.buffer.set(t, this.position), this.position += t.length;\n    }\n    /** Makes a copy of the encoded bytes in this buffer.  */    $e() {\n        return this.buffer.slice(0, this.position);\n    }\n    /**\n     * Encodes `val` into an encoding so that the order matches the IEEE 754\n     * floating-point comparison results with the following exceptions:\n     *   -0.0 < 0.0\n     *   all non-NaN < NaN\n     *   NaN = NaN\n     */    Ce(t) {\n        const e = \n        /** Converts a JavaScript number to a byte array (using big endian encoding). */\n        function(t) {\n            const e = new DataView(new ArrayBuffer(8));\n            return e.setFloat64(0, t, /* littleEndian= */ !1), new Uint8Array(e.buffer);\n        }(t), n = 0 != (128 & e[0]);\n        // Check if the first bit is set. We use a bit mask since value[0] is\n        // encoded as a number from 0 to 255.\n                // Revert the two complement to get natural ordering\n        e[0] ^= n ? 255 : 128;\n        for (let t = 1; t < e.length; ++t) e[t] ^= n ? 255 : 0;\n        return e;\n    }\n    /** Writes a single byte ascending to the buffer. */    Ae(t) {\n        const e = 255 & t;\n        0 === e ? (this.Me(0), this.Me(255)) : 255 === e ? (this.Me(255), this.Me(0)) : this.Me(e);\n    }\n    /** Writes a single byte descending to the buffer.  */    Pe(t) {\n        const e = 255 & t;\n        0 === e ? (this.Fe(0), this.Fe(255)) : 255 === e ? (this.Fe(255), this.Fe(0)) : this.Fe(t);\n    }\n    Re() {\n        this.Me(0), this.Me(1);\n    }\n    ve() {\n        this.Fe(0), this.Fe(1);\n    }\n    Me(t) {\n        this.xe(1), this.buffer[this.position++] = t;\n    }\n    Fe(t) {\n        this.xe(1), this.buffer[this.position++] = ~t;\n    }\n    xe(t) {\n        const e = t + this.position;\n        if (e <= this.buffer.length) return;\n        // Try doubling.\n                let n = 2 * this.buffer.length;\n        // Still not big enough? Just allocate the right size.\n                n < e && (n = e);\n        // Create the new buffer.\n                const s = new Uint8Array(n);\n        s.set(this.buffer), // copy old data\n        this.buffer = s;\n    }\n}\n\nclass rr {\n    constructor(t) {\n        this.Be = t;\n    }\n    me(t) {\n        this.Be.Ee(t);\n    }\n    de(t) {\n        this.Be.Ve(t);\n    }\n    fe(t) {\n        this.Be.De(t);\n    }\n    he() {\n        this.Be.ke();\n    }\n}\n\nclass or {\n    constructor(t) {\n        this.Be = t;\n    }\n    me(t) {\n        this.Be.be(t);\n    }\n    de(t) {\n        this.Be.Se(t);\n    }\n    fe(t) {\n        this.Be.Ne(t);\n    }\n    he() {\n        this.Be.Oe();\n    }\n}\n\n/**\n * Implements `DirectionalIndexByteEncoder` using `OrderedCodeWriter` for the\n * actual encoding.\n */ class ur {\n    constructor() {\n        this.Be = new ir, this.Le = new rr(this.Be), this.Ue = new or(this.Be);\n    }\n    seed(t) {\n        this.Be.seed(t);\n    }\n    qe(t) {\n        return 0 /* ASCENDING */ === t ? this.Le : this.Ue;\n    }\n    $e() {\n        return this.Be.$e();\n    }\n    reset() {\n        this.Be.reset();\n    }\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Represents an index entry saved by the SDK in persisted storage. */ class cr {\n    constructor(t, e, n, s) {\n        this.indexId = t, this.documentKey = e, this.arrayValue = n, this.directionalValue = s;\n    }\n    /**\n     * Returns an IndexEntry entry that sorts immediately after the current\n     * directional value.\n     */    Ke() {\n        const t = this.directionalValue.length, e = 0 === t || 255 === this.directionalValue[t - 1] ? t + 1 : t, n = new Uint8Array(e);\n        return n.set(this.directionalValue, 0), e !== t ? n.set([ 0 ], this.directionalValue.length) : ++n[n.length - 1], \n        new cr(this.indexId, this.documentKey, this.arrayValue, n);\n    }\n}\n\nfunction ar(t, e) {\n    let n = t.indexId - e.indexId;\n    return 0 !== n ? n : (n = hr(t.arrayValue, e.arrayValue), 0 !== n ? n : (n = hr(t.directionalValue, e.directionalValue), \n    0 !== n ? n : ut.comparator(t.documentKey, e.documentKey)));\n}\n\nfunction hr(t, e) {\n    for (let n = 0; n < t.length && n < e.length; ++n) {\n        const s = t[n] - e[n];\n        if (0 !== s) return s;\n    }\n    return t.length - e.length;\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A light query planner for Firestore.\n *\n * This class matches a `FieldIndex` against a Firestore Query `Target`. It\n * determines whether a given index can be used to serve the specified target.\n *\n * The following table showcases some possible index configurations:\n *\n * Query                                               | Index\n * -----------------------------------------------------------------------------\n * where('a', '==', 'a').where('b', '==', 'b')         | a ASC, b DESC\n * where('a', '==', 'a').where('b', '==', 'b')         | a ASC\n * where('a', '==', 'a').where('b', '==', 'b')         | b DESC\n * where('a', '>=', 'a').orderBy('a')                  | a ASC\n * where('a', '>=', 'a').orderBy('a', 'desc')          | a DESC\n * where('a', '>=', 'a').orderBy('a').orderBy('b')     | a ASC, b ASC\n * where('a', '>=', 'a').orderBy('a').orderBy('b')     | a ASC\n * where('a', 'array-contains', 'a').orderBy('b')      | a CONTAINS, b ASCENDING\n * where('a', 'array-contains', 'a').orderBy('b')      | a CONTAINS\n */ class lr {\n    constructor(t) {\n        this.collectionId = null != t.collectionGroup ? t.collectionGroup : t.path.lastSegment(), \n        this.Ge = t.orderBy, this.Qe = [];\n        for (const e of t.filters) {\n            const t = e;\n            t.dt() ? this.je = t : this.Qe.push(t);\n        }\n    }\n    /**\n     * Returns whether the index can be used to serve the TargetIndexMatcher's\n     * target.\n     *\n     * An index is considered capable of serving the target when:\n     * - The target uses all index segments for its filters and orderBy clauses.\n     *   The target can have additional filter and orderBy clauses, but not\n     *   fewer.\n     * - If an ArrayContains/ArrayContainsAnyfilter is used, the index must also\n     *   have a corresponding `CONTAINS` segment.\n     * - All directional index segments can be mapped to the target as a series of\n     *   equality filters, a single inequality filter and a series of orderBy\n     *   clauses.\n     * - The segments that represent the equality filters may appear out of order.\n     * - The optional segment for the inequality filter must appear after all\n     *   equality segments.\n     * - The segments that represent that orderBy clause of the target must appear\n     *   in order after all equality and inequality segments. Single orderBy\n     *   clauses cannot be skipped, but a continuous orderBy suffix may be\n     *   omitted.\n     */    We(t) {\n        // If there is an array element, find a matching filter.\n        const e = at(t);\n        if (void 0 !== e && !this.ze(e)) return !1;\n        const n = ht(t);\n        let s = 0, i = 0;\n        // Process all equalities first. Equalities can appear out of order.\n        for (;s < n.length && this.ze(n[s]); ++s) ;\n        // If we already have processed all segments, all segments are used to serve\n        // the equality filters and we do not need to map any segments to the\n        // target's inequality and orderBy clauses.\n                if (s === n.length) return !0;\n        // If there is an inequality filter, the next segment must match both the\n        // filter and the first orderBy clause.\n                if (void 0 !== this.je) {\n            const t = n[s];\n            if (!this.He(this.je, t) || !this.Je(this.Ge[i++], t)) return !1;\n            ++s;\n        }\n        // All remaining segments need to represent the prefix of the target's\n        // orderBy.\n                for (;s < n.length; ++s) {\n            const t = n[s];\n            if (i >= this.Ge.length || !this.Je(this.Ge[i++], t)) return !1;\n        }\n        return !0;\n    }\n    ze(t) {\n        for (const e of this.Qe) if (this.He(e, t)) return !0;\n        return !1;\n    }\n    He(t, e) {\n        if (void 0 === t || !t.field.isEqual(e.fieldPath)) return !1;\n        const n = \"array-contains\" /* ARRAY_CONTAINS */ === t.op || \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ === t.op;\n        return 2 /* CONTAINS */ === e.kind === n;\n    }\n    Je(t, e) {\n        return !!t.field.isEqual(e.fieldPath) && (0 /* ASCENDING */ === e.kind && \"asc\" /* ASCENDING */ === t.dir || 1 /* DESCENDING */ === e.kind && \"desc\" /* DESCENDING */ === t.dir);\n    }\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An in-memory implementation of IndexManager.\n */ class fr {\n    constructor() {\n        this.Ye = new dr;\n    }\n    addToCollectionParentIndex(t, e) {\n        return this.Ye.add(e), Et.resolve();\n    }\n    getCollectionParents(t, e) {\n        return Et.resolve(this.Ye.getEntries(e));\n    }\n    addFieldIndex(t, e) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve();\n    }\n    deleteFieldIndex(t, e) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve();\n    }\n    getDocumentsMatchingTarget(t, e) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve(null);\n    }\n    getIndexType(t, e) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve(0 /* NONE */);\n    }\n    getFieldIndexes(t, e) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve([]);\n    }\n    getNextCollectionGroupToUpdate(t) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve(null);\n    }\n    getMinOffset(t, e) {\n        return Et.resolve(gt.min());\n    }\n    getMinOffsetFromCollectionGroup(t, e) {\n        return Et.resolve(gt.min());\n    }\n    updateCollectionGroup(t, e, n) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve();\n    }\n    updateIndexEntries(t, e) {\n        // Field indices are not supported with memory persistence.\n        return Et.resolve();\n    }\n}\n\n/**\n * Internal implementation of the collection-parent index exposed by MemoryIndexManager.\n * Also used for in-memory caching by IndexedDbIndexManager and initial index population\n * in indexeddb_schema.ts\n */ class dr {\n    constructor() {\n        this.index = {};\n    }\n    // Returns false if the entry already existed.\n    add(t) {\n        const e = t.lastSegment(), n = t.popLast(), s = this.index[e] || new Ut(it.comparator), i = !s.has(n);\n        return this.index[e] = s.add(n), i;\n    }\n    has(t) {\n        const e = t.lastSegment(), n = t.popLast(), s = this.index[e];\n        return s && s.has(n);\n    }\n    getEntries(t) {\n        return (this.index[t] || new Ut(it.comparator)).toArray();\n    }\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const _r = new Uint8Array(0);\n\n/**\n * A persisted implementation of IndexManager.\n *\n * PORTING NOTE: Unlike iOS and Android, the Web SDK does not memoize index\n * data as it supports multi-tab access.\n */\nclass wr {\n    constructor(t, e) {\n        this.user = t, this.databaseId = e, \n        /**\n         * An in-memory copy of the index entries we've already written since the SDK\n         * launched. Used to avoid re-writing the same entry repeatedly.\n         *\n         * This is *NOT* a complete cache of what's in persistence and so can never be\n         * used to satisfy reads.\n         */\n        this.Xe = new dr, \n        /**\n         * Maps from a target to its equivalent list of sub-targets. Each sub-target\n         * contains only one term from the target's disjunctive normal form (DNF).\n         */\n        this.Ze = new ts((t => Ce(t)), ((t, e) => Ne(t, e))), this.uid = t.uid || \"\";\n    }\n    /**\n     * Adds a new entry to the collection parent index.\n     *\n     * Repeated calls for the same collectionPath should be avoided within a\n     * transaction as IndexedDbIndexManager only caches writes once a transaction\n     * has been committed.\n     */    addToCollectionParentIndex(t, e) {\n        if (!this.Xe.has(e)) {\n            const n = e.lastSegment(), s = e.popLast();\n            t.addOnCommittedListener((() => {\n                // Add the collection to the in memory cache only if the transaction was\n                // successfully committed.\n                this.Xe.add(e);\n            }));\n            const i = {\n                collectionId: n,\n                parent: ii(s)\n            };\n            return mr(t).put(i);\n        }\n        return Et.resolve();\n    }\n    getCollectionParents(t, e) {\n        const n = [], s = IDBKeyRange.bound([ e, \"\" ], [ tt(e), \"\" ], \n        /*lowerOpen=*/ !1, \n        /*upperOpen=*/ !0);\n        return mr(t).W(s).next((t => {\n            for (const s of t) {\n                // This collectionId guard shouldn't be necessary (and isn't as long\n                // as we're running in a real browser), but there's a bug in\n                // indexeddbshim that breaks our range in our tests running in node:\n                // https://github.com/axemclion/IndexedDBShim/issues/334\n                if (s.collectionId !== e) break;\n                n.push(ui(s.parent));\n            }\n            return n;\n        }));\n    }\n    addFieldIndex(t, e) {\n        // TODO(indexing): Verify that the auto-incrementing index ID works in\n        // Safari & Firefox.\n        const n = yr(t), s = function(t) {\n            return {\n                indexId: t.indexId,\n                collectionGroup: t.collectionGroup,\n                fields: t.fields.map((t => [ t.fieldPath.canonicalString(), t.kind ]))\n            };\n        }(e);\n        delete s.indexId;\n        // `indexId` is auto-populated by IndexedDb\n        const i = n.add(s);\n        if (e.indexState) {\n            const n = pr(t);\n            return i.next((t => {\n                n.put(Hi(t, this.user, e.indexState.sequenceNumber, e.indexState.offset));\n            }));\n        }\n        return i.next();\n    }\n    deleteFieldIndex(t, e) {\n        const n = yr(t), s = pr(t), i = gr(t);\n        return n.delete(e.indexId).next((() => s.delete(IDBKeyRange.bound([ e.indexId ], [ e.indexId + 1 ], \n        /*lowerOpen=*/ !1, \n        /*upperOpen=*/ !0)))).next((() => i.delete(IDBKeyRange.bound([ e.indexId ], [ e.indexId + 1 ], \n        /*lowerOpen=*/ !1, \n        /*upperOpen=*/ !0))));\n    }\n    getDocumentsMatchingTarget(t, e) {\n        const n = gr(t);\n        let s = !0;\n        const i = new Map;\n        return Et.forEach(this.tn(e), (e => this.en(t, e).next((t => {\n            s && (s = !!t), i.set(e, t);\n        })))).next((() => {\n            if (s) {\n                let t = ls();\n                const s = [];\n                return Et.forEach(i, ((i, r) => {\n                    var o;\n                    D(\"IndexedDbIndexManager\", `Using index ${o = i, `id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((t => `${t.fieldPath}:${t.kind}`)).join(\",\")}`} to execute ${Ce(e)}`);\n                    const u = function(t, e) {\n                        const n = at(e);\n                        if (void 0 === n) return null;\n                        for (const e of Me(t, n.fieldPath)) switch (e.op) {\n                          case \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ :\n                            return e.value.arrayValue.values || [];\n\n                          case \"array-contains\" /* ARRAY_CONTAINS */ :\n                            return [ e.value ];\n                            // Remaining filters are not array filters.\n                                                }\n                        return null;\n                    }\n                    /**\n * Returns the list of values that are used in != or NOT_IN filters. Returns\n * `null` if there are no such filters.\n */ (r, i), c = function(t, e) {\n                        const n = new Map;\n                        for (const s of ht(e)) for (const e of Me(t, s.fieldPath)) switch (e.op) {\n                          case \"==\" /* EQUAL */ :\n                          case \"in\" /* IN */ :\n                            // Encode equality prefix, which is encoded in the index value before\n                            // the inequality (e.g. `a == 'a' && b != 'b'` is encoded to\n                            // `value != 'ab'`).\n                            n.set(s.fieldPath.canonicalString(), e.value);\n                            break;\n\n                          case \"not-in\" /* NOT_IN */ :\n                          case \"!=\" /* NOT_EQUAL */ :\n                            // NotIn/NotEqual is always a suffix. There cannot be any remaining\n                            // segments and hence we can return early here.\n                            return n.set(s.fieldPath.canonicalString(), e.value), Array.from(n.values());\n                            // Remaining filters cannot be used as notIn bounds.\n                                                }\n                        return null;\n                    }\n                    /**\n * Returns a lower bound of field values that can be used as a starting point to\n * scan the index defined by `fieldIndex`. Returns `MIN_VALUE` if no lower bound\n * exists.\n */ (r, i), a = function(t, e) {\n                        const n = [];\n                        let s = !0;\n                        // For each segment, retrieve a lower bound if there is a suitable filter or\n                        // startAt.\n                                                for (const i of ht(e)) {\n                            const e = 0 /* ASCENDING */ === i.kind ? Oe(t, i.fieldPath, t.startAt) : Fe(t, i.fieldPath, t.startAt);\n                            n.push(e.value), s && (s = e.inclusive);\n                        }\n                        return new We(n, s);\n                    }\n                    /**\n * Returns an upper bound of field values that can be used as an ending point\n * when scanning the index defined by `fieldIndex`. Returns `MAX_VALUE` if no\n * upper bound exists.\n */ (r, i), h = function(t, e) {\n                        const n = [];\n                        let s = !0;\n                        // For each segment, retrieve an upper bound if there is a suitable filter or\n                        // endAt.\n                                                for (const i of ht(e)) {\n                            const e = 0 /* ASCENDING */ === i.kind ? Fe(t, i.fieldPath, t.endAt) : Oe(t, i.fieldPath, t.endAt);\n                            n.push(e.value), s && (s = e.inclusive);\n                        }\n                        return new We(n, s);\n                    }(r, i), l = this.nn(i, r, a), f = this.nn(i, r, h), d = this.sn(i, r, c), _ = this.rn(i.indexId, u, l, a.inclusive, f, h.inclusive, d);\n                    return Et.forEach(_, (i => n.J(i, e.limit).next((e => {\n                        e.forEach((e => {\n                            const n = ut.fromSegments(e.documentKey);\n                            t.has(n) || (t = t.add(n), s.push(n));\n                        }));\n                    }))));\n                })).next((() => s));\n            }\n            return Et.resolve(null);\n        }));\n    }\n    tn(t) {\n        let e = this.Ze.get(t);\n        return e || (\n        // TODO(orquery): Implement DNF transform\n        e = [ t ], this.Ze.set(t, e), e);\n    }\n    /**\n     * Constructs a key range query on `DbIndexEntryStore` that unions all\n     * bounds.\n     */    rn(t, e, n, s, i, r, o) {\n        // The number of total index scans we union together. This is similar to a\n        // distributed normal form, but adapted for array values. We create a single\n        // index range per value in an ARRAY_CONTAINS or ARRAY_CONTAINS_ANY filter\n        // combined with the values from the query bounds.\n        const u = (null != e ? e.length : 1) * Math.max(n.length, i.length), c = u / (null != e ? e.length : 1), a = [];\n        for (let h = 0; h < u; ++h) {\n            const u = e ? this.on(e[h / c]) : _r, l = this.un(t, u, n[h % c], s), f = this.cn(t, u, i[h % c], r), d = o.map((e => this.un(t, u, e, \n            /* inclusive= */ !0)));\n            a.push(...this.createRange(l, f, d));\n        }\n        return a;\n    }\n    /** Generates the lower bound for `arrayValue` and `directionalValue`. */    un(t, e, n, s) {\n        const i = new cr(t, ut.empty(), e, n);\n        return s ? i : i.Ke();\n    }\n    /** Generates the upper bound for `arrayValue` and `directionalValue`. */    cn(t, e, n, s) {\n        const i = new cr(t, ut.empty(), e, n);\n        return s ? i.Ke() : i;\n    }\n    en(t, e) {\n        const n = new lr(e), s = null != e.collectionGroup ? e.collectionGroup : e.path.lastSegment();\n        return this.getFieldIndexes(t, s).next((t => {\n            // Return the index with the most number of segments.\n            let e = null;\n            for (const s of t) {\n                n.We(s) && (!e || s.fields.length > e.fields.length) && (e = s);\n            }\n            return e;\n        }));\n    }\n    getIndexType(t, e) {\n        let n = 2 /* FULL */;\n        return Et.forEach(this.tn(e), (e => this.en(t, e).next((t => {\n            t ? 0 /* NONE */ !== n && t.fields.length < function(t) {\n                let e = new Ut(ot.comparator), n = !1;\n                for (const s of t.filters) {\n                    // TODO(orquery): Use the flattened filters here\n                    const t = s;\n                    // __name__ is not an explicit segment of any index, so we don't need to\n                    // count it.\n                                        t.field.isKeyField() || (\n                    // ARRAY_CONTAINS or ARRAY_CONTAINS_ANY filters must be counted separately.\n                    // For instance, it is possible to have an index for \"a ARRAY a ASC\". Even\n                    // though these are on the same field, they should be counted as two\n                    // separate segments in an index.\n                    \"array-contains\" /* ARRAY_CONTAINS */ === t.op || \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ === t.op ? n = !0 : e = e.add(t.field));\n                }\n                for (const n of t.orderBy) \n                // __name__ is not an explicit segment of any index, so we don't need to\n                // count it.\n                n.field.isKeyField() || (e = e.add(n.field));\n                return e.size + (n ? 1 : 0);\n            }(e) && (n = 1 /* PARTIAL */) : n = 0 /* NONE */;\n        })))).next((() => n));\n    }\n    /**\n     * Returns the byte encoded form of the directional values in the field index.\n     * Returns `null` if the document does not have all fields specified in the\n     * index.\n     */    an(t, e) {\n        const n = new ur;\n        for (const s of ht(t)) {\n            const t = e.data.field(s.fieldPath);\n            if (null == t) return null;\n            const i = n.qe(s.kind);\n            er.Te.ce(t, i);\n        }\n        return n.$e();\n    }\n    /** Encodes a single value to the ascending index format. */    on(t) {\n        const e = new ur;\n        return er.Te.ce(t, e.qe(0 /* ASCENDING */)), e.$e();\n    }\n    /**\n     * Returns an encoded form of the document key that sorts based on the key\n     * ordering of the field index.\n     */    hn(t, e) {\n        const n = new ur;\n        return er.Te.ce(_e(this.databaseId, e), n.qe(function(t) {\n            const e = ht(t);\n            return 0 === e.length ? 0 /* ASCENDING */ : e[e.length - 1].kind;\n        }(t))), n.$e();\n    }\n    /**\n     * Encodes the given field values according to the specification in `target`.\n     * For IN queries, a list of possible values is returned.\n     */    sn(t, e, n) {\n        if (null === n) return [];\n        let s = [];\n        s.push(new ur);\n        let i = 0;\n        for (const r of ht(t)) {\n            const t = n[i++];\n            for (const n of s) if (this.ln(e, r.fieldPath) && me(t)) s = this.fn(s, r, t); else {\n                const e = n.qe(r.kind);\n                er.Te.ce(t, e);\n            }\n        }\n        return this.dn(s);\n    }\n    /**\n     * Encodes the given bounds according to the specification in `target`. For IN\n     * queries, a list of possible values is returned.\n     */    nn(t, e, n) {\n        return this.sn(t, e, n.position);\n    }\n    /** Returns the byte representation for the provided encoders. */    dn(t) {\n        const e = [];\n        for (let n = 0; n < t.length; ++n) e[n] = t[n].$e();\n        return e;\n    }\n    /**\n     * Creates a separate encoder for each element of an array.\n     *\n     * The method appends each value to all existing encoders (e.g. filter(\"a\",\n     * \"==\", \"a1\").filter(\"b\", \"in\", [\"b1\", \"b2\"]) becomes [\"a1,b1\", \"a1,b2\"]). A\n     * list of new encoders is returned.\n     */    fn(t, e, n) {\n        const s = [ ...t ], i = [];\n        for (const t of n.arrayValue.values || []) for (const n of s) {\n            const s = new ur;\n            s.seed(n.$e()), er.Te.ce(t, s.qe(e.kind)), i.push(s);\n        }\n        return i;\n    }\n    ln(t, e) {\n        return !!t.filters.find((t => t instanceof $e && t.field.isEqual(e) && (\"in\" /* IN */ === t.op || \"not-in\" /* NOT_IN */ === t.op)));\n    }\n    getFieldIndexes(t, e) {\n        const n = yr(t), s = pr(t);\n        return (e ? n.W(\"collectionGroupIndex\", IDBKeyRange.bound(e, e)) : n.W()).next((t => {\n            const e = [];\n            return Et.forEach(t, (t => s.get([ t.indexId, this.uid ]).next((n => {\n                e.push(function(t, e) {\n                    const n = e ? new _t(e.sequenceNumber, new gt(qi(e.readTime), new ut(ui(e.documentKey)), e.largestBatchId)) : _t.empty(), s = t.fields.map((([t, e]) => new ft(ot.fromServerFormat(t), e)));\n                    return new ct(t.indexId, t.collectionGroup, s, n);\n                }(t, n));\n            })))).next((() => e));\n        }));\n    }\n    getNextCollectionGroupToUpdate(t) {\n        return this.getFieldIndexes(t).next((t => 0 === t.length ? null : (t.sort(((t, e) => {\n            const n = t.indexState.sequenceNumber - e.indexState.sequenceNumber;\n            return 0 !== n ? n : X(t.collectionGroup, e.collectionGroup);\n        })), t[0].collectionGroup)));\n    }\n    updateCollectionGroup(t, e, n) {\n        const s = yr(t), i = pr(t);\n        return this._n(t).next((t => s.W(\"collectionGroupIndex\", IDBKeyRange.bound(e, e)).next((e => Et.forEach(e, (e => i.put(Hi(e.indexId, this.user, t, n))))))));\n    }\n    updateIndexEntries(t, e) {\n        // Porting Note: `getFieldIndexes()` on Web does not cache index lookups as\n        // it could be used across different IndexedDB transactions. As any cached\n        // data might be invalidated by other multi-tab clients, we can only trust\n        // data within a single IndexedDB transaction. We therefore add a cache\n        // here.\n        const n = new Map;\n        return Et.forEach(e, ((e, s) => {\n            const i = n.get(e.collectionGroup);\n            return (i ? Et.resolve(i) : this.getFieldIndexes(t, e.collectionGroup)).next((i => (n.set(e.collectionGroup, i), \n            Et.forEach(i, (n => this.wn(t, e, n).next((e => {\n                const i = this.mn(s, n);\n                return e.isEqual(i) ? Et.resolve() : this.gn(t, s, n, e, i);\n            })))))));\n        }));\n    }\n    yn(t, e, n, s) {\n        return gr(t).put({\n            indexId: s.indexId,\n            uid: this.uid,\n            arrayValue: s.arrayValue,\n            directionalValue: s.directionalValue,\n            orderedDocumentKey: this.hn(n, e.key),\n            documentKey: e.key.path.toArray()\n        });\n    }\n    pn(t, e, n, s) {\n        return gr(t).delete([ s.indexId, this.uid, s.arrayValue, s.directionalValue, this.hn(n, e.key), e.key.path.toArray() ]);\n    }\n    wn(t, e, n) {\n        const s = gr(t);\n        let i = new Ut(ar);\n        return s.Z({\n            index: \"documentKeyIndex\",\n            range: IDBKeyRange.only([ n.indexId, this.uid, this.hn(n, e) ])\n        }, ((t, s) => {\n            i = i.add(new cr(n.indexId, e, s.arrayValue, s.directionalValue));\n        })).next((() => i));\n    }\n    /** Creates the index entries for the given document. */    mn(t, e) {\n        let n = new Ut(ar);\n        const s = this.an(e, t);\n        if (null == s) return n;\n        const i = at(e);\n        if (null != i) {\n            const r = t.data.field(i.fieldPath);\n            if (me(r)) for (const i of r.arrayValue.values || []) n = n.add(new cr(e.indexId, t.key, this.on(i), s));\n        } else n = n.add(new cr(e.indexId, t.key, _r, s));\n        return n;\n    }\n    /**\n     * Updates the index entries for the provided document by deleting entries\n     * that are no longer referenced in `newEntries` and adding all newly added\n     * entries.\n     */    gn(t, e, n, s, i) {\n        D(\"IndexedDbIndexManager\", \"Updating index entries for document '%s'\", e.key);\n        const r = [];\n        return function(t, e, n, s, i) {\n            const r = t.getIterator(), o = e.getIterator();\n            let u = Kt(r), c = Kt(o);\n            // Walk through the two sets at the same time, using the ordering defined by\n            // `comparator`.\n            for (;u || c; ) {\n                let t = !1, e = !1;\n                if (u && c) {\n                    const s = n(u, c);\n                    s < 0 ? \n                    // The element was removed if the next element in our ordered\n                    // walkthrough is only in `before`.\n                    e = !0 : s > 0 && (\n                    // The element was added if the next element in our ordered walkthrough\n                    // is only in `after`.\n                    t = !0);\n                } else null != u ? e = !0 : t = !0;\n                t ? (s(c), c = Kt(o)) : e ? (i(u), u = Kt(r)) : (u = Kt(r), c = Kt(o));\n            }\n        }(s, i, ar, (\n        /* onAdd= */ s => {\n            r.push(this.yn(t, e, n, s));\n        }), (\n        /* onRemove= */ s => {\n            r.push(this.pn(t, e, n, s));\n        })), Et.waitFor(r);\n    }\n    _n(t) {\n        let e = 1;\n        return pr(t).Z({\n            index: \"sequenceNumberIndex\",\n            reverse: !0,\n            range: IDBKeyRange.upperBound([ this.uid, Number.MAX_SAFE_INTEGER ])\n        }, ((t, n, s) => {\n            s.done(), e = n.sequenceNumber + 1;\n        })).next((() => e));\n    }\n    /**\n     * Returns a new set of IDB ranges that splits the existing range and excludes\n     * any values that match the `notInValue` from these ranges. As an example,\n     * '[foo > 2 && foo != 3]` becomes  `[foo > 2 && < 3, foo > 3]`.\n     */    createRange(t, e, n) {\n        // The notIn values need to be sorted and unique so that we can return a\n        // sorted set of non-overlapping ranges.\n        n = n.sort(((t, e) => ar(t, e))).filter(((t, e, n) => !e || 0 !== ar(t, n[e - 1])));\n        const s = [];\n        s.push(t);\n        for (const i of n) {\n            const n = ar(i, t), r = ar(i, e);\n            if (0 === n) \n            // `notInValue` is the lower bound. We therefore need to raise the bound\n            // to the next value.\n            s[0] = t.Ke(); else if (n > 0 && r < 0) \n            // `notInValue` is in the middle of the range\n            s.push(i), s.push(i.Ke()); else if (r > 0) \n            // `notInValue` (and all following values) are out of the range\n            break;\n        }\n        s.push(e);\n        const i = [];\n        for (let t = 0; t < s.length; t += 2) i.push(IDBKeyRange.bound([ s[t].indexId, this.uid, s[t].arrayValue, s[t].directionalValue, _r, [] ], [ s[t + 1].indexId, this.uid, s[t + 1].arrayValue, s[t + 1].directionalValue, _r, [] ]));\n        return i;\n    }\n    getMinOffsetFromCollectionGroup(t, e) {\n        return this.getFieldIndexes(t, e).next(Ir);\n    }\n    getMinOffset(t, e) {\n        return Et.mapArray(this.tn(e), (e => this.en(t, e).next((t => t || k())))).next(Ir);\n    }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the collectionParents\n * document store.\n */ function mr(t) {\n    return xi(t, \"collectionParents\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the index entry object store.\n */ function gr(t) {\n    return xi(t, \"indexEntries\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the index configuration object store.\n */ function yr(t) {\n    return xi(t, \"indexConfiguration\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the index state object store.\n */ function pr(t) {\n    return xi(t, \"indexState\");\n}\n\nfunction Ir(t) {\n    M(0 !== t.length);\n    let e = t[0].indexState.offset, n = e.largestBatchId;\n    for (let s = 1; s < t.length; s++) {\n        const i = t[s].indexState.offset;\n        yt(i, e) < 0 && (e = i), n < i.largestBatchId && (n = i.largestBatchId);\n    }\n    return new gt(e.readTime, e.documentKey, n);\n}\n\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const Tr = {\n    didRun: !1,\n    sequenceNumbersCollected: 0,\n    targetsRemoved: 0,\n    documentsRemoved: 0\n};\n\nclass Er {\n    constructor(\n    // When we attempt to collect, we will only do so if the cache size is greater than this\n    // threshold. Passing `COLLECTION_DISABLED` here will cause collection to always be skipped.\n    t, \n    // The percentage of sequence numbers that we will attempt to collect\n    e, \n    // A cap on the total number of sequence numbers that will be collected. This prevents\n    // us from collecting a huge number of sequence numbers if the cache has grown very large.\n    n) {\n        this.cacheSizeCollectionThreshold = t, this.percentileToCollect = e, this.maximumSequenceNumbersToCollect = n;\n    }\n    static withCacheSize(t) {\n        return new Er(t, Er.DEFAULT_COLLECTION_PERCENTILE, Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Delete a mutation batch and the associated document mutations.\n * @returns A PersistencePromise of the document mutations that were removed.\n */\nfunction Ar(t, e, n) {\n    const s = t.store(\"mutations\"), i = t.store(\"documentMutations\"), r = [], o = IDBKeyRange.only(n.batchId);\n    let u = 0;\n    const c = s.Z({\n        range: o\n    }, ((t, e, n) => (u++, n.delete())));\n    r.push(c.next((() => {\n        M(1 === u);\n    })));\n    const a = [];\n    for (const t of n.mutations) {\n        const s = hi(e, t.key.path, n.batchId);\n        r.push(i.delete(s)), a.push(t.key);\n    }\n    return Et.waitFor(r).next((() => a));\n}\n\n/**\n * Returns an approximate size for the given document.\n */ function Rr(t) {\n    if (!t) return 0;\n    let e;\n    if (t.document) e = t.document; else if (t.unknownDocument) e = t.unknownDocument; else {\n        if (!t.noDocument) throw k();\n        e = t.noDocument;\n    }\n    return JSON.stringify(e).length;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** A mutation queue for a specific user, backed by IndexedDB. */ Er.DEFAULT_COLLECTION_PERCENTILE = 10, \nEr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3, Er.DEFAULT = new Er(41943040, Er.DEFAULT_COLLECTION_PERCENTILE, Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT), \nEr.DISABLED = new Er(-1, 0, 0);\n\nclass br {\n    constructor(\n    /**\n     * The normalized userId (e.g. null UID => \"\" userId) used to store /\n     * retrieve mutations.\n     */\n    t, e, n, s) {\n        this.userId = t, this.It = e, this.indexManager = n, this.referenceDelegate = s, \n        /**\n         * Caches the document keys for pending mutation batches. If the mutation\n         * has been removed from IndexedDb, the cached value may continue to\n         * be used to retrieve the batch's document keys. To remove a cached value\n         * locally, `removeCachedMutationKeys()` should be invoked either directly\n         * or through `removeMutationBatches()`.\n         *\n         * With multi-tab, when the primary client acknowledges or rejects a mutation,\n         * this cache is used by secondary clients to invalidate the local\n         * view of the documents that were previously affected by the mutation.\n         */\n        // PORTING NOTE: Multi-tab only.\n        this.In = {};\n    }\n    /**\n     * Creates a new mutation queue for the given user.\n     * @param user - The user for which to create a mutation queue.\n     * @param serializer - The serializer to use when persisting to IndexedDb.\n     */    static oe(t, e, n, s) {\n        // TODO(mcg): Figure out what constraints there are on userIDs\n        // In particular, are there any reserved characters? are empty ids allowed?\n        // For the moment store these together in the same mutations table assuming\n        // that empty userIDs aren't allowed.\n        M(\"\" !== t.uid);\n        const i = t.isAuthenticated() ? t.uid : \"\";\n        return new br(i, e, n, s);\n    }\n    checkEmpty(t) {\n        let e = !0;\n        const n = IDBKeyRange.bound([ this.userId, Number.NEGATIVE_INFINITY ], [ this.userId, Number.POSITIVE_INFINITY ]);\n        return vr(t).Z({\n            index: \"userMutationsIndex\",\n            range: n\n        }, ((t, n, s) => {\n            e = !1, s.done();\n        })).next((() => e));\n    }\n    addMutationBatch(t, e, n, s) {\n        const i = Vr(t), r = vr(t);\n        // The IndexedDb implementation in Chrome (and Firefox) does not handle\n        // compound indices that include auto-generated keys correctly. To ensure\n        // that the index entry is added correctly in all browsers, we perform two\n        // writes: The first write is used to retrieve the next auto-generated Batch\n        // ID, and the second write populates the index and stores the actual\n        // mutation batch.\n        // See: https://bugs.chromium.org/p/chromium/issues/detail?id=701972\n        // We write an empty object to obtain key\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return r.add({}).next((o => {\n            M(\"number\" == typeof o);\n            const u = new Ni(o, e, n, s), c = function(t, e, n) {\n                const s = n.baseMutations.map((e => qs(t.re, e))), i = n.mutations.map((e => qs(t.re, e)));\n                return {\n                    userId: e,\n                    batchId: n.batchId,\n                    localWriteTimeMs: n.localWriteTime.toMillis(),\n                    baseMutations: s,\n                    mutations: i\n                };\n            }(this.It, this.userId, u), a = [];\n            let h = new Ut(((t, e) => X(t.canonicalString(), e.canonicalString())));\n            for (const t of s) {\n                const e = hi(this.userId, t.key.path, o);\n                h = h.add(t.key.path.popLast()), a.push(r.put(c)), a.push(i.put(e, li));\n            }\n            return h.forEach((e => {\n                a.push(this.indexManager.addToCollectionParentIndex(t, e));\n            })), t.addOnCommittedListener((() => {\n                this.In[o] = u.keys();\n            })), Et.waitFor(a).next((() => u));\n        }));\n    }\n    lookupMutationBatch(t, e) {\n        return vr(t).get(e).next((t => t ? (M(t.userId === this.userId), Ki(this.It, t)) : null));\n    }\n    /**\n     * Returns the document keys for the mutation batch with the given batchId.\n     * For primary clients, this method returns `null` after\n     * `removeMutationBatches()` has been called. Secondary clients return a\n     * cached result until `removeCachedMutationKeys()` is invoked.\n     */\n    // PORTING NOTE: Multi-tab only.\n    Tn(t, e) {\n        return this.In[e] ? Et.resolve(this.In[e]) : this.lookupMutationBatch(t, e).next((t => {\n            if (t) {\n                const n = t.keys();\n                return this.In[e] = n, n;\n            }\n            return null;\n        }));\n    }\n    getNextMutationBatchAfterBatchId(t, e) {\n        const n = e + 1, s = IDBKeyRange.lowerBound([ this.userId, n ]);\n        let i = null;\n        return vr(t).Z({\n            index: \"userMutationsIndex\",\n            range: s\n        }, ((t, e, s) => {\n            e.userId === this.userId && (M(e.batchId >= n), i = Ki(this.It, e)), s.done();\n        })).next((() => i));\n    }\n    getHighestUnacknowledgedBatchId(t) {\n        const e = IDBKeyRange.upperBound([ this.userId, Number.POSITIVE_INFINITY ]);\n        let n = -1;\n        return vr(t).Z({\n            index: \"userMutationsIndex\",\n            range: e,\n            reverse: !0\n        }, ((t, e, s) => {\n            n = e.batchId, s.done();\n        })).next((() => n));\n    }\n    getAllMutationBatches(t) {\n        const e = IDBKeyRange.bound([ this.userId, -1 ], [ this.userId, Number.POSITIVE_INFINITY ]);\n        return vr(t).W(\"userMutationsIndex\", e).next((t => t.map((t => Ki(this.It, t)))));\n    }\n    getAllMutationBatchesAffectingDocumentKey(t, e) {\n        // Scan the document-mutation index starting with a prefix starting with\n        // the given documentKey.\n        const n = ai(this.userId, e.path), s = IDBKeyRange.lowerBound(n), i = [];\n        return Vr(t).Z({\n            range: s\n        }, ((n, s, r) => {\n            const [o, u, c] = n, a = ui(u);\n            // Only consider rows matching exactly the specific key of\n            // interest. Note that because we order by path first, and we\n            // order terminators before path separators, we'll encounter all\n            // the index rows for documentKey contiguously. In particular, all\n            // the rows for documentKey will occur before any rows for\n            // documents nested in a subcollection beneath documentKey so we\n            // can stop as soon as we hit any such row.\n                        if (o === this.userId && e.path.isEqual(a)) \n            // Look up the mutation batch in the store.\n            return vr(t).get(c).next((t => {\n                if (!t) throw k();\n                M(t.userId === this.userId), i.push(Ki(this.It, t));\n            }));\n            r.done();\n        })).next((() => i));\n    }\n    getAllMutationBatchesAffectingDocumentKeys(t, e) {\n        let n = new Ut(X);\n        const s = [];\n        return e.forEach((e => {\n            const i = ai(this.userId, e.path), r = IDBKeyRange.lowerBound(i), o = Vr(t).Z({\n                range: r\n            }, ((t, s, i) => {\n                const [r, o, u] = t, c = ui(o);\n                // Only consider rows matching exactly the specific key of\n                // interest. Note that because we order by path first, and we\n                // order terminators before path separators, we'll encounter all\n                // the index rows for documentKey contiguously. In particular, all\n                // the rows for documentKey will occur before any rows for\n                // documents nested in a subcollection beneath documentKey so we\n                // can stop as soon as we hit any such row.\n                                r === this.userId && e.path.isEqual(c) ? n = n.add(u) : i.done();\n            }));\n            s.push(o);\n        })), Et.waitFor(s).next((() => this.En(t, n)));\n    }\n    getAllMutationBatchesAffectingQuery(t, e) {\n        const n = e.path, s = n.length + 1, i = ai(this.userId, n), r = IDBKeyRange.lowerBound(i);\n        // Collect up unique batchIDs encountered during a scan of the index. Use a\n        // SortedSet to accumulate batch IDs so they can be traversed in order in a\n        // scan of the main table.\n        let o = new Ut(X);\n        return Vr(t).Z({\n            range: r\n        }, ((t, e, i) => {\n            const [r, u, c] = t, a = ui(u);\n            r === this.userId && n.isPrefixOf(a) ? \n            // Rows with document keys more than one segment longer than the\n            // query path can't be matches. For example, a query on 'rooms'\n            // can't match the document /rooms/abc/messages/xyx.\n            // TODO(mcg): we'll need a different scanner when we implement\n            // ancestor queries.\n            a.length === s && (o = o.add(c)) : i.done();\n        })).next((() => this.En(t, o)));\n    }\n    En(t, e) {\n        const n = [], s = [];\n        // TODO(rockwood): Implement this using iterate.\n        return e.forEach((e => {\n            s.push(vr(t).get(e).next((t => {\n                if (null === t) throw k();\n                M(t.userId === this.userId), n.push(Ki(this.It, t));\n            })));\n        })), Et.waitFor(s).next((() => n));\n    }\n    removeMutationBatch(t, e) {\n        return Ar(t.ie, this.userId, e).next((n => (t.addOnCommittedListener((() => {\n            this.An(e.batchId);\n        })), Et.forEach(n, (e => this.referenceDelegate.markPotentiallyOrphaned(t, e))))));\n    }\n    /**\n     * Clears the cached keys for a mutation batch. This method should be\n     * called by secondary clients after they process mutation updates.\n     *\n     * Note that this method does not have to be called from primary clients as\n     * the corresponding cache entries are cleared when an acknowledged or\n     * rejected batch is removed from the mutation queue.\n     */\n    // PORTING NOTE: Multi-tab only\n    An(t) {\n        delete this.In[t];\n    }\n    performConsistencyCheck(t) {\n        return this.checkEmpty(t).next((e => {\n            if (!e) return Et.resolve();\n            // Verify that there are no entries in the documentMutations index if\n            // the queue is empty.\n                        const n = IDBKeyRange.lowerBound([ this.userId ]);\n            const s = [];\n            return Vr(t).Z({\n                range: n\n            }, ((t, e, n) => {\n                if (t[0] === this.userId) {\n                    const e = ui(t[1]);\n                    s.push(e);\n                } else n.done();\n            })).next((() => {\n                M(0 === s.length);\n            }));\n        }));\n    }\n    containsKey(t, e) {\n        return Pr(t, this.userId, e);\n    }\n    // PORTING NOTE: Multi-tab only (state is held in memory in other clients).\n    /** Returns the mutation queue's metadata from IndexedDb. */\n    Rn(t) {\n        return Sr(t).get(this.userId).next((t => t || {\n            userId: this.userId,\n            lastAcknowledgedBatchId: -1,\n            lastStreamToken: \"\"\n        }));\n    }\n}\n\n/**\n * @returns true if the mutation queue for the given user contains a pending\n *         mutation for the given key.\n */ function Pr(t, e, n) {\n    const s = ai(e, n.path), i = s[1], r = IDBKeyRange.lowerBound(s);\n    let o = !1;\n    return Vr(t).Z({\n        range: r,\n        X: !0\n    }, ((t, n, s) => {\n        const [r, u, /*batchID*/ c] = t;\n        r === e && u === i && (o = !0), s.done();\n    })).next((() => o));\n}\n\n/** Returns true if any mutation queue contains the given document. */\n/**\n * Helper to get a typed SimpleDbStore for the mutations object store.\n */\nfunction vr(t) {\n    return xi(t, \"mutations\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the mutationQueues object store.\n */ function Vr(t) {\n    return xi(t, \"documentMutations\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the mutationQueues object store.\n */ function Sr(t) {\n    return xi(t, \"mutationQueues\");\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Offset to ensure non-overlapping target ids. */\n/**\n * Generates monotonically increasing target IDs for sending targets to the\n * watch stream.\n *\n * The client constructs two generators, one for the target cache, and one for\n * for the sync engine (to generate limbo documents targets). These\n * generators produce non-overlapping IDs (by using even and odd IDs\n * respectively).\n *\n * By separating the target ID space, the query cache can generate target IDs\n * that persist across client restarts, while sync engine can independently\n * generate in-memory target IDs that are transient and can be reused after a\n * restart.\n */\nclass Dr {\n    constructor(t) {\n        this.bn = t;\n    }\n    next() {\n        return this.bn += 2, this.bn;\n    }\n    static Pn() {\n        // The target cache generator must return '2' in its first call to `next()`\n        // as there is no differentiation in the protocol layer between an unset\n        // number and the number '0'. If we were to sent a target with target ID\n        // '0', the backend would consider it unset and replace it with its own ID.\n        return new Dr(0);\n    }\n    static vn() {\n        // Sync engine assigns target IDs for limbo document detection.\n        return new Dr(-1);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Cr {\n    constructor(t, e) {\n        this.referenceDelegate = t, this.It = e;\n    }\n    // PORTING NOTE: We don't cache global metadata for the target cache, since\n    // some of it (in particular `highestTargetId`) can be modified by secondary\n    // tabs. We could perhaps be more granular (and e.g. still cache\n    // `lastRemoteSnapshotVersion` in memory) but for simplicity we currently go\n    // to IndexedDb whenever we need to read metadata. We can revisit if it turns\n    // out to have a meaningful performance impact.\n    allocateTargetId(t) {\n        return this.Vn(t).next((e => {\n            const n = new Dr(e.highestTargetId);\n            return e.highestTargetId = n.next(), this.Sn(t, e).next((() => e.highestTargetId));\n        }));\n    }\n    getLastRemoteSnapshotVersion(t) {\n        return this.Vn(t).next((t => nt.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds, t.lastRemoteSnapshotVersion.nanoseconds))));\n    }\n    getHighestSequenceNumber(t) {\n        return this.Vn(t).next((t => t.highestListenSequenceNumber));\n    }\n    setTargetsMetadata(t, e, n) {\n        return this.Vn(t).next((s => (s.highestListenSequenceNumber = e, n && (s.lastRemoteSnapshotVersion = n.toTimestamp()), \n        e > s.highestListenSequenceNumber && (s.highestListenSequenceNumber = e), this.Sn(t, s))));\n    }\n    addTargetData(t, e) {\n        return this.Dn(t, e).next((() => this.Vn(t).next((n => (n.targetCount += 1, this.Cn(e, n), \n        this.Sn(t, n))))));\n    }\n    updateTargetData(t, e) {\n        return this.Dn(t, e);\n    }\n    removeTargetData(t, e) {\n        return this.removeMatchingKeysForTargetId(t, e.targetId).next((() => xr(t).delete(e.targetId))).next((() => this.Vn(t))).next((e => (M(e.targetCount > 0), \n        e.targetCount -= 1, this.Sn(t, e))));\n    }\n    /**\n     * Drops any targets with sequence number less than or equal to the upper bound, excepting those\n     * present in `activeTargetIds`. Document associations for the removed targets are also removed.\n     * Returns the number of targets removed.\n     */    removeTargets(t, e, n) {\n        let s = 0;\n        const i = [];\n        return xr(t).Z(((r, o) => {\n            const u = Gi(o);\n            u.sequenceNumber <= e && null === n.get(u.targetId) && (s++, i.push(this.removeTargetData(t, u)));\n        })).next((() => Et.waitFor(i))).next((() => s));\n    }\n    /**\n     * Call provided function with each `TargetData` that we have cached.\n     */    forEachTarget(t, e) {\n        return xr(t).Z(((t, n) => {\n            const s = Gi(n);\n            e(s);\n        }));\n    }\n    Vn(t) {\n        return Nr(t).get(\"targetGlobalKey\").next((t => (M(null !== t), t)));\n    }\n    Sn(t, e) {\n        return Nr(t).put(\"targetGlobalKey\", e);\n    }\n    Dn(t, e) {\n        return xr(t).put(Qi(this.It, e));\n    }\n    /**\n     * In-place updates the provided metadata to account for values in the given\n     * TargetData. Saving is done separately. Returns true if there were any\n     * changes to the metadata.\n     */    Cn(t, e) {\n        let n = !1;\n        return t.targetId > e.highestTargetId && (e.highestTargetId = t.targetId, n = !0), \n        t.sequenceNumber > e.highestListenSequenceNumber && (e.highestListenSequenceNumber = t.sequenceNumber, \n        n = !0), n;\n    }\n    getTargetCount(t) {\n        return this.Vn(t).next((t => t.targetCount));\n    }\n    getTargetData(t, e) {\n        // Iterating by the canonicalId may yield more than one result because\n        // canonicalId values are not required to be unique per target. This query\n        // depends on the queryTargets index to be efficient.\n        const n = Ce(e), s = IDBKeyRange.bound([ n, Number.NEGATIVE_INFINITY ], [ n, Number.POSITIVE_INFINITY ]);\n        let i = null;\n        return xr(t).Z({\n            range: s,\n            index: \"queryTargetsIndex\"\n        }, ((t, n, s) => {\n            const r = Gi(n);\n            // After finding a potential match, check that the target is\n            // actually equal to the requested target.\n                        Ne(e, r.target) && (i = r, s.done());\n        })).next((() => i));\n    }\n    addMatchingKeys(t, e, n) {\n        // PORTING NOTE: The reverse index (documentsTargets) is maintained by\n        // IndexedDb.\n        const s = [], i = kr(t);\n        return e.forEach((e => {\n            const r = ii(e.path);\n            s.push(i.put({\n                targetId: n,\n                path: r\n            })), s.push(this.referenceDelegate.addReference(t, n, e));\n        })), Et.waitFor(s);\n    }\n    removeMatchingKeys(t, e, n) {\n        // PORTING NOTE: The reverse index (documentsTargets) is maintained by\n        // IndexedDb.\n        const s = kr(t);\n        return Et.forEach(e, (e => {\n            const i = ii(e.path);\n            return Et.waitFor([ s.delete([ n, i ]), this.referenceDelegate.removeReference(t, n, e) ]);\n        }));\n    }\n    removeMatchingKeysForTargetId(t, e) {\n        const n = kr(t), s = IDBKeyRange.bound([ e ], [ e + 1 ], \n        /*lowerOpen=*/ !1, \n        /*upperOpen=*/ !0);\n        return n.delete(s);\n    }\n    getMatchingKeysForTargetId(t, e) {\n        const n = IDBKeyRange.bound([ e ], [ e + 1 ], \n        /*lowerOpen=*/ !1, \n        /*upperOpen=*/ !0), s = kr(t);\n        let i = ls();\n        return s.Z({\n            range: n,\n            X: !0\n        }, ((t, e, n) => {\n            const s = ui(t[1]), r = new ut(s);\n            i = i.add(r);\n        })).next((() => i));\n    }\n    containsKey(t, e) {\n        const n = ii(e.path), s = IDBKeyRange.bound([ n ], [ tt(n) ], \n        /*lowerOpen=*/ !1, \n        /*upperOpen=*/ !0);\n        let i = 0;\n        return kr(t).Z({\n            index: \"documentTargetsIndex\",\n            X: !0,\n            range: s\n        }, (([t, e], n, s) => {\n            // Having a sentinel row for a document does not count as containing that document;\n            // For the target cache, containing the document means the document is part of some\n            // target.\n            0 !== t && (i++, s.done());\n        })).next((() => i > 0));\n    }\n    /**\n     * Looks up a TargetData entry by target ID.\n     *\n     * @param targetId - The target ID of the TargetData entry to look up.\n     * @returns The cached TargetData entry, or null if the cache has no entry for\n     * the target.\n     */\n    // PORTING NOTE: Multi-tab only.\n    se(t, e) {\n        return xr(t).get(e).next((t => t ? Gi(t) : null));\n    }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the queries object store.\n */ function xr(t) {\n    return xi(t, \"targets\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the target globals object store.\n */ function Nr(t) {\n    return xi(t, \"targetGlobal\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the document target object store.\n */ function kr(t) {\n    return xi(t, \"targetDocuments\");\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ function Mr([t, e], [n, s]) {\n    const i = X(t, n);\n    return 0 === i ? X(e, s) : i;\n}\n\n/**\n * Used to calculate the nth sequence number. Keeps a rolling buffer of the\n * lowest n values passed to `addElement`, and finally reports the largest of\n * them in `maxValue`.\n */ class Or {\n    constructor(t) {\n        this.xn = t, this.buffer = new Ut(Mr), this.Nn = 0;\n    }\n    kn() {\n        return ++this.Nn;\n    }\n    Mn(t) {\n        const e = [ t, this.kn() ];\n        if (this.buffer.size < this.xn) this.buffer = this.buffer.add(e); else {\n            const t = this.buffer.last();\n            Mr(e, t) < 0 && (this.buffer = this.buffer.delete(t).add(e));\n        }\n    }\n    get maxValue() {\n        // Guaranteed to be non-empty. If we decide we are not collecting any\n        // sequence numbers, nthSequenceNumber below short-circuits. If we have\n        // decided that we are collecting n sequence numbers, it's because n is some\n        // percentage of the existing sequence numbers. That means we should never\n        // be in a situation where we are collecting sequence numbers but don't\n        // actually have any.\n        return this.buffer.last()[0];\n    }\n}\n\n/**\n * This class is responsible for the scheduling of LRU garbage collection. It handles checking\n * whether or not GC is enabled, as well as which delay to use before the next run.\n */ class Fr {\n    constructor(t, e, n) {\n        this.garbageCollector = t, this.asyncQueue = e, this.localStore = n, this.On = null;\n    }\n    start() {\n        -1 !== this.garbageCollector.params.cacheSizeCollectionThreshold && this.Fn(6e4);\n    }\n    stop() {\n        this.On && (this.On.cancel(), this.On = null);\n    }\n    get started() {\n        return null !== this.On;\n    }\n    Fn(t) {\n        D(\"LruGarbageCollector\", `Garbage collection scheduled in ${t}ms`), this.On = this.asyncQueue.enqueueAfterDelay(\"lru_garbage_collection\" /* LruGarbageCollection */ , t, (async () => {\n            this.On = null;\n            try {\n                await this.localStore.collectGarbage(this.garbageCollector);\n            } catch (t) {\n                vt(t) ? D(\"LruGarbageCollector\", \"Ignoring IndexedDB error during garbage collection: \", t) : await Tt(t);\n            }\n            await this.Fn(3e5);\n        }));\n    }\n}\n\n/** Implements the steps for LRU garbage collection. */ class $r {\n    constructor(t, e) {\n        this.$n = t, this.params = e;\n    }\n    calculateTargetCount(t, e) {\n        return this.$n.Bn(t).next((t => Math.floor(e / 100 * t)));\n    }\n    nthSequenceNumber(t, e) {\n        if (0 === e) return Et.resolve(kt.at);\n        const n = new Or(e);\n        return this.$n.forEachTarget(t, (t => n.Mn(t.sequenceNumber))).next((() => this.$n.Ln(t, (t => n.Mn(t))))).next((() => n.maxValue));\n    }\n    removeTargets(t, e, n) {\n        return this.$n.removeTargets(t, e, n);\n    }\n    removeOrphanedDocuments(t, e) {\n        return this.$n.removeOrphanedDocuments(t, e);\n    }\n    collect(t, e) {\n        return -1 === this.params.cacheSizeCollectionThreshold ? (D(\"LruGarbageCollector\", \"Garbage collection skipped; disabled\"), \n        Et.resolve(Tr)) : this.getCacheSize(t).next((n => n < this.params.cacheSizeCollectionThreshold ? (D(\"LruGarbageCollector\", `Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`), \n        Tr) : this.Un(t, e)));\n    }\n    getCacheSize(t) {\n        return this.$n.getCacheSize(t);\n    }\n    Un(t, e) {\n        let n, s, i, r, o, c, a;\n        const h = Date.now();\n        return this.calculateTargetCount(t, this.params.percentileToCollect).next((e => (\n        // Cap at the configured max\n        e > this.params.maximumSequenceNumbersToCollect ? (D(\"LruGarbageCollector\", `Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`), \n        s = this.params.maximumSequenceNumbersToCollect) : s = e, r = Date.now(), this.nthSequenceNumber(t, s)))).next((s => (n = s, \n        o = Date.now(), this.removeTargets(t, n, e)))).next((e => (i = e, c = Date.now(), \n        this.removeOrphanedDocuments(t, n)))).next((t => {\n            if (a = Date.now(), V() <= u.DEBUG) {\n                D(\"LruGarbageCollector\", `LRU Garbage Collection\\n\\tCounted targets in ${r - h}ms\\n\\tDetermined least recently used ${s} in ` + (o - r) + \"ms\\n\" + `\\tRemoved ${i} targets in ` + (c - o) + \"ms\\n\" + `\\tRemoved ${t} documents in ` + (a - c) + \"ms\\n\" + `Total Duration: ${a - h}ms`);\n            }\n            return Et.resolve({\n                didRun: !0,\n                sequenceNumbersCollected: s,\n                targetsRemoved: i,\n                documentsRemoved: t\n            });\n        }));\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Provides LRU functionality for IndexedDB persistence. */\nclass Br {\n    constructor(t, e) {\n        this.db = t, this.garbageCollector = function(t, e) {\n            return new $r(t, e);\n        }(this, e);\n    }\n    Bn(t) {\n        const e = this.qn(t);\n        return this.db.getTargetCache().getTargetCount(t).next((t => e.next((e => t + e))));\n    }\n    qn(t) {\n        let e = 0;\n        return this.Ln(t, (t => {\n            e++;\n        })).next((() => e));\n    }\n    forEachTarget(t, e) {\n        return this.db.getTargetCache().forEachTarget(t, e);\n    }\n    Ln(t, e) {\n        return this.Kn(t, ((t, n) => e(n)));\n    }\n    addReference(t, e, n) {\n        return Lr(t, n);\n    }\n    removeReference(t, e, n) {\n        return Lr(t, n);\n    }\n    removeTargets(t, e, n) {\n        return this.db.getTargetCache().removeTargets(t, e, n);\n    }\n    markPotentiallyOrphaned(t, e) {\n        return Lr(t, e);\n    }\n    /**\n     * Returns true if anything would prevent this document from being garbage\n     * collected, given that the document in question is not present in any\n     * targets and has a sequence number less than or equal to the upper bound for\n     * the collection run.\n     */    Gn(t, e) {\n        return function(t, e) {\n            let n = !1;\n            return Sr(t).tt((s => Pr(t, s, e).next((t => (t && (n = !0), Et.resolve(!t)))))).next((() => n));\n        }(t, e);\n    }\n    removeOrphanedDocuments(t, e) {\n        const n = this.db.getRemoteDocumentCache().newChangeBuffer(), s = [];\n        let i = 0;\n        return this.Kn(t, ((r, o) => {\n            if (o <= e) {\n                const e = this.Gn(t, r).next((e => {\n                    if (!e) \n                    // Our size accounting requires us to read all documents before\n                    // removing them.\n                    return i++, n.getEntry(t, r).next((() => (n.removeEntry(r, nt.min()), kr(t).delete([ 0, ii(r.path) ]))));\n                }));\n                s.push(e);\n            }\n        })).next((() => Et.waitFor(s))).next((() => n.apply(t))).next((() => i));\n    }\n    removeTarget(t, e) {\n        const n = e.withSequenceNumber(t.currentSequenceNumber);\n        return this.db.getTargetCache().updateTargetData(t, n);\n    }\n    updateLimboDocument(t, e) {\n        return Lr(t, e);\n    }\n    /**\n     * Call provided function for each document in the cache that is 'orphaned'. Orphaned\n     * means not a part of any target, so the only entry in the target-document index for\n     * that document will be the sentinel row (targetId 0), which will also have the sequence\n     * number for the last time the document was accessed.\n     */    Kn(t, e) {\n        const n = kr(t);\n        let s, i = kt.at;\n        return n.Z({\n            index: \"documentTargetsIndex\"\n        }, (([t, n], {path: r, sequenceNumber: o}) => {\n            0 === t ? (\n            // if nextToReport is valid, report it, this is a new key so the\n            // last one must not be a member of any targets.\n            i !== kt.at && e(new ut(ui(s)), i), \n            // set nextToReport to be this sequence number. It's the next one we\n            // might report, if we don't find any targets for this document.\n            // Note that the sequence number must be defined when the targetId\n            // is 0.\n            i = o, s = r) : \n            // set nextToReport to be invalid, we know we don't need to report\n            // this one since we found a target for it.\n            i = kt.at;\n        })).next((() => {\n            // Since we report sequence numbers after getting to the next key, we\n            // need to check if the last key we iterated over was an orphaned\n            // document and report it.\n            i !== kt.at && e(new ut(ui(s)), i);\n        }));\n    }\n    getCacheSize(t) {\n        return this.db.getRemoteDocumentCache().getSize(t);\n    }\n}\n\nfunction Lr(t, e) {\n    return kr(t).put(\n    /**\n * @returns A value suitable for writing a sentinel row in the target-document\n * store.\n */\n    function(t, e) {\n        return {\n            targetId: 0,\n            path: ii(t.path),\n            sequenceNumber: e\n        };\n    }(e, t.currentSequenceNumber));\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An in-memory buffer of entries to be written to a RemoteDocumentCache.\n * It can be used to batch up a set of changes to be written to the cache, but\n * additionally supports reading entries back with the `getEntry()` method,\n * falling back to the underlying RemoteDocumentCache if no entry is\n * buffered.\n *\n * Entries added to the cache *must* be read first. This is to facilitate\n * calculating the size delta of the pending changes.\n *\n * PORTING NOTE: This class was implemented then removed from other platforms.\n * If byte-counting ends up being needed on the other platforms, consider\n * porting this class as part of that implementation work.\n */ class Ur {\n    constructor() {\n        // A mapping of document key to the new cache entry that should be written.\n        this.changes = new ts((t => t.toString()), ((t, e) => t.isEqual(e))), this.changesApplied = !1;\n    }\n    /**\n     * Buffers a `RemoteDocumentCache.addEntry()` call.\n     *\n     * You can only modify documents that have already been retrieved via\n     * `getEntry()/getEntries()` (enforced via IndexedDbs `apply()`).\n     */    addEntry(t) {\n        this.assertNotApplied(), this.changes.set(t.key, t);\n    }\n    /**\n     * Buffers a `RemoteDocumentCache.removeEntry()` call.\n     *\n     * You can only remove documents that have already been retrieved via\n     * `getEntry()/getEntries()` (enforced via IndexedDbs `apply()`).\n     */    removeEntry(t, e) {\n        this.assertNotApplied(), this.changes.set(t, Ve.newInvalidDocument(t).setReadTime(e));\n    }\n    /**\n     * Looks up an entry in the cache. The buffered changes will first be checked,\n     * and if no buffered change applies, this will forward to\n     * `RemoteDocumentCache.getEntry()`.\n     *\n     * @param transaction - The transaction in which to perform any persistence\n     *     operations.\n     * @param documentKey - The key of the entry to look up.\n     * @returns The cached document or an invalid document if we have nothing\n     * cached.\n     */    getEntry(t, e) {\n        this.assertNotApplied();\n        const n = this.changes.get(e);\n        return void 0 !== n ? Et.resolve(n) : this.getFromCache(t, e);\n    }\n    /**\n     * Looks up several entries in the cache, forwarding to\n     * `RemoteDocumentCache.getEntry()`.\n     *\n     * @param transaction - The transaction in which to perform any persistence\n     *     operations.\n     * @param documentKeys - The keys of the entries to look up.\n     * @returns A map of cached documents, indexed by key. If an entry cannot be\n     *     found, the corresponding key will be mapped to an invalid document.\n     */    getEntries(t, e) {\n        return this.getAllFromCache(t, e);\n    }\n    /**\n     * Applies buffered changes to the underlying RemoteDocumentCache, using\n     * the provided transaction.\n     */    apply(t) {\n        return this.assertNotApplied(), this.changesApplied = !0, this.applyChanges(t);\n    }\n    /** Helper to assert this.changes is not null  */    assertNotApplied() {}\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The RemoteDocumentCache for IndexedDb. To construct, invoke\n * `newIndexedDbRemoteDocumentCache()`.\n */ class qr {\n    constructor(t) {\n        this.It = t;\n    }\n    setIndexManager(t) {\n        this.indexManager = t;\n    }\n    /**\n     * Adds the supplied entries to the cache.\n     *\n     * All calls of `addEntry` are required to go through the RemoteDocumentChangeBuffer\n     * returned by `newChangeBuffer()` to ensure proper accounting of metadata.\n     */    addEntry(t, e, n) {\n        return jr(t).put(n);\n    }\n    /**\n     * Removes a document from the cache.\n     *\n     * All calls of `removeEntry`  are required to go through the RemoteDocumentChangeBuffer\n     * returned by `newChangeBuffer()` to ensure proper accounting of metadata.\n     */    removeEntry(t, e, n) {\n        return jr(t).delete(\n        /**\n * Returns a key that can be used for document lookups via the primary key of\n * the DbRemoteDocument object store.\n */\n        function(t, e) {\n            const n = t.path.toArray();\n            return [ \n            /* prefix path */ n.slice(0, n.length - 2), \n            /* collection id */ n[n.length - 2], Li(e), \n            /* document id */ n[n.length - 1] ];\n        }\n        /**\n * Returns a key that can be used for document lookups on the\n * `DbRemoteDocumentDocumentCollectionGroupIndex` index.\n */ (e, n));\n    }\n    /**\n     * Updates the current cache size.\n     *\n     * Callers to `addEntry()` and `removeEntry()` *must* call this afterwards to update the\n     * cache's metadata.\n     */    updateMetadata(t, e) {\n        return this.getMetadata(t).next((n => (n.byteSize += e, this.Qn(t, n))));\n    }\n    getEntry(t, e) {\n        let n = Ve.newInvalidDocument(e);\n        return jr(t).Z({\n            index: \"documentKeyIndex\",\n            range: IDBKeyRange.only(Wr(e))\n        }, ((t, s) => {\n            n = this.jn(e, s);\n        })).next((() => n));\n    }\n    /**\n     * Looks up an entry in the cache.\n     *\n     * @param documentKey - The key of the entry to look up.\n     * @returns The cached document entry and its size.\n     */    Wn(t, e) {\n        let n = {\n            size: 0,\n            document: Ve.newInvalidDocument(e)\n        };\n        return jr(t).Z({\n            index: \"documentKeyIndex\",\n            range: IDBKeyRange.only(Wr(e))\n        }, ((t, s) => {\n            n = {\n                document: this.jn(e, s),\n                size: Rr(s)\n            };\n        })).next((() => n));\n    }\n    getEntries(t, e) {\n        let n = ns();\n        return this.zn(t, e, ((t, e) => {\n            const s = this.jn(t, e);\n            n = n.insert(t, s);\n        })).next((() => n));\n    }\n    /**\n     * Looks up several entries in the cache.\n     *\n     * @param documentKeys - The set of keys entries to look up.\n     * @returns A map of documents indexed by key and a map of sizes indexed by\n     *     key (zero if the document does not exist).\n     */    Hn(t, e) {\n        let n = ns(), s = new $t(ut.comparator);\n        return this.zn(t, e, ((t, e) => {\n            const i = this.jn(t, e);\n            n = n.insert(t, i), s = s.insert(t, Rr(e));\n        })).next((() => ({\n            documents: n,\n            Jn: s\n        })));\n    }\n    zn(t, e, n) {\n        if (e.isEmpty()) return Et.resolve();\n        let s = new Ut(Hr);\n        e.forEach((t => s = s.add(t)));\n        const i = IDBKeyRange.bound(Wr(s.first()), Wr(s.last())), r = s.getIterator();\n        let o = r.getNext();\n        return jr(t).Z({\n            index: \"documentKeyIndex\",\n            range: i\n        }, ((t, e, s) => {\n            const i = ut.fromSegments([ ...e.prefixPath, e.collectionGroup, e.documentId ]);\n            // Go through keys not found in cache.\n                        for (;o && Hr(o, i) < 0; ) n(o, null), o = r.getNext();\n            o && o.isEqual(i) && (\n            // Key found in cache.\n            n(o, e), o = r.hasNext() ? r.getNext() : null), \n            // Skip to the next key (if there is one).\n            o ? s.j(Wr(o)) : s.done();\n        })).next((() => {\n            // The rest of the keys are not in the cache. One case where `iterate`\n            // above won't go through them is when the cache is empty.\n            for (;o; ) n(o, null), o = r.hasNext() ? r.getNext() : null;\n        }));\n    }\n    getAllFromCollection(t, e, n) {\n        const s = [ e.popLast().toArray(), e.lastSegment(), Li(n.readTime), n.documentKey.path.isEmpty() ? \"\" : n.documentKey.path.lastSegment() ], i = [ e.popLast().toArray(), e.lastSegment(), [ Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER ], \"\" ];\n        return jr(t).W(IDBKeyRange.bound(s, i, !0)).next((t => {\n            let e = ns();\n            for (const n of t) {\n                const t = this.jn(ut.fromSegments(n.prefixPath.concat(n.collectionGroup, n.documentId)), n);\n                e = e.insert(t.key, t);\n            }\n            return e;\n        }));\n    }\n    getAllFromCollectionGroup(t, e, n, s) {\n        let i = ns();\n        const r = zr(e, n), o = zr(e, gt.max());\n        return jr(t).Z({\n            index: \"collectionGroupIndex\",\n            range: IDBKeyRange.bound(r, o, !0)\n        }, ((t, e, n) => {\n            const r = this.jn(ut.fromSegments(e.prefixPath.concat(e.collectionGroup, e.documentId)), e);\n            i = i.insert(r.key, r), i.size === s && n.done();\n        })).next((() => i));\n    }\n    newChangeBuffer(t) {\n        return new Gr(this, !!t && t.trackRemovals);\n    }\n    getSize(t) {\n        return this.getMetadata(t).next((t => t.byteSize));\n    }\n    getMetadata(t) {\n        return Qr(t).get(\"remoteDocumentGlobalKey\").next((t => (M(!!t), t)));\n    }\n    Qn(t, e) {\n        return Qr(t).put(\"remoteDocumentGlobalKey\", e);\n    }\n    /**\n     * Decodes `dbRemoteDoc` and returns the document (or an invalid document if\n     * the document corresponds to the format used for sentinel deletes).\n     */    jn(t, e) {\n        if (e) {\n            const t = $i(this.It, e);\n            // Whether the document is a sentinel removal and should only be used in the\n            // `getNewDocumentChanges()`\n                        if (!(t.isNoDocument() && t.version.isEqual(nt.min()))) return t;\n        }\n        return Ve.newInvalidDocument(t);\n    }\n}\n\n/** Creates a new IndexedDbRemoteDocumentCache. */ function Kr(t) {\n    return new qr(t);\n}\n\n/**\n * Handles the details of adding and updating documents in the IndexedDbRemoteDocumentCache.\n *\n * Unlike the MemoryRemoteDocumentChangeBuffer, the IndexedDb implementation computes the size\n * delta for all submitted changes. This avoids having to re-read all documents from IndexedDb\n * when we apply the changes.\n */ class Gr extends Ur {\n    /**\n     * @param documentCache - The IndexedDbRemoteDocumentCache to apply the changes to.\n     * @param trackRemovals - Whether to create sentinel deletes that can be tracked by\n     * `getNewDocumentChanges()`.\n     */\n    constructor(t, e) {\n        super(), this.Yn = t, this.trackRemovals = e, \n        // A map of document sizes and read times prior to applying the changes in\n        // this buffer.\n        this.Xn = new ts((t => t.toString()), ((t, e) => t.isEqual(e)));\n    }\n    applyChanges(t) {\n        const e = [];\n        let n = 0, s = new Ut(((t, e) => X(t.canonicalString(), e.canonicalString())));\n        return this.changes.forEach(((i, r) => {\n            const o = this.Xn.get(i);\n            if (e.push(this.Yn.removeEntry(t, i, o.readTime)), r.isValidDocument()) {\n                const u = Bi(this.Yn.It, r);\n                s = s.add(i.path.popLast());\n                const c = Rr(u);\n                n += c - o.size, e.push(this.Yn.addEntry(t, i, u));\n            } else if (n -= o.size, this.trackRemovals) {\n                // In order to track removals, we store a \"sentinel delete\" in the\n                // RemoteDocumentCache. This entry is represented by a NoDocument\n                // with a version of 0 and ignored by `maybeDecodeDocument()` but\n                // preserved in `getNewDocumentChanges()`.\n                const n = Bi(this.Yn.It, r.convertToNoDocument(nt.min()));\n                e.push(this.Yn.addEntry(t, i, n));\n            }\n        })), s.forEach((n => {\n            e.push(this.Yn.indexManager.addToCollectionParentIndex(t, n));\n        })), e.push(this.Yn.updateMetadata(t, n)), Et.waitFor(e);\n    }\n    getFromCache(t, e) {\n        // Record the size of everything we load from the cache so we can compute a delta later.\n        return this.Yn.Wn(t, e).next((t => (this.Xn.set(e, {\n            size: t.size,\n            readTime: t.document.readTime\n        }), t.document)));\n    }\n    getAllFromCache(t, e) {\n        // Record the size of everything we load from the cache so we can compute\n        // a delta later.\n        return this.Yn.Hn(t, e).next((({documents: t, Jn: e}) => (\n        // Note: `getAllFromCache` returns two maps instead of a single map from\n        // keys to `DocumentSizeEntry`s. This is to allow returning the\n        // `MutableDocumentMap` directly, without a conversion.\n        e.forEach(((e, n) => {\n            this.Xn.set(e, {\n                size: n,\n                readTime: t.get(e).readTime\n            });\n        })), t)));\n    }\n}\n\nfunction Qr(t) {\n    return xi(t, \"remoteDocumentGlobal\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the remoteDocuments object store.\n */ function jr(t) {\n    return xi(t, \"remoteDocumentsV14\");\n}\n\n/**\n * Returns a key that can be used for document lookups on the\n * `DbRemoteDocumentDocumentKeyIndex` index.\n */ function Wr(t) {\n    const e = t.path.toArray();\n    return [ \n    /* prefix path */ e.slice(0, e.length - 2), \n    /* collection id */ e[e.length - 2], \n    /* document id */ e[e.length - 1] ];\n}\n\nfunction zr(t, e) {\n    const n = e.documentKey.path.toArray();\n    return [ \n    /* collection id */ t, Li(e.readTime), \n    /* prefix path */ n.slice(0, n.length - 2), \n    /* document id */ n.length > 0 ? n[n.length - 1] : \"\" ];\n}\n\n/**\n * Comparator that compares document keys according to the primary key sorting\n * used by the `DbRemoteDocumentDocument` store (by prefix path, collection id\n * and then document ID).\n *\n * Visible for testing.\n */ function Hr(t, e) {\n    const n = t.path.toArray(), s = e.path.toArray();\n    // The ordering is based on https://chromium.googlesource.com/chromium/blink/+/fe5c21fef94dae71c1c3344775b8d8a7f7e6d9ec/Source/modules/indexeddb/IDBKey.cpp#74\n    let i = 0;\n    for (let t = 0; t < n.length - 2 && t < s.length - 2; ++t) if (i = X(n[t], s[t]), \n    i) return i;\n    return i = X(n.length, s.length), i || (i = X(n[n.length - 2], s[s.length - 2]), \n    i || X(n[n.length - 1], s[s.length - 1]));\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Schema Version for the Web client:\n * 1.  Initial version including Mutation Queue, Query Cache, and Remote\n *     Document Cache\n * 2.  Used to ensure a targetGlobal object exists and add targetCount to it. No\n *     longer required because migration 3 unconditionally clears it.\n * 3.  Dropped and re-created Query Cache to deal with cache corruption related\n *     to limbo resolution. Addresses\n *     https://github.com/firebase/firebase-ios-sdk/issues/1548\n * 4.  Multi-Tab Support.\n * 5.  Removal of held write acks.\n * 6.  Create document global for tracking document cache size.\n * 7.  Ensure every cached document has a sentinel row with a sequence number.\n * 8.  Add collection-parent index for Collection Group queries.\n * 9.  Change RemoteDocumentChanges store to be keyed by readTime rather than\n *     an auto-incrementing ID. This is required for Index-Free queries.\n * 10. Rewrite the canonical IDs to the explicit Protobuf-based format.\n * 11. Add bundles and named_queries for bundle support.\n * 12. Add document overlays.\n * 13. Rewrite the keys of the remote document cache to allow for efficient\n *     document lookup via `getAll()`.\n * 14. Add overlays.\n * 15. Add indexing support.\n */\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents a local view (overlay) of a document, and the fields that are\n * locally mutated.\n */\nclass Jr {\n    constructor(t, \n    /**\n     * The fields that are locally mutated by patch mutations. If the overlayed\n     * document is from set or delete mutations, this returns null.\n     */\n    e) {\n        this.overlayedDocument = t, this.mutatedFields = e;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A readonly view of the local state of all documents we're tracking (i.e. we\n * have a cached version in remoteDocumentCache or local mutations for the\n * document). The view is computed by applying the mutations in the\n * MutationQueue to the RemoteDocumentCache.\n */ class Yr {\n    constructor(t, e, n, s) {\n        this.remoteDocumentCache = t, this.mutationQueue = e, this.documentOverlayCache = n, \n        this.indexManager = s;\n    }\n    /**\n     * Get the local view of the document identified by `key`.\n     *\n     * @returns Local view of the document or null if we don't have any cached\n     * state for it.\n     */    getDocument(t, e) {\n        let n = null;\n        return this.documentOverlayCache.getOverlay(t, e).next((s => (n = s, this.getBaseDocument(t, e, n)))).next((t => (null !== n && Bn(n.mutation, t, Gt.empty(), et.now()), \n        t)));\n    }\n    /**\n     * Gets the local view of the documents identified by `keys`.\n     *\n     * If we don't have cached state for a document in `keys`, a NoDocument will\n     * be stored for that key in the resulting set.\n     */    getDocuments(t, e) {\n        return this.remoteDocumentCache.getEntries(t, e).next((e => this.getLocalViewOfDocuments(t, e, ls()).next((() => e))));\n    }\n    /**\n     * Similar to `getDocuments`, but creates the local view from the given\n     * `baseDocs` without retrieving documents from the local store.\n     *\n     * @param transaction - The transaction this operation is scoped to.\n     * @param docs - The documents to apply local mutations to get the local views.\n     * @param existenceStateChanged - The set of document keys whose existence state\n     *   is changed. This is useful to determine if some documents overlay needs\n     *   to be recalculated.\n     */    getLocalViewOfDocuments(t, e, n = ls()) {\n        const s = os();\n        return this.populateOverlays(t, s, e).next((() => this.computeViews(t, e, s, n).next((t => {\n            let e = is();\n            return t.forEach(((t, n) => {\n                e = e.insert(t, n.overlayedDocument);\n            })), e;\n        }))));\n    }\n    /**\n     * Gets the overlayed documents for the given document map, which will include\n     * the local view of those documents and a `FieldMask` indicating which fields\n     * are mutated locally, `null` if overlay is a Set or Delete mutation.\n     */    getOverlayedDocuments(t, e) {\n        const n = os();\n        return this.populateOverlays(t, n, e).next((() => this.computeViews(t, e, n, ls())));\n    }\n    /**\n     * Fetches the overlays for {@code docs} and adds them to provided overlay map\n     * if the map does not already contain an entry for the given document key.\n     */    populateOverlays(t, e, n) {\n        const s = [];\n        return n.forEach((t => {\n            e.has(t) || s.push(t);\n        })), this.documentOverlayCache.getOverlays(t, s).next((t => {\n            t.forEach(((t, n) => {\n                e.set(t, n);\n            }));\n        }));\n    }\n    /**\n     * Computes the local view for the given documents.\n     *\n     * @param docs - The documents to compute views for. It also has the base\n     *   version of the documents.\n     * @param overlays - The overlays that need to be applied to the given base\n     *   version of the documents.\n     * @param existenceStateChanged - A set of documents whose existence states\n     *   might have changed. This is used to determine if we need to re-calculate\n     *   overlays from mutation queues.\n     * @return A map represents the local documents view.\n     */    computeViews(t, e, n, s) {\n        let i = ns();\n        const r = cs(), o = cs();\n        return e.forEach(((t, e) => {\n            const o = n.get(e.key);\n            // Recalculate an overlay if the document's existence state changed due to\n            // a remote event *and* the overlay is a PatchMutation. This is because\n            // document existence state can change if some patch mutation's\n            // preconditions are met.\n            // NOTE: we recalculate when `overlay` is undefined as well, because there\n            // might be a patch mutation whose precondition does not match before the\n            // change (hence overlay is undefined), but would now match.\n                        s.has(e.key) && (void 0 === o || o.mutation instanceof Kn) ? i = i.insert(e.key, e) : void 0 !== o && (r.set(e.key, o.mutation.getFieldMask()), \n            Bn(o.mutation, e, o.mutation.getFieldMask(), et.now()));\n        })), this.recalculateAndSaveOverlays(t, i).next((t => (t.forEach(((t, e) => r.set(t, e))), \n        e.forEach(((t, e) => {\n            var n;\n            return o.set(t, new Jr(e, null !== (n = r.get(t)) && void 0 !== n ? n : null));\n        })), o)));\n    }\n    recalculateAndSaveOverlays(t, e) {\n        const n = cs();\n        // A reverse lookup map from batch id to the documents within that batch.\n                let s = new $t(((t, e) => t - e)), i = ls();\n        return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t, e).next((t => {\n            for (const i of t) i.keys().forEach((t => {\n                const r = e.get(t);\n                if (null === r) return;\n                let o = n.get(t) || Gt.empty();\n                o = i.applyToLocalView(r, o), n.set(t, o);\n                const u = (s.get(i.batchId) || ls()).add(t);\n                s = s.insert(i.batchId, u);\n            }));\n        })).next((() => {\n            const r = [], o = s.getReverseIterator();\n            // Iterate in descending order of batch IDs, and skip documents that are\n            // already saved.\n                        for (;o.hasNext(); ) {\n                const s = o.getNext(), u = s.key, c = s.value, a = us();\n                c.forEach((t => {\n                    if (!i.has(t)) {\n                        const s = Fn(e.get(t), n.get(t));\n                        null !== s && a.set(t, s), i = i.add(t);\n                    }\n                })), r.push(this.documentOverlayCache.saveOverlays(t, u, a));\n            }\n            return Et.waitFor(r);\n        })).next((() => n));\n    }\n    /**\n     * Recalculates overlays by reading the documents from remote document cache\n     * first, and saves them after they are calculated.\n     */    recalculateAndSaveOverlaysForDocumentKeys(t, e) {\n        return this.remoteDocumentCache.getEntries(t, e).next((e => this.recalculateAndSaveOverlays(t, e)));\n    }\n    /**\n     * Performs a query against the local view of all documents.\n     *\n     * @param transaction - The persistence transaction.\n     * @param query - The query to match documents against.\n     * @param offset - Read time and key to start scanning by (exclusive).\n     */    getDocumentsMatchingQuery(t, e, n) {\n        /**\n * Returns whether the query matches a single document by path (rather than a\n * collection).\n */\n        return function(t) {\n            return ut.isDocumentKey(t.path) && null === t.collectionGroup && 0 === t.filters.length;\n        }(e) ? this.getDocumentsMatchingDocumentQuery(t, e.path) : rn(e) ? this.getDocumentsMatchingCollectionGroupQuery(t, e, n) : this.getDocumentsMatchingCollectionQuery(t, e, n);\n    }\n    /**\n     * Given a collection group, returns the next documents that follow the provided offset, along\n     * with an updated batch ID.\n     *\n     * <p>The documents returned by this method are ordered by remote version from the provided\n     * offset. If there are no more remote documents after the provided offset, documents with\n     * mutations in order of batch id from the offset are returned. Since all documents in a batch are\n     * returned together, the total number of documents returned can exceed {@code count}.\n     *\n     * @param transaction\n     * @param collectionGroup The collection group for the documents.\n     * @param offset The offset to index into.\n     * @param count The number of documents to return\n     * @return A LocalWriteResult with the documents that follow the provided offset and the last processed batch id.\n     */    getNextDocuments(t, e, n, s) {\n        return this.remoteDocumentCache.getAllFromCollectionGroup(t, e, n, s).next((i => {\n            const r = s - i.size > 0 ? this.documentOverlayCache.getOverlaysForCollectionGroup(t, e, n.largestBatchId, s - i.size) : Et.resolve(os());\n            // The callsite will use the largest batch ID together with the latest read time to create\n            // a new index offset. Since we only process batch IDs if all remote documents have been read,\n            // no overlay will increase the overall read time. This is why we only need to special case\n            // the batch id.\n                        let o = -1, u = i;\n            return r.next((e => Et.forEach(e, ((e, n) => (o < n.largestBatchId && (o = n.largestBatchId), \n            i.get(e) ? Et.resolve() : this.getBaseDocument(t, e, n).next((t => {\n                u = u.insert(e, t);\n            }))))).next((() => this.populateOverlays(t, e, i))).next((() => this.computeViews(t, u, e, ls()))).next((t => ({\n                batchId: o,\n                changes: rs(t)\n            })))));\n        }));\n    }\n    getDocumentsMatchingDocumentQuery(t, e) {\n        // Just do a simple document lookup.\n        return this.getDocument(t, new ut(e)).next((t => {\n            let e = is();\n            return t.isFoundDocument() && (e = e.insert(t.key, t)), e;\n        }));\n    }\n    getDocumentsMatchingCollectionGroupQuery(t, e, n) {\n        const s = e.collectionGroup;\n        let i = is();\n        return this.indexManager.getCollectionParents(t, s).next((r => Et.forEach(r, (r => {\n            const o = function(t, e) {\n                return new Xe(e, \n                /*collectionGroup=*/ null, t.explicitOrderBy.slice(), t.filters.slice(), t.limit, t.limitType, t.startAt, t.endAt);\n            }(e, r.child(s));\n            return this.getDocumentsMatchingCollectionQuery(t, o, n).next((t => {\n                t.forEach(((t, e) => {\n                    i = i.insert(t, e);\n                }));\n            }));\n        })).next((() => i))));\n    }\n    getDocumentsMatchingCollectionQuery(t, e, n) {\n        // Query the remote documents and overlay mutations.\n        let s;\n        return this.remoteDocumentCache.getAllFromCollection(t, e.path, n).next((i => (s = i, \n        this.documentOverlayCache.getOverlaysForCollection(t, e.path, n.largestBatchId)))).next((t => {\n            // As documents might match the query because of their overlay we need to\n            // include documents for all overlays in the initial document set.\n            t.forEach(((t, e) => {\n                const n = e.getKey();\n                null === s.get(n) && (s = s.insert(n, Ve.newInvalidDocument(n)));\n            }));\n            // Apply the overlays and match against the query.\n            let n = is();\n            return s.forEach(((s, i) => {\n                const r = t.get(s);\n                void 0 !== r && Bn(r.mutation, i, Gt.empty(), et.now()), \n                // Finally, insert the documents that still match the query\n                fn(e, i) && (n = n.insert(s, i));\n            })), n;\n        }));\n    }\n    /** Returns a base document that can be used to apply `overlay`. */    getBaseDocument(t, e, n) {\n        return null === n || 1 /* Patch */ === n.mutation.type ? this.remoteDocumentCache.getEntry(t, e) : Et.resolve(Ve.newInvalidDocument(e));\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Xr {\n    constructor(t) {\n        this.It = t, this.Zn = new Map, this.ts = new Map;\n    }\n    getBundleMetadata(t, e) {\n        return Et.resolve(this.Zn.get(e));\n    }\n    saveBundleMetadata(t, e) {\n        /** Decodes a BundleMetadata proto into a BundleMetadata object. */\n        var n;\n        return this.Zn.set(e.id, {\n            id: (n = e).id,\n            version: n.version,\n            createTime: Ss(n.createTime)\n        }), Et.resolve();\n    }\n    getNamedQuery(t, e) {\n        return Et.resolve(this.ts.get(e));\n    }\n    saveNamedQuery(t, e) {\n        return this.ts.set(e.name, function(t) {\n            return {\n                name: t.name,\n                query: ji(t.bundledQuery),\n                readTime: Ss(t.readTime)\n            };\n        }(e)), Et.resolve();\n    }\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An in-memory implementation of DocumentOverlayCache.\n */ class Zr {\n    constructor() {\n        // A map sorted by DocumentKey, whose value is a pair of the largest batch id\n        // for the overlay and the overlay itself.\n        this.overlays = new $t(ut.comparator), this.es = new Map;\n    }\n    getOverlay(t, e) {\n        return Et.resolve(this.overlays.get(e));\n    }\n    getOverlays(t, e) {\n        const n = os();\n        return Et.forEach(e, (e => this.getOverlay(t, e).next((t => {\n            null !== t && n.set(e, t);\n        })))).next((() => n));\n    }\n    saveOverlays(t, e, n) {\n        return n.forEach(((n, s) => {\n            this.ue(t, e, s);\n        })), Et.resolve();\n    }\n    removeOverlaysForBatchId(t, e, n) {\n        const s = this.es.get(n);\n        return void 0 !== s && (s.forEach((t => this.overlays = this.overlays.remove(t))), \n        this.es.delete(n)), Et.resolve();\n    }\n    getOverlaysForCollection(t, e, n) {\n        const s = os(), i = e.length + 1, r = new ut(e.child(\"\")), o = this.overlays.getIteratorFrom(r);\n        for (;o.hasNext(); ) {\n            const t = o.getNext().value, r = t.getKey();\n            if (!e.isPrefixOf(r.path)) break;\n            // Documents from sub-collections\n                        r.path.length === i && (t.largestBatchId > n && s.set(t.getKey(), t));\n        }\n        return Et.resolve(s);\n    }\n    getOverlaysForCollectionGroup(t, e, n, s) {\n        let i = new $t(((t, e) => t - e));\n        const r = this.overlays.getIterator();\n        for (;r.hasNext(); ) {\n            const t = r.getNext().value;\n            if (t.getKey().getCollectionGroup() === e && t.largestBatchId > n) {\n                let e = i.get(t.largestBatchId);\n                null === e && (e = os(), i = i.insert(t.largestBatchId, e)), e.set(t.getKey(), t);\n            }\n        }\n        const o = os(), u = i.getIterator();\n        for (;u.hasNext(); ) {\n            if (u.getNext().value.forEach(((t, e) => o.set(t, e))), o.size() >= s) break;\n        }\n        return Et.resolve(o);\n    }\n    ue(t, e, n) {\n        // Remove the association of the overlay to its batch id.\n        const s = this.overlays.get(n.key);\n        if (null !== s) {\n            const t = this.es.get(s.largestBatchId).delete(n.key);\n            this.es.set(s.largestBatchId, t);\n        }\n        this.overlays = this.overlays.insert(n.key, new Mi(e, n));\n        // Create the association of this overlay to the given largestBatchId.\n        let i = this.es.get(e);\n        void 0 === i && (i = ls(), this.es.set(e, i)), this.es.set(e, i.add(n.key));\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A collection of references to a document from some kind of numbered entity\n * (either a target ID or batch ID). As references are added to or removed from\n * the set corresponding events are emitted to a registered garbage collector.\n *\n * Each reference is represented by a DocumentReference object. Each of them\n * contains enough information to uniquely identify the reference. They are all\n * stored primarily in a set sorted by key. A document is considered garbage if\n * there's no references in that set (this can be efficiently checked thanks to\n * sorting by key).\n *\n * ReferenceSet also keeps a secondary set that contains references sorted by\n * IDs. This one is used to efficiently implement removal of all references by\n * some target ID.\n */ class to {\n    constructor() {\n        // A set of outstanding references to a document sorted by key.\n        this.ns = new Ut(eo.ss), \n        // A set of outstanding references to a document sorted by target id.\n        this.rs = new Ut(eo.os);\n    }\n    /** Returns true if the reference set contains no references. */    isEmpty() {\n        return this.ns.isEmpty();\n    }\n    /** Adds a reference to the given document key for the given ID. */    addReference(t, e) {\n        const n = new eo(t, e);\n        this.ns = this.ns.add(n), this.rs = this.rs.add(n);\n    }\n    /** Add references to the given document keys for the given ID. */    us(t, e) {\n        t.forEach((t => this.addReference(t, e)));\n    }\n    /**\n     * Removes a reference to the given document key for the given\n     * ID.\n     */    removeReference(t, e) {\n        this.cs(new eo(t, e));\n    }\n    hs(t, e) {\n        t.forEach((t => this.removeReference(t, e)));\n    }\n    /**\n     * Clears all references with a given ID. Calls removeRef() for each key\n     * removed.\n     */    ls(t) {\n        const e = new ut(new it([])), n = new eo(e, t), s = new eo(e, t + 1), i = [];\n        return this.rs.forEachInRange([ n, s ], (t => {\n            this.cs(t), i.push(t.key);\n        })), i;\n    }\n    fs() {\n        this.ns.forEach((t => this.cs(t)));\n    }\n    cs(t) {\n        this.ns = this.ns.delete(t), this.rs = this.rs.delete(t);\n    }\n    ds(t) {\n        const e = new ut(new it([])), n = new eo(e, t), s = new eo(e, t + 1);\n        let i = ls();\n        return this.rs.forEachInRange([ n, s ], (t => {\n            i = i.add(t.key);\n        })), i;\n    }\n    containsKey(t) {\n        const e = new eo(t, 0), n = this.ns.firstAfterOrEqual(e);\n        return null !== n && t.isEqual(n.key);\n    }\n}\n\nclass eo {\n    constructor(t, e) {\n        this.key = t, this._s = e;\n    }\n    /** Compare by key then by ID */    static ss(t, e) {\n        return ut.comparator(t.key, e.key) || X(t._s, e._s);\n    }\n    /** Compare by ID then by key */    static os(t, e) {\n        return X(t._s, e._s) || ut.comparator(t.key, e.key);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class no {\n    constructor(t, e) {\n        this.indexManager = t, this.referenceDelegate = e, \n        /**\n         * The set of all mutations that have been sent but not yet been applied to\n         * the backend.\n         */\n        this.mutationQueue = [], \n        /** Next value to use when assigning sequential IDs to each mutation batch. */\n        this.ws = 1, \n        /** An ordered mapping between documents and the mutations batch IDs. */\n        this.gs = new Ut(eo.ss);\n    }\n    checkEmpty(t) {\n        return Et.resolve(0 === this.mutationQueue.length);\n    }\n    addMutationBatch(t, e, n, s) {\n        const i = this.ws;\n        this.ws++, this.mutationQueue.length > 0 && this.mutationQueue[this.mutationQueue.length - 1];\n        const r = new Ni(i, e, n, s);\n        this.mutationQueue.push(r);\n        // Track references by document key and index collection parents.\n        for (const e of s) this.gs = this.gs.add(new eo(e.key, i)), this.indexManager.addToCollectionParentIndex(t, e.key.path.popLast());\n        return Et.resolve(r);\n    }\n    lookupMutationBatch(t, e) {\n        return Et.resolve(this.ys(e));\n    }\n    getNextMutationBatchAfterBatchId(t, e) {\n        const n = e + 1, s = this.ps(n), i = s < 0 ? 0 : s;\n        // The requested batchId may still be out of range so normalize it to the\n        // start of the queue.\n                return Et.resolve(this.mutationQueue.length > i ? this.mutationQueue[i] : null);\n    }\n    getHighestUnacknowledgedBatchId() {\n        return Et.resolve(0 === this.mutationQueue.length ? -1 : this.ws - 1);\n    }\n    getAllMutationBatches(t) {\n        return Et.resolve(this.mutationQueue.slice());\n    }\n    getAllMutationBatchesAffectingDocumentKey(t, e) {\n        const n = new eo(e, 0), s = new eo(e, Number.POSITIVE_INFINITY), i = [];\n        return this.gs.forEachInRange([ n, s ], (t => {\n            const e = this.ys(t._s);\n            i.push(e);\n        })), Et.resolve(i);\n    }\n    getAllMutationBatchesAffectingDocumentKeys(t, e) {\n        let n = new Ut(X);\n        return e.forEach((t => {\n            const e = new eo(t, 0), s = new eo(t, Number.POSITIVE_INFINITY);\n            this.gs.forEachInRange([ e, s ], (t => {\n                n = n.add(t._s);\n            }));\n        })), Et.resolve(this.Is(n));\n    }\n    getAllMutationBatchesAffectingQuery(t, e) {\n        // Use the query path as a prefix for testing if a document matches the\n        // query.\n        const n = e.path, s = n.length + 1;\n        // Construct a document reference for actually scanning the index. Unlike\n        // the prefix the document key in this reference must have an even number of\n        // segments. The empty segment can be used a suffix of the query path\n        // because it precedes all other segments in an ordered traversal.\n        let i = n;\n        ut.isDocumentKey(i) || (i = i.child(\"\"));\n        const r = new eo(new ut(i), 0);\n        // Find unique batchIDs referenced by all documents potentially matching the\n        // query.\n                let o = new Ut(X);\n        return this.gs.forEachWhile((t => {\n            const e = t.key.path;\n            return !!n.isPrefixOf(e) && (\n            // Rows with document keys more than one segment longer than the query\n            // path can't be matches. For example, a query on 'rooms' can't match\n            // the document /rooms/abc/messages/xyx.\n            // TODO(mcg): we'll need a different scanner when we implement\n            // ancestor queries.\n            e.length === s && (o = o.add(t._s)), !0);\n        }), r), Et.resolve(this.Is(o));\n    }\n    Is(t) {\n        // Construct an array of matching batches, sorted by batchID to ensure that\n        // multiple mutations affecting the same document key are applied in order.\n        const e = [];\n        return t.forEach((t => {\n            const n = this.ys(t);\n            null !== n && e.push(n);\n        })), e;\n    }\n    removeMutationBatch(t, e) {\n        M(0 === this.Ts(e.batchId, \"removed\")), this.mutationQueue.shift();\n        let n = this.gs;\n        return Et.forEach(e.mutations, (s => {\n            const i = new eo(s.key, e.batchId);\n            return n = n.delete(i), this.referenceDelegate.markPotentiallyOrphaned(t, s.key);\n        })).next((() => {\n            this.gs = n;\n        }));\n    }\n    An(t) {\n        // No-op since the memory mutation queue does not maintain a separate cache.\n    }\n    containsKey(t, e) {\n        const n = new eo(e, 0), s = this.gs.firstAfterOrEqual(n);\n        return Et.resolve(e.isEqual(s && s.key));\n    }\n    performConsistencyCheck(t) {\n        return this.mutationQueue.length, Et.resolve();\n    }\n    /**\n     * Finds the index of the given batchId in the mutation queue and asserts that\n     * the resulting index is within the bounds of the queue.\n     *\n     * @param batchId - The batchId to search for\n     * @param action - A description of what the caller is doing, phrased in passive\n     * form (e.g. \"acknowledged\" in a routine that acknowledges batches).\n     */    Ts(t, e) {\n        return this.ps(t);\n    }\n    /**\n     * Finds the index of the given batchId in the mutation queue. This operation\n     * is O(1).\n     *\n     * @returns The computed index of the batch with the given batchId, based on\n     * the state of the queue. Note this index can be negative if the requested\n     * batchId has already been remvoed from the queue or past the end of the\n     * queue if the batchId is larger than the last added batch.\n     */    ps(t) {\n        if (0 === this.mutationQueue.length) \n        // As an index this is past the end of the queue\n        return 0;\n        // Examine the front of the queue to figure out the difference between the\n        // batchId and indexes in the array. Note that since the queue is ordered\n        // by batchId, if the first batch has a larger batchId then the requested\n        // batchId doesn't exist in the queue.\n                return t - this.mutationQueue[0].batchId;\n    }\n    /**\n     * A version of lookupMutationBatch that doesn't return a promise, this makes\n     * other functions that uses this code easier to read and more efficent.\n     */    ys(t) {\n        const e = this.ps(t);\n        if (e < 0 || e >= this.mutationQueue.length) return null;\n        return this.mutationQueue[e];\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The memory-only RemoteDocumentCache for IndexedDb. To construct, invoke\n * `newMemoryRemoteDocumentCache()`.\n */\nclass so {\n    /**\n     * @param sizer - Used to assess the size of a document. For eager GC, this is\n     * expected to just return 0 to avoid unnecessarily doing the work of\n     * calculating the size.\n     */\n    constructor(t) {\n        this.Es = t, \n        /** Underlying cache of documents and their read times. */\n        this.docs = new $t(ut.comparator), \n        /** Size of all cached documents. */\n        this.size = 0;\n    }\n    setIndexManager(t) {\n        this.indexManager = t;\n    }\n    /**\n     * Adds the supplied entry to the cache and updates the cache size as appropriate.\n     *\n     * All calls of `addEntry`  are required to go through the RemoteDocumentChangeBuffer\n     * returned by `newChangeBuffer()`.\n     */    addEntry(t, e) {\n        const n = e.key, s = this.docs.get(n), i = s ? s.size : 0, r = this.Es(e);\n        return this.docs = this.docs.insert(n, {\n            document: e.mutableCopy(),\n            size: r\n        }), this.size += r - i, this.indexManager.addToCollectionParentIndex(t, n.path.popLast());\n    }\n    /**\n     * Removes the specified entry from the cache and updates the cache size as appropriate.\n     *\n     * All calls of `removeEntry` are required to go through the RemoteDocumentChangeBuffer\n     * returned by `newChangeBuffer()`.\n     */    removeEntry(t) {\n        const e = this.docs.get(t);\n        e && (this.docs = this.docs.remove(t), this.size -= e.size);\n    }\n    getEntry(t, e) {\n        const n = this.docs.get(e);\n        return Et.resolve(n ? n.document.mutableCopy() : Ve.newInvalidDocument(e));\n    }\n    getEntries(t, e) {\n        let n = ns();\n        return e.forEach((t => {\n            const e = this.docs.get(t);\n            n = n.insert(t, e ? e.document.mutableCopy() : Ve.newInvalidDocument(t));\n        })), Et.resolve(n);\n    }\n    getAllFromCollection(t, e, n) {\n        let s = ns();\n        // Documents are ordered by key, so we can use a prefix scan to narrow down\n        // the documents we need to match the query against.\n                const i = new ut(e.child(\"\")), r = this.docs.getIteratorFrom(i);\n        for (;r.hasNext(); ) {\n            const {key: t, value: {document: i}} = r.getNext();\n            if (!e.isPrefixOf(t.path)) break;\n            t.path.length > e.length + 1 || (yt(mt(i), n) <= 0 || (s = s.insert(i.key, i.mutableCopy())));\n        }\n        return Et.resolve(s);\n    }\n    getAllFromCollectionGroup(t, e, n, s) {\n        // This method should only be called from the IndexBackfiller if persistence\n        // is enabled.\n        k();\n    }\n    As(t, e) {\n        return Et.forEach(this.docs, (t => e(t)));\n    }\n    newChangeBuffer(t) {\n        // `trackRemovals` is ignores since the MemoryRemoteDocumentCache keeps\n        // a separate changelog and does not need special handling for removals.\n        return new io(this);\n    }\n    getSize(t) {\n        return Et.resolve(this.size);\n    }\n}\n\n/**\n * Creates a new memory-only RemoteDocumentCache.\n *\n * @param sizer - Used to assess the size of a document. For eager GC, this is\n * expected to just return 0 to avoid unnecessarily doing the work of\n * calculating the size.\n */\n/**\n * Handles the details of adding and updating documents in the MemoryRemoteDocumentCache.\n */\nclass io extends Ur {\n    constructor(t) {\n        super(), this.Yn = t;\n    }\n    applyChanges(t) {\n        const e = [];\n        return this.changes.forEach(((n, s) => {\n            s.isValidDocument() ? e.push(this.Yn.addEntry(t, s)) : this.Yn.removeEntry(n);\n        })), Et.waitFor(e);\n    }\n    getFromCache(t, e) {\n        return this.Yn.getEntry(t, e);\n    }\n    getAllFromCache(t, e) {\n        return this.Yn.getEntries(t, e);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class ro {\n    constructor(t) {\n        this.persistence = t, \n        /**\n         * Maps a target to the data about that target\n         */\n        this.Rs = new ts((t => Ce(t)), Ne), \n        /** The last received snapshot version. */\n        this.lastRemoteSnapshotVersion = nt.min(), \n        /** The highest numbered target ID encountered. */\n        this.highestTargetId = 0, \n        /** The highest sequence number encountered. */\n        this.bs = 0, \n        /**\n         * A ordered bidirectional mapping between documents and the remote target\n         * IDs.\n         */\n        this.Ps = new to, this.targetCount = 0, this.vs = Dr.Pn();\n    }\n    forEachTarget(t, e) {\n        return this.Rs.forEach(((t, n) => e(n))), Et.resolve();\n    }\n    getLastRemoteSnapshotVersion(t) {\n        return Et.resolve(this.lastRemoteSnapshotVersion);\n    }\n    getHighestSequenceNumber(t) {\n        return Et.resolve(this.bs);\n    }\n    allocateTargetId(t) {\n        return this.highestTargetId = this.vs.next(), Et.resolve(this.highestTargetId);\n    }\n    setTargetsMetadata(t, e, n) {\n        return n && (this.lastRemoteSnapshotVersion = n), e > this.bs && (this.bs = e), \n        Et.resolve();\n    }\n    Dn(t) {\n        this.Rs.set(t.target, t);\n        const e = t.targetId;\n        e > this.highestTargetId && (this.vs = new Dr(e), this.highestTargetId = e), t.sequenceNumber > this.bs && (this.bs = t.sequenceNumber);\n    }\n    addTargetData(t, e) {\n        return this.Dn(e), this.targetCount += 1, Et.resolve();\n    }\n    updateTargetData(t, e) {\n        return this.Dn(e), Et.resolve();\n    }\n    removeTargetData(t, e) {\n        return this.Rs.delete(e.target), this.Ps.ls(e.targetId), this.targetCount -= 1, \n        Et.resolve();\n    }\n    removeTargets(t, e, n) {\n        let s = 0;\n        const i = [];\n        return this.Rs.forEach(((r, o) => {\n            o.sequenceNumber <= e && null === n.get(o.targetId) && (this.Rs.delete(r), i.push(this.removeMatchingKeysForTargetId(t, o.targetId)), \n            s++);\n        })), Et.waitFor(i).next((() => s));\n    }\n    getTargetCount(t) {\n        return Et.resolve(this.targetCount);\n    }\n    getTargetData(t, e) {\n        const n = this.Rs.get(e) || null;\n        return Et.resolve(n);\n    }\n    addMatchingKeys(t, e, n) {\n        return this.Ps.us(e, n), Et.resolve();\n    }\n    removeMatchingKeys(t, e, n) {\n        this.Ps.hs(e, n);\n        const s = this.persistence.referenceDelegate, i = [];\n        return s && e.forEach((e => {\n            i.push(s.markPotentiallyOrphaned(t, e));\n        })), Et.waitFor(i);\n    }\n    removeMatchingKeysForTargetId(t, e) {\n        return this.Ps.ls(e), Et.resolve();\n    }\n    getMatchingKeysForTargetId(t, e) {\n        const n = this.Ps.ds(e);\n        return Et.resolve(n);\n    }\n    containsKey(t, e) {\n        return Et.resolve(this.Ps.containsKey(e));\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A memory-backed instance of Persistence. Data is stored only in RAM and\n * not persisted across sessions.\n */\nclass oo {\n    /**\n     * The constructor accepts a factory for creating a reference delegate. This\n     * allows both the delegate and this instance to have strong references to\n     * each other without having nullable fields that would then need to be\n     * checked or asserted on every access.\n     */\n    constructor(t, e) {\n        this.Vs = {}, this.overlays = {}, this.Ss = new kt(0), this.Ds = !1, this.Ds = !0, \n        this.referenceDelegate = t(this), this.Cs = new ro(this);\n        this.indexManager = new fr, this.remoteDocumentCache = function(t) {\n            return new so(t);\n        }((t => this.referenceDelegate.xs(t))), this.It = new Fi(e), this.Ns = new Xr(this.It);\n    }\n    start() {\n        return Promise.resolve();\n    }\n    shutdown() {\n        // No durable state to ensure is closed on shutdown.\n        return this.Ds = !1, Promise.resolve();\n    }\n    get started() {\n        return this.Ds;\n    }\n    setDatabaseDeletedListener() {\n        // No op.\n    }\n    setNetworkEnabled() {\n        // No op.\n    }\n    getIndexManager(t) {\n        // We do not currently support indices for memory persistence, so we can\n        // return the same shared instance of the memory index manager.\n        return this.indexManager;\n    }\n    getDocumentOverlayCache(t) {\n        let e = this.overlays[t.toKey()];\n        return e || (e = new Zr, this.overlays[t.toKey()] = e), e;\n    }\n    getMutationQueue(t, e) {\n        let n = this.Vs[t.toKey()];\n        return n || (n = new no(e, this.referenceDelegate), this.Vs[t.toKey()] = n), n;\n    }\n    getTargetCache() {\n        return this.Cs;\n    }\n    getRemoteDocumentCache() {\n        return this.remoteDocumentCache;\n    }\n    getBundleCache() {\n        return this.Ns;\n    }\n    runTransaction(t, e, n) {\n        D(\"MemoryPersistence\", \"Starting transaction:\", t);\n        const s = new uo(this.Ss.next());\n        return this.referenceDelegate.ks(), n(s).next((t => this.referenceDelegate.Ms(s).next((() => t)))).toPromise().then((t => (s.raiseOnCommittedEvent(), \n        t)));\n    }\n    Os(t, e) {\n        return Et.or(Object.values(this.Vs).map((n => () => n.containsKey(t, e))));\n    }\n}\n\n/**\n * Memory persistence is not actually transactional, but future implementations\n * may have transaction-scoped state.\n */ class uo extends It {\n    constructor(t) {\n        super(), this.currentSequenceNumber = t;\n    }\n}\n\nclass co {\n    constructor(t) {\n        this.persistence = t, \n        /** Tracks all documents that are active in Query views. */\n        this.Fs = new to, \n        /** The list of documents that are potentially GCed after each transaction. */\n        this.$s = null;\n    }\n    static Bs(t) {\n        return new co(t);\n    }\n    get Ls() {\n        if (this.$s) return this.$s;\n        throw k();\n    }\n    addReference(t, e, n) {\n        return this.Fs.addReference(n, e), this.Ls.delete(n.toString()), Et.resolve();\n    }\n    removeReference(t, e, n) {\n        return this.Fs.removeReference(n, e), this.Ls.add(n.toString()), Et.resolve();\n    }\n    markPotentiallyOrphaned(t, e) {\n        return this.Ls.add(e.toString()), Et.resolve();\n    }\n    removeTarget(t, e) {\n        this.Fs.ls(e.targetId).forEach((t => this.Ls.add(t.toString())));\n        const n = this.persistence.getTargetCache();\n        return n.getMatchingKeysForTargetId(t, e.targetId).next((t => {\n            t.forEach((t => this.Ls.add(t.toString())));\n        })).next((() => n.removeTargetData(t, e)));\n    }\n    ks() {\n        this.$s = new Set;\n    }\n    Ms(t) {\n        // Remove newly orphaned documents.\n        const e = this.persistence.getRemoteDocumentCache().newChangeBuffer();\n        return Et.forEach(this.Ls, (n => {\n            const s = ut.fromPath(n);\n            return this.Us(t, s).next((t => {\n                t || e.removeEntry(s, nt.min());\n            }));\n        })).next((() => (this.$s = null, e.apply(t))));\n    }\n    updateLimboDocument(t, e) {\n        return this.Us(t, e).next((t => {\n            t ? this.Ls.delete(e.toString()) : this.Ls.add(e.toString());\n        }));\n    }\n    xs(t) {\n        // For eager GC, we don't care about the document size, there are no size thresholds.\n        return 0;\n    }\n    Us(t, e) {\n        return Et.or([ () => Et.resolve(this.Fs.containsKey(e)), () => this.persistence.getTargetCache().containsKey(t, e), () => this.persistence.Os(t, e) ]);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Performs database creation and schema upgrades. */ class ao {\n    constructor(t) {\n        this.It = t;\n    }\n    /**\n     * Performs database creation and schema upgrades.\n     *\n     * Note that in production, this method is only ever used to upgrade the schema\n     * to SCHEMA_VERSION. Different values of toVersion are only used for testing\n     * and local feature development.\n     */    $(t, e, n, s) {\n        const i = new At(\"createOrUpgrade\", e);\n        n < 1 && s >= 1 && (function(t) {\n            t.createObjectStore(\"owner\");\n        }(t), function(t) {\n            t.createObjectStore(\"mutationQueues\", {\n                keyPath: \"userId\"\n            });\n            t.createObjectStore(\"mutations\", {\n                keyPath: \"batchId\",\n                autoIncrement: !0\n            }).createIndex(\"userMutationsIndex\", ci, {\n                unique: !0\n            }), t.createObjectStore(\"documentMutations\");\n        }\n        /**\n * Upgrade function to migrate the 'mutations' store from V1 to V3. Loads\n * and rewrites all data.\n */ (t), ho(t), function(t) {\n            t.createObjectStore(\"remoteDocuments\");\n        }(t));\n        // Migration 2 to populate the targetGlobal object no longer needed since\n        // migration 3 unconditionally clears it.\n                let r = Et.resolve();\n        return n < 3 && s >= 3 && (\n        // Brand new clients don't need to drop and recreate--only clients that\n        // potentially have corrupt data.\n        0 !== n && (!function(t) {\n            t.deleteObjectStore(\"targetDocuments\"), t.deleteObjectStore(\"targets\"), t.deleteObjectStore(\"targetGlobal\");\n        }(t), ho(t)), r = r.next((() => \n        /**\n * Creates the target global singleton row.\n *\n * @param txn - The version upgrade transaction for indexeddb\n */\n        function(t) {\n            const e = t.store(\"targetGlobal\"), n = {\n                highestTargetId: 0,\n                highestListenSequenceNumber: 0,\n                lastRemoteSnapshotVersion: nt.min().toTimestamp(),\n                targetCount: 0\n            };\n            return e.put(\"targetGlobalKey\", n);\n        }(i)))), n < 4 && s >= 4 && (0 !== n && (\n        // Schema version 3 uses auto-generated keys to generate globally unique\n        // mutation batch IDs (this was previously ensured internally by the\n        // client). To migrate to the new schema, we have to read all mutations\n        // and write them back out. We preserve the existing batch IDs to guarantee\n        // consistency with other object stores. Any further mutation batch IDs will\n        // be auto-generated.\n        r = r.next((() => function(t, e) {\n            return e.store(\"mutations\").W().next((n => {\n                t.deleteObjectStore(\"mutations\");\n                t.createObjectStore(\"mutations\", {\n                    keyPath: \"batchId\",\n                    autoIncrement: !0\n                }).createIndex(\"userMutationsIndex\", ci, {\n                    unique: !0\n                });\n                const s = e.store(\"mutations\"), i = n.map((t => s.put(t)));\n                return Et.waitFor(i);\n            }));\n        }(t, i)))), r = r.next((() => {\n            !function(t) {\n                t.createObjectStore(\"clientMetadata\", {\n                    keyPath: \"clientId\"\n                });\n            }(t);\n        }))), n < 5 && s >= 5 && (r = r.next((() => this.qs(i)))), n < 6 && s >= 6 && (r = r.next((() => (function(t) {\n            t.createObjectStore(\"remoteDocumentGlobal\");\n        }(t), this.Ks(i))))), n < 7 && s >= 7 && (r = r.next((() => this.Gs(i)))), n < 8 && s >= 8 && (r = r.next((() => this.Qs(t, i)))), \n        n < 9 && s >= 9 && (r = r.next((() => {\n            // Multi-Tab used to manage its own changelog, but this has been moved\n            // to the DbRemoteDocument object store itself. Since the previous change\n            // log only contained transient data, we can drop its object store.\n            !function(t) {\n                t.objectStoreNames.contains(\"remoteDocumentChanges\") && t.deleteObjectStore(\"remoteDocumentChanges\");\n            }(t);\n            // Note: Schema version 9 used to create a read time index for the\n            // RemoteDocumentCache. This is now done with schema version 13.\n                }))), n < 10 && s >= 10 && (r = r.next((() => this.js(i)))), n < 11 && s >= 11 && (r = r.next((() => {\n            !function(t) {\n                t.createObjectStore(\"bundles\", {\n                    keyPath: \"bundleId\"\n                });\n            }(t), function(t) {\n                t.createObjectStore(\"namedQueries\", {\n                    keyPath: \"name\"\n                });\n            }(t);\n        }))), n < 12 && s >= 12 && (r = r.next((() => {\n            !function(t) {\n                const e = t.createObjectStore(\"documentOverlays\", {\n                    keyPath: Ai\n                });\n                e.createIndex(\"collectionPathOverlayIndex\", Ri, {\n                    unique: !1\n                }), e.createIndex(\"collectionGroupOverlayIndex\", bi, {\n                    unique: !1\n                });\n            }(t);\n        }))), n < 13 && s >= 13 && (r = r.next((() => function(t) {\n            const e = t.createObjectStore(\"remoteDocumentsV14\", {\n                keyPath: fi\n            });\n            e.createIndex(\"documentKeyIndex\", di), e.createIndex(\"collectionGroupIndex\", _i);\n        }(t))).next((() => this.Ws(t, i))).next((() => t.deleteObjectStore(\"remoteDocuments\")))), \n        n < 14 && s >= 14 && (r = r.next((() => this.zs(t, i)))), n < 15 && s >= 15 && (r = r.next((() => function(t) {\n            t.createObjectStore(\"indexConfiguration\", {\n                keyPath: \"indexId\",\n                autoIncrement: !0\n            }).createIndex(\"collectionGroupIndex\", \"collectionGroup\", {\n                unique: !1\n            });\n            t.createObjectStore(\"indexState\", {\n                keyPath: pi\n            }).createIndex(\"sequenceNumberIndex\", Ii, {\n                unique: !1\n            });\n            t.createObjectStore(\"indexEntries\", {\n                keyPath: Ti\n            }).createIndex(\"documentKeyIndex\", Ei, {\n                unique: !1\n            });\n        }(t)))), r;\n    }\n    Ks(t) {\n        let e = 0;\n        return t.store(\"remoteDocuments\").Z(((t, n) => {\n            e += Rr(n);\n        })).next((() => {\n            const n = {\n                byteSize: e\n            };\n            return t.store(\"remoteDocumentGlobal\").put(\"remoteDocumentGlobalKey\", n);\n        }));\n    }\n    qs(t) {\n        const e = t.store(\"mutationQueues\"), n = t.store(\"mutations\");\n        return e.W().next((e => Et.forEach(e, (e => {\n            const s = IDBKeyRange.bound([ e.userId, -1 ], [ e.userId, e.lastAcknowledgedBatchId ]);\n            return n.W(\"userMutationsIndex\", s).next((n => Et.forEach(n, (n => {\n                M(n.userId === e.userId);\n                const s = Ki(this.It, n);\n                return Ar(t, e.userId, s).next((() => {}));\n            }))));\n        }))));\n    }\n    /**\n     * Ensures that every document in the remote document cache has a corresponding sentinel row\n     * with a sequence number. Missing rows are given the most recently used sequence number.\n     */    Gs(t) {\n        const e = t.store(\"targetDocuments\"), n = t.store(\"remoteDocuments\");\n        return t.store(\"targetGlobal\").get(\"targetGlobalKey\").next((t => {\n            const s = [];\n            return n.Z(((n, i) => {\n                const r = new it(n), o = function(t) {\n                    return [ 0, ii(t) ];\n                }(r);\n                s.push(e.get(o).next((n => n ? Et.resolve() : (n => e.put({\n                    targetId: 0,\n                    path: ii(n),\n                    sequenceNumber: t.highestListenSequenceNumber\n                }))(r))));\n            })).next((() => Et.waitFor(s)));\n        }));\n    }\n    Qs(t, e) {\n        // Create the index.\n        t.createObjectStore(\"collectionParents\", {\n            keyPath: yi\n        });\n        const n = e.store(\"collectionParents\"), s = new dr, i = t => {\n            if (s.add(t)) {\n                const e = t.lastSegment(), s = t.popLast();\n                return n.put({\n                    collectionId: e,\n                    parent: ii(s)\n                });\n            }\n        };\n        // Helper to add an index entry iff we haven't already written it.\n                // Index existing remote documents.\n        return e.store(\"remoteDocuments\").Z({\n            X: !0\n        }, ((t, e) => {\n            const n = new it(t);\n            return i(n.popLast());\n        })).next((() => e.store(\"documentMutations\").Z({\n            X: !0\n        }, (([t, e, n], s) => {\n            const r = ui(e);\n            return i(r.popLast());\n        }))));\n    }\n    js(t) {\n        const e = t.store(\"targets\");\n        return e.Z(((t, n) => {\n            const s = Gi(n), i = Qi(this.It, s);\n            return e.put(i);\n        }));\n    }\n    Ws(t, e) {\n        const n = e.store(\"remoteDocuments\"), s = [];\n        return n.Z(((t, n) => {\n            const i = e.store(\"remoteDocumentsV14\"), r = (o = n, o.document ? new ut(it.fromString(o.document.name).popFirst(5)) : o.noDocument ? ut.fromSegments(o.noDocument.path) : o.unknownDocument ? ut.fromSegments(o.unknownDocument.path) : k()).path.toArray();\n            var o;\n            /**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */            const u = {\n                prefixPath: r.slice(0, r.length - 2),\n                collectionGroup: r[r.length - 2],\n                documentId: r[r.length - 1],\n                readTime: n.readTime || [ 0, 0 ],\n                unknownDocument: n.unknownDocument,\n                noDocument: n.noDocument,\n                document: n.document,\n                hasCommittedMutations: !!n.hasCommittedMutations\n            };\n            s.push(i.put(u));\n        })).next((() => Et.waitFor(s)));\n    }\n    zs(t, e) {\n        const n = e.store(\"mutations\"), s = Kr(this.It), i = new oo(co.Bs, this.It.re);\n        return n.W().next((t => {\n            const n = new Map;\n            return t.forEach((t => {\n                var e;\n                let s = null !== (e = n.get(t.userId)) && void 0 !== e ? e : ls();\n                Ki(this.It, t).keys().forEach((t => s = s.add(t))), n.set(t.userId, s);\n            })), Et.forEach(n, ((t, n) => {\n                const r = new b(n), o = Zi.oe(this.It, r), u = i.getIndexManager(r), c = br.oe(r, this.It, u, i.referenceDelegate);\n                return new Yr(s, c, o, u).recalculateAndSaveOverlaysForDocumentKeys(new Ci(e, kt.at), t).next();\n            }));\n        }));\n    }\n}\n\nfunction ho(t) {\n    t.createObjectStore(\"targetDocuments\", {\n        keyPath: mi\n    }).createIndex(\"documentTargetsIndex\", gi, {\n        unique: !0\n    });\n    // NOTE: This is unique only because the TargetId is the suffix.\n    t.createObjectStore(\"targets\", {\n        keyPath: \"targetId\"\n    }).createIndex(\"queryTargetsIndex\", wi, {\n        unique: !0\n    }), t.createObjectStore(\"targetGlobal\");\n}\n\nconst lo = \"Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.\";\n\n/**\n * Oldest acceptable age in milliseconds for client metadata before the client\n * is considered inactive and its associated data is garbage collected.\n */\n/**\n * An IndexedDB-backed instance of Persistence. Data is stored persistently\n * across sessions.\n *\n * On Web only, the Firestore SDKs support shared access to its persistence\n * layer. This allows multiple browser tabs to read and write to IndexedDb and\n * to synchronize state even without network connectivity. Shared access is\n * currently optional and not enabled unless all clients invoke\n * `enablePersistence()` with `{synchronizeTabs:true}`.\n *\n * In multi-tab mode, if multiple clients are active at the same time, the SDK\n * will designate one client as the primary client. An effort is made to pick\n * a visible, network-connected and active client, and this client is\n * responsible for letting other clients know about its presence. The primary\n * client writes a unique client-generated identifier (the client ID) to\n * IndexedDbs owner store every 4 seconds. If the primary client fails to\n * update this entry, another client can acquire the lease and take over as\n * primary.\n *\n * Some persistence operations in the SDK are designated as primary-client only\n * operations. This includes the acknowledgment of mutations and all updates of\n * remote documents. The effects of these operations are written to persistence\n * and then broadcast to other tabs via LocalStorage (see\n * `WebStorageSharedClientState`), which then refresh their state from\n * persistence.\n *\n * Similarly, the primary client listens to notifications sent by secondary\n * clients to discover persistence changes written by secondary clients, such as\n * the addition of new mutations and query targets.\n *\n * If multi-tab is not enabled and another tab already obtained the primary\n * lease, IndexedDbPersistence enters a failed state and all subsequent\n * operations will automatically fail.\n *\n * Additionally, there is an optimization so that when a tab is closed, the\n * primary lease is released immediately (this is especially important to make\n * sure that a refreshed tab is able to immediately re-acquire the primary\n * lease). Unfortunately, IndexedDB cannot be reliably used in window.unload\n * since it is an asynchronous API. So in addition to attempting to give up the\n * lease, the leaseholder writes its client ID to a \"zombiedClient\" entry in\n * LocalStorage which acts as an indicator that another tab should go ahead and\n * take the primary lease immediately regardless of the current lease timestamp.\n *\n * TODO(b/114226234): Remove `synchronizeTabs` section when multi-tab is no\n * longer optional.\n */\nclass fo {\n    constructor(\n    /**\n     * Whether to synchronize the in-memory state of multiple tabs and share\n     * access to local persistence.\n     */\n    t, e, n, s, i, r, o, u, c, \n    /**\n     * If set to true, forcefully obtains database access. Existing tabs will\n     * no longer be able to access IndexedDB.\n     */\n    a, h = 15) {\n        if (this.allowTabSynchronization = t, this.persistenceKey = e, this.clientId = n, \n        this.Hs = i, this.window = r, this.document = o, this.Js = c, this.Ys = a, this.Xs = h, \n        this.Ss = null, this.Ds = !1, this.isPrimary = !1, this.networkEnabled = !0, \n        /** Our window.unload handler, if registered. */\n        this.Zs = null, this.inForeground = !1, \n        /** Our 'visibilitychange' listener if registered. */\n        this.ti = null, \n        /** The client metadata refresh task. */\n        this.ei = null, \n        /** The last time we garbage collected the client metadata object store. */\n        this.ni = Number.NEGATIVE_INFINITY, \n        /** A listener to notify on primary state changes. */\n        this.si = t => Promise.resolve(), !fo.C()) throw new B($.UNIMPLEMENTED, \"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\");\n        this.referenceDelegate = new Br(this, s), this.ii = e + \"main\", this.It = new Fi(u), \n        this.ri = new Rt(this.ii, this.Xs, new ao(this.It)), this.Cs = new Cr(this.referenceDelegate, this.It), \n        this.remoteDocumentCache = Kr(this.It), this.Ns = new Ji, this.window && this.window.localStorage ? this.oi = this.window.localStorage : (this.oi = null, \n        !1 === a && C(\"IndexedDbPersistence\", \"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page.\"));\n    }\n    /**\n     * Attempt to start IndexedDb persistence.\n     *\n     * @returns Whether persistence was enabled.\n     */    start() {\n        // NOTE: This is expected to fail sometimes (in the case of another tab\n        // already having the persistence lock), so it's the first thing we should\n        // do.\n        return this.ui().then((() => {\n            if (!this.isPrimary && !this.allowTabSynchronization) \n            // Fail `start()` if `synchronizeTabs` is disabled and we cannot\n            // obtain the primary lease.\n            throw new B($.FAILED_PRECONDITION, lo);\n            return this.ci(), this.ai(), this.hi(), this.runTransaction(\"getHighestListenSequenceNumber\", \"readonly\", (t => this.Cs.getHighestSequenceNumber(t)));\n        })).then((t => {\n            this.Ss = new kt(t, this.Js);\n        })).then((() => {\n            this.Ds = !0;\n        })).catch((t => (this.ri && this.ri.close(), Promise.reject(t))));\n    }\n    /**\n     * Registers a listener that gets called when the primary state of the\n     * instance changes. Upon registering, this listener is invoked immediately\n     * with the current primary state.\n     *\n     * PORTING NOTE: This is only used for Web multi-tab.\n     */    li(t) {\n        return this.si = async e => {\n            if (this.started) return t(e);\n        }, t(this.isPrimary);\n    }\n    /**\n     * Registers a listener that gets called when the database receives a\n     * version change event indicating that it has deleted.\n     *\n     * PORTING NOTE: This is only used for Web multi-tab.\n     */    setDatabaseDeletedListener(t) {\n        this.ri.L((async e => {\n            // Check if an attempt is made to delete IndexedDB.\n            null === e.newVersion && await t();\n        }));\n    }\n    /**\n     * Adjusts the current network state in the client's metadata, potentially\n     * affecting the primary lease.\n     *\n     * PORTING NOTE: This is only used for Web multi-tab.\n     */    setNetworkEnabled(t) {\n        this.networkEnabled !== t && (this.networkEnabled = t, \n        // Schedule a primary lease refresh for immediate execution. The eventual\n        // lease update will be propagated via `primaryStateListener`.\n        this.Hs.enqueueAndForget((async () => {\n            this.started && await this.ui();\n        })));\n    }\n    /**\n     * Updates the client metadata in IndexedDb and attempts to either obtain or\n     * extend the primary lease for the local client. Asynchronously notifies the\n     * primary state listener if the client either newly obtained or released its\n     * primary lease.\n     */    ui() {\n        return this.runTransaction(\"updateClientMetadataAndTryBecomePrimary\", \"readwrite\", (t => wo(t).put({\n            clientId: this.clientId,\n            updateTimeMs: Date.now(),\n            networkEnabled: this.networkEnabled,\n            inForeground: this.inForeground\n        }).next((() => {\n            if (this.isPrimary) return this.fi(t).next((t => {\n                t || (this.isPrimary = !1, this.Hs.enqueueRetryable((() => this.si(!1))));\n            }));\n        })).next((() => this.di(t))).next((e => this.isPrimary && !e ? this._i(t).next((() => !1)) : !!e && this.wi(t).next((() => !0)))))).catch((t => {\n            if (vt(t)) \n            // Proceed with the existing state. Any subsequent access to\n            // IndexedDB will verify the lease.\n            return D(\"IndexedDbPersistence\", \"Failed to extend owner lease: \", t), this.isPrimary;\n            if (!this.allowTabSynchronization) throw t;\n            return D(\"IndexedDbPersistence\", \"Releasing owner lease after error during lease refresh\", t), \n            /* isPrimary= */ !1;\n        })).then((t => {\n            this.isPrimary !== t && this.Hs.enqueueRetryable((() => this.si(t))), this.isPrimary = t;\n        }));\n    }\n    fi(t) {\n        return _o(t).get(\"owner\").next((t => Et.resolve(this.mi(t))));\n    }\n    gi(t) {\n        return wo(t).delete(this.clientId);\n    }\n    /**\n     * If the garbage collection threshold has passed, prunes the\n     * RemoteDocumentChanges and the ClientMetadata store based on the last update\n     * time of all clients.\n     */    async yi() {\n        if (this.isPrimary && !this.pi(this.ni, 18e5)) {\n            this.ni = Date.now();\n            const t = await this.runTransaction(\"maybeGarbageCollectMultiClientState\", \"readwrite-primary\", (t => {\n                const e = xi(t, \"clientMetadata\");\n                return e.W().next((t => {\n                    const n = this.Ii(t, 18e5), s = t.filter((t => -1 === n.indexOf(t)));\n                    // Delete metadata for clients that are no longer considered active.\n                    return Et.forEach(s, (t => e.delete(t.clientId))).next((() => s));\n                }));\n            })).catch((() => []));\n            // Delete potential leftover entries that may continue to mark the\n            // inactive clients as zombied in LocalStorage.\n            // Ideally we'd delete the IndexedDb and LocalStorage zombie entries for\n            // the client atomically, but we can't. So we opt to delete the IndexedDb\n            // entries first to avoid potentially reviving a zombied client.\n                        if (this.oi) for (const e of t) this.oi.removeItem(this.Ti(e.clientId));\n        }\n    }\n    /**\n     * Schedules a recurring timer to update the client metadata and to either\n     * extend or acquire the primary lease if the client is eligible.\n     */    hi() {\n        this.ei = this.Hs.enqueueAfterDelay(\"client_metadata_refresh\" /* ClientMetadataRefresh */ , 4e3, (() => this.ui().then((() => this.yi())).then((() => this.hi()))));\n    }\n    /** Checks whether `client` is the local client. */    mi(t) {\n        return !!t && t.ownerId === this.clientId;\n    }\n    /**\n     * Evaluate the state of all active clients and determine whether the local\n     * client is or can act as the holder of the primary lease. Returns whether\n     * the client is eligible for the lease, but does not actually acquire it.\n     * May return 'false' even if there is no active leaseholder and another\n     * (foreground) client should become leaseholder instead.\n     */    di(t) {\n        if (this.Ys) return Et.resolve(!0);\n        return _o(t).get(\"owner\").next((e => {\n            // A client is eligible for the primary lease if:\n            // - its network is enabled and the client's tab is in the foreground.\n            // - its network is enabled and no other client's tab is in the\n            //   foreground.\n            // - every clients network is disabled and the client's tab is in the\n            //   foreground.\n            // - every clients network is disabled and no other client's tab is in\n            //   the foreground.\n            // - the `forceOwningTab` setting was passed in.\n            if (null !== e && this.pi(e.leaseTimestampMs, 5e3) && !this.Ei(e.ownerId)) {\n                if (this.mi(e) && this.networkEnabled) return !0;\n                if (!this.mi(e)) {\n                    if (!e.allowTabSynchronization) \n                    // Fail the `canActAsPrimary` check if the current leaseholder has\n                    // not opted into multi-tab synchronization. If this happens at\n                    // client startup, we reject the Promise returned by\n                    // `enablePersistence()` and the user can continue to use Firestore\n                    // with in-memory persistence.\n                    // If this fails during a lease refresh, we will instead block the\n                    // AsyncQueue from executing further operations. Note that this is\n                    // acceptable since mixing & matching different `synchronizeTabs`\n                    // settings is not supported.\n                    // TODO(b/114226234): Remove this check when `synchronizeTabs` can\n                    // no longer be turned off.\n                    throw new B($.FAILED_PRECONDITION, lo);\n                    return !1;\n                }\n            }\n            return !(!this.networkEnabled || !this.inForeground) || wo(t).W().next((t => void 0 === this.Ii(t, 5e3).find((t => {\n                if (this.clientId !== t.clientId) {\n                    const e = !this.networkEnabled && t.networkEnabled, n = !this.inForeground && t.inForeground, s = this.networkEnabled === t.networkEnabled;\n                    if (e || n && s) return !0;\n                }\n                return !1;\n            }))));\n        })).next((t => (this.isPrimary !== t && D(\"IndexedDbPersistence\", `Client ${t ? \"is\" : \"is not\"} eligible for a primary lease.`), \n        t)));\n    }\n    async shutdown() {\n        // The shutdown() operations are idempotent and can be called even when\n        // start() aborted (e.g. because it couldn't acquire the persistence lease).\n        this.Ds = !1, this.Ai(), this.ei && (this.ei.cancel(), this.ei = null), this.Ri(), \n        this.bi(), \n        // Use `SimpleDb.runTransaction` directly to avoid failing if another tab\n        // has obtained the primary lease.\n        await this.ri.runTransaction(\"shutdown\", \"readwrite\", [ \"owner\", \"clientMetadata\" ], (t => {\n            const e = new Ci(t, kt.at);\n            return this._i(e).next((() => this.gi(e)));\n        })), this.ri.close(), \n        // Remove the entry marking the client as zombied from LocalStorage since\n        // we successfully deleted its metadata from IndexedDb.\n        this.Pi();\n    }\n    /**\n     * Returns clients that are not zombied and have an updateTime within the\n     * provided threshold.\n     */    Ii(t, e) {\n        return t.filter((t => this.pi(t.updateTimeMs, e) && !this.Ei(t.clientId)));\n    }\n    /**\n     * Returns the IDs of the clients that are currently active. If multi-tab\n     * is not supported, returns an array that only contains the local client's\n     * ID.\n     *\n     * PORTING NOTE: This is only used for Web multi-tab.\n     */    vi() {\n        return this.runTransaction(\"getActiveClients\", \"readonly\", (t => wo(t).W().next((t => this.Ii(t, 18e5).map((t => t.clientId))))));\n    }\n    get started() {\n        return this.Ds;\n    }\n    getMutationQueue(t, e) {\n        return br.oe(t, this.It, e, this.referenceDelegate);\n    }\n    getTargetCache() {\n        return this.Cs;\n    }\n    getRemoteDocumentCache() {\n        return this.remoteDocumentCache;\n    }\n    getIndexManager(t) {\n        return new wr(t, this.It.re.databaseId);\n    }\n    getDocumentOverlayCache(t) {\n        return Zi.oe(this.It, t);\n    }\n    getBundleCache() {\n        return this.Ns;\n    }\n    runTransaction(t, e, n) {\n        D(\"IndexedDbPersistence\", \"Starting transaction:\", t);\n        const s = \"readonly\" === e ? \"readonly\" : \"readwrite\", i = 15 === (r = this.Xs) ? Di : 14 === r ? Si : 13 === r ? Vi : 12 === r ? vi : 11 === r ? Pi : void k();\n        /** Returns the object stores for the provided schema. */\n        var r;\n        let o;\n        // Do all transactions as readwrite against all object stores, since we\n        // are the only reader/writer.\n                return this.ri.runTransaction(t, s, i, (s => (o = new Ci(s, this.Ss ? this.Ss.next() : kt.at), \n        \"readwrite-primary\" === e ? this.fi(o).next((t => !!t || this.di(o))).next((e => {\n            if (!e) throw C(`Failed to obtain primary lease for action '${t}'.`), this.isPrimary = !1, \n            this.Hs.enqueueRetryable((() => this.si(!1))), new B($.FAILED_PRECONDITION, pt);\n            return n(o);\n        })).next((t => this.wi(o).next((() => t)))) : this.Vi(o).next((() => n(o)))))).then((t => (o.raiseOnCommittedEvent(), \n        t)));\n    }\n    /**\n     * Verifies that the current tab is the primary leaseholder or alternatively\n     * that the leaseholder has opted into multi-tab synchronization.\n     */\n    // TODO(b/114226234): Remove this check when `synchronizeTabs` can no longer\n    // be turned off.\n    Vi(t) {\n        return _o(t).get(\"owner\").next((t => {\n            if (null !== t && this.pi(t.leaseTimestampMs, 5e3) && !this.Ei(t.ownerId) && !this.mi(t) && !(this.Ys || this.allowTabSynchronization && t.allowTabSynchronization)) throw new B($.FAILED_PRECONDITION, lo);\n        }));\n    }\n    /**\n     * Obtains or extends the new primary lease for the local client. This\n     * method does not verify that the client is eligible for this lease.\n     */    wi(t) {\n        const e = {\n            ownerId: this.clientId,\n            allowTabSynchronization: this.allowTabSynchronization,\n            leaseTimestampMs: Date.now()\n        };\n        return _o(t).put(\"owner\", e);\n    }\n    static C() {\n        return Rt.C();\n    }\n    /** Checks the primary lease and removes it if we are the current primary. */    _i(t) {\n        const e = _o(t);\n        return e.get(\"owner\").next((t => this.mi(t) ? (D(\"IndexedDbPersistence\", \"Releasing primary lease.\"), \n        e.delete(\"owner\")) : Et.resolve()));\n    }\n    /** Verifies that `updateTimeMs` is within `maxAgeMs`. */    pi(t, e) {\n        const n = Date.now();\n        return !(t < n - e) && (!(t > n) || (C(`Detected an update time that is in the future: ${t} > ${n}`), \n        !1));\n    }\n    ci() {\n        null !== this.document && \"function\" == typeof this.document.addEventListener && (this.ti = () => {\n            this.Hs.enqueueAndForget((() => (this.inForeground = \"visible\" === this.document.visibilityState, \n            this.ui())));\n        }, this.document.addEventListener(\"visibilitychange\", this.ti), this.inForeground = \"visible\" === this.document.visibilityState);\n    }\n    Ri() {\n        this.ti && (this.document.removeEventListener(\"visibilitychange\", this.ti), this.ti = null);\n    }\n    /**\n     * Attaches a window.unload handler that will synchronously write our\n     * clientId to a \"zombie client id\" location in LocalStorage. This can be used\n     * by tabs trying to acquire the primary lease to determine that the lease\n     * is no longer valid even if the timestamp is recent. This is particularly\n     * important for the refresh case (so the tab correctly re-acquires the\n     * primary lease). LocalStorage is used for this rather than IndexedDb because\n     * it is a synchronous API and so can be used reliably from  an unload\n     * handler.\n     */    ai() {\n        var t;\n        \"function\" == typeof (null === (t = this.window) || void 0 === t ? void 0 : t.addEventListener) && (this.Zs = () => {\n            // Note: In theory, this should be scheduled on the AsyncQueue since it\n            // accesses internal state. We execute this code directly during shutdown\n            // to make sure it gets a chance to run.\n            this.Ai(), l() && navigator.appVersion.match(/Version\\/1[45]/) && \n            // On Safari 14 and 15, we do not run any cleanup actions as it might\n            // trigger a bug that prevents Safari from re-opening IndexedDB during\n            // the next page load.\n            // See https://bugs.webkit.org/show_bug.cgi?id=226547\n            this.Hs.enterRestrictedMode(/* purgeExistingTasks= */ !0), this.Hs.enqueueAndForget((() => this.shutdown()));\n        }, this.window.addEventListener(\"pagehide\", this.Zs));\n    }\n    bi() {\n        this.Zs && (this.window.removeEventListener(\"pagehide\", this.Zs), this.Zs = null);\n    }\n    /**\n     * Returns whether a client is \"zombied\" based on its LocalStorage entry.\n     * Clients become zombied when their tab closes without running all of the\n     * cleanup logic in `shutdown()`.\n     */    Ei(t) {\n        var e;\n        try {\n            const n = null !== (null === (e = this.oi) || void 0 === e ? void 0 : e.getItem(this.Ti(t)));\n            return D(\"IndexedDbPersistence\", `Client '${t}' ${n ? \"is\" : \"is not\"} zombied in LocalStorage`), \n            n;\n        } catch (t) {\n            // Gracefully handle if LocalStorage isn't working.\n            return C(\"IndexedDbPersistence\", \"Failed to get zombied client id.\", t), !1;\n        }\n    }\n    /**\n     * Record client as zombied (a client that had its tab closed). Zombied\n     * clients are ignored during primary tab selection.\n     */    Ai() {\n        if (this.oi) try {\n            this.oi.setItem(this.Ti(this.clientId), String(Date.now()));\n        } catch (t) {\n            // Gracefully handle if LocalStorage isn't available / working.\n            C(\"Failed to set zombie client id.\", t);\n        }\n    }\n    /** Removes the zombied client entry if it exists. */    Pi() {\n        if (this.oi) try {\n            this.oi.removeItem(this.Ti(this.clientId));\n        } catch (t) {\n            // Ignore\n        }\n    }\n    Ti(t) {\n        return `firestore_zombie_${this.persistenceKey}_${t}`;\n    }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the primary client object store.\n */ function _o(t) {\n    return xi(t, \"owner\");\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the client metadata object store.\n */ function wo(t) {\n    return xi(t, \"clientMetadata\");\n}\n\n/**\n * Generates a string used as a prefix when storing data in IndexedDB and\n * LocalStorage.\n */ function mo(t, e) {\n    // Use two different prefix formats:\n    //   * firestore / persistenceKey / projectID . databaseID / ...\n    //   * firestore / persistenceKey / projectID / ...\n    // projectIDs are DNS-compatible names and cannot contain dots\n    // so there's no danger of collisions.\n    let n = t.projectId;\n    return t.isDefaultDatabase || (n += \".\" + t.database), \"firestore/\" + e + \"/\" + n + \"/\";\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A set of changes to what documents are currently in view and out of view for\n * a given query. These changes are sent to the LocalStore by the View (via\n * the SyncEngine) and are used to pin / unpin documents as appropriate.\n */\nclass go {\n    constructor(t, e, n, s) {\n        this.targetId = t, this.fromCache = e, this.Si = n, this.Di = s;\n    }\n    static Ci(t, e) {\n        let n = ls(), s = ls();\n        for (const t of e.docChanges) switch (t.type) {\n          case 0 /* Added */ :\n            n = n.add(t.doc.key);\n            break;\n\n          case 1 /* Removed */ :\n            s = s.add(t.doc.key);\n // do nothing\n                }\n        return new go(t, e.fromCache, n, s);\n    }\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The Firestore query engine.\n *\n * Firestore queries can be executed in three modes. The Query Engine determines\n * what mode to use based on what data is persisted. The mode only determines\n * the runtime complexity of the query - the result set is equivalent across all\n * implementations.\n *\n * The Query engine will use indexed-based execution if a user has configured\n * any index that can be used to execute query (via `setIndexConfiguration()`).\n * Otherwise, the engine will try to optimize the query by re-using a previously\n * persisted query result. If that is not possible, the query will be executed\n * via a full collection scan.\n *\n * Index-based execution is the default when available. The query engine\n * supports partial indexed execution and merges the result from the index\n * lookup with documents that have not yet been indexed. The index evaluation\n * matches the backend's format and as such, the SDK can use indexing for all\n * queries that the backend supports.\n *\n * If no index exists, the query engine tries to take advantage of the target\n * document mapping in the TargetCache. These mappings exists for all queries\n * that have been synced with the backend at least once and allow the query\n * engine to only read documents that previously matched a query plus any\n * documents that were edited after the query was last listened to.\n *\n * There are some cases when this optimization is not guaranteed to produce\n * the same results as full collection scans. In these cases, query\n * processing falls back to full scans. These cases are:\n *\n * - Limit queries where a document that matched the query previously no longer\n *   matches the query.\n *\n * - Limit queries where a document edit may cause the document to sort below\n *   another document that is in the local cache.\n *\n * - Queries that have never been CURRENT or free of limbo documents.\n */ class yo {\n    constructor() {\n        this.xi = !1;\n    }\n    /** Sets the document view to query against. */    initialize(t, e) {\n        this.Ni = t, this.indexManager = e, this.xi = !0;\n    }\n    /** Returns all local documents matching the specified query. */    getDocumentsMatchingQuery(t, e, n, s) {\n        return this.ki(t, e).next((i => i || this.Mi(t, e, s, n))).next((n => n || this.Oi(t, e)));\n    }\n    /**\n     * Performs an indexed query that evaluates the query based on a collection's\n     * persisted index values. Returns `null` if an index is not available.\n     */    ki(t, e) {\n        if (en(e)) \n        // Queries that match all documents don't benefit from using\n        // key-based lookups. It is more efficient to scan all documents in a\n        // collection, rather than to perform individual lookups.\n        return Et.resolve(null);\n        let n = un(e);\n        return this.indexManager.getIndexType(t, n).next((s => 0 /* NONE */ === s ? null : (null !== e.limit && 1 /* PARTIAL */ === s && (\n        // We cannot apply a limit for targets that are served using a partial\n        // index. If a partial index will be used to serve the target, the\n        // query may return a superset of documents that match the target\n        // (e.g. if the index doesn't include all the target's filters), or\n        // may return the correct set of documents in the wrong order (e.g. if\n        // the index doesn't include a segment for one of the orderBys).\n        // Therefore, a limit should not be applied in such cases.\n        e = cn(e, null, \"F\" /* First */), n = un(e)), this.indexManager.getDocumentsMatchingTarget(t, n).next((s => {\n            const i = ls(...s);\n            return this.Ni.getDocuments(t, i).next((s => this.indexManager.getMinOffset(t, n).next((n => {\n                const r = this.Fi(e, s);\n                return this.$i(e, r, i, n.readTime) ? this.ki(t, cn(e, null, \"F\" /* First */)) : this.Bi(t, r, e, n);\n            }))));\n        })))));\n    }\n    /**\n     * Performs a query based on the target's persisted query mapping. Returns\n     * `null` if the mapping is not available or cannot be used.\n     */    Mi(t, e, n, s) {\n        return en(e) || s.isEqual(nt.min()) ? this.Oi(t, e) : this.Ni.getDocuments(t, n).next((i => {\n            const r = this.Fi(e, i);\n            return this.$i(e, r, n, s) ? this.Oi(t, e) : (V() <= u.DEBUG && D(\"QueryEngine\", \"Re-using previous result from %s to execute query: %s\", s.toString(), ln(e)), \n            this.Bi(t, r, e, wt(s, -1)));\n        }));\n        // Queries that have never seen a snapshot without limbo free documents\n        // should also be run as a full collection scan.\n        }\n    /** Applies the query filter and sorting to the provided documents.  */    Fi(t, e) {\n        // Sort the documents and re-apply the query filter since previously\n        // matching documents do not necessarily still match the query.\n        let n = new Ut(_n(t));\n        return e.forEach(((e, s) => {\n            fn(t, s) && (n = n.add(s));\n        })), n;\n    }\n    /**\n     * Determines if a limit query needs to be refilled from cache, making it\n     * ineligible for index-free execution.\n     *\n     * @param query - The query.\n     * @param sortedPreviousResults - The documents that matched the query when it\n     * was last synchronized, sorted by the query's comparator.\n     * @param remoteKeys - The document keys that matched the query at the last\n     * snapshot.\n     * @param limboFreeSnapshotVersion - The version of the snapshot when the\n     * query was last synchronized.\n     */    $i(t, e, n, s) {\n        if (null === t.limit) \n        // Queries without limits do not need to be refilled.\n        return !1;\n        if (n.size !== e.size) \n        // The query needs to be refilled if a previously matching document no\n        // longer matches.\n        return !0;\n        // Limit queries are not eligible for index-free query execution if there is\n        // a potential that an older document from cache now sorts before a document\n        // that was previously part of the limit. This, however, can only happen if\n        // the document at the edge of the limit goes out of limit.\n        // If a document that is not the limit boundary sorts differently,\n        // the boundary of the limit itself did not change and documents from cache\n        // will continue to be \"rejected\" by this boundary. Therefore, we can ignore\n        // any modifications that don't affect the last document.\n                const i = \"F\" /* First */ === t.limitType ? e.last() : e.first();\n        return !!i && (i.hasPendingWrites || i.version.compareTo(s) > 0);\n    }\n    Oi(t, e) {\n        return V() <= u.DEBUG && D(\"QueryEngine\", \"Using full collection scan to execute query:\", ln(e)), \n        this.Ni.getDocumentsMatchingQuery(t, e, gt.min());\n    }\n    /**\n     * Combines the results from an indexed execution with the remaining documents\n     * that have not yet been indexed.\n     */    Bi(t, e, n, s) {\n        // Retrieve all results for documents that were updated since the offset.\n        return this.Ni.getDocumentsMatchingQuery(t, n, s).next((t => (\n        // Merge with existing results\n        e.forEach((e => {\n            t = t.insert(e.key, e);\n        })), t)));\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Implements `LocalStore` interface.\n *\n * Note: some field defined in this class might have public access level, but\n * the class is not exported so they are only accessible from this module.\n * This is useful to implement optional features (like bundles) in free\n * functions, such that they are tree-shakeable.\n */\nclass po {\n    constructor(\n    /** Manages our in-memory or durable persistence. */\n    t, e, n, s) {\n        this.persistence = t, this.Li = e, this.It = s, \n        /**\n         * Maps a targetID to data about its target.\n         *\n         * PORTING NOTE: We are using an immutable data structure on Web to make re-runs\n         * of `applyRemoteEvent()` idempotent.\n         */\n        this.Ui = new $t(X), \n        /** Maps a target to its targetID. */\n        // TODO(wuandy): Evaluate if TargetId can be part of Target.\n        this.qi = new ts((t => Ce(t)), Ne), \n        /**\n         * A per collection group index of the last read time processed by\n         * `getNewDocumentChanges()`.\n         *\n         * PORTING NOTE: This is only used for multi-tab synchronization.\n         */\n        this.Ki = new Map, this.Gi = t.getRemoteDocumentCache(), this.Cs = t.getTargetCache(), \n        this.Ns = t.getBundleCache(), this.Qi(n);\n    }\n    Qi(t) {\n        // TODO(indexing): Add spec tests that test these components change after a\n        // user change\n        this.documentOverlayCache = this.persistence.getDocumentOverlayCache(t), this.indexManager = this.persistence.getIndexManager(t), \n        this.mutationQueue = this.persistence.getMutationQueue(t, this.indexManager), this.localDocuments = new Yr(this.Gi, this.mutationQueue, this.documentOverlayCache, this.indexManager), \n        this.Gi.setIndexManager(this.indexManager), this.Li.initialize(this.localDocuments, this.indexManager);\n    }\n    collectGarbage(t) {\n        return this.persistence.runTransaction(\"Collect garbage\", \"readwrite-primary\", (e => t.collect(e, this.Ui)));\n    }\n}\n\nfunction Io(\n/** Manages our in-memory or durable persistence. */\nt, e, n, s) {\n    return new po(t, e, n, s);\n}\n\n/**\n * Tells the LocalStore that the currently authenticated user has changed.\n *\n * In response the local store switches the mutation queue to the new user and\n * returns any resulting document changes.\n */\n// PORTING NOTE: Android and iOS only return the documents affected by the\n// change.\nasync function To(t, e) {\n    const n = F(t);\n    return await n.persistence.runTransaction(\"Handle user change\", \"readonly\", (t => {\n        // Swap out the mutation queue, grabbing the pending mutation batches\n        // before and after.\n        let s;\n        return n.mutationQueue.getAllMutationBatches(t).next((i => (s = i, n.Qi(e), n.mutationQueue.getAllMutationBatches(t)))).next((e => {\n            const i = [], r = [];\n            // Union the old/new changed keys.\n            let o = ls();\n            for (const t of s) {\n                i.push(t.batchId);\n                for (const e of t.mutations) o = o.add(e.key);\n            }\n            for (const t of e) {\n                r.push(t.batchId);\n                for (const e of t.mutations) o = o.add(e.key);\n            }\n            // Return the set of all (potentially) changed documents and the list\n            // of mutation batch IDs that were affected by change.\n                        return n.localDocuments.getDocuments(t, o).next((t => ({\n                ji: t,\n                removedBatchIds: i,\n                addedBatchIds: r\n            })));\n        }));\n    }));\n}\n\n/* Accepts locally generated Mutations and commit them to storage. */\n/**\n * Acknowledges the given batch.\n *\n * On the happy path when a batch is acknowledged, the local store will\n *\n *  + remove the batch from the mutation queue;\n *  + apply the changes to the remote document cache;\n *  + recalculate the latency compensated view implied by those changes (there\n *    may be mutations in the queue that affect the documents but haven't been\n *    acknowledged yet); and\n *  + give the changed documents back the sync engine\n *\n * @returns The resulting (modified) documents.\n */\nfunction Eo(t, e) {\n    const n = F(t);\n    return n.persistence.runTransaction(\"Acknowledge batch\", \"readwrite-primary\", (t => {\n        const s = e.batch.keys(), i = n.Gi.newChangeBuffer({\n            trackRemovals: !0\n        });\n        return function(t, e, n, s) {\n            const i = n.batch, r = i.keys();\n            let o = Et.resolve();\n            return r.forEach((t => {\n                o = o.next((() => s.getEntry(e, t))).next((e => {\n                    const r = n.docVersions.get(t);\n                    M(null !== r), e.version.compareTo(r) < 0 && (i.applyToRemoteDocument(e, n), e.isValidDocument() && (\n                    // We use the commitVersion as the readTime rather than the\n                    // document's updateTime since the updateTime is not advanced\n                    // for updates that do not modify the underlying document.\n                    e.setReadTime(n.commitVersion), s.addEntry(e)));\n                }));\n            })), o.next((() => t.mutationQueue.removeMutationBatch(e, i)));\n        }\n        /** Returns the local view of the documents affected by a mutation batch. */\n        // PORTING NOTE: Multi-Tab only.\n        (n, t, e, i).next((() => i.apply(t))).next((() => n.mutationQueue.performConsistencyCheck(t))).next((() => n.documentOverlayCache.removeOverlaysForBatchId(t, s, e.batch.batchId))).next((() => n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t, function(t) {\n            let e = ls();\n            for (let n = 0; n < t.mutationResults.length; ++n) {\n                t.mutationResults[n].transformResults.length > 0 && (e = e.add(t.batch.mutations[n].key));\n            }\n            return e;\n        }\n        /**\n * Removes mutations from the MutationQueue for the specified batch;\n * LocalDocuments will be recalculated.\n *\n * @returns The resulting modified documents.\n */ (e)))).next((() => n.localDocuments.getDocuments(t, s)));\n    }));\n}\n\n/**\n * Returns the last consistent snapshot processed (used by the RemoteStore to\n * determine whether to buffer incoming snapshots from the backend).\n */\nfunction Ao(t) {\n    const e = F(t);\n    return e.persistence.runTransaction(\"Get last remote snapshot version\", \"readonly\", (t => e.Cs.getLastRemoteSnapshotVersion(t)));\n}\n\n/**\n * Updates the \"ground-state\" (remote) documents. We assume that the remote\n * event reflects any write batches that have been acknowledged or rejected\n * (i.e. we do not re-apply local mutations to updates from this event).\n *\n * LocalDocuments are re-calculated if there are remaining mutations in the\n * queue.\n */ function Ro(t, e) {\n    const n = F(t), s = e.snapshotVersion;\n    let i = n.Ui;\n    return n.persistence.runTransaction(\"Apply remote event\", \"readwrite-primary\", (t => {\n        const r = n.Gi.newChangeBuffer({\n            trackRemovals: !0\n        });\n        // Reset newTargetDataByTargetMap in case this transaction gets re-run.\n                i = n.Ui;\n        const o = [];\n        e.targetChanges.forEach(((r, u) => {\n            const c = i.get(u);\n            if (!c) return;\n            // Only update the remote keys if the target is still active. This\n            // ensures that we can persist the updated target data along with\n            // the updated assignment.\n                        o.push(n.Cs.removeMatchingKeys(t, r.removedDocuments, u).next((() => n.Cs.addMatchingKeys(t, r.addedDocuments, u))));\n            let a = c.withSequenceNumber(t.currentSequenceNumber);\n            e.targetMismatches.has(u) ? a = a.withResumeToken(jt.EMPTY_BYTE_STRING, nt.min()).withLastLimboFreeSnapshotVersion(nt.min()) : r.resumeToken.approximateByteSize() > 0 && (a = a.withResumeToken(r.resumeToken, s)), \n            i = i.insert(u, a), \n            // Update the target data if there are target changes (or if\n            // sufficient time has passed since the last update).\n            /**\n * Returns true if the newTargetData should be persisted during an update of\n * an active target. TargetData should always be persisted when a target is\n * being released and should not call this function.\n *\n * While the target is active, TargetData updates can be omitted when nothing\n * about the target has changed except metadata like the resume token or\n * snapshot version. Occasionally it's worth the extra write to prevent these\n * values from getting too stale after a crash, but this doesn't have to be\n * too frequent.\n */\n            function(t, e, n) {\n                // Always persist target data if we don't already have a resume token.\n                if (0 === t.resumeToken.approximateByteSize()) return !0;\n                // Don't allow resume token changes to be buffered indefinitely. This\n                // allows us to be reasonably up-to-date after a crash and avoids needing\n                // to loop over all active queries on shutdown. Especially in the browser\n                // we may not get time to do anything interesting while the current tab is\n                // closing.\n                                if (e.snapshotVersion.toMicroseconds() - t.snapshotVersion.toMicroseconds() >= 3e8) return !0;\n                // Otherwise if the only thing that has changed about a target is its resume\n                // token it's not worth persisting. Note that the RemoteStore keeps an\n                // in-memory view of the currently active targets which includes the current\n                // resume token, so stream failure or user changes will still use an\n                // up-to-date resume token regardless of what we do here.\n                                return n.addedDocuments.size + n.modifiedDocuments.size + n.removedDocuments.size > 0;\n            }\n            /**\n * Notifies local store of the changed views to locally pin documents.\n */ (c, a, r) && o.push(n.Cs.updateTargetData(t, a));\n        }));\n        let u = ns(), c = ls();\n        // HACK: The only reason we allow a null snapshot version is so that we\n        // can synthesize remote events when we get permission denied errors while\n        // trying to resolve the state of a locally cached document that is in\n        // limbo.\n        if (e.documentUpdates.forEach((s => {\n            e.resolvedLimboDocuments.has(s) && o.push(n.persistence.referenceDelegate.updateLimboDocument(t, s));\n        })), \n        // Each loop iteration only affects its \"own\" doc, so it's safe to get all\n        // the remote documents in advance in a single call.\n        o.push(bo(t, r, e.documentUpdates).next((t => {\n            u = t.Wi, c = t.zi;\n        }))), !s.isEqual(nt.min())) {\n            const e = n.Cs.getLastRemoteSnapshotVersion(t).next((e => n.Cs.setTargetsMetadata(t, t.currentSequenceNumber, s)));\n            o.push(e);\n        }\n        return Et.waitFor(o).next((() => r.apply(t))).next((() => n.localDocuments.getLocalViewOfDocuments(t, u, c))).next((() => u));\n    })).then((t => (n.Ui = i, t)));\n}\n\n/**\n * Populates document change buffer with documents from backend or a bundle.\n * Returns the document changes resulting from applying those documents, and\n * also a set of documents whose existence state are changed as a result.\n *\n * @param txn - Transaction to use to read existing documents from storage.\n * @param documentBuffer - Document buffer to collect the resulted changes to be\n *        applied to storage.\n * @param documents - Documents to be applied.\n */ function bo(t, e, n) {\n    let s = ls(), i = ls();\n    return n.forEach((t => s = s.add(t))), e.getEntries(t, s).next((t => {\n        let s = ns();\n        return n.forEach(((n, r) => {\n            const o = t.get(n);\n            // Check if see if there is a existence state change for this document.\n                        r.isFoundDocument() !== o.isFoundDocument() && (i = i.add(n)), \n            // Note: The order of the steps below is important, since we want\n            // to ensure that rejected limbo resolutions (which fabricate\n            // NoDocuments with SnapshotVersion.min()) never add documents to\n            // cache.\n            r.isNoDocument() && r.version.isEqual(nt.min()) ? (\n            // NoDocuments with SnapshotVersion.min() are used in manufactured\n            // events. We remove these documents from cache since we lost\n            // access.\n            e.removeEntry(n, r.readTime), s = s.insert(n, r)) : !o.isValidDocument() || r.version.compareTo(o.version) > 0 || 0 === r.version.compareTo(o.version) && o.hasPendingWrites ? (e.addEntry(r), \n            s = s.insert(n, r)) : D(\"LocalStore\", \"Ignoring outdated watch update for \", n, \". Current version:\", o.version, \" Watch version:\", r.version);\n        })), {\n            Wi: s,\n            zi: i\n        };\n    }));\n}\n\n/**\n * Gets the mutation batch after the passed in batchId in the mutation queue\n * or null if empty.\n * @param afterBatchId - If provided, the batch to search after.\n * @returns The next mutation or null if there wasn't one.\n */\nfunction Po(t, e) {\n    const n = F(t);\n    return n.persistence.runTransaction(\"Get next mutation batch\", \"readonly\", (t => (void 0 === e && (e = -1), \n    n.mutationQueue.getNextMutationBatchAfterBatchId(t, e))));\n}\n\n/**\n * Reads the current value of a Document with a given key or null if not\n * found - used for testing.\n */\n/**\n * Assigns the given target an internal ID so that its results can be pinned so\n * they don't get GC'd. A target must be allocated in the local store before\n * the store can be used to manage its view.\n *\n * Allocating an already allocated `Target` will return the existing `TargetData`\n * for that `Target`.\n */\nfunction vo(t, e) {\n    const n = F(t);\n    return n.persistence.runTransaction(\"Allocate target\", \"readwrite\", (t => {\n        let s;\n        return n.Cs.getTargetData(t, e).next((i => i ? (\n        // This target has been listened to previously, so reuse the\n        // previous targetID.\n        // TODO(mcg): freshen last accessed date?\n        s = i, Et.resolve(s)) : n.Cs.allocateTargetId(t).next((i => (s = new Oi(e, i, 0 /* Listen */ , t.currentSequenceNumber), \n        n.Cs.addTargetData(t, s).next((() => s)))))));\n    })).then((t => {\n        // If Multi-Tab is enabled, the existing target data may be newer than\n        // the in-memory data\n        const s = n.Ui.get(t.targetId);\n        return (null === s || t.snapshotVersion.compareTo(s.snapshotVersion) > 0) && (n.Ui = n.Ui.insert(t.targetId, t), \n        n.qi.set(e, t.targetId)), t;\n    }));\n}\n\n/**\n * Returns the TargetData as seen by the LocalStore, including updates that may\n * have not yet been persisted to the TargetCache.\n */\n// Visible for testing.\n/**\n * Unpins all the documents associated with the given target. If\n * `keepPersistedTargetData` is set to false and Eager GC enabled, the method\n * directly removes the associated target data from the target cache.\n *\n * Releasing a non-existing `Target` is a no-op.\n */\n// PORTING NOTE: `keepPersistedTargetData` is multi-tab only.\nasync function Vo(t, e, n) {\n    const s = F(t), i = s.Ui.get(e), r = n ? \"readwrite\" : \"readwrite-primary\";\n    try {\n        n || await s.persistence.runTransaction(\"Release target\", r, (t => s.persistence.referenceDelegate.removeTarget(t, i)));\n    } catch (t) {\n        if (!vt(t)) throw t;\n        // All `releaseTarget` does is record the final metadata state for the\n        // target, but we've been recording this periodically during target\n        // activity. If we lose this write this could cause a very slight\n        // difference in the order of target deletion during GC, but we\n        // don't define exact LRU semantics so this is acceptable.\n        D(\"LocalStore\", `Failed to update sequence numbers for target ${e}: ${t}`);\n    }\n    s.Ui = s.Ui.remove(e), s.qi.delete(i.target);\n}\n\n/**\n * Runs the specified query against the local store and returns the results,\n * potentially taking advantage of query data from previous executions (such\n * as the set of remote keys).\n *\n * @param usePreviousResults - Whether results from previous executions can\n * be used to optimize this query execution.\n */ function So(t, e, n) {\n    const s = F(t);\n    let i = nt.min(), r = ls();\n    return s.persistence.runTransaction(\"Execute query\", \"readonly\", (t => function(t, e, n) {\n        const s = F(t), i = s.qi.get(n);\n        return void 0 !== i ? Et.resolve(s.Ui.get(i)) : s.Cs.getTargetData(e, n);\n    }(s, t, un(e)).next((e => {\n        if (e) return i = e.lastLimboFreeSnapshotVersion, s.Cs.getMatchingKeysForTargetId(t, e.targetId).next((t => {\n            r = t;\n        }));\n    })).next((() => s.Li.getDocumentsMatchingQuery(t, e, n ? i : nt.min(), n ? r : ls()))).next((t => (xo(s, dn(e), t), \n    {\n        documents: t,\n        Hi: r\n    })))));\n}\n\n// PORTING NOTE: Multi-Tab only.\nfunction Do(t, e) {\n    const n = F(t), s = F(n.Cs), i = n.Ui.get(e);\n    return i ? Promise.resolve(i.target) : n.persistence.runTransaction(\"Get target data\", \"readonly\", (t => s.se(t, e).next((t => t ? t.target : null))));\n}\n\n/**\n * Returns the set of documents that have been updated since the last call.\n * If this is the first call, returns the set of changes since client\n * initialization. Further invocations will return document that have changed\n * since the prior call.\n */\n// PORTING NOTE: Multi-Tab only.\nfunction Co(t, e) {\n    const n = F(t), s = n.Ki.get(e) || nt.min();\n    // Get the current maximum read time for the collection. This should always\n    // exist, but to reduce the chance for regressions we default to\n    // SnapshotVersion.Min()\n    // TODO(indexing): Consider removing the default value.\n        return n.persistence.runTransaction(\"Get new document changes\", \"readonly\", (t => n.Gi.getAllFromCollectionGroup(t, e, wt(s, -1), \n    /* limit= */ Number.MAX_SAFE_INTEGER))).then((t => (xo(n, e, t), t)));\n}\n\n/** Sets the collection group's maximum read time from the given documents. */\n// PORTING NOTE: Multi-Tab only.\nfunction xo(t, e, n) {\n    let s = nt.min();\n    n.forEach(((t, e) => {\n        e.readTime.compareTo(s) > 0 && (s = e.readTime);\n    })), t.Ki.set(e, s);\n}\n\n/**\n * Creates a new target using the given bundle name, which will be used to\n * hold the keys of all documents from the bundle in query-document mappings.\n * This ensures that the loaded documents do not get garbage collected\n * right away.\n */\n/**\n * Applies the documents from a bundle to the \"ground-state\" (remote)\n * documents.\n *\n * LocalDocuments are re-calculated if there are remaining mutations in the\n * queue.\n */\nasync function No(t, e, n, s) {\n    const i = F(t);\n    let r = ls(), o = ns();\n    for (const t of n) {\n        const n = e.Ji(t.metadata.name);\n        t.document && (r = r.add(n));\n        const s = e.Yi(t);\n        s.setReadTime(e.Xi(t.metadata.readTime)), o = o.insert(n, s);\n    }\n    const u = i.Gi.newChangeBuffer({\n        trackRemovals: !0\n    }), c = await vo(i, function(t) {\n        // It is OK that the path used for the query is not valid, because this will\n        // not be read and queried.\n        return un(tn(it.fromString(`__bundle__/docs/${t}`)));\n    }(s));\n    // Allocates a target to hold all document keys from the bundle, such that\n    // they will not get garbage collected right away.\n        return i.persistence.runTransaction(\"Apply bundle documents\", \"readwrite\", (t => bo(t, u, o).next((e => (u.apply(t), \n    e))).next((e => i.Cs.removeMatchingKeysForTargetId(t, c.targetId).next((() => i.Cs.addMatchingKeys(t, r, c.targetId))).next((() => i.localDocuments.getLocalViewOfDocuments(t, e.Wi, e.zi))).next((() => e.Wi))))));\n}\n\n/**\n * Returns a promise of a boolean to indicate if the given bundle has already\n * been loaded and the create time is newer than the current loading bundle.\n */\n/**\n * Saves the given `NamedQuery` to local persistence.\n */\nasync function ko(t, e, n = ls()) {\n    // Allocate a target for the named query such that it can be resumed\n    // from associated read time if users use it to listen.\n    // NOTE: this also means if no corresponding target exists, the new target\n    // will remain active and will not get collected, unless users happen to\n    // unlisten the query somehow.\n    const s = await vo(t, un(ji(e.bundledQuery))), i = F(t);\n    return i.persistence.runTransaction(\"Save named query\", \"readwrite\", (t => {\n        const r = Ss(e.readTime);\n        // Simply save the query itself if it is older than what the SDK already\n        // has.\n                if (s.snapshotVersion.compareTo(r) >= 0) return i.Ns.saveNamedQuery(t, e);\n        // Update existing target data because the query from the bundle is newer.\n                const o = s.withResumeToken(jt.EMPTY_BYTE_STRING, r);\n        return i.Ui = i.Ui.insert(o.targetId, o), i.Cs.updateTargetData(t, o).next((() => i.Cs.removeMatchingKeysForTargetId(t, s.targetId))).next((() => i.Cs.addMatchingKeys(t, n, s.targetId))).next((() => i.Ns.saveNamedQuery(t, e)));\n    }));\n}\n\n/** Assembles the key for a client state in WebStorage */\nfunction Mo(t, e) {\n    return `firestore_clients_${t}_${e}`;\n}\n\n// The format of the WebStorage key that stores the mutation state is:\n//     firestore_mutations_<persistence_prefix>_<batch_id>\n//     (for unauthenticated users)\n// or: firestore_mutations_<persistence_prefix>_<batch_id>_<user_uid>\n\n// 'user_uid' is last to avoid needing to escape '_' characters that it might\n// contain.\n/** Assembles the key for a mutation batch in WebStorage */\nfunction Oo(t, e, n) {\n    let s = `firestore_mutations_${t}_${n}`;\n    return e.isAuthenticated() && (s += `_${e.uid}`), s;\n}\n\n// The format of the WebStorage key that stores a query target's metadata is:\n//     firestore_targets_<persistence_prefix>_<target_id>\n/** Assembles the key for a query state in WebStorage */\nfunction Fo(t, e) {\n    return `firestore_targets_${t}_${e}`;\n}\n\n// The WebStorage prefix that stores the primary tab's online state. The\n// format of the key is:\n//     firestore_online_state_<persistence_prefix>\n/**\n * Holds the state of a mutation batch, including its user ID, batch ID and\n * whether the batch is 'pending', 'acknowledged' or 'rejected'.\n */\n// Visible for testing\nclass $o {\n    constructor(t, e, n, s) {\n        this.user = t, this.batchId = e, this.state = n, this.error = s;\n    }\n    /**\n     * Parses a MutationMetadata from its JSON representation in WebStorage.\n     * Logs a warning and returns null if the format of the data is not valid.\n     */    static Zi(t, e, n) {\n        const s = JSON.parse(n);\n        let i, r = \"object\" == typeof s && -1 !== [ \"pending\", \"acknowledged\", \"rejected\" ].indexOf(s.state) && (void 0 === s.error || \"object\" == typeof s.error);\n        return r && s.error && (r = \"string\" == typeof s.error.message && \"string\" == typeof s.error.code, \n        r && (i = new B(s.error.code, s.error.message))), r ? new $o(t, e, s.state, i) : (C(\"SharedClientState\", `Failed to parse mutation state for ID '${e}': ${n}`), \n        null);\n    }\n    tr() {\n        const t = {\n            state: this.state,\n            updateTimeMs: Date.now()\n        };\n        return this.error && (t.error = {\n            code: this.error.code,\n            message: this.error.message\n        }), JSON.stringify(t);\n    }\n}\n\n/**\n * Holds the state of a query target, including its target ID and whether the\n * target is 'not-current', 'current' or 'rejected'.\n */\n// Visible for testing\nclass Bo {\n    constructor(t, e, n) {\n        this.targetId = t, this.state = e, this.error = n;\n    }\n    /**\n     * Parses a QueryTargetMetadata from its JSON representation in WebStorage.\n     * Logs a warning and returns null if the format of the data is not valid.\n     */    static Zi(t, e) {\n        const n = JSON.parse(e);\n        let s, i = \"object\" == typeof n && -1 !== [ \"not-current\", \"current\", \"rejected\" ].indexOf(n.state) && (void 0 === n.error || \"object\" == typeof n.error);\n        return i && n.error && (i = \"string\" == typeof n.error.message && \"string\" == typeof n.error.code, \n        i && (s = new B(n.error.code, n.error.message))), i ? new Bo(t, n.state, s) : (C(\"SharedClientState\", `Failed to parse target state for ID '${t}': ${e}`), \n        null);\n    }\n    tr() {\n        const t = {\n            state: this.state,\n            updateTimeMs: Date.now()\n        };\n        return this.error && (t.error = {\n            code: this.error.code,\n            message: this.error.message\n        }), JSON.stringify(t);\n    }\n}\n\n/**\n * This class represents the immutable ClientState for a client read from\n * WebStorage, containing the list of active query targets.\n */ class Lo {\n    constructor(t, e) {\n        this.clientId = t, this.activeTargetIds = e;\n    }\n    /**\n     * Parses a RemoteClientState from the JSON representation in WebStorage.\n     * Logs a warning and returns null if the format of the data is not valid.\n     */    static Zi(t, e) {\n        const n = JSON.parse(e);\n        let s = \"object\" == typeof n && n.activeTargetIds instanceof Array, i = ds();\n        for (let t = 0; s && t < n.activeTargetIds.length; ++t) s = ie(n.activeTargetIds[t]), \n        i = i.add(n.activeTargetIds[t]);\n        return s ? new Lo(t, i) : (C(\"SharedClientState\", `Failed to parse client data for instance '${t}': ${e}`), \n        null);\n    }\n}\n\n/**\n * This class represents the online state for all clients participating in\n * multi-tab. The online state is only written to by the primary client, and\n * used in secondary clients to update their query views.\n */ class Uo {\n    constructor(t, e) {\n        this.clientId = t, this.onlineState = e;\n    }\n    /**\n     * Parses a SharedOnlineState from its JSON representation in WebStorage.\n     * Logs a warning and returns null if the format of the data is not valid.\n     */    static Zi(t) {\n        const e = JSON.parse(t);\n        return \"object\" == typeof e && -1 !== [ \"Unknown\", \"Online\", \"Offline\" ].indexOf(e.onlineState) && \"string\" == typeof e.clientId ? new Uo(e.clientId, e.onlineState) : (C(\"SharedClientState\", `Failed to parse online state: ${t}`), \n        null);\n    }\n}\n\n/**\n * Metadata state of the local client. Unlike `RemoteClientState`, this class is\n * mutable and keeps track of all pending mutations, which allows us to\n * update the range of pending mutation batch IDs as new mutations are added or\n * removed.\n *\n * The data in `LocalClientState` is not read from WebStorage and instead\n * updated via its instance methods. The updated state can be serialized via\n * `toWebStorageJSON()`.\n */\n// Visible for testing.\nclass qo {\n    constructor() {\n        this.activeTargetIds = ds();\n    }\n    er(t) {\n        this.activeTargetIds = this.activeTargetIds.add(t);\n    }\n    nr(t) {\n        this.activeTargetIds = this.activeTargetIds.delete(t);\n    }\n    /**\n     * Converts this entry into a JSON-encoded format we can use for WebStorage.\n     * Does not encode `clientId` as it is part of the key in WebStorage.\n     */    tr() {\n        const t = {\n            activeTargetIds: this.activeTargetIds.toArray(),\n            updateTimeMs: Date.now()\n        };\n        return JSON.stringify(t);\n    }\n}\n\n/**\n * `WebStorageSharedClientState` uses WebStorage (window.localStorage) as the\n * backing store for the SharedClientState. It keeps track of all active\n * clients and supports modifications of the local client's data.\n */ class Ko {\n    constructor(t, e, n, s, i) {\n        this.window = t, this.Hs = e, this.persistenceKey = n, this.sr = s, this.syncEngine = null, \n        this.onlineStateHandler = null, this.sequenceNumberHandler = null, this.ir = this.rr.bind(this), \n        this.ur = new $t(X), this.started = !1, \n        /**\n         * Captures WebStorage events that occur before `start()` is called. These\n         * events are replayed once `WebStorageSharedClientState` is started.\n         */\n        this.cr = [];\n        // Escape the special characters mentioned here:\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n        const r = n.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n        this.storage = this.window.localStorage, this.currentUser = i, this.ar = Mo(this.persistenceKey, this.sr), \n        this.hr = \n        /** Assembles the key for the current sequence number. */\n        function(t) {\n            return `firestore_sequence_number_${t}`;\n        }\n        /**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ (this.persistenceKey), this.ur = this.ur.insert(this.sr, new qo), this.lr = new RegExp(`^firestore_clients_${r}_([^_]*)$`), \n        this.dr = new RegExp(`^firestore_mutations_${r}_(\\\\d+)(?:_(.*))?$`), this._r = new RegExp(`^firestore_targets_${r}_(\\\\d+)$`), \n        this.wr = \n        /** Assembles the key for the online state of the primary tab. */\n        function(t) {\n            return `firestore_online_state_${t}`;\n        }\n        // The WebStorage prefix that plays as a event to indicate the remote documents\n        // might have changed due to some secondary tabs loading a bundle.\n        // format of the key is:\n        //     firestore_bundle_loaded_v2_<persistenceKey>\n        // The version ending with \"v2\" stores the list of modified collection groups.\n        (this.persistenceKey), this.mr = function(t) {\n            return `firestore_bundle_loaded_v2_${t}`;\n        }\n        // The WebStorage key prefix for the key that stores the last sequence number allocated. The key\n        // looks like 'firestore_sequence_number_<persistence_prefix>'.\n        (this.persistenceKey), \n        // Rather than adding the storage observer during start(), we add the\n        // storage observer during initialization. This ensures that we collect\n        // events before other components populate their initial state (during their\n        // respective start() calls). Otherwise, we might for example miss a\n        // mutation that is added after LocalStore's start() processed the existing\n        // mutations but before we observe WebStorage events.\n        this.window.addEventListener(\"storage\", this.ir);\n    }\n    /** Returns 'true' if WebStorage is available in the current environment. */    static C(t) {\n        return !(!t || !t.localStorage);\n    }\n    async start() {\n        // Retrieve the list of existing clients to backfill the data in\n        // SharedClientState.\n        const t = await this.syncEngine.vi();\n        for (const e of t) {\n            if (e === this.sr) continue;\n            const t = this.getItem(Mo(this.persistenceKey, e));\n            if (t) {\n                const n = Lo.Zi(e, t);\n                n && (this.ur = this.ur.insert(n.clientId, n));\n            }\n        }\n        this.gr();\n        // Check if there is an existing online state and call the callback handler\n        // if applicable.\n        const e = this.storage.getItem(this.wr);\n        if (e) {\n            const t = this.yr(e);\n            t && this.pr(t);\n        }\n        for (const t of this.cr) this.rr(t);\n        this.cr = [], \n        // Register a window unload hook to remove the client metadata entry from\n        // WebStorage even if `shutdown()` was not called.\n        this.window.addEventListener(\"pagehide\", (() => this.shutdown())), this.started = !0;\n    }\n    writeSequenceNumber(t) {\n        this.setItem(this.hr, JSON.stringify(t));\n    }\n    getAllActiveQueryTargets() {\n        return this.Ir(this.ur);\n    }\n    isActiveQueryTarget(t) {\n        let e = !1;\n        return this.ur.forEach(((n, s) => {\n            s.activeTargetIds.has(t) && (e = !0);\n        })), e;\n    }\n    addPendingMutation(t) {\n        this.Tr(t, \"pending\");\n    }\n    updateMutationState(t, e, n) {\n        this.Tr(t, e, n), \n        // Once a final mutation result is observed by other clients, they no longer\n        // access the mutation's metadata entry. Since WebStorage replays events\n        // in order, it is safe to delete the entry right after updating it.\n        this.Er(t);\n    }\n    addLocalQueryTarget(t) {\n        let e = \"not-current\";\n        // Lookup an existing query state if the target ID was already registered\n        // by another tab\n                if (this.isActiveQueryTarget(t)) {\n            const n = this.storage.getItem(Fo(this.persistenceKey, t));\n            if (n) {\n                const s = Bo.Zi(t, n);\n                s && (e = s.state);\n            }\n        }\n        return this.Ar.er(t), this.gr(), e;\n    }\n    removeLocalQueryTarget(t) {\n        this.Ar.nr(t), this.gr();\n    }\n    isLocalQueryTarget(t) {\n        return this.Ar.activeTargetIds.has(t);\n    }\n    clearQueryState(t) {\n        this.removeItem(Fo(this.persistenceKey, t));\n    }\n    updateQueryState(t, e, n) {\n        this.Rr(t, e, n);\n    }\n    handleUserChange(t, e, n) {\n        e.forEach((t => {\n            this.Er(t);\n        })), this.currentUser = t, n.forEach((t => {\n            this.addPendingMutation(t);\n        }));\n    }\n    setOnlineState(t) {\n        this.br(t);\n    }\n    notifyBundleLoaded(t) {\n        this.Pr(t);\n    }\n    shutdown() {\n        this.started && (this.window.removeEventListener(\"storage\", this.ir), this.removeItem(this.ar), \n        this.started = !1);\n    }\n    getItem(t) {\n        const e = this.storage.getItem(t);\n        return D(\"SharedClientState\", \"READ\", t, e), e;\n    }\n    setItem(t, e) {\n        D(\"SharedClientState\", \"SET\", t, e), this.storage.setItem(t, e);\n    }\n    removeItem(t) {\n        D(\"SharedClientState\", \"REMOVE\", t), this.storage.removeItem(t);\n    }\n    rr(t) {\n        // Note: The function is typed to take Event to be interface-compatible with\n        // `Window.addEventListener`.\n        const e = t;\n        if (e.storageArea === this.storage) {\n            if (D(\"SharedClientState\", \"EVENT\", e.key, e.newValue), e.key === this.ar) return void C(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\");\n            this.Hs.enqueueRetryable((async () => {\n                if (this.started) {\n                    if (null !== e.key) if (this.lr.test(e.key)) {\n                        if (null == e.newValue) {\n                            const t = this.vr(e.key);\n                            return this.Vr(t, null);\n                        }\n                        {\n                            const t = this.Sr(e.key, e.newValue);\n                            if (t) return this.Vr(t.clientId, t);\n                        }\n                    } else if (this.dr.test(e.key)) {\n                        if (null !== e.newValue) {\n                            const t = this.Dr(e.key, e.newValue);\n                            if (t) return this.Cr(t);\n                        }\n                    } else if (this._r.test(e.key)) {\n                        if (null !== e.newValue) {\n                            const t = this.Nr(e.key, e.newValue);\n                            if (t) return this.kr(t);\n                        }\n                    } else if (e.key === this.wr) {\n                        if (null !== e.newValue) {\n                            const t = this.yr(e.newValue);\n                            if (t) return this.pr(t);\n                        }\n                    } else if (e.key === this.hr) {\n                        const t = function(t) {\n                            let e = kt.at;\n                            if (null != t) try {\n                                const n = JSON.parse(t);\n                                M(\"number\" == typeof n), e = n;\n                            } catch (t) {\n                                C(\"SharedClientState\", \"Failed to read sequence number from WebStorage\", t);\n                            }\n                            return e;\n                        }\n                        /**\n * `MemorySharedClientState` is a simple implementation of SharedClientState for\n * clients using memory persistence. The state in this class remains fully\n * isolated and no synchronization is performed.\n */ (e.newValue);\n                        t !== kt.at && this.sequenceNumberHandler(t);\n                    } else if (e.key === this.mr) {\n                        const t = this.Mr(e.newValue);\n                        await Promise.all(t.map((t => this.syncEngine.Or(t))));\n                    }\n                } else this.cr.push(e);\n            }));\n        }\n    }\n    get Ar() {\n        return this.ur.get(this.sr);\n    }\n    gr() {\n        this.setItem(this.ar, this.Ar.tr());\n    }\n    Tr(t, e, n) {\n        const s = new $o(this.currentUser, t, e, n), i = Oo(this.persistenceKey, this.currentUser, t);\n        this.setItem(i, s.tr());\n    }\n    Er(t) {\n        const e = Oo(this.persistenceKey, this.currentUser, t);\n        this.removeItem(e);\n    }\n    br(t) {\n        const e = {\n            clientId: this.sr,\n            onlineState: t\n        };\n        this.storage.setItem(this.wr, JSON.stringify(e));\n    }\n    Rr(t, e, n) {\n        const s = Fo(this.persistenceKey, t), i = new Bo(t, e, n);\n        this.setItem(s, i.tr());\n    }\n    Pr(t) {\n        const e = JSON.stringify(Array.from(t));\n        this.setItem(this.mr, e);\n    }\n    /**\n     * Parses a client state key in WebStorage. Returns null if the key does not\n     * match the expected key format.\n     */    vr(t) {\n        const e = this.lr.exec(t);\n        return e ? e[1] : null;\n    }\n    /**\n     * Parses a client state in WebStorage. Returns 'null' if the value could not\n     * be parsed.\n     */    Sr(t, e) {\n        const n = this.vr(t);\n        return Lo.Zi(n, e);\n    }\n    /**\n     * Parses a mutation batch state in WebStorage. Returns 'null' if the value\n     * could not be parsed.\n     */    Dr(t, e) {\n        const n = this.dr.exec(t), s = Number(n[1]), i = void 0 !== n[2] ? n[2] : null;\n        return $o.Zi(new b(i), s, e);\n    }\n    /**\n     * Parses a query target state from WebStorage. Returns 'null' if the value\n     * could not be parsed.\n     */    Nr(t, e) {\n        const n = this._r.exec(t), s = Number(n[1]);\n        return Bo.Zi(s, e);\n    }\n    /**\n     * Parses an online state from WebStorage. Returns 'null' if the value\n     * could not be parsed.\n     */    yr(t) {\n        return Uo.Zi(t);\n    }\n    Mr(t) {\n        return JSON.parse(t);\n    }\n    async Cr(t) {\n        if (t.user.uid === this.currentUser.uid) return this.syncEngine.Fr(t.batchId, t.state, t.error);\n        D(\"SharedClientState\", `Ignoring mutation for non-active user ${t.user.uid}`);\n    }\n    kr(t) {\n        return this.syncEngine.$r(t.targetId, t.state, t.error);\n    }\n    Vr(t, e) {\n        const n = e ? this.ur.insert(t, e) : this.ur.remove(t), s = this.Ir(this.ur), i = this.Ir(n), r = [], o = [];\n        return i.forEach((t => {\n            s.has(t) || r.push(t);\n        })), s.forEach((t => {\n            i.has(t) || o.push(t);\n        })), this.syncEngine.Br(r, o).then((() => {\n            this.ur = n;\n        }));\n    }\n    pr(t) {\n        // We check whether the client that wrote this online state is still active\n        // by comparing its client ID to the list of clients kept active in\n        // IndexedDb. If a client does not update their IndexedDb client state\n        // within 5 seconds, it is considered inactive and we don't emit an online\n        // state event.\n        this.ur.get(t.clientId) && this.onlineStateHandler(t.onlineState);\n    }\n    Ir(t) {\n        let e = ds();\n        return t.forEach(((t, n) => {\n            e = e.unionWith(n.activeTargetIds);\n        })), e;\n    }\n}\n\nclass Go {\n    constructor() {\n        this.Lr = new qo, this.Ur = {}, this.onlineStateHandler = null, this.sequenceNumberHandler = null;\n    }\n    addPendingMutation(t) {\n        // No op.\n    }\n    updateMutationState(t, e, n) {\n        // No op.\n    }\n    addLocalQueryTarget(t) {\n        return this.Lr.er(t), this.Ur[t] || \"not-current\";\n    }\n    updateQueryState(t, e, n) {\n        this.Ur[t] = e;\n    }\n    removeLocalQueryTarget(t) {\n        this.Lr.nr(t);\n    }\n    isLocalQueryTarget(t) {\n        return this.Lr.activeTargetIds.has(t);\n    }\n    clearQueryState(t) {\n        delete this.Ur[t];\n    }\n    getAllActiveQueryTargets() {\n        return this.Lr.activeTargetIds;\n    }\n    isActiveQueryTarget(t) {\n        return this.Lr.activeTargetIds.has(t);\n    }\n    start() {\n        return this.Lr = new qo, Promise.resolve();\n    }\n    handleUserChange(t, e, n) {\n        // No op.\n    }\n    setOnlineState(t) {\n        // No op.\n    }\n    shutdown() {}\n    writeSequenceNumber(t) {}\n    notifyBundleLoaded(t) {\n        // No op.\n    }\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Qo {\n    qr(t) {\n        // No-op.\n    }\n    shutdown() {\n        // No-op.\n    }\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// References to `window` are guarded by BrowserConnectivityMonitor.isAvailable()\n/* eslint-disable no-restricted-globals */\n/**\n * Browser implementation of ConnectivityMonitor.\n */\nclass jo {\n    constructor() {\n        this.Kr = () => this.Gr(), this.Qr = () => this.jr(), this.Wr = [], this.zr();\n    }\n    qr(t) {\n        this.Wr.push(t);\n    }\n    shutdown() {\n        window.removeEventListener(\"online\", this.Kr), window.removeEventListener(\"offline\", this.Qr);\n    }\n    zr() {\n        window.addEventListener(\"online\", this.Kr), window.addEventListener(\"offline\", this.Qr);\n    }\n    Gr() {\n        D(\"ConnectivityMonitor\", \"Network connectivity changed: AVAILABLE\");\n        for (const t of this.Wr) t(0 /* AVAILABLE */);\n    }\n    jr() {\n        D(\"ConnectivityMonitor\", \"Network connectivity changed: UNAVAILABLE\");\n        for (const t of this.Wr) t(1 /* UNAVAILABLE */);\n    }\n    // TODO(chenbrian): Consider passing in window either into this component or\n    // here for testing via FakeWindow.\n    /** Checks that all used attributes of window are available. */\n    static C() {\n        return \"undefined\" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener;\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const Wo = {\n    BatchGetDocuments: \"batchGet\",\n    Commit: \"commit\",\n    RunQuery: \"runQuery\"\n};\n\n/**\n * Maps RPC names to the corresponding REST endpoint name.\n *\n * We use array notation to avoid mangling.\n */\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Provides a simple helper class that implements the Stream interface to\n * bridge to other implementations that are streams but do not implement the\n * interface. The stream callbacks are invoked with the callOn... methods.\n */\nclass zo {\n    constructor(t) {\n        this.Hr = t.Hr, this.Jr = t.Jr;\n    }\n    Yr(t) {\n        this.Xr = t;\n    }\n    Zr(t) {\n        this.eo = t;\n    }\n    onMessage(t) {\n        this.no = t;\n    }\n    close() {\n        this.Jr();\n    }\n    send(t) {\n        this.Hr(t);\n    }\n    so() {\n        this.Xr();\n    }\n    io(t) {\n        this.eo(t);\n    }\n    ro(t) {\n        this.no(t);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Ho extends \n/**\n * Base class for all Rest-based connections to the backend (WebChannel and\n * HTTP).\n */\nclass {\n    constructor(t) {\n        this.databaseInfo = t, this.databaseId = t.databaseId;\n        const e = t.ssl ? \"https\" : \"http\";\n        this.oo = e + \"://\" + t.host, this.uo = \"projects/\" + this.databaseId.projectId + \"/databases/\" + this.databaseId.database + \"/documents\";\n    }\n    co(t, e, n, s, i) {\n        const r = this.ao(t, e);\n        D(\"RestConnection\", \"Sending: \", r, n);\n        const o = {};\n        return this.ho(o, s, i), this.lo(t, r, o, n).then((t => (D(\"RestConnection\", \"Received: \", t), \n        t)), (e => {\n            throw x(\"RestConnection\", `${t} failed with error: `, e, \"url: \", r, \"request:\", n), \n            e;\n        }));\n    }\n    fo(t, e, n, s, i, r) {\n        // The REST API automatically aggregates all of the streamed results, so we\n        // can just use the normal invoke() method.\n        return this.co(t, e, n, s, i);\n    }\n    /**\n     * Modifies the headers for a request, adding any authorization token if\n     * present and any additional headers for the request.\n     */    ho(t, e, n) {\n        t[\"X-Goog-Api-Client\"] = \"gl-js/ fire/\" + P, \n        // Content-Type: text/plain will avoid preflight requests which might\n        // mess with CORS and redirects by proxies. If we add custom headers\n        // we will need to change this code to potentially use the $httpOverwrite\n        // parameter supported by ESF to avoid triggering preflight requests.\n        t[\"Content-Type\"] = \"text/plain\", this.databaseInfo.appId && (t[\"X-Firebase-GMPID\"] = this.databaseInfo.appId), \n        e && e.headers.forEach(((e, n) => t[n] = e)), n && n.headers.forEach(((e, n) => t[n] = e));\n    }\n    ao(t, e) {\n        const n = Wo[t];\n        return `${this.oo}/v1/${e}:${n}`;\n    }\n} {\n    constructor(t) {\n        super(t), this.forceLongPolling = t.forceLongPolling, this.autoDetectLongPolling = t.autoDetectLongPolling, \n        this.useFetchStreams = t.useFetchStreams;\n    }\n    lo(t, e, n, s) {\n        return new Promise(((i, r) => {\n            const o = new w;\n            o.listenOnce(m.COMPLETE, (() => {\n                try {\n                    switch (o.getLastErrorCode()) {\n                      case g.NO_ERROR:\n                        const e = o.getResponseJson();\n                        D(\"Connection\", \"XHR received:\", JSON.stringify(e)), i(e);\n                        break;\n\n                      case g.TIMEOUT:\n                        D(\"Connection\", 'RPC \"' + t + '\" timed out'), r(new B($.DEADLINE_EXCEEDED, \"Request time out\"));\n                        break;\n\n                      case g.HTTP_ERROR:\n                        const n = o.getStatus();\n                        if (D(\"Connection\", 'RPC \"' + t + '\" failed with status:', n, \"response text:\", o.getResponseText()), \n                        n > 0) {\n                            const t = o.getResponseJson().error;\n                            if (t && t.status && t.message) {\n                                const e = function(t) {\n                                    const e = t.toLowerCase().replace(/_/g, \"-\");\n                                    return Object.values($).indexOf(e) >= 0 ? e : $.UNKNOWN;\n                                }(t.status);\n                                r(new B(e, t.message));\n                            } else r(new B($.UNKNOWN, \"Server responded with status \" + o.getStatus()));\n                        } else \n                        // If we received an HTTP_ERROR but there's no status code,\n                        // it's most probably a connection issue\n                        r(new B($.UNAVAILABLE, \"Connection failed.\"));\n                        break;\n\n                      default:\n                        k();\n                    }\n                } finally {\n                    D(\"Connection\", 'RPC \"' + t + '\" completed.');\n                }\n            }));\n            const u = JSON.stringify(s);\n            o.send(e, \"POST\", u, n, 15);\n        }));\n    }\n    _o(t, e, n) {\n        const s = [ this.oo, \"/\", \"google.firestore.v1.Firestore\", \"/\", t, \"/channel\" ], i = y(), r = p(), o = {\n            // Required for backend stickiness, routing behavior is based on this\n            // parameter.\n            httpSessionIdParam: \"gsessionid\",\n            initMessageHeaders: {},\n            messageUrlParams: {\n                // This param is used to improve routing and project isolation by the\n                // backend and must be included in every request.\n                database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`\n            },\n            sendRawJson: !0,\n            supportsCrossDomainXhr: !0,\n            internalChannelParams: {\n                // Override the default timeout (randomized between 10-20 seconds) since\n                // a large write batch on a slow internet connection may take a long\n                // time to send to the backend. Rather than have WebChannel impose a\n                // tight timeout which could lead to infinite timeouts and retries, we\n                // set it very large (5-10 minutes) and rely on the browser's builtin\n                // timeouts to kick in if the request isn't working.\n                forwardChannelRequestTimeoutMs: 6e5\n            },\n            forceLongPolling: this.forceLongPolling,\n            detectBufferingProxy: this.autoDetectLongPolling\n        };\n        this.useFetchStreams && (o.xmlHttpFactory = new I({})), this.ho(o.initMessageHeaders, e, n), \n        // Sending the custom headers we just added to request.initMessageHeaders\n        // (Authorization, etc.) will trigger the browser to make a CORS preflight\n        // request because the XHR will no longer meet the criteria for a \"simple\"\n        // CORS request:\n        // https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Simple_requests\n        // Therefore to avoid the CORS preflight request (an extra network\n        // roundtrip), we use the encodeInitMessageHeaders option to specify that\n        // the headers should instead be encoded in the request's POST payload,\n        // which is recognized by the webchannel backend.\n        o.encodeInitMessageHeaders = !0;\n        const u = s.join(\"\");\n        D(\"Connection\", \"Creating WebChannel: \" + u, o);\n        const c = i.createWebChannel(u, o);\n        // WebChannel supports sending the first message with the handshake - saving\n        // a network round trip. However, it will have to call send in the same\n        // JS event loop as open. In order to enforce this, we delay actually\n        // opening the WebChannel until send is called. Whether we have called\n        // open is tracked with this variable.\n                let a = !1, h = !1;\n        // A flag to determine whether the stream was closed (by us or through an\n        // error/close event) to avoid delivering multiple close events or sending\n        // on a closed stream\n                const l = new zo({\n            Hr: t => {\n                h ? D(\"Connection\", \"Not sending because WebChannel is closed:\", t) : (a || (D(\"Connection\", \"Opening WebChannel transport.\"), \n                c.open(), a = !0), D(\"Connection\", \"WebChannel sending:\", t), c.send(t));\n            },\n            Jr: () => c.close()\n        }), f = (t, e, n) => {\n            // TODO(dimond): closure typing seems broken because WebChannel does\n            // not implement goog.events.Listenable\n            t.listen(e, (t => {\n                try {\n                    n(t);\n                } catch (t) {\n                    setTimeout((() => {\n                        throw t;\n                    }), 0);\n                }\n            }));\n        };\n        // Closure events are guarded and exceptions are swallowed, so catch any\n        // exception and rethrow using a setTimeout so they become visible again.\n        // Note that eventually this function could go away if we are confident\n        // enough the code is exception free.\n                return f(c, T.EventType.OPEN, (() => {\n            h || D(\"Connection\", \"WebChannel transport opened.\");\n        })), f(c, T.EventType.CLOSE, (() => {\n            h || (h = !0, D(\"Connection\", \"WebChannel transport closed\"), l.io());\n        })), f(c, T.EventType.ERROR, (t => {\n            h || (h = !0, x(\"Connection\", \"WebChannel transport errored:\", t), l.io(new B($.UNAVAILABLE, \"The operation could not be completed\")));\n        })), f(c, T.EventType.MESSAGE, (t => {\n            var e;\n            if (!h) {\n                const n = t.data[0];\n                M(!!n);\n                // TODO(b/35143891): There is a bug in One Platform that caused errors\n                // (and only errors) to be wrapped in an extra array. To be forward\n                // compatible with the bug we need to check either condition. The latter\n                // can be removed once the fix has been rolled out.\n                // Use any because msgData.error is not typed.\n                const s = n, i = s.error || (null === (e = s[0]) || void 0 === e ? void 0 : e.error);\n                if (i) {\n                    D(\"Connection\", \"WebChannel received error:\", i);\n                    // error.status will be a string like 'OK' or 'NOT_FOUND'.\n                    const t = i.status;\n                    let e = \n                    /**\n * Maps an error Code from a GRPC status identifier like 'NOT_FOUND'.\n *\n * @returns The Code equivalent to the given status string or undefined if\n *     there is no match.\n */\n                    function(t) {\n                        // lookup by string\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        const e = Jn[t];\n                        if (void 0 !== e) return Zn(e);\n                    }(t), n = i.message;\n                    void 0 === e && (e = $.INTERNAL, n = \"Unknown error status: \" + t + \" with message \" + i.message), \n                    // Mark closed so no further events are propagated\n                    h = !0, l.io(new B(e, n)), c.close();\n                } else D(\"Connection\", \"WebChannel received:\", n), l.ro(n);\n            }\n        })), f(r, E.STAT_EVENT, (t => {\n            t.stat === A.PROXY ? D(\"Connection\", \"Detected buffering proxy\") : t.stat === A.NOPROXY && D(\"Connection\", \"Detected no buffering proxy\");\n        })), setTimeout((() => {\n            // Technically we could/should wait for the WebChannel opened event,\n            // but because we want to send the first message with the WebChannel\n            // handshake we pretend the channel opened here (asynchronously), and\n            // then delay the actual open until the first message is sent.\n            l.so();\n        }), 0), l;\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Initializes the WebChannelConnection for the browser. */\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** The Platform's 'window' implementation or null if not available. */\nfunction Jo() {\n    // `window` is not always available, e.g. in ReactNative and WebWorkers.\n    // eslint-disable-next-line no-restricted-globals\n    return \"undefined\" != typeof window ? window : null;\n}\n\n/** The Platform's 'document' implementation or null if not available. */ function Yo() {\n    // `document` is not always available, e.g. in ReactNative and WebWorkers.\n    // eslint-disable-next-line no-restricted-globals\n    return \"undefined\" != typeof document ? document : null;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ function Xo(t) {\n    return new bs(t, /* useProto3Json= */ !0);\n}\n\n/**\n * An instance of the Platform's 'TextEncoder' implementation.\n */\n/**\n * A helper for running delayed tasks following an exponential backoff curve\n * between attempts.\n *\n * Each delay is made up of a \"base\" delay which follows the exponential\n * backoff curve, and a +/- 50% \"jitter\" that is calculated and added to the\n * base delay. This prevents clients from accidentally synchronizing their\n * delays causing spikes of load to the backend.\n */\nclass Zo {\n    constructor(\n    /**\n     * The AsyncQueue to run backoff operations on.\n     */\n    t, \n    /**\n     * The ID to use when scheduling backoff operations on the AsyncQueue.\n     */\n    e, \n    /**\n     * The initial delay (used as the base delay on the first retry attempt).\n     * Note that jitter will still be applied, so the actual delay could be as\n     * little as 0.5*initialDelayMs.\n     */\n    n = 1e3\n    /**\n     * The multiplier to use to determine the extended base delay after each\n     * attempt.\n     */ , s = 1.5\n    /**\n     * The maximum base delay after which no further backoff is performed.\n     * Note that jitter will still be applied, so the actual delay could be as\n     * much as 1.5*maxDelayMs.\n     */ , i = 6e4) {\n        this.Hs = t, this.timerId = e, this.wo = n, this.mo = s, this.yo = i, this.po = 0, \n        this.Io = null, \n        /** The last backoff attempt, as epoch milliseconds. */\n        this.To = Date.now(), this.reset();\n    }\n    /**\n     * Resets the backoff delay.\n     *\n     * The very next backoffAndWait() will have no delay. If it is called again\n     * (i.e. due to an error), initialDelayMs (plus jitter) will be used, and\n     * subsequent ones will increase according to the backoffFactor.\n     */    reset() {\n        this.po = 0;\n    }\n    /**\n     * Resets the backoff delay to the maximum delay (e.g. for use after a\n     * RESOURCE_EXHAUSTED error).\n     */    Eo() {\n        this.po = this.yo;\n    }\n    /**\n     * Returns a promise that resolves after currentDelayMs, and increases the\n     * delay for any subsequent attempts. If there was a pending backoff operation\n     * already, it will be canceled.\n     */    Ao(t) {\n        // Cancel any pending backoff operation.\n        this.cancel();\n        // First schedule using the current base (which may be 0 and should be\n        // honored as such).\n        const e = Math.floor(this.po + this.Ro()), n = Math.max(0, Date.now() - this.To), s = Math.max(0, e - n);\n        // Guard against lastAttemptTime being in the future due to a clock change.\n                s > 0 && D(\"ExponentialBackoff\", `Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`), \n        this.Io = this.Hs.enqueueAfterDelay(this.timerId, s, (() => (this.To = Date.now(), \n        t()))), \n        // Apply backoff factor to determine next delay and ensure it is within\n        // bounds.\n        this.po *= this.mo, this.po < this.wo && (this.po = this.wo), this.po > this.yo && (this.po = this.yo);\n    }\n    bo() {\n        null !== this.Io && (this.Io.skipDelay(), this.Io = null);\n    }\n    cancel() {\n        null !== this.Io && (this.Io.cancel(), this.Io = null);\n    }\n    /** Returns a random value in the range [-currentBaseMs/2, currentBaseMs/2] */    Ro() {\n        return (Math.random() - .5) * this.po;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A PersistentStream is an abstract base class that represents a streaming RPC\n * to the Firestore backend. It's built on top of the connections own support\n * for streaming RPCs, and adds several critical features for our clients:\n *\n *   - Exponential backoff on failure\n *   - Authentication via CredentialsProvider\n *   - Dispatching all callbacks into the shared worker queue\n *   - Closing idle streams after 60 seconds of inactivity\n *\n * Subclasses of PersistentStream implement serialization of models to and\n * from the JSON representation of the protocol buffers for a specific\n * streaming RPC.\n *\n * ## Starting and Stopping\n *\n * Streaming RPCs are stateful and need to be start()ed before messages can\n * be sent and received. The PersistentStream will call the onOpen() function\n * of the listener once the stream is ready to accept requests.\n *\n * Should a start() fail, PersistentStream will call the registered onClose()\n * listener with a FirestoreError indicating what went wrong.\n *\n * A PersistentStream can be started and stopped repeatedly.\n *\n * Generic types:\n *  SendType: The type of the outgoing message of the underlying\n *    connection stream\n *  ReceiveType: The type of the incoming message of the underlying\n *    connection stream\n *  ListenerType: The type of the listener that will be used for callbacks\n */\nclass tu {\n    constructor(t, e, n, s, i, r, o, u) {\n        this.Hs = t, this.Po = n, this.vo = s, this.Vo = i, this.authCredentialsProvider = r, \n        this.appCheckCredentialsProvider = o, this.listener = u, this.state = 0 /* Initial */ , \n        /**\n         * A close count that's incremented every time the stream is closed; used by\n         * getCloseGuardedDispatcher() to invalidate callbacks that happen after\n         * close.\n         */\n        this.So = 0, this.Do = null, this.Co = null, this.stream = null, this.xo = new Zo(t, e);\n    }\n    /**\n     * Returns true if start() has been called and no error has occurred. True\n     * indicates the stream is open or in the process of opening (which\n     * encompasses respecting backoff, getting auth tokens, and starting the\n     * actual RPC). Use isOpen() to determine if the stream is open and ready for\n     * outbound requests.\n     */    No() {\n        return 1 /* Starting */ === this.state || 5 /* Backoff */ === this.state || this.ko();\n    }\n    /**\n     * Returns true if the underlying RPC is open (the onOpen() listener has been\n     * called) and the stream is ready for outbound requests.\n     */    ko() {\n        return 2 /* Open */ === this.state || 3 /* Healthy */ === this.state;\n    }\n    /**\n     * Starts the RPC. Only allowed if isStarted() returns false. The stream is\n     * not immediately ready for use: onOpen() will be invoked when the RPC is\n     * ready for outbound requests, at which point isOpen() will return true.\n     *\n     * When start returns, isStarted() will return true.\n     */    start() {\n        4 /* Error */ !== this.state ? this.auth() : this.Mo();\n    }\n    /**\n     * Stops the RPC. This call is idempotent and allowed regardless of the\n     * current isStarted() state.\n     *\n     * When stop returns, isStarted() and isOpen() will both return false.\n     */    async stop() {\n        this.No() && await this.close(0 /* Initial */);\n    }\n    /**\n     * After an error the stream will usually back off on the next attempt to\n     * start it. If the error warrants an immediate restart of the stream, the\n     * sender can use this to indicate that the receiver should not back off.\n     *\n     * Each error will call the onClose() listener. That function can decide to\n     * inhibit backoff if required.\n     */    Oo() {\n        this.state = 0 /* Initial */ , this.xo.reset();\n    }\n    /**\n     * Marks this stream as idle. If no further actions are performed on the\n     * stream for one minute, the stream will automatically close itself and\n     * notify the stream's onClose() handler with Status.OK. The stream will then\n     * be in a !isStarted() state, requiring the caller to start the stream again\n     * before further use.\n     *\n     * Only streams that are in state 'Open' can be marked idle, as all other\n     * states imply pending network operations.\n     */    Fo() {\n        // Starts the idle time if we are in state 'Open' and are not yet already\n        // running a timer (in which case the previous idle timeout still applies).\n        this.ko() && null === this.Do && (this.Do = this.Hs.enqueueAfterDelay(this.Po, 6e4, (() => this.$o())));\n    }\n    /** Sends a message to the underlying stream. */    Bo(t) {\n        this.Lo(), this.stream.send(t);\n    }\n    /** Called by the idle timer when the stream should close due to inactivity. */    async $o() {\n        if (this.ko()) \n        // When timing out an idle stream there's no reason to force the stream into backoff when\n        // it restarts so set the stream state to Initial instead of Error.\n        return this.close(0 /* Initial */);\n    }\n    /** Marks the stream as active again. */    Lo() {\n        this.Do && (this.Do.cancel(), this.Do = null);\n    }\n    /** Cancels the health check delayed operation. */    Uo() {\n        this.Co && (this.Co.cancel(), this.Co = null);\n    }\n    /**\n     * Closes the stream and cleans up as necessary:\n     *\n     * * closes the underlying GRPC stream;\n     * * calls the onClose handler with the given 'error';\n     * * sets internal stream state to 'finalState';\n     * * adjusts the backoff timer based on the error\n     *\n     * A new stream can be opened by calling start().\n     *\n     * @param finalState - the intended state of the stream after closing.\n     * @param error - the error the connection was closed with.\n     */    async close(t, e) {\n        // Cancel any outstanding timers (they're guaranteed not to execute).\n        this.Lo(), this.Uo(), this.xo.cancel(), \n        // Invalidates any stream-related callbacks (e.g. from auth or the\n        // underlying stream), guaranteeing they won't execute.\n        this.So++, 4 /* Error */ !== t ? \n        // If this is an intentional close ensure we don't delay our next connection attempt.\n        this.xo.reset() : e && e.code === $.RESOURCE_EXHAUSTED ? (\n        // Log the error. (Probably either 'quota exceeded' or 'max queue length reached'.)\n        C(e.toString()), C(\"Using maximum backoff delay to prevent overloading the backend.\"), \n        this.xo.Eo()) : e && e.code === $.UNAUTHENTICATED && 3 /* Healthy */ !== this.state && (\n        // \"unauthenticated\" error means the token was rejected. This should rarely\n        // happen since both Auth and AppCheck ensure a sufficient TTL when we\n        // request a token. If a user manually resets their system clock this can\n        // fail, however. In this case, we should get a Code.UNAUTHENTICATED error\n        // before we received the first message and we need to invalidate the token\n        // to ensure that we fetch a new token.\n        this.authCredentialsProvider.invalidateToken(), this.appCheckCredentialsProvider.invalidateToken()), \n        // Clean up the underlying stream because we are no longer interested in events.\n        null !== this.stream && (this.qo(), this.stream.close(), this.stream = null), \n        // This state must be assigned before calling onClose() to allow the callback to\n        // inhibit backoff or otherwise manipulate the state in its non-started state.\n        this.state = t, \n        // Notify the listener that the stream closed.\n        await this.listener.Zr(e);\n    }\n    /**\n     * Can be overridden to perform additional cleanup before the stream is closed.\n     * Calling super.tearDown() is not required.\n     */    qo() {}\n    auth() {\n        this.state = 1 /* Starting */;\n        const t = this.Ko(this.So), e = this.So;\n        // TODO(mikelehen): Just use dispatchIfNotClosed, but see TODO below.\n                Promise.all([ this.authCredentialsProvider.getToken(), this.appCheckCredentialsProvider.getToken() ]).then((([t, n]) => {\n            // Stream can be stopped while waiting for authentication.\n            // TODO(mikelehen): We really should just use dispatchIfNotClosed\n            // and let this dispatch onto the queue, but that opened a spec test can\n            // of worms that I don't want to deal with in this PR.\n            this.So === e && \n            // Normally we'd have to schedule the callback on the AsyncQueue.\n            // However, the following calls are safe to be called outside the\n            // AsyncQueue since they don't chain asynchronous calls\n            this.Go(t, n);\n        }), (e => {\n            t((() => {\n                const t = new B($.UNKNOWN, \"Fetching auth token failed: \" + e.message);\n                return this.Qo(t);\n            }));\n        }));\n    }\n    Go(t, e) {\n        const n = this.Ko(this.So);\n        this.stream = this.jo(t, e), this.stream.Yr((() => {\n            n((() => (this.state = 2 /* Open */ , this.Co = this.Hs.enqueueAfterDelay(this.vo, 1e4, (() => (this.ko() && (this.state = 3 /* Healthy */), \n            Promise.resolve()))), this.listener.Yr())));\n        })), this.stream.Zr((t => {\n            n((() => this.Qo(t)));\n        })), this.stream.onMessage((t => {\n            n((() => this.onMessage(t)));\n        }));\n    }\n    Mo() {\n        this.state = 5 /* Backoff */ , this.xo.Ao((async () => {\n            this.state = 0 /* Initial */ , this.start();\n        }));\n    }\n    // Visible for tests\n    Qo(t) {\n        // In theory the stream could close cleanly, however, in our current model\n        // we never expect this to happen because if we stop a stream ourselves,\n        // this callback will never be called. To prevent cases where we retry\n        // without a backoff accidentally, we set the stream to error in all cases.\n        return D(\"PersistentStream\", `close with error: ${t}`), this.stream = null, this.close(4 /* Error */ , t);\n    }\n    /**\n     * Returns a \"dispatcher\" function that dispatches operations onto the\n     * AsyncQueue but only runs them if closeCount remains unchanged. This allows\n     * us to turn auth / stream callbacks into no-ops if the stream is closed /\n     * re-opened, etc.\n     */    Ko(t) {\n        return e => {\n            this.Hs.enqueueAndForget((() => this.So === t ? e() : (D(\"PersistentStream\", \"stream callback skipped by getCloseGuardedDispatcher.\"), \n            Promise.resolve())));\n        };\n    }\n}\n\n/**\n * A PersistentStream that implements the Listen RPC.\n *\n * Once the Listen stream has called the onOpen() listener, any number of\n * listen() and unlisten() calls can be made to control what changes will be\n * sent from the server for ListenResponses.\n */ class eu extends tu {\n    constructor(t, e, n, s, i, r) {\n        super(t, \"listen_stream_connection_backoff\" /* ListenStreamConnectionBackoff */ , \"listen_stream_idle\" /* ListenStreamIdle */ , \"health_check_timeout\" /* HealthCheckTimeout */ , e, n, s, r), \n        this.It = i;\n    }\n    jo(t, e) {\n        return this.Vo._o(\"Listen\", t, e);\n    }\n    onMessage(t) {\n        // A successful response means the stream is healthy\n        this.xo.reset();\n        const e = Us(this.It, t), n = function(t) {\n            // We have only reached a consistent snapshot for the entire stream if there\n            // is a read_time set and it applies to all targets (i.e. the list of\n            // targets is empty). The backend is guaranteed to send such responses.\n            if (!(\"targetChange\" in t)) return nt.min();\n            const e = t.targetChange;\n            return e.targetIds && e.targetIds.length ? nt.min() : e.readTime ? Ss(e.readTime) : nt.min();\n        }(t);\n        return this.listener.Wo(e, n);\n    }\n    /**\n     * Registers interest in the results of the given target. If the target\n     * includes a resumeToken it will be included in the request. Results that\n     * affect the target will be streamed back as WatchChange messages that\n     * reference the targetId.\n     */    zo(t) {\n        const e = {};\n        e.database = Os(this.It), e.addTarget = function(t, e) {\n            let n;\n            const s = e.target;\n            return n = ke(s) ? {\n                documents: Qs(t, s)\n            } : {\n                query: js(t, s)\n            }, n.targetId = e.targetId, e.resumeToken.approximateByteSize() > 0 ? n.resumeToken = vs(t, e.resumeToken) : e.snapshotVersion.compareTo(nt.min()) > 0 && (\n            // TODO(wuandy): Consider removing above check because it is most likely true.\n            // Right now, many tests depend on this behaviour though (leaving min() out\n            // of serialization).\n            n.readTime = Ps(t, e.snapshotVersion.toTimestamp())), n;\n        }(this.It, t);\n        const n = zs(this.It, t);\n        n && (e.labels = n), this.Bo(e);\n    }\n    /**\n     * Unregisters interest in the results of the target associated with the\n     * given targetId.\n     */    Ho(t) {\n        const e = {};\n        e.database = Os(this.It), e.removeTarget = t, this.Bo(e);\n    }\n}\n\n/**\n * A Stream that implements the Write RPC.\n *\n * The Write RPC requires the caller to maintain special streamToken\n * state in between calls, to help the server understand which responses the\n * client has processed by the time the next request is made. Every response\n * will contain a streamToken; this value must be passed to the next\n * request.\n *\n * After calling start() on this stream, the next request must be a handshake,\n * containing whatever streamToken is on hand. Once a response to this\n * request is received, all pending mutations may be submitted. When\n * submitting multiple batches of mutations at the same time, it's\n * okay to use the same streamToken for the calls to writeMutations.\n *\n * TODO(b/33271235): Use proto types\n */ class nu extends tu {\n    constructor(t, e, n, s, i, r) {\n        super(t, \"write_stream_connection_backoff\" /* WriteStreamConnectionBackoff */ , \"write_stream_idle\" /* WriteStreamIdle */ , \"health_check_timeout\" /* HealthCheckTimeout */ , e, n, s, r), \n        this.It = i, this.Jo = !1;\n    }\n    /**\n     * Tracks whether or not a handshake has been successfully exchanged and\n     * the stream is ready to accept mutations.\n     */    get Yo() {\n        return this.Jo;\n    }\n    // Override of PersistentStream.start\n    start() {\n        this.Jo = !1, this.lastStreamToken = void 0, super.start();\n    }\n    qo() {\n        this.Jo && this.Xo([]);\n    }\n    jo(t, e) {\n        return this.Vo._o(\"Write\", t, e);\n    }\n    onMessage(t) {\n        if (\n        // Always capture the last stream token.\n        M(!!t.streamToken), this.lastStreamToken = t.streamToken, this.Jo) {\n            // A successful first write response means the stream is healthy,\n            // Note, that we could consider a successful handshake healthy, however,\n            // the write itself might be causing an error we want to back off from.\n            this.xo.reset();\n            const e = Gs(t.writeResults, t.commitTime), n = Ss(t.commitTime);\n            return this.listener.Zo(n, e);\n        }\n        // The first response is always the handshake response\n        return M(!t.writeResults || 0 === t.writeResults.length), this.Jo = !0, this.listener.tu();\n    }\n    /**\n     * Sends an initial streamToken to the server, performing the handshake\n     * required to make the StreamingWrite RPC work. Subsequent\n     * calls should wait until onHandshakeComplete was called.\n     */    eu() {\n        // TODO(dimond): Support stream resumption. We intentionally do not set the\n        // stream token on the handshake, ignoring any stream token we might have.\n        const t = {};\n        t.database = Os(this.It), this.Bo(t);\n    }\n    /** Sends a group of mutations to the Firestore backend to apply. */    Xo(t) {\n        const e = {\n            streamToken: this.lastStreamToken,\n            writes: t.map((t => qs(this.It, t)))\n        };\n        this.Bo(e);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Datastore and its related methods are a wrapper around the external Google\n * Cloud Datastore grpc API, which provides an interface that is more convenient\n * for the rest of the client SDK architecture to consume.\n */\n/**\n * An implementation of Datastore that exposes additional state for internal\n * consumption.\n */\nclass su extends class {} {\n    constructor(t, e, n, s) {\n        super(), this.authCredentials = t, this.appCheckCredentials = e, this.Vo = n, this.It = s, \n        this.nu = !1;\n    }\n    su() {\n        if (this.nu) throw new B($.FAILED_PRECONDITION, \"The client has already been terminated.\");\n    }\n    /** Invokes the provided RPC with auth and AppCheck tokens. */    co(t, e, n) {\n        return this.su(), Promise.all([ this.authCredentials.getToken(), this.appCheckCredentials.getToken() ]).then((([s, i]) => this.Vo.co(t, e, n, s, i))).catch((t => {\n            throw \"FirebaseError\" === t.name ? (t.code === $.UNAUTHENTICATED && (this.authCredentials.invalidateToken(), \n            this.appCheckCredentials.invalidateToken()), t) : new B($.UNKNOWN, t.toString());\n        }));\n    }\n    /** Invokes the provided RPC with streamed results with auth and AppCheck tokens. */    fo(t, e, n, s) {\n        return this.su(), Promise.all([ this.authCredentials.getToken(), this.appCheckCredentials.getToken() ]).then((([i, r]) => this.Vo.fo(t, e, n, i, r, s))).catch((t => {\n            throw \"FirebaseError\" === t.name ? (t.code === $.UNAUTHENTICATED && (this.authCredentials.invalidateToken(), \n            this.appCheckCredentials.invalidateToken()), t) : new B($.UNKNOWN, t.toString());\n        }));\n    }\n    terminate() {\n        this.nu = !0;\n    }\n}\n\n// TODO(firestorexp): Make sure there is only one Datastore instance per\n// firestore-exp client.\n/**\n * A component used by the RemoteStore to track the OnlineState (that is,\n * whether or not the client as a whole should be considered to be online or\n * offline), implementing the appropriate heuristics.\n *\n * In particular, when the client is trying to connect to the backend, we\n * allow up to MAX_WATCH_STREAM_FAILURES within ONLINE_STATE_TIMEOUT_MS for\n * a connection to succeed. If we have too many failures or the timeout elapses,\n * then we set the OnlineState to Offline, and the client will behave as if\n * it is offline (get()s will return cached data, etc.).\n */\nclass iu {\n    constructor(t, e) {\n        this.asyncQueue = t, this.onlineStateHandler = e, \n        /** The current OnlineState. */\n        this.state = \"Unknown\" /* Unknown */ , \n        /**\n         * A count of consecutive failures to open the stream. If it reaches the\n         * maximum defined by MAX_WATCH_STREAM_FAILURES, we'll set the OnlineState to\n         * Offline.\n         */\n        this.iu = 0, \n        /**\n         * A timer that elapses after ONLINE_STATE_TIMEOUT_MS, at which point we\n         * transition from OnlineState.Unknown to OnlineState.Offline without waiting\n         * for the stream to actually fail (MAX_WATCH_STREAM_FAILURES times).\n         */\n        this.ru = null, \n        /**\n         * Whether the client should log a warning message if it fails to connect to\n         * the backend (initially true, cleared after a successful stream, or if we've\n         * logged the message already).\n         */\n        this.ou = !0;\n    }\n    /**\n     * Called by RemoteStore when a watch stream is started (including on each\n     * backoff attempt).\n     *\n     * If this is the first attempt, it sets the OnlineState to Unknown and starts\n     * the onlineStateTimer.\n     */    uu() {\n        0 === this.iu && (this.cu(\"Unknown\" /* Unknown */), this.ru = this.asyncQueue.enqueueAfterDelay(\"online_state_timeout\" /* OnlineStateTimeout */ , 1e4, (() => (this.ru = null, \n        this.au(\"Backend didn't respond within 10 seconds.\"), this.cu(\"Offline\" /* Offline */), \n        Promise.resolve()))));\n    }\n    /**\n     * Updates our OnlineState as appropriate after the watch stream reports a\n     * failure. The first failure moves us to the 'Unknown' state. We then may\n     * allow multiple failures (based on MAX_WATCH_STREAM_FAILURES) before we\n     * actually transition to the 'Offline' state.\n     */    hu(t) {\n        \"Online\" /* Online */ === this.state ? this.cu(\"Unknown\" /* Unknown */) : (this.iu++, \n        this.iu >= 1 && (this.lu(), this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`), \n        this.cu(\"Offline\" /* Offline */)));\n    }\n    /**\n     * Explicitly sets the OnlineState to the specified state.\n     *\n     * Note that this resets our timers / failure counters, etc. used by our\n     * Offline heuristics, so must not be used in place of\n     * handleWatchStreamStart() and handleWatchStreamFailure().\n     */    set(t) {\n        this.lu(), this.iu = 0, \"Online\" /* Online */ === t && (\n        // We've connected to watch at least once. Don't warn the developer\n        // about being offline going forward.\n        this.ou = !1), this.cu(t);\n    }\n    cu(t) {\n        t !== this.state && (this.state = t, this.onlineStateHandler(t));\n    }\n    au(t) {\n        const e = `Could not reach Cloud Firestore backend. ${t}\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;\n        this.ou ? (C(e), this.ou = !1) : D(\"OnlineStateTracker\", e);\n    }\n    lu() {\n        null !== this.ru && (this.ru.cancel(), this.ru = null);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class ru {\n    constructor(\n    /**\n     * The local store, used to fill the write pipeline with outbound mutations.\n     */\n    t, \n    /** The client-side proxy for interacting with the backend. */\n    e, n, s, i) {\n        this.localStore = t, this.datastore = e, this.asyncQueue = n, this.remoteSyncer = {}, \n        /**\n         * A list of up to MAX_PENDING_WRITES writes that we have fetched from the\n         * LocalStore via fillWritePipeline() and have or will send to the write\n         * stream.\n         *\n         * Whenever writePipeline.length > 0 the RemoteStore will attempt to start or\n         * restart the write stream. When the stream is established the writes in the\n         * pipeline will be sent in order.\n         *\n         * Writes remain in writePipeline until they are acknowledged by the backend\n         * and thus will automatically be re-sent if the stream is interrupted /\n         * restarted before they're acknowledged.\n         *\n         * Write responses from the backend are linked to their originating request\n         * purely based on order, and so we can just shift() writes from the front of\n         * the writePipeline as we receive responses.\n         */\n        this.fu = [], \n        /**\n         * A mapping of watched targets that the client cares about tracking and the\n         * user has explicitly called a 'listen' for this target.\n         *\n         * These targets may or may not have been sent to or acknowledged by the\n         * server. On re-establishing the listen stream, these targets should be sent\n         * to the server. The targets removed with unlistens are removed eagerly\n         * without waiting for confirmation from the listen stream.\n         */\n        this.du = new Map, \n        /**\n         * A set of reasons for why the RemoteStore may be offline. If empty, the\n         * RemoteStore may start its network connections.\n         */\n        this._u = new Set, \n        /**\n         * Event handlers that get called when the network is disabled or enabled.\n         *\n         * PORTING NOTE: These functions are used on the Web client to create the\n         * underlying streams (to support tree-shakeable streams). On Android and iOS,\n         * the streams are created during construction of RemoteStore.\n         */\n        this.wu = [], this.mu = i, this.mu.qr((t => {\n            n.enqueueAndForget((async () => {\n                // Porting Note: Unlike iOS, `restartNetwork()` is called even when the\n                // network becomes unreachable as we don't have any other way to tear\n                // down our streams.\n                _u(this) && (D(\"RemoteStore\", \"Restarting streams for network reachability change.\"), \n                await async function(t) {\n                    const e = F(t);\n                    e._u.add(4 /* ConnectivityChange */), await uu(e), e.gu.set(\"Unknown\" /* Unknown */), \n                    e._u.delete(4 /* ConnectivityChange */), await ou(e);\n                }(this));\n            }));\n        })), this.gu = new iu(n, s);\n    }\n}\n\nasync function ou(t) {\n    if (_u(t)) for (const e of t.wu) await e(/* enabled= */ !0);\n}\n\n/**\n * Temporarily disables the network. The network can be re-enabled using\n * enableNetwork().\n */ async function uu(t) {\n    for (const e of t.wu) await e(/* enabled= */ !1);\n}\n\n/**\n * Starts new listen for the given target. Uses resume token if provided. It\n * is a no-op if the target of given `TargetData` is already being listened to.\n */\nfunction cu(t, e) {\n    const n = F(t);\n    n.du.has(e.targetId) || (\n    // Mark this as something the client is currently listening for.\n    n.du.set(e.targetId, e), du(n) ? \n    // The listen will be sent in onWatchStreamOpen\n    fu(n) : xu(n).ko() && hu(n, e));\n}\n\n/**\n * Removes the listen from server. It is a no-op if the given target id is\n * not being listened to.\n */ function au(t, e) {\n    const n = F(t), s = xu(n);\n    n.du.delete(e), s.ko() && lu(n, e), 0 === n.du.size && (s.ko() ? s.Fo() : _u(n) && \n    // Revert to OnlineState.Unknown if the watch stream is not open and we\n    // have no listeners, since without any listens to send we cannot\n    // confirm if the stream is healthy and upgrade to OnlineState.Online.\n    n.gu.set(\"Unknown\" /* Unknown */));\n}\n\n/**\n * We need to increment the the expected number of pending responses we're due\n * from watch so we wait for the ack to process any messages from this target.\n */ function hu(t, e) {\n    t.yu.Ot(e.targetId), xu(t).zo(e);\n}\n\n/**\n * We need to increment the expected number of pending responses we're due\n * from watch so we wait for the removal on the server before we process any\n * messages from this target.\n */ function lu(t, e) {\n    t.yu.Ot(e), xu(t).Ho(e);\n}\n\nfunction fu(t) {\n    t.yu = new Is({\n        getRemoteKeysForTarget: e => t.remoteSyncer.getRemoteKeysForTarget(e),\n        se: e => t.du.get(e) || null\n    }), xu(t).start(), t.gu.uu();\n}\n\n/**\n * Returns whether the watch stream should be started because it's necessary\n * and has not yet been started.\n */ function du(t) {\n    return _u(t) && !xu(t).No() && t.du.size > 0;\n}\n\nfunction _u(t) {\n    return 0 === F(t)._u.size;\n}\n\nfunction wu(t) {\n    t.yu = void 0;\n}\n\nasync function mu(t) {\n    t.du.forEach(((e, n) => {\n        hu(t, e);\n    }));\n}\n\nasync function gu(t, e) {\n    wu(t), \n    // If we still need the watch stream, retry the connection.\n    du(t) ? (t.gu.hu(e), fu(t)) : \n    // No need to restart watch stream because there are no active targets.\n    // The online state is set to unknown because there is no active attempt\n    // at establishing a connection\n    t.gu.set(\"Unknown\" /* Unknown */);\n}\n\nasync function yu(t, e, n) {\n    if (\n    // Mark the client as online since we got a message from the server\n    t.gu.set(\"Online\" /* Online */), e instanceof ys && 2 /* Removed */ === e.state && e.cause) \n    // There was an error on a target, don't wait for a consistent snapshot\n    // to raise events\n    try {\n        await \n        /** Handles an error on a target */\n        async function(t, e) {\n            const n = e.cause;\n            for (const s of e.targetIds) \n            // A watched target might have been removed already.\n            t.du.has(s) && (await t.remoteSyncer.rejectListen(s, n), t.du.delete(s), t.yu.removeTarget(s));\n        }\n        /**\n * Attempts to fill our write pipeline with writes from the LocalStore.\n *\n * Called internally to bootstrap or refill the write pipeline and by\n * SyncEngine whenever there are new mutations to process.\n *\n * Starts the write stream if necessary.\n */ (t, e);\n    } catch (n) {\n        D(\"RemoteStore\", \"Failed to remove targets %s: %s \", e.targetIds.join(\",\"), n), \n        await pu(t, n);\n    } else if (e instanceof ms ? t.yu.Gt(e) : e instanceof gs ? t.yu.Yt(e) : t.yu.Wt(e), \n    !n.isEqual(nt.min())) try {\n        const e = await Ao(t.localStore);\n        n.compareTo(e) >= 0 && \n        // We have received a target change with a global snapshot if the snapshot\n        // version is not equal to SnapshotVersion.min().\n        await \n        /**\n * Takes a batch of changes from the Datastore, repackages them as a\n * RemoteEvent, and passes that on to the listener, which is typically the\n * SyncEngine.\n */\n        function(t, e) {\n            const n = t.yu.te(e);\n            // Update in-memory resume tokens. LocalStore will update the\n            // persistent view of these when applying the completed RemoteEvent.\n                        return n.targetChanges.forEach(((n, s) => {\n                if (n.resumeToken.approximateByteSize() > 0) {\n                    const i = t.du.get(s);\n                    // A watched target might have been removed already.\n                                        i && t.du.set(s, i.withResumeToken(n.resumeToken, e));\n                }\n            })), \n            // Re-establish listens for the targets that have been invalidated by\n            // existence filter mismatches.\n            n.targetMismatches.forEach((e => {\n                const n = t.du.get(e);\n                if (!n) \n                // A watched target might have been removed already.\n                return;\n                // Clear the resume token for the target, since we're in a known mismatch\n                // state.\n                                t.du.set(e, n.withResumeToken(jt.EMPTY_BYTE_STRING, n.snapshotVersion)), \n                // Cause a hard reset by unwatching and rewatching immediately, but\n                // deliberately don't send a resume token so that we get a full update.\n                lu(t, e);\n                // Mark the target we send as being on behalf of an existence filter\n                // mismatch, but don't actually retain that in listenTargets. This ensures\n                // that we flag the first re-listen this way without impacting future\n                // listens of this target (that might happen e.g. on reconnect).\n                const s = new Oi(n.target, e, 1 /* ExistenceFilterMismatch */ , n.sequenceNumber);\n                hu(t, s);\n            })), t.remoteSyncer.applyRemoteEvent(n);\n        }(t, n);\n    } catch (e) {\n        D(\"RemoteStore\", \"Failed to raise snapshot:\", e), await pu(t, e);\n    }\n}\n\n/**\n * Recovery logic for IndexedDB errors that takes the network offline until\n * `op` succeeds. Retries are scheduled with backoff using\n * `enqueueRetryable()`. If `op()` is not provided, IndexedDB access is\n * validated via a generic operation.\n *\n * The returned Promise is resolved once the network is disabled and before\n * any retry attempt.\n */ async function pu(t, e, n) {\n    if (!vt(e)) throw e;\n    t._u.add(1 /* IndexedDbFailed */), \n    // Disable network and raise offline snapshots\n    await uu(t), t.gu.set(\"Offline\" /* Offline */), n || (\n    // Use a simple read operation to determine if IndexedDB recovered.\n    // Ideally, we would expose a health check directly on SimpleDb, but\n    // RemoteStore only has access to persistence through LocalStore.\n    n = () => Ao(t.localStore)), \n    // Probe IndexedDB periodically and re-enable network\n    t.asyncQueue.enqueueRetryable((async () => {\n        D(\"RemoteStore\", \"Retrying IndexedDB access\"), await n(), t._u.delete(1 /* IndexedDbFailed */), \n        await ou(t);\n    }));\n}\n\n/**\n * Executes `op`. If `op` fails, takes the network offline until `op`\n * succeeds. Returns after the first attempt.\n */ function Iu(t, e) {\n    return e().catch((n => pu(t, n, e)));\n}\n\nasync function Tu(t) {\n    const e = F(t), n = Nu(e);\n    let s = e.fu.length > 0 ? e.fu[e.fu.length - 1].batchId : -1;\n    for (;Eu(e); ) try {\n        const t = await Po(e.localStore, s);\n        if (null === t) {\n            0 === e.fu.length && n.Fo();\n            break;\n        }\n        s = t.batchId, Au(e, t);\n    } catch (t) {\n        await pu(e, t);\n    }\n    Ru(e) && bu(e);\n}\n\n/**\n * Returns true if we can add to the write pipeline (i.e. the network is\n * enabled and the write pipeline is not full).\n */ function Eu(t) {\n    return _u(t) && t.fu.length < 10;\n}\n\n/**\n * Queues additional writes to be sent to the write stream, sending them\n * immediately if the write stream is established.\n */ function Au(t, e) {\n    t.fu.push(e);\n    const n = Nu(t);\n    n.ko() && n.Yo && n.Xo(e.mutations);\n}\n\nfunction Ru(t) {\n    return _u(t) && !Nu(t).No() && t.fu.length > 0;\n}\n\nfunction bu(t) {\n    Nu(t).start();\n}\n\nasync function Pu(t) {\n    Nu(t).eu();\n}\n\nasync function vu(t) {\n    const e = Nu(t);\n    // Send the write pipeline now that the stream is established.\n        for (const n of t.fu) e.Xo(n.mutations);\n}\n\nasync function Vu(t, e, n) {\n    const s = t.fu.shift(), i = ki.from(s, e, n);\n    await Iu(t, (() => t.remoteSyncer.applySuccessfulWrite(i))), \n    // It's possible that with the completion of this mutation another\n    // slot has freed up.\n    await Tu(t);\n}\n\nasync function Su(t, e) {\n    // If the write stream closed after the write handshake completes, a write\n    // operation failed and we fail the pending operation.\n    e && Nu(t).Yo && \n    // This error affects the actual write.\n    await async function(t, e) {\n        // Only handle permanent errors here. If it's transient, just let the retry\n        // logic kick in.\n        if (n = e.code, Xn(n) && n !== $.ABORTED) {\n            // This was a permanent error, the request itself was the problem\n            // so it's not going to succeed if we resend it.\n            const n = t.fu.shift();\n            // In this case it's also unlikely that the server itself is melting\n            // down -- this was just a bad request so inhibit backoff on the next\n            // restart.\n                        Nu(t).Oo(), await Iu(t, (() => t.remoteSyncer.rejectFailedWrite(n.batchId, e))), \n            // It's possible that with the completion of this mutation\n            // another slot has freed up.\n            await Tu(t);\n        }\n        var n;\n    }(t, e), \n    // The write stream might have been started by refilling the write\n    // pipeline for failed writes\n    Ru(t) && bu(t);\n}\n\nasync function Du(t, e) {\n    const n = F(t);\n    n.asyncQueue.verifyOperationInProgress(), D(\"RemoteStore\", \"RemoteStore received new credentials\");\n    const s = _u(n);\n    // Tear down and re-create our network streams. This will ensure we get a\n    // fresh auth token for the new user and re-fill the write pipeline with\n    // new mutations from the LocalStore (since mutations are per-user).\n        n._u.add(3 /* CredentialChange */), await uu(n), s && \n    // Don't set the network status to Unknown if we are offline.\n    n.gu.set(\"Unknown\" /* Unknown */), await n.remoteSyncer.handleCredentialChange(e), \n    n._u.delete(3 /* CredentialChange */), await ou(n);\n}\n\n/**\n * Toggles the network state when the client gains or loses its primary lease.\n */ async function Cu(t, e) {\n    const n = F(t);\n    e ? (n._u.delete(2 /* IsSecondary */), await ou(n)) : e || (n._u.add(2 /* IsSecondary */), \n    await uu(n), n.gu.set(\"Unknown\" /* Unknown */));\n}\n\n/**\n * If not yet initialized, registers the WatchStream and its network state\n * callback with `remoteStoreImpl`. Returns the existing stream if one is\n * already available.\n *\n * PORTING NOTE: On iOS and Android, the WatchStream gets registered on startup.\n * This is not done on Web to allow it to be tree-shaken.\n */ function xu(t) {\n    return t.pu || (\n    // Create stream (but note that it is not started yet).\n    t.pu = function(t, e, n) {\n        const s = F(t);\n        return s.su(), new eu(e, s.Vo, s.authCredentials, s.appCheckCredentials, s.It, n);\n    }\n    /**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ (t.datastore, t.asyncQueue, {\n        Yr: mu.bind(null, t),\n        Zr: gu.bind(null, t),\n        Wo: yu.bind(null, t)\n    }), t.wu.push((async e => {\n        e ? (t.pu.Oo(), du(t) ? fu(t) : t.gu.set(\"Unknown\" /* Unknown */)) : (await t.pu.stop(), \n        wu(t));\n    }))), t.pu;\n}\n\n/**\n * If not yet initialized, registers the WriteStream and its network state\n * callback with `remoteStoreImpl`. Returns the existing stream if one is\n * already available.\n *\n * PORTING NOTE: On iOS and Android, the WriteStream gets registered on startup.\n * This is not done on Web to allow it to be tree-shaken.\n */ function Nu(t) {\n    return t.Iu || (\n    // Create stream (but note that it is not started yet).\n    t.Iu = function(t, e, n) {\n        const s = F(t);\n        return s.su(), new nu(e, s.Vo, s.authCredentials, s.appCheckCredentials, s.It, n);\n    }(t.datastore, t.asyncQueue, {\n        Yr: Pu.bind(null, t),\n        Zr: Su.bind(null, t),\n        tu: vu.bind(null, t),\n        Zo: Vu.bind(null, t)\n    }), t.wu.push((async e => {\n        e ? (t.Iu.Oo(), \n        // This will start the write stream if necessary.\n        await Tu(t)) : (await t.Iu.stop(), t.fu.length > 0 && (D(\"RemoteStore\", `Stopping write stream with ${t.fu.length} pending writes`), \n        t.fu = []));\n    }))), t.Iu;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents an operation scheduled to be run in the future on an AsyncQueue.\n *\n * It is created via DelayedOperation.createAndSchedule().\n *\n * Supports cancellation (via cancel()) and early execution (via skipDelay()).\n *\n * Note: We implement `PromiseLike` instead of `Promise`, as the `Promise` type\n * in newer versions of TypeScript defines `finally`, which is not available in\n * IE.\n */\nclass ku {\n    constructor(t, e, n, s, i) {\n        this.asyncQueue = t, this.timerId = e, this.targetTimeMs = n, this.op = s, this.removalCallback = i, \n        this.deferred = new L, this.then = this.deferred.promise.then.bind(this.deferred.promise), \n        // It's normal for the deferred promise to be canceled (due to cancellation)\n        // and so we attach a dummy catch callback to avoid\n        // 'UnhandledPromiseRejectionWarning' log spam.\n        this.deferred.promise.catch((t => {}));\n    }\n    /**\n     * Creates and returns a DelayedOperation that has been scheduled to be\n     * executed on the provided asyncQueue after the provided delayMs.\n     *\n     * @param asyncQueue - The queue to schedule the operation on.\n     * @param id - A Timer ID identifying the type of operation this is.\n     * @param delayMs - The delay (ms) before the operation should be scheduled.\n     * @param op - The operation to run.\n     * @param removalCallback - A callback to be called synchronously once the\n     *   operation is executed or canceled, notifying the AsyncQueue to remove it\n     *   from its delayedOperations list.\n     *   PORTING NOTE: This exists to prevent making removeDelayedOperation() and\n     *   the DelayedOperation class public.\n     */    static createAndSchedule(t, e, n, s, i) {\n        const r = Date.now() + n, o = new ku(t, e, r, s, i);\n        return o.start(n), o;\n    }\n    /**\n     * Starts the timer. This is called immediately after construction by\n     * createAndSchedule().\n     */    start(t) {\n        this.timerHandle = setTimeout((() => this.handleDelayElapsed()), t);\n    }\n    /**\n     * Queues the operation to run immediately (if it hasn't already been run or\n     * canceled).\n     */    skipDelay() {\n        return this.handleDelayElapsed();\n    }\n    /**\n     * Cancels the operation if it hasn't already been executed or canceled. The\n     * promise will be rejected.\n     *\n     * As long as the operation has not yet been run, calling cancel() provides a\n     * guarantee that the operation will not be run.\n     */    cancel(t) {\n        null !== this.timerHandle && (this.clearTimeout(), this.deferred.reject(new B($.CANCELLED, \"Operation cancelled\" + (t ? \": \" + t : \"\"))));\n    }\n    handleDelayElapsed() {\n        this.asyncQueue.enqueueAndForget((() => null !== this.timerHandle ? (this.clearTimeout(), \n        this.op().then((t => this.deferred.resolve(t)))) : Promise.resolve()));\n    }\n    clearTimeout() {\n        null !== this.timerHandle && (this.removalCallback(this), clearTimeout(this.timerHandle), \n        this.timerHandle = null);\n    }\n}\n\n/**\n * Returns a FirestoreError that can be surfaced to the user if the provided\n * error is an IndexedDbTransactionError. Re-throws the error otherwise.\n */ function Mu(t, e) {\n    if (C(\"AsyncQueue\", `${e}: ${t}`), vt(t)) return new B($.UNAVAILABLE, `${e}: ${t}`);\n    throw t;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * DocumentSet is an immutable (copy-on-write) collection that holds documents\n * in order specified by the provided comparator. We always add a document key\n * comparator on top of what is provided to guarantee document equality based on\n * the key.\n */ class Ou {\n    /** The default ordering is by key if the comparator is omitted */\n    constructor(t) {\n        // We are adding document key comparator to the end as it's the only\n        // guaranteed unique property of a document.\n        this.comparator = t ? (e, n) => t(e, n) || ut.comparator(e.key, n.key) : (t, e) => ut.comparator(t.key, e.key), \n        this.keyedMap = is(), this.sortedSet = new $t(this.comparator);\n    }\n    /**\n     * Returns an empty copy of the existing DocumentSet, using the same\n     * comparator.\n     */    static emptySet(t) {\n        return new Ou(t.comparator);\n    }\n    has(t) {\n        return null != this.keyedMap.get(t);\n    }\n    get(t) {\n        return this.keyedMap.get(t);\n    }\n    first() {\n        return this.sortedSet.minKey();\n    }\n    last() {\n        return this.sortedSet.maxKey();\n    }\n    isEmpty() {\n        return this.sortedSet.isEmpty();\n    }\n    /**\n     * Returns the index of the provided key in the document set, or -1 if the\n     * document key is not present in the set;\n     */    indexOf(t) {\n        const e = this.keyedMap.get(t);\n        return e ? this.sortedSet.indexOf(e) : -1;\n    }\n    get size() {\n        return this.sortedSet.size;\n    }\n    /** Iterates documents in order defined by \"comparator\" */    forEach(t) {\n        this.sortedSet.inorderTraversal(((e, n) => (t(e), !1)));\n    }\n    /** Inserts or updates a document with the same key */    add(t) {\n        // First remove the element if we have it.\n        const e = this.delete(t.key);\n        return e.copy(e.keyedMap.insert(t.key, t), e.sortedSet.insert(t, null));\n    }\n    /** Deletes a document with a given key */    delete(t) {\n        const e = this.get(t);\n        return e ? this.copy(this.keyedMap.remove(t), this.sortedSet.remove(e)) : this;\n    }\n    isEqual(t) {\n        if (!(t instanceof Ou)) return !1;\n        if (this.size !== t.size) return !1;\n        const e = this.sortedSet.getIterator(), n = t.sortedSet.getIterator();\n        for (;e.hasNext(); ) {\n            const t = e.getNext().key, s = n.getNext().key;\n            if (!t.isEqual(s)) return !1;\n        }\n        return !0;\n    }\n    toString() {\n        const t = [];\n        return this.forEach((e => {\n            t.push(e.toString());\n        })), 0 === t.length ? \"DocumentSet ()\" : \"DocumentSet (\\n  \" + t.join(\"  \\n\") + \"\\n)\";\n    }\n    copy(t, e) {\n        const n = new Ou;\n        return n.comparator = this.comparator, n.keyedMap = t, n.sortedSet = e, n;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * DocumentChangeSet keeps track of a set of changes to docs in a query, merging\n * duplicate events for the same doc.\n */ class Fu {\n    constructor() {\n        this.Tu = new $t(ut.comparator);\n    }\n    track(t) {\n        const e = t.doc.key, n = this.Tu.get(e);\n        n ? \n        // Merge the new change with the existing change.\n        0 /* Added */ !== t.type && 3 /* Metadata */ === n.type ? this.Tu = this.Tu.insert(e, t) : 3 /* Metadata */ === t.type && 1 /* Removed */ !== n.type ? this.Tu = this.Tu.insert(e, {\n            type: n.type,\n            doc: t.doc\n        }) : 2 /* Modified */ === t.type && 2 /* Modified */ === n.type ? this.Tu = this.Tu.insert(e, {\n            type: 2 /* Modified */ ,\n            doc: t.doc\n        }) : 2 /* Modified */ === t.type && 0 /* Added */ === n.type ? this.Tu = this.Tu.insert(e, {\n            type: 0 /* Added */ ,\n            doc: t.doc\n        }) : 1 /* Removed */ === t.type && 0 /* Added */ === n.type ? this.Tu = this.Tu.remove(e) : 1 /* Removed */ === t.type && 2 /* Modified */ === n.type ? this.Tu = this.Tu.insert(e, {\n            type: 1 /* Removed */ ,\n            doc: n.doc\n        }) : 0 /* Added */ === t.type && 1 /* Removed */ === n.type ? this.Tu = this.Tu.insert(e, {\n            type: 2 /* Modified */ ,\n            doc: t.doc\n        }) : \n        // This includes these cases, which don't make sense:\n        // Added->Added\n        // Removed->Removed\n        // Modified->Added\n        // Removed->Modified\n        // Metadata->Added\n        // Removed->Metadata\n        k() : this.Tu = this.Tu.insert(e, t);\n    }\n    Eu() {\n        const t = [];\n        return this.Tu.inorderTraversal(((e, n) => {\n            t.push(n);\n        })), t;\n    }\n}\n\nclass $u {\n    constructor(t, e, n, s, i, r, o, u) {\n        this.query = t, this.docs = e, this.oldDocs = n, this.docChanges = s, this.mutatedKeys = i, \n        this.fromCache = r, this.syncStateChanged = o, this.excludesMetadataChanges = u;\n    }\n    /** Returns a view snapshot as if all documents in the snapshot were added. */    static fromInitialDocuments(t, e, n, s) {\n        const i = [];\n        return e.forEach((t => {\n            i.push({\n                type: 0 /* Added */ ,\n                doc: t\n            });\n        })), new $u(t, e, Ou.emptySet(e), i, n, s, \n        /* syncStateChanged= */ !0, \n        /* excludesMetadataChanges= */ !1);\n    }\n    get hasPendingWrites() {\n        return !this.mutatedKeys.isEmpty();\n    }\n    isEqual(t) {\n        if (!(this.fromCache === t.fromCache && this.syncStateChanged === t.syncStateChanged && this.mutatedKeys.isEqual(t.mutatedKeys) && an(this.query, t.query) && this.docs.isEqual(t.docs) && this.oldDocs.isEqual(t.oldDocs))) return !1;\n        const e = this.docChanges, n = t.docChanges;\n        if (e.length !== n.length) return !1;\n        for (let t = 0; t < e.length; t++) if (e[t].type !== n[t].type || !e[t].doc.isEqual(n[t].doc)) return !1;\n        return !0;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Holds the listeners and the last received ViewSnapshot for a query being\n * tracked by EventManager.\n */ class Bu {\n    constructor() {\n        this.Au = void 0, this.listeners = [];\n    }\n}\n\nclass Lu {\n    constructor() {\n        this.queries = new ts((t => hn(t)), an), this.onlineState = \"Unknown\" /* Unknown */ , \n        this.Ru = new Set;\n    }\n}\n\nasync function Uu(t, e) {\n    const n = F(t), s = e.query;\n    let i = !1, r = n.queries.get(s);\n    if (r || (i = !0, r = new Bu), i) try {\n        r.Au = await n.onListen(s);\n    } catch (t) {\n        const n = Mu(t, `Initialization of query '${ln(e.query)}' failed`);\n        return void e.onError(n);\n    }\n    if (n.queries.set(s, r), r.listeners.push(e), \n    // Run global snapshot listeners if a consistent snapshot has been emitted.\n    e.bu(n.onlineState), r.Au) {\n        e.Pu(r.Au) && Qu(n);\n    }\n}\n\nasync function qu(t, e) {\n    const n = F(t), s = e.query;\n    let i = !1;\n    const r = n.queries.get(s);\n    if (r) {\n        const t = r.listeners.indexOf(e);\n        t >= 0 && (r.listeners.splice(t, 1), i = 0 === r.listeners.length);\n    }\n    if (i) return n.queries.delete(s), n.onUnlisten(s);\n}\n\nfunction Ku(t, e) {\n    const n = F(t);\n    let s = !1;\n    for (const t of e) {\n        const e = t.query, i = n.queries.get(e);\n        if (i) {\n            for (const e of i.listeners) e.Pu(t) && (s = !0);\n            i.Au = t;\n        }\n    }\n    s && Qu(n);\n}\n\nfunction Gu(t, e, n) {\n    const s = F(t), i = s.queries.get(e);\n    if (i) for (const t of i.listeners) t.onError(n);\n    // Remove all listeners. NOTE: We don't need to call syncEngine.unlisten()\n    // after an error.\n        s.queries.delete(e);\n}\n\n// Call all global snapshot listeners that have been set.\nfunction Qu(t) {\n    t.Ru.forEach((t => {\n        t.next();\n    }));\n}\n\n/**\n * QueryListener takes a series of internal view snapshots and determines\n * when to raise the event.\n *\n * It uses an Observer to dispatch events.\n */ class ju {\n    constructor(t, e, n) {\n        this.query = t, this.vu = e, \n        /**\n         * Initial snapshots (e.g. from cache) may not be propagated to the wrapped\n         * observer. This flag is set to true once we've actually raised an event.\n         */\n        this.Vu = !1, this.Su = null, this.onlineState = \"Unknown\" /* Unknown */ , this.options = n || {};\n    }\n    /**\n     * Applies the new ViewSnapshot to this listener, raising a user-facing event\n     * if applicable (depending on what changed, whether the user has opted into\n     * metadata-only changes, etc.). Returns true if a user-facing event was\n     * indeed raised.\n     */    Pu(t) {\n        if (!this.options.includeMetadataChanges) {\n            // Remove the metadata only changes.\n            const e = [];\n            for (const n of t.docChanges) 3 /* Metadata */ !== n.type && e.push(n);\n            t = new $u(t.query, t.docs, t.oldDocs, e, t.mutatedKeys, t.fromCache, t.syncStateChanged, \n            /* excludesMetadataChanges= */ !0);\n        }\n        let e = !1;\n        return this.Vu ? this.Du(t) && (this.vu.next(t), e = !0) : this.Cu(t, this.onlineState) && (this.xu(t), \n        e = !0), this.Su = t, e;\n    }\n    onError(t) {\n        this.vu.error(t);\n    }\n    /** Returns whether a snapshot was raised. */    bu(t) {\n        this.onlineState = t;\n        let e = !1;\n        return this.Su && !this.Vu && this.Cu(this.Su, t) && (this.xu(this.Su), e = !0), \n        e;\n    }\n    Cu(t, e) {\n        // Always raise the first event when we're synced\n        if (!t.fromCache) return !0;\n        // NOTE: We consider OnlineState.Unknown as online (it should become Offline\n        // or Online if we wait long enough).\n                const n = \"Offline\" /* Offline */ !== e;\n        // Don't raise the event if we're online, aren't synced yet (checked\n        // above) and are waiting for a sync.\n                return (!this.options.Nu || !n) && (!t.docs.isEmpty() || \"Offline\" /* Offline */ === e);\n        // Raise data from cache if we have any documents or we are offline\n        }\n    Du(t) {\n        // We don't need to handle includeDocumentMetadataChanges here because\n        // the Metadata only changes have already been stripped out if needed.\n        // At this point the only changes we will see are the ones we should\n        // propagate.\n        if (t.docChanges.length > 0) return !0;\n        const e = this.Su && this.Su.hasPendingWrites !== t.hasPendingWrites;\n        return !(!t.syncStateChanged && !e) && !0 === this.options.includeMetadataChanges;\n        // Generally we should have hit one of the cases above, but it's possible\n        // to get here if there were only metadata docChanges and they got\n        // stripped out.\n        }\n    xu(t) {\n        t = $u.fromInitialDocuments(t.query, t.docs, t.mutatedKeys, t.fromCache), this.Vu = !0, \n        this.vu.next(t);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A complete element in the bundle stream, together with the byte length it\n * occupies in the stream.\n */ class Wu {\n    constructor(t, \n    // How many bytes this element takes to store in the bundle.\n    e) {\n        this.payload = t, this.byteLength = e;\n    }\n    ku() {\n        return \"metadata\" in this.payload;\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Helper to convert objects from bundles to model objects in the SDK.\n */ class zu {\n    constructor(t) {\n        this.It = t;\n    }\n    Ji(t) {\n        return Ns(this.It, t);\n    }\n    /**\n     * Converts a BundleDocument to a MutableDocument.\n     */    Yi(t) {\n        return t.metadata.exists ? Bs(this.It, t.document, !1) : Ve.newNoDocument(this.Ji(t.metadata.name), this.Xi(t.metadata.readTime));\n    }\n    Xi(t) {\n        return Ss(t);\n    }\n}\n\n/**\n * A class to process the elements from a bundle, load them into local\n * storage and provide progress update while loading.\n */ class Hu {\n    constructor(t, e, n) {\n        this.Mu = t, this.localStore = e, this.It = n, \n        /** Batched queries to be saved into storage */\n        this.queries = [], \n        /** Batched documents to be saved into storage */\n        this.documents = [], \n        /** The collection groups affected by this bundle. */\n        this.collectionGroups = new Set, this.progress = Ju(t);\n    }\n    /**\n     * Adds an element from the bundle to the loader.\n     *\n     * Returns a new progress if adding the element leads to a new progress,\n     * otherwise returns null.\n     */    Ou(t) {\n        this.progress.bytesLoaded += t.byteLength;\n        let e = this.progress.documentsLoaded;\n        if (t.payload.namedQuery) this.queries.push(t.payload.namedQuery); else if (t.payload.documentMetadata) {\n            this.documents.push({\n                metadata: t.payload.documentMetadata\n            }), t.payload.documentMetadata.exists || ++e;\n            const n = it.fromString(t.payload.documentMetadata.name);\n            this.collectionGroups.add(n.get(n.length - 2));\n        } else t.payload.document && (this.documents[this.documents.length - 1].document = t.payload.document, \n        ++e);\n        return e !== this.progress.documentsLoaded ? (this.progress.documentsLoaded = e, \n        Object.assign({}, this.progress)) : null;\n    }\n    Fu(t) {\n        const e = new Map, n = new zu(this.It);\n        for (const s of t) if (s.metadata.queries) {\n            const t = n.Ji(s.metadata.name);\n            for (const n of s.metadata.queries) {\n                const s = (e.get(n) || ls()).add(t);\n                e.set(n, s);\n            }\n        }\n        return e;\n    }\n    /**\n     * Update the progress to 'Success' and return the updated progress.\n     */    async complete() {\n        const t = await No(this.localStore, new zu(this.It), this.documents, this.Mu.id), e = this.Fu(this.documents);\n        for (const t of this.queries) await ko(this.localStore, t, e.get(t.name));\n        return this.progress.taskState = \"Success\", {\n            progress: this.progress,\n            $u: this.collectionGroups,\n            Bu: t\n        };\n    }\n}\n\n/**\n * Returns a `LoadBundleTaskProgress` representing the initial progress of\n * loading a bundle.\n */ function Ju(t) {\n    return {\n        taskState: \"Running\",\n        documentsLoaded: 0,\n        bytesLoaded: 0,\n        totalDocuments: t.totalDocuments,\n        totalBytes: t.totalBytes\n    };\n}\n\n/**\n * Returns a `LoadBundleTaskProgress` representing the progress that the loading\n * has succeeded.\n */\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass Yu {\n    constructor(t) {\n        this.key = t;\n    }\n}\n\nclass Xu {\n    constructor(t) {\n        this.key = t;\n    }\n}\n\n/**\n * View is responsible for computing the final merged truth of what docs are in\n * a query. It gets notified of local and remote changes to docs, and applies\n * the query filters and limits to determine the most correct possible results.\n */ class Zu {\n    constructor(t, \n    /** Documents included in the remote target */\n    e) {\n        this.query = t, this.Lu = e, this.Uu = null, \n        /**\n         * A flag whether the view is current with the backend. A view is considered\n         * current after it has seen the current flag from the backend and did not\n         * lose consistency within the watch stream (e.g. because of an existence\n         * filter mismatch).\n         */\n        this.current = !1, \n        /** Documents in the view but not in the remote target */\n        this.qu = ls(), \n        /** Document Keys that have local changes */\n        this.mutatedKeys = ls(), this.Ku = _n(t), this.Gu = new Ou(this.Ku);\n    }\n    /**\n     * The set of remote documents that the server has told us belongs to the target associated with\n     * this view.\n     */    get Qu() {\n        return this.Lu;\n    }\n    /**\n     * Iterates over a set of doc changes, applies the query limit, and computes\n     * what the new results should be, what the changes were, and whether we may\n     * need to go back to the local cache for more results. Does not make any\n     * changes to the view.\n     * @param docChanges - The doc changes to apply to this view.\n     * @param previousChanges - If this is being called with a refill, then start\n     *        with this set of docs and changes instead of the current view.\n     * @returns a new set of docs, changes, and refill flag.\n     */    ju(t, e) {\n        const n = e ? e.Wu : new Fu, s = e ? e.Gu : this.Gu;\n        let i = e ? e.mutatedKeys : this.mutatedKeys, r = s, o = !1;\n        // Track the last doc in a (full) limit. This is necessary, because some\n        // update (a delete, or an update moving a doc past the old limit) might\n        // mean there is some other document in the local cache that either should\n        // come (1) between the old last limit doc and the new last document, in the\n        // case of updates, or (2) after the new last document, in the case of\n        // deletes. So we keep this doc at the old limit to compare the updates to.\n        // Note that this should never get used in a refill (when previousChanges is\n        // set), because there will only be adds -- no deletes or updates.\n        const u = \"F\" /* First */ === this.query.limitType && s.size === this.query.limit ? s.last() : null, c = \"L\" /* Last */ === this.query.limitType && s.size === this.query.limit ? s.first() : null;\n        // Drop documents out to meet limit/limitToLast requirement.\n        if (t.inorderTraversal(((t, e) => {\n            const a = s.get(t), h = fn(this.query, e) ? e : null, l = !!a && this.mutatedKeys.has(a.key), f = !!h && (h.hasLocalMutations || \n            // We only consider committed mutations for documents that were\n            // mutated during the lifetime of the view.\n            this.mutatedKeys.has(h.key) && h.hasCommittedMutations);\n            let d = !1;\n            // Calculate change\n                        if (a && h) {\n                a.data.isEqual(h.data) ? l !== f && (n.track({\n                    type: 3 /* Metadata */ ,\n                    doc: h\n                }), d = !0) : this.zu(a, h) || (n.track({\n                    type: 2 /* Modified */ ,\n                    doc: h\n                }), d = !0, (u && this.Ku(h, u) > 0 || c && this.Ku(h, c) < 0) && (\n                // This doc moved from inside the limit to outside the limit.\n                // That means there may be some other doc in the local cache\n                // that should be included instead.\n                o = !0));\n            } else !a && h ? (n.track({\n                type: 0 /* Added */ ,\n                doc: h\n            }), d = !0) : a && !h && (n.track({\n                type: 1 /* Removed */ ,\n                doc: a\n            }), d = !0, (u || c) && (\n            // A doc was removed from a full limit query. We'll need to\n            // requery from the local cache to see if we know about some other\n            // doc that should be in the results.\n            o = !0));\n            d && (h ? (r = r.add(h), i = f ? i.add(t) : i.delete(t)) : (r = r.delete(t), i = i.delete(t)));\n        })), null !== this.query.limit) for (;r.size > this.query.limit; ) {\n            const t = \"F\" /* First */ === this.query.limitType ? r.last() : r.first();\n            r = r.delete(t.key), i = i.delete(t.key), n.track({\n                type: 1 /* Removed */ ,\n                doc: t\n            });\n        }\n        return {\n            Gu: r,\n            Wu: n,\n            $i: o,\n            mutatedKeys: i\n        };\n    }\n    zu(t, e) {\n        // We suppress the initial change event for documents that were modified as\n        // part of a write acknowledgment (e.g. when the value of a server transform\n        // is applied) as Watch will send us the same document again.\n        // By suppressing the event, we only raise two user visible events (one with\n        // `hasPendingWrites` and the final state of the document) instead of three\n        // (one with `hasPendingWrites`, the modified document with\n        // `hasPendingWrites` and the final state of the document).\n        return t.hasLocalMutations && e.hasCommittedMutations && !e.hasLocalMutations;\n    }\n    /**\n     * Updates the view with the given ViewDocumentChanges and optionally updates\n     * limbo docs and sync state from the provided target change.\n     * @param docChanges - The set of changes to make to the view's docs.\n     * @param updateLimboDocuments - Whether to update limbo documents based on\n     *        this change.\n     * @param targetChange - A target change to apply for computing limbo docs and\n     *        sync state.\n     * @returns A new ViewChange with the given docs, changes, and sync state.\n     */\n    // PORTING NOTE: The iOS/Android clients always compute limbo document changes.\n    applyChanges(t, e, n) {\n        const s = this.Gu;\n        this.Gu = t.Gu, this.mutatedKeys = t.mutatedKeys;\n        // Sort changes based on type and query comparator\n        const i = t.Wu.Eu();\n        i.sort(((t, e) => function(t, e) {\n            const n = t => {\n                switch (t) {\n                  case 0 /* Added */ :\n                    return 1;\n\n                  case 2 /* Modified */ :\n                  case 3 /* Metadata */ :\n                    // A metadata change is converted to a modified change at the public\n                    // api layer.  Since we sort by document key and then change type,\n                    // metadata and modified changes must be sorted equivalently.\n                    return 2;\n\n                  case 1 /* Removed */ :\n                    return 0;\n\n                  default:\n                    return k();\n                }\n            };\n            return n(t) - n(e);\n        }\n        /**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ (t.type, e.type) || this.Ku(t.doc, e.doc))), this.Hu(n);\n        const r = e ? this.Ju() : [], o = 0 === this.qu.size && this.current ? 1 /* Synced */ : 0 /* Local */ , u = o !== this.Uu;\n        if (this.Uu = o, 0 !== i.length || u) {\n            return {\n                snapshot: new $u(this.query, t.Gu, s, i, t.mutatedKeys, 0 /* Local */ === o, u, \n                /* excludesMetadataChanges= */ !1),\n                Yu: r\n            };\n        }\n        // no changes\n        return {\n            Yu: r\n        };\n    }\n    /**\n     * Applies an OnlineState change to the view, potentially generating a\n     * ViewChange if the view's syncState changes as a result.\n     */    bu(t) {\n        return this.current && \"Offline\" /* Offline */ === t ? (\n        // If we're offline, set `current` to false and then call applyChanges()\n        // to refresh our syncState and generate a ViewChange as appropriate. We\n        // are guaranteed to get a new TargetChange that sets `current` back to\n        // true once the client is back online.\n        this.current = !1, this.applyChanges({\n            Gu: this.Gu,\n            Wu: new Fu,\n            mutatedKeys: this.mutatedKeys,\n            $i: !1\n        }, \n        /* updateLimboDocuments= */ !1)) : {\n            Yu: []\n        };\n    }\n    /**\n     * Returns whether the doc for the given key should be in limbo.\n     */    Xu(t) {\n        // If the remote end says it's part of this query, it's not in limbo.\n        return !this.Lu.has(t) && (\n        // The local store doesn't think it's a result, so it shouldn't be in limbo.\n        !!this.Gu.has(t) && !this.Gu.get(t).hasLocalMutations);\n    }\n    /**\n     * Updates syncedDocuments, current, and limbo docs based on the given change.\n     * Returns the list of changes to which docs are in limbo.\n     */    Hu(t) {\n        t && (t.addedDocuments.forEach((t => this.Lu = this.Lu.add(t))), t.modifiedDocuments.forEach((t => {})), \n        t.removedDocuments.forEach((t => this.Lu = this.Lu.delete(t))), this.current = t.current);\n    }\n    Ju() {\n        // We can only determine limbo documents when we're in-sync with the server.\n        if (!this.current) return [];\n        // TODO(klimt): Do this incrementally so that it's not quadratic when\n        // updating many documents.\n                const t = this.qu;\n        this.qu = ls(), this.Gu.forEach((t => {\n            this.Xu(t.key) && (this.qu = this.qu.add(t.key));\n        }));\n        // Diff the new limbo docs with the old limbo docs.\n        const e = [];\n        return t.forEach((t => {\n            this.qu.has(t) || e.push(new Xu(t));\n        })), this.qu.forEach((n => {\n            t.has(n) || e.push(new Yu(n));\n        })), e;\n    }\n    /**\n     * Update the in-memory state of the current view with the state read from\n     * persistence.\n     *\n     * We update the query view whenever a client's primary status changes:\n     * - When a client transitions from primary to secondary, it can miss\n     *   LocalStorage updates and its query views may temporarily not be\n     *   synchronized with the state on disk.\n     * - For secondary to primary transitions, the client needs to update the list\n     *   of `syncedDocuments` since secondary clients update their query views\n     *   based purely on synthesized RemoteEvents.\n     *\n     * @param queryResult.documents - The documents that match the query according\n     * to the LocalStore.\n     * @param queryResult.remoteKeys - The keys of the documents that match the\n     * query according to the backend.\n     *\n     * @returns The ViewChange that resulted from this synchronization.\n     */\n    // PORTING NOTE: Multi-tab only.\n    Zu(t) {\n        this.Lu = t.Hi, this.qu = ls();\n        const e = this.ju(t.documents);\n        return this.applyChanges(e, /*updateLimboDocuments=*/ !0);\n    }\n    /**\n     * Returns a view snapshot as if this query was just listened to. Contains\n     * a document add for every existing document and the `fromCache` and\n     * `hasPendingWrites` status of the already established view.\n     */\n    // PORTING NOTE: Multi-tab only.\n    tc() {\n        return $u.fromInitialDocuments(this.query, this.Gu, this.mutatedKeys, 0 /* Local */ === this.Uu);\n    }\n}\n\n/**\n * QueryView contains all of the data that SyncEngine needs to keep track of for\n * a particular query.\n */\nclass tc {\n    constructor(\n    /**\n     * The query itself.\n     */\n    t, \n    /**\n     * The target number created by the client that is used in the watch\n     * stream to identify this query.\n     */\n    e, \n    /**\n     * The view is responsible for computing the final merged truth of what\n     * docs are in the query. It gets notified of local and remote changes,\n     * and applies the query filters and limits to determine the most correct\n     * possible results.\n     */\n    n) {\n        this.query = t, this.targetId = e, this.view = n;\n    }\n}\n\n/** Tracks a limbo resolution. */ class ec {\n    constructor(t) {\n        this.key = t, \n        /**\n         * Set to true once we've received a document. This is used in\n         * getRemoteKeysForTarget() and ultimately used by WatchChangeAggregator to\n         * decide whether it needs to manufacture a delete event for the target once\n         * the target is CURRENT.\n         */\n        this.ec = !1;\n    }\n}\n\n/**\n * An implementation of `SyncEngine` coordinating with other parts of SDK.\n *\n * The parts of SyncEngine that act as a callback to RemoteStore need to be\n * registered individually. This is done in `syncEngineWrite()` and\n * `syncEngineListen()` (as well as `applyPrimaryState()`) as these methods\n * serve as entry points to RemoteStore's functionality.\n *\n * Note: some field defined in this class might have public access level, but\n * the class is not exported so they are only accessible from this module.\n * This is useful to implement optional features (like bundles) in free\n * functions, such that they are tree-shakeable.\n */ class nc {\n    constructor(t, e, n, \n    // PORTING NOTE: Manages state synchronization in multi-tab environments.\n    s, i, r) {\n        this.localStore = t, this.remoteStore = e, this.eventManager = n, this.sharedClientState = s, \n        this.currentUser = i, this.maxConcurrentLimboResolutions = r, this.nc = {}, this.sc = new ts((t => hn(t)), an), \n        this.ic = new Map, \n        /**\n         * The keys of documents that are in limbo for which we haven't yet started a\n         * limbo resolution query. The strings in this set are the result of calling\n         * `key.path.canonicalString()` where `key` is a `DocumentKey` object.\n         *\n         * The `Set` type was chosen because it provides efficient lookup and removal\n         * of arbitrary elements and it also maintains insertion order, providing the\n         * desired queue-like FIFO semantics.\n         */\n        this.rc = new Set, \n        /**\n         * Keeps track of the target ID for each document that is in limbo with an\n         * active target.\n         */\n        this.oc = new $t(ut.comparator), \n        /**\n         * Keeps track of the information about an active limbo resolution for each\n         * active target ID that was started for the purpose of limbo resolution.\n         */\n        this.uc = new Map, this.cc = new to, \n        /** Stores user completion handlers, indexed by User and BatchId. */\n        this.ac = {}, \n        /** Stores user callbacks waiting for all pending writes to be acknowledged. */\n        this.hc = new Map, this.lc = Dr.vn(), this.onlineState = \"Unknown\" /* Unknown */ , \n        // The primary state is set to `true` or `false` immediately after Firestore\n        // startup. In the interim, a client should only be considered primary if\n        // `isPrimary` is true.\n        this.fc = void 0;\n    }\n    get isPrimaryClient() {\n        return !0 === this.fc;\n    }\n}\n\n/**\n * Initiates the new listen, resolves promise when listen enqueued to the\n * server. All the subsequent view snapshots or errors are sent to the\n * subscribed handlers. Returns the initial snapshot.\n */\nasync function sc(t, e) {\n    const n = xc(t);\n    let s, i;\n    const r = n.sc.get(e);\n    if (r) \n    // PORTING NOTE: With Multi-Tab Web, it is possible that a query view\n    // already exists when EventManager calls us for the first time. This\n    // happens when the primary tab is already listening to this query on\n    // behalf of another tab and the user of the primary also starts listening\n    // to the query. EventManager will not have an assigned target ID in this\n    // case and calls `listen` to obtain this ID.\n    s = r.targetId, n.sharedClientState.addLocalQueryTarget(s), i = r.view.tc(); else {\n        const t = await vo(n.localStore, un(e));\n        n.isPrimaryClient && cu(n.remoteStore, t);\n        const r = n.sharedClientState.addLocalQueryTarget(t.targetId);\n        s = t.targetId, i = await ic(n, e, s, \"current\" === r);\n    }\n    return i;\n}\n\n/**\n * Registers a view for a previously unknown query and computes its initial\n * snapshot.\n */ async function ic(t, e, n, s) {\n    // PORTING NOTE: On Web only, we inject the code that registers new Limbo\n    // targets based on view changes. This allows us to only depend on Limbo\n    // changes when user code includes queries.\n    t.dc = (e, n, s) => async function(t, e, n, s) {\n        let i = e.view.ju(n);\n        i.$i && (\n        // The query has a limit and some docs were removed, so we need\n        // to re-run the query against the local store to make sure we\n        // didn't lose any good docs that had been past the limit.\n        i = await So(t.localStore, e.query, \n        /* usePreviousResults= */ !1).then((({documents: t}) => e.view.ju(t, i))));\n        const r = s && s.targetChanges.get(e.targetId), o = e.view.applyChanges(i, \n        /* updateLimboDocuments= */ t.isPrimaryClient, r);\n        return gc(t, e.targetId, o.Yu), o.snapshot;\n    }(t, e, n, s);\n    const i = await So(t.localStore, e, \n    /* usePreviousResults= */ !0), r = new Zu(e, i.Hi), o = r.ju(i.documents), u = ws.createSynthesizedTargetChangeForCurrentChange(n, s && \"Offline\" /* Offline */ !== t.onlineState), c = r.applyChanges(o, \n    /* updateLimboDocuments= */ t.isPrimaryClient, u);\n    gc(t, n, c.Yu);\n    const a = new tc(e, n, r);\n    return t.sc.set(e, a), t.ic.has(n) ? t.ic.get(n).push(e) : t.ic.set(n, [ e ]), c.snapshot;\n}\n\n/** Stops listening to the query. */ async function rc(t, e) {\n    const n = F(t), s = n.sc.get(e), i = n.ic.get(s.targetId);\n    if (i.length > 1) return n.ic.set(s.targetId, i.filter((t => !an(t, e)))), void n.sc.delete(e);\n    // No other queries are mapped to the target, clean up the query and the target.\n        if (n.isPrimaryClient) {\n        // We need to remove the local query target first to allow us to verify\n        // whether any other client is still interested in this target.\n        n.sharedClientState.removeLocalQueryTarget(s.targetId);\n        n.sharedClientState.isActiveQueryTarget(s.targetId) || await Vo(n.localStore, s.targetId, \n        /*keepPersistedTargetData=*/ !1).then((() => {\n            n.sharedClientState.clearQueryState(s.targetId), au(n.remoteStore, s.targetId), \n            wc(n, s.targetId);\n        })).catch(Tt);\n    } else wc(n, s.targetId), await Vo(n.localStore, s.targetId, \n    /*keepPersistedTargetData=*/ !0);\n}\n\n/**\n * Initiates the write of local mutation batch which involves adding the\n * writes to the mutation queue, notifying the remote store about new\n * mutations and raising events for any changes this write caused.\n *\n * The promise returned by this call is resolved when the above steps\n * have completed, *not* when the write was acked by the backend. The\n * userCallback is resolved once the write was acked/rejected by the\n * backend (or failed locally for any other reason).\n */ async function oc(t, e, n) {\n    const s = Nc(t);\n    try {\n        const t = await function(t, e) {\n            const n = F(t), s = et.now(), i = e.reduce(((t, e) => t.add(e.key)), ls());\n            let r, o;\n            return n.persistence.runTransaction(\"Locally write mutations\", \"readwrite\", (t => {\n                // Figure out which keys do not have a remote version in the cache, this\n                // is needed to create the right overlay mutation: if no remote version\n                // presents, we do not need to create overlays as patch mutations.\n                // TODO(Overlay): Is there a better way to determine this? Using the\n                //  document version does not work because local mutations set them back\n                //  to 0.\n                let u = ns(), c = ls();\n                return n.Gi.getEntries(t, i).next((t => {\n                    u = t, u.forEach(((t, e) => {\n                        e.isValidDocument() || (c = c.add(t));\n                    }));\n                })).next((() => n.localDocuments.getOverlayedDocuments(t, u))).next((i => {\n                    r = i;\n                    // For non-idempotent mutations (such as `FieldValue.increment()`),\n                    // we record the base state in a separate patch mutation. This is\n                    // later used to guarantee consistent values and prevents flicker\n                    // even if the backend sends us an update that already includes our\n                    // transform.\n                    const o = [];\n                    for (const t of e) {\n                        const e = Ln(t, r.get(t.key).overlayedDocument);\n                        null != e && \n                        // NOTE: The base state should only be applied if there's some\n                        // existing document to override, so use a Precondition of\n                        // exists=true\n                        o.push(new Kn(t.key, e, ve(e.value.mapValue), kn.exists(!0)));\n                    }\n                    return n.mutationQueue.addMutationBatch(t, s, o, e);\n                })).next((e => {\n                    o = e;\n                    const s = e.applyToLocalDocumentSet(r, c);\n                    return n.documentOverlayCache.saveOverlays(t, e.batchId, s);\n                }));\n            })).then((() => ({\n                batchId: o.batchId,\n                changes: rs(r)\n            })));\n        }(s.localStore, e);\n        s.sharedClientState.addPendingMutation(t.batchId), function(t, e, n) {\n            let s = t.ac[t.currentUser.toKey()];\n            s || (s = new $t(X));\n            s = s.insert(e, n), t.ac[t.currentUser.toKey()] = s;\n        }\n        /**\n * Resolves or rejects the user callback for the given batch and then discards\n * it.\n */ (s, t.batchId, n), await Ic(s, t.changes), await Tu(s.remoteStore);\n    } catch (t) {\n        // If we can't persist the mutation, we reject the user callback and\n        // don't send the mutation. The user can then retry the write.\n        const e = Mu(t, \"Failed to persist write\");\n        n.reject(e);\n    }\n}\n\n/**\n * Applies one remote event to the sync engine, notifying any views of the\n * changes, and releasing any pending mutation batches that would become\n * visible because of the snapshot version the remote event contains.\n */ async function uc(t, e) {\n    const n = F(t);\n    try {\n        const t = await Ro(n.localStore, e);\n        // Update `receivedDocument` as appropriate for any limbo targets.\n                e.targetChanges.forEach(((t, e) => {\n            const s = n.uc.get(e);\n            s && (\n            // Since this is a limbo resolution lookup, it's for a single document\n            // and it could be added, modified, or removed, but not a combination.\n            M(t.addedDocuments.size + t.modifiedDocuments.size + t.removedDocuments.size <= 1), \n            t.addedDocuments.size > 0 ? s.ec = !0 : t.modifiedDocuments.size > 0 ? M(s.ec) : t.removedDocuments.size > 0 && (M(s.ec), \n            s.ec = !1));\n        })), await Ic(n, t, e);\n    } catch (t) {\n        await Tt(t);\n    }\n}\n\n/**\n * Applies an OnlineState change to the sync engine and notifies any views of\n * the change.\n */ function cc(t, e, n) {\n    const s = F(t);\n    // If we are the secondary client, we explicitly ignore the remote store's\n    // online state (the local client may go offline, even though the primary\n    // tab remains online) and only apply the primary tab's online state from\n    // SharedClientState.\n        if (s.isPrimaryClient && 0 /* RemoteStore */ === n || !s.isPrimaryClient && 1 /* SharedClientState */ === n) {\n        const t = [];\n        s.sc.forEach(((n, s) => {\n            const i = s.view.bu(e);\n            i.snapshot && t.push(i.snapshot);\n        })), function(t, e) {\n            const n = F(t);\n            n.onlineState = e;\n            let s = !1;\n            n.queries.forEach(((t, n) => {\n                for (const t of n.listeners) \n                // Run global snapshot listeners if a consistent snapshot has been emitted.\n                t.bu(e) && (s = !0);\n            })), s && Qu(n);\n        }(s.eventManager, e), t.length && s.nc.Wo(t), s.onlineState = e, s.isPrimaryClient && s.sharedClientState.setOnlineState(e);\n    }\n}\n\n/**\n * Rejects the listen for the given targetID. This can be triggered by the\n * backend for any active target.\n *\n * @param syncEngine - The sync engine implementation.\n * @param targetId - The targetID corresponds to one previously initiated by the\n * user as part of TargetData passed to listen() on RemoteStore.\n * @param err - A description of the condition that has forced the rejection.\n * Nearly always this will be an indication that the user is no longer\n * authorized to see the data matching the target.\n */ async function ac(t, e, n) {\n    const s = F(t);\n    // PORTING NOTE: Multi-tab only.\n        s.sharedClientState.updateQueryState(e, \"rejected\", n);\n    const i = s.uc.get(e), r = i && i.key;\n    if (r) {\n        // TODO(klimt): We really only should do the following on permission\n        // denied errors, but we don't have the cause code here.\n        // It's a limbo doc. Create a synthetic event saying it was deleted.\n        // This is kind of a hack. Ideally, we would have a method in the local\n        // store to purge a document. However, it would be tricky to keep all of\n        // the local store's invariants with another method.\n        let t = new $t(ut.comparator);\n        // TODO(b/217189216): This limbo document should ideally have a read time,\n        // so that it is picked up by any read-time based scans. The backend,\n        // however, does not send a read time for target removals.\n                t = t.insert(r, Ve.newNoDocument(r, nt.min()));\n        const n = ls().add(r), i = new _s(nt.min(), \n        /* targetChanges= */ new Map, \n        /* targetMismatches= */ new Ut(X), t, n);\n        await uc(s, i), \n        // Since this query failed, we won't want to manually unlisten to it.\n        // We only remove it from bookkeeping after we successfully applied the\n        // RemoteEvent. If `applyRemoteEvent()` throws, we want to re-listen to\n        // this query when the RemoteStore restarts the Watch stream, which should\n        // re-trigger the target failure.\n        s.oc = s.oc.remove(r), s.uc.delete(e), pc(s);\n    } else await Vo(s.localStore, e, \n    /* keepPersistedTargetData */ !1).then((() => wc(s, e, n))).catch(Tt);\n}\n\nasync function hc(t, e) {\n    const n = F(t), s = e.batch.batchId;\n    try {\n        const t = await Eo(n.localStore, e);\n        // The local store may or may not be able to apply the write result and\n        // raise events immediately (depending on whether the watcher is caught\n        // up), so we raise user callbacks first so that they consistently happen\n        // before listen events.\n                _c(n, s, /*error=*/ null), dc(n, s), n.sharedClientState.updateMutationState(s, \"acknowledged\"), \n        await Ic(n, t);\n    } catch (t) {\n        await Tt(t);\n    }\n}\n\nasync function lc(t, e, n) {\n    const s = F(t);\n    try {\n        const t = await function(t, e) {\n            const n = F(t);\n            return n.persistence.runTransaction(\"Reject batch\", \"readwrite-primary\", (t => {\n                let s;\n                return n.mutationQueue.lookupMutationBatch(t, e).next((e => (M(null !== e), s = e.keys(), \n                n.mutationQueue.removeMutationBatch(t, e)))).next((() => n.mutationQueue.performConsistencyCheck(t))).next((() => n.documentOverlayCache.removeOverlaysForBatchId(t, s, e))).next((() => n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t, s))).next((() => n.localDocuments.getDocuments(t, s)));\n            }));\n        }\n        /**\n * Returns the largest (latest) batch id in mutation queue that is pending\n * server response.\n *\n * Returns `BATCHID_UNKNOWN` if the queue is empty.\n */ (s.localStore, e);\n        // The local store may or may not be able to apply the write result and\n        // raise events immediately (depending on whether the watcher is caught up),\n        // so we raise user callbacks first so that they consistently happen before\n        // listen events.\n                _c(s, e, n), dc(s, e), s.sharedClientState.updateMutationState(e, \"rejected\", n), \n        await Ic(s, t);\n    } catch (n) {\n        await Tt(n);\n    }\n}\n\n/**\n * Registers a user callback that resolves when all pending mutations at the moment of calling\n * are acknowledged .\n */ async function fc(t, e) {\n    const n = F(t);\n    _u(n.remoteStore) || D(\"SyncEngine\", \"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\");\n    try {\n        const t = await function(t) {\n            const e = F(t);\n            return e.persistence.runTransaction(\"Get highest unacknowledged batch id\", \"readonly\", (t => e.mutationQueue.getHighestUnacknowledgedBatchId(t)));\n        }(n.localStore);\n        if (-1 === t) \n        // Trigger the callback right away if there is no pending writes at the moment.\n        return void e.resolve();\n        const s = n.hc.get(t) || [];\n        s.push(e), n.hc.set(t, s);\n    } catch (t) {\n        const n = Mu(t, \"Initialization of waitForPendingWrites() operation failed\");\n        e.reject(n);\n    }\n}\n\n/**\n * Triggers the callbacks that are waiting for this batch id to get acknowledged by server,\n * if there are any.\n */ function dc(t, e) {\n    (t.hc.get(e) || []).forEach((t => {\n        t.resolve();\n    })), t.hc.delete(e);\n}\n\n/** Reject all outstanding callbacks waiting for pending writes to complete. */ function _c(t, e, n) {\n    const s = F(t);\n    let i = s.ac[s.currentUser.toKey()];\n    // NOTE: Mutations restored from persistence won't have callbacks, so it's\n    // okay for there to be no callback for this ID.\n        if (i) {\n        const t = i.get(e);\n        t && (n ? t.reject(n) : t.resolve(), i = i.remove(e)), s.ac[s.currentUser.toKey()] = i;\n    }\n}\n\nfunction wc(t, e, n = null) {\n    t.sharedClientState.removeLocalQueryTarget(e);\n    for (const s of t.ic.get(e)) t.sc.delete(s), n && t.nc._c(s, n);\n    if (t.ic.delete(e), t.isPrimaryClient) {\n        t.cc.ls(e).forEach((e => {\n            t.cc.containsKey(e) || \n            // We removed the last reference for this key\n            mc(t, e);\n        }));\n    }\n}\n\nfunction mc(t, e) {\n    t.rc.delete(e.path.canonicalString());\n    // It's possible that the target already got removed because the query failed. In that case,\n    // the key won't exist in `limboTargetsByKey`. Only do the cleanup if we still have the target.\n    const n = t.oc.get(e);\n    null !== n && (au(t.remoteStore, n), t.oc = t.oc.remove(e), t.uc.delete(n), pc(t));\n}\n\nfunction gc(t, e, n) {\n    for (const s of n) if (s instanceof Yu) t.cc.addReference(s.key, e), yc(t, s); else if (s instanceof Xu) {\n        D(\"SyncEngine\", \"Document no longer in limbo: \" + s.key), t.cc.removeReference(s.key, e);\n        t.cc.containsKey(s.key) || \n        // We removed the last reference for this key\n        mc(t, s.key);\n    } else k();\n}\n\nfunction yc(t, e) {\n    const n = e.key, s = n.path.canonicalString();\n    t.oc.get(n) || t.rc.has(s) || (D(\"SyncEngine\", \"New document in limbo: \" + n), t.rc.add(s), \n    pc(t));\n}\n\n/**\n * Starts listens for documents in limbo that are enqueued for resolution,\n * subject to a maximum number of concurrent resolutions.\n *\n * Without bounding the number of concurrent resolutions, the server can fail\n * with \"resource exhausted\" errors which can lead to pathological client\n * behavior as seen in https://github.com/firebase/firebase-js-sdk/issues/2683.\n */ function pc(t) {\n    for (;t.rc.size > 0 && t.oc.size < t.maxConcurrentLimboResolutions; ) {\n        const e = t.rc.values().next().value;\n        t.rc.delete(e);\n        const n = new ut(it.fromString(e)), s = t.lc.next();\n        t.uc.set(s, new ec(n)), t.oc = t.oc.insert(n, s), cu(t.remoteStore, new Oi(un(tn(n.path)), s, 2 /* LimboResolution */ , kt.at));\n    }\n}\n\nasync function Ic(t, e, n) {\n    const s = F(t), i = [], r = [], o = [];\n    s.sc.isEmpty() || (s.sc.forEach(((t, u) => {\n        o.push(s.dc(u, e, n).then((t => {\n            if (t) {\n                s.isPrimaryClient && s.sharedClientState.updateQueryState(u.targetId, t.fromCache ? \"not-current\" : \"current\"), \n                i.push(t);\n                const e = go.Ci(u.targetId, t);\n                r.push(e);\n            }\n        })));\n    })), await Promise.all(o), s.nc.Wo(i), await async function(t, e) {\n        const n = F(t);\n        try {\n            await n.persistence.runTransaction(\"notifyLocalViewChanges\", \"readwrite\", (t => Et.forEach(e, (e => Et.forEach(e.Si, (s => n.persistence.referenceDelegate.addReference(t, e.targetId, s))).next((() => Et.forEach(e.Di, (s => n.persistence.referenceDelegate.removeReference(t, e.targetId, s)))))))));\n        } catch (t) {\n            if (!vt(t)) throw t;\n            // If `notifyLocalViewChanges` fails, we did not advance the sequence\n            // number for the documents that were included in this transaction.\n            // This might trigger them to be deleted earlier than they otherwise\n            // would have, but it should not invalidate the integrity of the data.\n            D(\"LocalStore\", \"Failed to update sequence numbers: \" + t);\n        }\n        for (const t of e) {\n            const e = t.targetId;\n            if (!t.fromCache) {\n                const t = n.Ui.get(e), s = t.snapshotVersion, i = t.withLastLimboFreeSnapshotVersion(s);\n                // Advance the last limbo free snapshot version\n                                n.Ui = n.Ui.insert(e, i);\n            }\n        }\n    }(s.localStore, r));\n}\n\nasync function Tc(t, e) {\n    const n = F(t);\n    if (!n.currentUser.isEqual(e)) {\n        D(\"SyncEngine\", \"User change. New user:\", e.toKey());\n        const t = await To(n.localStore, e);\n        n.currentUser = e, \n        // Fails tasks waiting for pending writes requested by previous user.\n        function(t, e) {\n            t.hc.forEach((t => {\n                t.forEach((t => {\n                    t.reject(new B($.CANCELLED, e));\n                }));\n            })), t.hc.clear();\n        }(n, \"'waitForPendingWrites' promise is rejected due to a user change.\"), \n        // TODO(b/114226417): Consider calling this only in the primary tab.\n        n.sharedClientState.handleUserChange(e, t.removedBatchIds, t.addedBatchIds), await Ic(n, t.ji);\n    }\n}\n\nfunction Ec(t, e) {\n    const n = F(t), s = n.uc.get(e);\n    if (s && s.ec) return ls().add(s.key);\n    {\n        let t = ls();\n        const s = n.ic.get(e);\n        if (!s) return t;\n        for (const e of s) {\n            const s = n.sc.get(e);\n            t = t.unionWith(s.view.Qu);\n        }\n        return t;\n    }\n}\n\n/**\n * Reconcile the list of synced documents in an existing view with those\n * from persistence.\n */ async function Ac(t, e) {\n    const n = F(t), s = await So(n.localStore, e.query, \n    /* usePreviousResults= */ !0), i = e.view.Zu(s);\n    return n.isPrimaryClient && gc(n, e.targetId, i.Yu), i;\n}\n\n/**\n * Retrieves newly changed documents from remote document cache and raises\n * snapshots if needed.\n */\n// PORTING NOTE: Multi-Tab only.\nasync function Rc(t, e) {\n    const n = F(t);\n    return Co(n.localStore, e).then((t => Ic(n, t)));\n}\n\n/** Applies a mutation state to an existing batch.  */\n// PORTING NOTE: Multi-Tab only.\nasync function bc(t, e, n, s) {\n    const i = F(t), r = await function(t, e) {\n        const n = F(t), s = F(n.mutationQueue);\n        return n.persistence.runTransaction(\"Lookup mutation documents\", \"readonly\", (t => s.Tn(t, e).next((e => e ? n.localDocuments.getDocuments(t, e) : Et.resolve(null)))));\n    }\n    // PORTING NOTE: Multi-Tab only.\n    (i.localStore, e);\n    null !== r ? (\"pending\" === n ? \n    // If we are the primary client, we need to send this write to the\n    // backend. Secondary clients will ignore these writes since their remote\n    // connection is disabled.\n    await Tu(i.remoteStore) : \"acknowledged\" === n || \"rejected\" === n ? (\n    // NOTE: Both these methods are no-ops for batches that originated from\n    // other clients.\n    _c(i, e, s || null), dc(i, e), function(t, e) {\n        F(F(t).mutationQueue).An(e);\n    }\n    // PORTING NOTE: Multi-Tab only.\n    (i.localStore, e)) : k(), await Ic(i, r)) : \n    // A throttled tab may not have seen the mutation before it was completed\n    // and removed from the mutation queue, in which case we won't have cached\n    // the affected documents. In this case we can safely ignore the update\n    // since that means we didn't apply the mutation locally at all (if we\n    // had, we would have cached the affected documents), and so we will just\n    // see any resulting document changes via normal remote document updates\n    // as applicable.\n    D(\"SyncEngine\", \"Cannot apply mutation batch with id: \" + e);\n}\n\n/** Applies a query target change from a different tab. */\n// PORTING NOTE: Multi-Tab only.\nasync function Pc(t, e) {\n    const n = F(t);\n    if (xc(n), Nc(n), !0 === e && !0 !== n.fc) {\n        // Secondary tabs only maintain Views for their local listeners and the\n        // Views internal state may not be 100% populated (in particular\n        // secondary tabs don't track syncedDocuments, the set of documents the\n        // server considers to be in the target). So when a secondary becomes\n        // primary, we need to need to make sure that all views for all targets\n        // match the state on disk.\n        const t = n.sharedClientState.getAllActiveQueryTargets(), e = await vc(n, t.toArray());\n        n.fc = !0, await Cu(n.remoteStore, !0);\n        for (const t of e) cu(n.remoteStore, t);\n    } else if (!1 === e && !1 !== n.fc) {\n        const t = [];\n        let e = Promise.resolve();\n        n.ic.forEach(((s, i) => {\n            n.sharedClientState.isLocalQueryTarget(i) ? t.push(i) : e = e.then((() => (wc(n, i), \n            Vo(n.localStore, i, \n            /*keepPersistedTargetData=*/ !0)))), au(n.remoteStore, i);\n        })), await e, await vc(n, t), \n        // PORTING NOTE: Multi-Tab only.\n        function(t) {\n            const e = F(t);\n            e.uc.forEach(((t, n) => {\n                au(e.remoteStore, n);\n            })), e.cc.fs(), e.uc = new Map, e.oc = new $t(ut.comparator);\n        }\n        /**\n * Reconcile the query views of the provided query targets with the state from\n * persistence. Raises snapshots for any changes that affect the local\n * client and returns the updated state of all target's query data.\n *\n * @param syncEngine - The sync engine implementation\n * @param targets - the list of targets with views that need to be recomputed\n * @param transitionToPrimary - `true` iff the tab transitions from a secondary\n * tab to a primary tab\n */\n        // PORTING NOTE: Multi-Tab only.\n        (n), n.fc = !1, await Cu(n.remoteStore, !1);\n    }\n}\n\nasync function vc(t, e, n) {\n    const s = F(t), i = [], r = [];\n    for (const t of e) {\n        let e;\n        const n = s.ic.get(t);\n        if (n && 0 !== n.length) {\n            // For queries that have a local View, we fetch their current state\n            // from LocalStore (as the resume token and the snapshot version\n            // might have changed) and reconcile their views with the persisted\n            // state (the list of syncedDocuments may have gotten out of sync).\n            e = await vo(s.localStore, un(n[0]));\n            for (const t of n) {\n                const e = s.sc.get(t), n = await Ac(s, e);\n                n.snapshot && r.push(n.snapshot);\n            }\n        } else {\n            // For queries that never executed on this client, we need to\n            // allocate the target in LocalStore and initialize a new View.\n            const n = await Do(s.localStore, t);\n            e = await vo(s.localStore, n), await ic(s, Vc(n), t, \n            /*current=*/ !1);\n        }\n        i.push(e);\n    }\n    return s.nc.Wo(r), i;\n}\n\n/**\n * Creates a `Query` object from the specified `Target`. There is no way to\n * obtain the original `Query`, so we synthesize a `Query` from the `Target`\n * object.\n *\n * The synthesized result might be different from the original `Query`, but\n * since the synthesized `Query` should return the same results as the\n * original one (only the presentation of results might differ), the potential\n * difference will not cause issues.\n */\n// PORTING NOTE: Multi-Tab only.\nfunction Vc(t) {\n    return Ze(t.path, t.collectionGroup, t.orderBy, t.filters, t.limit, \"F\" /* First */ , t.startAt, t.endAt);\n}\n\n/** Returns the IDs of the clients that are currently active. */\n// PORTING NOTE: Multi-Tab only.\nfunction Sc(t) {\n    const e = F(t);\n    return F(F(e.localStore).persistence).vi();\n}\n\n/** Applies a query target change from a different tab. */\n// PORTING NOTE: Multi-Tab only.\nasync function Dc(t, e, n, s) {\n    const i = F(t);\n    if (i.fc) \n    // If we receive a target state notification via WebStorage, we are\n    // either already secondary or another tab has taken the primary lease.\n    return void D(\"SyncEngine\", \"Ignoring unexpected query state notification.\");\n    const r = i.ic.get(e);\n    if (r && r.length > 0) switch (n) {\n      case \"current\":\n      case \"not-current\":\n        {\n            const t = await Co(i.localStore, dn(r[0])), s = _s.createSynthesizedRemoteEventForCurrentChange(e, \"current\" === n);\n            await Ic(i, t, s);\n            break;\n        }\n\n      case \"rejected\":\n        await Vo(i.localStore, e, \n        /* keepPersistedTargetData */ !0), wc(i, e, s);\n        break;\n\n      default:\n        k();\n    }\n}\n\n/** Adds or removes Watch targets for queries from different tabs. */ async function Cc(t, e, n) {\n    const s = xc(t);\n    if (s.fc) {\n        for (const t of e) {\n            if (s.ic.has(t)) {\n                // A target might have been added in a previous attempt\n                D(\"SyncEngine\", \"Adding an already active target \" + t);\n                continue;\n            }\n            const e = await Do(s.localStore, t), n = await vo(s.localStore, e);\n            await ic(s, Vc(e), n.targetId, \n            /*current=*/ !1), cu(s.remoteStore, n);\n        }\n        for (const t of n) \n        // Check that the target is still active since the target might have been\n        // removed if it has been rejected by the backend.\n        s.ic.has(t) && \n        // Release queries that are still active.\n        await Vo(s.localStore, t, \n        /* keepPersistedTargetData */ !1).then((() => {\n            au(s.remoteStore, t), wc(s, t);\n        })).catch(Tt);\n    }\n}\n\nfunction xc(t) {\n    const e = F(t);\n    return e.remoteStore.remoteSyncer.applyRemoteEvent = uc.bind(null, e), e.remoteStore.remoteSyncer.getRemoteKeysForTarget = Ec.bind(null, e), \n    e.remoteStore.remoteSyncer.rejectListen = ac.bind(null, e), e.nc.Wo = Ku.bind(null, e.eventManager), \n    e.nc._c = Gu.bind(null, e.eventManager), e;\n}\n\nfunction Nc(t) {\n    const e = F(t);\n    return e.remoteStore.remoteSyncer.applySuccessfulWrite = hc.bind(null, e), e.remoteStore.remoteSyncer.rejectFailedWrite = lc.bind(null, e), \n    e;\n}\n\n/**\n * Loads a Firestore bundle into the SDK. The returned promise resolves when\n * the bundle finished loading.\n *\n * @param syncEngine - SyncEngine to use.\n * @param bundleReader - Bundle to load into the SDK.\n * @param task - LoadBundleTask used to update the loading progress to public API.\n */ function kc(t, e, n) {\n    const s = F(t);\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        (\n    /** Loads a bundle and returns the list of affected collection groups. */\n    async function(t, e, n) {\n        try {\n            const s = await e.getMetadata();\n            if (await function(t, e) {\n                const n = F(t), s = Ss(e.createTime);\n                return n.persistence.runTransaction(\"hasNewerBundle\", \"readonly\", (t => n.Ns.getBundleMetadata(t, e.id))).then((t => !!t && t.createTime.compareTo(s) >= 0));\n            }\n            /**\n * Saves the given `BundleMetadata` to local persistence.\n */ (t.localStore, s)) return await e.close(), n._completeWith(function(t) {\n                return {\n                    taskState: \"Success\",\n                    documentsLoaded: t.totalDocuments,\n                    bytesLoaded: t.totalBytes,\n                    totalDocuments: t.totalDocuments,\n                    totalBytes: t.totalBytes\n                };\n            }(s)), Promise.resolve(new Set);\n            n._updateProgress(Ju(s));\n            const i = new Hu(s, t.localStore, e.It);\n            let r = await e.wc();\n            for (;r; ) {\n                const t = await i.Ou(r);\n                t && n._updateProgress(t), r = await e.wc();\n            }\n            const o = await i.complete();\n            return await Ic(t, o.Bu, \n            /* remoteEvent */ void 0), \n            // Save metadata, so loading the same bundle will skip.\n            await function(t, e) {\n                const n = F(t);\n                return n.persistence.runTransaction(\"Save bundle\", \"readwrite\", (t => n.Ns.saveBundleMetadata(t, e)));\n            }\n            /**\n * Returns a promise of a `NamedQuery` associated with given query name. Promise\n * resolves to undefined if no persisted data can be found.\n */ (t.localStore, s), n._completeWith(o.progress), Promise.resolve(o.$u);\n        } catch (t) {\n            return x(\"SyncEngine\", `Loading bundle failed with ${t}`), n._failWith(t), Promise.resolve(new Set);\n        }\n    }\n    /**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n    /**\n * Provides all components needed for Firestore with in-memory persistence.\n * Uses EagerGC garbage collection.\n */)(s, e, n).then((t => {\n        s.sharedClientState.notifyBundleLoaded(t);\n    }));\n}\n\nclass Mc {\n    constructor() {\n        this.synchronizeTabs = !1;\n    }\n    async initialize(t) {\n        this.It = Xo(t.databaseInfo.databaseId), this.sharedClientState = this.mc(t), this.persistence = this.gc(t), \n        await this.persistence.start(), this.localStore = this.yc(t), this.gcScheduler = this.Ic(t, this.localStore), \n        this.indexBackfillerScheduler = this.Tc(t, this.localStore);\n    }\n    Ic(t, e) {\n        return null;\n    }\n    Tc(t, e) {\n        return null;\n    }\n    yc(t) {\n        return Io(this.persistence, new yo, t.initialUser, this.It);\n    }\n    gc(t) {\n        return new oo(co.Bs, this.It);\n    }\n    mc(t) {\n        return new Go;\n    }\n    async terminate() {\n        this.gcScheduler && this.gcScheduler.stop(), await this.sharedClientState.shutdown(), \n        await this.persistence.shutdown();\n    }\n}\n\n/**\n * Provides all components needed for Firestore with IndexedDB persistence.\n */ class Oc extends Mc {\n    constructor(t, e, n) {\n        super(), this.Ec = t, this.cacheSizeBytes = e, this.forceOwnership = n, this.synchronizeTabs = !1;\n    }\n    async initialize(t) {\n        await super.initialize(t), await this.Ec.initialize(this, t), \n        // Enqueue writes from a previous session\n        await Nc(this.Ec.syncEngine), await Tu(this.Ec.remoteStore), \n        // NOTE: This will immediately call the listener, so we make sure to\n        // set it after localStore / remoteStore are started.\n        await this.persistence.li((() => (this.gcScheduler && !this.gcScheduler.started && this.gcScheduler.start(), \n        this.indexBackfillerScheduler && !this.indexBackfillerScheduler.started && this.indexBackfillerScheduler.start(), \n        Promise.resolve())));\n    }\n    yc(t) {\n        return Io(this.persistence, new yo, t.initialUser, this.It);\n    }\n    Ic(t, e) {\n        const n = this.persistence.referenceDelegate.garbageCollector;\n        return new Fr(n, t.asyncQueue, e);\n    }\n    Tc(t, e) {\n        const n = new Nt(e, this.persistence);\n        return new xt(t.asyncQueue, n);\n    }\n    gc(t) {\n        const e = mo(t.databaseInfo.databaseId, t.databaseInfo.persistenceKey), n = void 0 !== this.cacheSizeBytes ? Er.withCacheSize(this.cacheSizeBytes) : Er.DEFAULT;\n        return new fo(this.synchronizeTabs, e, t.clientId, n, t.asyncQueue, Jo(), Yo(), this.It, this.sharedClientState, !!this.forceOwnership);\n    }\n    mc(t) {\n        return new Go;\n    }\n}\n\n/**\n * Provides all components needed for Firestore with multi-tab IndexedDB\n * persistence.\n *\n * In the legacy client, this provider is used to provide both multi-tab and\n * non-multi-tab persistence since we cannot tell at build time whether\n * `synchronizeTabs` will be enabled.\n */ class Fc extends Oc {\n    constructor(t, e) {\n        super(t, e, /* forceOwnership= */ !1), this.Ec = t, this.cacheSizeBytes = e, this.synchronizeTabs = !0;\n    }\n    async initialize(t) {\n        await super.initialize(t);\n        const e = this.Ec.syncEngine;\n        this.sharedClientState instanceof Ko && (this.sharedClientState.syncEngine = {\n            Fr: bc.bind(null, e),\n            $r: Dc.bind(null, e),\n            Br: Cc.bind(null, e),\n            vi: Sc.bind(null, e),\n            Or: Rc.bind(null, e)\n        }, await this.sharedClientState.start()), \n        // NOTE: This will immediately call the listener, so we make sure to\n        // set it after localStore / remoteStore are started.\n        await this.persistence.li((async t => {\n            await Pc(this.Ec.syncEngine, t), this.gcScheduler && (t && !this.gcScheduler.started ? this.gcScheduler.start() : t || this.gcScheduler.stop()), \n            this.indexBackfillerScheduler && (t && !this.indexBackfillerScheduler.started ? this.indexBackfillerScheduler.start() : t || this.indexBackfillerScheduler.stop());\n        }));\n    }\n    mc(t) {\n        const e = Jo();\n        if (!Ko.C(e)) throw new B($.UNIMPLEMENTED, \"IndexedDB persistence is only available on platforms that support LocalStorage.\");\n        const n = mo(t.databaseInfo.databaseId, t.databaseInfo.persistenceKey);\n        return new Ko(e, t.asyncQueue, n, t.clientId, t.initialUser);\n    }\n}\n\n/**\n * Initializes and wires the components that are needed to interface with the\n * network.\n */ class $c {\n    async initialize(t, e) {\n        this.localStore || (this.localStore = t.localStore, this.sharedClientState = t.sharedClientState, \n        this.datastore = this.createDatastore(e), this.remoteStore = this.createRemoteStore(e), \n        this.eventManager = this.createEventManager(e), this.syncEngine = this.createSyncEngine(e, \n        /* startAsPrimary=*/ !t.synchronizeTabs), this.sharedClientState.onlineStateHandler = t => cc(this.syncEngine, t, 1 /* SharedClientState */), \n        this.remoteStore.remoteSyncer.handleCredentialChange = Tc.bind(null, this.syncEngine), \n        await Cu(this.remoteStore, this.syncEngine.isPrimaryClient));\n    }\n    createEventManager(t) {\n        return new Lu;\n    }\n    createDatastore(t) {\n        const e = Xo(t.databaseInfo.databaseId), n = (s = t.databaseInfo, new Ho(s));\n        var s;\n        /** Return the Platform-specific connectivity monitor. */        return function(t, e, n, s) {\n            return new su(t, e, n, s);\n        }(t.authCredentials, t.appCheckCredentials, n, e);\n    }\n    createRemoteStore(t) {\n        return e = this.localStore, n = this.datastore, s = t.asyncQueue, i = t => cc(this.syncEngine, t, 0 /* RemoteStore */), \n        r = jo.C() ? new jo : new Qo, new ru(e, n, s, i, r);\n        var e, n, s, i, r;\n        /** Re-enables the network. Idempotent. */    }\n    createSyncEngine(t, e) {\n        return function(t, e, n, \n        // PORTING NOTE: Manages state synchronization in multi-tab environments.\n        s, i, r, o) {\n            const u = new nc(t, e, n, s, i, r);\n            return o && (u.fc = !0), u;\n        }(this.localStore, this.remoteStore, this.eventManager, this.sharedClientState, t.initialUser, t.maxConcurrentLimboResolutions, e);\n    }\n    terminate() {\n        return async function(t) {\n            const e = F(t);\n            D(\"RemoteStore\", \"RemoteStore shutting down.\"), e._u.add(5 /* Shutdown */), await uu(e), \n            e.mu.shutdown(), \n            // Set the OnlineState to Unknown (rather than Offline) to avoid potentially\n            // triggering spurious listener events with cached data, etc.\n            e.gu.set(\"Unknown\" /* Unknown */);\n        }(this.remoteStore);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * How many bytes to read each time when `ReadableStreamReader.read()` is\n * called. Only applicable for byte streams that we control (e.g. those backed\n * by an UInt8Array).\n */\n/**\n * Builds a `ByteStreamReader` from a UInt8Array.\n * @param source - The data source to use.\n * @param bytesPerRead - How many bytes each `read()` from the returned reader\n *        will read.\n */\nfunction Bc(t, e = 10240) {\n    let n = 0;\n    // The TypeScript definition for ReadableStreamReader changed. We use\n    // `any` here to allow this code to compile with different versions.\n    // See https://github.com/microsoft/TypeScript/issues/42970\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        async read() {\n            if (n < t.byteLength) {\n                const s = {\n                    value: t.slice(n, n + e),\n                    done: !1\n                };\n                return n += e, s;\n            }\n            return {\n                done: !0\n            };\n        },\n        async cancel() {},\n        releaseLock() {},\n        closed: Promise.reject(\"unimplemented\")\n    };\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * On web, a `ReadableStream` is wrapped around by a `ByteStreamReader`.\n */\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/*\n * A wrapper implementation of Observer<T> that will dispatch events\n * asynchronously. To allow immediate silencing, a mute call is added which\n * causes events scheduled to no longer be raised.\n */\nclass Lc {\n    constructor(t) {\n        this.observer = t, \n        /**\n         * When set to true, will not raise future events. Necessary to deal with\n         * async detachment of listener.\n         */\n        this.muted = !1;\n    }\n    next(t) {\n        this.observer.next && this.Ac(this.observer.next, t);\n    }\n    error(t) {\n        this.observer.error ? this.Ac(this.observer.error, t) : C(\"Uncaught Error in snapshot listener:\", t);\n    }\n    Rc() {\n        this.muted = !0;\n    }\n    Ac(t, e) {\n        this.muted || setTimeout((() => {\n            this.muted || t(e);\n        }), 0);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A class representing a bundle.\n *\n * Takes a bundle stream or buffer, and presents abstractions to read bundled\n * elements out of the underlying content.\n */ class Uc {\n    constructor(\n    /** The reader to read from underlying binary bundle data source. */\n    t, e) {\n        this.bc = t, this.It = e, \n        /** Cached bundle metadata. */\n        this.metadata = new L, \n        /**\n         * Internal buffer to hold bundle content, accumulating incomplete element\n         * content.\n         */\n        this.buffer = new Uint8Array, this.Pc = new TextDecoder(\"utf-8\"), \n        // Read the metadata (which is the first element).\n        this.vc().then((t => {\n            t && t.ku() ? this.metadata.resolve(t.payload.metadata) : this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\\n             ${JSON.stringify(null == t ? void 0 : t.payload)}`));\n        }), (t => this.metadata.reject(t)));\n    }\n    close() {\n        return this.bc.cancel();\n    }\n    async getMetadata() {\n        return this.metadata.promise;\n    }\n    async wc() {\n        // Makes sure metadata is read before proceeding.\n        return await this.getMetadata(), this.vc();\n    }\n    /**\n     * Reads from the head of internal buffer, and pulling more data from\n     * underlying stream if a complete element cannot be found, until an\n     * element(including the prefixed length and the JSON string) is found.\n     *\n     * Once a complete element is read, it is dropped from internal buffer.\n     *\n     * Returns either the bundled element, or null if we have reached the end of\n     * the stream.\n     */    async vc() {\n        const t = await this.Vc();\n        if (null === t) return null;\n        const e = this.Pc.decode(t), n = Number(e);\n        isNaN(n) && this.Sc(`length string (${e}) is not valid number`);\n        const s = await this.Dc(n);\n        return new Wu(JSON.parse(s), t.length + n);\n    }\n    /** First index of '{' from the underlying buffer. */    Cc() {\n        return this.buffer.findIndex((t => t === \"{\".charCodeAt(0)));\n    }\n    /**\n     * Reads from the beginning of the internal buffer, until the first '{', and\n     * return the content.\n     *\n     * If reached end of the stream, returns a null.\n     */    async Vc() {\n        for (;this.Cc() < 0; ) {\n            if (await this.xc()) break;\n        }\n        // Broke out of the loop because underlying stream is closed, and there\n        // happens to be no more data to process.\n                if (0 === this.buffer.length) return null;\n        const t = this.Cc();\n        // Broke out of the loop because underlying stream is closed, but still\n        // cannot find an open bracket.\n                t < 0 && this.Sc(\"Reached the end of bundle when a length string is expected.\");\n        const e = this.buffer.slice(0, t);\n        // Update the internal buffer to drop the read length.\n                return this.buffer = this.buffer.slice(t), e;\n    }\n    /**\n     * Reads from a specified position from the internal buffer, for a specified\n     * number of bytes, pulling more data from the underlying stream if needed.\n     *\n     * Returns a string decoded from the read bytes.\n     */    async Dc(t) {\n        for (;this.buffer.length < t; ) {\n            await this.xc() && this.Sc(\"Reached the end of bundle when more is expected.\");\n        }\n        const e = this.Pc.decode(this.buffer.slice(0, t));\n        // Update the internal buffer to drop the read json string.\n                return this.buffer = this.buffer.slice(t), e;\n    }\n    Sc(t) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        throw this.bc.cancel(), new Error(`Invalid bundle format: ${t}`);\n    }\n    /**\n     * Pulls more data from underlying stream to internal buffer.\n     * Returns a boolean indicating whether the stream is finished.\n     */    async xc() {\n        const t = await this.bc.read();\n        if (!t.done) {\n            const e = new Uint8Array(this.buffer.length + t.value.length);\n            e.set(this.buffer), e.set(t.value, this.buffer.length), this.buffer = e;\n        }\n        return t.done;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal transaction object responsible for accumulating the mutations to\n * perform and the base versions for any documents read.\n */\nclass qc {\n    constructor(t) {\n        this.datastore = t, \n        // The version of each document that was read during this transaction.\n        this.readVersions = new Map, this.mutations = [], this.committed = !1, \n        /**\n         * A deferred usage error that occurred previously in this transaction that\n         * will cause the transaction to fail once it actually commits.\n         */\n        this.lastWriteError = null, \n        /**\n         * Set of documents that have been written in the transaction.\n         *\n         * When there's more than one write to the same key in a transaction, any\n         * writes after the first are handled differently.\n         */\n        this.writtenDocs = new Set;\n    }\n    async lookup(t) {\n        if (this.ensureCommitNotCalled(), this.mutations.length > 0) throw new B($.INVALID_ARGUMENT, \"Firestore transactions require all reads to be executed before all writes.\");\n        const e = await async function(t, e) {\n            const n = F(t), s = Os(n.It) + \"/documents\", i = {\n                documents: e.map((t => xs(n.It, t)))\n            }, r = await n.fo(\"BatchGetDocuments\", s, i, e.length), o = new Map;\n            r.forEach((t => {\n                const e = Ls(n.It, t);\n                o.set(e.key.toString(), e);\n            }));\n            const u = [];\n            return e.forEach((t => {\n                const e = o.get(t.toString());\n                M(!!e), u.push(e);\n            })), u;\n        }(this.datastore, t);\n        return e.forEach((t => this.recordVersion(t))), e;\n    }\n    set(t, e) {\n        this.write(e.toMutation(t, this.precondition(t))), this.writtenDocs.add(t.toString());\n    }\n    update(t, e) {\n        try {\n            this.write(e.toMutation(t, this.preconditionForUpdate(t)));\n        } catch (t) {\n            this.lastWriteError = t;\n        }\n        this.writtenDocs.add(t.toString());\n    }\n    delete(t) {\n        this.write(new Wn(t, this.precondition(t))), this.writtenDocs.add(t.toString());\n    }\n    async commit() {\n        if (this.ensureCommitNotCalled(), this.lastWriteError) throw this.lastWriteError;\n        const t = this.readVersions;\n        // For each mutation, note that the doc was written.\n                this.mutations.forEach((e => {\n            t.delete(e.key.toString());\n        })), \n        // For each document that was read but not written to, we want to perform\n        // a `verify` operation.\n        t.forEach(((t, e) => {\n            const n = ut.fromPath(e);\n            this.mutations.push(new zn(n, this.precondition(n)));\n        })), await async function(t, e) {\n            const n = F(t), s = Os(n.It) + \"/documents\", i = {\n                writes: e.map((t => qs(n.It, t)))\n            };\n            await n.co(\"Commit\", s, i);\n        }(this.datastore, this.mutations), this.committed = !0;\n    }\n    recordVersion(t) {\n        let e;\n        if (t.isFoundDocument()) e = t.version; else {\n            if (!t.isNoDocument()) throw k();\n            // Represent a deleted doc using SnapshotVersion.min().\n            e = nt.min();\n        }\n        const n = this.readVersions.get(t.key.toString());\n        if (n) {\n            if (!e.isEqual(n)) \n            // This transaction will fail no matter what.\n            throw new B($.ABORTED, \"Document version changed between two reads.\");\n        } else this.readVersions.set(t.key.toString(), e);\n    }\n    /**\n     * Returns the version of this document when it was read in this transaction,\n     * as a precondition, or no precondition if it was not read.\n     */    precondition(t) {\n        const e = this.readVersions.get(t.toString());\n        return !this.writtenDocs.has(t.toString()) && e ? e.isEqual(nt.min()) ? kn.exists(!1) : kn.updateTime(e) : kn.none();\n    }\n    /**\n     * Returns the precondition for a document if the operation is an update.\n     */    preconditionForUpdate(t) {\n        const e = this.readVersions.get(t.toString());\n        // The first time a document is written, we want to take into account the\n        // read time and existence\n                if (!this.writtenDocs.has(t.toString()) && e) {\n            if (e.isEqual(nt.min())) \n            // The document doesn't exist, so fail the transaction.\n            // This has to be validated locally because you can't send a\n            // precondition that a document does not exist without changing the\n            // semantics of the backend write to be an insert. This is the reverse\n            // of what we want, since we want to assert that the document doesn't\n            // exist but then send the update and have it fail. Since we can't\n            // express that to the backend, we have to validate locally.\n            // Note: this can change once we can send separate verify writes in the\n            // transaction.\n            throw new B($.INVALID_ARGUMENT, \"Can't update a document that doesn't exist.\");\n            // Document exists, base precondition on document update time.\n                        return kn.updateTime(e);\n        }\n        // Document was not read, so we just use the preconditions for a blind\n        // update.\n        return kn.exists(!0);\n    }\n    write(t) {\n        this.ensureCommitNotCalled(), this.mutations.push(t);\n    }\n    ensureCommitNotCalled() {}\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * TransactionRunner encapsulates the logic needed to run and retry transactions\n * with backoff.\n */ class Kc {\n    constructor(t, e, n, s, i) {\n        this.asyncQueue = t, this.datastore = e, this.options = n, this.updateFunction = s, \n        this.deferred = i, this.Nc = n.maxAttempts, this.xo = new Zo(this.asyncQueue, \"transaction_retry\" /* TransactionRetry */);\n    }\n    /** Runs the transaction and sets the result on deferred. */    run() {\n        this.Nc -= 1, this.kc();\n    }\n    kc() {\n        this.xo.Ao((async () => {\n            const t = new qc(this.datastore), e = this.Mc(t);\n            e && e.then((e => {\n                this.asyncQueue.enqueueAndForget((() => t.commit().then((() => {\n                    this.deferred.resolve(e);\n                })).catch((t => {\n                    this.Oc(t);\n                }))));\n            })).catch((t => {\n                this.Oc(t);\n            }));\n        }));\n    }\n    Mc(t) {\n        try {\n            const e = this.updateFunction(t);\n            return !ne(e) && e.catch && e.then ? e : (this.deferred.reject(Error(\"Transaction callback must return a Promise\")), \n            null);\n        } catch (t) {\n            // Do not retry errors thrown by user provided updateFunction.\n            return this.deferred.reject(t), null;\n        }\n    }\n    Oc(t) {\n        this.Nc > 0 && this.Fc(t) ? (this.Nc -= 1, this.asyncQueue.enqueueAndForget((() => (this.kc(), \n        Promise.resolve())))) : this.deferred.reject(t);\n    }\n    Fc(t) {\n        if (\"FirebaseError\" === t.name) {\n            // In transactions, the backend will fail outdated reads with FAILED_PRECONDITION and\n            // non-matching document versions with ABORTED. These errors should be retried.\n            const e = t.code;\n            return \"aborted\" === e || \"failed-precondition\" === e || !Xn(e);\n        }\n        return !1;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * FirestoreClient is a top-level class that constructs and owns all of the\n * pieces of the client SDK architecture. It is responsible for creating the\n * async queue that is shared by all of the other components in the system.\n */\nclass Gc {\n    constructor(t, e, \n    /**\n     * Asynchronous queue responsible for all of our internal processing. When\n     * we get incoming work from the user (via public API) or the network\n     * (incoming GRPC messages), we should always schedule onto this queue.\n     * This ensures all of our work is properly serialized (e.g. we don't\n     * start processing a new operation while the previous one is waiting for\n     * an async I/O to complete).\n     */\n    n, s) {\n        this.authCredentials = t, this.appCheckCredentials = e, this.asyncQueue = n, this.databaseInfo = s, \n        this.user = b.UNAUTHENTICATED, this.clientId = Y.R(), this.authCredentialListener = () => Promise.resolve(), \n        this.appCheckCredentialListener = () => Promise.resolve(), this.authCredentials.start(n, (async t => {\n            D(\"FirestoreClient\", \"Received user=\", t.uid), await this.authCredentialListener(t), \n            this.user = t;\n        })), this.appCheckCredentials.start(n, (t => (D(\"FirestoreClient\", \"Received new app check token=\", t), \n        this.appCheckCredentialListener(t, this.user))));\n    }\n    async getConfiguration() {\n        return {\n            asyncQueue: this.asyncQueue,\n            databaseInfo: this.databaseInfo,\n            clientId: this.clientId,\n            authCredentials: this.authCredentials,\n            appCheckCredentials: this.appCheckCredentials,\n            initialUser: this.user,\n            maxConcurrentLimboResolutions: 100\n        };\n    }\n    setCredentialChangeListener(t) {\n        this.authCredentialListener = t;\n    }\n    setAppCheckTokenChangeListener(t) {\n        this.appCheckCredentialListener = t;\n    }\n    /**\n     * Checks that the client has not been terminated. Ensures that other methods on\n     * this class cannot be called after the client is terminated.\n     */    verifyNotTerminated() {\n        if (this.asyncQueue.isShuttingDown) throw new B($.FAILED_PRECONDITION, \"The client has already been terminated.\");\n    }\n    terminate() {\n        this.asyncQueue.enterRestrictedMode();\n        const t = new L;\n        return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async () => {\n            try {\n                this.onlineComponents && await this.onlineComponents.terminate(), this.offlineComponents && await this.offlineComponents.terminate(), \n                // The credentials provider must be terminated after shutting down the\n                // RemoteStore as it will prevent the RemoteStore from retrieving auth\n                // tokens.\n                this.authCredentials.shutdown(), this.appCheckCredentials.shutdown(), t.resolve();\n            } catch (e) {\n                const n = Mu(e, \"Failed to shutdown persistence\");\n                t.reject(n);\n            }\n        })), t.promise;\n    }\n}\n\nasync function Qc(t, e) {\n    t.asyncQueue.verifyOperationInProgress(), D(\"FirestoreClient\", \"Initializing OfflineComponentProvider\");\n    const n = await t.getConfiguration();\n    await e.initialize(n);\n    let s = n.initialUser;\n    t.setCredentialChangeListener((async t => {\n        s.isEqual(t) || (await To(e.localStore, t), s = t);\n    })), \n    // When a user calls clearPersistence() in one client, all other clients\n    // need to be terminated to allow the delete to succeed.\n    e.persistence.setDatabaseDeletedListener((() => t.terminate())), t.offlineComponents = e;\n}\n\nasync function jc(t, e) {\n    t.asyncQueue.verifyOperationInProgress();\n    const n = await Wc(t);\n    D(\"FirestoreClient\", \"Initializing OnlineComponentProvider\");\n    const s = await t.getConfiguration();\n    await e.initialize(n, s), \n    // The CredentialChangeListener of the online component provider takes\n    // precedence over the offline component provider.\n    t.setCredentialChangeListener((t => Du(e.remoteStore, t))), t.setAppCheckTokenChangeListener(((t, n) => Du(e.remoteStore, n))), \n    t.onlineComponents = e;\n}\n\nasync function Wc(t) {\n    return t.offlineComponents || (D(\"FirestoreClient\", \"Using default OfflineComponentProvider\"), \n    await Qc(t, new Mc)), t.offlineComponents;\n}\n\nasync function zc(t) {\n    return t.onlineComponents || (D(\"FirestoreClient\", \"Using default OnlineComponentProvider\"), \n    await jc(t, new $c)), t.onlineComponents;\n}\n\nfunction Hc(t) {\n    return Wc(t).then((t => t.persistence));\n}\n\nfunction Jc(t) {\n    return Wc(t).then((t => t.localStore));\n}\n\nfunction Yc(t) {\n    return zc(t).then((t => t.remoteStore));\n}\n\nfunction Xc(t) {\n    return zc(t).then((t => t.syncEngine));\n}\n\nasync function Zc(t) {\n    const e = await zc(t), n = e.eventManager;\n    return n.onListen = sc.bind(null, e.syncEngine), n.onUnlisten = rc.bind(null, e.syncEngine), \n    n;\n}\n\n/** Enables the network connection and re-enqueues all pending operations. */ function ta(t) {\n    return t.asyncQueue.enqueue((async () => {\n        const e = await Hc(t), n = await Yc(t);\n        return e.setNetworkEnabled(!0), function(t) {\n            const e = F(t);\n            return e._u.delete(0 /* UserDisabled */), ou(e);\n        }(n);\n    }));\n}\n\n/** Disables the network connection. Pending operations will not complete. */ function ea(t) {\n    return t.asyncQueue.enqueue((async () => {\n        const e = await Hc(t), n = await Yc(t);\n        return e.setNetworkEnabled(!1), async function(t) {\n            const e = F(t);\n            e._u.add(0 /* UserDisabled */), await uu(e), \n            // Set the OnlineState to Offline so get()s return from cache, etc.\n            e.gu.set(\"Offline\" /* Offline */);\n        }(n);\n    }));\n}\n\n/**\n * Returns a Promise that resolves when all writes that were pending at the time\n * this method was called received server acknowledgement. An acknowledgement\n * can be either acceptance or rejection.\n */ function na(t, e) {\n    const n = new L;\n    return t.asyncQueue.enqueueAndForget((async () => async function(t, e, n) {\n        try {\n            const s = await function(t, e) {\n                const n = F(t);\n                return n.persistence.runTransaction(\"read document\", \"readonly\", (t => n.localDocuments.getDocument(t, e)));\n            }(t, e);\n            s.isFoundDocument() ? n.resolve(s) : s.isNoDocument() ? n.resolve(null) : n.reject(new B($.UNAVAILABLE, \"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\"));\n        } catch (t) {\n            const s = Mu(t, `Failed to get document '${e} from cache`);\n            n.reject(s);\n        }\n    }\n    /**\n * Retrieves a latency-compensated document from the backend via a\n * SnapshotListener.\n */ (await Jc(t), e, n))), n.promise;\n}\n\nfunction sa(t, e, n = {}) {\n    const s = new L;\n    return t.asyncQueue.enqueueAndForget((async () => function(t, e, n, s, i) {\n        const r = new Lc({\n            next: r => {\n                // Remove query first before passing event to user to avoid\n                // user actions affecting the now stale query.\n                e.enqueueAndForget((() => qu(t, o)));\n                const u = r.docs.has(n);\n                !u && r.fromCache ? \n                // TODO(dimond): If we're online and the document doesn't\n                // exist then we resolve with a doc.exists set to false. If\n                // we're offline however, we reject the Promise in this\n                // case. Two options: 1) Cache the negative response from\n                // the server so we can deliver that even when you're\n                // offline 2) Actually reject the Promise in the online case\n                // if the document doesn't exist.\n                i.reject(new B($.UNAVAILABLE, \"Failed to get document because the client is offline.\")) : u && r.fromCache && s && \"server\" === s.source ? i.reject(new B($.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')) : i.resolve(r);\n            },\n            error: t => i.reject(t)\n        }), o = new ju(tn(n.path), r, {\n            includeMetadataChanges: !0,\n            Nu: !0\n        });\n        return Uu(t, o);\n    }(await Zc(t), t.asyncQueue, e, n, s))), s.promise;\n}\n\nfunction ia(t, e) {\n    const n = new L;\n    return t.asyncQueue.enqueueAndForget((async () => async function(t, e, n) {\n        try {\n            const s = await So(t, e, \n            /* usePreviousResults= */ !0), i = new Zu(e, s.Hi), r = i.ju(s.documents), o = i.applyChanges(r, \n            /* updateLimboDocuments= */ !1);\n            n.resolve(o.snapshot);\n        } catch (t) {\n            const s = Mu(t, `Failed to execute query '${e} against cache`);\n            n.reject(s);\n        }\n    }\n    /**\n * Retrieves a latency-compensated query snapshot from the backend via a\n * SnapshotListener.\n */ (await Jc(t), e, n))), n.promise;\n}\n\nfunction ra(t, e, n = {}) {\n    const s = new L;\n    return t.asyncQueue.enqueueAndForget((async () => function(t, e, n, s, i) {\n        const r = new Lc({\n            next: n => {\n                // Remove query first before passing event to user to avoid\n                // user actions affecting the now stale query.\n                e.enqueueAndForget((() => qu(t, o))), n.fromCache && \"server\" === s.source ? i.reject(new B($.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')) : i.resolve(n);\n            },\n            error: t => i.reject(t)\n        }), o = new ju(n, r, {\n            includeMetadataChanges: !0,\n            Nu: !0\n        });\n        return Uu(t, o);\n    }(await Zc(t), t.asyncQueue, e, n, s))), s.promise;\n}\n\nfunction oa(t, e) {\n    const n = new Lc(e);\n    return t.asyncQueue.enqueueAndForget((async () => function(t, e) {\n        F(t).Ru.add(e), \n        // Immediately fire an initial event, indicating all existing listeners\n        // are in-sync.\n        e.next();\n    }(await Zc(t), n))), () => {\n        n.Rc(), t.asyncQueue.enqueueAndForget((async () => function(t, e) {\n            F(t).Ru.delete(e);\n        }(await Zc(t), n)));\n    };\n}\n\n/**\n * Takes an updateFunction in which a set of reads and writes can be performed\n * atomically. In the updateFunction, the client can read and write values\n * using the supplied transaction object. After the updateFunction, all\n * changes will be committed. If a retryable error occurs (ex: some other\n * client has changed any of the data referenced), then the updateFunction\n * will be called again after a backoff. If the updateFunction still fails\n * after all retries, then the transaction will be rejected.\n *\n * The transaction object passed to the updateFunction contains methods for\n * accessing documents and collections. Unlike other datastore access, data\n * accessed with the transaction will not reflect local changes that have not\n * been committed. For this reason, it is required that all reads are\n * performed before any writes. Transactions must be performed while online.\n */ function ua(t, e, n) {\n    const s = new L;\n    return t.asyncQueue.enqueueAndForget((async () => {\n        const i = await function(t) {\n            return zc(t).then((t => t.datastore));\n        }(t);\n        new Kc(t.asyncQueue, i, n, e, s).run();\n    })), s.promise;\n}\n\nfunction ca(t, e, n, s) {\n    const i = function(t, e) {\n        let n;\n        n = \"string\" == typeof t ? (new TextEncoder).encode(t) : t;\n        return function(t, e) {\n            return new Uc(t, e);\n        }(function(t, e) {\n            if (t instanceof Uint8Array) return Bc(t, e);\n            if (t instanceof ArrayBuffer) return Bc(new Uint8Array(t), e);\n            if (t instanceof ReadableStream) return t.getReader();\n            throw new Error(\"Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream\");\n        }(n), e);\n    }\n    /**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ (n, Xo(e));\n    t.asyncQueue.enqueueAndForget((async () => {\n        kc(await Xc(t), i, s);\n    }));\n}\n\nfunction aa(t, e) {\n    return t.asyncQueue.enqueue((async () => function(t, e) {\n        const n = F(t);\n        return n.persistence.runTransaction(\"Get named query\", \"readonly\", (t => n.Ns.getNamedQuery(t, e)));\n    }(await Jc(t), e)));\n}\n\nconst ha = new Map;\n\n/**\n * An instance map that ensures only one Datastore exists per Firestore\n * instance.\n */\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction la(t, e, n) {\n    if (!n) throw new B($.INVALID_ARGUMENT, `Function ${t}() cannot be called with an empty ${e}.`);\n}\n\n/**\n * Validates that two boolean options are not set at the same time.\n * @internal\n */ function fa(t, e, n, s) {\n    if (!0 === e && !0 === s) throw new B($.INVALID_ARGUMENT, `${t} and ${n} cannot be used together.`);\n}\n\n/**\n * Validates that `path` refers to a document (indicated by the fact it contains\n * an even numbers of segments).\n */ function da(t) {\n    if (!ut.isDocumentKey(t)) throw new B($.INVALID_ARGUMENT, `Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`);\n}\n\n/**\n * Validates that `path` refers to a collection (indicated by the fact it\n * contains an odd numbers of segments).\n */ function _a(t) {\n    if (ut.isDocumentKey(t)) throw new B($.INVALID_ARGUMENT, `Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`);\n}\n\n/**\n * Returns true if it's a non-null object without a custom prototype\n * (i.e. excludes Array, Date, etc.).\n */\n/** Returns a string describing the type / value of the provided input. */\nfunction wa(t) {\n    if (void 0 === t) return \"undefined\";\n    if (null === t) return \"null\";\n    if (\"string\" == typeof t) return t.length > 20 && (t = `${t.substring(0, 20)}...`), \n    JSON.stringify(t);\n    if (\"number\" == typeof t || \"boolean\" == typeof t) return \"\" + t;\n    if (\"object\" == typeof t) {\n        if (t instanceof Array) return \"an array\";\n        {\n            const e = \n            /** try to get the constructor name for an object. */\n            function(t) {\n                if (t.constructor) return t.constructor.name;\n                return null;\n            }\n            /**\n * Casts `obj` to `T`, optionally unwrapping Compat types to expose the\n * underlying instance. Throws if  `obj` is not an instance of `T`.\n *\n * This cast is used in the Lite and Full SDK to verify instance types for\n * arguments passed to the public API.\n * @internal\n */ (t);\n            return e ? `a custom ${e} object` : \"an object\";\n        }\n    }\n    return \"function\" == typeof t ? \"a function\" : k();\n}\n\nfunction ma(t, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ne) {\n    if (\"_delegate\" in t && (\n    // Unwrap Compat types\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    t = t._delegate), !(t instanceof e)) {\n        if (e.name === t.constructor.name) throw new B($.INVALID_ARGUMENT, \"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?\");\n        {\n            const n = wa(t);\n            throw new B($.INVALID_ARGUMENT, `Expected type '${e.name}', but it was: ${n}`);\n        }\n    }\n    return t;\n}\n\nfunction ga(t, e) {\n    if (e <= 0) throw new B($.INVALID_ARGUMENT, `Function ${t}() requires a positive number, but it was: ${e}.`);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// settings() defaults:\n/**\n * A concrete type describing all the values that can be applied via a\n * user-supplied `FirestoreSettings` object. This is a separate type so that\n * defaults can be supplied and the value can be checked for equality.\n */\nclass ya {\n    constructor(t) {\n        var e;\n        if (void 0 === t.host) {\n            if (void 0 !== t.ssl) throw new B($.INVALID_ARGUMENT, \"Can't provide ssl option if host option is not set\");\n            this.host = \"firestore.googleapis.com\", this.ssl = true;\n        } else this.host = t.host, this.ssl = null === (e = t.ssl) || void 0 === e || e;\n        if (this.credentials = t.credentials, this.ignoreUndefinedProperties = !!t.ignoreUndefinedProperties, \n        void 0 === t.cacheSizeBytes) this.cacheSizeBytes = 41943040; else {\n            if (-1 !== t.cacheSizeBytes && t.cacheSizeBytes < 1048576) throw new B($.INVALID_ARGUMENT, \"cacheSizeBytes must be at least 1048576\");\n            this.cacheSizeBytes = t.cacheSizeBytes;\n        }\n        this.experimentalForceLongPolling = !!t.experimentalForceLongPolling, this.experimentalAutoDetectLongPolling = !!t.experimentalAutoDetectLongPolling, \n        this.useFetchStreams = !!t.useFetchStreams, fa(\"experimentalForceLongPolling\", t.experimentalForceLongPolling, \"experimentalAutoDetectLongPolling\", t.experimentalAutoDetectLongPolling);\n    }\n    isEqual(t) {\n        return this.host === t.host && this.ssl === t.ssl && this.credentials === t.credentials && this.cacheSizeBytes === t.cacheSizeBytes && this.experimentalForceLongPolling === t.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === t.experimentalAutoDetectLongPolling && this.ignoreUndefinedProperties === t.ignoreUndefinedProperties && this.useFetchStreams === t.useFetchStreams;\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The Cloud Firestore service interface.\n *\n * Do not call this constructor directly. Instead, use {@link getFirestore}.\n */ class pa {\n    /** @hideconstructor */\n    constructor(t, e, n, s) {\n        this._authCredentials = t, this._appCheckCredentials = e, this._databaseId = n, \n        this._app = s, \n        /**\n         * Whether it's a Firestore or Firestore Lite instance.\n         */\n        this.type = \"firestore-lite\", this._persistenceKey = \"(lite)\", this._settings = new ya({}), \n        this._settingsFrozen = !1;\n    }\n    /**\n     * The {@link @firebase/app#FirebaseApp} associated with this `Firestore` service\n     * instance.\n     */    get app() {\n        if (!this._app) throw new B($.FAILED_PRECONDITION, \"Firestore was not initialized using the Firebase SDK. 'app' is not available\");\n        return this._app;\n    }\n    get _initialized() {\n        return this._settingsFrozen;\n    }\n    get _terminated() {\n        return void 0 !== this._terminateTask;\n    }\n    _setSettings(t) {\n        if (this._settingsFrozen) throw new B($.FAILED_PRECONDITION, \"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.\");\n        this._settings = new ya(t), void 0 !== t.credentials && (this._authCredentials = function(t) {\n            if (!t) return new q;\n            switch (t.type) {\n              case \"gapi\":\n                const e = t.client;\n                return new j(e, t.sessionIndex || \"0\", t.iamToken || null, t.authTokenFactory || null);\n\n              case \"provider\":\n                return t.client;\n\n              default:\n                throw new B($.INVALID_ARGUMENT, \"makeAuthCredentialsProvider failed due to invalid credential type\");\n            }\n        }(t.credentials));\n    }\n    _getSettings() {\n        return this._settings;\n    }\n    _freezeSettings() {\n        return this._settingsFrozen = !0, this._settings;\n    }\n    _delete() {\n        return this._terminateTask || (this._terminateTask = this._terminate()), this._terminateTask;\n    }\n    /** Returns a JSON-serializable representation of this `Firestore` instance. */    toJSON() {\n        return {\n            app: this._app,\n            databaseId: this._databaseId,\n            settings: this._settings\n        };\n    }\n    /**\n     * Terminates all components used by this client. Subclasses can override\n     * this method to clean up their own dependencies, but must also call this\n     * method.\n     *\n     * Only ever called once.\n     */    _terminate() {\n        /**\n * Removes all components associated with the provided instance. Must be called\n * when the `Firestore` instance is terminated.\n */\n        return function(t) {\n            const e = ha.get(t);\n            e && (D(\"ComponentProvider\", \"Removing Datastore\"), ha.delete(t), e.terminate());\n        }(this), Promise.resolve();\n    }\n}\n\n/**\n * Modify this instance to communicate with the Cloud Firestore emulator.\n *\n * Note: This must be called before this instance has been used to do any\n * operations.\n *\n * @param firestore - The `Firestore` instance to configure to connect to the\n * emulator.\n * @param host - the emulator host (ex: localhost).\n * @param port - the emulator port (ex: 9000).\n * @param options.mockUserToken - the mock auth token to use for unit testing\n * Security Rules.\n */ function Ia(t, e, n, s = {}) {\n    var i;\n    const r = (t = ma(t, pa))._getSettings();\n    if (\"firestore.googleapis.com\" !== r.host && r.host !== e && x(\"Host has been set in both settings() and useEmulator(), emulator host will be used\"), \n    t._setSettings(Object.assign(Object.assign({}, r), {\n        host: `${e}:${n}`,\n        ssl: !1\n    })), s.mockUserToken) {\n        let e, n;\n        if (\"string\" == typeof s.mockUserToken) e = s.mockUserToken, n = b.MOCK_USER; else {\n            // Let createMockUserToken validate first (catches common mistakes like\n            // invalid field \"uid\" and missing field \"sub\" / \"user_id\".)\n            e = f(s.mockUserToken, null === (i = t._app) || void 0 === i ? void 0 : i.options.projectId);\n            const r = s.mockUserToken.sub || s.mockUserToken.user_id;\n            if (!r) throw new B($.INVALID_ARGUMENT, \"mockUserToken must contain 'sub' or 'user_id' field!\");\n            n = new b(r);\n        }\n        t._authCredentials = new K(new U(e, n));\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A `DocumentReference` refers to a document location in a Firestore database\n * and can be used to write, read, or listen to the location. The document at\n * the referenced location may or may not exist.\n */ class Ta {\n    /** @hideconstructor */\n    constructor(t, \n    /**\n     * If provided, the `FirestoreDataConverter` associated with this instance.\n     */\n    e, n) {\n        this.converter = e, this._key = n, \n        /** The type of this Firestore reference. */\n        this.type = \"document\", this.firestore = t;\n    }\n    get _path() {\n        return this._key.path;\n    }\n    /**\n     * The document's identifier within its collection.\n     */    get id() {\n        return this._key.path.lastSegment();\n    }\n    /**\n     * A string representing the path of the referenced document (relative\n     * to the root of the database).\n     */    get path() {\n        return this._key.path.canonicalString();\n    }\n    /**\n     * The collection this `DocumentReference` belongs to.\n     */    get parent() {\n        return new Aa(this.firestore, this.converter, this._key.path.popLast());\n    }\n    withConverter(t) {\n        return new Ta(this.firestore, t, this._key);\n    }\n}\n\n/**\n * A `Query` refers to a query which you can read or listen to. You can also\n * construct refined `Query` objects by adding filters and ordering.\n */ class Ea {\n    // This is the lite version of the Query class in the main SDK.\n    /** @hideconstructor protected */\n    constructor(t, \n    /**\n     * If provided, the `FirestoreDataConverter` associated with this instance.\n     */\n    e, n) {\n        this.converter = e, this._query = n, \n        /** The type of this Firestore reference. */\n        this.type = \"query\", this.firestore = t;\n    }\n    withConverter(t) {\n        return new Ea(this.firestore, t, this._query);\n    }\n}\n\n/**\n * A `CollectionReference` object can be used for adding documents, getting\n * document references, and querying for documents (using {@link query}).\n */ class Aa extends Ea {\n    /** @hideconstructor */\n    constructor(t, e, n) {\n        super(t, e, tn(n)), this._path = n, \n        /** The type of this Firestore reference. */\n        this.type = \"collection\";\n    }\n    /** The collection's identifier. */    get id() {\n        return this._query.path.lastSegment();\n    }\n    /**\n     * A string representing the path of the referenced collection (relative\n     * to the root of the database).\n     */    get path() {\n        return this._query.path.canonicalString();\n    }\n    /**\n     * A reference to the containing `DocumentReference` if this is a\n     * subcollection. If this isn't a subcollection, the reference is null.\n     */    get parent() {\n        const t = this._path.popLast();\n        return t.isEmpty() ? null : new Ta(this.firestore, \n        /* converter= */ null, new ut(t));\n    }\n    withConverter(t) {\n        return new Aa(this.firestore, t, this._path);\n    }\n}\n\nfunction Ra(t, e, ...n) {\n    if (t = d(t), la(\"collection\", \"path\", e), t instanceof pa) {\n        const s = it.fromString(e, ...n);\n        return _a(s), new Aa(t, /* converter= */ null, s);\n    }\n    {\n        if (!(t instanceof Ta || t instanceof Aa)) throw new B($.INVALID_ARGUMENT, \"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore\");\n        const s = t._path.child(it.fromString(e, ...n));\n        return _a(s), new Aa(t.firestore, \n        /* converter= */ null, s);\n    }\n}\n\n// TODO(firestorelite): Consider using ErrorFactory -\n// https://github.com/firebase/firebase-js-sdk/blob/0131e1f/packages/util/src/errors.ts#L106\n/**\n * Creates and returns a new `Query` instance that includes all documents in the\n * database that are contained in a collection or subcollection with the\n * given `collectionId`.\n *\n * @param firestore - A reference to the root `Firestore` instance.\n * @param collectionId - Identifies the collections to query over. Every\n * collection or subcollection with this ID as the last segment of its path\n * will be included. Cannot contain a slash.\n * @returns The created `Query`.\n */ function ba(t, e) {\n    if (t = ma(t, pa), la(\"collectionGroup\", \"collection id\", e), e.indexOf(\"/\") >= 0) throw new B($.INVALID_ARGUMENT, `Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);\n    return new Ea(t, \n    /* converter= */ null, \n    /**\n * Creates a new Query for a collection group query that matches all documents\n * within the provided collection group.\n */\n    function(t) {\n        return new Xe(it.emptyPath(), t);\n    }(e));\n}\n\nfunction Pa(t, e, ...n) {\n    if (t = d(t), \n    // We allow omission of 'pathString' but explicitly prohibit passing in both\n    // 'undefined' and 'null'.\n    1 === arguments.length && (e = Y.R()), la(\"doc\", \"path\", e), t instanceof pa) {\n        const s = it.fromString(e, ...n);\n        return da(s), new Ta(t, \n        /* converter= */ null, new ut(s));\n    }\n    {\n        if (!(t instanceof Ta || t instanceof Aa)) throw new B($.INVALID_ARGUMENT, \"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore\");\n        const s = t._path.child(it.fromString(e, ...n));\n        return da(s), new Ta(t.firestore, t instanceof Aa ? t.converter : null, new ut(s));\n    }\n}\n\n/**\n * Returns true if the provided references are equal.\n *\n * @param left - A reference to compare.\n * @param right - A reference to compare.\n * @returns true if the references point to the same location in the same\n * Firestore database.\n */ function va(t, e) {\n    return t = d(t), e = d(e), (t instanceof Ta || t instanceof Aa) && (e instanceof Ta || e instanceof Aa) && (t.firestore === e.firestore && t.path === e.path && t.converter === e.converter);\n}\n\n/**\n * Returns true if the provided queries point to the same collection and apply\n * the same constraints.\n *\n * @param left - A `Query` to compare.\n * @param right - A `Query` to compare.\n * @returns true if the references point to the same location in the same\n * Firestore database.\n */ function Va(t, e) {\n    return t = d(t), e = d(e), t instanceof Ea && e instanceof Ea && (t.firestore === e.firestore && an(t._query, e._query) && t.converter === e.converter);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ class Sa {\n    constructor() {\n        // The last promise in the queue.\n        this.$c = Promise.resolve(), \n        // A list of retryable operations. Retryable operations are run in order and\n        // retried with backoff.\n        this.Bc = [], \n        // Is this AsyncQueue being shut down? Once it is set to true, it will not\n        // be changed again.\n        this.Lc = !1, \n        // Operations scheduled to be queued in the future. Operations are\n        // automatically removed after they are run or canceled.\n        this.Uc = [], \n        // visible for testing\n        this.qc = null, \n        // Flag set while there's an outstanding AsyncQueue operation, used for\n        // assertion sanity-checks.\n        this.Kc = !1, \n        // Enabled during shutdown on Safari to prevent future access to IndexedDB.\n        this.Gc = !1, \n        // List of TimerIds to fast-forward delays for.\n        this.Qc = [], \n        // Backoff timer used to schedule retries for retryable operations\n        this.xo = new Zo(this, \"async_queue_retry\" /* AsyncQueueRetry */), \n        // Visibility handler that triggers an immediate retry of all retryable\n        // operations. Meant to speed up recovery when we regain file system access\n        // after page comes into foreground.\n        this.jc = () => {\n            const t = Yo();\n            t && D(\"AsyncQueue\", \"Visibility state changed to \" + t.visibilityState), this.xo.bo();\n        };\n        const t = Yo();\n        t && \"function\" == typeof t.addEventListener && t.addEventListener(\"visibilitychange\", this.jc);\n    }\n    get isShuttingDown() {\n        return this.Lc;\n    }\n    /**\n     * Adds a new operation to the queue without waiting for it to complete (i.e.\n     * we ignore the Promise result).\n     */    enqueueAndForget(t) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.enqueue(t);\n    }\n    enqueueAndForgetEvenWhileRestricted(t) {\n        this.Wc(), \n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.zc(t);\n    }\n    enterRestrictedMode(t) {\n        if (!this.Lc) {\n            this.Lc = !0, this.Gc = t || !1;\n            const e = Yo();\n            e && \"function\" == typeof e.removeEventListener && e.removeEventListener(\"visibilitychange\", this.jc);\n        }\n    }\n    enqueue(t) {\n        if (this.Wc(), this.Lc) \n        // Return a Promise which never resolves.\n        return new Promise((() => {}));\n        // Create a deferred Promise that we can return to the callee. This\n        // allows us to return a \"hanging Promise\" only to the callee and still\n        // advance the queue even when the operation is not run.\n                const e = new L;\n        return this.zc((() => this.Lc && this.Gc ? Promise.resolve() : (t().then(e.resolve, e.reject), \n        e.promise))).then((() => e.promise));\n    }\n    enqueueRetryable(t) {\n        this.enqueueAndForget((() => (this.Bc.push(t), this.Hc())));\n    }\n    /**\n     * Runs the next operation from the retryable queue. If the operation fails,\n     * reschedules with backoff.\n     */    async Hc() {\n        if (0 !== this.Bc.length) {\n            try {\n                await this.Bc[0](), this.Bc.shift(), this.xo.reset();\n            } catch (t) {\n                if (!vt(t)) throw t;\n // Failure will be handled by AsyncQueue\n                                D(\"AsyncQueue\", \"Operation failed with retryable error: \" + t);\n            }\n            this.Bc.length > 0 && \n            // If there are additional operations, we re-schedule `retryNextOp()`.\n            // This is necessary to run retryable operations that failed during\n            // their initial attempt since we don't know whether they are already\n            // enqueued. If, for example, `op1`, `op2`, `op3` are enqueued and `op1`\n            // needs to  be re-run, we will run `op1`, `op1`, `op2` using the\n            // already enqueued calls to `retryNextOp()`. `op3()` will then run in the\n            // call scheduled here.\n            // Since `backoffAndRun()` cancels an existing backoff and schedules a\n            // new backoff on every call, there is only ever a single additional\n            // operation in the queue.\n            this.xo.Ao((() => this.Hc()));\n        }\n    }\n    zc(t) {\n        const e = this.$c.then((() => (this.Kc = !0, t().catch((t => {\n            this.qc = t, this.Kc = !1;\n            const e = \n            /**\n * Chrome includes Error.message in Error.stack. Other browsers do not.\n * This returns expected output of message + stack when available.\n * @param error - Error or FirestoreError\n */\n            function(t) {\n                let e = t.message || \"\";\n                t.stack && (e = t.stack.includes(t.message) ? t.stack : t.message + \"\\n\" + t.stack);\n                return e;\n            }\n            /**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ (t);\n            // Re-throw the error so that this.tail becomes a rejected Promise and\n            // all further attempts to chain (via .then) will just short-circuit\n            // and return the rejected Promise.\n            throw C(\"INTERNAL UNHANDLED ERROR: \", e), t;\n        })).then((t => (this.Kc = !1, t))))));\n        return this.$c = e, e;\n    }\n    enqueueAfterDelay(t, e, n) {\n        this.Wc(), \n        // Fast-forward delays for timerIds that have been overriden.\n        this.Qc.indexOf(t) > -1 && (e = 0);\n        const s = ku.createAndSchedule(this, t, e, n, (t => this.Jc(t)));\n        return this.Uc.push(s), s;\n    }\n    Wc() {\n        this.qc && k();\n    }\n    verifyOperationInProgress() {}\n    /**\n     * Waits until all currently queued tasks are finished executing. Delayed\n     * operations are not run.\n     */    async Yc() {\n        // Operations in the queue prior to draining may have enqueued additional\n        // operations. Keep draining the queue until the tail is no longer advanced,\n        // which indicates that no more new operations were enqueued and that all\n        // operations were executed.\n        let t;\n        do {\n            t = this.$c, await t;\n        } while (t !== this.$c);\n    }\n    /**\n     * For Tests: Determine if a delayed operation with a particular TimerId\n     * exists.\n     */    Xc(t) {\n        for (const e of this.Uc) if (e.timerId === t) return !0;\n        return !1;\n    }\n    /**\n     * For Tests: Runs some or all delayed operations early.\n     *\n     * @param lastTimerId - Delayed operations up to and including this TimerId\n     * will be drained. Pass TimerId.All to run all delayed operations.\n     * @returns a Promise that resolves once all operations have been run.\n     */    Zc(t) {\n        // Note that draining may generate more delayed ops, so we do that first.\n        return this.Yc().then((() => {\n            // Run ops in the same order they'd run if they ran naturally.\n            this.Uc.sort(((t, e) => t.targetTimeMs - e.targetTimeMs));\n            for (const e of this.Uc) if (e.skipDelay(), \"all\" /* All */ !== t && e.timerId === t) break;\n            return this.Yc();\n        }));\n    }\n    /**\n     * For Tests: Skip all subsequent delays for a timer id.\n     */    ta(t) {\n        this.Qc.push(t);\n    }\n    /** Called once a DelayedOperation is run or canceled. */    Jc(t) {\n        // NOTE: indexOf / slice are O(n), but delayedOperations is expected to be small.\n        const e = this.Uc.indexOf(t);\n        this.Uc.splice(e, 1);\n    }\n}\n\nfunction Da(t) {\n    /**\n * Returns true if obj is an object and contains at least one of the specified\n * methods.\n */\n    return function(t, e) {\n        if (\"object\" != typeof t || null === t) return !1;\n        const n = t;\n        for (const t of e) if (t in n && \"function\" == typeof n[t]) return !0;\n        return !1;\n    }\n    /**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n    /**\n * Represents the task of loading a Firestore bundle. It provides progress of bundle\n * loading, as well as task completion and error events.\n *\n * The API is compatible with `Promise<LoadBundleTaskProgress>`.\n */ (t, [ \"next\", \"error\", \"complete\" ]);\n}\n\nclass Ca {\n    constructor() {\n        this._progressObserver = {}, this._taskCompletionResolver = new L, this._lastProgress = {\n            taskState: \"Running\",\n            totalBytes: 0,\n            totalDocuments: 0,\n            bytesLoaded: 0,\n            documentsLoaded: 0\n        };\n    }\n    /**\n     * Registers functions to listen to bundle loading progress events.\n     * @param next - Called when there is a progress update from bundle loading. Typically `next` calls occur\n     *   each time a Firestore document is loaded from the bundle.\n     * @param error - Called when an error occurs during bundle loading. The task aborts after reporting the\n     *   error, and there should be no more updates after this.\n     * @param complete - Called when the loading task is complete.\n     */    onProgress(t, e, n) {\n        this._progressObserver = {\n            next: t,\n            error: e,\n            complete: n\n        };\n    }\n    /**\n     * Implements the `Promise<LoadBundleTaskProgress>.catch` interface.\n     *\n     * @param onRejected - Called when an error occurs during bundle loading.\n     */    catch(t) {\n        return this._taskCompletionResolver.promise.catch(t);\n    }\n    /**\n     * Implements the `Promise<LoadBundleTaskProgress>.then` interface.\n     *\n     * @param onFulfilled - Called on the completion of the loading task with a final `LoadBundleTaskProgress` update.\n     *   The update will always have its `taskState` set to `\"Success\"`.\n     * @param onRejected - Called when an error occurs during bundle loading.\n     */    then(t, e) {\n        return this._taskCompletionResolver.promise.then(t, e);\n    }\n    /**\n     * Notifies all observers that bundle loading has completed, with a provided\n     * `LoadBundleTaskProgress` object.\n     *\n     * @private\n     */    _completeWith(t) {\n        this._updateProgress(t), this._progressObserver.complete && this._progressObserver.complete(), \n        this._taskCompletionResolver.resolve(t);\n    }\n    /**\n     * Notifies all observers that bundle loading has failed, with a provided\n     * `Error` as the reason.\n     *\n     * @private\n     */    _failWith(t) {\n        this._lastProgress.taskState = \"Error\", this._progressObserver.next && this._progressObserver.next(this._lastProgress), \n        this._progressObserver.error && this._progressObserver.error(t), this._taskCompletionResolver.reject(t);\n    }\n    /**\n     * Notifies a progress update of loading a bundle.\n     * @param progress - The new progress.\n     *\n     * @private\n     */    _updateProgress(t) {\n        this._lastProgress = t, this._progressObserver.next && this._progressObserver.next(t);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** DOMException error code constants. */ const xa = -1;\n\n/**\n * The Cloud Firestore service interface.\n *\n * Do not call this constructor directly. Instead, use {@link getFirestore}.\n */\nclass Na extends pa {\n    /** @hideconstructor */\n    constructor(t, e, n, s) {\n        super(t, e, n, s), \n        /**\n         * Whether it's a {@link Firestore} or Firestore Lite instance.\n         */\n        this.type = \"firestore\", this._queue = new Sa, this._persistenceKey = (null == s ? void 0 : s.name) || \"[DEFAULT]\";\n    }\n    _terminate() {\n        return this._firestoreClient || \n        // The client must be initialized to ensure that all subsequent API\n        // usage throws an exception.\n        Fa(this), this._firestoreClient.terminate();\n    }\n}\n\n/**\n * Initializes a new instance of {@link Firestore} with the provided settings.\n * Can only be called before any other function, including\n * {@link getFirestore}. If the custom settings are empty, this function is\n * equivalent to calling {@link getFirestore}.\n *\n * @param app - The {@link @firebase/app#FirebaseApp} with which the {@link Firestore} instance will\n * be associated.\n * @param settings - A settings object to configure the {@link Firestore} instance.\n * @param databaseId - The name of database.\n * @returns A newly initialized {@link Firestore} instance.\n */ function ka(t, e, n) {\n    n || (n = \"(default)\");\n    const s = _getProvider(t, \"firestore\");\n    if (s.isInitialized(n)) {\n        const t = s.getImmediate({\n            identifier: n\n        }), i = s.getOptions(n);\n        if (_(i, e)) return t;\n        throw new B($.FAILED_PRECONDITION, \"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.\");\n    }\n    if (void 0 !== e.cacheSizeBytes && -1 !== e.cacheSizeBytes && e.cacheSizeBytes < 1048576) throw new B($.INVALID_ARGUMENT, \"cacheSizeBytes must be at least 1048576\");\n    return s.initialize({\n        options: e,\n        instanceIdentifier: n\n    });\n}\n\nfunction Ma(e, n) {\n    const s = \"object\" == typeof e ? e : t(), i = \"string\" == typeof e ? e : n || \"(default)\";\n    return _getProvider(s, \"firestore\").getImmediate({\n        identifier: i\n    });\n}\n\n/**\n * @internal\n */ function Oa(t) {\n    return t._firestoreClient || Fa(t), t._firestoreClient.verifyNotTerminated(), t._firestoreClient;\n}\n\nfunction Fa(t) {\n    var e;\n    const n = t._freezeSettings(), s = function(t, e, n, s) {\n        return new te(t, e, n, s.host, s.ssl, s.experimentalForceLongPolling, s.experimentalAutoDetectLongPolling, s.useFetchStreams);\n    }(t._databaseId, (null === (e = t._app) || void 0 === e ? void 0 : e.options.appId) || \"\", t._persistenceKey, n);\n    t._firestoreClient = new Gc(t._authCredentials, t._appCheckCredentials, t._queue, s);\n}\n\n/**\n * Attempts to enable persistent storage, if possible.\n *\n * Must be called before any other functions (other than\n * {@link initializeFirestore}, {@link getFirestore} or\n * {@link clearIndexedDbPersistence}.\n *\n * If this fails, `enableIndexedDbPersistence()` will reject the promise it\n * returns. Note that even after this failure, the {@link Firestore} instance will\n * remain usable, however offline persistence will be disabled.\n *\n * There are several reasons why this can fail, which can be identified by\n * the `code` on the error.\n *\n *   * failed-precondition: The app is already open in another browser tab.\n *   * unimplemented: The browser is incompatible with the offline\n *     persistence implementation.\n *\n * @param firestore - The {@link Firestore} instance to enable persistence for.\n * @param persistenceSettings - Optional settings object to configure\n * persistence.\n * @returns A `Promise` that represents successfully enabling persistent storage.\n */ function $a(t, e) {\n    za(t = ma(t, Na));\n    const n = Oa(t), s = t._freezeSettings(), i = new $c;\n    return La(n, i, new Oc(i, s.cacheSizeBytes, null == e ? void 0 : e.forceOwnership));\n}\n\n/**\n * Attempts to enable multi-tab persistent storage, if possible. If enabled\n * across all tabs, all operations share access to local persistence, including\n * shared execution of queries and latency-compensated local document updates\n * across all connected instances.\n *\n * If this fails, `enableMultiTabIndexedDbPersistence()` will reject the promise\n * it returns. Note that even after this failure, the {@link Firestore} instance will\n * remain usable, however offline persistence will be disabled.\n *\n * There are several reasons why this can fail, which can be identified by\n * the `code` on the error.\n *\n *   * failed-precondition: The app is already open in another browser tab and\n *     multi-tab is not enabled.\n *   * unimplemented: The browser is incompatible with the offline\n *     persistence implementation.\n *\n * @param firestore - The {@link Firestore} instance to enable persistence for.\n * @returns A `Promise` that represents successfully enabling persistent\n * storage.\n */ function Ba(t) {\n    za(t = ma(t, Na));\n    const e = Oa(t), n = t._freezeSettings(), s = new $c;\n    return La(e, s, new Fc(s, n.cacheSizeBytes));\n}\n\n/**\n * Registers both the `OfflineComponentProvider` and `OnlineComponentProvider`.\n * If the operation fails with a recoverable error (see\n * `canRecoverFromIndexedDbError()` below), the returned Promise is rejected\n * but the client remains usable.\n */ function La(t, e, n) {\n    const s = new L;\n    return t.asyncQueue.enqueue((async () => {\n        try {\n            await Qc(t, n), await jc(t, e), s.resolve();\n        } catch (t) {\n            const e = t;\n            if (!\n            /**\n * Decides whether the provided error allows us to gracefully disable\n * persistence (as opposed to crashing the client).\n */\n            function(t) {\n                if (\"FirebaseError\" === t.name) return t.code === $.FAILED_PRECONDITION || t.code === $.UNIMPLEMENTED;\n                if (\"undefined\" != typeof DOMException && t instanceof DOMException) \n                // There are a few known circumstances where we can open IndexedDb but\n                // trying to read/write will fail (e.g. quota exceeded). For\n                // well-understood cases, we attempt to detect these and then gracefully\n                // fall back to memory persistence.\n                // NOTE: Rather than continue to add to this list, we could decide to\n                // always fall back, with the risk that we might accidentally hide errors\n                // representing actual SDK bugs.\n                // When the browser is out of quota we could get either quota exceeded\n                // or an aborted error depending on whether the error happened during\n                // schema migration.\n                return 22 === t.code || 20 === t.code || \n                // Firefox Private Browsing mode disables IndexedDb and returns\n                // INVALID_STATE for any usage.\n                11 === t.code;\n                return !0;\n            }\n            /**\n * Clears the persistent storage. This includes pending writes and cached\n * documents.\n *\n * Must be called while the {@link Firestore} instance is not started (after the app is\n * terminated or when the app is first initialized). On startup, this function\n * must be called before other functions (other than {@link\n * initializeFirestore} or {@link getFirestore})). If the {@link Firestore}\n * instance is still running, the promise will be rejected with the error code\n * of `failed-precondition`.\n *\n * Note: `clearIndexedDbPersistence()` is primarily intended to help write\n * reliable tests that use Cloud Firestore. It uses an efficient mechanism for\n * dropping existing data but does not attempt to securely overwrite or\n * otherwise make cached data unrecoverable. For applications that are sensitive\n * to the disclosure of cached data in between user sessions, we strongly\n * recommend not enabling persistence at all.\n *\n * @param firestore - The {@link Firestore} instance to clear persistence for.\n * @returns A `Promise` that is resolved when the persistent storage is\n * cleared. Otherwise, the promise is rejected with an error.\n */ (e)) throw e;\n            x(\"Error enabling offline persistence. Falling back to persistence disabled: \" + e), \n            s.reject(e);\n        }\n    })).then((() => s.promise));\n}\n\nfunction Ua(t) {\n    if (t._initialized && !t._terminated) throw new B($.FAILED_PRECONDITION, \"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.\");\n    const e = new L;\n    return t._queue.enqueueAndForgetEvenWhileRestricted((async () => {\n        try {\n            await async function(t) {\n                if (!Rt.C()) return Promise.resolve();\n                const e = t + \"main\";\n                await Rt.delete(e);\n            }\n            /**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n            /**\n * Compares two array for equality using comparator. The method computes the\n * intersection and invokes `onAdd` for every element that is in `after` but not\n * `before`. `onRemove` is invoked for every element in `before` but missing\n * from `after`.\n *\n * The method creates a copy of both `before` and `after` and runs in O(n log\n * n), where n is the size of the two lists.\n *\n * @param before - The elements that exist in the original array.\n * @param after - The elements to diff against the original array.\n * @param comparator - The comparator for the elements in before and after.\n * @param onAdd - A function to invoke for every element that is part of `\n * after` but not `before`.\n * @param onRemove - A function to invoke for every element that is part of\n * `before` but not `after`.\n */ (mo(t._databaseId, t._persistenceKey)), e.resolve();\n        } catch (t) {\n            e.reject(t);\n        }\n    })), e.promise;\n}\n\n/**\n * Waits until all currently pending writes for the active user have been\n * acknowledged by the backend.\n *\n * The returned promise resolves immediately if there are no outstanding writes.\n * Otherwise, the promise waits for all previously issued writes (including\n * those written in a previous app session), but it does not wait for writes\n * that were added after the function is called. If you want to wait for\n * additional writes, call `waitForPendingWrites()` again.\n *\n * Any outstanding `waitForPendingWrites()` promises are rejected during user\n * changes.\n *\n * @returns A `Promise` which resolves when all currently pending writes have been\n * acknowledged by the backend.\n */ function qa(t) {\n    return function(t) {\n        const e = new L;\n        return t.asyncQueue.enqueueAndForget((async () => fc(await Xc(t), e))), e.promise;\n    }(Oa(t = ma(t, Na)));\n}\n\n/**\n * Re-enables use of the network for this {@link Firestore} instance after a prior\n * call to {@link disableNetwork}.\n *\n * @returns A `Promise` that is resolved once the network has been enabled.\n */ function Ka(t) {\n    return ta(Oa(t = ma(t, Na)));\n}\n\n/**\n * Disables network usage for this instance. It can be re-enabled via {@link\n * enableNetwork}. While the network is disabled, any snapshot listeners,\n * `getDoc()` or `getDocs()` calls will return results from cache, and any write\n * operations will be queued until the network is restored.\n *\n * @returns A `Promise` that is resolved once the network has been disabled.\n */ function Ga(t) {\n    return ea(Oa(t = ma(t, Na)));\n}\n\n/**\n * Terminates the provided {@link Firestore} instance.\n *\n * After calling `terminate()` only the `clearIndexedDbPersistence()` function\n * may be used. Any other function will throw a `FirestoreError`.\n *\n * To restart after termination, create a new instance of FirebaseFirestore with\n * {@link getFirestore}.\n *\n * Termination does not cancel any pending writes, and any promises that are\n * awaiting a response from the server will not be resolved. If you have\n * persistence enabled, the next time you start this instance, it will resume\n * sending these writes to the server.\n *\n * Note: Under normal circumstances, calling `terminate()` is not required. This\n * function is useful only when you want to force this instance to release all\n * of its resources or in combination with `clearIndexedDbPersistence()` to\n * ensure that all local state is destroyed between test runs.\n *\n * @returns A `Promise` that is resolved when the instance has been successfully\n * terminated.\n */ function Qa(t) {\n    return e(t.app, \"firestore\", t._databaseId.database), t._delete();\n}\n\n/**\n * Loads a Firestore bundle into the local cache.\n *\n * @param firestore - The {@link Firestore} instance to load bundles for.\n * @param bundleData - An object representing the bundle to be loaded. Valid\n * objects are `ArrayBuffer`, `ReadableStream<Uint8Array>` or `string`.\n *\n * @returns A `LoadBundleTask` object, which notifies callers with progress\n * updates, and completion or error events. It can be used as a\n * `Promise<LoadBundleTaskProgress>`.\n */ function ja(t, e) {\n    const n = Oa(t = ma(t, Na)), s = new Ca;\n    return ca(n, t._databaseId, e, s), s;\n}\n\n/**\n * Reads a Firestore {@link Query} from local cache, identified by the given\n * name.\n *\n * The named queries are packaged  into bundles on the server side (along\n * with resulting documents), and loaded to local cache using `loadBundle`. Once\n * in local cache, use this method to extract a {@link Query} by name.\n *\n * @param firestore - The {@link Firestore} instance to read the query from.\n * @param name - The name of the query.\n * @returns A `Promise` that is resolved with the Query or `null`.\n */ function Wa(t, e) {\n    return aa(Oa(t = ma(t, Na)), e).then((e => e ? new Ea(t, null, e.query) : null));\n}\n\nfunction za(t) {\n    if (t._initialized || t._terminated) throw new B($.FAILED_PRECONDITION, \"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.\");\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A `FieldPath` refers to a field in a document. The path may consist of a\n * single field name (referring to a top-level field in the document), or a\n * list of field names (referring to a nested field in the document).\n *\n * Create a `FieldPath` by providing field names. If more than one field\n * name is provided, the path will point to a nested field in a document.\n */\nclass Ha {\n    /**\n     * Creates a `FieldPath` from the provided field names. If more than one field\n     * name is provided, the path will point to a nested field in a document.\n     *\n     * @param fieldNames - A list of field names.\n     */\n    constructor(...t) {\n        for (let e = 0; e < t.length; ++e) if (0 === t[e].length) throw new B($.INVALID_ARGUMENT, \"Invalid field name at argument $(i + 1). Field names must not be empty.\");\n        this._internalPath = new ot(t);\n    }\n    /**\n     * Returns true if this `FieldPath` is equal to the provided one.\n     *\n     * @param other - The `FieldPath` to compare against.\n     * @returns true if this `FieldPath` is equal to the provided one.\n     */    isEqual(t) {\n        return this._internalPath.isEqual(t._internalPath);\n    }\n}\n\n/**\n * Returns a special sentinel `FieldPath` to refer to the ID of a document.\n * It can be used in queries to sort or filter by the document ID.\n */ function Ja() {\n    return new Ha(\"__name__\");\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An immutable object representing an array of bytes.\n */ class Ya {\n    /** @hideconstructor */\n    constructor(t) {\n        this._byteString = t;\n    }\n    /**\n     * Creates a new `Bytes` object from the given Base64 string, converting it to\n     * bytes.\n     *\n     * @param base64 - The Base64 string used to create the `Bytes` object.\n     */    static fromBase64String(t) {\n        try {\n            return new Ya(jt.fromBase64String(t));\n        } catch (t) {\n            throw new B($.INVALID_ARGUMENT, \"Failed to construct data from Base64 string: \" + t);\n        }\n    }\n    /**\n     * Creates a new `Bytes` object from the given Uint8Array.\n     *\n     * @param array - The Uint8Array used to create the `Bytes` object.\n     */    static fromUint8Array(t) {\n        return new Ya(jt.fromUint8Array(t));\n    }\n    /**\n     * Returns the underlying bytes as a Base64-encoded string.\n     *\n     * @returns The Base64-encoded string created from the `Bytes` object.\n     */    toBase64() {\n        return this._byteString.toBase64();\n    }\n    /**\n     * Returns the underlying bytes in a new `Uint8Array`.\n     *\n     * @returns The Uint8Array created from the `Bytes` object.\n     */    toUint8Array() {\n        return this._byteString.toUint8Array();\n    }\n    /**\n     * Returns a string representation of the `Bytes` object.\n     *\n     * @returns A string representation of the `Bytes` object.\n     */    toString() {\n        return \"Bytes(base64: \" + this.toBase64() + \")\";\n    }\n    /**\n     * Returns true if this `Bytes` object is equal to the provided one.\n     *\n     * @param other - The `Bytes` object to compare against.\n     * @returns true if this `Bytes` object is equal to the provided one.\n     */    isEqual(t) {\n        return this._byteString.isEqual(t._byteString);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Sentinel values that can be used when writing document fields with `set()`\n * or `update()`.\n */ class Xa {\n    /**\n     * @param _methodName - The public API endpoint that returns this class.\n     * @hideconstructor\n     */\n    constructor(t) {\n        this._methodName = t;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An immutable object representing a geographic location in Firestore. The\n * location is represented as latitude/longitude pair.\n *\n * Latitude values are in the range of [-90, 90].\n * Longitude values are in the range of [-180, 180].\n */ class Za {\n    /**\n     * Creates a new immutable `GeoPoint` object with the provided latitude and\n     * longitude values.\n     * @param latitude - The latitude as number between -90 and 90.\n     * @param longitude - The longitude as number between -180 and 180.\n     */\n    constructor(t, e) {\n        if (!isFinite(t) || t < -90 || t > 90) throw new B($.INVALID_ARGUMENT, \"Latitude must be a number between -90 and 90, but was: \" + t);\n        if (!isFinite(e) || e < -180 || e > 180) throw new B($.INVALID_ARGUMENT, \"Longitude must be a number between -180 and 180, but was: \" + e);\n        this._lat = t, this._long = e;\n    }\n    /**\n     * The latitude of this `GeoPoint` instance.\n     */    get latitude() {\n        return this._lat;\n    }\n    /**\n     * The longitude of this `GeoPoint` instance.\n     */    get longitude() {\n        return this._long;\n    }\n    /**\n     * Returns true if this `GeoPoint` is equal to the provided one.\n     *\n     * @param other - The `GeoPoint` to compare against.\n     * @returns true if this `GeoPoint` is equal to the provided one.\n     */    isEqual(t) {\n        return this._lat === t._lat && this._long === t._long;\n    }\n    /** Returns a JSON-serializable representation of this GeoPoint. */    toJSON() {\n        return {\n            latitude: this._lat,\n            longitude: this._long\n        };\n    }\n    /**\n     * Actually private to JS consumers of our API, so this function is prefixed\n     * with an underscore.\n     */    _compareTo(t) {\n        return X(this._lat, t._lat) || X(this._long, t._long);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const th = /^__.*__$/;\n\n/** The result of parsing document data (e.g. for a setData call). */ class eh {\n    constructor(t, e, n) {\n        this.data = t, this.fieldMask = e, this.fieldTransforms = n;\n    }\n    toMutation(t, e) {\n        return null !== this.fieldMask ? new Kn(t, this.data, this.fieldMask, e, this.fieldTransforms) : new qn(t, this.data, e, this.fieldTransforms);\n    }\n}\n\n/** The result of parsing \"update\" data (i.e. for an updateData call). */ class nh {\n    constructor(t, \n    // The fieldMask does not include document transforms.\n    e, n) {\n        this.data = t, this.fieldMask = e, this.fieldTransforms = n;\n    }\n    toMutation(t, e) {\n        return new Kn(t, this.data, this.fieldMask, e, this.fieldTransforms);\n    }\n}\n\nfunction sh(t) {\n    switch (t) {\n      case 0 /* Set */ :\n // fall through\n              case 2 /* MergeSet */ :\n // fall through\n              case 1 /* Update */ :\n        return !0;\n\n      case 3 /* Argument */ :\n      case 4 /* ArrayArgument */ :\n        return !1;\n\n      default:\n        throw k();\n    }\n}\n\n/** A \"context\" object passed around while parsing user data. */ class ih {\n    /**\n     * Initializes a ParseContext with the given source and path.\n     *\n     * @param settings - The settings for the parser.\n     * @param databaseId - The database ID of the Firestore instance.\n     * @param serializer - The serializer to use to generate the Value proto.\n     * @param ignoreUndefinedProperties - Whether to ignore undefined properties\n     * rather than throw.\n     * @param fieldTransforms - A mutable list of field transforms encountered\n     * while parsing the data.\n     * @param fieldMask - A mutable list of field paths encountered while parsing\n     * the data.\n     *\n     * TODO(b/34871131): We don't support array paths right now, so path can be\n     * null to indicate the context represents any location within an array (in\n     * which case certain features will not work and errors will be somewhat\n     * compromised).\n     */\n    constructor(t, e, n, s, i, r) {\n        this.settings = t, this.databaseId = e, this.It = n, this.ignoreUndefinedProperties = s, \n        // Minor hack: If fieldTransforms is undefined, we assume this is an\n        // external call and we need to validate the entire path.\n        void 0 === i && this.ea(), this.fieldTransforms = i || [], this.fieldMask = r || [];\n    }\n    get path() {\n        return this.settings.path;\n    }\n    get na() {\n        return this.settings.na;\n    }\n    /** Returns a new context with the specified settings overwritten. */    sa(t) {\n        return new ih(Object.assign(Object.assign({}, this.settings), t), this.databaseId, this.It, this.ignoreUndefinedProperties, this.fieldTransforms, this.fieldMask);\n    }\n    ia(t) {\n        var e;\n        const n = null === (e = this.path) || void 0 === e ? void 0 : e.child(t), s = this.sa({\n            path: n,\n            ra: !1\n        });\n        return s.oa(t), s;\n    }\n    ua(t) {\n        var e;\n        const n = null === (e = this.path) || void 0 === e ? void 0 : e.child(t), s = this.sa({\n            path: n,\n            ra: !1\n        });\n        return s.ea(), s;\n    }\n    ca(t) {\n        // TODO(b/34871131): We don't support array paths right now; so make path\n        // undefined.\n        return this.sa({\n            path: void 0,\n            ra: !0\n        });\n    }\n    aa(t) {\n        return Rh(t, this.settings.methodName, this.settings.ha || !1, this.path, this.settings.la);\n    }\n    /** Returns 'true' if 'fieldPath' was traversed when creating this context. */    contains(t) {\n        return void 0 !== this.fieldMask.find((e => t.isPrefixOf(e))) || void 0 !== this.fieldTransforms.find((e => t.isPrefixOf(e.field)));\n    }\n    ea() {\n        // TODO(b/34871131): Remove null check once we have proper paths for fields\n        // within arrays.\n        if (this.path) for (let t = 0; t < this.path.length; t++) this.oa(this.path.get(t));\n    }\n    oa(t) {\n        if (0 === t.length) throw this.aa(\"Document fields must not be empty\");\n        if (sh(this.na) && th.test(t)) throw this.aa('Document fields cannot begin and end with \"__\"');\n    }\n}\n\n/**\n * Helper for parsing raw user input (provided via the API) into internal model\n * classes.\n */ class rh {\n    constructor(t, e, n) {\n        this.databaseId = t, this.ignoreUndefinedProperties = e, this.It = n || Xo(t);\n    }\n    /** Creates a new top-level parse context. */    fa(t, e, n, s = !1) {\n        return new ih({\n            na: t,\n            methodName: e,\n            la: n,\n            path: ot.emptyPath(),\n            ra: !1,\n            ha: s\n        }, this.databaseId, this.It, this.ignoreUndefinedProperties);\n    }\n}\n\nfunction oh(t) {\n    const e = t._freezeSettings(), n = Xo(t._databaseId);\n    return new rh(t._databaseId, !!e.ignoreUndefinedProperties, n);\n}\n\n/** Parse document data from a set() call. */ function uh(t, e, n, s, i, r = {}) {\n    const o = t.fa(r.merge || r.mergeFields ? 2 /* MergeSet */ : 0 /* Set */ , e, n, i);\n    Ih(\"Data must be an object, but it was:\", o, s);\n    const u = yh(s, o);\n    let c, a;\n    if (r.merge) c = new Gt(o.fieldMask), a = o.fieldTransforms; else if (r.mergeFields) {\n        const t = [];\n        for (const s of r.mergeFields) {\n            const i = Th(e, s, n);\n            if (!o.contains(i)) throw new B($.INVALID_ARGUMENT, `Field '${i}' is specified in your field mask but missing from your input data.`);\n            bh(t, i) || t.push(i);\n        }\n        c = new Gt(t), a = o.fieldTransforms.filter((t => c.covers(t.field)));\n    } else c = null, a = o.fieldTransforms;\n    return new eh(new Pe(u), c, a);\n}\n\nclass ch extends Xa {\n    _toFieldTransform(t) {\n        if (2 /* MergeSet */ !== t.na) throw 1 /* Update */ === t.na ? t.aa(`${this._methodName}() can only appear at the top level of your update data`) : t.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);\n        // No transform to add for a delete, but we need to add it to our\n        // fieldMask so it gets deleted.\n        return t.fieldMask.push(t.path), null;\n    }\n    isEqual(t) {\n        return t instanceof ch;\n    }\n}\n\n/**\n * Creates a child context for parsing SerializableFieldValues.\n *\n * This is different than calling `ParseContext.contextWith` because it keeps\n * the fieldTransforms and fieldMask separate.\n *\n * The created context has its `dataSource` set to `UserDataSource.Argument`.\n * Although these values are used with writes, any elements in these FieldValues\n * are not considered writes since they cannot contain any FieldValue sentinels,\n * etc.\n *\n * @param fieldValue - The sentinel FieldValue for which to create a child\n *     context.\n * @param context - The parent context.\n * @param arrayElement - Whether or not the FieldValue has an array.\n */ function ah(t, e, n) {\n    return new ih({\n        na: 3 /* Argument */ ,\n        la: e.settings.la,\n        methodName: t._methodName,\n        ra: n\n    }, e.databaseId, e.It, e.ignoreUndefinedProperties);\n}\n\nclass hh extends Xa {\n    _toFieldTransform(t) {\n        return new Cn(t.path, new An);\n    }\n    isEqual(t) {\n        return t instanceof hh;\n    }\n}\n\nclass lh extends Xa {\n    constructor(t, e) {\n        super(t), this.da = e;\n    }\n    _toFieldTransform(t) {\n        const e = ah(this, t, \n        /*array=*/ !0), n = this.da.map((t => gh(t, e))), s = new Rn(n);\n        return new Cn(t.path, s);\n    }\n    isEqual(t) {\n        // TODO(mrschmidt): Implement isEquals\n        return this === t;\n    }\n}\n\nclass fh extends Xa {\n    constructor(t, e) {\n        super(t), this.da = e;\n    }\n    _toFieldTransform(t) {\n        const e = ah(this, t, \n        /*array=*/ !0), n = this.da.map((t => gh(t, e))), s = new Pn(n);\n        return new Cn(t.path, s);\n    }\n    isEqual(t) {\n        // TODO(mrschmidt): Implement isEquals\n        return this === t;\n    }\n}\n\nclass dh extends Xa {\n    constructor(t, e) {\n        super(t), this._a = e;\n    }\n    _toFieldTransform(t) {\n        const e = new Vn(t.It, yn(t.It, this._a));\n        return new Cn(t.path, e);\n    }\n    isEqual(t) {\n        // TODO(mrschmidt): Implement isEquals\n        return this === t;\n    }\n}\n\n/** Parse update data from an update() call. */ function _h(t, e, n, s) {\n    const i = t.fa(1 /* Update */ , e, n);\n    Ih(\"Data must be an object, but it was:\", i, s);\n    const r = [], o = Pe.empty();\n    Ot(s, ((t, s) => {\n        const u = Ah(e, t, n);\n        // For Compat types, we have to \"extract\" the underlying types before\n        // performing validation.\n                s = d(s);\n        const c = i.ua(u);\n        if (s instanceof ch) \n        // Add it to the field mask, but don't add anything to updateData.\n        r.push(u); else {\n            const t = gh(s, c);\n            null != t && (r.push(u), o.set(u, t));\n        }\n    }));\n    const u = new Gt(r);\n    return new nh(o, u, i.fieldTransforms);\n}\n\n/** Parse update data from a list of field/value arguments. */ function wh(t, e, n, s, i, r) {\n    const o = t.fa(1 /* Update */ , e, n), u = [ Th(e, s, n) ], c = [ i ];\n    if (r.length % 2 != 0) throw new B($.INVALID_ARGUMENT, `Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);\n    for (let t = 0; t < r.length; t += 2) u.push(Th(e, r[t])), c.push(r[t + 1]);\n    const a = [], h = Pe.empty();\n    // We iterate in reverse order to pick the last value for a field if the\n    // user specified the field multiple times.\n    for (let t = u.length - 1; t >= 0; --t) if (!bh(a, u[t])) {\n        const e = u[t];\n        let n = c[t];\n        // For Compat types, we have to \"extract\" the underlying types before\n        // performing validation.\n                n = d(n);\n        const s = o.ua(e);\n        if (n instanceof ch) \n        // Add it to the field mask, but don't add anything to updateData.\n        a.push(e); else {\n            const t = gh(n, s);\n            null != t && (a.push(e), h.set(e, t));\n        }\n    }\n    const l = new Gt(a);\n    return new nh(h, l, o.fieldTransforms);\n}\n\n/**\n * Parse a \"query value\" (e.g. value in a where filter or a value in a cursor\n * bound).\n *\n * @param allowArrays - Whether the query value is an array that may directly\n * contain additional arrays (e.g. the operand of an `in` query).\n */ function mh(t, e, n, s = !1) {\n    return gh(n, t.fa(s ? 4 /* ArrayArgument */ : 3 /* Argument */ , e));\n}\n\n/**\n * Parses user data to Protobuf Values.\n *\n * @param input - Data to be parsed.\n * @param context - A context object representing the current path being parsed,\n * the source of the data being parsed, etc.\n * @returns The parsed value, or null if the value was a FieldValue sentinel\n * that should not be included in the resulting parsed data.\n */ function gh(t, e) {\n    if (ph(\n    // Unwrap the API type from the Compat SDK. This will return the API type\n    // from firestore-exp.\n    t = d(t))) return Ih(\"Unsupported field value:\", e, t), yh(t, e);\n    if (t instanceof Xa) \n    // FieldValues usually parse into transforms (except deleteField())\n    // in which case we do not want to include this field in our parsed data\n    // (as doing so will overwrite the field directly prior to the transform\n    // trying to transform it). So we don't add this location to\n    // context.fieldMask and we return null as our parsing result.\n    /**\n * \"Parses\" the provided FieldValueImpl, adding any necessary transforms to\n * context.fieldTransforms.\n */\n    return function(t, e) {\n        // Sentinels are only supported with writes, and not within arrays.\n        if (!sh(e.na)) throw e.aa(`${t._methodName}() can only be used with update() and set()`);\n        if (!e.path) throw e.aa(`${t._methodName}() is not currently supported inside arrays`);\n        const n = t._toFieldTransform(e);\n        n && e.fieldTransforms.push(n);\n    }\n    /**\n * Helper to parse a scalar value (i.e. not an Object, Array, or FieldValue)\n *\n * @returns The parsed value\n */ (t, e), null;\n    if (void 0 === t && e.ignoreUndefinedProperties) \n    // If the input is undefined it can never participate in the fieldMask, so\n    // don't handle this below. If `ignoreUndefinedProperties` is false,\n    // `parseScalarValue` will reject an undefined value.\n    return null;\n    if (\n    // If context.path is null we are inside an array and we don't support\n    // field mask paths more granular than the top-level array.\n    e.path && e.fieldMask.push(e.path), t instanceof Array) {\n        // TODO(b/34871131): Include the path containing the array in the error\n        // message.\n        // In the case of IN queries, the parsed data is an array (representing\n        // the set of values to be included for the IN query) that may directly\n        // contain additional arrays (each representing an individual field\n        // value), so we disable this validation.\n        if (e.settings.ra && 4 /* ArrayArgument */ !== e.na) throw e.aa(\"Nested arrays are not supported\");\n        return function(t, e) {\n            const n = [];\n            let s = 0;\n            for (const i of t) {\n                let t = gh(i, e.ca(s));\n                null == t && (\n                // Just include nulls in the array for fields being replaced with a\n                // sentinel.\n                t = {\n                    nullValue: \"NULL_VALUE\"\n                }), n.push(t), s++;\n            }\n            return {\n                arrayValue: {\n                    values: n\n                }\n            };\n        }(t, e);\n    }\n    return function(t, e) {\n        if (null === (t = d(t))) return {\n            nullValue: \"NULL_VALUE\"\n        };\n        if (\"number\" == typeof t) return yn(e.It, t);\n        if (\"boolean\" == typeof t) return {\n            booleanValue: t\n        };\n        if (\"string\" == typeof t) return {\n            stringValue: t\n        };\n        if (t instanceof Date) {\n            const n = et.fromDate(t);\n            return {\n                timestampValue: Ps(e.It, n)\n            };\n        }\n        if (t instanceof et) {\n            // Firestore backend truncates precision down to microseconds. To ensure\n            // offline mode works the same with regards to truncation, perform the\n            // truncation immediately without waiting for the backend to do that.\n            const n = new et(t.seconds, 1e3 * Math.floor(t.nanoseconds / 1e3));\n            return {\n                timestampValue: Ps(e.It, n)\n            };\n        }\n        if (t instanceof Za) return {\n            geoPointValue: {\n                latitude: t.latitude,\n                longitude: t.longitude\n            }\n        };\n        if (t instanceof Ya) return {\n            bytesValue: vs(e.It, t._byteString)\n        };\n        if (t instanceof Ta) {\n            const n = e.databaseId, s = t.firestore._databaseId;\n            if (!s.isEqual(n)) throw e.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${n.projectId}/${n.database}`);\n            return {\n                referenceValue: Ds(t.firestore._databaseId || e.databaseId, t._key.path)\n            };\n        }\n        throw e.aa(`Unsupported field value: ${wa(t)}`);\n    }\n    /**\n * Checks whether an object looks like a JSON object that should be converted\n * into a struct. Normal class/prototype instances are considered to look like\n * JSON objects since they should be converted to a struct value. Arrays, Dates,\n * GeoPoints, etc. are not considered to look like JSON objects since they map\n * to specific FieldValue types other than ObjectValue.\n */ (t, e);\n}\n\nfunction yh(t, e) {\n    const n = {};\n    return Ft(t) ? \n    // If we encounter an empty object, we explicitly add it to the update\n    // mask to ensure that the server creates a map entry.\n    e.path && e.path.length > 0 && e.fieldMask.push(e.path) : Ot(t, ((t, s) => {\n        const i = gh(s, e.ia(t));\n        null != i && (n[t] = i);\n    })), {\n        mapValue: {\n            fields: n\n        }\n    };\n}\n\nfunction ph(t) {\n    return !(\"object\" != typeof t || null === t || t instanceof Array || t instanceof Date || t instanceof et || t instanceof Za || t instanceof Ya || t instanceof Ta || t instanceof Xa);\n}\n\nfunction Ih(t, e, n) {\n    if (!ph(n) || !function(t) {\n        return \"object\" == typeof t && null !== t && (Object.getPrototypeOf(t) === Object.prototype || null === Object.getPrototypeOf(t));\n    }(n)) {\n        const s = wa(n);\n        throw \"an object\" === s ? e.aa(t + \" a custom object\") : e.aa(t + \" \" + s);\n    }\n}\n\n/**\n * Helper that calls fromDotSeparatedString() but wraps any error thrown.\n */ function Th(t, e, n) {\n    if ((\n    // If required, replace the FieldPath Compat class with with the firestore-exp\n    // FieldPath.\n    e = d(e)) instanceof Ha) return e._internalPath;\n    if (\"string\" == typeof e) return Ah(t, e);\n    throw Rh(\"Field path arguments must be of type string or \", t, \n    /* hasConverter= */ !1, \n    /* path= */ void 0, n);\n}\n\n/**\n * Matches any characters in a field path string that are reserved.\n */ const Eh = new RegExp(\"[~\\\\*/\\\\[\\\\]]\");\n\n/**\n * Wraps fromDotSeparatedString with an error message about the method that\n * was thrown.\n * @param methodName - The publicly visible method name\n * @param path - The dot-separated string form of a field path which will be\n * split on dots.\n * @param targetDoc - The document against which the field path will be\n * evaluated.\n */ function Ah(t, e, n) {\n    if (e.search(Eh) >= 0) throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`, t, \n    /* hasConverter= */ !1, \n    /* path= */ void 0, n);\n    try {\n        return new Ha(...e.split(\".\"))._internalPath;\n    } catch (s) {\n        throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`, t, \n        /* hasConverter= */ !1, \n        /* path= */ void 0, n);\n    }\n}\n\nfunction Rh(t, e, n, s, i) {\n    const r = s && !s.isEmpty(), o = void 0 !== i;\n    let u = `Function ${e}() called with invalid data`;\n    n && (u += \" (via `toFirestore()`)\"), u += \". \";\n    let c = \"\";\n    return (r || o) && (c += \" (found\", r && (c += ` in field ${s}`), o && (c += ` in document ${i}`), \n    c += \")\"), new B($.INVALID_ARGUMENT, u + t + c);\n}\n\n/** Checks `haystack` if FieldPath `needle` is present. Runs in O(n). */ function bh(t, e) {\n    return t.some((t => t.isEqual(e)));\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A `DocumentSnapshot` contains data read from a document in your Firestore\n * database. The data can be extracted with `.data()` or `.get(<field>)` to\n * get a specific field.\n *\n * For a `DocumentSnapshot` that points to a non-existing document, any data\n * access will return 'undefined'. You can use the `exists()` method to\n * explicitly verify a document's existence.\n */ class Ph {\n    // Note: This class is stripped down version of the DocumentSnapshot in\n    // the legacy SDK. The changes are:\n    // - No support for SnapshotMetadata.\n    // - No support for SnapshotOptions.\n    /** @hideconstructor protected */\n    constructor(t, e, n, s, i) {\n        this._firestore = t, this._userDataWriter = e, this._key = n, this._document = s, \n        this._converter = i;\n    }\n    /** Property of the `DocumentSnapshot` that provides the document's ID. */    get id() {\n        return this._key.path.lastSegment();\n    }\n    /**\n     * The `DocumentReference` for the document included in the `DocumentSnapshot`.\n     */    get ref() {\n        return new Ta(this._firestore, this._converter, this._key);\n    }\n    /**\n     * Signals whether or not the document at the snapshot's location exists.\n     *\n     * @returns true if the document exists.\n     */    exists() {\n        return null !== this._document;\n    }\n    /**\n     * Retrieves all fields in the document as an `Object`. Returns `undefined` if\n     * the document doesn't exist.\n     *\n     * @returns An `Object` containing all fields in the document or `undefined`\n     * if the document doesn't exist.\n     */    data() {\n        if (this._document) {\n            if (this._converter) {\n                // We only want to use the converter and create a new DocumentSnapshot\n                // if a converter has been provided.\n                const t = new vh(this._firestore, this._userDataWriter, this._key, this._document, \n                /* converter= */ null);\n                return this._converter.fromFirestore(t);\n            }\n            return this._userDataWriter.convertValue(this._document.data.value);\n        }\n    }\n    /**\n     * Retrieves the field specified by `fieldPath`. Returns `undefined` if the\n     * document or field doesn't exist.\n     *\n     * @param fieldPath - The path (for example 'foo' or 'foo.bar') to a specific\n     * field.\n     * @returns The data at the specified field location or undefined if no such\n     * field exists in the document.\n     */\n    // We are using `any` here to avoid an explicit cast by our users.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get(t) {\n        if (this._document) {\n            const e = this._document.data.field(Vh(\"DocumentSnapshot.get\", t));\n            if (null !== e) return this._userDataWriter.convertValue(e);\n        }\n    }\n}\n\n/**\n * A `QueryDocumentSnapshot` contains data read from a document in your\n * Firestore database as part of a query. The document is guaranteed to exist\n * and its data can be extracted with `.data()` or `.get(<field>)` to get a\n * specific field.\n *\n * A `QueryDocumentSnapshot` offers the same API surface as a\n * `DocumentSnapshot`. Since query results contain only existing documents, the\n * `exists` property will always be true and `data()` will never return\n * 'undefined'.\n */ class vh extends Ph {\n    /**\n     * Retrieves all fields in the document as an `Object`.\n     *\n     * @override\n     * @returns An `Object` containing all fields in the document.\n     */\n    data() {\n        return super.data();\n    }\n}\n\n/**\n * Helper that calls `fromDotSeparatedString()` but wraps any error thrown.\n */ function Vh(t, e) {\n    return \"string\" == typeof e ? Ah(t, e) : e instanceof Ha ? e._internalPath : e._delegate._internalPath;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Metadata about a snapshot, describing the state of the snapshot.\n */ class Sh {\n    /** @hideconstructor */\n    constructor(t, e) {\n        this.hasPendingWrites = t, this.fromCache = e;\n    }\n    /**\n     * Returns true if this `SnapshotMetadata` is equal to the provided one.\n     *\n     * @param other - The `SnapshotMetadata` to compare against.\n     * @returns true if this `SnapshotMetadata` is equal to the provided one.\n     */    isEqual(t) {\n        return this.hasPendingWrites === t.hasPendingWrites && this.fromCache === t.fromCache;\n    }\n}\n\n/**\n * A `DocumentSnapshot` contains data read from a document in your Firestore\n * database. The data can be extracted with `.data()` or `.get(<field>)` to\n * get a specific field.\n *\n * For a `DocumentSnapshot` that points to a non-existing document, any data\n * access will return 'undefined'. You can use the `exists()` method to\n * explicitly verify a document's existence.\n */ class Dh extends Ph {\n    /** @hideconstructor protected */\n    constructor(t, e, n, s, i, r) {\n        super(t, e, n, s, r), this._firestore = t, this._firestoreImpl = t, this.metadata = i;\n    }\n    /**\n     * Returns whether or not the data exists. True if the document exists.\n     */    exists() {\n        return super.exists();\n    }\n    /**\n     * Retrieves all fields in the document as an `Object`. Returns `undefined` if\n     * the document doesn't exist.\n     *\n     * By default, `serverTimestamp()` values that have not yet been\n     * set to their final value will be returned as `null`. You can override\n     * this by passing an options object.\n     *\n     * @param options - An options object to configure how data is retrieved from\n     * the snapshot (for example the desired behavior for server timestamps that\n     * have not yet been set to their final value).\n     * @returns An `Object` containing all fields in the document or `undefined` if\n     * the document doesn't exist.\n     */    data(t = {}) {\n        if (this._document) {\n            if (this._converter) {\n                // We only want to use the converter and create a new DocumentSnapshot\n                // if a converter has been provided.\n                const e = new Ch(this._firestore, this._userDataWriter, this._key, this._document, this.metadata, \n                /* converter= */ null);\n                return this._converter.fromFirestore(e, t);\n            }\n            return this._userDataWriter.convertValue(this._document.data.value, t.serverTimestamps);\n        }\n    }\n    /**\n     * Retrieves the field specified by `fieldPath`. Returns `undefined` if the\n     * document or field doesn't exist.\n     *\n     * By default, a `serverTimestamp()` that has not yet been set to\n     * its final value will be returned as `null`. You can override this by\n     * passing an options object.\n     *\n     * @param fieldPath - The path (for example 'foo' or 'foo.bar') to a specific\n     * field.\n     * @param options - An options object to configure how the field is retrieved\n     * from the snapshot (for example the desired behavior for server timestamps\n     * that have not yet been set to their final value).\n     * @returns The data at the specified field location or undefined if no such\n     * field exists in the document.\n     */\n    // We are using `any` here to avoid an explicit cast by our users.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get(t, e = {}) {\n        if (this._document) {\n            const n = this._document.data.field(Vh(\"DocumentSnapshot.get\", t));\n            if (null !== n) return this._userDataWriter.convertValue(n, e.serverTimestamps);\n        }\n    }\n}\n\n/**\n * A `QueryDocumentSnapshot` contains data read from a document in your\n * Firestore database as part of a query. The document is guaranteed to exist\n * and its data can be extracted with `.data()` or `.get(<field>)` to get a\n * specific field.\n *\n * A `QueryDocumentSnapshot` offers the same API surface as a\n * `DocumentSnapshot`. Since query results contain only existing documents, the\n * `exists` property will always be true and `data()` will never return\n * 'undefined'.\n */ class Ch extends Dh {\n    /**\n     * Retrieves all fields in the document as an `Object`.\n     *\n     * By default, `serverTimestamp()` values that have not yet been\n     * set to their final value will be returned as `null`. You can override\n     * this by passing an options object.\n     *\n     * @override\n     * @param options - An options object to configure how data is retrieved from\n     * the snapshot (for example the desired behavior for server timestamps that\n     * have not yet been set to their final value).\n     * @returns An `Object` containing all fields in the document.\n     */\n    data(t = {}) {\n        return super.data(t);\n    }\n}\n\n/**\n * A `QuerySnapshot` contains zero or more `DocumentSnapshot` objects\n * representing the results of a query. The documents can be accessed as an\n * array via the `docs` property or enumerated using the `forEach` method. The\n * number of documents can be determined via the `empty` and `size`\n * properties.\n */ class xh {\n    /** @hideconstructor */\n    constructor(t, e, n, s) {\n        this._firestore = t, this._userDataWriter = e, this._snapshot = s, this.metadata = new Sh(s.hasPendingWrites, s.fromCache), \n        this.query = n;\n    }\n    /** An array of all the documents in the `QuerySnapshot`. */    get docs() {\n        const t = [];\n        return this.forEach((e => t.push(e))), t;\n    }\n    /** The number of documents in the `QuerySnapshot`. */    get size() {\n        return this._snapshot.docs.size;\n    }\n    /** True if there are no documents in the `QuerySnapshot`. */    get empty() {\n        return 0 === this.size;\n    }\n    /**\n     * Enumerates all of the documents in the `QuerySnapshot`.\n     *\n     * @param callback - A callback to be called with a `QueryDocumentSnapshot` for\n     * each document in the snapshot.\n     * @param thisArg - The `this` binding for the callback.\n     */    forEach(t, e) {\n        this._snapshot.docs.forEach((n => {\n            t.call(e, new Ch(this._firestore, this._userDataWriter, n.key, n, new Sh(this._snapshot.mutatedKeys.has(n.key), this._snapshot.fromCache), this.query.converter));\n        }));\n    }\n    /**\n     * Returns an array of the documents changes since the last snapshot. If this\n     * is the first snapshot, all documents will be in the list as 'added'\n     * changes.\n     *\n     * @param options - `SnapshotListenOptions` that control whether metadata-only\n     * changes (i.e. only `DocumentSnapshot.metadata` changed) should trigger\n     * snapshot events.\n     */    docChanges(t = {}) {\n        const e = !!t.includeMetadataChanges;\n        if (e && this._snapshot.excludesMetadataChanges) throw new B($.INVALID_ARGUMENT, \"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");\n        return this._cachedChanges && this._cachedChangesIncludeMetadataChanges === e || (this._cachedChanges = \n        /** Calculates the array of `DocumentChange`s for a given `ViewSnapshot`. */\n        function(t, e) {\n            if (t._snapshot.oldDocs.isEmpty()) {\n                let e = 0;\n                return t._snapshot.docChanges.map((n => ({\n                    type: \"added\",\n                    doc: new Ch(t._firestore, t._userDataWriter, n.doc.key, n.doc, new Sh(t._snapshot.mutatedKeys.has(n.doc.key), t._snapshot.fromCache), t.query.converter),\n                    oldIndex: -1,\n                    newIndex: e++\n                })));\n            }\n            {\n                // A `DocumentSet` that is updated incrementally as changes are applied to use\n                // to lookup the index of a document.\n                let n = t._snapshot.oldDocs;\n                return t._snapshot.docChanges.filter((t => e || 3 /* Metadata */ !== t.type)).map((e => {\n                    const s = new Ch(t._firestore, t._userDataWriter, e.doc.key, e.doc, new Sh(t._snapshot.mutatedKeys.has(e.doc.key), t._snapshot.fromCache), t.query.converter);\n                    let i = -1, r = -1;\n                    return 0 /* Added */ !== e.type && (i = n.indexOf(e.doc.key), n = n.delete(e.doc.key)), \n                    1 /* Removed */ !== e.type && (n = n.add(e.doc), r = n.indexOf(e.doc.key)), {\n                        type: Nh(e.type),\n                        doc: s,\n                        oldIndex: i,\n                        newIndex: r\n                    };\n                }));\n            }\n        }(this, e), this._cachedChangesIncludeMetadataChanges = e), this._cachedChanges;\n    }\n}\n\nfunction Nh(t) {\n    switch (t) {\n      case 0 /* Added */ :\n        return \"added\";\n\n      case 2 /* Modified */ :\n      case 3 /* Metadata */ :\n        return \"modified\";\n\n      case 1 /* Removed */ :\n        return \"removed\";\n\n      default:\n        return k();\n    }\n}\n\n// TODO(firestoreexp): Add tests for snapshotEqual with different snapshot\n// metadata\n/**\n * Returns true if the provided snapshots are equal.\n *\n * @param left - A snapshot to compare.\n * @param right - A snapshot to compare.\n * @returns true if the snapshots are equal.\n */ function kh(t, e) {\n    return t instanceof Dh && e instanceof Dh ? t._firestore === e._firestore && t._key.isEqual(e._key) && (null === t._document ? null === e._document : t._document.isEqual(e._document)) && t._converter === e._converter : t instanceof xh && e instanceof xh && (t._firestore === e._firestore && Va(t.query, e.query) && t.metadata.isEqual(e.metadata) && t._snapshot.isEqual(e._snapshot));\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ function Mh(t) {\n    if (\"L\" /* Last */ === t.limitType && 0 === t.explicitOrderBy.length) throw new B($.UNIMPLEMENTED, \"limitToLast() queries require specifying at least one orderBy() clause\");\n}\n\n/**\n * A `QueryConstraint` is used to narrow the set of documents returned by a\n * Firestore query. `QueryConstraint`s are created by invoking {@link where},\n * {@link orderBy}, {@link (startAt:1)}, {@link (startAfter:1)}, {@link\n * endBefore:1}, {@link (endAt:1)}, {@link limit} or {@link limitToLast} and\n * can then be passed to {@link query} to create a new query instance that\n * also contains this `QueryConstraint`.\n */ class Oh {}\n\n/**\n * Creates a new immutable instance of {@link Query} that is extended to also include\n * additional query constraints.\n *\n * @param query - The {@link Query} instance to use as a base for the new constraints.\n * @param queryConstraints - The list of {@link QueryConstraint}s to apply.\n * @throws if any of the provided query constraints cannot be combined with the\n * existing or new constraints.\n */ function Fh(t, ...e) {\n    for (const n of e) t = n._apply(t);\n    return t;\n}\n\nclass $h extends Oh {\n    constructor(t, e, n) {\n        super(), this.wa = t, this.ma = e, this.ga = n, this.type = \"where\";\n    }\n    _apply(t) {\n        const e = oh(t.firestore), n = function(t, e, n, s, i, r, o) {\n            let u;\n            if (i.isKeyField()) {\n                if (\"array-contains\" /* ARRAY_CONTAINS */ === r || \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ === r) throw new B($.INVALID_ARGUMENT, `Invalid Query. You can't perform '${r}' queries on documentId().`);\n                if (\"in\" /* IN */ === r || \"not-in\" /* NOT_IN */ === r) {\n                    Zh(o, r);\n                    const e = [];\n                    for (const n of o) e.push(Xh(s, t, n));\n                    u = {\n                        arrayValue: {\n                            values: e\n                        }\n                    };\n                } else u = Xh(s, t, o);\n            } else \"in\" /* IN */ !== r && \"not-in\" /* NOT_IN */ !== r && \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ !== r || Zh(o, r), \n            u = mh(n, e, o, \n            /* allowArrays= */ \"in\" /* IN */ === r || \"not-in\" /* NOT_IN */ === r);\n            const c = $e.create(i, r, u);\n            return function(t, e) {\n                if (e.dt()) {\n                    const n = sn(t);\n                    if (null !== n && !n.isEqual(e.field)) throw new B($.INVALID_ARGUMENT, `Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);\n                    const s = nn(t);\n                    null !== s && tl(t, e.field, s);\n                }\n                const n = function(t, e) {\n                    for (const n of t.filters) if (e.indexOf(n.op) >= 0) return n.op;\n                    return null;\n                }(t, \n                /**\n * Given an operator, returns the set of operators that cannot be used with it.\n *\n * Operators in a query must adhere to the following set of rules:\n * 1. Only one array operator is allowed.\n * 2. Only one disjunctive operator is allowed.\n * 3. `NOT_EQUAL` cannot be used with another `NOT_EQUAL` operator.\n * 4. `NOT_IN` cannot be used with array, disjunctive, or `NOT_EQUAL` operators.\n *\n * Array operators: `ARRAY_CONTAINS`, `ARRAY_CONTAINS_ANY`\n * Disjunctive operators: `IN`, `ARRAY_CONTAINS_ANY`, `NOT_IN`\n */\n                function(t) {\n                    switch (t) {\n                      case \"!=\" /* NOT_EQUAL */ :\n                        return [ \"!=\" /* NOT_EQUAL */ , \"not-in\" /* NOT_IN */ ];\n\n                      case \"array-contains\" /* ARRAY_CONTAINS */ :\n                        return [ \"array-contains\" /* ARRAY_CONTAINS */ , \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ , \"not-in\" /* NOT_IN */ ];\n\n                      case \"in\" /* IN */ :\n                        return [ \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ , \"in\" /* IN */ , \"not-in\" /* NOT_IN */ ];\n\n                      case \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ :\n                        return [ \"array-contains\" /* ARRAY_CONTAINS */ , \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ , \"in\" /* IN */ , \"not-in\" /* NOT_IN */ ];\n\n                      case \"not-in\" /* NOT_IN */ :\n                        return [ \"array-contains\" /* ARRAY_CONTAINS */ , \"array-contains-any\" /* ARRAY_CONTAINS_ANY */ , \"in\" /* IN */ , \"not-in\" /* NOT_IN */ , \"!=\" /* NOT_EQUAL */ ];\n\n                      default:\n                        return [];\n                    }\n                }(e.op));\n                if (null !== n) \n                // Special case when it's a duplicate op to give a slightly clearer error message.\n                throw n === e.op ? new B($.INVALID_ARGUMENT, `Invalid query. You cannot use more than one '${e.op.toString()}' filter.`) : new B($.INVALID_ARGUMENT, `Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`);\n            }(t, c), c;\n        }(t._query, \"where\", e, t.firestore._databaseId, this.wa, this.ma, this.ga);\n        return new Ea(t.firestore, t.converter, function(t, e) {\n            const n = t.filters.concat([ e ]);\n            return new Xe(t.path, t.collectionGroup, t.explicitOrderBy.slice(), n, t.limit, t.limitType, t.startAt, t.endAt);\n        }(t._query, n));\n    }\n}\n\n/**\n * Creates a {@link QueryConstraint} that enforces that documents must contain the\n * specified field and that the value should satisfy the relation constraint\n * provided.\n *\n * @param fieldPath - The path to compare\n * @param opStr - The operation string (e.g \"&lt;\", \"&lt;=\", \"==\", \"&lt;\",\n *   \"&lt;=\", \"!=\").\n * @param value - The value for comparison\n * @returns The created {@link Query}.\n */ function Bh(t, e, n) {\n    const s = e, i = Vh(\"where\", t);\n    return new $h(i, s, n);\n}\n\nclass Lh extends Oh {\n    constructor(t, e) {\n        super(), this.wa = t, this.ya = e, this.type = \"orderBy\";\n    }\n    _apply(t) {\n        const e = function(t, e, n) {\n            if (null !== t.startAt) throw new B($.INVALID_ARGUMENT, \"Invalid query. You must not call startAt() or startAfter() before calling orderBy().\");\n            if (null !== t.endAt) throw new B($.INVALID_ARGUMENT, \"Invalid query. You must not call endAt() or endBefore() before calling orderBy().\");\n            const s = new ze(e, n);\n            return function(t, e) {\n                if (null === nn(t)) {\n                    // This is the first order by. It must match any inequality.\n                    const n = sn(t);\n                    null !== n && tl(t, n, e.field);\n                }\n            }(t, s), s;\n        }\n        /**\n * Create a `Bound` from a query and a document.\n *\n * Note that the `Bound` will always include the key of the document\n * and so only the provided document will compare equal to the returned\n * position.\n *\n * Will throw if the document does not contain all fields of the order by\n * of the query or if any of the fields in the order by are an uncommitted\n * server timestamp.\n */ (t._query, this.wa, this.ya);\n        return new Ea(t.firestore, t.converter, function(t, e) {\n            // TODO(dimond): validate that orderBy does not list the same key twice.\n            const n = t.explicitOrderBy.concat([ e ]);\n            return new Xe(t.path, t.collectionGroup, n, t.filters.slice(), t.limit, t.limitType, t.startAt, t.endAt);\n        }(t._query, e));\n    }\n}\n\n/**\n * Creates a {@link QueryConstraint} that sorts the query result by the\n * specified field, optionally in descending order instead of ascending.\n *\n * @param fieldPath - The field to sort by.\n * @param directionStr - Optional direction to sort by ('asc' or 'desc'). If\n * not specified, order will be ascending.\n * @returns The created {@link Query}.\n */ function Uh(t, e = \"asc\") {\n    const n = e, s = Vh(\"orderBy\", t);\n    return new Lh(s, n);\n}\n\nclass qh extends Oh {\n    constructor(t, e, n) {\n        super(), this.type = t, this.pa = e, this.Ia = n;\n    }\n    _apply(t) {\n        return new Ea(t.firestore, t.converter, cn(t._query, this.pa, this.Ia));\n    }\n}\n\n/**\n * Creates a {@link QueryConstraint} that only returns the first matching documents.\n *\n * @param limit - The maximum number of items to return.\n * @returns The created {@link Query}.\n */ function Kh(t) {\n    return ga(\"limit\", t), new qh(\"limit\", t, \"F\" /* First */);\n}\n\n/**\n * Creates a {@link QueryConstraint} that only returns the last matching documents.\n *\n * You must specify at least one `orderBy` clause for `limitToLast` queries,\n * otherwise an exception will be thrown during execution.\n *\n * @param limit - The maximum number of items to return.\n * @returns The created {@link Query}.\n */ function Gh(t) {\n    return ga(\"limitToLast\", t), new qh(\"limitToLast\", t, \"L\" /* Last */);\n}\n\nclass Qh extends Oh {\n    constructor(t, e, n) {\n        super(), this.type = t, this.Ta = e, this.Ea = n;\n    }\n    _apply(t) {\n        const e = Yh(t, this.type, this.Ta, this.Ea);\n        return new Ea(t.firestore, t.converter, function(t, e) {\n            return new Xe(t.path, t.collectionGroup, t.explicitOrderBy.slice(), t.filters.slice(), t.limit, t.limitType, e, t.endAt);\n        }(t._query, e));\n    }\n}\n\nfunction jh(...t) {\n    return new Qh(\"startAt\", t, \n    /*inclusive=*/ !0);\n}\n\nfunction Wh(...t) {\n    return new Qh(\"startAfter\", t, \n    /*inclusive=*/ !1);\n}\n\nclass zh extends Oh {\n    constructor(t, e, n) {\n        super(), this.type = t, this.Ta = e, this.Ea = n;\n    }\n    _apply(t) {\n        const e = Yh(t, this.type, this.Ta, this.Ea);\n        return new Ea(t.firestore, t.converter, function(t, e) {\n            return new Xe(t.path, t.collectionGroup, t.explicitOrderBy.slice(), t.filters.slice(), t.limit, t.limitType, t.startAt, e);\n        }(t._query, e));\n    }\n}\n\nfunction Hh(...t) {\n    return new zh(\"endBefore\", t, \n    /*inclusive=*/ !1);\n}\n\nfunction Jh(...t) {\n    return new zh(\"endAt\", t, /*inclusive=*/ !0);\n}\n\n/** Helper function to create a bound from a document or fields */ function Yh(t, e, n, s) {\n    if (n[0] = d(n[0]), n[0] instanceof Ph) return function(t, e, n, s, i) {\n        if (!s) throw new B($.NOT_FOUND, `Can't use a DocumentSnapshot that doesn't exist for ${n}().`);\n        const r = [];\n        // Because people expect to continue/end a query at the exact document\n        // provided, we need to use the implicit sort order rather than the explicit\n        // sort order, because it's guaranteed to contain the document key. That way\n        // the position becomes unambiguous and the query continues/ends exactly at\n        // the provided document. Without the key (by using the explicit sort\n        // orders), multiple documents could match the position, yielding duplicate\n        // results.\n                for (const n of on(t)) if (n.field.isKeyField()) r.push(_e(e, s.key)); else {\n            const t = s.data.field(n.field);\n            if (Yt(t)) throw new B($.INVALID_ARGUMENT, 'Invalid query. You are trying to start or end a query using a document for which the field \"' + n.field + '\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');\n            if (null === t) {\n                const t = n.field.canonicalString();\n                throw new B($.INVALID_ARGUMENT, `Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`);\n            }\n            r.push(t);\n        }\n        return new We(r, i);\n    }\n    /**\n * Converts a list of field values to a `Bound` for the given query.\n */ (t._query, t.firestore._databaseId, e, n[0]._document, s);\n    {\n        const i = oh(t.firestore);\n        return function(t, e, n, s, i, r) {\n            // Use explicit order by's because it has to match the query the user made\n            const o = t.explicitOrderBy;\n            if (i.length > o.length) throw new B($.INVALID_ARGUMENT, `Too many arguments provided to ${s}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);\n            const u = [];\n            for (let r = 0; r < i.length; r++) {\n                const c = i[r];\n                if (o[r].field.isKeyField()) {\n                    if (\"string\" != typeof c) throw new B($.INVALID_ARGUMENT, `Invalid query. Expected a string for document ID in ${s}(), but got a ${typeof c}`);\n                    if (!rn(t) && -1 !== c.indexOf(\"/\")) throw new B($.INVALID_ARGUMENT, `Invalid query. When querying a collection and ordering by documentId(), the value passed to ${s}() must be a plain document ID, but '${c}' contains a slash.`);\n                    const n = t.path.child(it.fromString(c));\n                    if (!ut.isDocumentKey(n)) throw new B($.INVALID_ARGUMENT, `Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${s}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);\n                    const i = new ut(n);\n                    u.push(_e(e, i));\n                } else {\n                    const t = mh(n, s, c);\n                    u.push(t);\n                }\n            }\n            return new We(u, r);\n        }\n        /**\n * Parses the given `documentIdValue` into a `ReferenceValue`, throwing\n * appropriate errors if the value is anything other than a `DocumentReference`\n * or `string`, or if the string is malformed.\n */ (t._query, t.firestore._databaseId, i, e, n, s);\n    }\n}\n\nfunction Xh(t, e, n) {\n    if (\"string\" == typeof (n = d(n))) {\n        if (\"\" === n) throw new B($.INVALID_ARGUMENT, \"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.\");\n        if (!rn(e) && -1 !== n.indexOf(\"/\")) throw new B($.INVALID_ARGUMENT, `Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);\n        const s = e.path.child(it.fromString(n));\n        if (!ut.isDocumentKey(s)) throw new B($.INVALID_ARGUMENT, `Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);\n        return _e(t, new ut(s));\n    }\n    if (n instanceof Ta) return _e(t, n._key);\n    throw new B($.INVALID_ARGUMENT, `Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wa(n)}.`);\n}\n\n/**\n * Validates that the value passed into a disjunctive filter satisfies all\n * array requirements.\n */ function Zh(t, e) {\n    if (!Array.isArray(t) || 0 === t.length) throw new B($.INVALID_ARGUMENT, `Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);\n    if (t.length > 10) throw new B($.INVALID_ARGUMENT, `Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`);\n}\n\nfunction tl(t, e, n) {\n    if (!n.isEqual(e)) throw new B($.INVALID_ARGUMENT, `Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`);\n}\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ const el = {\n    maxAttempts: 5\n};\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Converts Firestore's internal types to the JavaScript types that we expose\n * to the user.\n *\n * @internal\n */\nclass nl {\n    convertValue(t, e = \"none\") {\n        switch (ue(t)) {\n          case 0 /* NullValue */ :\n            return null;\n\n          case 1 /* BooleanValue */ :\n            return t.booleanValue;\n\n          case 2 /* NumberValue */ :\n            return Ht(t.integerValue || t.doubleValue);\n\n          case 3 /* TimestampValue */ :\n            return this.convertTimestamp(t.timestampValue);\n\n          case 4 /* ServerTimestampValue */ :\n            return this.convertServerTimestamp(t, e);\n\n          case 5 /* StringValue */ :\n            return t.stringValue;\n\n          case 6 /* BlobValue */ :\n            return this.convertBytes(Jt(t.bytesValue));\n\n          case 7 /* RefValue */ :\n            return this.convertReference(t.referenceValue);\n\n          case 8 /* GeoPointValue */ :\n            return this.convertGeoPoint(t.geoPointValue);\n\n          case 9 /* ArrayValue */ :\n            return this.convertArray(t.arrayValue, e);\n\n          case 10 /* ObjectValue */ :\n            return this.convertObject(t.mapValue, e);\n\n          default:\n            throw k();\n        }\n    }\n    convertObject(t, e) {\n        const n = {};\n        return Ot(t.fields, ((t, s) => {\n            n[t] = this.convertValue(s, e);\n        })), n;\n    }\n    convertGeoPoint(t) {\n        return new Za(Ht(t.latitude), Ht(t.longitude));\n    }\n    convertArray(t, e) {\n        return (t.values || []).map((t => this.convertValue(t, e)));\n    }\n    convertServerTimestamp(t, e) {\n        switch (e) {\n          case \"previous\":\n            const n = Xt(t);\n            return null == n ? null : this.convertValue(n, e);\n\n          case \"estimate\":\n            return this.convertTimestamp(Zt(t));\n\n          default:\n            return null;\n        }\n    }\n    convertTimestamp(t) {\n        const e = zt(t);\n        return new et(e.seconds, e.nanos);\n    }\n    convertDocumentKey(t, e) {\n        const n = it.fromString(t);\n        M(si(n));\n        const s = new ee(n.get(1), n.get(3)), i = new ut(n.popFirst(5));\n        return s.isEqual(e) || \n        // TODO(b/64130202): Somehow support foreign references.\n        C(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`), \n        i;\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Converts custom model object of type T into `DocumentData` by applying the\n * converter if it exists.\n *\n * This function is used when converting user objects to `DocumentData`\n * because we want to provide the user with a more specific error message if\n * their `set()` or fails due to invalid data originating from a `toFirestore()`\n * call.\n */ function sl(t, e, n) {\n    let s;\n    // Cast to `any` in order to satisfy the union type constraint on\n    // toFirestore().\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return s = t ? n && (n.merge || n.mergeFields) ? t.toFirestore(e, n) : t.toFirestore(e) : e, \n    s;\n}\n\nclass il extends nl {\n    constructor(t) {\n        super(), this.firestore = t;\n    }\n    convertBytes(t) {\n        return new Ya(t);\n    }\n    convertReference(t) {\n        const e = this.convertDocumentKey(t, this.firestore._databaseId);\n        return new Ta(this.firestore, /* converter= */ null, e);\n    }\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A write batch, used to perform multiple writes as a single atomic unit.\n *\n * A `WriteBatch` object can be acquired by calling {@link writeBatch}. It\n * provides methods for adding writes to the write batch. None of the writes\n * will be committed (or visible locally) until {@link WriteBatch.commit} is\n * called.\n */ class rl {\n    /** @hideconstructor */\n    constructor(t, e) {\n        this._firestore = t, this._commitHandler = e, this._mutations = [], this._committed = !1, \n        this._dataReader = oh(t);\n    }\n    set(t, e, n) {\n        this._verifyNotCommitted();\n        const s = ol(t, this._firestore), i = sl(s.converter, e, n), r = uh(this._dataReader, \"WriteBatch.set\", s._key, i, null !== s.converter, n);\n        return this._mutations.push(r.toMutation(s._key, kn.none())), this;\n    }\n    update(t, e, n, ...s) {\n        this._verifyNotCommitted();\n        const i = ol(t, this._firestore);\n        // For Compat types, we have to \"extract\" the underlying types before\n        // performing validation.\n                let r;\n        return r = \"string\" == typeof (e = d(e)) || e instanceof Ha ? wh(this._dataReader, \"WriteBatch.update\", i._key, e, n, s) : _h(this._dataReader, \"WriteBatch.update\", i._key, e), \n        this._mutations.push(r.toMutation(i._key, kn.exists(!0))), this;\n    }\n    /**\n     * Deletes the document referred to by the provided {@link DocumentReference}.\n     *\n     * @param documentRef - A reference to the document to be deleted.\n     * @returns This `WriteBatch` instance. Used for chaining method calls.\n     */    delete(t) {\n        this._verifyNotCommitted();\n        const e = ol(t, this._firestore);\n        return this._mutations = this._mutations.concat(new Wn(e._key, kn.none())), this;\n    }\n    /**\n     * Commits all of the writes in this write batch as a single atomic unit.\n     *\n     * The result of these writes will only be reflected in document reads that\n     * occur after the returned promise resolves. If the client is offline, the\n     * write fails. If you would like to see local modifications or buffer writes\n     * until the client is online, use the full Firestore SDK.\n     *\n     * @returns A `Promise` resolved once all of the writes in the batch have been\n     * successfully written to the backend as an atomic unit (note that it won't\n     * resolve while you're offline).\n     */    commit() {\n        return this._verifyNotCommitted(), this._committed = !0, this._mutations.length > 0 ? this._commitHandler(this._mutations) : Promise.resolve();\n    }\n    _verifyNotCommitted() {\n        if (this._committed) throw new B($.FAILED_PRECONDITION, \"A write batch can no longer be used after commit() has been called.\");\n    }\n}\n\nfunction ol(t, e) {\n    if ((t = d(t)).firestore !== e) throw new B($.INVALID_ARGUMENT, \"Provided document reference is from a different Firestore instance.\");\n    return t;\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// TODO(mrschmidt) Consider using `BaseTransaction` as the base class in the\n// legacy SDK.\n/**\n * A reference to a transaction.\n *\n * The `Transaction` object passed to a transaction's `updateFunction` provides\n * the methods to read and write data within the transaction context. See\n * {@link runTransaction}.\n */\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Reads the document referred to by this `DocumentReference`.\n *\n * Note: `getDoc()` attempts to provide up-to-date data when possible by waiting\n * for data from the server, but it may return cached data or fail if you are\n * offline and the server cannot be reached. To specify this behavior, invoke\n * {@link getDocFromCache} or {@link getDocFromServer}.\n *\n * @param reference - The reference of the document to fetch.\n * @returns A Promise resolved with a `DocumentSnapshot` containing the\n * current document contents.\n */\nfunction ul(t) {\n    t = ma(t, Ta);\n    const e = ma(t.firestore, Na);\n    return sa(Oa(e), t._key).then((n => Tl(e, t, n)));\n}\n\nclass cl extends nl {\n    constructor(t) {\n        super(), this.firestore = t;\n    }\n    convertBytes(t) {\n        return new Ya(t);\n    }\n    convertReference(t) {\n        const e = this.convertDocumentKey(t, this.firestore._databaseId);\n        return new Ta(this.firestore, /* converter= */ null, e);\n    }\n}\n\n/**\n * Reads the document referred to by this `DocumentReference` from cache.\n * Returns an error if the document is not currently cached.\n *\n * @returns A `Promise` resolved with a `DocumentSnapshot` containing the\n * current document contents.\n */ function al(t) {\n    t = ma(t, Ta);\n    const e = ma(t.firestore, Na), n = Oa(e), s = new cl(e);\n    return na(n, t._key).then((n => new Dh(e, s, t._key, n, new Sh(null !== n && n.hasLocalMutations, \n    /* fromCache= */ !0), t.converter)));\n}\n\n/**\n * Reads the document referred to by this `DocumentReference` from the server.\n * Returns an error if the network is not available.\n *\n * @returns A `Promise` resolved with a `DocumentSnapshot` containing the\n * current document contents.\n */ function hl(t) {\n    t = ma(t, Ta);\n    const e = ma(t.firestore, Na);\n    return sa(Oa(e), t._key, {\n        source: \"server\"\n    }).then((n => Tl(e, t, n)));\n}\n\n/**\n * Executes the query and returns the results as a `QuerySnapshot`.\n *\n * Note: `getDocs()` attempts to provide up-to-date data when possible by\n * waiting for data from the server, but it may return cached data or fail if\n * you are offline and the server cannot be reached. To specify this behavior,\n * invoke {@link getDocsFromCache} or {@link getDocsFromServer}.\n *\n * @returns A `Promise` that will be resolved with the results of the query.\n */ function ll(t) {\n    t = ma(t, Ea);\n    const e = ma(t.firestore, Na), n = Oa(e), s = new cl(e);\n    return Mh(t._query), ra(n, t._query).then((n => new xh(e, s, t, n)));\n}\n\n/**\n * Executes the query and returns the results as a `QuerySnapshot` from cache.\n * Returns an error if the document is not currently cached.\n *\n * @returns A `Promise` that will be resolved with the results of the query.\n */ function fl(t) {\n    t = ma(t, Ea);\n    const e = ma(t.firestore, Na), n = Oa(e), s = new cl(e);\n    return ia(n, t._query).then((n => new xh(e, s, t, n)));\n}\n\n/**\n * Executes the query and returns the results as a `QuerySnapshot` from the\n * server. Returns an error if the network is not available.\n *\n * @returns A `Promise` that will be resolved with the results of the query.\n */ function dl(t) {\n    t = ma(t, Ea);\n    const e = ma(t.firestore, Na), n = Oa(e), s = new cl(e);\n    return ra(n, t._query, {\n        source: \"server\"\n    }).then((n => new xh(e, s, t, n)));\n}\n\nfunction _l(t, e, n) {\n    t = ma(t, Ta);\n    const s = ma(t.firestore, Na), i = sl(t.converter, e, n);\n    return Il(s, [ uh(oh(s), \"setDoc\", t._key, i, null !== t.converter, n).toMutation(t._key, kn.none()) ]);\n}\n\nfunction wl(t, e, n, ...s) {\n    t = ma(t, Ta);\n    const i = ma(t.firestore, Na), r = oh(i);\n    let o;\n    o = \"string\" == typeof (\n    // For Compat types, we have to \"extract\" the underlying types before\n    // performing validation.\n    e = d(e)) || e instanceof Ha ? wh(r, \"updateDoc\", t._key, e, n, s) : _h(r, \"updateDoc\", t._key, e);\n    return Il(i, [ o.toMutation(t._key, kn.exists(!0)) ]);\n}\n\n/**\n * Deletes the document referred to by the specified `DocumentReference`.\n *\n * @param reference - A reference to the document to delete.\n * @returns A Promise resolved once the document has been successfully\n * deleted from the backend (note that it won't resolve while you're offline).\n */ function ml(t) {\n    return Il(ma(t.firestore, Na), [ new Wn(t._key, kn.none()) ]);\n}\n\n/**\n * Add a new document to specified `CollectionReference` with the given data,\n * assigning it a document ID automatically.\n *\n * @param reference - A reference to the collection to add this document to.\n * @param data - An Object containing the data for the new document.\n * @returns A `Promise` resolved with a `DocumentReference` pointing to the\n * newly created document after it has been written to the backend (Note that it\n * won't resolve while you're offline).\n */ function gl(t, e) {\n    const n = ma(t.firestore, Na), s = Pa(t), i = sl(t.converter, e);\n    return Il(n, [ uh(oh(t.firestore), \"addDoc\", s._key, i, null !== t.converter, {}).toMutation(s._key, kn.exists(!1)) ]).then((() => s));\n}\n\nfunction yl(t, ...e) {\n    var n, s, i;\n    t = d(t);\n    let r = {\n        includeMetadataChanges: !1\n    }, o = 0;\n    \"object\" != typeof e[o] || Da(e[o]) || (r = e[o], o++);\n    const u = {\n        includeMetadataChanges: r.includeMetadataChanges\n    };\n    if (Da(e[o])) {\n        const t = e[o];\n        e[o] = null === (n = t.next) || void 0 === n ? void 0 : n.bind(t), e[o + 1] = null === (s = t.error) || void 0 === s ? void 0 : s.bind(t), \n        e[o + 2] = null === (i = t.complete) || void 0 === i ? void 0 : i.bind(t);\n    }\n    let c, a, h;\n    if (t instanceof Ta) a = ma(t.firestore, Na), h = tn(t._key.path), c = {\n        next: n => {\n            e[o] && e[o](Tl(a, t, n));\n        },\n        error: e[o + 1],\n        complete: e[o + 2]\n    }; else {\n        const n = ma(t, Ea);\n        a = ma(n.firestore, Na), h = n._query;\n        const s = new cl(a);\n        c = {\n            next: t => {\n                e[o] && e[o](new xh(a, s, n, t));\n            },\n            error: e[o + 1],\n            complete: e[o + 2]\n        }, Mh(t._query);\n    }\n    return function(t, e, n, s) {\n        const i = new Lc(s), r = new ju(e, i, n);\n        return t.asyncQueue.enqueueAndForget((async () => Uu(await Zc(t), r))), () => {\n            i.Rc(), t.asyncQueue.enqueueAndForget((async () => qu(await Zc(t), r)));\n        };\n    }(Oa(a), h, u, c);\n}\n\nfunction pl(t, e) {\n    return oa(Oa(t = ma(t, Na)), Da(e) ? e : {\n        next: e\n    });\n}\n\n/**\n * Locally writes `mutations` on the async queue.\n * @internal\n */ function Il(t, e) {\n    return function(t, e) {\n        const n = new L;\n        return t.asyncQueue.enqueueAndForget((async () => oc(await Xc(t), e, n))), n.promise;\n    }(Oa(t), e);\n}\n\n/**\n * Converts a {@link ViewSnapshot} that contains the single document specified by `ref`\n * to a {@link DocumentSnapshot}.\n */ function Tl(t, e, n) {\n    const s = n.docs.get(e._key), i = new cl(t);\n    return new Dh(t, i, e._key, s, new Sh(n.hasPendingWrites, n.fromCache), e.converter);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A reference to a transaction.\n *\n * The `Transaction` object passed to a transaction's `updateFunction` provides\n * the methods to read and write data within the transaction context. See\n * {@link runTransaction}.\n */ class El extends class {\n    /** @hideconstructor */\n    constructor(t, e) {\n        this._firestore = t, this._transaction = e, this._dataReader = oh(t);\n    }\n    /**\n     * Reads the document referenced by the provided {@link DocumentReference}.\n     *\n     * @param documentRef - A reference to the document to be read.\n     * @returns A `DocumentSnapshot` with the read data.\n     */    get(t) {\n        const e = ol(t, this._firestore), n = new il(this._firestore);\n        return this._transaction.lookup([ e._key ]).then((t => {\n            if (!t || 1 !== t.length) return k();\n            const s = t[0];\n            if (s.isFoundDocument()) return new Ph(this._firestore, n, s.key, s, e.converter);\n            if (s.isNoDocument()) return new Ph(this._firestore, n, e._key, null, e.converter);\n            throw k();\n        }));\n    }\n    set(t, e, n) {\n        const s = ol(t, this._firestore), i = sl(s.converter, e, n), r = uh(this._dataReader, \"Transaction.set\", s._key, i, null !== s.converter, n);\n        return this._transaction.set(s._key, r), this;\n    }\n    update(t, e, n, ...s) {\n        const i = ol(t, this._firestore);\n        // For Compat types, we have to \"extract\" the underlying types before\n        // performing validation.\n                let r;\n        return r = \"string\" == typeof (e = d(e)) || e instanceof Ha ? wh(this._dataReader, \"Transaction.update\", i._key, e, n, s) : _h(this._dataReader, \"Transaction.update\", i._key, e), \n        this._transaction.update(i._key, r), this;\n    }\n    /**\n     * Deletes the document referred to by the provided {@link DocumentReference}.\n     *\n     * @param documentRef - A reference to the document to be deleted.\n     * @returns This `Transaction` instance. Used for chaining method calls.\n     */    delete(t) {\n        const e = ol(t, this._firestore);\n        return this._transaction.delete(e._key), this;\n    }\n} {\n    // This class implements the same logic as the Transaction API in the Lite SDK\n    // but is subclassed in order to return its own DocumentSnapshot types.\n    /** @hideconstructor */\n    constructor(t, e) {\n        super(t, e), this._firestore = t;\n    }\n    /**\n     * Reads the document referenced by the provided {@link DocumentReference}.\n     *\n     * @param documentRef - A reference to the document to be read.\n     * @returns A `DocumentSnapshot` with the read data.\n     */    get(t) {\n        const e = ol(t, this._firestore), n = new cl(this._firestore);\n        return super.get(t).then((t => new Dh(this._firestore, n, e._key, t._document, new Sh(\n        /* hasPendingWrites= */ !1, \n        /* fromCache= */ !1), e.converter)));\n    }\n}\n\n/**\n * Executes the given `updateFunction` and then attempts to commit the changes\n * applied within the transaction. If any document read within the transaction\n * has changed, Cloud Firestore retries the `updateFunction`. If it fails to\n * commit after 5 attempts, the transaction fails.\n *\n * The maximum number of writes allowed in a single transaction is 500.\n *\n * @param firestore - A reference to the Firestore database to run this\n * transaction against.\n * @param updateFunction - The function to execute within the transaction\n * context.\n * @param options - An options object to configure maximum number of attempts to\n * commit.\n * @returns If the transaction completed successfully or was explicitly aborted\n * (the `updateFunction` returned a failed promise), the promise returned by the\n * `updateFunction `is returned here. Otherwise, if the transaction failed, a\n * rejected promise with the corresponding failure error is returned.\n */ function Al(t, e, n) {\n    t = ma(t, Na);\n    const s = Object.assign(Object.assign({}, el), n);\n    !function(t) {\n        if (t.maxAttempts < 1) throw new B($.INVALID_ARGUMENT, \"Max attempts must be at least 1\");\n    }(s);\n    return ua(Oa(t), (n => e(new El(t, n))), s);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns a sentinel for use with {@link @firebase/firestore/lite#(updateDoc:1)} or\n * {@link @firebase/firestore/lite#(setDoc:1)} with `{merge: true}` to mark a field for deletion.\n */ function Rl() {\n    return new ch(\"deleteField\");\n}\n\n/**\n * Returns a sentinel used with {@link @firebase/firestore/lite#(setDoc:1)} or {@link @firebase/firestore/lite#(updateDoc:1)} to\n * include a server-generated timestamp in the written data.\n */ function bl() {\n    return new hh(\"serverTimestamp\");\n}\n\n/**\n * Returns a special value that can be used with {@link @firebase/firestore/lite#(setDoc:1)} or {@link\n * @firebase/firestore/lite#(updateDoc:1)} that tells the server to union the given elements with any array\n * value that already exists on the server. Each specified element that doesn't\n * already exist in the array will be added to the end. If the field being\n * modified is not already an array it will be overwritten with an array\n * containing exactly the specified elements.\n *\n * @param elements - The elements to union into the array.\n * @returns The `FieldValue` sentinel for use in a call to `setDoc()` or\n * `updateDoc()`.\n */ function Pl(...t) {\n    // NOTE: We don't actually parse the data until it's used in set() or\n    // update() since we'd need the Firestore instance to do this.\n    return new lh(\"arrayUnion\", t);\n}\n\n/**\n * Returns a special value that can be used with {@link (setDoc:1)} or {@link\n * updateDoc:1} that tells the server to remove the given elements from any\n * array value that already exists on the server. All instances of each element\n * specified will be removed from the array. If the field being modified is not\n * already an array it will be overwritten with an empty array.\n *\n * @param elements - The elements to remove from the array.\n * @returns The `FieldValue` sentinel for use in a call to `setDoc()` or\n * `updateDoc()`\n */ function vl(...t) {\n    // NOTE: We don't actually parse the data until it's used in set() or\n    // update() since we'd need the Firestore instance to do this.\n    return new fh(\"arrayRemove\", t);\n}\n\n/**\n * Returns a special value that can be used with {@link @firebase/firestore/lite#(setDoc:1)} or {@link\n * @firebase/firestore/lite#(updateDoc:1)} that tells the server to increment the field's current value by\n * the given value.\n *\n * If either the operand or the current field value uses floating point\n * precision, all arithmetic follows IEEE 754 semantics. If both values are\n * integers, values outside of JavaScript's safe number range\n * (`Number.MIN_SAFE_INTEGER` to `Number.MAX_SAFE_INTEGER`) are also subject to\n * precision loss. Furthermore, once processed by the Firestore backend, all\n * integer operations are capped between -2^63 and 2^63-1.\n *\n * If the current field value is not of type `number`, or if the field does not\n * yet exist, the transformation sets the field to the given value.\n *\n * @param n - The value to increment by.\n * @returns The `FieldValue` sentinel for use in a call to `setDoc()` or\n * `updateDoc()`\n */ function Vl(t) {\n    return new dh(\"increment\", t);\n}\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Creates a write batch, used for performing multiple writes as a single\n * atomic operation. The maximum number of writes allowed in a single {@link WriteBatch}\n * is 500.\n *\n * Unlike transactions, write batches are persisted offline and therefore are\n * preferable when you don't need to condition your writes on read data.\n *\n * @returns A {@link WriteBatch} that can be used to atomically execute multiple\n * writes.\n */ function Sl(t) {\n    return Oa(t = ma(t, Na)), new rl(t, (e => Il(t, e)));\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */ function Dl(t, e) {\n    var n;\n    const s = Oa(t = ma(t, Na));\n    // PORTING NOTE: We don't return an error if the user has not enabled\n    // persistence since `enableIndexeddbPersistence()` can fail on the Web.\n        if (!(null === (n = s.offlineComponents) || void 0 === n ? void 0 : n.indexBackfillerScheduler)) return x(\"Cannot enable indexes when persistence is disabled\"), \n    Promise.resolve();\n    const i = function(t) {\n        const e = \"string\" == typeof t ? function(t) {\n            var e;\n            try {\n                return JSON.parse(t);\n            } catch (t) {\n                throw new B($.INVALID_ARGUMENT, \"Failed to parse JSON: \" + (null === (e = t) || void 0 === e ? void 0 : e.message));\n            }\n        }(t) : t, n = [];\n        if (Array.isArray(e.indexes)) for (const t of e.indexes) {\n            const e = Cl(t, \"collectionGroup\"), s = [];\n            if (Array.isArray(t.fields)) for (const e of t.fields) {\n                const t = Ah(\"setIndexConfiguration\", Cl(e, \"fieldPath\"));\n                \"CONTAINS\" === e.arrayConfig ? s.push(new ft(t, 2 /* CONTAINS */)) : \"ASCENDING\" === e.order ? s.push(new ft(t, 0 /* ASCENDING */)) : \"DESCENDING\" === e.order && s.push(new ft(t, 1 /* DESCENDING */));\n            }\n            n.push(new ct(ct.UNKNOWN_ID, e, s, _t.empty()));\n        }\n        return n;\n    }(e);\n    return Jc(s).then((t => async function(t, e) {\n        const n = F(t), s = n.indexManager, i = [];\n        return n.persistence.runTransaction(\"Configure indexes\", \"readwrite\", (t => s.getFieldIndexes(t).next((n => function(t, e, n, s, i) {\n            t = [ ...t ], e = [ ...e ], t.sort(n), e.sort(n);\n            const r = t.length, o = e.length;\n            let u = 0, c = 0;\n            for (;u < o && c < r; ) {\n                const r = n(t[c], e[u]);\n                r < 0 ? \n                // The element was removed if the next element in our ordered\n                // walkthrough is only in `before`.\n                i(t[c++]) : r > 0 ? \n                // The element was added if the next element in our ordered walkthrough\n                // is only in `after`.\n                s(e[u++]) : (u++, c++);\n            }\n            for (;u < o; ) s(e[u++]);\n            for (;c < r; ) i(t[c++]);\n        }(n, e, lt, (e => {\n            i.push(s.addFieldIndex(t, e));\n        }), (e => {\n            i.push(s.deleteFieldIndex(t, e));\n        })))).next((() => Et.waitFor(i)))));\n    }\n    /**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n    // The format of the LocalStorage key that stores the client state is:\n    //     firestore_clients_<persistence_prefix>_<instance_key>\n    (t, i)));\n}\n\nfunction Cl(t, e) {\n    if (\"string\" != typeof t[e]) throw new B($.INVALID_ARGUMENT, \"Missing string value for: \" + e);\n    return t[e];\n}\n\n/**\n * Cloud Firestore\n *\n * @packageDocumentation\n */ !function(t, e = !0) {\n    !function(t) {\n        P = t;\n    }(i), n(new r(\"firestore\", ((t, {instanceIdentifier: n, options: s}) => {\n        const i = t.getProvider(\"app\").getImmediate(), r = new Na(new G(t.getProvider(\"auth-internal\")), new z(t.getProvider(\"app-check-internal\")), function(t, e) {\n            if (!Object.prototype.hasOwnProperty.apply(t.options, [ \"projectId\" ])) throw new B($.INVALID_ARGUMENT, '\"projectId\" not provided in firebase.initializeApp.');\n            return new ee(t.options.projectId, e);\n        }\n        /**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n        /** Sentinel value that sorts before any Mutation Batch ID. */ (i, n), i);\n        return s = Object.assign({\n            useFetchStreams: e\n        }, s), r._setSettings(s), r;\n    }), \"PUBLIC\").setMultipleInstances(!0)), s(R, \"3.5.0\", t), \n    // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\n    s(R, \"3.5.0\", \"__BUILD_TARGET__\");\n}();\n\nexport { nl as AbstractUserDataWriter, Ya as Bytes, xa as CACHE_SIZE_UNLIMITED, Aa as CollectionReference, Ta as DocumentReference, Dh as DocumentSnapshot, Ha as FieldPath, Xa as FieldValue, Na as Firestore, B as FirestoreError, Za as GeoPoint, Ca as LoadBundleTask, Ea as Query, Oh as QueryConstraint, Ch as QueryDocumentSnapshot, xh as QuerySnapshot, Sh as SnapshotMetadata, et as Timestamp, El as Transaction, rl as WriteBatch, ee as _DatabaseId, ut as _DocumentKey, H as _EmptyAppCheckTokenProvider, q as _EmptyAuthCredentialsProvider, ot as _FieldPath, ma as _cast, O as _debugAssert, Qt as _isBase64Available, x as _logWarn, fa as _validateIsNotUsedTogether, gl as addDoc, vl as arrayRemove, Pl as arrayUnion, Ua as clearIndexedDbPersistence, Ra as collection, ba as collectionGroup, Ia as connectFirestoreEmulator, ml as deleteDoc, Rl as deleteField, Ga as disableNetwork, Pa as doc, Ja as documentId, $a as enableIndexedDbPersistence, Ba as enableMultiTabIndexedDbPersistence, Ka as enableNetwork, Jh as endAt, Hh as endBefore, Oa as ensureFirestoreConfigured, Il as executeWrite, ul as getDoc, al as getDocFromCache, hl as getDocFromServer, ll as getDocs, fl as getDocsFromCache, dl as getDocsFromServer, Ma as getFirestore, Vl as increment, ka as initializeFirestore, Kh as limit, Gh as limitToLast, ja as loadBundle, Wa as namedQuery, yl as onSnapshot, pl as onSnapshotsInSync, Uh as orderBy, Fh as query, Va as queryEqual, va as refEqual, Al as runTransaction, bl as serverTimestamp, _l as setDoc, Dl as setIndexConfiguration, S as setLogLevel, kh as snapshotEqual, Wh as startAfter, jh as startAt, Qa as terminate, wl as updateDoc, qa as waitForPendingWrites, Bh as where, Sl as writeBatch };\n//# sourceMappingURL=index.esm2017.js.map\n","import { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDYQIsMZ8IlZspCHTA6lxQ10jiU-PSwQrU\",\n  authDomain: \"windy-fortress-363603.firebaseapp.com\",\n  projectId: \"windy-fortress-363603\",\n  storageBucket: \"windy-fortress-363603.appspot.com\",\n  messagingSenderId: \"64610770224\",\n  appId: \"1:64610770224:web:27c7d4697b0a38cfaebcf5\",\n  measurementId: \"G-JLTYWVQSD7\",\n};\n\nconst app = initializeApp(firebaseConfig);\nexport const analytics = getAnalytics(app);\nexport const db = getFirestore(app);\n","import { DocumentReference, getDoc, setDoc } from \"firebase/firestore\";\n\nexport async function getDocData<T>({\n  docRef,\n}: {\n  docRef: DocumentReference<T>;\n}) {\n  const docSnap = await getDoc(docRef);\n  if (docSnap.exists()) {\n    const data = docSnap.data();\n    return data;\n  } else {\n    return null;\n  }\n}\n\nexport async function setDocData<T>({\n  docRef,\n  newDocument,\n}: {\n  docRef: DocumentReference<T>;\n  newDocument: T;\n}) {\n  await setDoc(docRef, newDocument);\n}\n","import { Firestore, doc, DocumentReference } from \"firebase/firestore\";\nimport { UserDocument } from \"./types\";\nimport { getDocData } from \"./utils\";\n\nexport async function getUser(\n  db: Firestore,\n  {\n    id,\n  }: {\n    id: string;\n  }\n) {\n  const docRef = doc(db, \"users\", id) as DocumentReference<UserDocument>;\n  try {\n    return getDocData<UserDocument>({ docRef });\n  } catch (e) {\n    throw e;\n  }\n}\n","import { Firestore, doc, DocumentReference } from \"firebase/firestore\";\nimport { UserDocument } from \"./types\";\nimport { setDocData } from \"./utils\";\n\nexport async function updateUser(\n  db: Firestore,\n  {\n    id,\n    newDocument,\n  }: {\n    id: string;\n    newDocument: UserDocument;\n  }\n) {\n  const docRef = doc(db, \"users\", id) as DocumentReference<UserDocument>;\n  try {\n    return setDocData<UserDocument>({ docRef, newDocument });\n  } catch (e) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.error(e);\n    }\n  }\n}\n","import styled, {\n  createGlobalStyle,\n  css,\n  ThemeProvider,\n} from \"styled-components\";\nimport { light, dark } from \"@charcoal-ui/theme\";\nimport { createTheme, TokenInjector, useMedia } from \"@charcoal-ui/styled\";\nimport { Twemoji } from \"./components/Emoji\";\nimport { maxWidth } from \"@charcoal-ui/utils\";\nimport { Aligner } from \"./components/Aligner\";\nimport { Prologue } from \"./Prologue\";\nimport { memo, useRef, useState } from \"react\";\nimport { unreachable } from \"./utils/unreachable\";\nimport { Epilogue } from \"./Epilogue\";\nimport { Main } from \"./Main\";\nimport { Step } from \"./types\";\nimport { emojis } from \"./constants\";\nimport { db } from \"./api\";\nimport { getUser } from \"./api/getUser\";\nimport { updateUser } from \"./api/updateUser\";\nimport { UserDocument } from \"./api/types\";\n\nconst theme = createTheme(styled);\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    font-family: 'Noto Sans JP', sans-serif;;\n    margin: 0px;\n    ${theme((o) => [\n      o.bg.background1,\n      o.font.text2,\n      o.typography(16).preserveHalfLeading,\n    ])}\n  }\n\n  a {\n    ${theme((o) => [o.font.link1])}\n  }\n`;\n\nexport const App = () => {\n  const isDark = useMedia(\"(prefers-color-scheme: dark)\");\n\n  return (\n    <ThemeProvider theme={isDark ? dark : light}>\n      <Contents />\n      <GlobalStyle />\n      <TokenInjector theme={{ \":root\": isDark ? dark : light }} />\n    </ThemeProvider>\n  );\n};\n\nconst Contents = () => {\n  const bodyRef = useRef<HTMLDivElement>(null);\n  const [step, setStep] = useState<Step>(\"prologue\");\n  const [sessionGroup, setSessionGroup] =\n    useState<UserDocument[\"group\"]>(\"plain\");\n  const [sessionUid, setSessionUid] = useState<string | undefined>(undefined);\n\n  const resetScrollTop = () =>\n    bodyRef.current?.scrollIntoView({ behavior: \"smooth\" });\n\n  const handleNext = (s: Step) => {\n    setStep(s);\n    resetScrollTop();\n  };\n\n  return (\n    <div\n      css={css`\n        display: grid;\n        grid-template-rows: auto 1fr auto;\n        min-height: 100vh;\n        min-height: 100lvh;\n      `}\n    >\n      <header\n        css={css`\n          ${theme((o) => [o.border.default.bottom])}\n        `}\n      >\n        <Aligner>\n          <Header uid={sessionUid} />\n        </Aligner>\n      </header>\n      <div\n        ref={bodyRef}\n        css={[\n          css`\n            height: 100%;\n            display: grid;\n            grid-auto-rows: 1fr;\n          `,\n          (step === 1 || step === 2 || step === 3 || step === 4) &&\n            css`\n              ${theme((o) => [o.bg.background2])}\n            `,\n        ]}\n      >\n        <Aligner>\n          {step === \"prologue\" ? (\n            <Prologue\n              onNext={async ({ uid, step }) => {\n                try {\n                  const data = await getUser(db, { id: uid });\n                  if (data === null) {\n                    throw new Error();\n                  }\n                  setSessionGroup(data.group);\n                  setSessionUid(uid);\n                  return handleNext(data.locked ? \"epilogue\" : step);\n                } catch {\n                  return handleNext(step);\n                }\n              }}\n            />\n          ) : step === 1 || step === 2 || step === 3 || step === 4 ? (\n            <Main\n              step={step}\n              group={sessionGroup}\n              onNext={handleNext}\n              onEnd={async ({ step, reactions }) => {\n                try {\n                  if (sessionUid !== undefined) {\n                    await updateUser(db, {\n                      id: sessionUid,\n                      newDocument: {\n                        group: sessionGroup,\n                        locked: true,\n                        reactions,\n                      },\n                    });\n                  }\n                } finally {\n                  handleNext(step);\n                }\n              }}\n            />\n          ) : step === \"epilogue\" ? (\n            <Epilogue uid={sessionUid} />\n          ) : (\n            unreachable(step)\n          )}\n        </Aligner>\n      </div>\n      <footer\n        css={css`\n          ${theme((o) => [o.border.default.top, o.bg.background2])}\n        `}\n      >\n        <Aligner>\n          <Footer />\n        </Aligner>\n      </footer>\n    </div>\n  );\n};\n\nconst Header = memo(({ uid }: { uid?: string }) => (\n  <div\n    css={css`\n      display: grid;\n      grid-template-columns: auto 1fr;\n      align-items: center;\n      ${theme((o) => [o.height.px(64)])}\n    `}\n  >\n    <div\n      css={css`\n        display: grid;\n        grid-auto-flow: column;\n        gap: 8px;\n      `}\n    >\n      {emojis.map((v) => (\n        <Twemoji key={v} size={24} emoji={v} />\n      ))}\n    </div>\n    <div\n      css={css`\n        display: grid;\n        place-content: end;\n      `}\n    >\n      <span\n        css={css`\n          ${theme((o) => [o.typography(14).bold])}\n        `}\n      >\n        {uid && `ID: ${uid}`}\n      </span>\n    </div>\n  </div>\n));\n\nconst Footer = memo(() => (\n  <div\n    css={css`\n      display: grid;\n      place-content: center;\n      ${theme((o) => [o.height.px(40), o.bg.background2])}\n      grid-template-columns: auto 1fr auto;\n      grid-template-rows: auto;\n      @media ${(p) => maxWidth(p.theme.breakpoint.screen2)} {\n        ${theme((o) => [o.height.auto, o.padding.vertical(16)])}\n        grid-template-columns: auto;\n        grid-template-rows: auto min-content auto;\n      }\n    `}\n  >\n    <small>@ 2022 momoogles</small>\n    <div />\n    <small>\n      All emojis designed by\n      <span> </span>\n      <a href=\"https://twemoji.twitter.com/\" target=\"_blank\" rel=\"noopener\">\n        Twemoji\n      </a>\n      <span>. License:</span>\n      <span> </span>\n      <a\n        href=\"https://creativecommons.org/licenses/by-sa/4.0/#\"\n        target=\"_blank\"\n        rel=\"noopener\"\n      >\n        CC BY-SA 4.0\n      </a>\n    </small>\n  </div>\n));\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { App } from \"./App\";\nimport { createRoot } from \"react-dom/client\";\n\nconst container = document.getElementById(\"app\")!;\nconst root = createRoot(container);\nroot.render(<App />);\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$0db8a335f84591c1$export$ffb0004e005737fa","$0db8a335f84591c1$export$34b9dba7ce09269b","$0db8a335f84591c1$export$25062201e9e25d76","$0db8a335f84591c1$var$k","Symbol","for","$0db8a335f84591c1$var$l","$0db8a335f84591c1$var$m","prototype","hasOwnProperty","$0db8a335f84591c1$var$n","$acw62","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","$0db8a335f84591c1$var$p","key","ref","__self","__source","$0db8a335f84591c1$var$q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","module","exports","parcelRequire","$1c29a66706a62afd$export$dca3b0875bd9a954","$1c29a66706a62afd$export$16fa2f45be04daa8","$1c29a66706a62afd$export$ffb0004e005737fa","$1c29a66706a62afd$export$e2c29f18771995cb","$1c29a66706a62afd$export$221d75b3f55bb0bd","$1c29a66706a62afd$export$5f8d39834fd61797","$1c29a66706a62afd$export$74bf444e3cd11ea5","$1c29a66706a62afd$export$ae55be85d98224ed","$1c29a66706a62afd$export$e530037191fcd5d7","$1c29a66706a62afd$export$fd42f52fd3ae1109","$1c29a66706a62afd$export$c8a8987d4410bf2d","$1c29a66706a62afd$export$d38cd72104c1f0e9","$1c29a66706a62afd$export$7d1e3a5e95ceca43","$1c29a66706a62afd$export$257a8862b851cb5b","$1c29a66706a62afd$export$a8257692ac88316c","$1c29a66706a62afd$export$488013bae63b21da","$1c29a66706a62afd$export$7c73462e0d25e514","$1c29a66706a62afd$export$7568632d0d33d16d","$1c29a66706a62afd$export$88948ce120ea2619","$1c29a66706a62afd$export$35808ee640e87ca7","$1c29a66706a62afd$export$fae74005e78b1a27","$1c29a66706a62afd$export$dc8fbce3eb94dc1e","$1c29a66706a62afd$export$6a7bc4e911dc01cf","$1c29a66706a62afd$export$6d9c69b0de29b591","$1c29a66706a62afd$export$f680877a34711e37","$1c29a66706a62afd$export$d5a552a76deda3c2","$1c29a66706a62afd$export$aaabe4eda9ed9969","$1c29a66706a62afd$export$e5c5a5f917a5871c","$1c29a66706a62afd$export$1538c33de8887b59","$1c29a66706a62afd$export$13e3392192263954","$1c29a66706a62afd$export$b8f5890fc79d6aca","$1c29a66706a62afd$export$60241385465d0a34","$1c29a66706a62afd$export$306c0aa65ff9ec16","$1c29a66706a62afd$export$7b286972b8d8ccbf","$1c29a66706a62afd$export$83d89fbfd8236492","$1c29a66706a62afd$var$l","$1c29a66706a62afd$var$n","$1c29a66706a62afd$var$p","$1c29a66706a62afd$var$q","$1c29a66706a62afd$var$r","$1c29a66706a62afd$var$t","$1c29a66706a62afd$var$u","$1c29a66706a62afd$var$v","$1c29a66706a62afd$var$w","$1c29a66706a62afd$var$x","$1c29a66706a62afd$var$y","$1c29a66706a62afd$var$z","iterator","$1c29a66706a62afd$var$B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","$1c29a66706a62afd$var$C","assign","$1c29a66706a62afd$var$D","$1c29a66706a62afd$var$E","this","context","refs","updater","$1c29a66706a62afd$var$F","$1c29a66706a62afd$var$G","isReactComponent","setState","forceUpdate","$1c29a66706a62afd$var$H","constructor","isPureReactComponent","$1c29a66706a62afd$var$I","Array","isArray","$1c29a66706a62afd$var$J","$1c29a66706a62afd$var$K","$1c29a66706a62afd$var$L","$1c29a66706a62afd$var$M","k","arguments","children","f","m","$1c29a66706a62afd$var$O","$1c29a66706a62afd$var$P","$1c29a66706a62afd$var$Q","replace","$1c29a66706a62afd$var$escape","toString","$1c29a66706a62afd$var$R","$1c29a66706a62afd$var$N","push","$1c29a66706a62afd$var$A","next","done","value","String","join","$1c29a66706a62afd$var$S","$1c29a66706a62afd$var$T","_status","_result","then","default","$1c29a66706a62afd$var$U","$1c29a66706a62afd$var$V","transition","map","forEach","apply","count","toArray","only","ReactCurrentDispatcher","ReactCurrentBatchConfig","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","bind","render","_payload","_init","compare","useCallback","useContext","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","$6b3372b60d35b33f$export$2b8d127b894957b9","$6b3372b60d35b33f$export$cea3a54a6425200c","$6b3372b60d35b33f$export$a7c73072b1a182ae","$6b3372b60d35b33f$export$9f27bc3417b4524d","$6b3372b60d35b33f$export$db77ccec0bb4ccac","$6b3372b60d35b33f$export$8392c0c9d3dcbd35","$6b3372b60d35b33f$export$ffb0004e005737fa","$6b3372b60d35b33f$export$b624eff549462981","$6b3372b60d35b33f$export$7897aa7841a5380c","$6b3372b60d35b33f$export$602eac185826482c","$6b3372b60d35b33f$export$e2c29f18771995cb","$6b3372b60d35b33f$export$5f8d39834fd61797","$6b3372b60d35b33f$export$74bf444e3cd11ea5","$6b3372b60d35b33f$export$92387174baf9b227","$6b3372b60d35b33f$export$ec112efeb987d9c6","$6b3372b60d35b33f$export$b706b080d889d2c9","$6b3372b60d35b33f$export$5be5a87408f70ddc","$6b3372b60d35b33f$export$45a5e7f76e0caa8d","$6b3372b60d35b33f$export$455c2e768291efa6","$6b3372b60d35b33f$export$9522e17588c12572","$6b3372b60d35b33f$export$2110ac352bb060b9","$6b3372b60d35b33f$export$56885ab8b9c456ab","$6b3372b60d35b33f$export$d927fcb6adf8f9de","$6b3372b60d35b33f$export$b82d16f27459e05a","$6b3372b60d35b33f$export$522c17b4f5e123e8","$6b3372b60d35b33f$export$1aabd8a0274ecfd6","$6b3372b60d35b33f$export$9b621391a187a31a","$6b3372b60d35b33f$export$f5bbd400c2f4426f","$6b3372b60d35b33f$var$b","$6b3372b60d35b33f$var$c","$6b3372b60d35b33f$var$d","$6b3372b60d35b33f$var$e","$6b3372b60d35b33f$var$f","$6b3372b60d35b33f$var$g","$6b3372b60d35b33f$var$h","$6b3372b60d35b33f$var$k","$6b3372b60d35b33f$var$l","$6b3372b60d35b33f$var$m","$6b3372b60d35b33f$var$n","$6b3372b60d35b33f$var$p","$6b3372b60d35b33f$var$q","$6b3372b60d35b33f$var$r","$6b3372b60d35b33f$var$t","$6b3372b60d35b33f$var$v","$6b3372b60d35b33f$var$w","$6b3372b60d35b33f$var$x","$6b3372b60d35b33f$var$y","$6b3372b60d35b33f$var$z","u","$6b3372b60d35b33f$var$A","URL","resolve","import","meta","url","$0b2e6adb871a3b94$export$ae55be85d98224ed","$0b2e6adb871a3b94$export$d39a5bbd09211389","$0b2e6adb871a3b94$export$882461b6382ed46c","$0b2e6adb871a3b94$export$466bfc07425424d5","$0b2e6adb871a3b94$export$cd75ccfd720a3cd4","$0b2e6adb871a3b94$export$fa8d919ba61d84db","$0b2e6adb871a3b94$export$757ceba2d55c277e","$0b2e6adb871a3b94$export$b3890eb0ae9dca99","$0b2e6adb871a3b94$export$502457920280e6be","$0b2e6adb871a3b94$export$c78a37762a8d58e1","$0b2e6adb871a3b94$export$dc54d992c10e8a18","$0b2e6adb871a3b94$export$83d89fbfd8236492","$0b2e6adb871a3b94$var$p","encodeURIComponent","$0b2e6adb871a3b94$var$da","Set","$0b2e6adb871a3b94$var$ea","$0b2e6adb871a3b94$var$fa","$0b2e6adb871a3b94$var$ha","add","$0b2e6adb871a3b94$var$ia","window","document","createElement","$0b2e6adb871a3b94$var$ja","$0b2e6adb871a3b94$var$ka","$0b2e6adb871a3b94$var$la","$0b2e6adb871a3b94$var$ma","$0b2e6adb871a3b94$var$v","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","$0b2e6adb871a3b94$var$z","split","toLowerCase","$0b2e6adb871a3b94$var$ra","$0b2e6adb871a3b94$var$sa","toUpperCase","$0b2e6adb871a3b94$var$ta","slice","$0b2e6adb871a3b94$var$pa","isNaN","$0b2e6adb871a3b94$var$qa","test","$0b2e6adb871a3b94$var$oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","$0b2e6adb871a3b94$var$ua","$0b2e6adb871a3b94$var$va","$0b2e6adb871a3b94$var$wa","$0b2e6adb871a3b94$var$ya","$0b2e6adb871a3b94$var$za","$0b2e6adb871a3b94$var$Aa","$0b2e6adb871a3b94$var$Ba","$0b2e6adb871a3b94$var$Ca","$0b2e6adb871a3b94$var$Da","$0b2e6adb871a3b94$var$Ea","$0b2e6adb871a3b94$var$Fa","$0b2e6adb871a3b94$var$Ga","$0b2e6adb871a3b94$var$Ha","$0b2e6adb871a3b94$var$Ia","$0b2e6adb871a3b94$var$Ja","$0b2e6adb871a3b94$var$Ka","$0b2e6adb871a3b94$var$La","$0b2e6adb871a3b94$var$A","$0b2e6adb871a3b94$var$Ma","stack","trim","match","$0b2e6adb871a3b94$var$Na","$0b2e6adb871a3b94$var$Oa","prepareStackTrace","defineProperty","set","Reflect","construct","l","l1","l2","l3","displayName","includes","name","$0b2e6adb871a3b94$var$Pa","tag","$0b2e6adb871a3b94$var$Qa","$0b2e6adb871a3b94$var$Ra","$0b2e6adb871a3b94$var$Sa","$0b2e6adb871a3b94$var$Ta","nodeName","$0b2e6adb871a3b94$var$Va","_valueTracker","getOwnPropertyDescriptor","get","configurable","enumerable","getValue","setValue","stopTracking","$0b2e6adb871a3b94$var$Ua","$0b2e6adb871a3b94$var$Wa","checked","$0b2e6adb871a3b94$var$Xa","activeElement","body","$0b2e6adb871a3b94$var$Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","$0b2e6adb871a3b94$var$Za","initialValue","controlled","$0b2e6adb871a3b94$var$ab","$0b2e6adb871a3b94$var$bb","$0b2e6adb871a3b94$var$cb","$0b2e6adb871a3b94$var$db","ownerDocument","$0b2e6adb871a3b94$var$eb","$0b2e6adb871a3b94$var$fb","options","selected","defaultSelected","disabled","$0b2e6adb871a3b94$var$gb","dangerouslySetInnerHTML","$0b2e6adb871a3b94$var$hb","$0b2e6adb871a3b94$var$ib","$0b2e6adb871a3b94$var$jb","textContent","$0b2e6adb871a3b94$var$kb","$0b2e6adb871a3b94$var$lb","$0b2e6adb871a3b94$var$mb","$0b2e6adb871a3b94$var$nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","$0b2e6adb871a3b94$var$ob","lastChild","nodeType","nodeValue","$0b2e6adb871a3b94$var$pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","$0b2e6adb871a3b94$var$qb","$0b2e6adb871a3b94$var$rb","$0b2e6adb871a3b94$var$sb","style","indexOf","setProperty","charAt","substring","$0b2e6adb871a3b94$var$tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","param","source","track","wbr","$0b2e6adb871a3b94$var$ub","$0b2e6adb871a3b94$var$vb","is","$0b2e6adb871a3b94$var$wb","$0b2e6adb871a3b94$var$xb","target","srcElement","correspondingUseElement","parentNode","$0b2e6adb871a3b94$var$yb","$0b2e6adb871a3b94$var$zb","$0b2e6adb871a3b94$var$Ab","$0b2e6adb871a3b94$var$Bb","$0b2e6adb871a3b94$var$Cb","stateNode","$0b2e6adb871a3b94$var$Db","$0b2e6adb871a3b94$var$Eb","$0b2e6adb871a3b94$var$Fb","$0b2e6adb871a3b94$var$Gb","$0b2e6adb871a3b94$var$Hb","$0b2e6adb871a3b94$var$Ib","$0b2e6adb871a3b94$var$Jb","$0b2e6adb871a3b94$var$Kb","$0b2e6adb871a3b94$var$Lb","$0b2e6adb871a3b94$var$Mb","addEventListener","removeEventListener","$0b2e6adb871a3b94$var$Nb","onError","$0b2e6adb871a3b94$var$Ob","$0b2e6adb871a3b94$var$Pb","$0b2e6adb871a3b94$var$Qb","$0b2e6adb871a3b94$var$Rb","$0b2e6adb871a3b94$var$Sb","$0b2e6adb871a3b94$var$Tb","$0b2e6adb871a3b94$var$Vb","alternate","return","flags","$0b2e6adb871a3b94$var$Wb","memoizedState","dehydrated","$0b2e6adb871a3b94$var$Xb","$0b2e6adb871a3b94$var$Zb","child","sibling","$0b2e6adb871a3b94$var$Yb","$0b2e6adb871a3b94$var$$b","$0b2e6adb871a3b94$var$ac","$fO90s","unstable_scheduleCallback","$0b2e6adb871a3b94$var$bc","unstable_cancelCallback","$0b2e6adb871a3b94$var$cc","unstable_shouldYield","$0b2e6adb871a3b94$var$dc","unstable_requestPaint","$0b2e6adb871a3b94$var$B","unstable_now","$0b2e6adb871a3b94$var$ec","unstable_getCurrentPriorityLevel","$0b2e6adb871a3b94$var$fc","unstable_ImmediatePriority","$0b2e6adb871a3b94$var$gc","unstable_UserBlockingPriority","$0b2e6adb871a3b94$var$hc","unstable_NormalPriority","$0b2e6adb871a3b94$var$ic","unstable_LowPriority","$0b2e6adb871a3b94$var$jc","unstable_IdlePriority","$0b2e6adb871a3b94$var$kc","$0b2e6adb871a3b94$var$lc","$0b2e6adb871a3b94$var$oc","Math","clz32","$0b2e6adb871a3b94$var$pc","$0b2e6adb871a3b94$var$qc","log","LN2","$0b2e6adb871a3b94$var$rc","$0b2e6adb871a3b94$var$sc","$0b2e6adb871a3b94$var$tc","$0b2e6adb871a3b94$var$uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","$0b2e6adb871a3b94$var$vc","$0b2e6adb871a3b94$var$xc","$0b2e6adb871a3b94$var$yc","$0b2e6adb871a3b94$var$zc","$0b2e6adb871a3b94$var$Ac","eventTimes","$0b2e6adb871a3b94$var$Cc","$0b2e6adb871a3b94$var$C","$0b2e6adb871a3b94$var$Dc","$0b2e6adb871a3b94$var$Ec","$0b2e6adb871a3b94$var$Fc","$0b2e6adb871a3b94$var$Gc","$0b2e6adb871a3b94$var$Hc","$0b2e6adb871a3b94$var$Ic","$0b2e6adb871a3b94$var$Jc","$0b2e6adb871a3b94$var$Kc","$0b2e6adb871a3b94$var$Lc","$0b2e6adb871a3b94$var$Mc","$0b2e6adb871a3b94$var$Nc","$0b2e6adb871a3b94$var$Oc","Map","$0b2e6adb871a3b94$var$Pc","$0b2e6adb871a3b94$var$Qc","$0b2e6adb871a3b94$var$Rc","$0b2e6adb871a3b94$var$Sc","delete","pointerId","$0b2e6adb871a3b94$var$Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","$0b2e6adb871a3b94$var$Vc","$0b2e6adb871a3b94$var$Wc","priority","isDehydrated","containerInfo","$0b2e6adb871a3b94$var$Xc","$0b2e6adb871a3b94$var$Yc","dispatchEvent","shift","$0b2e6adb871a3b94$var$Zc","$0b2e6adb871a3b94$var$$c","$0b2e6adb871a3b94$var$ad","$0b2e6adb871a3b94$var$bd","$0b2e6adb871a3b94$var$cd","$0b2e6adb871a3b94$var$dd","$0b2e6adb871a3b94$var$ed","$0b2e6adb871a3b94$var$fd","$0b2e6adb871a3b94$var$gd","$0b2e6adb871a3b94$var$hd","$0b2e6adb871a3b94$var$id","$0b2e6adb871a3b94$var$Uc","stopPropagation","$0b2e6adb871a3b94$var$jd","$0b2e6adb871a3b94$var$kd","$0b2e6adb871a3b94$var$ld","$0b2e6adb871a3b94$var$md","$0b2e6adb871a3b94$var$nd","$0b2e6adb871a3b94$var$od","keyCode","charCode","$0b2e6adb871a3b94$var$pd","$0b2e6adb871a3b94$var$qd","$0b2e6adb871a3b94$var$rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","$0b2e6adb871a3b94$var$wd","$0b2e6adb871a3b94$var$xd","$0b2e6adb871a3b94$var$yd","$0b2e6adb871a3b94$var$sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","$0b2e6adb871a3b94$var$td","$0b2e6adb871a3b94$var$ud","view","detail","$0b2e6adb871a3b94$var$vd","$0b2e6adb871a3b94$var$Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","$0b2e6adb871a3b94$var$zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","$0b2e6adb871a3b94$var$Bd","$0b2e6adb871a3b94$var$Dd","dataTransfer","$0b2e6adb871a3b94$var$Fd","$0b2e6adb871a3b94$var$Hd","animationName","elapsedTime","pseudoElement","$0b2e6adb871a3b94$var$Id","clipboardData","$0b2e6adb871a3b94$var$Jd","$0b2e6adb871a3b94$var$Ld","data","$0b2e6adb871a3b94$var$Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","$0b2e6adb871a3b94$var$Nd","$0b2e6adb871a3b94$var$Od","Alt","Control","Meta","Shift","$0b2e6adb871a3b94$var$Pd","$0b2e6adb871a3b94$var$Qd","fromCharCode","code","location","repeat","locale","which","$0b2e6adb871a3b94$var$Rd","$0b2e6adb871a3b94$var$Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","$0b2e6adb871a3b94$var$Vd","touches","targetTouches","changedTouches","$0b2e6adb871a3b94$var$Xd","$0b2e6adb871a3b94$var$Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$0b2e6adb871a3b94$var$Zd","$0b2e6adb871a3b94$var$$d","$0b2e6adb871a3b94$var$ae","$0b2e6adb871a3b94$var$be","documentMode","$0b2e6adb871a3b94$var$ce","$0b2e6adb871a3b94$var$de","$0b2e6adb871a3b94$var$ee","$0b2e6adb871a3b94$var$fe","$0b2e6adb871a3b94$var$ge","$0b2e6adb871a3b94$var$he","$0b2e6adb871a3b94$var$ie","$0b2e6adb871a3b94$var$le","color","date","datetime","email","month","number","password","range","search","tel","text","time","week","$0b2e6adb871a3b94$var$me","$0b2e6adb871a3b94$var$ne","$0b2e6adb871a3b94$var$oe","event","listeners","$0b2e6adb871a3b94$var$pe","$0b2e6adb871a3b94$var$qe","$0b2e6adb871a3b94$var$re","$0b2e6adb871a3b94$var$se","$0b2e6adb871a3b94$var$te","$0b2e6adb871a3b94$var$ue","$0b2e6adb871a3b94$var$ve","$0b2e6adb871a3b94$var$we","$0b2e6adb871a3b94$var$xe","$0b2e6adb871a3b94$var$ye","$0b2e6adb871a3b94$var$ze","oninput","$0b2e6adb871a3b94$var$Ae","detachEvent","$0b2e6adb871a3b94$var$Be","$0b2e6adb871a3b94$var$Ce","attachEvent","$0b2e6adb871a3b94$var$De","$0b2e6adb871a3b94$var$Ee","$0b2e6adb871a3b94$var$Fe","$0b2e6adb871a3b94$var$He","$0b2e6adb871a3b94$var$Ie","$0b2e6adb871a3b94$var$Je","$0b2e6adb871a3b94$var$Ke","node","offset","nextSibling","$0b2e6adb871a3b94$var$Le","contains","compareDocumentPosition","$0b2e6adb871a3b94$var$Me","HTMLIFrameElement","contentWindow","href","$0b2e6adb871a3b94$var$Ne","contentEditable","$0b2e6adb871a3b94$var$Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","$0b2e6adb871a3b94$var$Pe","$0b2e6adb871a3b94$var$Qe","$0b2e6adb871a3b94$var$Re","$0b2e6adb871a3b94$var$Se","$0b2e6adb871a3b94$var$Te","$0b2e6adb871a3b94$var$Ue","$0b2e6adb871a3b94$var$Ve","$0b2e6adb871a3b94$var$We","animationend","animationiteration","animationstart","transitionend","$0b2e6adb871a3b94$var$Xe","$0b2e6adb871a3b94$var$Ye","$0b2e6adb871a3b94$var$Ze","animation","$0b2e6adb871a3b94$var$$e","$0b2e6adb871a3b94$var$af","$0b2e6adb871a3b94$var$bf","$0b2e6adb871a3b94$var$cf","$0b2e6adb871a3b94$var$df","$0b2e6adb871a3b94$var$ef","$0b2e6adb871a3b94$var$ff","$0b2e6adb871a3b94$var$gf","$0b2e6adb871a3b94$var$hf","$0b2e6adb871a3b94$var$lf","$0b2e6adb871a3b94$var$mf","concat","$0b2e6adb871a3b94$var$nf","$0b2e6adb871a3b94$var$Ub","instance","listener","$0b2e6adb871a3b94$var$D","$0b2e6adb871a3b94$var$of","has","$0b2e6adb871a3b94$var$pf","$0b2e6adb871a3b94$var$qf","$0b2e6adb871a3b94$var$rf","random","$0b2e6adb871a3b94$var$sf","capture","passive","n","t","J","x","w","F","$0b2e6adb871a3b94$var$tf","$0b2e6adb871a3b94$var$uf","parentWindow","$0b2e6adb871a3b94$var$vf","$0b2e6adb871a3b94$var$wf","na","xa","$a","ba","$0b2e6adb871a3b94$var$je","char","$0b2e6adb871a3b94$var$ke","unshift","$0b2e6adb871a3b94$var$xf","$0b2e6adb871a3b94$var$yf","$0b2e6adb871a3b94$var$zf","$0b2e6adb871a3b94$var$Af","$0b2e6adb871a3b94$var$Bf","$0b2e6adb871a3b94$var$Cf","$0b2e6adb871a3b94$var$Df","$0b2e6adb871a3b94$var$Ef","__html","$0b2e6adb871a3b94$var$Ff","setTimeout","$0b2e6adb871a3b94$var$Gf","clearTimeout","$0b2e6adb871a3b94$var$Hf","Promise","$0b2e6adb871a3b94$var$Jf","queueMicrotask","catch","$0b2e6adb871a3b94$var$If","$0b2e6adb871a3b94$var$Kf","$0b2e6adb871a3b94$var$Lf","$0b2e6adb871a3b94$var$Mf","previousSibling","$0b2e6adb871a3b94$var$Nf","$0b2e6adb871a3b94$var$Of","$0b2e6adb871a3b94$var$Pf","$0b2e6adb871a3b94$var$Qf","$0b2e6adb871a3b94$var$Rf","$0b2e6adb871a3b94$var$Sf","$0b2e6adb871a3b94$var$Tf","$0b2e6adb871a3b94$var$Uf","$0b2e6adb871a3b94$var$E","$0b2e6adb871a3b94$var$G","$0b2e6adb871a3b94$var$Vf","$0b2e6adb871a3b94$var$H","$0b2e6adb871a3b94$var$Wf","$0b2e6adb871a3b94$var$Xf","$0b2e6adb871a3b94$var$Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","$0b2e6adb871a3b94$var$Zf","childContextTypes","$0b2e6adb871a3b94$var$$f","$0b2e6adb871a3b94$var$ag","$0b2e6adb871a3b94$var$bg","getChildContext","$0b2e6adb871a3b94$var$cg","__reactInternalMemoizedMergedChildContext","$0b2e6adb871a3b94$var$dg","$0b2e6adb871a3b94$var$eg","$0b2e6adb871a3b94$var$fg","$0b2e6adb871a3b94$var$gg","$0b2e6adb871a3b94$var$hg","$0b2e6adb871a3b94$var$jg","$0b2e6adb871a3b94$var$kg","$0b2e6adb871a3b94$var$lg","$0b2e6adb871a3b94$var$mg","$0b2e6adb871a3b94$var$ng","$0b2e6adb871a3b94$var$og","$0b2e6adb871a3b94$var$pg","$0b2e6adb871a3b94$var$qg","$0b2e6adb871a3b94$var$rg","$0b2e6adb871a3b94$var$sg","$0b2e6adb871a3b94$var$tg","$0b2e6adb871a3b94$var$ug","$0b2e6adb871a3b94$var$vg","$0b2e6adb871a3b94$var$wg","$0b2e6adb871a3b94$var$xg","$0b2e6adb871a3b94$var$yg","$0b2e6adb871a3b94$var$I","$0b2e6adb871a3b94$var$zg","$0b2e6adb871a3b94$var$Ag","$0b2e6adb871a3b94$var$Bg","elementType","deletions","$0b2e6adb871a3b94$var$Cg","pendingProps","overflow","treeContext","retryLane","$0b2e6adb871a3b94$var$Dg","mode","$0b2e6adb871a3b94$var$Eg","$0b2e6adb871a3b94$var$Fg","$0b2e6adb871a3b94$var$Gg","memoizedProps","$0b2e6adb871a3b94$var$Hg","$0b2e6adb871a3b94$var$Ig","$0b2e6adb871a3b94$var$Jg","$0b2e6adb871a3b94$var$Kg","$0b2e6adb871a3b94$var$Lg","$0b2e6adb871a3b94$var$Mg","$0b2e6adb871a3b94$var$Ng","$0b2e6adb871a3b94$var$Og","$0b2e6adb871a3b94$var$Pg","$0b2e6adb871a3b94$var$Qg","$0b2e6adb871a3b94$var$Rg","$0b2e6adb871a3b94$var$Sg","childLanes","$0b2e6adb871a3b94$var$Tg","dependencies","firstContext","lanes","$0b2e6adb871a3b94$var$Ug","$0b2e6adb871a3b94$var$Vg","memoizedValue","$0b2e6adb871a3b94$var$Wg","$0b2e6adb871a3b94$var$Xg","$0b2e6adb871a3b94$var$Yg","interleaved","$0b2e6adb871a3b94$var$Zg","$0b2e6adb871a3b94$var$$g","$0b2e6adb871a3b94$var$ah","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","$0b2e6adb871a3b94$var$bh","$0b2e6adb871a3b94$var$ch","eventTime","lane","payload","callback","$0b2e6adb871a3b94$var$dh","$0b2e6adb871a3b94$var$K","$0b2e6adb871a3b94$var$eh","$0b2e6adb871a3b94$var$fh","$0b2e6adb871a3b94$var$gh","q","r","y","$0b2e6adb871a3b94$var$hh","$0b2e6adb871a3b94$var$ih","$0b2e6adb871a3b94$var$jh","Component","$0b2e6adb871a3b94$var$kh","$0b2e6adb871a3b94$var$nh","_reactInternals","$0b2e6adb871a3b94$var$L","$0b2e6adb871a3b94$var$lh","$0b2e6adb871a3b94$var$mh","$0b2e6adb871a3b94$var$oh","shouldComponentUpdate","$0b2e6adb871a3b94$var$ph","contextType","state","$0b2e6adb871a3b94$var$qh","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","$0b2e6adb871a3b94$var$rh","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","$0b2e6adb871a3b94$var$sh","_stringRef","$0b2e6adb871a3b94$var$th","$0b2e6adb871a3b94$var$uh","$0b2e6adb871a3b94$var$vh","index","$0b2e6adb871a3b94$var$wh","$0b2e6adb871a3b94$var$xh","$0b2e6adb871a3b94$var$yh","implementation","$0b2e6adb871a3b94$var$zh","$0b2e6adb871a3b94$var$Ah","$0b2e6adb871a3b94$var$Bh","$0b2e6adb871a3b94$var$Ch","$0b2e6adb871a3b94$var$Dh","$0b2e6adb871a3b94$var$Eh","$0b2e6adb871a3b94$var$Fh","$0b2e6adb871a3b94$var$Gh","$0b2e6adb871a3b94$var$Hh","$0b2e6adb871a3b94$var$Ih","tagName","$0b2e6adb871a3b94$var$Jh","$0b2e6adb871a3b94$var$Kh","$0b2e6adb871a3b94$var$Lh","$0b2e6adb871a3b94$var$M","$0b2e6adb871a3b94$var$Mh","revealOrder","$0b2e6adb871a3b94$var$Nh","$0b2e6adb871a3b94$var$Oh","_workInProgressVersionPrimary","$0b2e6adb871a3b94$var$Ph","$0b2e6adb871a3b94$var$Qh","$0b2e6adb871a3b94$var$Rh","$0b2e6adb871a3b94$var$N","$0b2e6adb871a3b94$var$O","$0b2e6adb871a3b94$var$P","$0b2e6adb871a3b94$var$Sh","$0b2e6adb871a3b94$var$Th","$0b2e6adb871a3b94$var$Uh","$0b2e6adb871a3b94$var$Vh","$0b2e6adb871a3b94$var$Q","$0b2e6adb871a3b94$var$Wh","$0b2e6adb871a3b94$var$Xh","$0b2e6adb871a3b94$var$Yh","$0b2e6adb871a3b94$var$Zh","$0b2e6adb871a3b94$var$$h","$0b2e6adb871a3b94$var$ai","$0b2e6adb871a3b94$var$bi","$0b2e6adb871a3b94$var$ci","baseQueue","queue","$0b2e6adb871a3b94$var$di","$0b2e6adb871a3b94$var$ei","$0b2e6adb871a3b94$var$fi","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","$0b2e6adb871a3b94$var$gi","$0b2e6adb871a3b94$var$hi","$0b2e6adb871a3b94$var$ii","$0b2e6adb871a3b94$var$ji","$0b2e6adb871a3b94$var$ki","getSnapshot","$0b2e6adb871a3b94$var$li","$0b2e6adb871a3b94$var$mi","$0b2e6adb871a3b94$var$R","$0b2e6adb871a3b94$var$ni","lastEffect","stores","$0b2e6adb871a3b94$var$oi","$0b2e6adb871a3b94$var$pi","$0b2e6adb871a3b94$var$qi","$0b2e6adb871a3b94$var$ri","create","destroy","deps","$0b2e6adb871a3b94$var$si","$0b2e6adb871a3b94$var$ti","$0b2e6adb871a3b94$var$ui","$0b2e6adb871a3b94$var$vi","$0b2e6adb871a3b94$var$wi","$0b2e6adb871a3b94$var$xi","$0b2e6adb871a3b94$var$yi","$0b2e6adb871a3b94$var$zi","$0b2e6adb871a3b94$var$Ai","$0b2e6adb871a3b94$var$Bi","$0b2e6adb871a3b94$var$Ci","$0b2e6adb871a3b94$var$Di","$0b2e6adb871a3b94$var$Ei","$0b2e6adb871a3b94$var$Fi","$0b2e6adb871a3b94$var$Gi","$0b2e6adb871a3b94$var$Hi","$0b2e6adb871a3b94$var$Ii","$0b2e6adb871a3b94$var$Ji","readContext","useDebugValue","useMutableSource","unstable_isNewReconciler","identifierPrefix","$0b2e6adb871a3b94$var$Ki","message","digest","$0b2e6adb871a3b94$var$Li","$0b2e6adb871a3b94$var$Mi","console","error","$0b2e6adb871a3b94$var$Ni","WeakMap","$0b2e6adb871a3b94$var$Oi","$0b2e6adb871a3b94$var$Pi","$0b2e6adb871a3b94$var$Qi","$0b2e6adb871a3b94$var$Ri","getDerivedStateFromError","componentDidCatch","$0b2e6adb871a3b94$var$Si","componentStack","$0b2e6adb871a3b94$var$Ti","pingCache","$0b2e6adb871a3b94$var$Ui","$0b2e6adb871a3b94$var$Vi","$0b2e6adb871a3b94$var$Wi","$0b2e6adb871a3b94$var$Xi","$0b2e6adb871a3b94$var$Yi","$0b2e6adb871a3b94$var$Zi","$0b2e6adb871a3b94$var$$i","$0b2e6adb871a3b94$var$aj","$0b2e6adb871a3b94$var$bj","$0b2e6adb871a3b94$var$cj","$0b2e6adb871a3b94$var$dj","$0b2e6adb871a3b94$var$ej","baseLanes","cachePool","transitions","$0b2e6adb871a3b94$var$fj","$0b2e6adb871a3b94$var$gj","$0b2e6adb871a3b94$var$hj","$0b2e6adb871a3b94$var$ij","$0b2e6adb871a3b94$var$jj","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","$0b2e6adb871a3b94$var$kj","$0b2e6adb871a3b94$var$lj","pendingContext","$0b2e6adb871a3b94$var$mj","$0b2e6adb871a3b94$var$Aj","$0b2e6adb871a3b94$var$Cj","$0b2e6adb871a3b94$var$Dj","$0b2e6adb871a3b94$var$nj","$0b2e6adb871a3b94$var$oj","$0b2e6adb871a3b94$var$pj","fallback","$0b2e6adb871a3b94$var$qj","$0b2e6adb871a3b94$var$rj","$0b2e6adb871a3b94$var$tj","dataset","dgst","$0b2e6adb871a3b94$var$uj","$0b2e6adb871a3b94$var$vj","_reactRetry","$0b2e6adb871a3b94$var$sj","subtreeFlags","$0b2e6adb871a3b94$var$wj","$0b2e6adb871a3b94$var$xj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","$0b2e6adb871a3b94$var$yj","$0b2e6adb871a3b94$var$Ej","$0b2e6adb871a3b94$var$S","$0b2e6adb871a3b94$var$Fj","$0b2e6adb871a3b94$var$Gj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","$0b2e6adb871a3b94$var$T","$0b2e6adb871a3b94$var$Hj","$0b2e6adb871a3b94$var$Ij","$0b2e6adb871a3b94$var$Jj","$0b2e6adb871a3b94$var$Kj","$0b2e6adb871a3b94$var$U","$0b2e6adb871a3b94$var$Lj","WeakSet","$0b2e6adb871a3b94$var$V","$0b2e6adb871a3b94$var$Mj","$0b2e6adb871a3b94$var$W","$0b2e6adb871a3b94$var$Nj","$0b2e6adb871a3b94$var$Oj","$0b2e6adb871a3b94$var$Qj","$0b2e6adb871a3b94$var$Rj","$0b2e6adb871a3b94$var$Sj","$0b2e6adb871a3b94$var$Tj","$0b2e6adb871a3b94$var$Uj","$0b2e6adb871a3b94$var$Vj","$0b2e6adb871a3b94$var$Wj","insertBefore","_reactRootContainer","$0b2e6adb871a3b94$var$Xj","$0b2e6adb871a3b94$var$X","$0b2e6adb871a3b94$var$Yj","$0b2e6adb871a3b94$var$Zj","$0b2e6adb871a3b94$var$ak","onCommitFiberUnmount","componentWillUnmount","h1","$0b2e6adb871a3b94$var$bk","$0b2e6adb871a3b94$var$ck","$0b2e6adb871a3b94$var$dk","$0b2e6adb871a3b94$var$ek","$0b2e6adb871a3b94$var$fk","t1","t2","t3","t4","t5","isHidden","$0b2e6adb871a3b94$var$gk","t6","$0b2e6adb871a3b94$var$hk","display","t7","t8","$0b2e6adb871a3b94$var$ik","$0b2e6adb871a3b94$var$jk","$0b2e6adb871a3b94$var$kk","$0b2e6adb871a3b94$var$lk","__reactInternalSnapshotBeforeUpdate","src","k1","k2","k3","k4","$0b2e6adb871a3b94$var$Wk","$0b2e6adb871a3b94$var$mk","ceil","$0b2e6adb871a3b94$var$nk","$0b2e6adb871a3b94$var$ok","$0b2e6adb871a3b94$var$pk","$0b2e6adb871a3b94$var$Y","$0b2e6adb871a3b94$var$Z","$0b2e6adb871a3b94$var$qk","$0b2e6adb871a3b94$var$rk","$0b2e6adb871a3b94$var$sk","$0b2e6adb871a3b94$var$tk","$0b2e6adb871a3b94$var$uk","Infinity","$0b2e6adb871a3b94$var$vk","$0b2e6adb871a3b94$var$wk","$0b2e6adb871a3b94$var$xk","$0b2e6adb871a3b94$var$yk","$0b2e6adb871a3b94$var$zk","$0b2e6adb871a3b94$var$Ak","$0b2e6adb871a3b94$var$Bk","$0b2e6adb871a3b94$var$Ck","$0b2e6adb871a3b94$var$Dk","$0b2e6adb871a3b94$var$Ek","callbackNode","expirationTimes","expiredLanes","$0b2e6adb871a3b94$var$wc","callbackPriority","$0b2e6adb871a3b94$var$ig","$0b2e6adb871a3b94$var$Fk","$0b2e6adb871a3b94$var$Gk","$0b2e6adb871a3b94$var$Hk","$0b2e6adb871a3b94$var$Ik","$0b2e6adb871a3b94$var$Jk","$0b2e6adb871a3b94$var$Kk","$0b2e6adb871a3b94$var$Lk","$0b2e6adb871a3b94$var$Mk","$0b2e6adb871a3b94$var$Nk","$0b2e6adb871a3b94$var$Ok","$0b2e6adb871a3b94$var$Pk","finishedWork","finishedLanes","$0b2e6adb871a3b94$var$Qk","timeoutHandle","$0b2e6adb871a3b94$var$Rk","$0b2e6adb871a3b94$var$Sk","$0b2e6adb871a3b94$var$Tk","$0b2e6adb871a3b94$var$Uk","$0b2e6adb871a3b94$var$Vk","mutableReadLanes","$0b2e6adb871a3b94$var$Bc","F1","$0b2e6adb871a3b94$var$Pj","onCommitFiberRoot","$0b2e6adb871a3b94$var$mc","onRecoverableError","$0b2e6adb871a3b94$var$Xk","onPostCommitFiberRoot","na1","$0b2e6adb871a3b94$var$Yk","$0b2e6adb871a3b94$var$Zk","$0b2e6adb871a3b94$var$al","pendingChildren","$0b2e6adb871a3b94$var$bl","mutableSourceEagerHydrationData","$0b2e6adb871a3b94$var$cl","cache","pendingSuspenseBoundaries","$0b2e6adb871a3b94$var$dl","$0b2e6adb871a3b94$var$el","$0b2e6adb871a3b94$var$fl","$0b2e6adb871a3b94$var$gl","$0b2e6adb871a3b94$var$hl","$0b2e6adb871a3b94$var$il","$0b2e6adb871a3b94$var$jl","$0b2e6adb871a3b94$var$zj","$0b2e6adb871a3b94$var$$k","$0b2e6adb871a3b94$var$ll","reportError","$0b2e6adb871a3b94$var$ml","_internalRoot","$0b2e6adb871a3b94$var$nl","$0b2e6adb871a3b94$var$ol","$0b2e6adb871a3b94$var$pl","$0b2e6adb871a3b94$var$ql","$0b2e6adb871a3b94$var$sl","$0b2e6adb871a3b94$var$rl","unmount","unstable_scheduleHydration","splice","querySelectorAll","JSON","stringify","form","$0b2e6adb871a3b94$var$tl","usingClientEntryPoint","Events","$0b2e6adb871a3b94$var$ul","findFiberByHostInstance","bundleType","version","rendererPackageName","$0b2e6adb871a3b94$var$vl","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0b2e6adb871a3b94$var$wl","isDisabled","supportsFiber","inject","a1","unstable_strictMode","hydratedSources","_getVersion","_source","$bcb017604639e9d7$export$c4744153514ff05d","$bcb017604639e9d7$export$3e506c1ccc9cc1a7","$bcb017604639e9d7$export$e26fe2ed2fa76875","$bcb017604639e9d7$export$502329bbf4b505b1","$bcb017604639e9d7$export$6e3807111c4874c4","$bcb017604639e9d7$export$c27134553091fb3a","$bcb017604639e9d7$export$33ee1acdc04fd2a2","$bcb017604639e9d7$export$b00a404bbd5edef2","$bcb017604639e9d7$export$8352ce38b91d0c62","$bcb017604639e9d7$export$d66a1c1c77bd778b","$bcb017604639e9d7$export$d3dfb8e4810cb555","$bcb017604639e9d7$export$839f9183b0465a69","$bcb017604639e9d7$export$72fdf0e06517287b","$bcb017604639e9d7$export$4b844e58a3e414b4","$bcb017604639e9d7$export$816d2913ae6b83b1","$bcb017604639e9d7$export$61bcfe829111a1d0","$bcb017604639e9d7$export$7ee8c9beb337bc3f","$bcb017604639e9d7$export$b5836b71941fa3ed","$bcb017604639e9d7$export$cf845f2c119da08a","$bcb017604639e9d7$var$f","$bcb017604639e9d7$var$g","$bcb017604639e9d7$var$h","$bcb017604639e9d7$var$k","pop","C","sortIndex","performance","$bcb017604639e9d7$var$l","$bcb017604639e9d7$var$p","$bcb017604639e9d7$var$q","$bcb017604639e9d7$var$r","$bcb017604639e9d7$var$t","$bcb017604639e9d7$var$u","$bcb017604639e9d7$var$v","$bcb017604639e9d7$var$y","$bcb017604639e9d7$var$z","$bcb017604639e9d7$var$A","$bcb017604639e9d7$var$B","$bcb017604639e9d7$var$D","$bcb017604639e9d7$var$E","$bcb017604639e9d7$var$F","setImmediate","$bcb017604639e9d7$var$G","startTime","expirationTime","$bcb017604639e9d7$var$H","$bcb017604639e9d7$var$I","$bcb017604639e9d7$var$J","$bcb017604639e9d7$var$K","$bcb017604639e9d7$var$L","$bcb017604639e9d7$var$M","priorityLevel","navigator","scheduling","isInputPending","$bcb017604639e9d7$var$S","$bcb017604639e9d7$var$N","$bcb017604639e9d7$var$O","$bcb017604639e9d7$var$P","$bcb017604639e9d7$var$Q","$bcb017604639e9d7$var$R","MessageChannel","$bcb017604639e9d7$var$T","$bcb017604639e9d7$var$U","port2","port1","onmessage","postMessage","floor","delay","register","parse","$7b02d682eb115277$exports","$3251146683c5d714$exports","$d2b63732fb4ff365$exports","objA","objB","compareContext","ret","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","$9a1e650477d9d52e$export$2e2bcd8739ae039","W","M","v","K","I","B","p","G","charCodeAt","N","ca","O","A","H","X","D","z","da","ea","fa","L","P","Y","E","ha","Q","ia","Z","ja","ka","aa","la","ma","R","oa","S","U","prefix","use","T","$d9263a4c6739b952$export$2e2bcd8739ae039","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","WebkitLineClamp","$bcd4e42ca4163639$var$reactPropsRegex","$bcd4e42ca4163639$export$2e2bcd8739ae039","fn","arg","undefined","prop","$72623ab6bcb0a33b$var$REACT_STATICS","getDefaultProps","mixins","propTypes","$72623ab6bcb0a33b$var$KNOWN_STATICS","caller","callee","arity","$72623ab6bcb0a33b$var$MEMO_STATICS","$72623ab6bcb0a33b$var$TYPE_STATICS","$72623ab6bcb0a33b$var$getStatics","component","isMemo","ForwardRef","Memo","$72623ab6bcb0a33b$var$defineProperty","$72623ab6bcb0a33b$var$getOwnPropertyNames","getOwnPropertyNames","$72623ab6bcb0a33b$var$getOwnPropertySymbols","getOwnPropertySymbols","$72623ab6bcb0a33b$var$getOwnPropertyDescriptor","$72623ab6bcb0a33b$var$getPrototypeOf","getPrototypeOf","$72623ab6bcb0a33b$var$objectPrototype","$72623ab6bcb0a33b$exports","$72623ab6bcb0a33b$var$hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","$cfae44f0dfdf62c0$var$cachedSetTimeout","$cfae44f0dfdf62c0$var$cachedClearTimeout","$cfae44f0dfdf62c0$var$process","$cfae44f0dfdf62c0$var$defaultSetTimout","$cfae44f0dfdf62c0$var$defaultClearTimeout","$cfae44f0dfdf62c0$var$runTimeout","fun","e1","$cfae44f0dfdf62c0$var$currentQueue","$cfae44f0dfdf62c0$var$queue","$cfae44f0dfdf62c0$var$draining","$cfae44f0dfdf62c0$var$queueIndex","$cfae44f0dfdf62c0$var$cleanUpNextTick","$cfae44f0dfdf62c0$var$drainQueue","timeout","len","run","marker","$cfae44f0dfdf62c0$var$runClearTimeout","$cfae44f0dfdf62c0$var$Item","array","$cfae44f0dfdf62c0$var$noop","$f8dbcd8598db1f0b$var$v","nextTick","args","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","$f8dbcd8598db1f0b$var$g","strings","interpolations","result","typeOf","EMPTY_ARRAY","freeze","EMPTY_OBJECT","isFunction","getComponentName","isStyledComponent","styledComponentId","IS_BROWSER","DISABLE_SPEEDY","Boolean","SC_DISABLE_SPEEDY","STATIC_EXECUTION_CONTEXT","throwStyledComponentsError","DefaultGroupedTag","groupSizes","Uint32Array","indexOfGroup","group","insertRules","rules","oldBuffer","oldSize","newSize","throwStyledError","ruleIndex","insertRule","clearGroup","startIndex","endIndex","deleteRule","getGroup","css","getRule","groupIDRegister","reverseRegister","nextFreeGroup","getGroupForId","$f8dbcd8598db1f0b$var$x","getIdForGroup","setGroupForId","MARKER_RE","RegExp","rehydrateNamesFromContent","sheet","content","names","registerName","rehydrateSheetFromTag","parts","part","parseInt","getTag","getNonce","__webpack_nonce__","makeStyleTag","head","parent","prevStyle","childNodes","hasAttribute","SC_ATTR","__VERSION__","nonce","CSSOMTag","styleSheets","ownerNode","rule","_error","cssRules","cssText","TextTag","nodes","refNode","VirtualTag","_target","SHOULD_REHYDRATE","defaultOptions","isServer","useCSSOMInjection","StyleSheet","globalStyles","gs","server","SELECTOR","getAttribute","registerId","reconstructWithOptions","withNames","allocateGSInstance","hasNameForId","groupNames","clearNames","clear","clearRules","clearTag","selector","AD_REPLACER_R","getAlphabeticChar","generateAlphabeticName","abs","phash","hash","isStaticRules","SEED","ComponentStyle","componentId","baseStyle","staticRulesId","isStatic","NODE_ENV","baseHash","generateAndInjectStyles","executionContext","styleSheet","stylis","cssStatic","flatten","generateName","cssStaticFormatted","dynamicHash","partRule","partChunk","partString","cssFormatted","COMMENT_REGEX","COMPLEX_SELECTOR_PREFIX","createStylisInstance","_componentId","_selector","_selectorRegexp","_consecutiveSelfRefRegExp","plugins","Stylis","parsingRules","parseRulesPlugin","toSheet","block","selectors","parents","line","column","ns","depth","at","delimiter","selfReferenceReplacer","string","stringifyRules","flatCSS","cssStr","_","lastIndexOf","parsedRules","reduce","acc","plugin","StyleSheetContext","React","createContext","StylisContext","masterSheet","masterStylis","useStyleSheet","useStylis","StyleSheetManager","stylisPlugins","setPlugins","contextStyleSheet","disableCSSOMInjection","disableVendorPrefixes","shallowequal","Keyframes","stylisInstance","resolvedName","_this","getName","uppercaseCheck","uppercasePattern","msPattern","prefixAndLowerCase","hyphenateStyleName","isFalsish","chunk","ruleSet","isPlainObject","objToCssArray","obj","prevKey","isCss","hyphenate","unitless","addTag","styles","interleave","originalConsoleError","providedTheme","theme","escapeRegex","dashesAtEnds","escape","str","$f8dbcd8598db1f0b$var$xe","isTag","isObject","val","isValidKey","mixin","mixinDeep","rest","ThemeContext","ThemeProvider","outerTheme","themeContext","identifiers","createStyledComponent","isTargetStyledComp","isCompositeComponent","attrs","parentComponentId","generateComponentId","finalAttrs","filter","shouldForwardProp","filterFn","elementToBeCreated","WrappedStyledComponent","componentStyle","forwardRef","forwardedComponent","forwardedRef","componentAttrs","foldedComponentIds","resolvedAttrs","attrDef","resolvedAttrDef","determineTheme","generatedClassName","warnTooManyClasses","refToForward","$as","as","isTargetTag","computedProps","propsForElement","validAttr","className","withComponent","previousComponentId","optionsToCopy","newComponentId","_foldedDefaultProps","merge","hoist","styled","constructWithOptions","componentConstructor","isValidElementType","templateFunction","withConfig","config","StyledComponent","domElement","GlobalStyle","createStyles","removeStyles","renderStyles","createGlobalStyle","globalStyle","GlobalStyleComponent","memo","keyframes","ServerStyleSheet","_emitSheetCSS","SC_ATTR_VERSION","getStyleTags","sealed","getStyleElement","seal","collectStyles","interleaveWithNodeStream","$f8dbcd8598db1f0b$export$2e2bcd8739ae039","$f8dbcd8598db1f0b$var$He","columnSystem","span","gutter","BORDER_RADIUS","BREAKPOINT","HORIZONTAL_MIN_MARGIN","TYPOGRAPHY_SIZE","$cd69a1d4c6210e44$export$2e2bcd8739ae039","self","ReferenceError","$0ad5d8b55fe970db$export$2e2bcd8739ae039","o","setPrototypeOf","__proto__","$e4c5ebe502337db0$export$2e2bcd8739ae039","$b2099f49db83e2df$export$2e2bcd8739ae039","sham","Proxy","$a01f1d6c8bd49d36$export$2e2bcd8739ae039","Parent","Class","Function","$b6acf1c5cac9dbb2$export$2e2bcd8739ae039","_cache","TypeError","Wrapper","writable","$c5db23e5823ab236$export$2e2bcd8739ae039","raw","$c4f699b4a01e0372$var$PolishedError","_Error","subClass","superClass","PolishedError","$c4f699b4a01e0372$var$_templateObject$1","$c4f699b4a01e0372$var$constructGradientValue","literals","template","_len","substitutions","_key","definedValues","substitute","$c4f699b4a01e0372$export$46def8197cf4dd4c","_ref","colorStops","_ref$toDirection","toDirection","backgroundColor","backgroundImage","$c4f699b4a01e0372$var$colorToInt","round","$c4f699b4a01e0372$var$convertToInt","red","green","blue","$c4f699b4a01e0372$var$hslToRgb","hue","saturation","lightness","convert","huePrime","chroma","secondComponent","lightnessModification","$c4f699b4a01e0372$var$namedColorMap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$c4f699b4a01e0372$var$hexRegex","$c4f699b4a01e0372$var$hexRgbaRegex","$c4f699b4a01e0372$var$reducedHexRegex","$c4f699b4a01e0372$var$reducedRgbaHexRegex","$c4f699b4a01e0372$var$rgbRegex","$c4f699b4a01e0372$var$rgbaRegex","$c4f699b4a01e0372$var$hslRegex","$c4f699b4a01e0372$var$hslaRegex","$c4f699b4a01e0372$export$2f48baff6995707a","normalizedColor","normalizedColorName","$c4f699b4a01e0372$var$nameToHex","alpha","parseFloat","toFixed","_alpha","rgbMatched","exec","rgbaMatched","hslMatched","rgbColorString","hslRgbMatched","hslaMatched","_rgbColorString","_hslRgbMatched","$c4f699b4a01e0372$var$reduceHexValue$1","$c4f699b4a01e0372$var$numberToHex","hex","$c4f699b4a01e0372$export$8972dc0e6ad9238f","$c4f699b4a01e0372$export$4e46ac54fc82cf3b","firstValue","secondValue","thirdValue","fourthValue","rgbValue","$c4f699b4a01e0372$export$34b0917fcca19deb","direction","gradient","linearGradient","ratio","_value$","applyEffectToGradient","effect","applyEffect","baseColor","applySingleEffect","parseToRgb","dst","clamp","rgba","srcA","dstA","outA","EPS","parsed","rgbToColorString","RangeError","max","px","dur","disabledSelector","maxWidth","breakpoint","halfLeading","fontSize","customPropertyToken","modifiers","_assertThisInitialized","_setPrototypeOf","_getPrototypeOf","_isNativeReflectConstruct","_construct","isNativeReflectConstruct","_wrapNativeSuper","colorToInt","convertToInt","hslToRgb","namedColorMap","hexRegex","hexRgbaRegex","reducedHexRegex","reducedRgbaHexRegex","rgbRegex","rgbaRegex","hslRegex","hslaRegex","reduceHexValue$1","numberToHex","rgb","outlineEffect","borderForLight","borderForDark","common","typography","spacing","grid","unit","borderRadius","none","oval","duration","screen1","screen2","screen3","screen4","gradientColor","surface5","callToAction","outline","weight","assertive","elementEffect","light","hover","press","transparent","background1","background2","icon6","link1","link2","surface1","surface2","surface3","surface4","surface6","surface7","surface8","surface9","surface10","text1","text2","text3","text4","text5","brand","warning","success","updatedItem","border","dark","$ebfc6adce9fdacf8$var$warning","$ebfc6adce9fdacf8$exports","unreachable","isPresent","objectAssign","objectKeys","factory","member","chain","defineProperties","fromEntries","constFactory","def","modifiedFactory","recursiveModifiedFactory","applied","notApplied","modifier","variable","background","entries","themeMap","startsWith","customProperties","flatMap","colorKey","variableDefinition","TokenInjector","ready","useMedia","query","matcher","matchMedia","onChange","matches","spacingProperties","spacingDirections","fixedProperties","borderDirections","outlineType","builder","isPhantom","colors","gradientColors","colorCss","createColorCss","gradientColorCss","createGradientColorCss","colorObject","bg","font","typographyModifiers","typographyCss","createTypographyCss","typographyObject","preserveHalfLeading","monospace","bold","spacingCss","createSpacingCss","spacingObject","spacingProperty","fixedPxCss","createFixedPxCss","fixedColumnCss","createFixedColumnCss","fixedRelativeCss","createFixedRelativeCss","fixedObject","property","auto","full","elementEffectCss","createElementEffectCss","elementEffectObject","borderCss","createBorderCss","borderObject","variant","borderRadiusCss","createBorderRadiusCss","borderRadiusObject","radius","outlineCss","createOutlineColorCss","targetProperty","isSupportedEffect","onEffectPseudo","notDisabledSelector","_theme","internal","$cfaecb3e612863cc$var$h","colorTransition","backgroundColorTransition","toLinearGradient","optimized","useHalfLeadingCanceller","position","overlayElement","boxShadow","boxShadowTransition","hasVerticalPadding","cancelHalfLeadingPx","margin","fontFamily","leadingCancel","marginTop","marginBottom","right","bottom","s","amount","_theme$elementEffect$2","directions","all","internalSym","operation","nonBlank","createTheme","_styled","spec","rawSpecDescriptor","specDescriptor","$970d67e60ec978bd$var$twemoji","twemoji","ext","fromCodePoint","codepoint","toCodePoint","onerror","replaceChild","createText","alt","what","how","parseString","parseNode","defaultImageSrcGenerator","attributes","returnNull","folder","re","lastIndex","escaper","UFE0Fg","U200D","rescaper","shouldntBeParsed","clean","icon","grabAllTextNodes","allText","subnode","grabTheRightIcon","rawText","attrib","attrname","modified","fragment","iconId","createDocumentFragment","Image","replacer","unicodeSurrogates","sep","$970d67e60ec978bd$export$2e2bcd8739ae039","Twemoji","emoji","jsx","$4936a890777b2292$var$_StyledSpan","$_css","$_css2","MAX_WIDTH","Aligner","$939bcd180fb038ad$var$_StyledDiv","padding","horizontal","$939bcd180fb038ad$var$_StyledDiv2","DefaultValue","$3a270cbf4792ab41$var$$704cf1d3b684cc5c$var$defaultContext","$3a270cbf4792ab41$var$$704cf1d3b684cc5c$var$SSRContext","$parcel$interopDefault","$3a270cbf4792ab41$var$$704cf1d3b684cc5c$var$canUseDOM","$3a270cbf4792ab41$export$619500959fc48b26","defaultId","ctx","warn","$15e6d94060e5d8b6$var$r","$15e6d94060e5d8b6$export$2e2bcd8739ae039","$3141b2cdad76a0f0$export$e5c5a5f917a5871c","$3141b2cdad76a0f0$var$$bdb11010cef70236$var$idsUpdaterMap","$3141b2cdad76a0f0$export$f680877a34711e37","nextId","res","updateValue","newId","$3141b2cdad76a0f0$export$cd8c9cb68f842629","idA","idB","setIdA","setIdB","$3141b2cdad76a0f0$export$b4cc09c592e8fdb8","depArray","resolvedId","setResolvedId","valueRef","nextRef","newValue","$3141b2cdad76a0f0$export$14d238f342723f25","updateId","getElementById","$3141b2cdad76a0f0$export$e08e3b67e392101e","callbacks","$3141b2cdad76a0f0$export$9d1611c77c2fe928","$3141b2cdad76a0f0$var$$65484d02dcb7eb3e$var$DOMPropNames","$3141b2cdad76a0f0$var$$65484d02dcb7eb3e$var$labelablePropNames","$3141b2cdad76a0f0$var$$65484d02dcb7eb3e$var$propRe","$3141b2cdad76a0f0$export$457c3d6518dd4c6f","opts","labelable","propNames","filteredProps","$3141b2cdad76a0f0$export$de79e2c695e052f3","$3141b2cdad76a0f0$var$$7215afc6de606d6b$var$supportsPreventScrollCached","preventScroll","$3141b2cdad76a0f0$var$$7215afc6de606d6b$var$supportsPreventScroll","scrollableElements","rootScrollingElement","scrollingElement","HTMLElement","offsetHeight","scrollHeight","offsetWidth","scrollWidth","$3141b2cdad76a0f0$var$$7215afc6de606d6b$var$getScrollableElements","$3141b2cdad76a0f0$var$$7215afc6de606d6b$var$restoreScrollPosition","$3141b2cdad76a0f0$var$$bbed8b41f857bcc0$var$transitionsByElement","$3141b2cdad76a0f0$var$$bbed8b41f857bcc0$var$transitionCallbacks","$3141b2cdad76a0f0$var$$bbed8b41f857bcc0$var$setupGlobalEvents","onTransitionEnd","properties","cb","$3141b2cdad76a0f0$export$24490316f764c430","requestAnimationFrame","readyState","$3141b2cdad76a0f0$export$d6875122194c7b44","defaultLabel","label","labelledBy","ids","$3141b2cdad76a0f0$export$4debdb1a3f0fa79e","visualViewport","$3141b2cdad76a0f0$var$$c87311424ea30a05$var$testPlatform","platform","$3141b2cdad76a0f0$export$9ac100e40613ea10","$71efd68cf93b01d8$var$$8a9cb279dc87e130$export$60278871457622de","mozInputSource","$71efd68cf93b01d8$var$$8a9cb279dc87e130$export$905e7fc544a71f36","$71efd68cf93b01d8$var$$8a9cb279dc87e130$export$715c682d09d639cc","onBlur","stateRef","isFocused","observer","disconnect","HTMLButtonElement","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","onBlurHandler","_current","MutationObserver","FocusEvent","observe","attributeFilter","$71efd68cf93b01d8$var$$ae1eeba8b9eafd08$export$5165eccb35aaadb5","$71efd68cf93b01d8$export$f8168d8dd8fd66e6","onFocus","onFocusProp","onBlurProp","onFocusChange","onSyntheticFocus","focusProps","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$currentModality","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$changeHandlers","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$hasSetupGlobalListeners","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$hasEventBeforeFocus","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$hasBlurredWindowRecently","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$triggerChangeHandlers","modality","handler","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$handleKeyboardEvent","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$isValidKey","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$handlePointerEvent","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$handleClickEvent","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$handleFocusEvent","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$handleWindowBlur","$71efd68cf93b01d8$var$$507fabe10e71c6fb$var$setupGlobalFocusEvents","PointerEvent","$71efd68cf93b01d8$var$$93925083ecbb358c$export$48d1ea6320830260","shouldStopPropagation","continuePropagation","$71efd68cf93b01d8$export$8f71654801c2f7cd","keyboardProps","onKeyDown","onKeyUp","$e4dc2706861e9da9$export$80f3e147d781571c","lastFocusedElement","$e4dc2706861e9da9$var$$9bf71ea28793e738$var$focusableElements","$e4dc2706861e9da9$var$$9bf71ea28793e738$var$isElementInScope","scope","some","$e4dc2706861e9da9$var$$9bf71ea28793e738$var$Tree","fastMap","getTreeNode","addTreeNode","scopeRef","nodeToRestore","$e4dc2706861e9da9$var$$9bf71ea28793e738$var$TreeNode","addChild","removeTreeNode","traverse","root","clone","newTree","contain","$e4dc2706861e9da9$var$$e6afbd83fe6ebbd2$var$FocusableContext","$e4dc2706861e9da9$export$4c014de7c8940b4c","domRef","interactions","domProps","otherProps","$e4dc2706861e9da9$var$$e6afbd83fe6ebbd2$var$useFocusableContext","interactionProps","autoFocusRef","focusableProps","tabIndex","excludeFromTabOrder","$5d7e6f35fa332110$export$8467354a121f1b9f","ariaLabelledby","ariaLabel","labelElementType","labelId","labelProps","htmlFor","fieldProps","$5d7e6f35fa332110$export$294aa081a6c6f55d","description","errorMessage","validationState","descriptionId","errorMessageId","descriptionProps","errorMessageProps","$248461183e9438f7$export$712718f7aec83d5","inputElementType","isRequired","isReadOnly","inputOnlyProps","pattern","inputProps","readOnly","autoComplete","maxLength","minLength","placeholder","inputMode","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onSelect","onBeforeInput","onInput","$36b9a7f98c46a9ae$var$$5c3e21d68f1c4674$var$styles","clip","clipPath","whiteSpace","$36b9a7f98c46a9ae$export$a966af930f325cab","isFocusable","setFocused","visuallyHiddenProps","$aa071e3407fc7614$var$i","$aa071e3407fc7614$var$s","$aa071e3407fc7614$var$n","$aa071e3407fc7614$var$v","$aa071e3407fc7614$var$t","$aa071e3407fc7614$var$g","$aa071e3407fc7614$var$o","$aa071e3407fc7614$var$u","isFrozen","thisValue","Func","_toConsumableArray","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len2","_key2","addToSet","transformCaseFunc","lcElement","object","newObject","lookupGetter","desc","fallbackValue","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","_typeof","createPolicy","suffix","ATTR_NAME","currentScript","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","DOMPurify","VERSION","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","_window$NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","trustedTypesPolicy","emptyHTML","_document","createNodeIterator","getElementsByTagName","importNode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","EXPRESSIONS","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","ATTRS","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parentTagName","_forceRemove","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","from","_initDocument","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","hasChildNodes","firstElementChild","_basicCustomElementTest","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","getAttributeType","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","icons","require","pool","PixivIconLoadError","UrlLoader","_name","_url","_promise","_resultSvg","isLoading","fetch","_this3","response","ok","reject","NotRegisteredLoader","__SERVER__","CAN_USE_DOM","globalThis","PixivIcon","svgContent","isVisible","attachShadow","loader","connectedCallback","waitUntilVisible","loadSvg","disconnectedCallback","attributeChangedCallback","_oldValue","forceResizedSize","scaledSize","shadowRoot","registeredLoader","iconUrl","newLoader","_this5","_this6","IntersectionObserver","isIntersecting","rootMargin","ROOT_MARGIN","partial","_this7","scale","Number","customElements","define","Link","to","ComponentAbstractionContext","Clickable","Button","clickableCss","fixed","StyledButton","$25fa1245c7ca8f9c$var$m","StyledIconButton","requiredIconSize","iconSize","hasError","div","readonly","$25fa1245c7ca8f9c$var$sn","$25fa1245c7ca8f9c$var$dn","$25fa1245c7ca8f9c$var$fn","overlay","$25fa1245c7ca8f9c$var$yn","$25fa1245c7ca8f9c$var$wn","$25fa1245c7ca8f9c$var$En","$25fa1245c7ca8f9c$var$kn","$25fa1245c7ca8f9c$var$Cn","$25fa1245c7ca8f9c$var$Rn","$25fa1245c7ca8f9c$var$Sn","$25fa1245c7ca8f9c$var$Pn","$25fa1245c7ca8f9c$var$zn","$25fa1245c7ca8f9c$var$Ln","$25fa1245c7ca8f9c$var$Nn","$25fa1245c7ca8f9c$var$On","$25fa1245c7ca8f9c$var$Tn","$25fa1245c7ca8f9c$var$qn","$25fa1245c7ca8f9c$var$Dn","$25fa1245c7ca8f9c$var$Mn","$25fa1245c7ca8f9c$var$Hn","$25fa1245c7ca8f9c$var$jn","FieldLabel","required","requiredText","subLabel","FieldLabelWrapper","Label","RequiredText","SubLabelClickable","$25fa1245c7ca8f9c$var$Kn","$25fa1245c7ca8f9c$var$Qn","mergeRefs","$25fa1245c7ca8f9c$var$E","countCodePointsInString","TextField","multiline","MultiLineTextField","SingleLineTextField","showLabel","showCount","invalid","assistiveText","useVisuallyHidden","ariaRef","prefixRef","suffixRef","j","setCount","prefixWidth","setPrefixWidth","suffixWidth","setSuffixWidth","nonControlled","handleChange","useTextField","prefixObserver","ResizeObserver","contentRect","suffixObserver","TextFieldRoot","TextFieldLabel","StyledInputContainer","PrefixContainer","Affix","StyledInput","extraLeftPadding","extraRightPadding","SuffixContainer","SingleLineCounter","AssistiveText","autoHeight","rows","initialRows","textareaRef","setRows","syncHeight","textarea","_$match","StyledTextareaContainer","StyledTextarea","noBottomPadding","MultiLineCounter","$25fa1245c7ca8f9c$var$he","unsafeNonGuidelineScale","class","Spinner","$c3ea38996be51ba1$var$_StyledDiv","TEXT_FIELD_MAX_WIDTH","Prologue","onNext","loading","setLoading","uid","setUid","isTypingUid","setIsTypingUid","jsxs","$5651e96e3dfb70f0$var$_StyledDiv","$5651e96e3dfb70f0$var$_StyledDiv2","$5651e96e3dfb70f0$var$_StyledSpan","$5651e96e3dfb70f0$var$_StyledSpan2","$_css3","$5651e96e3dfb70f0$var$_StyledSpan3","$_css4","$5651e96e3dfb70f0$var$_StyledDiv3","$5651e96e3dfb70f0$var$_StyledDiv4","$_css5","$25fa1245c7ca8f9c$export$2c73285ae9390cec","$25fa1245c7ca8f9c$export$353f5b6fc5456de1","async","step","$c3ea38996be51ba1$export$7f7cbe89f1eacd2","Epilogue","$b9c352e9d5b3b5a6$var$_StyledDiv","$b9c352e9d5b3b5a6$var$_StyledSpan","$973e4da43f2a375d$var$getSide","placement","$973e4da43f2a375d$var$getAlignment","$973e4da43f2a375d$var$getMainAxisFromPlacement","$973e4da43f2a375d$var$getLengthFromAxis","axis","$973e4da43f2a375d$var$computeCoordsFromPlacement","rtl","reference","floating","commonX","commonY","mainAxis","commonAlign","isVertical","coords","$973e4da43f2a375d$export$48a53dcb22e581d0","strategy","middleware","isRTL","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","$973e4da43f2a375d$var$getSideObjectFromPadding","$973e4da43f2a375d$var$expandPaddingObject","$973e4da43f2a375d$export$ee05aea0aeecbad4","rect","$973e4da43f2a375d$export$37b6bde19b108ecc","middlewareArguments","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","offsetParent","getOffsetParent","$973e4da43f2a375d$var$hash$1","$973e4da43f2a375d$var$getOppositePlacement","matched","$973e4da43f2a375d$var$getAlignmentSides","alignment","mainAlignmentSide","main","cross","$973e4da43f2a375d$var$hash","$973e4da43f2a375d$var$getOppositeAlignmentPlacement","$973e4da43f2a375d$var$sides","$973e4da43f2a375d$var$allPlacements","side","$973e4da43f2a375d$export$91fb6ecbd551914","_middlewareData$autoP","_middlewareData$autoP2","_middlewareData$autoP3","_middlewareData$autoP4","_placementsSortedByLe","allowedPlacements","autoAlignment","detectOverflowOptions","placements","$973e4da43f2a375d$var$getPlacementList","currentIndex","autoPlacement","currentPlacement","currentOverflows","allOverflows","overflows","nextPlacement","placementsSortedByLeastOverflow","sort","placementThatFitsOnAllSides","find","every","resetPlacement","$973e4da43f2a375d$export$cc800923e997bb8","diffCoords","mainAxisMulti","crossAxisMulti","rawValue","crossAxis","alignmentAxis","$973e4da43f2a375d$var$convertValueToCoords","$461947879dcdbcd4$var$isWindow","alert","setInterval","$461947879dcdbcd4$var$getWindow","$461947879dcdbcd4$var$getComputedStyle","getComputedStyle","$461947879dcdbcd4$var$getNodeName","$461947879dcdbcd4$var$getUAString","uaData","userAgentData","brands","item","userAgent","$461947879dcdbcd4$var$isHTMLElement","$461947879dcdbcd4$var$isElement","$461947879dcdbcd4$var$isShadowRoot","ShadowRoot","$461947879dcdbcd4$var$isOverflowElement","overflowX","overflowY","$461947879dcdbcd4$var$isTableElement","$461947879dcdbcd4$var$isContainingBlock","isFirefox","transform","perspective","willChange","$461947879dcdbcd4$var$isLayoutViewport","$461947879dcdbcd4$var$min","$461947879dcdbcd4$var$max","$461947879dcdbcd4$var$round","$461947879dcdbcd4$var$getBoundingClientRect","includeScale","isFixedStrategy","_win$visualViewport$o","_win$visualViewport","_win$visualViewport$o2","_win$visualViewport2","clientRect","getBoundingClientRect","scaleX","scaleY","win","addVisualOffsets","offsetLeft","offsetTop","$461947879dcdbcd4$var$getDocumentElement","$461947879dcdbcd4$var$getNodeScroll","pageXOffset","pageYOffset","$461947879dcdbcd4$var$getWindowScrollBarX","$461947879dcdbcd4$var$getRectRelativeToOffsetParent","isOffsetParentAnElement","$461947879dcdbcd4$var$isScaled","scroll","offsets","offsetRect","clientLeft","clientTop","$461947879dcdbcd4$var$getParentNode","assignedSlot","host","$461947879dcdbcd4$var$getTrueOffsetParent","$461947879dcdbcd4$var$getOffsetParent","window1","$461947879dcdbcd4$var$getContainingBlock","$461947879dcdbcd4$var$getDimensions","$461947879dcdbcd4$var$getNearestOverflowAncestor","$461947879dcdbcd4$export$3b57c1601291186b","list","_node$ownerDocument","scrollableAncestor","isBody","updatedList","$461947879dcdbcd4$var$getClientRectFromClippingAncestor","clippingParent","clientWidth","clientHeight","layoutViewport","$461947879dcdbcd4$var$getViewportRect","$461947879dcdbcd4$var$getInnerBoundingClientRect","_element$ownerDocumen","$461947879dcdbcd4$var$getDocumentRect","$461947879dcdbcd4$var$getClippingAncestors","clippingAncestors","clipperElement","rootNode","getRootNode","$461947879dcdbcd4$var$contains","$461947879dcdbcd4$export$722a64dea1b767dc","firstClippingAncestor","clippingRect","accRect","clippingAncestor","getClientRects","$461947879dcdbcd4$export$48a53dcb22e581d0","$11492dca620dcaa5$var$checkDCE","checkDCE","err","$11492dca620dcaa5$exports","$23a8f689f1d4c3be$var$index","$23a8f689f1d4c3be$var$deepEqual","$23a8f689f1d4c3be$export$4e02a5c1d08bac65","_temp","whileElementsMounted","setData","latestMiddleware","setLatestMiddleware","_ref2","cleanupRef","dataRef","whileElementsMountedRef","$23a8f689f1d4c3be$var$useLatestRef","update","isMountedRef","flushSync","runElementMountCallback","cleanupFn","setReference","setFloating","FloatingEmojis","floatingEmojis","emojiSize","level","$a3a20e8332a8431a$var$_StyledSpan","positionXPx","$a3a20e8332a8431a$var$_StyledSpan2","floatAnimationCss","initXPx","$4936a890777b2292$export$a6456e10ba675d92","float","createFloatingEmoji","maxDurationMs","MAX_LEVEL_SIZE","emojis","sizeCss","TEXT_NEGATIVE_MARGIN_Y","TEXT_NEGATIVE_MARGIN_X","MAIN_TEXT","sub","Icon","$e69d9c529d1d1512$var$_StyledSvg","viewBox","fill","xmlns","$e69d9c529d1d1512$var$_StyledSvg4","fillRule","clipRule","$e69d9c529d1d1512$var$_StyledSvg3","$e69d9c529d1d1512$var$_StyledSvg2","Main","onEnd","reacted","setReacted","endLoading","setEndLoading","reactionCountRef","reactions","setReactions","tooltip","setTooltip","useFloating","handleBeforeUnload","$c5b6574cf2a8f4d0$var$_StyledDiv","vertical","$c5b6574cf2a8f4d0$var$_StyledDiv2","$c5b6574cf2a8f4d0$var$_StyledDiv3","$c5b6574cf2a8f4d0$var$Image","$c5b6574cf2a8f4d0$var$_StyledDiv4","$c5b6574cf2a8f4d0$var$_StyledDiv5","$_css6","$c5b6574cf2a8f4d0$var$_StyledDiv6","$_css7","$_css8","$c5b6574cf2a8f4d0$var$_StyledDiv7","$_css9","$_css10","$c5b6574cf2a8f4d0$var$_StyledDiv8","$_css11","$c5b6574cf2a8f4d0$var$_StyledDiv9","$c5b6574cf2a8f4d0$var$EmojiButton","withMotion","$c5b6574cf2a8f4d0$var$Tooltip","onConfirm","$c5b6574cf2a8f4d0$var$_StyledDiv10","$_css12","$c5b6574cf2a8f4d0$var$_StyledDiv11","$c5b6574cf2a8f4d0$var$_StyledDiv12","$_css13","$c5b6574cf2a8f4d0$var$_StyledDiv13","$_css14","$_css15","$_css16","$_css17","$c5b6574cf2a8f4d0$var$_StyledDiv14","$_css18","$c5b6574cf2a8f4d0$var$_StyledDiv15","$_css19","$_css20","$_css21","$c5b6574cf2a8f4d0$var$_StyledDiv16","$_css22","slideInAnimationCss","$c5b6574cf2a8f4d0$var$_StyledDiv17","$_css23","$c5b6574cf2a8f4d0$var$_StyledDiv18","$_css24","$_css25","$_css26","$c5b6574cf2a8f4d0$var$_StyledDiv19","$_css27","VARIANT","initCount","mockCounts","LEVEL_THRESHOLD","EmojiButton","setCurrent","plusCount","setPlusCount","setFloatingEmojis","incrementLevelCount","growing","growingRef","levelCount","setLevelCount","timeoutId","useLevel","lag","circleScale","twemojiScale","$c5b6574cf2a8f4d0$var$_StyledSpan","$c5b6574cf2a8f4d0$var$_StyledSpan2","$_css28","$c5b6574cf2a8f4d0$var$_StyledSpan3","$_css29","emojiPulseAnimationCss","initScale","$c5b6574cf2a8f4d0$var$_StyledDiv20","$_css30","circlePulseAnimationCss","$c5b6574cf2a8f4d0$var$_StyledSpan4","$c5b6574cf2a8f4d0$var$_StyledSpan5","$_css31","$c5b6574cf2a8f4d0$var$_StyledSpan6","$a3a20e8332a8431a$export$a9a3c930bf4c85cc","slideToRight","slideToLeft","emojiPulse","circlePulse","Tooltip","$c5b6574cf2a8f4d0$var$_StyledDiv21","$_css32","$c5b6574cf2a8f4d0$var$_StyledDiv22","$_css33","$_css34","$c5b6574cf2a8f4d0$var$_StyledDiv23","$_css35","$c5b6574cf2a8f4d0$var$_StyledSpan7","$_css36","$c5b6574cf2a8f4d0$var$_StyledDiv24","$_css37","$c38e0f42709c826a$var$stringToByteArray$1","out","charToByteMapWebSafe_","ENCODED_VALS_BASE","HAS_NATIVE_SUPPORT","atob","encodeByteArray","webSafe","init_","byteToCharMap","byteToCharMapWebSafe_","byteToCharMap_","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","encodeString","btoa","decodeString","bytes","pos","c1","stringToByteArray","c2","c22","c31","$c38e0f42709c826a$var$byteArrayToString","decodeStringToByteArray","charToByteMap","charToByteMap_","byte4","ENCODED_VALS","ENCODED_VALS_WEBSAFE","$c38e0f42709c826a$export$4b5284a3025a455","utf8Bytes","$c38e0f42709c826a$export$b3b2de96497acc47","$c38e0f42709c826a$export$e510a73ee562749","$c38e0f42709c826a$export$85f6557964517f1a","promise","$c38e0f42709c826a$export$caa8774a9107a58e","runtime","chrome","$c38e0f42709c826a$export$3865db50535c2055","indexedDB","open","DB_CHECK_NAME","onsuccess","close","preExist","deleteDatabase","onupgradeneeded","request","_a","cookieEnabled","super","customData","$c38e0f42709c826a$export$dd24e9cd51226c56","captureStackTrace","$c38e0f42709c826a$export$3fa6e1b18a3b2d40","service","serviceName","errors","fullCode","$c38e0f42709c826a$var$PATTERN","$c38e0f42709c826a$var$replaceTemplate","fullMessage","$c38e0f42709c826a$export$9cb4719e2e525b7a","aKeys","bKeys","aProp","bProp","$c38e0f42709c826a$var$isObject","thing","$a83e7ccd68ca8d4e$export$16fa2f45be04daa8","instanceFactory","multipleInstances","serviceProps","instantiationMode","onInstanceCreated","setServiceProps","container","instances","instancesDeferred","instancesOptions","onInitCallbacks","normalizedIdentifier","deferred","isInitialized","shouldAutoInitialize","normalizeInstanceIdentifier","identifier","optional","$a83e7ccd68ca8d4e$var$isComponentEager","getOrInitializeService","instanceIdentifier","instanceDeferred","services","values","INTERNAL","_delete","isComponentSet","onInit","existingCallbacks","existingInstance","invokeOnInitCallbacks","$45b460d9de9b230f$var$instances","$45b460d9de9b230f$export$243e62d78d3b544d","LogLevel","DEBUG","VERBOSE","INFO","WARN","ERROR","SILENT","$45b460d9de9b230f$var$defaultLogLevel","$45b460d9de9b230f$var$ConsoleMethod","$45b460d9de9b230f$var$defaultLogHandler","logType","logLevel","toISOString","method","_logLevel","_logHandler","_userLogHandler","$45b460d9de9b230f$var$levelStringToEnum","$e67bf383372d72f4$var$idbProxyableTypes","$e67bf383372d72f4$var$cursorAdvanceMethods","$e67bf383372d72f4$var$cursorRequestMap","$e67bf383372d72f4$var$transactionDoneMap","$e67bf383372d72f4$var$transactionStoreNamesMap","$e67bf383372d72f4$var$transformCache","$e67bf383372d72f4$export$407448d2b89b1813","$e67bf383372d72f4$var$idbProxyTraps","receiver","IDBTransaction","objectStoreNames","objectStore","$e67bf383372d72f4$export$efccba1c4a2ef57b","$e67bf383372d72f4$var$wrapFunction","IDBDatabase","transaction","IDBCursor","advance","continue","continuePrimaryKey","$e67bf383372d72f4$export$3b14a55fb2447963","storeNames","tx","$e67bf383372d72f4$var$transformCachableValue","unlisten","complete","DOMException","$e67bf383372d72f4$var$cacheDonePromiseForTransaction","IDBObjectStore","IDBIndex","IDBRequest","$e67bf383372d72f4$var$promisifyRequest","$da032767b57a4aa4$export$ca0ed41b1a2af7e","blocked","upgrade","blocking","terminated","openPromise","oldVersion","newVersion","db","$da032767b57a4aa4$var$readMethods","$da032767b57a4aa4$var$writeMethods","$da032767b57a4aa4$var$cachedMethods","$da032767b57a4aa4$var$getMethod","targetFuncName","useIndex","isWrite","storeName","store","oldTraps","$57d436074e210fb5$var$PlatformLoggerServiceImpl","getPlatformInfoString","databaseCompatName","$45b460d9de9b230f$export$efa9a398d6368992","$57d436074e210fb5$var$PLATFORM_LOG_STRING","$57d436074e210fb5$export$b4e3c36c855b14b5","$57d436074e210fb5$export$9566bce3835c0f28","$57d436074e210fb5$export$fa5244b94c62d36a","app","addComponent","$57d436074e210fb5$var$logger","debug","$57d436074e210fb5$export$c930050e7bb63965","componentName","$57d436074e210fb5$export$fa0d6da0f5838f50","heartbeatController","getProvider","getImmediate","triggerHeartbeat","$57d436074e210fb5$var$ERROR_FACTORY","setLogLevelImpl","$57d436074e210fb5$var$FirebaseAppImpl","_isDeleted","_options","_config","_automaticDataCollectionEnabled","automaticDataCollectionEnabled","_container","checkDestroyed","isDeleted","appName","$57d436074e210fb5$export$d29d5299a7137abc","libraryKeyOrName","library","versionMismatch","libraryMismatch","$1ee9b91e988771f9$var$ERROR_FACTORY","$1ee9b91e988771f9$var$isServerError","$1ee9b91e988771f9$var$getInstallationsEndpoint","projectId","$1ee9b91e988771f9$var$extractAuthTokenInfoFromResponse","token","requestStatus","expiresIn","responseExpiresIn","creationTime","$1ee9b91e988771f9$var$getErrorFromResponse","requestName","json","serverCode","errorData","serverMessage","serverStatus","status","$1ee9b91e988771f9$var$getHeaders","apiKey","Headers","Accept","appConfig","refreshToken","append","$1ee9b91e988771f9$var$getAuthorizationHeader","headers","$1ee9b91e988771f9$var$retryIfServerError","$1ee9b91e988771f9$var$sleep","ms","$1ee9b91e988771f9$var$VALID_FID_PATTERN","$1ee9b91e988771f9$var$generateFid","fidByteArray","Uint8Array","crypto","msCrypto","getRandomValues","fid","substr","$1ee9b91e988771f9$var$encode","$1ee9b91e988771f9$var$getKey","appId","$1ee9b91e988771f9$var$fidChangeCallbacks","$1ee9b91e988771f9$var$fidChanged","$1ee9b91e988771f9$var$callFidChangeCallbacks","$1ee9b91e988771f9$var$getBroadcastChannel","$1ee9b91e988771f9$var$broadcastChannel","BroadcastChannel","$1ee9b91e988771f9$var$closeBroadcastChannel","$1ee9b91e988771f9$var$getDbPromise","$1ee9b91e988771f9$var$dbPromise","createObjectStore","$1ee9b91e988771f9$var$set","oldValue","put","$1ee9b91e988771f9$var$remove","$1ee9b91e988771f9$var$update","updateFn","$1ee9b91e988771f9$var$getInstallationEntry","installations","registrationPromise","installationEntry","oldEntry","$1ee9b91e988771f9$var$clearTimedOutRequest","registrationStatus","$1ee9b91e988771f9$var$updateOrCreateInstallationEntry","entryWithPromise","onLine","inProgressEntry","registrationTime","registeredInstallationEntry","endpoint","heartbeatService","heartbeatServiceProvider","heartbeatsHeader","getHeartbeatsHeader","sdkVersion","responseValue","authToken","$1ee9b91e988771f9$var$createInstallationRequest","$1ee9b91e988771f9$var$registerInstallation","$1ee9b91e988771f9$var$waitUntilFidRegistration","$1ee9b91e988771f9$var$triggerRegistrationIfNecessary","entry","$1ee9b91e988771f9$var$updateInstallationRequest","$1ee9b91e988771f9$var$generateAuthTokenRequest","$1ee9b91e988771f9$var$getGenerateAuthTokenEndpoint","$1ee9b91e988771f9$var$getHeadersWithAuth","installation","$0d15f034d14801d0$var$promiseAllSettled","promises","$0d15f034d14801d0$var$wrapGtag","gtagCore","initializationPromisesMap","command","idOrNameOrParams","gtagParams","dynamicConfigPromisesList","measurementId","initializationPromisesToWaitFor","gaSendToList","dynamicConfigResults","sendToId","foundConfig","initializationPromise","$0d15f034d14801d0$var$logger","$0d15f034d14801d0$var$gtagOnEvent","measurementIdToAppId","correspondingAppId","$0d15f034d14801d0$var$gtagOnConfig","$0d15f034d14801d0$var$defaultRetryData","throttleMetadata","intervalMillis","metadata","$0d15f034d14801d0$var$getHeaders","$0d15f034d14801d0$var$fetchDynamicConfigWithRetry","timeoutMillis","$0d15f034d14801d0$var$ERROR_FACTORY","retryData","getThrottleMetadata","backoffCount","throttleEndTimeMillis","signal","$0d15f034d14801d0$var$AnalyticsAbortSignal","abort","$0d15f034d14801d0$var$attemptFetchDynamicConfigWithRetry","appFields","backoffMillis","$0d15f034d14801d0$var$setAbortableTimeout","appUrl","jsonResponse","_ignored","httpStatus","responseMessage","$0d15f034d14801d0$var$fetchDynamicConfig","deleteThrottleMetadata","_b","$c38e0f42709c826a$export$4d810c0ca64ed8e9","$0d15f034d14801d0$var$defaultEventParametersForInit","scriptTags","dataLayerName","script","dataLayer","gtagFunctionName","gtagFunction","eventName","eventParams","global","send_to","$d286e426fc35c29d$var$k","goog","goog.global","$d286e426fc35c29d$var$aa","goog.isArrayLike","$d286e426fc35c29d$var$ba","goog.isObject","$d286e426fc35c29d$var$p","goog.UID_PROPERTY_","goog.uidCounter_","goog.bindNative_","$d286e426fc35c29d$var$fa","selfObj","var_args","goog.bindJs_","$d286e426fc35c29d$var$ha","boundArgs","newArgs","goog.bind","goog.bind.apply","goog.partial","$d286e426fc35c29d$var$ia","goog.inherits","$d286e426fc35c29d$var$t","childCtor","parentCtor","tempCtor","superClass_","childCtor.base","me","methodName","goog.Disposable","$d286e426fc35c29d$var$v","disposed_","onDisposeCallbacks_","OFF","goog.Disposable.instances_","dispose","goog.Disposable.prototype.dispose","disposeInternal","goog.Disposable.MONITORING_MODE","goog.getUid","goog.Disposable.prototype.disposeInternal","arr","opt_fromIndex","fromIndex","rv","arr1","arr2","len1","len2","goog.events.Event","$d286e426fc35c29d$var$w","opt_target","goog.events.Event.prototype.preventDefault","PASSIVE_EVENTS","goog.global.addEventListener","goog.nullFunction","goog.global.removeEventListener","goog.string.internal.isEmptyOrWhitespace","$d286e426fc35c29d$var$pa","goog.string.internal.trim","$d286e426fc35c29d$var$ra","getNativeUserAgentString","$d286e426fc35c29d$var$sa","goog.global.navigator","matchUserAgent","$d286e426fc35c29d$var$x","goog.reflect.sinkValue","$d286e426fc35c29d$var$ta","goog.userAgent.VERSION","goog.userAgent.OPERA","goog.userAgent.IE","goog.userAgent.EDGE","goog.userAgent.EDGE_OR_IE","goog.userAgent.GECKO","subString","goog.userAgent.WEBKIT","$d286e426fc35c29d$var$Ba","docMode","goog.userAgent.getDocumentMode_","$d286e426fc35c29d$var$Ea","$d286e426fc35c29d$var$Ja","goog.userAgent.isVersionOrHigherCache_","$d286e426fc35c29d$var$Ia","valueFn","cacheObj","$d286e426fc35c29d$var$ua","v1Subs","v2Subs","subCount","subIdx","v1Sub","v2Sub","v1Comp","v2Comp","goog.string.internal.compareElements_","goog.userAgent.DOCUMENT_MODE","goog.events.BrowserEvent","$d286e426fc35c29d$var$z","opt_e","opt_currentTarget","goog.events.Event.call","goog.events.BrowserEvent.base","event_","init","relevantTouch","MOUSEOVER","MOUSEOUT","goog.events.BrowserEvent.IE_POINTER_TYPE_MAP","goog.events.BrowserEvent.superClass_.preventDefault.call","TOUCH","PEN","MOUSE","goog.events.BrowserEvent.prototype.preventDefault","be","goog.events.Listenable.IMPLEMENTED_BY_PROP","goog.events.ListenableKey.counter_","goog.events.Listener","$d286e426fc35c29d$var$Oa","opt_handler","proxy","callOnce","goog.events.Listener.prototype.markAsRemoved","opt_obj","$d286e426fc35c29d$var$Ra","PROTOTYPE_FIELDS","$d286e426fc35c29d$var$Ta","goog.events.ListenerMap","$d286e426fc35c29d$var$Ua","typeCount_","goog.events.ListenerMap.prototype.removeByKey","$d286e426fc35c29d$var$Wa","markAsRemoved","goog.events.ListenerMap.findListenerIndex_","$d286e426fc35c29d$var$Va","listenerArray","opt_useCapture","opt_listenerScope","listenerObj","goog.events.ListenerMap.prototype.add","typeStr","goog.events.LISTENER_MAP_PROP_","goog.events.onStringMap_","goog.events.listen","opt_options","$d286e426fc35c29d$var$ab","goog.events.wrapListener","listen","goog.events.listen_","listenerMap","goog.events.getListenerMap_","goog.events.getProxy","eventObject","proxyCallbackFunction","goog.events.handleBrowserEvent_","goog.events.BrowserFeature.PASSIVE_EVENTS","goog.events.getOnString_","goog.events.listenOnce","listenOnce","goog.events.unlisten","$d286e426fc35c29d$var$hb","eventTargetListeners_","goog.events.unlistenByKey","$d286e426fc35c29d$var$ib","removeByKey","$d286e426fc35c29d$var$Ya","goog.events.onString_","$d286e426fc35c29d$var$gb","opt_evt","listenerFn","listenerHandler","$d286e426fc35c29d$var$db","goog.events.LISTENER_WRAPPER_PROP_","handleEvent","goog.events.EventTarget","$d286e426fc35c29d$var$B","goog.Disposable.call","actualEventTarget_","parentEventTarget_","$d286e426fc35c29d$var$C","goog.events.EventTarget.prototype.dispatchEvent","ancestorsTree","ancestor","getParentEventTarget","oldEvent","opt_ancestorsTree","fireListeners","$d286e426fc35c29d$var$kb","goog.events.EventTarget.prototype.fireListeners","unlistenByKey","goog.events.EventTarget.prototype.removeEventListener","opt_capture","opt_handlerScope","goog.events.EventTarget.prototype.disposeInternal","goog.events.EventTarget.superClass_.disposeInternal.call","goog.events.EventTarget.prototype.listen","goog.events.EventTarget.prototype.listenOnce","goog.json.serialize","goog.async.run.workQueue_.remove","workHead_","workTail_","$d286e426fc35c29d$var$ub","module$contents$goog$async$WorkQueue_WorkQueue.freelist_","goog.async.FreeList","create_","reset_","occupants_","head_","WorkItem","$d286e426fc35c29d$var$qb","throwException","exception","goog.global.setTimeout","goog.async.run","$d286e426fc35c29d$var$sb","opt_context","goog.async.run.schedule_","goog.global.Promise.resolve","goog.async.run.processWorkQueue","goog.async.run.initializeRunner_","$d286e426fc35c29d$var$wb","goog.async.run.workQueueScheduled_","goog.async.run.workQueue_","module$contents$goog$async$WorkQueue_WorkQueue.freelist_.get","module$contents$goog$async$WorkQueue_WorkQueue.freelist_.put","goog.Timer","opt_interval","opt_timerObject","goog.events.EventTarget.call","interval_","timerObject_","boundTick_","tick_","last_","$d286e426fc35c29d$var$zb","goog.Timer.prototype.stop","enabled","timer_","goog.Timer.callOnce","$d286e426fc35c29d$var$Ab","opt_delay","goog.Timer.INVALID_TIMEOUT_ID_","doAction_","$d286e426fc35c29d$var$Bb","onTimer_","shouldFire_","args_","listener_","$d286e426fc35c29d$var$yb","JSC$2088_enabled","goog.Timer.prototype","JSC$2088_timer_","goog.Timer.prototype.tick_","elapsed","goog.Timer.intervalScale","dispatchTick","goog.Timer.TICK","stop","goog.Timer.prototype.start","goog.Timer.prototype.disposeInternal","goog.Timer.superClass_.disposeInternal.call","Throttle","interval","fire","goog.global.clearTimeout","goog.events.EventHandler","$d286e426fc35c29d$var$D","opt_scope","handler_","keys_","goog.events.EventHandler.typeArray_","$d286e426fc35c29d$var$Eb","goog.events.EventHandler.prototype.listen_","opt_fn","goog.events.EventHandler.prototype.removeAll","$d286e426fc35c29d$var$Fb","goog.labs.net.webChannel.WebChannelDebug","$d286e426fc35c29d$var$Gb","redactEnabled_","WebChannelDebug.prototype.xmlHttpChannelResponseText","$d286e426fc35c29d$var$E","responseText","opt_desc","info","WebChannelDebug.prototype.redactResponse_","responseArray","dataPart","redactResponse_","goog.events.EventHandler.prototype.disposeInternal","goog.events.EventHandler.superClass_.disposeInternal.call","removeAll","goog.events.EventHandler.prototype.handleEvent","disableRedact","WebChannelDebug.prototype.disableRedact","WebChannelDebug.prototype.info","goog.labs.net.webChannel.requestStats.Event","goog.labs.net.webChannel.requestStats.eventTarget_","$d286e426fc35c29d$var$Mb","$d286e426fc35c29d$var$Lb","requestStats.ServerReachabilityEvent","$d286e426fc35c29d$var$Nb","goog.labs.net.webChannel.requestStats.Event.SERVER_REACHABILITY_EVENT","SERVER_REACHABILITY_EVENT","requestStats.notifyServerReachabilityEvent","$d286e426fc35c29d$var$H","reachabilityType","goog.labs.net.webChannel.requestStats.getStatEventTarget_","goog.labs.net.webChannel.requestStats.ServerReachabilityEvent","$d286e426fc35c29d$var$Ob","eventTarget","stat","goog.labs.net.webChannel.requestStats.Event.STAT_EVENT","STAT_EVENT","requestStats.notifyStatEvent","goog.labs.net.webChannel.requestStats.StatEvent","$d286e426fc35c29d$var$Pb","goog.labs.net.webChannel.requestStats.Event.TIMING_EVENT","TIMING_EVENT","$d286e426fc35c29d$var$J","goog.labs.net.webChannel.requestStats.TimingEvent","goog.net.ErrorCode","NO_ERROR","ACCESS_DENIED","FILE_NOT_FOUND","FF_SILENT_ERROR","CUSTOM_ERROR","EXCEPTION","HTTP_ERROR","ABORT","TIMEOUT","OFFLINE","goog.net.EventType","COMPLETE","SUCCESS","READY","READY_STATE_CHANGE","INCREMENTAL_DATA","PROGRESS","DOWNLOAD_PROGRESS","UPLOAD_PROGRESS","goog.net.XmlHttpFactory","$d286e426fc35c29d$var$Sb","goog.net.XmlHttpFactory.prototype.getOptions","$d286e426fc35c29d$var$Tb","cachedOptions_","internalGetOptions","goog.net.WebChannel","$d286e426fc35c29d$var$Ub","$d286e426fc35c29d$var$Xb","goog.net.WebChannel.EventType","OPEN","CLOSE","MESSAGE","goog.net.WebChannel.MessageEvent","$d286e426fc35c29d$var$Vb","goog.net.WebChannel.MessageEvent.base","goog.net.WebChannel.ErrorEvent","$d286e426fc35c29d$var$Wb","goog.net.WebChannel.ErrorEvent.base","goog.net.DefaultXmlHttpFactory","$d286e426fc35c29d$var$Yb","goog.labs.net.webChannel.ChannelRequest","$d286e426fc35c29d$var$L","channel","channelDebug","opt_requestId","opt_retryId","channel_","channelDebug_","rid_","retryId_","eventHandler_","timeout_","goog.labs.net.webChannel.ChannelRequest.TIMEOUT_MS_","EDGE_POLLING_INTERVAL_","pollingTimer_","extraHeaders_","successful_","postData_","requestUri_","baseUri_","type_","requestStartTime_","watchDogTimeoutTime_","watchDogTimerId_","pendingMessages_","xmlHttp_","xmlHttpChunkStart_","lastError_","verb_","lastStatusCode_","cancelled_","readyStateChangeThrottleMs_","readyStateChangeThrottle_","firstByteReceived_","initialResponseDecoded_","decodeInitialResponse_","decodeChunks_","fetchResponseState_","goog.labs.net.webChannel.FetchResponseState","$d286e426fc35c29d$var$$b","textDecoder","responseBuffer","responseArrivedForFetch","createInstance","goog.net.DefaultXmlHttpFactory.prototype.createInstance","XMLHttpRequest","goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions","goog.net.XmlHttp.factory_","goog.labs.net.webChannel.ChannelRequest.INVALID_CHUNK_","goog.labs.net.webChannel.ChannelRequest.INCOMPLETE_CHUNK_","$d286e426fc35c29d$var$cc","ChannelRequest.prototype.xmlHttpPost","uri","postData","XML_HTTP","makeUnique","decodeChunks","sendXmlHttp_","ChannelRequest.prototype.sendXmlHttp_","$d286e426fc35c29d$var$ec","hostPrefix","$d286e426fc35c29d$var$N","ensureWatchDogTimer_","$d286e426fc35c29d$var$fc","queryData_","useSecondaryDomains","supportsCrossDomainXhrs_","createXhrIo","xmlHttpHandler_","readyStateChangeHandler_","send","goog.labs.net.webChannel.requestStats.notifyServerReachabilityEvent","REQUEST_MADE","WebChannelDebug.prototype.xmlHttpChannelRequest","verb","attempt","params","keyValue","keyParts","$d286e426fc35c29d$var$Hb","ChannelRequest.prototype.useFetchStreamsForResponse_","$d286e426fc35c29d$var$jc","CLOSE_REQUEST","usesFetchStreams_","ChannelRequest.prototype.decodeNextChunks_","$d286e426fc35c29d$var$lc","chunkText","decodeNextChunksSuccessful","getNextChunk_","BAD_DATA","goog.labs.net.webChannel.requestStats.notifyStatEvent","REQUEST_INCOMPLETE_DATA","REQUEST_BAD_DATA","safeOnRequestData_","useFetchStreamsForResponse_","maybeResetBuffer_","NO_DATA","REQUEST_NO_DATA","backChannelRequest_","detectBufferingProxy_","bpDetectionDone_","clearBpDetectionTimer_","NOPROXY","xmlHttpChannelResponseText","cleanup_","dispatchFailure_","ChannelRequest.prototype.getNextChunk_","sizeStartIndex","sizeEndIndex","$d286e426fc35c29d$var$ac","chunkStartIndex","ChannelRequest.prototype.ensureWatchDogTimer_","$d286e426fc35c29d$var$pc","startWatchDogTimer_","ChannelRequest.prototype.startWatchDogTimer_","goog.labs.net.webChannel.requestStats.setTimeout","onWatchDogTimeout_","ChannelRequest.prototype.cancelWatchDogTimer_","$d286e426fc35c29d$var$ic","$d286e426fc35c29d$var$Q","ChannelRequest.prototype.dispatchFailure_","CLOSED","state_","onRequestComplete","ChannelRequest.prototype.cleanup_","$d286e426fc35c29d$var$P","cancelWatchDogTimer_","xmlhttp","ChannelRequest.prototype.safeOnRequestData_","hasRequest","forwardChannelRequestPool_","OPENED","wireCodec_","parser_","ex","responseValues","handlePostResponse_","backChannelTimerId_","goog.labs.net.webChannel.WebChannelBase.RTT_ESTIMATE","clearDeadBackchannelTimer_","cancelBackChannelRequest_","$d286e426fc35c29d$var$tc","BACKCHANNEL_MISSING","lastPostResponseArrayId_","lastArrayId_","goog.labs.net.webChannel.WebChannelBase.OUTSTANDING_DATA_BACKCHANNEL_RETRY_CUTOFF","enableStreaming_","backChannelRetryCount_","deadBackChannelTimerId_","onBackChannelDead_","getRequestCount","onForwardChannelFlushed_","forwardChannelFlushedCallback_","$d286e426fc35c29d$var$R","signalError_","BAD_RESPONSE","respArray","nextArray","onInput_","OPENING","sid_","hostPrefix_","negotiatedVersion","channelVersion_","negotiatedServerVersion","serverVersion_","serverKeepaliveMs","Ca","backChannelRequestTimeoutMs_","applyControlHeaders_","xhr","clientProtocol","xhr_","getResponseHeader","goog.net.WebChannel.X_CLIENT_WIRE_PROTOCOL","requestPool_","maxSize_","maxPoolSizeConfigured_","request_","addRequest","getHttpSessionIdParam","httpSessionIdParam_","httpSessionIdHeader","goog.net.WebChannel.X_HTTP_SESSION_ID","setHttpSessionId","httpSessionId_","setParameterValue","forwardChannelUri_","channelOpened","handshakeRttMs_","startBackchannelAfterHandshake_","backChannelUri_","createDataUri","getBackChannelUri","path_","removeRequest","opt_timeout","ensureBackChannel_","outgoingMaps_","ensureForwardChannel_","STOP","channelHandleArray","BACK_CHANNEL_ACTIVITY","goog.structs.forEach","$d286e426fc35c29d$var$Dc","goog.structs.getKeys","getKeys","getValues","goog.structs.getValues","ChannelRequest.prototype.setTimeout","goog.labs.net.webChannel.ChannelRequest.prototype","ChannelRequest.prototype.readyStateChangeHandler_","evt","throttle","INTERACTIVE","getReadyState","ChannelRequest.prototype.xmlHttpHandler_","onXmlHttpReadyStateChanged_","errorCode","getLastErrorCode","statusCode","getStatus","getResponseText","getResponse","REQUEST_FAILED","REQUEST_SUCCEEDED","responseChunks","responseLength","requestCompleted","TextDecoder","goog.global.TextDecoder","decode","stream","WebChannelDebug.prototype.xmlHttpChannelResponseMetaData","xmlHttpChannelResponseMetaData","goog.net.WebChannel.X_HTTP_INITIAL_RESPONSE","initialResponse","UNKNOWN_SESSION_ID","$d286e426fc35c29d$var$I","REQUEST_UNKNOWN_SESSION_ID","decodeNextChunks_","listen_","pollResponse_","STATUS","REQUEST_BAD_STATUS","ChannelRequest.prototype.pollResponse_","cancel","ChannelRequest.prototype.cancel","ChannelRequest.prototype.onWatchDogTimeout_","WebChannelDebug.prototype.timeoutResponse","timeoutResponse","handleTimeout_","REQUEST_TIMEOUT","goog.uri.utils.splitRe_","goog.Uri","$d286e426fc35c29d$var$T","opt_uri","opt_ignoreCase","domain_","userInfo_","scheme_","port_","fragment_","ignoreCase_","$d286e426fc35c29d$var$Gc","setScheme","setUserInfo","setPort","setPath","goog.Uri.QueryData","encodedQuery_","keyMap_","count_","$d286e426fc35c29d$var$Jc","setQueryData","SCHEME","goog.Uri.decodeOrEmpty_","USER_INFO","setDomain","DOMAIN","PORT","PATH","QUERY_DATA","setFragment","FRAGMENT","goog.Uri.prototype.clone","$d286e426fc35c29d$var$M","goog.Uri.prototype.setScheme","newScheme","opt_decode","goog.Uri.prototype.setPort","$d286e426fc35c29d$var$Hc","newPort","goog.Uri.prototype.setQueryData","queryData","goog.Uri.QueryData.prototype.setIgnoreCase","ignoreCase","ensureKeyMapInitialized_","invalidateCache_","lowerCase","setValues","setIgnoreCase","goog.Uri.encodeSpecialChars_","goog.Uri.reDisallowedInQuery_","goog.Uri.prototype.setParameterValue","$d286e426fc35c29d$var$S","goog.Uri.prototype.makeUnique","RANDOM","opt_preserveReserved","decodeURI","decodeURIComponent","$d286e426fc35c29d$var$Lc","unescapedPart","extra","opt_removeDoubleEncoding","encoded","encodeURI","goog.Uri.encodeChar_","$d286e426fc35c29d$var$Sc","ch","goog.Uri.prototype.toString","scheme","getScheme","goog.Uri.reDisallowedInSchemeOrUserInfo_","domain","getDomain","userInfo","getUserInfo","port","getPort","path","getPath","hasDomain","goog.Uri.reDisallowedInAbsolutePath_","goog.Uri.reDisallowedInRelativePath_","getEncodedQuery","getFragment","goog.Uri.reDisallowedInFragment_","$d286e426fc35c29d$var$Ic","opt_query","goog.Uri.QueryData.prototype.ensureKeyMapInitialized_","$d286e426fc35c29d$var$U","goog.uri.utils.parseQueryData","encodedQuery","indexOfEquals","$d286e426fc35c29d$var$Tc","goog.Uri.QueryData.prototype.remove","getKeyName_","goog.Uri.QueryData.prototype.containsKey","$d286e426fc35c29d$var$Uc","goog.Uri.QueryData.prototype.setValues","goog.Uri.QueryData.prototype.getKeyName_","keyName","goog.Uri.QueryData.prototype.add","goog.Uri.QueryData.prototype","goog.Uri.QueryData.prototype.forEach","goog.Uri.QueryData.prototype.getKeys","vals","goog.Uri.QueryData.prototype.getValues","opt_key","containsKey","goog.Uri.QueryData.prototype.set","goog.Uri.QueryData.prototype.get","opt_default","goog.Uri.QueryData.prototype.toString","sb","encodedKey","ForwardChannelRequestPool","$d286e426fc35c29d$var$Wc","opt_maxPoolSize","module$contents$goog$labs$net$webChannel$ForwardChannelRequestPool_ForwardChannelRequestPool.MAX_POOL_SIZE_","goog.global.PerformanceNavigationTiming","PerformanceNavigationTiming","entrys","goog.global.performance.getEntriesByType","getEntriesByType","nextHopProtocol","goog.global.chrome","goog.global.chrome.loadTimes","loadTimes","wasFetchedViaSpdy","ForwardChannelRequestPool.prototype.isFull","$d286e426fc35c29d$var$Yc","ForwardChannelRequestPool.prototype.getRequestCount","$d286e426fc35c29d$var$uc","ForwardChannelRequestPool.prototype.hasRequest","req","ForwardChannelRequestPool.prototype.addRequest","$d286e426fc35c29d$var$vc","ForwardChannelRequestPool.prototype.removeRequest","ForwardChannelRequestPool.prototype.getPendingMessages","goog.json.NativeJsonProcessor","goog.labs.net.webChannel.WireV8","WireV8.prototype.encodeMessage","$d286e426fc35c29d$var$bd","buffer","opt_prefix","encodedValue","netUtils.imageCallback_","$d286e426fc35c29d$var$dd","debugText","onload","onabort","ontimeout","goog.net.FetchXmlHttpFactory","worker_","worker","streamBinaryChunks_","streamBinaryChunks","goog.net.FetchXmlHttp","goog.net.FetchXmlHttp.base","credentialsMode_","goog.net.FetchXmlHttp.RequestState.UNSENT","responseType","statusText","onreadystatechange","requestHeaders_","responseHeaders_","method_","url_","inProgress_","textDecoder_","currentReader_","fetchResponse_","ForwardChannelRequestPool.prototype.cancel","getPendingMessages","goog.json.NativeJsonProcessor.prototype.stringify","$d286e426fc35c29d$var$l","opt_replacer","goog.json.NativeJsonProcessor.prototype.parse","opt_reviver","goog.net.FetchXmlHttpFactory.prototype.createInstance","goog.functions.constant","retValue","UNSENT","goog.net.FetchXmlHttp.prototype.readInputFromFetch_","read","handleDataFromStream_","handleSendFailure_","$d286e426fc35c29d$var$id","goog.net.FetchXmlHttp.prototype.requestDone_","DONE","$d286e426fc35c29d$var$hd","dispatchCallback_","goog.net.FetchXmlHttp.prototype.dispatchCallback_","$d286e426fc35c29d$var$fd","goog.net.FetchXmlHttp.prototype.open","goog.net.FetchXmlHttp.prototype","goog.net.FetchXmlHttp.prototype.send","opt_data","requestInit","credentials","Request","handleResponse_","goog.net.FetchXmlHttp.prototype.abort","requestDone_","goog.net.FetchXmlHttp.prototype.handleResponse_","HEADER_RECEIVED","LOADING","arrayBuffer","handleResponseArrayBuffer_","ReadableStream","getReader","readInputFromFetch_","handleResponseText_","goog.net.FetchXmlHttp.prototype.handleDataFromStream_","dataPacket","newText","goog.net.FetchXmlHttp.prototype.handleResponseText_","goog.net.FetchXmlHttp.prototype.handleResponseArrayBuffer_","responseArrayBuffer","goog.net.FetchXmlHttp.prototype.handleSendFailure_","setRequestHeader","goog.net.FetchXmlHttp.prototype.setRequestHeader","header","goog.net.FetchXmlHttp.prototype.getResponseHeader","getAllResponseHeaders","goog.net.FetchXmlHttp.prototype.getAllResponseHeaders","lines","iter","pair","getCredentialsMode","setCredentialsMode","goog.json.hybrid.parse","goog.net.XhrIo","$d286e426fc35c29d$var$W","opt_xmlHttpFactory","goog.net.XhrIo.base","xmlHttpFactory_","active_","xhrOptions_","lastUri_","lastErrorCode_","inAbort_","inOpen_","inSend_","errorDispatched_","timeoutInterval_","timeoutId_","responseType_","goog.net.XhrIo.ResponseType.DEFAULT","useXhr2Timeout_","withCredentials_","DEFAULT","goog.net.XhrIo.HTTP_SCHEME_PATTERN","goog.net.XhrIo.METHODS_WITH_FORM_DATA","$d286e426fc35c29d$var$od","goog.net.XhrIo.prototype.error_","$d286e426fc35c29d$var$rd","dispatchErrors_","$d286e426fc35c29d$var$sd","cleanUpXhr_","goog.net.XhrIo.prototype.dispatchErrors_","$d286e426fc35c29d$var$td","goog.net.XhrIo.prototype.onReadyStateChangeHelper_","LOCAL_REQUEST_ERROR","onReadyStateChange_","isComplete","isSuccess","OK","CREATED","ACCEPTED","NO_CONTENT","PARTIAL_CONTENT","NOT_MODIFIED","QUIRK_IE_NO_CONTENT","goog.global.self","goog.global.self.location","protocol","goog.global.self.location.protocol","goog.net.XhrIo.HTTP_SCHEME_PATTERN.test","LOADED","getStatusText","goog.net.XhrIo.prototype.cleanUpXhr_","opt_fromDispose","cleanUpTimeoutTimer_","clearedOnReadyStateChange","USE_NULL_FUNCTION","goog.net.XhrIo.prototype.cleanUpTimeoutTimer_","$d286e426fc35c29d$var$pd","goog.net.XhrIo.prototype.getReadyState","$d286e426fc35c29d$var$O","UNINITIALIZED","goog.net.XhrIo.prototype.getResponse","$d286e426fc35c29d$var$hc","TEXT","ARRAY_BUFFER","mozResponseArrayBuffer","exports.generateHttpHeadersOverwriteParam","exports.setHttpHeadersWithOverwriteParam","urlParam","extraHeaders","httpHeaders","module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam","getInternalChannelParam","paramName","internalChannelParams","goog.labs.net.webChannel.WebChannelBase","$d286e426fc35c29d$var$xd","extraParams_","httpHeadersOverwriteParam_","initHeaders_","nextMapId_","nextRid_","failFast_","$jscomp.scope.getInternalChannelParam","forwardChannelTimerId_","allowStreamingMode_","backChannelAttemptId_","forwardChannelRetryCount_","baseRetryDelayMs_","retryDelaySeedMs_","forwardChannelMaxRetries_","forwardChannelRequestTimeoutMs_","xmlHttpFactory","useFetchStreams","supportsCrossDomainXhr","concurrentRequestLimit","fastHandshake_","fastHandshake","encodeInitMessageHeaders_","encodeInitMessageHeaders","blockingHandshake_","blockingHandshake","forceLongPolling","detectBufferingProxy","nonAckedMapsAtChannelClose_","bpDetectionTimerId_","$d286e426fc35c29d$var$Ac","WebChannelBase.prototype.disconnect","cancelRequests_","rid","$d286e426fc35c29d$var$zd","addAdditionalParams_","requestSent","goog.global.navigator.sendBeacon","sendBeacon","goog.global.Image","onClose_","WebChannelBase.prototype.cancelBackChannelRequest_","WebChannelBase.prototype.cancelRequests_","$d286e426fc35c29d$var$yd","clearForwardChannelTimer_","WebChannelBase.prototype.ensureForwardChannel_","$d286e426fc35c29d$var$zc","isFull","onStartForwardChannelTimer_","$d286e426fc35c29d$var$Ed","WebChannelBase.prototype.makeForwardChannelRequest_","opt_retryRequest","module$exports$goog$net$rpc$HttpCors.setHttpHeadersWithOverwriteParam","requeuePendingMaps_","requestText","dequeueOutgoingMaps_","goog.labs.net.webChannel.WebChannelBase.MAX_MAPS_PER_REQUEST_","WebChannelBase.prototype.addAdditionalParams_","WebChannelBase.prototype.dequeueOutgoingMaps_","$d286e426fc35c29d$var$Dd","maxNum","badMapHandler","badMapError","messageQueue","mapId","encodeMessage","pendingMessages","WebChannelBase.prototype.ensureBackChannel_","$d286e426fc35c29d$var$yc","onStartBackChannelTimer_","WebChannelBase.prototype.maybeRetryBackChannel_","goog.labs.net.webChannel.WebChannelBase.BACK_CHANNEL_MAX_RETRIES","getRetryTime_","$d286e426fc35c29d$var$oc","WebChannelBase.prototype.clearBpDetectionTimer_","WebChannelBase.prototype.startBackChannel_","$d286e426fc35c29d$var$Fd","WebChannelBase.prototype.clearDeadBackchannelTimer_","$d286e426fc35c29d$var$rc","WebChannelBase.prototype.onRequestComplete","$d286e426fc35c29d$var$mc","BACK_CHANNEL","FORWARD_CHANNEL","rtt","retries","lastError","WebChannelBase.prototype.maybeRetryForwardChannel_","INIT","getForwardChannelMaxRetries","maybeRetryForwardChannel_","maybeRetryBackChannel_","WebChannelBase.prototype.getRetryTime_","$d286e426fc35c29d$var$Cd","retryCount","retryTime","isActive","goog.labs.net.webChannel.WebChannelBase.INACTIVE_CHANNEL_RETRY_FACTOR","WebChannelBase.prototype.signalError_","imageUri","testNetworkCallback_","goog.global.location","goog.global.location.protocol","netUtils.testLoadImage","goog.labs.net.webChannel.netUtils.imageCallback_","goog.labs.net.webChannel.netUtils.NETWORK_TIMEOUT","$d286e426fc35c29d$var$cd","ERROR_OTHER","onError_","channelError","$d286e426fc35c29d$var$Ad","WebChannelBase.prototype.onClose_","channelClosed","WebChannelBase.prototype.createDataUri","$d286e426fc35c29d$var$wc","locationPage","hostName","hostname","opt_scheme","opt_domain","opt_port","getHttpSessionId","WebChannelBase.prototype.createXhrIo","isStreaming","WebChannelBase.Handler","$d286e426fc35c29d$var$Gd","goog.labs.net.webChannel.WebChannelBaseTransport","$d286e426fc35c29d$var$Hd","$d286e426fc35c29d$var$X","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.base","messageUrlParams_","messageUrlParams","messageHeaders","clientProtocolHeaderRequired","goog.net.WebChannel.X_CLIENT_PROTOCOL","goog.net.WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL","initHeaders","initMessageHeaders","messageContentType","goog.net.WebChannel.X_WEBCHANNEL_CONTENT_TYPE","clientProfile","goog.net.WebChannel.X_WEBCHANNEL_CLIENT_PROFILE","httpHeadersOverwriteParam","supportsCrossDomainXhr_","sendRawJson_","sendRawJson","httpSessionIdParam","channelHandler_","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.Handler_","WebChannelBaseTransport.Channel.MessageEvent","$d286e426fc35c29d$var$Id","goog.net.WebChannel.MessageEvent.call","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.MessageEvent.base","__sm__","metadataKey","$d286e426fc35c29d$var$Jd","goog.net.WebChannel.ErrorEvent.call","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.ErrorEvent.base","NETWORK_ERROR","$d286e426fc35c29d$var$Y","JSC$2188_send","goog.net.XhrIo.prototype.send","opt_method","opt_content","opt_headers","createXhr","goog.net.XmlHttp.factory_.createInstance","getOptions","goog.net.XmlHttp.factory_.getOptions","error_","contentTypeKey","contentIsFormData","FormData","goog.net.XhrIo.CONTENT_TYPE_HEADER","goog.net.XhrIo.FORM_CONTENT_TYPE","withCredentials","goog.net.XhrIo.shouldUseXhr2Timeout_","$d286e426fc35c29d$var$y","goog.userAgent.isVersionOrHigher","goog.net.XhrIo.prototype","JSC$2188_timeout_","goog.net.XhrIo.prototype.timeout_","$d286e426fc35c29d$var$goog","goog.net.XhrIo.prototype.abort","opt_failureCode","goog.net.XhrIo.prototype.disposeInternal","goog.net.XhrIo.prototype.disposeInternal.base","goog.net.XhrIo.prototype.onReadyStateChange_","isDisposed","onReadyStateChangeHelper_","onReadyStateChangeEntryPoint_","goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_","goog.net.XhrIo.prototype.getStatus","goog.net.XhrIo.prototype.getResponseText","getResponseJson","goog.net.XhrIo.prototype.getResponseJson","opt_xssiPrefix","$d286e426fc35c29d$var$kd","goog.net.XhrIo.prototype.getLastErrorCode","JSC$2188_getLastError","goog.net.XhrIo.prototype.getLastError","goog.labs.net.webChannel.Wire.LATEST_CHANNEL_VERSION","goog.labs.net.webChannel.WebChannelBase.prototype","JSC$2195_state_","WebChannelBase.prototype.onStartForwardChannelTimer_","startForwardChannel_","total","goog.labs.net.webChannel.Wire.RAW_DATA_KEY","__data__","goog.labs.net.webChannel.WebChannelBase.MAX_CHARS_PER_GET_","goog.net.WebChannelTransport.CLIENT_VERSION","xmlHttpPost","makeForwardChannelRequest_","WebChannelBase.prototype.onStartBackChannelTimer_","startBackChannel_","bpDetectionTimeout","onBpDetectionTimer_","WebChannelBase.prototype.onBpDetectionTimer_","PROXY","WebChannelBase.prototype.onBackChannelDead_","BACKCHANNEL_DEAD","WebChannelBase.prototype.testNetworkCallback_","networkUp","ERROR_NETWORK","WebChannelBase.Handler.prototype.channelOpened","WebChannelBase.Handler.prototype.channelHandleArray","goog.labs.net.webChannel.WebChannelBase.Handler.prototype","WebChannelBase.Handler.prototype.channelError","WebChannelBase.Handler.prototype.channelClosed","WebChannelBase.Handler.prototype.badMapError","createWebChannel","WebChannelBaseTransport.prototype.createWebChannel","goog.labs.net.webChannel.WebChannelBaseTransport.Channel","WebChannelBaseTransport.Channel.prototype.open","supportCrossDomain","CONNECT_ATTEMPT","channelPath","opt_extraParams","connectChannel_","WebChannelBaseTransport.Channel.prototype.close","WebChannelBaseTransport.Channel.prototype.send","rawJson","messageToMapObject_","WebChannelBaseTransport.Channel.prototype.disposeInternal","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.superClass_.disposeInternal.call","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.prototype.disposeInternal.base","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.MessageEvent","goog.labs.net.webChannel.WebChannelBaseTransport.Channel.ErrorEvent","goog.labs.net.webChannel.WebChannelBase.Handler","WebChannelBaseTransport.Channel.Handler_.prototype.channelOpened","WebChannelBaseTransport.Channel.Handler_.prototype.channelHandleArray","WebChannelBaseTransport.Channel.Handler_.prototype.channelError","WebChannelBaseTransport.Channel.Handler_.prototype.channelClosed","EventType","$d286e426fc35c29d$var$K","getLastError","goog.net.createWebChannelTransport","$d286e426fc35c29d$export$888d0d9ab79d08fc","$d286e426fc35c29d$export$2e2bcd8739ae039","getStatEventTarget","requestStats.getStatEventTarget","$d286e426fc35c29d$export$3d7865934588d77e","$d286e426fc35c29d$export$d61e24a684f9e51","Event","$d286e426fc35c29d$export$cbbc350c1dfc80cb","Stat","goog.labs.net.webChannel.requestStats.Stat","TEST_STAGE_ONE_START","TEST_STAGE_TWO_START","TEST_STAGE_TWO_DATA_ONE","TEST_STAGE_TWO_DATA_TWO","TEST_STAGE_TWO_DATA_BOTH","TEST_STAGE_ONE_FAILED","TEST_STAGE_TWO_FAILED","BROWSER_OFFLINE","$d286e426fc35c29d$export$ddb1030448106742","FetchXmlHttpFactory","$d286e426fc35c29d$export$aa726fb96ad3e039","WebChannel","$d286e426fc35c29d$export$26404658cda3ee02","XhrIo","$70fd6868680e912c$var$b","isAuthenticated","toKey","isEqual","UNAUTHENTICATED","GOOGLE_CREDENTIALS","FIRST_PARTY","MOCK_USER","$70fd6868680e912c$var$P","$70fd6868680e912c$var$v","$70fd6868680e912c$var$V","$70fd6868680e912c$var$D","$70fd6868680e912c$var$N","$70fd6868680e912c$var$C","$70fd6868680e912c$export$86cd73f49cc6e0bb","$70fd6868680e912c$var$k","$70fd6868680e912c$var$M","$70fd6868680e912c$var$F","$70fd6868680e912c$var$$","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","UNAVAILABLE","DATA_LOSS","$70fd6868680e912c$export$8fada0bf726bf278","$70fd6868680e912c$var$L","$70fd6868680e912c$var$U","user","$70fd6868680e912c$export$65ffa50b6039c992","getToken","invalidateToken","enqueueRetryable","shutdown","$70fd6868680e912c$var$G","currentUser","forceRefresh","auth","addAuthTokenListener","accessToken","removeAuthTokenListener","getUid","$70fd6868680e912c$var$Q","getAuthHeaderValueForFirstParty","$70fd6868680e912c$var$j","$70fd6868680e912c$var$W","$70fd6868680e912c$var$z","appCheck","addTokenListener","removeTokenListener","$70fd6868680e912c$var$J","$70fd6868680e912c$var$Y","static","$70fd6868680e912c$var$X","$70fd6868680e912c$var$Z","$70fd6868680e912c$export$d9bcbd5e1ff81430","seconds","nanoseconds","fromMillis","getTime","toDate","toMillis","_compareTo","toJSON","padStart","$70fd6868680e912c$var$nt","timestamp","compareTo","toMicroseconds","toTimestamp","$70fd6868680e912c$var$st","segments","comparator","limit","popFirst","popLast","firstSegment","lastSegment","isEmpty","isPrefixOf","isImmediateParentOf","n1","$70fd6868680e912c$var$it","canonicalString","$70fd6868680e912c$var$rt","$70fd6868680e912c$export$b7871852b967eaf1","isValidIdentifier","isKeyField","e2","$70fd6868680e912c$export$afc2e57c475b7810","fromString","emptyPath","collectionGroup","hasCollectionId","getCollectionGroup","getCollectionPath","$70fd6868680e912c$var$ct","indexId","fields","indexState","UNKNOWN_ID","$70fd6868680e912c$var$wt","fromTimestamp","$70fd6868680e912c$var$gt","empty","$70fd6868680e912c$var$mt","readTime","documentKey","largestBatchId","$70fd6868680e912c$var$yt","$70fd6868680e912c$var$pt","$70fd6868680e912c$var$It","onCommittedListeners","addOnCommittedListener","raiseOnCommittedEvent","$70fd6868680e912c$var$Tt","$70fd6868680e912c$var$Et","nextCallback","catchCallback","isDone","callbackAttached","wrapFailure","wrapSuccess","toPromise","wrapUserFunction","waitFor","$70fd6868680e912c$var$vt","$70fd6868680e912c$var$kt","previousValue","sequenceNumberHandler","ut","ct","writeSequenceNumber","$70fd6868680e912c$var$Mt","$70fd6868680e912c$var$Ot","$70fd6868680e912c$var$Ft","$70fd6868680e912c$var$$t","$70fd6868680e912c$var$Lt","EMPTY","insert","copy","BLACK","minKey","maxKey","inorderTraversal","reverseTraversal","getIterator","$70fd6868680e912c$var$Bt","getIteratorFrom","getReverseIterator","getReverseIteratorFrom","isReverse","nodeStack","getNext","hasNext","peek","RED","fixUp","removeMin","isRed","moveRedLeft","rotateRight","moveRedRight","rotateLeft","colorFlip","checkMaxDepth","check","pow","$70fd6868680e912c$var$Ut","first","forEachInRange","forEachWhile","firstAfterOrEqual","$70fd6868680e912c$var$qt","unionWith","$70fd6868680e912c$var$Gt","covers","$70fd6868680e912c$var$jt","binaryString","toBase64","toUint8Array","approximateByteSize","EMPTY_BYTE_STRING","$70fd6868680e912c$var$Wt","$70fd6868680e912c$var$zt","nanos","$70fd6868680e912c$var$Ht","$70fd6868680e912c$var$Jt","fromBase64String","fromUint8Array","$70fd6868680e912c$var$Yt","mapValue","__type__","stringValue","$70fd6868680e912c$var$Xt","__previous_value__","$70fd6868680e912c$var$Zt","__local_write_time__","timestampValue","$70fd6868680e912c$var$te","databaseId","persistenceKey","ssl","autoDetectLongPolling","$70fd6868680e912c$export$4c3ccc07620ae30a","database","isDefaultDatabase","$70fd6868680e912c$var$ne","$70fd6868680e912c$var$se","$70fd6868680e912c$var$ie","isInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","$70fd6868680e912c$var$re","$70fd6868680e912c$var$ue","$70fd6868680e912c$var$Te","$70fd6868680e912c$var$ce","booleanValue","bytesValue","referenceValue","geoPointValue","latitude","longitude","integerValue","doubleValue","arrayValue","$70fd6868680e912c$var$ae","$70fd6868680e912c$var$he","$70fd6868680e912c$var$le","$70fd6868680e912c$var$fe","$70fd6868680e912c$var$de","fromName","$70fd6868680e912c$var$we","$70fd6868680e912c$var$me","$70fd6868680e912c$var$ge","$70fd6868680e912c$var$ye","$70fd6868680e912c$var$pe","$70fd6868680e912c$var$Ie","$70fd6868680e912c$var$Pe","field","getFieldsMap","setAll","applyChanges","$70fd6868680e912c$var$ve","$70fd6868680e912c$var$Ve","documentType","documentState","convertToFoundDocument","convertToNoDocument","convertToUnknownDocument","setHasCommittedMutations","setHasLocalMutations","setReadTime","hasLocalMutations","hasCommittedMutations","hasPendingWrites","isValidDocument","isFoundDocument","isNoDocument","isUnknownDocument","mutableCopy","$70fd6868680e912c$var$Se","orderBy","filters","startAt","endAt","ht","$70fd6868680e912c$var$De","$70fd6868680e912c$var$Ce","op","inclusive","$70fd6868680e912c$var$Ne","$70fd6868680e912c$var$He","$70fd6868680e912c$var$Ye","$70fd6868680e912c$var$ke","isDocumentKey","$70fd6868680e912c$var$$e","lt","$70fd6868680e912c$var$Be","$70fd6868680e912c$var$Ke","$70fd6868680e912c$var$Ge","$70fd6868680e912c$var$Qe","$70fd6868680e912c$var$je","$70fd6868680e912c$var$Le","$70fd6868680e912c$var$Ue","ft","dt","$70fd6868680e912c$var$qe","nullValue","$70fd6868680e912c$var$We","$70fd6868680e912c$var$ze","$70fd6868680e912c$var$Je","$70fd6868680e912c$var$Xe","explicitOrderBy","limitType","_t","wt","$70fd6868680e912c$var$Ze","$70fd6868680e912c$var$tn","$70fd6868680e912c$var$en","$70fd6868680e912c$var$nn","$70fd6868680e912c$var$sn","$70fd6868680e912c$var$rn","$70fd6868680e912c$var$on","keyField","$70fd6868680e912c$var$un","$70fd6868680e912c$var$cn","$70fd6868680e912c$var$an","$70fd6868680e912c$var$hn","$70fd6868680e912c$var$ln","$70fd6868680e912c$var$xe","$70fd6868680e912c$var$fn","$70fd6868680e912c$var$dn","$70fd6868680e912c$var$_n","$70fd6868680e912c$var$wn","$70fd6868680e912c$var$mn","gt","$70fd6868680e912c$var$gn","$70fd6868680e912c$var$yn","$70fd6868680e912c$var$pn","$70fd6868680e912c$var$In","$70fd6868680e912c$var$An","$70fd6868680e912c$var$Rn","$70fd6868680e912c$var$bn","$70fd6868680e912c$var$Pn","$70fd6868680e912c$var$vn","$70fd6868680e912c$var$En","$70fd6868680e912c$var$Sn","yt","It","$70fd6868680e912c$var$Tn","$70fd6868680e912c$var$Vn","$70fd6868680e912c$var$Dn","$70fd6868680e912c$var$Nn","transformResults","$70fd6868680e912c$var$kn","updateTime","exists","isNone","$70fd6868680e912c$var$Mn","$70fd6868680e912c$var$On","$70fd6868680e912c$var$Fn","$70fd6868680e912c$var$Wn","$70fd6868680e912c$var$qn","$70fd6868680e912c$var$Kn","$70fd6868680e912c$var$$n","$70fd6868680e912c$var$Qn","fieldTransforms","precondition","$70fd6868680e912c$var$Gn","$70fd6868680e912c$var$Bn","$70fd6868680e912c$var$jn","fieldMask","$70fd6868680e912c$var$Ln","$70fd6868680e912c$var$Un","$70fd6868680e912c$var$xn","getFieldMask","$70fd6868680e912c$var$zn","$70fd6868680e912c$var$Hn","$70fd6868680e912c$var$Jn","$70fd6868680e912c$var$Yn","$70fd6868680e912c$var$Xn","$70fd6868680e912c$var$Zn","$70fd6868680e912c$var$ts","mapKeyFn","equalsFn","inner","innerSize","$70fd6868680e912c$var$es","$70fd6868680e912c$var$ns","$70fd6868680e912c$var$ss","$70fd6868680e912c$var$is","$70fd6868680e912c$var$rs","overlayedDocument","$70fd6868680e912c$var$os","$70fd6868680e912c$var$cs","$70fd6868680e912c$var$us","$70fd6868680e912c$var$as","$70fd6868680e912c$var$hs","$70fd6868680e912c$var$ls","$70fd6868680e912c$var$fs","$70fd6868680e912c$var$ds","$70fd6868680e912c$var$_s","snapshotVersion","targetChanges","targetMismatches","documentUpdates","resolvedLimboDocuments","$70fd6868680e912c$var$ws","createSynthesizedTargetChangeForCurrentChange","resumeToken","addedDocuments","modifiedDocuments","removedDocuments","$70fd6868680e912c$var$ms","Tt","removedTargetIds","Et","$70fd6868680e912c$var$gs","targetId","At","$70fd6868680e912c$var$ys","targetIds","cause","$70fd6868680e912c$var$ps","Rt","bt","$70fd6868680e912c$var$Es","Pt","vt","Vt","St","Dt","Ct","xt","Nt","kt","Mt","Ot","Ft","$t","$70fd6868680e912c$var$Is","Bt","Lt","Ut","qt","$70fd6868680e912c$var$Ts","Kt","Gt","Qt","jt","Wt","forEachTarget","zt","Ht","removeTarget","Jt","Yt","Xt","newNoDocument","Zt","te","ee","purpose","ne","getRemoteKeysForTarget","se","$70fd6868680e912c$var$As","asc","$70fd6868680e912c$var$Rs","in","$70fd6868680e912c$var$bs","$70fd6868680e912c$var$Ps","$70fd6868680e912c$var$vs","$70fd6868680e912c$var$Vs","$70fd6868680e912c$var$Ss","$70fd6868680e912c$var$Ds","$70fd6868680e912c$var$Cs","$70fd6868680e912c$var$si","$70fd6868680e912c$var$xs","$70fd6868680e912c$var$Ns","$70fd6868680e912c$var$Fs","$70fd6868680e912c$var$ks","$70fd6868680e912c$var$Ms","$70fd6868680e912c$var$Os","$70fd6868680e912c$var$$s","$70fd6868680e912c$var$qs","updateMask","$70fd6868680e912c$var$ni","verify","updateTransforms","fieldPath","setToServerValue","appendMissingElements","removeAllFromArray","increment","currentDocument","$70fd6868680e912c$var$Qs","documents","$70fd6868680e912c$var$js","structuredQuery","collectionId","allDescendants","unaryFilter","$70fd6868680e912c$var$Xs","fieldFilter","$70fd6868680e912c$var$Ys","compositeFilter","where","$70fd6868680e912c$var$Js","before","$70fd6868680e912c$var$Ws","$70fd6868680e912c$var$Hs","$70fd6868680e912c$var$Zs","$70fd6868680e912c$var$ei","$70fd6868680e912c$var$ti","fromServerFormat","NaN","fieldPaths","$70fd6868680e912c$var$Pi","$70fd6868680e912c$var$Vi","$70fd6868680e912c$var$Si","$70fd6868680e912c$var$Ni","batchId","localWriteTime","baseMutations","mutations","applyToRemoteDocument","mutationResults","applyToLocalView","applyToLocalDocumentSet","mutatedFields","$70fd6868680e912c$var$ki","batch","commitVersion","docVersions","$70fd6868680e912c$var$Mi","mutation","getKey","$70fd6868680e912c$var$Oi","sequenceNumber","lastLimboFreeSnapshotVersion","withSequenceNumber","withResumeToken","withLastLimboFreeSnapshotVersion","$70fd6868680e912c$var$Fi","$70fd6868680e912c$var$ji","$70fd6868680e912c$var$er","ce","ae","he","le","fe","de","_e","we","ge","n2","ye","pe","Ie","Te","$70fd6868680e912c$var$fr","Ye","$70fd6868680e912c$var$dr","addToCollectionParentIndex","getCollectionParents","getEntries","addFieldIndex","deleteFieldIndex","getDocumentsMatchingTarget","getIndexType","getFieldIndexes","getNextCollectionGroupToUpdate","getMinOffset","getMinOffsetFromCollectionGroup","updateCollectionGroup","updateIndexEntries","$70fd6868680e912c$var$Er","cacheSizeCollectionThreshold","percentileToCollect","maximumSequenceNumbersToCollect","DEFAULT_COLLECTION_PERCENTILE","DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT","DISABLED","$70fd6868680e912c$var$Dr","bn","$70fd6868680e912c$var$Ur","changes","changesApplied","addEntry","assertNotApplied","removeEntry","newInvalidDocument","getEntry","getFromCache","getAllFromCache","$70fd6868680e912c$var$Jr","$70fd6868680e912c$var$Yr","remoteDocumentCache","mutationQueue","documentOverlayCache","indexManager","getDocument","getOverlay","getBaseDocument","getDocuments","getLocalViewOfDocuments","populateOverlays","computeViews","getOverlayedDocuments","getOverlays","recalculateAndSaveOverlays","getAllMutationBatchesAffectingDocumentKeys","s1","saveOverlays","recalculateAndSaveOverlaysForDocumentKeys","getDocumentsMatchingQuery","getDocumentsMatchingDocumentQuery","getDocumentsMatchingCollectionGroupQuery","getDocumentsMatchingCollectionQuery","getNextDocuments","getAllFromCollectionGroup","getOverlaysForCollectionGroup","getAllFromCollection","getOverlaysForCollection","$70fd6868680e912c$var$Xr","Zn","ts","getBundleMetadata","saveBundleMetadata","createTime","getNamedQuery","saveNamedQuery","bundledQuery","$70fd6868680e912c$var$Zr","overlays","es","ue","removeOverlaysForBatchId","r1","$70fd6868680e912c$var$to","$70fd6868680e912c$var$eo","ss","rs","os","addReference","us","removeReference","cs","hs","ls","fs","ds","_s","$70fd6868680e912c$var$no","referenceDelegate","ws","checkEmpty","addMutationBatch","lookupMutationBatch","ys","getNextMutationBatchAfterBatchId","ps","getHighestUnacknowledgedBatchId","getAllMutationBatches","getAllMutationBatchesAffectingDocumentKey","POSITIVE_INFINITY","Is","getAllMutationBatchesAffectingQuery","removeMutationBatch","Ts","markPotentiallyOrphaned","An","performConsistencyCheck","$70fd6868680e912c$var$so","Es","docs","setIndexManager","i1","As","newChangeBuffer","$70fd6868680e912c$var$io","getSize","Yn","$70fd6868680e912c$var$ro","persistence","Rs","lastRemoteSnapshotVersion","highestTargetId","bs","Ps","targetCount","vs","Pn","getLastRemoteSnapshotVersion","getHighestSequenceNumber","allocateTargetId","setTargetsMetadata","Dn","addTargetData","updateTargetData","removeTargetData","removeTargets","removeMatchingKeysForTargetId","getTargetCount","getTargetData","addMatchingKeys","removeMatchingKeys","getMatchingKeysForTargetId","$70fd6868680e912c$var$oo","Vs","Ss","Ds","Cs","xs","Ns","started","setDatabaseDeletedListener","setNetworkEnabled","getIndexManager","getDocumentOverlayCache","getMutationQueue","getTargetCache","getRemoteDocumentCache","getBundleCache","runTransaction","$70fd6868680e912c$var$uo","ks","Ms","Os","or","currentSequenceNumber","$70fd6868680e912c$var$co","Fs","$s","Ls","fromPath","Us","updateLimboDocument","$70fd6868680e912c$var$go","fromCache","Si","Di","docChanges","$70fd6868680e912c$var$yo","xi","initialize","Ni","ki","Mi","Oi","Fi","$i","Bi","$70fd6868680e912c$var$po","Li","Ui","qi","Ki","Gi","Qi","localDocuments","collectGarbage","collect","$70fd6868680e912c$var$Io","$70fd6868680e912c$var$To","ji","removedBatchIds","addedBatchIds","$70fd6868680e912c$var$Ao","$70fd6868680e912c$var$bo","Wi","zi","$70fd6868680e912c$var$Po","$70fd6868680e912c$var$vo","$70fd6868680e912c$var$Vo","$70fd6868680e912c$var$So","$70fd6868680e912c$var$xo","Hi","$70fd6868680e912c$var$qo","activeTargetIds","er","nr","tr","updateTimeMs","$70fd6868680e912c$var$Go","Lr","Ur","onlineStateHandler","addPendingMutation","updateMutationState","addLocalQueryTarget","updateQueryState","removeLocalQueryTarget","isLocalQueryTarget","clearQueryState","getAllActiveQueryTargets","isActiveQueryTarget","handleUserChange","setOnlineState","notifyBundleLoaded","$70fd6868680e912c$var$Qo","qr","$70fd6868680e912c$var$jo","Kr","Gr","Qr","jr","Wr","zr","$70fd6868680e912c$var$Wo","BatchGetDocuments","Commit","RunQuery","$70fd6868680e912c$var$zo","Hr","Jr","Yr","Xr","Zr","eo","onMessage","no","so","io","ro","$70fd6868680e912c$var$Ho","databaseInfo","oo","uo","co","ao","ho","lo","fo","_o","forwardChannelRequestTimeoutMs","$70fd6868680e912c$var$Yo","$70fd6868680e912c$var$Xo","$70fd6868680e912c$var$Zo","Hs","timerId","wo","mo","yo","po","Io","To","Eo","Ao","Ro","enqueueAfterDelay","bo","skipDelay","$70fd6868680e912c$var$tu","Po","vo","Vo","authCredentialsProvider","appCheckCredentialsProvider","So","Do","Co","xo","No","ko","Mo","Oo","Fo","$o","Bo","Lo","Uo","qo","Ko","Go","Qo","jo","enqueueAndForget","$70fd6868680e912c$var$eu","targetChange","targetChangeType","documentChange","o1","u1","newFoundDocument","documentDelete","s2","i2","r2","o2","u2","documentRemove","s3","i3","r3","s4","i4","r4","$70fd6868680e912c$var$Us","Wo","zo","addTarget","$70fd6868680e912c$var$zs","labels","Ho","$70fd6868680e912c$var$nu","Jo","Yo","lastStreamToken","Xo","streamToken","$70fd6868680e912c$var$Gs","writeResults","commitTime","Zo","tu","eu","writes","$70fd6868680e912c$var$su","authCredentials","appCheckCredentials","nu","su","terminate","$70fd6868680e912c$var$iu","asyncQueue","iu","ru","ou","uu","cu","au","hu","lu","$70fd6868680e912c$var$ru","localStore","datastore","remoteSyncer","fu","du","_u","wu","mu","$70fd6868680e912c$var$_u","$70fd6868680e912c$var$uu","gu","$70fd6868680e912c$var$ou","$70fd6868680e912c$var$cu","$70fd6868680e912c$var$du","$70fd6868680e912c$var$fu","$70fd6868680e912c$var$xu","$70fd6868680e912c$var$hu","$70fd6868680e912c$var$au","$70fd6868680e912c$var$lu","yu","$70fd6868680e912c$var$wu","$70fd6868680e912c$var$mu","$70fd6868680e912c$var$gu","$70fd6868680e912c$var$yu","rejectListen","$70fd6868680e912c$var$pu","applyRemoteEvent","$70fd6868680e912c$var$Iu","$70fd6868680e912c$var$Tu","$70fd6868680e912c$var$Nu","$70fd6868680e912c$var$Eu","$70fd6868680e912c$var$Au","$70fd6868680e912c$var$Ru","$70fd6868680e912c$var$bu","$70fd6868680e912c$var$Pu","$70fd6868680e912c$var$vu","$70fd6868680e912c$var$Vu","applySuccessfulWrite","$70fd6868680e912c$var$Su","rejectFailedWrite","$70fd6868680e912c$var$Du","verifyOperationInProgress","handleCredentialChange","$70fd6868680e912c$var$Cu","pu","Iu","$70fd6868680e912c$var$ku","targetTimeMs","removalCallback","timerHandle","handleDelayElapsed","$70fd6868680e912c$var$Mu","$70fd6868680e912c$var$Ou","keyedMap","sortedSet","$70fd6868680e912c$var$Fu","Tu","Eu","$70fd6868680e912c$var$$u","oldDocs","mutatedKeys","syncStateChanged","excludesMetadataChanges","emptySet","$70fd6868680e912c$var$Bu","Au","$70fd6868680e912c$var$Lu","queries","onlineState","Ru","$70fd6868680e912c$var$Uu","onListen","bu","Pu","$70fd6868680e912c$var$Qu","$70fd6868680e912c$var$qu","onUnlisten","$70fd6868680e912c$var$Ku","$70fd6868680e912c$var$Gu","$70fd6868680e912c$var$ju","vu","Vu","Su","includeMetadataChanges","Du","Cu","xu","Nu","fromInitialDocuments","$70fd6868680e912c$var$Yu","$70fd6868680e912c$var$Xu","$70fd6868680e912c$var$Zu","Lu","Uu","qu","Ku","Gu","Qu","ju","Wu","zu","Hu","Ju","snapshot","Yu","Xu","Zu","tc","$70fd6868680e912c$var$tc","$70fd6868680e912c$var$ec","ec","$70fd6868680e912c$var$nc","remoteStore","eventManager","sharedClientState","maxConcurrentLimboResolutions","nc","sc","ic","rc","oc","uc","cc","ac","hc","lc","vn","fc","isPrimaryClient","$70fd6868680e912c$var$sc","$70fd6868680e912c$var$xc","$70fd6868680e912c$var$ic","dc","$70fd6868680e912c$var$gc","$70fd6868680e912c$var$rc","$70fd6868680e912c$var$wc","$70fd6868680e912c$var$uc","trackRemovals","$70fd6868680e912c$var$Ro","$70fd6868680e912c$var$Ic","$70fd6868680e912c$var$cc","$70fd6868680e912c$var$ac","$70fd6868680e912c$var$pc","$70fd6868680e912c$var$hc","$70fd6868680e912c$var$Eo","$70fd6868680e912c$var$_c","$70fd6868680e912c$var$dc","$70fd6868680e912c$var$lc","_c","$70fd6868680e912c$var$mc","$70fd6868680e912c$var$yc","Ci","$70fd6868680e912c$var$Tc","$70fd6868680e912c$var$Ec","$70fd6868680e912c$var$Nc","$70fd6868680e912c$var$Mc","synchronizeTabs","mc","gc","yc","gcScheduler","Ic","indexBackfillerScheduler","Tc","initialUser","Bs","$70fd6868680e912c$var$$c","createDatastore","createRemoteStore","createEventManager","syncEngine","createSyncEngine","$70fd6868680e912c$var$Lc","muted","Ac","Rc","$70fd6868680e912c$var$Gc","clientId","authCredentialListener","appCheckCredentialListener","setCredentialChangeListener","setAppCheckTokenChangeListener","verifyNotTerminated","isShuttingDown","enterRestrictedMode","enqueueAndForgetEvenWhileRestricted","onlineComponents","offlineComponents","$70fd6868680e912c$var$Qc","getConfiguration","$70fd6868680e912c$var$jc","$70fd6868680e912c$var$Wc","$70fd6868680e912c$var$zc","$70fd6868680e912c$var$Xc","$70fd6868680e912c$var$Zc","$70fd6868680e912c$var$sa","$70fd6868680e912c$var$ha","$70fd6868680e912c$var$la","$70fd6868680e912c$var$da","$70fd6868680e912c$var$wa","$70fd6868680e912c$export$572106fb5803752c","_delegate","$70fd6868680e912c$var$ya","ignoreUndefinedProperties","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","$70fd6868680e912c$export$8731e8d1617cddb1","$70fd6868680e912c$var$pa","_authCredentials","_appCheckCredentials","_databaseId","_app","_persistenceKey","_settings","_settingsFrozen","_initialized","_terminated","_terminateTask","_setSettings","client","sessionIndex","iamToken","authTokenFactory","_getSettings","_freezeSettings","_terminate","settings","$70fd6868680e912c$export$6be62b059fb12175","converter","firestore","_path","$70fd6868680e912c$export$ab5a1a47940a200e","withConverter","$70fd6868680e912c$export$62297b13309008b2","_query","$70fd6868680e912c$export$2a111da947c407d2","$70fd6868680e912c$var$Sa","$c","Bc","Lc","Uc","qc","Kc","Gc","Qc","jc","visibilityState","enqueue","Wc","zc","Hc","createAndSchedule","Jc","Xc","Zc","Yc","ta","$70fd6868680e912c$export$d0e2b3272814ce82","_queue","_firestoreClient","$70fd6868680e912c$var$Fa","$70fd6868680e912c$export$8da5fbea04405656","$70fd6868680e912c$export$a1a8fea822d17659","_internalPath","$70fd6868680e912c$export$9f55f2e2bf8c2fc1","_byteString","$70fd6868680e912c$export$c58bc8ee7ecc248d","_methodName","$70fd6868680e912c$export$f9f719d1b6419c4","isFinite","_lat","_long","$70fd6868680e912c$var$th","$70fd6868680e912c$var$eh","toMutation","$70fd6868680e912c$var$sh","$70fd6868680e912c$var$ih","sa","ra","ua","$70fd6868680e912c$var$Rh","$70fd6868680e912c$var$rh","$70fd6868680e912c$var$oh","$70fd6868680e912c$var$uh","mergeFields","$70fd6868680e912c$var$Ih","$70fd6868680e912c$var$yh","$70fd6868680e912c$var$Th","$70fd6868680e912c$var$bh","$70fd6868680e912c$var$gh","$70fd6868680e912c$var$ph","_toFieldTransform","fromDate","$70fd6868680e912c$var$Ah","$70fd6868680e912c$var$Eh","$70fd6868680e912c$var$Ph","_firestore","_userDataWriter","_converter","$70fd6868680e912c$var$vh","fromFirestore","convertValue","$70fd6868680e912c$var$Vh","$70fd6868680e912c$export$99d61448206ab5cd","$70fd6868680e912c$export$acab0e6ef25eb301","_firestoreImpl","$70fd6868680e912c$export$6d4d04e42af6b03c","serverTimestamps","$70fd6868680e912c$export$2cd31cfe6f6866e9","convertTimestamp","convertServerTimestamp","convertBytes","convertReference","convertGeoPoint","convertArray","convertObject","convertDocumentKey","$70fd6868680e912c$var$sl","toFirestore","$70fd6868680e912c$export$11eb3b5ef9574821","$70fd6868680e912c$var$Tl","$70fd6868680e912c$var$cl","$70fd6868680e912c$export$5ff77ddaff3c9e12","$70fd6868680e912c$export$1945f8fec9dda613","$70fd6868680e912c$var$oc","setMultipleInstances","rawConfig","name1","existingApp","$a83e7ccd68ca8d4e$export$436a80eea5d5c0c5","newApp","initializeApp","authDomain","storageBucket","messagingSenderId","getAnalytics","getFirestore","getDocData","docRef","docSnap","getDoc","setDocData","newDocument","setDoc","getUser","updateUser","Contents","bodyRef","setStep","sessionGroup","setSessionGroup","sessionUid","setSessionUid","handleNext","scrollIntoView","behavior","resetScrollTop","$cd93687958c8007e$var$_StyledDiv","$cd93687958c8007e$var$_StyledHeader","$939bcd180fb038ad$export$a95a8fc087f4c354","$cd93687958c8007e$var$Header","$cd93687958c8007e$var$_StyledDiv2","$5651e96e3dfb70f0$export$8f0fc1b507cae465","locked","$c5b6574cf2a8f4d0$export$861edd1ccea2f746","$b9c352e9d5b3b5a6$export$66bff8dc7e283f36","$cd93687958c8007e$var$_StyledFooter","$cd93687958c8007e$var$Footer","Header","$cd93687958c8007e$var$_StyledDiv3","$cd93687958c8007e$var$_StyledDiv4","$cd93687958c8007e$var$_StyledDiv5","$cd93687958c8007e$var$_StyledSpan","Footer","$cd93687958c8007e$var$_StyledDiv6","rel","$7e96a608cb33bf79$export$882461b6382ed46c","createRoot","hydrateRoot","isDark","$f8dbcd8598db1f0b$export$d8964aec282183a3","$cd93687958c8007e$var$Contents","$cd93687958c8007e$var$GlobalStyle","$cfaecb3e612863cc$export$406fc12e9595abdf"],"version":3,"file":"index.e7cc1a0e.js.map"}